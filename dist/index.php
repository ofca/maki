<?php

/**
 * This is compiled version of Maki script.
 * For proper source code go to http://emve.org/maki
 *
 * Compiled at: Friday 5th of May 2017 01:00:27 AM
 * Created by: Tomasz "ofca" Zeludziewicz <ofca@emve.org>
 */

namespace {
    define('MAKI_SINGLE_FILE', true);
}

// vendor/michelf/php-markdown/Michelf/MarkdownInterface.php


#
# Markdown  -  A text-to-HTML conversion tool for web writers
#
# PHP Markdown
# Copyright (c) 2004-2013 Michel Fortin
# <http://michelf.com/projects/php-markdown/>
#
# Original Markdown
# Copyright (c) 2004-2006 John Gruber
# <http://daringfireball.net/projects/markdown/>
#
namespace Michelf {


#
# Markdown Parser Interface
#

interface MarkdownInterface {

  #
  # Initialize the parser and return the result of its transform method.
  # This will work fine for derived classes too.
  #
  public static function defaultTransform($text);

  #
  # Main function. Performs some preprocessing on the input text
  # and pass it through the document gamut.
  #
  public function transform($text);

}




}




// vendor/michelf/php-markdown/Michelf/Markdown.php


#
# Markdown  -  A text-to-HTML conversion tool for web writers
#
# PHP Markdown  
# Copyright (c) 2004-2013 Michel Fortin  
# <http://michelf.com/projects/php-markdown/>
#
# Original Markdown  
# Copyright (c) 2004-2006 John Gruber  
# <http://daringfireball.net/projects/markdown/>
#
namespace Michelf {


#
# Markdown Parser Class
#

class Markdown implements MarkdownInterface {

	### Version ###

	const  MARKDOWNLIB_VERSION  =  "1.4.0";

	### Simple Function Interface ###

	public static function defaultTransform($text) {
	#
	# Initialize the parser and return the result of its transform method.
	# This will work fine for derived classes too.
	#
		# Take parser class on which this function was called.
		$parser_class = \get_called_class();

		# try to take parser from the static parser list
		static $parser_list;
		$parser =& $parser_list[$parser_class];

		# create the parser it not already set
		if (!$parser)
			$parser = new $parser_class;

		# Transform text using parser.
		return $parser->transform($text);
	}

	### Configuration Variables ###

	# Change to ">" for HTML output.
	public $empty_element_suffix = " />";
	public $tab_width = 4;
	
	# Change to `true` to disallow markup or entities.
	public $no_markup = false;
	public $no_entities = false;
	
	# Predefined urls and titles for reference links and images.
	public $predef_urls = array();
	public $predef_titles = array();


	### Parser Implementation ###

	# Regex to match balanced [brackets].
	# Needed to insert a maximum bracked depth while converting to PHP.
	protected $nested_brackets_depth = 6;
	protected $nested_brackets_re;
	
	protected $nested_url_parenthesis_depth = 4;
	protected $nested_url_parenthesis_re;

	# Table of hash values for escaped characters:
	protected $escape_chars = '\`*_{}[]()>#+-.!';
	protected $escape_chars_re;


	public function __construct() {
	#
	# Constructor function. Initialize appropriate member variables.
	#
		$this->_initDetab();
		$this->prepareItalicsAndBold();
	
		$this->nested_brackets_re = 
			str_repeat('(?>[^\[\]]+|\[', $this->nested_brackets_depth).
			str_repeat('\])*', $this->nested_brackets_depth);
	
		$this->nested_url_parenthesis_re = 
			str_repeat('(?>[^()\s]+|\(', $this->nested_url_parenthesis_depth).
			str_repeat('(?>\)))*', $this->nested_url_parenthesis_depth);
		
		$this->escape_chars_re = '['.preg_quote($this->escape_chars).']';
		
		# Sort document, block, and span gamut in ascendent priority order.
		asort($this->document_gamut);
		asort($this->block_gamut);
		asort($this->span_gamut);
	}


	# Internal hashes used during transformation.
	protected $urls = array();
	protected $titles = array();
	protected $html_hashes = array();
	
	# Status flag to avoid invalid nesting.
	protected $in_anchor = false;
	
	
	protected function setup() {
	#
	# Called before the transformation process starts to setup parser 
	# states.
	#
		# Clear global hashes.
		$this->urls = $this->predef_urls;
		$this->titles = $this->predef_titles;
		$this->html_hashes = array();
		
		$this->in_anchor = false;
	}
	
	protected function teardown() {
	#
	# Called after the transformation process to clear any variable 
	# which may be taking up memory unnecessarly.
	#
		$this->urls = array();
		$this->titles = array();
		$this->html_hashes = array();
	}


	public function transform($text) {
	#
	# Main function. Performs some preprocessing on the input text
	# and pass it through the document gamut.
	#
		$this->setup();
	
		# Remove UTF-8 BOM and marker character in input, if present.
		$text = preg_replace('{^\xEF\xBB\xBF|\x1A}', '', $text);

		# Standardize line endings:
		#   DOS to Unix and Mac to Unix
		$text = preg_replace('{\r\n?}', "\n", $text);

		# Make sure $text ends with a couple of newlines:
		$text .= "\n\n";

		# Convert all tabs to spaces.
		$text = $this->detab($text);

		# Turn block-level HTML blocks into hash entries
		$text = $this->hashHTMLBlocks($text);

		# Strip any lines consisting only of spaces and tabs.
		# This makes subsequent regexen easier to write, because we can
		# match consecutive blank lines with /\n+/ instead of something
		# contorted like /[ ]*\n+/ .
		$text = preg_replace('/^[ ]+$/m', '', $text);

		# Run document gamut methods.
		foreach ($this->document_gamut as $method => $priority) {
			$text = $this->$method($text);
		}
		
		$this->teardown();

		return $text . "\n";
	}
	
	protected $document_gamut = array(
		# Strip link definitions, store in hashes.
		"stripLinkDefinitions" => 20,
		
		"runBasicBlockGamut"   => 30,
		);


	protected function stripLinkDefinitions($text) {
	#
	# Strips link definitions from text, stores the URLs and titles in
	# hash references.
	#
		$less_than_tab = $this->tab_width - 1;

		# Link defs are in the form: ^[id]: url "optional title"
		$text = preg_replace_callback('{
							^[ ]{0,'.$less_than_tab.'}\[(.+)\][ ]?:	# id = $1
							  [ ]*
							  \n?				# maybe *one* newline
							  [ ]*
							(?:
							  <(.+?)>			# url = $2
							|
							  (\S+?)			# url = $3
							)
							  [ ]*
							  \n?				# maybe one newline
							  [ ]*
							(?:
								(?<=\s)			# lookbehind for whitespace
								["(]
								(.*?)			# title = $4
								[")]
								[ ]*
							)?	# title is optional
							(?:\n+|\Z)
			}xm',
			array(&$this, '_stripLinkDefinitions_callback'),
			$text);
		return $text;
	}
	protected function _stripLinkDefinitions_callback($matches) {
		$link_id = strtolower($matches[1]);
		$url = $matches[2] == '' ? $matches[3] : $matches[2];
		$this->urls[$link_id] = $url;
		$this->titles[$link_id] =& $matches[4];
		return ''; # String that will replace the block
	}


	protected function hashHTMLBlocks($text) {
		if ($this->no_markup)  return $text;

		$less_than_tab = $this->tab_width - 1;

		# Hashify HTML blocks:
		# We only want to do this for block-level HTML tags, such as headers,
		# lists, and tables. That's because we still want to wrap <p>s around
		# "paragraphs" that are wrapped in non-block-level tags, such as anchors,
		# phrase emphasis, and spans. The list of tags we're looking for is
		# hard-coded:
		#
		# *  List "a" is made of tags which can be both inline or block-level.
		#    These will be treated block-level when the start tag is alone on 
		#    its line, otherwise they're not matched here and will be taken as 
		#    inline later.
		# *  List "b" is made of tags which are always block-level;
		#
		$block_tags_a_re = 'ins|del';
		$block_tags_b_re = 'p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|address|'.
						   'script|noscript|form|fieldset|iframe|math|svg|'.
						   'article|section|nav|aside|hgroup|header|footer|'.
						   'figure';

		# Regular expression for the content of a block tag.
		$nested_tags_level = 4;
		$attr = '
			(?>				# optional tag attributes
			  \s			# starts with whitespace
			  (?>
				[^>"/]+		# text outside quotes
			  |
				/+(?!>)		# slash not followed by ">"
			  |
				"[^"]*"		# text inside double quotes (tolerate ">")
			  |
				\'[^\']*\'	# text inside single quotes (tolerate ">")
			  )*
			)?	
			';
		$content =
			str_repeat('
				(?>
				  [^<]+			# content without tag
				|
				  <\2			# nested opening tag
					'.$attr.'	# attributes
					(?>
					  />
					|
					  >', $nested_tags_level).	# end of opening tag
					  '.*?'.					# last level nested tag content
			str_repeat('
					  </\2\s*>	# closing nested tag
					)
				  |				
					<(?!/\2\s*>	# other tags with a different name
				  )
				)*',
				$nested_tags_level);
		$content2 = str_replace('\2', '\3', $content);

		# First, look for nested blocks, e.g.:
		# 	<div>
		# 		<div>
		# 		tags for inner block must be indented.
		# 		</div>
		# 	</div>
		#
		# The outermost tags must start at the left margin for this to match, and
		# the inner nested divs must be indented.
		# We need to do this before the next, more liberal match, because the next
		# match will start at the first `<div>` and stop at the first `</div>`.
		$text = preg_replace_callback('{(?>
			(?>
				(?<=\n\n)		# Starting after a blank line
				|				# or
				\A\n?			# the beginning of the doc
			)
			(						# save in $1

			  # Match from `\n<tag>` to `</tag>\n`, handling nested tags 
			  # in between.
					
						[ ]{0,'.$less_than_tab.'}
						<('.$block_tags_b_re.')# start tag = $2
						'.$attr.'>			# attributes followed by > and \n
						'.$content.'		# content, support nesting
						</\2>				# the matching end tag
						[ ]*				# trailing spaces/tabs
						(?=\n+|\Z)	# followed by a newline or end of document

			| # Special version for tags of group a.

						[ ]{0,'.$less_than_tab.'}
						<('.$block_tags_a_re.')# start tag = $3
						'.$attr.'>[ ]*\n	# attributes followed by >
						'.$content2.'		# content, support nesting
						</\3>				# the matching end tag
						[ ]*				# trailing spaces/tabs
						(?=\n+|\Z)	# followed by a newline or end of document
					
			| # Special case just for <hr />. It was easier to make a special 
			  # case than to make the other regex more complicated.
			
						[ ]{0,'.$less_than_tab.'}
						<(hr)				# start tag = $2
						'.$attr.'			# attributes
						/?>					# the matching end tag
						[ ]*
						(?=\n{2,}|\Z)		# followed by a blank line or end of document
			
			| # Special case for standalone HTML comments:
			
					[ ]{0,'.$less_than_tab.'}
					(?s:
						<!-- .*? -->
					)
					[ ]*
					(?=\n{2,}|\Z)		# followed by a blank line or end of document
			
			| # PHP and ASP-style processor instructions (<? and <%)
			
					[ ]{0,'.$less_than_tab.'}
					(?s:
						<([?%])			# $2
						.*?
						\2>
					)
					[ ]*
					(?=\n{2,}|\Z)		# followed by a blank line or end of document
					
			)
			)}Sxmi',
			array(&$this, '_hashHTMLBlocks_callback'),
			$text);

		return $text;
	}
	protected function _hashHTMLBlocks_callback($matches) {
		$text = $matches[1];
		$key  = $this->hashBlock($text);
		return "\n\n$key\n\n";
	}
	
	
	protected function hashPart($text, $boundary = 'X') {
	#
	# Called whenever a tag must be hashed when a function insert an atomic 
	# element in the text stream. Passing $text to through this function gives
	# a unique text-token which will be reverted back when calling unhash.
	#
	# The $boundary argument specify what character should be used to surround
	# the token. By convension, "B" is used for block elements that needs not
	# to be wrapped into paragraph tags at the end, ":" is used for elements
	# that are word separators and "X" is used in the general case.
	#
		# Swap back any tag hash found in $text so we do not have to `unhash`
		# multiple times at the end.
		$text = $this->unhash($text);
		
		# Then hash the block.
		static $i = 0;
		$key = "$boundary\x1A" . ++$i . $boundary;
		$this->html_hashes[$key] = $text;
		return $key; # String that will replace the tag.
	}


	protected function hashBlock($text) {
	#
	# Shortcut function for hashPart with block-level boundaries.
	#
		return $this->hashPart($text, 'B');
	}


	protected $block_gamut = array(
	#
	# These are all the transformations that form block-level
	# tags like paragraphs, headers, and list items.
	#
		"doHeaders"         => 10,
		"doHorizontalRules" => 20,
		
		"doLists"           => 40,
		"doCodeBlocks"      => 50,
		"doBlockQuotes"     => 60,
		);

	protected function runBlockGamut($text) {
	#
	# Run block gamut tranformations.
	#
		# We need to escape raw HTML in Markdown source before doing anything 
		# else. This need to be done for each block, and not only at the 
		# begining in the Markdown function since hashed blocks can be part of
		# list items and could have been indented. Indented blocks would have 
		# been seen as a code block in a previous pass of hashHTMLBlocks.
		$text = $this->hashHTMLBlocks($text);
		
		return $this->runBasicBlockGamut($text);
	}
	
	protected function runBasicBlockGamut($text) {
	#
	# Run block gamut tranformations, without hashing HTML blocks. This is 
	# useful when HTML blocks are known to be already hashed, like in the first
	# whole-document pass.
	#
		foreach ($this->block_gamut as $method => $priority) {
			$text = $this->$method($text);
		}
		
		# Finally form paragraph and restore hashed blocks.
		$text = $this->formParagraphs($text);

		return $text;
	}
	
	
	protected function doHorizontalRules($text) {
		# Do Horizontal Rules:
		return preg_replace(
			'{
				^[ ]{0,3}	# Leading space
				([-*_])		# $1: First marker
				(?>			# Repeated marker group
					[ ]{0,2}	# Zero, one, or two spaces.
					\1			# Marker character
				){2,}		# Group repeated at least twice
				[ ]*		# Tailing spaces
				$			# End of line.
			}mx',
			"\n".$this->hashBlock("<hr$this->empty_element_suffix")."\n", 
			$text);
	}


	protected $span_gamut = array(
	#
	# These are all the transformations that occur *within* block-level
	# tags like paragraphs, headers, and list items.
	#
		# Process character escapes, code spans, and inline HTML
		# in one shot.
		"parseSpan"           => -30,

		# Process anchor and image tags. Images must come first,
		# because ![foo][f] looks like an anchor.
		"doImages"            =>  10,
		"doAnchors"           =>  20,
		
		# Make links out of things like `<http://example.com/>`
		# Must come after doAnchors, because you can use < and >
		# delimiters in inline links like [this](<url>).
		"doAutoLinks"         =>  30,
		"encodeAmpsAndAngles" =>  40,

		"doItalicsAndBold"    =>  50,
		"doHardBreaks"        =>  60,
		);

	protected function runSpanGamut($text) {
	#
	# Run span gamut tranformations.
	#
		foreach ($this->span_gamut as $method => $priority) {
			$text = $this->$method($text);
		}

		return $text;
	}
	
	
	protected function doHardBreaks($text) {
		# Do hard breaks:
		return preg_replace_callback('/ {2,}\n/', 
			array(&$this, '_doHardBreaks_callback'), $text);
	}
	protected function _doHardBreaks_callback($matches) {
		return $this->hashPart("<br$this->empty_element_suffix\n");
	}


	protected function doAnchors($text) {
	#
	# Turn Markdown link shortcuts into XHTML <a> tags.
	#
		if ($this->in_anchor) return $text;
		$this->in_anchor = true;
		
		#
		# First, handle reference-style links: [link text] [id]
		#
		$text = preg_replace_callback('{
			(					# wrap whole match in $1
			  \[
				('.$this->nested_brackets_re.')	# link text = $2
			  \]

			  [ ]?				# one optional space
			  (?:\n[ ]*)?		# one optional newline followed by spaces

			  \[
				(.*?)		# id = $3
			  \]
			)
			}xs',
			array(&$this, '_doAnchors_reference_callback'), $text);

		#
		# Next, inline-style links: [link text](url "optional title")
		#
		$text = preg_replace_callback('{
			(				# wrap whole match in $1
			  \[
				('.$this->nested_brackets_re.')	# link text = $2
			  \]
			  \(			# literal paren
				[ \n]*
				(?:
					<(.+?)>	# href = $3
				|
					('.$this->nested_url_parenthesis_re.')	# href = $4
				)
				[ \n]*
				(			# $5
				  ([\'"])	# quote char = $6
				  (.*?)		# Title = $7
				  \6		# matching quote
				  [ \n]*	# ignore any spaces/tabs between closing quote and )
				)?			# title is optional
			  \)
			)
			}xs',
			array(&$this, '_doAnchors_inline_callback'), $text);

		#
		# Last, handle reference-style shortcuts: [link text]
		# These must come last in case you've also got [link text][1]
		# or [link text](/foo)
		#
		$text = preg_replace_callback('{
			(					# wrap whole match in $1
			  \[
				([^\[\]]+)		# link text = $2; can\'t contain [ or ]
			  \]
			)
			}xs',
			array(&$this, '_doAnchors_reference_callback'), $text);

		$this->in_anchor = false;
		return $text;
	}
	protected function _doAnchors_reference_callback($matches) {
		$whole_match =  $matches[1];
		$link_text   =  $matches[2];
		$link_id     =& $matches[3];

		if ($link_id == "") {
			# for shortcut links like [this][] or [this].
			$link_id = $link_text;
		}
		
		# lower-case and turn embedded newlines into spaces
		$link_id = strtolower($link_id);
		$link_id = preg_replace('{[ ]?\n}', ' ', $link_id);

		if (isset($this->urls[$link_id])) {
			$url = $this->urls[$link_id];
			$url = $this->encodeAttribute($url);
			
			$result = "<a href=\"$url\"";
			if ( isset( $this->titles[$link_id] ) ) {
				$title = $this->titles[$link_id];
				$title = $this->encodeAttribute($title);
				$result .=  " title=\"$title\"";
			}
		
			$link_text = $this->runSpanGamut($link_text);
			$result .= ">$link_text</a>";
			$result = $this->hashPart($result);
		}
		else {
			$result = $whole_match;
		}
		return $result;
	}
	protected function _doAnchors_inline_callback($matches) {
		$whole_match	=  $matches[1];
		$link_text		=  $this->runSpanGamut($matches[2]);
		$url			=  $matches[3] == '' ? $matches[4] : $matches[3];
		$title			=& $matches[7];

		$url = $this->encodeAttribute($url);

		$result = "<a href=\"$url\"";
		if (isset($title)) {
			$title = $this->encodeAttribute($title);
			$result .=  " title=\"$title\"";
		}
		
		$link_text = $this->runSpanGamut($link_text);
		$result .= ">$link_text</a>";

		return $this->hashPart($result);
	}


	protected function doImages($text) {
	#
	# Turn Markdown image shortcuts into <img> tags.
	#
		#
		# First, handle reference-style labeled images: ![alt text][id]
		#
		$text = preg_replace_callback('{
			(				# wrap whole match in $1
			  !\[
				('.$this->nested_brackets_re.')		# alt text = $2
			  \]

			  [ ]?				# one optional space
			  (?:\n[ ]*)?		# one optional newline followed by spaces

			  \[
				(.*?)		# id = $3
			  \]

			)
			}xs', 
			array(&$this, '_doImages_reference_callback'), $text);

		#
		# Next, handle inline images:  ![alt text](url "optional title")
		# Don't forget: encode * and _
		#
		$text = preg_replace_callback('{
			(				# wrap whole match in $1
			  !\[
				('.$this->nested_brackets_re.')		# alt text = $2
			  \]
			  \s?			# One optional whitespace character
			  \(			# literal paren
				[ \n]*
				(?:
					<(\S*)>	# src url = $3
				|
					('.$this->nested_url_parenthesis_re.')	# src url = $4
				)
				[ \n]*
				(			# $5
				  ([\'"])	# quote char = $6
				  (.*?)		# title = $7
				  \6		# matching quote
				  [ \n]*
				)?			# title is optional
			  \)
			)
			}xs',
			array(&$this, '_doImages_inline_callback'), $text);

		return $text;
	}
	protected function _doImages_reference_callback($matches) {
		$whole_match = $matches[1];
		$alt_text    = $matches[2];
		$link_id     = strtolower($matches[3]);

		if ($link_id == "") {
			$link_id = strtolower($alt_text); # for shortcut links like ![this][].
		}

		$alt_text = $this->encodeAttribute($alt_text);
		if (isset($this->urls[$link_id])) {
			$url = $this->encodeAttribute($this->urls[$link_id]);
			$result = "<img src=\"$url\" alt=\"$alt_text\"";
			if (isset($this->titles[$link_id])) {
				$title = $this->titles[$link_id];
				$title = $this->encodeAttribute($title);
				$result .=  " title=\"$title\"";
			}
			$result .= $this->empty_element_suffix;
			$result = $this->hashPart($result);
		}
		else {
			# If there's no such link ID, leave intact:
			$result = $whole_match;
		}

		return $result;
	}
	protected function _doImages_inline_callback($matches) {
		$whole_match	= $matches[1];
		$alt_text		= $matches[2];
		$url			= $matches[3] == '' ? $matches[4] : $matches[3];
		$title			=& $matches[7];

		$alt_text = $this->encodeAttribute($alt_text);
		$url = $this->encodeAttribute($url);
		$result = "<img src=\"$url\" alt=\"$alt_text\"";
		if (isset($title)) {
			$title = $this->encodeAttribute($title);
			$result .=  " title=\"$title\""; # $title already quoted
		}
		$result .= $this->empty_element_suffix;

		return $this->hashPart($result);
	}


	protected function doHeaders($text) {
		# Setext-style headers:
		#	  Header 1
		#	  ========
		#  
		#	  Header 2
		#	  --------
		#
		$text = preg_replace_callback('{ ^(.+?)[ ]*\n(=+|-+)[ ]*\n+ }mx',
			array(&$this, '_doHeaders_callback_setext'), $text);

		# atx-style headers:
		#	# Header 1
		#	## Header 2
		#	## Header 2 with closing hashes ##
		#	...
		#	###### Header 6
		#
		$text = preg_replace_callback('{
				^(\#{1,6})	# $1 = string of #\'s
				[ ]*
				(.+?)		# $2 = Header text
				[ ]*
				\#*			# optional closing #\'s (not counted)
				\n+
			}xm',
			array(&$this, '_doHeaders_callback_atx'), $text);

		return $text;
	}
	protected function _doHeaders_callback_setext($matches) {
		# Terrible hack to check we haven't found an empty list item.
		if ($matches[2] == '-' && preg_match('{^-(?: |$)}', $matches[1]))
			return $matches[0];
		
		$level = $matches[2]{0} == '=' ? 1 : 2;
		$block = "<h$level>".$this->runSpanGamut($matches[1])."</h$level>";
		return "\n" . $this->hashBlock($block) . "\n\n";
	}
	protected function _doHeaders_callback_atx($matches) {
		$level = strlen($matches[1]);
		$block = "<h$level>".$this->runSpanGamut($matches[2])."</h$level>";
		return "\n" . $this->hashBlock($block) . "\n\n";
	}


	protected function doLists($text) {
	#
	# Form HTML ordered (numbered) and unordered (bulleted) lists.
	#
		$less_than_tab = $this->tab_width - 1;

		# Re-usable patterns to match list item bullets and number markers:
		$marker_ul_re  = '[*+-]';
		$marker_ol_re  = '\d+[\.]';
		$marker_any_re = "(?:$marker_ul_re|$marker_ol_re)";

		$markers_relist = array(
			$marker_ul_re => $marker_ol_re,
			$marker_ol_re => $marker_ul_re,
			);

		foreach ($markers_relist as $marker_re => $other_marker_re) {
			# Re-usable pattern to match any entirel ul or ol list:
			$whole_list_re = '
				(								# $1 = whole list
				  (								# $2
					([ ]{0,'.$less_than_tab.'})	# $3 = number of spaces
					('.$marker_re.')			# $4 = first list item marker
					[ ]+
				  )
				  (?s:.+?)
				  (								# $5
					  \z
					|
					  \n{2,}
					  (?=\S)
					  (?!						# Negative lookahead for another list item marker
						[ ]*
						'.$marker_re.'[ ]+
					  )
					|
					  (?=						# Lookahead for another kind of list
					    \n
						\3						# Must have the same indentation
						'.$other_marker_re.'[ ]+
					  )
				  )
				)
			'; // mx
			
			# We use a different prefix before nested lists than top-level lists.
			# See extended comment in _ProcessListItems().
		
			if ($this->list_level) {
				$text = preg_replace_callback('{
						^
						'.$whole_list_re.'
					}mx',
					array(&$this, '_doLists_callback'), $text);
			}
			else {
				$text = preg_replace_callback('{
						(?:(?<=\n)\n|\A\n?) # Must eat the newline
						'.$whole_list_re.'
					}mx',
					array(&$this, '_doLists_callback'), $text);
			}
		}

		return $text;
	}
	protected function _doLists_callback($matches) {
		# Re-usable patterns to match list item bullets and number markers:
		$marker_ul_re  = '[*+-]';
		$marker_ol_re  = '\d+[\.]';
		$marker_any_re = "(?:$marker_ul_re|$marker_ol_re)";
		
		$list = $matches[1];
		$list_type = preg_match("/$marker_ul_re/", $matches[4]) ? "ul" : "ol";
		
		$marker_any_re = ( $list_type == "ul" ? $marker_ul_re : $marker_ol_re );
		
		$list .= "\n";
		$result = $this->processListItems($list, $marker_any_re);
		
		$result = $this->hashBlock("<$list_type>\n" . $result . "</$list_type>");
		return "\n". $result ."\n\n";
	}

	protected $list_level = 0;

	protected function processListItems($list_str, $marker_any_re) {
	#
	#	Process the contents of a single ordered or unordered list, splitting it
	#	into individual list items.
	#
		# The $this->list_level global keeps track of when we're inside a list.
		# Each time we enter a list, we increment it; when we leave a list,
		# we decrement. If it's zero, we're not in a list anymore.
		#
		# We do this because when we're not inside a list, we want to treat
		# something like this:
		#
		#		I recommend upgrading to version
		#		8. Oops, now this line is treated
		#		as a sub-list.
		#
		# As a single paragraph, despite the fact that the second line starts
		# with a digit-period-space sequence.
		#
		# Whereas when we're inside a list (or sub-list), that line will be
		# treated as the start of a sub-list. What a kludge, huh? This is
		# an aspect of Markdown's syntax that's hard to parse perfectly
		# without resorting to mind-reading. Perhaps the solution is to
		# change the syntax rules such that sub-lists must start with a
		# starting cardinal number; e.g. "1." or "a.".
		
		$this->list_level++;

		# trim trailing blank lines:
		$list_str = preg_replace("/\n{2,}\\z/", "\n", $list_str);

		$list_str = preg_replace_callback('{
			(\n)?							# leading line = $1
			(^[ ]*)							# leading whitespace = $2
			('.$marker_any_re.'				# list marker and space = $3
				(?:[ ]+|(?=\n))	# space only required if item is not empty
			)
			((?s:.*?))						# list item text   = $4
			(?:(\n+(?=\n))|\n)				# tailing blank line = $5
			(?= \n* (\z | \2 ('.$marker_any_re.') (?:[ ]+|(?=\n))))
			}xm',
			array(&$this, '_processListItems_callback'), $list_str);

		$this->list_level--;
		return $list_str;
	}
	protected function _processListItems_callback($matches) {
		$item = $matches[4];
		$leading_line =& $matches[1];
		$leading_space =& $matches[2];
		$marker_space = $matches[3];
		$tailing_blank_line =& $matches[5];

		if ($leading_line || $tailing_blank_line || 
			preg_match('/\n{2,}/', $item))
		{
			# Replace marker with the appropriate whitespace indentation
			$item = $leading_space . str_repeat(' ', strlen($marker_space)) . $item;
			$item = $this->runBlockGamut($this->outdent($item)."\n");
		}
		else {
			# Recursion for sub-lists:
			$item = $this->doLists($this->outdent($item));
			$item = preg_replace('/\n+$/', '', $item);
			$item = $this->runSpanGamut($item);
		}

		return "<li>" . $item . "</li>\n";
	}


	protected function doCodeBlocks($text) {
	#
	#	Process Markdown `<pre><code>` blocks.
	#
		$text = preg_replace_callback('{
				(?:\n\n|\A\n?)
				(	            # $1 = the code block -- one or more lines, starting with a space/tab
				  (?>
					[ ]{'.$this->tab_width.'}  # Lines must start with a tab or a tab-width of spaces
					.*\n+
				  )+
				)
				((?=^[ ]{0,'.$this->tab_width.'}\S)|\Z)	# Lookahead for non-space at line-start, or end of doc
			}xm',
			array(&$this, '_doCodeBlocks_callback'), $text);

		return $text;
	}
	protected function _doCodeBlocks_callback($matches) {
		$codeblock = $matches[1];

		$codeblock = $this->outdent($codeblock);
		$codeblock = htmlspecialchars($codeblock, ENT_NOQUOTES);

		# trim leading newlines and trailing newlines
		$codeblock = preg_replace('/\A\n+|\n+\z/', '', $codeblock);

		$codeblock = "<pre><code>$codeblock\n</code></pre>";
		return "\n\n".$this->hashBlock($codeblock)."\n\n";
	}


	protected function makeCodeSpan($code) {
	#
	# Create a code span markup for $code. Called from handleSpanToken.
	#
		$code = htmlspecialchars(trim($code), ENT_NOQUOTES);
		return $this->hashPart("<code>$code</code>");
	}


	protected $em_relist = array(
		''  => '(?:(?<!\*)\*(?!\*)|(?<!_)_(?!_))(?=\S|$)(?![\.,:;]\s)',
		'*' => '(?<=\S|^)(?<!\*)\*(?!\*)',
		'_' => '(?<=\S|^)(?<!_)_(?!_)',
		);
	protected $strong_relist = array(
		''   => '(?:(?<!\*)\*\*(?!\*)|(?<!_)__(?!_))(?=\S|$)(?![\.,:;]\s)',
		'**' => '(?<=\S|^)(?<!\*)\*\*(?!\*)',
		'__' => '(?<=\S|^)(?<!_)__(?!_)',
		);
	protected $em_strong_relist = array(
		''    => '(?:(?<!\*)\*\*\*(?!\*)|(?<!_)___(?!_))(?=\S|$)(?![\.,:;]\s)',
		'***' => '(?<=\S|^)(?<!\*)\*\*\*(?!\*)',
		'___' => '(?<=\S|^)(?<!_)___(?!_)',
		);
	protected $em_strong_prepared_relist;
	
	protected function prepareItalicsAndBold() {
	#
	# Prepare regular expressions for searching emphasis tokens in any
	# context.
	#
		foreach ($this->em_relist as $em => $em_re) {
			foreach ($this->strong_relist as $strong => $strong_re) {
				# Construct list of allowed token expressions.
				$token_relist = array();
				if (isset($this->em_strong_relist["$em$strong"])) {
					$token_relist[] = $this->em_strong_relist["$em$strong"];
				}
				$token_relist[] = $em_re;
				$token_relist[] = $strong_re;
				
				# Construct master expression from list.
				$token_re = '{('. implode('|', $token_relist) .')}';
				$this->em_strong_prepared_relist["$em$strong"] = $token_re;
			}
		}
	}
	
	protected function doItalicsAndBold($text) {
		$token_stack = array('');
		$text_stack = array('');
		$em = '';
		$strong = '';
		$tree_char_em = false;
		
		while (1) {
			#
			# Get prepared regular expression for seraching emphasis tokens
			# in current context.
			#
			$token_re = $this->em_strong_prepared_relist["$em$strong"];
			
			#
			# Each loop iteration search for the next emphasis token. 
			# Each token is then passed to handleSpanToken.
			#
			$parts = preg_split($token_re, $text, 2, PREG_SPLIT_DELIM_CAPTURE);
			$text_stack[0] .= $parts[0];
			$token =& $parts[1];
			$text =& $parts[2];
			
			if (empty($token)) {
				# Reached end of text span: empty stack without emitting.
				# any more emphasis.
				while ($token_stack[0]) {
					$text_stack[1] .= array_shift($token_stack);
					$text_stack[0] .= array_shift($text_stack);
				}
				break;
			}
			
			$token_len = strlen($token);
			if ($tree_char_em) {
				# Reached closing marker while inside a three-char emphasis.
				if ($token_len == 3) {
					# Three-char closing marker, close em and strong.
					array_shift($token_stack);
					$span = array_shift($text_stack);
					$span = $this->runSpanGamut($span);
					$span = "<strong><em>$span</em></strong>";
					$text_stack[0] .= $this->hashPart($span);
					$em = '';
					$strong = '';
				} else {
					# Other closing marker: close one em or strong and
					# change current token state to match the other
					$token_stack[0] = str_repeat($token{0}, 3-$token_len);
					$tag = $token_len == 2 ? "strong" : "em";
					$span = $text_stack[0];
					$span = $this->runSpanGamut($span);
					$span = "<$tag>$span</$tag>";
					$text_stack[0] = $this->hashPart($span);
					$$tag = ''; # $$tag stands for $em or $strong
				}
				$tree_char_em = false;
			} else if ($token_len == 3) {
				if ($em) {
					# Reached closing marker for both em and strong.
					# Closing strong marker:
					for ($i = 0; $i < 2; ++$i) {
						$shifted_token = array_shift($token_stack);
						$tag = strlen($shifted_token) == 2 ? "strong" : "em";
						$span = array_shift($text_stack);
						$span = $this->runSpanGamut($span);
						$span = "<$tag>$span</$tag>";
						$text_stack[0] .= $this->hashPart($span);
						$$tag = ''; # $$tag stands for $em or $strong
					}
				} else {
					# Reached opening three-char emphasis marker. Push on token 
					# stack; will be handled by the special condition above.
					$em = $token{0};
					$strong = "$em$em";
					array_unshift($token_stack, $token);
					array_unshift($text_stack, '');
					$tree_char_em = true;
				}
			} else if ($token_len == 2) {
				if ($strong) {
					# Unwind any dangling emphasis marker:
					if (strlen($token_stack[0]) == 1) {
						$text_stack[1] .= array_shift($token_stack);
						$text_stack[0] .= array_shift($text_stack);
					}
					# Closing strong marker:
					array_shift($token_stack);
					$span = array_shift($text_stack);
					$span = $this->runSpanGamut($span);
					$span = "<strong>$span</strong>";
					$text_stack[0] .= $this->hashPart($span);
					$strong = '';
				} else {
					array_unshift($token_stack, $token);
					array_unshift($text_stack, '');
					$strong = $token;
				}
			} else {
				# Here $token_len == 1
				if ($em) {
					if (strlen($token_stack[0]) == 1) {
						# Closing emphasis marker:
						array_shift($token_stack);
						$span = array_shift($text_stack);
						$span = $this->runSpanGamut($span);
						$span = "<em>$span</em>";
						$text_stack[0] .= $this->hashPart($span);
						$em = '';
					} else {
						$text_stack[0] .= $token;
					}
				} else {
					array_unshift($token_stack, $token);
					array_unshift($text_stack, '');
					$em = $token;
				}
			}
		}
		return $text_stack[0];
	}


	protected function doBlockQuotes($text) {
		$text = preg_replace_callback('/
			  (								# Wrap whole match in $1
				(?>
				  ^[ ]*>[ ]?			# ">" at the start of a line
					.+\n					# rest of the first line
				  (.+\n)*					# subsequent consecutive lines
				  \n*						# blanks
				)+
			  )
			/xm',
			array(&$this, '_doBlockQuotes_callback'), $text);

		return $text;
	}
	protected function _doBlockQuotes_callback($matches) {
		$bq = $matches[1];
		# trim one level of quoting - trim whitespace-only lines
		$bq = preg_replace('/^[ ]*>[ ]?|^[ ]+$/m', '', $bq);
		$bq = $this->runBlockGamut($bq);		# recurse

		$bq = preg_replace('/^/m', "  ", $bq);
		# These leading spaces cause problem with <pre> content, 
		# so we need to fix that:
		$bq = preg_replace_callback('{(\s*<pre>.+?</pre>)}sx', 
			array(&$this, '_doBlockQuotes_callback2'), $bq);

		return "\n". $this->hashBlock("<blockquote>\n$bq\n</blockquote>")."\n\n";
	}
	protected function _doBlockQuotes_callback2($matches) {
		$pre = $matches[1];
		$pre = preg_replace('/^  /m', '', $pre);
		return $pre;
	}


	protected function formParagraphs($text) {
	#
	#	Params:
	#		$text - string to process with html <p> tags
	#
		# Strip leading and trailing lines:
		$text = preg_replace('/\A\n+|\n+\z/', '', $text);

		$grafs = preg_split('/\n{2,}/', $text, -1, PREG_SPLIT_NO_EMPTY);

		#
		# Wrap <p> tags and unhashify HTML blocks
		#
		foreach ($grafs as $key => $value) {
			if (!preg_match('/^B\x1A[0-9]+B$/', $value)) {
				# Is a paragraph.
				$value = $this->runSpanGamut($value);
				$value = preg_replace('/^([ ]*)/', "<p>", $value);
				$value .= "</p>";
				$grafs[$key] = $this->unhash($value);
			}
			else {
				# Is a block.
				# Modify elements of @grafs in-place...
				$graf = $value;
				$block = $this->html_hashes[$graf];
				$graf = $block;
//				if (preg_match('{
//					\A
//					(							# $1 = <div> tag
//					  <div  \s+
//					  [^>]*
//					  \b
//					  markdown\s*=\s*  ([\'"])	#	$2 = attr quote char
//					  1
//					  \2
//					  [^>]*
//					  >
//					)
//					(							# $3 = contents
//					.*
//					)
//					(</div>)					# $4 = closing tag
//					\z
//					}xs', $block, $matches))
//				{
//					list(, $div_open, , $div_content, $div_close) = $matches;
//
//					# We can't call Markdown(), because that resets the hash;
//					# that initialization code should be pulled into its own sub, though.
//					$div_content = $this->hashHTMLBlocks($div_content);
//					
//					# Run document gamut methods on the content.
//					foreach ($this->document_gamut as $method => $priority) {
//						$div_content = $this->$method($div_content);
//					}
//
//					$div_open = preg_replace(
//						'{\smarkdown\s*=\s*([\'"]).+?\1}', '', $div_open);
//
//					$graf = $div_open . "\n" . $div_content . "\n" . $div_close;
//				}
				$grafs[$key] = $graf;
			}
		}

		return implode("\n\n", $grafs);
	}


	protected function encodeAttribute($text) {
	#
	# Encode text for a double-quoted HTML attribute. This function
	# is *not* suitable for attributes enclosed in single quotes.
	#
		$text = $this->encodeAmpsAndAngles($text);
		$text = str_replace('"', '&quot;', $text);
		return $text;
	}
	
	
	protected function encodeAmpsAndAngles($text) {
	#
	# Smart processing for ampersands and angle brackets that need to 
	# be encoded. Valid character entities are left alone unless the
	# no-entities mode is set.
	#
		if ($this->no_entities) {
			$text = str_replace('&', '&amp;', $text);
		} else {
			# Ampersand-encoding based entirely on Nat Irons's Amputator
			# MT plugin: <http://bumppo.net/projects/amputator/>
			$text = preg_replace('/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/', 
								'&amp;', $text);
		}
		# Encode remaining <'s
		$text = str_replace('<', '&lt;', $text);

		return $text;
	}


	protected function doAutoLinks($text) {
		$text = preg_replace_callback('{<((https?|ftp|dict):[^\'">\s]+)>}i', 
			array(&$this, '_doAutoLinks_url_callback'), $text);

		# Email addresses: <address@domain.foo>
		$text = preg_replace_callback('{
			<
			(?:mailto:)?
			(
				(?:
					[-!#$%&\'*+/=?^_`.{|}~\w\x80-\xFF]+
				|
					".*?"
				)
				\@
				(?:
					[-a-z0-9\x80-\xFF]+(\.[-a-z0-9\x80-\xFF]+)*\.[a-z]+
				|
					\[[\d.a-fA-F:]+\]	# IPv4 & IPv6
				)
			)
			>
			}xi',
			array(&$this, '_doAutoLinks_email_callback'), $text);
		$text = preg_replace_callback('{<(tel:([^\'">\s]+))>}i',array(&$this, '_doAutoLinks_tel_callback'), $text);

		return $text;
	}
	protected function _doAutoLinks_tel_callback($matches) {
		$url = $this->encodeAttribute($matches[1]);
		$tel = $this->encodeAttribute($matches[2]);
		$link = "<a href=\"$url\">$tel</a>";
		return $this->hashPart($link);
	}
	protected function _doAutoLinks_url_callback($matches) {
		$url = $this->encodeAttribute($matches[1]);
		$link = "<a href=\"$url\">$url</a>";
		return $this->hashPart($link);
	}
	protected function _doAutoLinks_email_callback($matches) {
		$address = $matches[1];
		$link = $this->encodeEmailAddress($address);
		return $this->hashPart($link);
	}


	protected function encodeEmailAddress($addr) {
	#
	#	Input: an email address, e.g. "foo@example.com"
	#
	#	Output: the email address as a mailto link, with each character
	#		of the address encoded as either a decimal or hex entity, in
	#		the hopes of foiling most address harvesting spam bots. E.g.:
	#
	#	  <p><a href="&#109;&#x61;&#105;&#x6c;&#116;&#x6f;&#58;&#x66;o&#111;
	#        &#x40;&#101;&#x78;&#97;&#x6d;&#112;&#x6c;&#101;&#46;&#x63;&#111;
	#        &#x6d;">&#x66;o&#111;&#x40;&#101;&#x78;&#97;&#x6d;&#112;&#x6c;
	#        &#101;&#46;&#x63;&#111;&#x6d;</a></p>
	#
	#	Based by a filter by Matthew Wickline, posted to BBEdit-Talk.
	#   With some optimizations by Milian Wolff.
	#
		$addr = "mailto:" . $addr;
		$chars = preg_split('/(?<!^)(?!$)/', $addr);
		$seed = (int)abs(crc32($addr) / strlen($addr)); # Deterministic seed.
		
		foreach ($chars as $key => $char) {
			$ord = ord($char);
			# Ignore non-ascii chars.
			if ($ord < 128) {
				$r = ($seed * (1 + $key)) % 100; # Pseudo-random function.
				# roughly 10% raw, 45% hex, 45% dec
				# '@' *must* be encoded. I insist.
				if ($r > 90 && $char != '@') /* do nothing */;
				else if ($r < 45) $chars[$key] = '&#x'.dechex($ord).';';
				else              $chars[$key] = '&#'.$ord.';';
			}
		}
		
		$addr = implode('', $chars);
		$text = implode('', array_slice($chars, 7)); # text without `mailto:`
		$addr = "<a href=\"$addr\">$text</a>";

		return $addr;
	}


	protected function parseSpan($str) {
	#
	# Take the string $str and parse it into tokens, hashing embeded HTML,
	# escaped characters and handling code spans.
	#
		$output = '';
		
		$span_re = '{
				(
					\\\\'.$this->escape_chars_re.'
				|
					(?<![`\\\\])
					`+						# code span marker
			'.( $this->no_markup ? '' : '
				|
					<!--    .*?     -->		# comment
				|
					<\?.*?\?> | <%.*?%>		# processing instruction
				|
					<[!$]?[-a-zA-Z0-9:_]+	# regular tags
					(?>
						\s
						(?>[^"\'>]+|"[^"]*"|\'[^\']*\')*
					)?
					>
				|
					<[-a-zA-Z0-9:_]+\s*/> # xml-style empty tag
				|
					</[-a-zA-Z0-9:_]+\s*> # closing tag
			').'
				)
				}xs';

		while (1) {
			#
			# Each loop iteration seach for either the next tag, the next 
			# openning code span marker, or the next escaped character. 
			# Each token is then passed to handleSpanToken.
			#
			$parts = preg_split($span_re, $str, 2, PREG_SPLIT_DELIM_CAPTURE);
			
			# Create token from text preceding tag.
			if ($parts[0] != "") {
				$output .= $parts[0];
			}
			
			# Check if we reach the end.
			if (isset($parts[1])) {
				$output .= $this->handleSpanToken($parts[1], $parts[2]);
				$str = $parts[2];
			}
			else {
				break;
			}
		}
		
		return $output;
	}
	
	
	protected function handleSpanToken($token, &$str) {
	#
	# Handle $token provided by parseSpan by determining its nature and 
	# returning the corresponding value that should replace it.
	#
		switch ($token{0}) {
			case "\\":
				return $this->hashPart("&#". ord($token{1}). ";");
			case "`":
				# Search for end marker in remaining text.
				if (preg_match('/^(.*?[^`])'.preg_quote($token).'(?!`)(.*)$/sm', 
					$str, $matches))
				{
					$str = $matches[2];
					$codespan = $this->makeCodeSpan($matches[1]);
					return $this->hashPart($codespan);
				}
				return $token; // return as text since no ending marker found.
			default:
				return $this->hashPart($token);
		}
	}


	protected function outdent($text) {
	#
	# Remove one level of line-leading tabs or spaces
	#
		return preg_replace('/^(\t|[ ]{1,'.$this->tab_width.'})/m', '', $text);
	}


	# String length function for detab. `_initDetab` will create a function to 
	# hanlde UTF-8 if the default function does not exist.
	protected $utf8_strlen = 'mb_strlen';
	
	protected function detab($text) {
	#
	# Replace tabs with the appropriate amount of space.
	#
		# For each line we separate the line in blocks delemited by
		# tab characters. Then we reconstruct every line by adding the 
		# appropriate number of space between each blocks.
		
		$text = preg_replace_callback('/^.*\t.*$/m',
			array(&$this, '_detab_callback'), $text);

		return $text;
	}
	protected function _detab_callback($matches) {
		$line = $matches[0];
		$strlen = $this->utf8_strlen; # strlen function for UTF-8.
		
		# Split in blocks.
		$blocks = explode("\t", $line);
		# Add each blocks to the line.
		$line = $blocks[0];
		unset($blocks[0]); # Do not add first block twice.
		foreach ($blocks as $block) {
			# Calculate amount of space, insert spaces, insert block.
			$amount = $this->tab_width - 
				$strlen($line, 'UTF-8') % $this->tab_width;
			$line .= str_repeat(" ", $amount) . $block;
		}
		return $line;
	}
	protected function _initDetab() {
	#
	# Check for the availability of the function in the `utf8_strlen` property
	# (initially `mb_strlen`). If the function is not available, create a 
	# function that will loosely count the number of UTF-8 characters with a
	# regular expression.
	#
		if (function_exists($this->utf8_strlen)) return;
		$this->utf8_strlen = create_function('$text', 'return preg_match_all(
			"/[\\\\x00-\\\\xBF]|[\\\\xC0-\\\\xFF][\\\\x80-\\\\xBF]*/", 
			$text, $m);');
	}


	protected function unhash($text) {
	#
	# Swap back in all the tags hashed by _HashHTMLBlocks.
	#
		return preg_replace_callback('/(.)\x1A[0-9]+\1/', 
			array(&$this, '_unhash_callback'), $text);
	}
	protected function _unhash_callback($matches) {
		return $this->html_hashes[$matches[0]];
	}

}


#
# Temporary Markdown Extra Parser Implementation Class
#
# NOTE: DON'T USE THIS CLASS
# Currently the implementation of of Extra resides here in this temporary class.
# This makes it easier to propagate the changes between the three different
# packaging styles of PHP Markdown. When this issue is resolved, this
# MarkdownExtra_TmpImpl class here will disappear and \Michelf\MarkdownExtra
# will contain the code. So please use \Michelf\MarkdownExtra and ignore this
# one.
#

abstract class _MarkdownExtra_TmpImpl extends \Michelf\Markdown {

	### Configuration Variables ###

	# Prefix for footnote ids.
	public $fn_id_prefix = "";
	
	# Optional title attribute for footnote links and backlinks.
	public $fn_link_title = "";
	public $fn_backlink_title = "";
	
	# Optional class attribute for footnote links and backlinks.
	public $fn_link_class = "footnote-ref";
	public $fn_backlink_class = "footnote-backref";

	# Class name for table cell alignment (%% replaced left/center/right)
	# For instance: 'go-%%' becomes 'go-left' or 'go-right' or 'go-center'
	# If empty, the align attribute is used instead of a class name.
	public $table_align_class_tmpl = '';

	# Optional class prefix for fenced code block.
	public $code_class_prefix = "";
	# Class attribute for code blocks goes on the `code` tag;
	# setting this to true will put attributes on the `pre` tag instead.
	public $code_attr_on_pre = false;
	
	# Predefined abbreviations.
	public $predef_abbr = array();


	### Parser Implementation ###

	public function __construct() {
	#
	# Constructor function. Initialize the parser object.
	#
		# Add extra escapable characters before parent constructor 
		# initialize the table.
		$this->escape_chars .= ':|';
		
		# Insert extra document, block, and span transformations. 
		# Parent constructor will do the sorting.
		$this->document_gamut += array(
			"doFencedCodeBlocks" => 5,
			"stripFootnotes"     => 15,
			"stripAbbreviations" => 25,
			"appendFootnotes"    => 50,
			);
		$this->block_gamut += array(
			"doFencedCodeBlocks" => 5,
			"doTables"           => 15,
			"doDefLists"         => 45,
			);
		$this->span_gamut += array(
			"doFootnotes"        => 5,
			"doAbbreviations"    => 70,
			);
		
		parent::__construct();
	}
	
	
	# Extra variables used during extra transformations.
	protected $footnotes = array();
	protected $footnotes_ordered = array();
	protected $footnotes_ref_count = array();
	protected $footnotes_numbers = array();
	protected $abbr_desciptions = array();
	protected $abbr_word_re = '';
	
	# Give the current footnote number.
	protected $footnote_counter = 1;
	
	
	protected function setup() {
	#
	# Setting up Extra-specific variables.
	#
		parent::setup();
		
		$this->footnotes = array();
		$this->footnotes_ordered = array();
		$this->footnotes_ref_count = array();
		$this->footnotes_numbers = array();
		$this->abbr_desciptions = array();
		$this->abbr_word_re = '';
		$this->footnote_counter = 1;
		
		foreach ($this->predef_abbr as $abbr_word => $abbr_desc) {
			if ($this->abbr_word_re)
				$this->abbr_word_re .= '|';
			$this->abbr_word_re .= preg_quote($abbr_word);
			$this->abbr_desciptions[$abbr_word] = trim($abbr_desc);
		}
	}
	
	protected function teardown() {
	#
	# Clearing Extra-specific variables.
	#
		$this->footnotes = array();
		$this->footnotes_ordered = array();
		$this->footnotes_ref_count = array();
		$this->footnotes_numbers = array();
		$this->abbr_desciptions = array();
		$this->abbr_word_re = '';
		
		parent::teardown();
	}
	
	
	### Extra Attribute Parser ###

	# Expression to use to catch attributes (includes the braces)
	protected $id_class_attr_catch_re = '\{((?:[ ]*[#.][-_:a-zA-Z0-9]+){1,})[ ]*\}';
	# Expression to use when parsing in a context when no capture is desired
	protected $id_class_attr_nocatch_re = '\{(?:[ ]*[#.][-_:a-zA-Z0-9]+){1,}[ ]*\}';

	protected function doExtraAttributes($tag_name, $attr) {
	#
	# Parse attributes caught by the $this->id_class_attr_catch_re expression
	# and return the HTML-formatted list of attributes.
	#
	# Currently supported attributes are .class and #id.
	#
		if (empty($attr)) return "";
		
		# Split on components
		preg_match_all('/[#.][-_:a-zA-Z0-9]+/', $attr, $matches);
		$elements = $matches[0];

		# handle classes and ids (only first id taken into account)
		$classes = array();
		$id = false;
		foreach ($elements as $element) {
			if ($element{0} == '.') {
				$classes[] = substr($element, 1);
			} else if ($element{0} == '#') {
				if ($id === false) $id = substr($element, 1);
			}
		}

		# compose attributes as string
		$attr_str = "";
		if (!empty($id)) {
			$attr_str .= ' id="'.$id.'"';
		}
		if (!empty($classes)) {
			$attr_str .= ' class="'.implode(" ", $classes).'"';
		}
		return $attr_str;
	}


	protected function stripLinkDefinitions($text) {
	#
	# Strips link definitions from text, stores the URLs and titles in
	# hash references.
	#
		$less_than_tab = $this->tab_width - 1;

		# Link defs are in the form: ^[id]: url "optional title"
		$text = preg_replace_callback('{
							^[ ]{0,'.$less_than_tab.'}\[(.+)\][ ]?:	# id = $1
							  [ ]*
							  \n?				# maybe *one* newline
							  [ ]*
							(?:
							  <(.+?)>			# url = $2
							|
							  (\S+?)			# url = $3
							)
							  [ ]*
							  \n?				# maybe one newline
							  [ ]*
							(?:
								(?<=\s)			# lookbehind for whitespace
								["(]
								(.*?)			# title = $4
								[")]
								[ ]*
							)?	# title is optional
					(?:[ ]* '.$this->id_class_attr_catch_re.' )?  # $5 = extra id & class attr
							(?:\n+|\Z)
			}xm',
			array(&$this, '_stripLinkDefinitions_callback'),
			$text);
		return $text;
	}
	protected function _stripLinkDefinitions_callback($matches) {
		$link_id = strtolower($matches[1]);
		$url = $matches[2] == '' ? $matches[3] : $matches[2];
		$this->urls[$link_id] = $url;
		$this->titles[$link_id] =& $matches[4];
		$this->ref_attr[$link_id] = $this->doExtraAttributes("", $dummy =& $matches[5]);
		return ''; # String that will replace the block
	}


	### HTML Block Parser ###
	
	# Tags that are always treated as block tags:
	protected $block_tags_re = 'p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|address|form|fieldset|iframe|hr|legend|article|section|nav|aside|hgroup|header|footer|figcaption';
						   
	# Tags treated as block tags only if the opening tag is alone on its line:
	protected $context_block_tags_re = 'script|noscript|ins|del|iframe|object|source|track|param|math|svg|canvas|audio|video';
	
	# Tags where markdown="1" default to span mode:
	protected $contain_span_tags_re = 'p|h[1-6]|li|dd|dt|td|th|legend|address';
	
	# Tags which must not have their contents modified, no matter where 
	# they appear:
	protected $clean_tags_re = 'script|math|svg';
	
	# Tags that do not need to be closed.
	protected $auto_close_tags_re = 'hr|img|param|source|track';
	

	protected function hashHTMLBlocks($text) {
	#
	# Hashify HTML Blocks and "clean tags".
	#
	# We only want to do this for block-level HTML tags, such as headers,
	# lists, and tables. That's because we still want to wrap <p>s around
	# "paragraphs" that are wrapped in non-block-level tags, such as anchors,
	# phrase emphasis, and spans. The list of tags we're looking for is
	# hard-coded.
	#
	# This works by calling _HashHTMLBlocks_InMarkdown, which then calls
	# _HashHTMLBlocks_InHTML when it encounter block tags. When the markdown="1" 
	# attribute is found within a tag, _HashHTMLBlocks_InHTML calls back
	#  _HashHTMLBlocks_InMarkdown to handle the Markdown syntax within the tag.
	# These two functions are calling each other. It's recursive!
	#
		if ($this->no_markup)  return $text;

		#
		# Call the HTML-in-Markdown hasher.
		#
		list($text, ) = $this->_hashHTMLBlocks_inMarkdown($text);
		
		return $text;
	}
	protected function _hashHTMLBlocks_inMarkdown($text, $indent = 0,
										$enclosing_tag_re = '', $span = false)
	{
	#
	# Parse markdown text, calling _HashHTMLBlocks_InHTML for block tags.
	#
	# *   $indent is the number of space to be ignored when checking for code 
	#     blocks. This is important because if we don't take the indent into 
	#     account, something like this (which looks right) won't work as expected:
	#
	#     <div>
	#         <div markdown="1">
	#         Hello World.  <-- Is this a Markdown code block or text?
	#         </div>  <-- Is this a Markdown code block or a real tag?
	#     <div>
	#
	#     If you don't like this, just don't indent the tag on which
	#     you apply the markdown="1" attribute.
	#
	# *   If $enclosing_tag_re is not empty, stops at the first unmatched closing 
	#     tag with that name. Nested tags supported.
	#
	# *   If $span is true, text inside must treated as span. So any double 
	#     newline will be replaced by a single newline so that it does not create 
	#     paragraphs.
	#
	# Returns an array of that form: ( processed text , remaining text )
	#
		if ($text === '') return array('', '');

		# Regex to check for the presense of newlines around a block tag.
		$newline_before_re = '/(?:^\n?|\n\n)*$/';
		$newline_after_re = 
			'{
				^						# Start of text following the tag.
				(?>[ ]*<!--.*?-->)?		# Optional comment.
				[ ]*\n					# Must be followed by newline.
			}xs';
		
		# Regex to match any tag.
		$block_tag_re =
			'{
				(					# $2: Capture whole tag.
					</?					# Any opening or closing tag.
						(?>				# Tag name.
							'.$this->block_tags_re.'			|
							'.$this->context_block_tags_re.'	|
							'.$this->clean_tags_re.'        	|
							(?!\s)'.$enclosing_tag_re.'
						)
						(?:
							(?=[\s"\'/a-zA-Z0-9])	# Allowed characters after tag name.
							(?>
								".*?"		|	# Double quotes (can contain `>`)
								\'.*?\'   	|	# Single quotes (can contain `>`)
								.+?				# Anything but quotes and `>`.
							)*?
						)?
					>					# End of tag.
				|
					<!--    .*?     -->	# HTML Comment
				|
					<\?.*?\?> | <%.*?%>	# Processing instruction
				|
					<!\[CDATA\[.*?\]\]>	# CData Block
				'. ( !$span ? ' # If not in span.
				|
					# Indented code block
					(?: ^[ ]*\n | ^ | \n[ ]*\n )
					[ ]{'.($indent+4).'}[^\n]* \n
					(?>
						(?: [ ]{'.($indent+4).'}[^\n]* | [ ]* ) \n
					)*
				|
					# Fenced code block marker
					(?<= ^ | \n )
					[ ]{0,'.($indent+3).'}(?:~{3,}|`{3,})
									[ ]*
					(?:
					\.?[-_:a-zA-Z0-9]+ # standalone class name
					|
						'.$this->id_class_attr_nocatch_re.' # extra attributes
					)?
					[ ]*
					(?= \n )
				' : '' ). ' # End (if not is span).
				|
					# Code span marker
					# Note, this regex needs to go after backtick fenced
					# code blocks but it should also be kept outside of the
					# "if not in span" condition adding backticks to the parser
					`+
				)
			}xs';

		
		$depth = 0;		# Current depth inside the tag tree.
		$parsed = "";	# Parsed text that will be returned.

		#
		# Loop through every tag until we find the closing tag of the parent
		# or loop until reaching the end of text if no parent tag specified.
		#
		do {
			#
			# Split the text using the first $tag_match pattern found.
			# Text before  pattern will be first in the array, text after
			# pattern will be at the end, and between will be any catches made 
			# by the pattern.
			#
			$parts = preg_split($block_tag_re, $text, 2, 
								PREG_SPLIT_DELIM_CAPTURE);
			
			# If in Markdown span mode, add a empty-string span-level hash 
			# after each newline to prevent triggering any block element.
			if ($span) {
				$void = $this->hashPart("", ':');
				$newline = "$void\n";
				$parts[0] = $void . str_replace("\n", $newline, $parts[0]) . $void;
			}
			
			$parsed .= $parts[0]; # Text before current tag.
			
			# If end of $text has been reached. Stop loop.
			if (count($parts) < 3) {
				$text = "";
				break;
			}
			
			$tag  = $parts[1]; # Tag to handle.
			$text = $parts[2]; # Remaining text after current tag.
			$tag_re = preg_quote($tag); # For use in a regular expression.
			
			#
			# Check for: Fenced code block marker.
			# Note: need to recheck the whole tag to disambiguate backtick
			# fences from code spans
			#
			if (preg_match('{^\n?([ ]{0,'.($indent+3).'})(~{3,}|`{3,})[ ]*(?:\.?[-_:a-zA-Z0-9]+|'.$this->id_class_attr_nocatch_re.')?[ ]*\n?$}', $tag, $capture)) {
				# Fenced code block marker: find matching end marker.
				$fence_indent = strlen($capture[1]); # use captured indent in re
				$fence_re = $capture[2]; # use captured fence in re
				if (preg_match('{^(?>.*\n)*?[ ]{'.($fence_indent).'}'.$fence_re.'[ ]*(?:\n|$)}', $text,
					$matches)) 
				{
					# End marker found: pass text unchanged until marker.
					$parsed .= $tag . $matches[0];
					$text = substr($text, strlen($matches[0]));
				}
				else {
					# No end marker: just skip it.
					$parsed .= $tag;
				}
			}
			#
			# Check for: Indented code block.
			#
			else if ($tag{0} == "\n" || $tag{0} == " ") {
				# Indented code block: pass it unchanged, will be handled 
				# later.
				$parsed .= $tag;
			}
			#
			# Check for: Code span marker
			# Note: need to check this after backtick fenced code blocks
			#
			else if ($tag{0} == "`") {
				# Find corresponding end marker.
				$tag_re = preg_quote($tag);
				if (preg_match('{^(?>.+?|\n(?!\n))*?(?<!`)'.$tag_re.'(?!`)}',
					$text, $matches))
				{
					# End marker found: pass text unchanged until marker.
					$parsed .= $tag . $matches[0];
					$text = substr($text, strlen($matches[0]));
				}
				else {
					# Unmatched marker: just skip it.
					$parsed .= $tag;
				}
			}
			#
			# Check for: Opening Block level tag or
			#            Opening Context Block tag (like ins and del) 
			#               used as a block tag (tag is alone on it's line).
			#
			else if (preg_match('{^<(?:'.$this->block_tags_re.')\b}', $tag) ||
				(	preg_match('{^<(?:'.$this->context_block_tags_re.')\b}', $tag) &&
					preg_match($newline_before_re, $parsed) &&
					preg_match($newline_after_re, $text)	)
				)
			{
				# Need to parse tag and following text using the HTML parser.
				list($block_text, $text) = 
					$this->_hashHTMLBlocks_inHTML($tag . $text, "hashBlock", true);
				
				# Make sure it stays outside of any paragraph by adding newlines.
				$parsed .= "\n\n$block_text\n\n";
			}
			#
			# Check for: Clean tag (like script, math)
			#            HTML Comments, processing instructions.
			#
			else if (preg_match('{^<(?:'.$this->clean_tags_re.')\b}', $tag) ||
				$tag{1} == '!' || $tag{1} == '?')
			{
				# Need to parse tag and following text using the HTML parser.
				# (don't check for markdown attribute)
				list($block_text, $text) = 
					$this->_hashHTMLBlocks_inHTML($tag . $text, "hashClean", false);
				
				$parsed .= $block_text;
			}
			#
			# Check for: Tag with same name as enclosing tag.
			#
			else if ($enclosing_tag_re !== '' &&
				# Same name as enclosing tag.
				preg_match('{^</?(?:'.$enclosing_tag_re.')\b}', $tag))
			{
				#
				# Increase/decrease nested tag count.
				#
				if ($tag{1} == '/')						$depth--;
				else if ($tag{strlen($tag)-2} != '/')	$depth++;

				if ($depth < 0) {
					#
					# Going out of parent element. Clean up and break so we
					# return to the calling function.
					#
					$text = $tag . $text;
					break;
				}
				
				$parsed .= $tag;
			}
			else {
				$parsed .= $tag;
			}
		} while ($depth >= 0);
		
		return array($parsed, $text);
	}
	protected function _hashHTMLBlocks_inHTML($text, $hash_method, $md_attr) {
	#
	# Parse HTML, calling _HashHTMLBlocks_InMarkdown for block tags.
	#
	# *   Calls $hash_method to convert any blocks.
	# *   Stops when the first opening tag closes.
	# *   $md_attr indicate if the use of the `markdown="1"` attribute is allowed.
	#     (it is not inside clean tags)
	#
	# Returns an array of that form: ( processed text , remaining text )
	#
		if ($text === '') return array('', '');
		
		# Regex to match `markdown` attribute inside of a tag.
		$markdown_attr_re = '
			{
				\s*			# Eat whitespace before the `markdown` attribute
				markdown
				\s*=\s*
				(?>
					(["\'])		# $1: quote delimiter		
					(.*?)		# $2: attribute value
					\1			# matching delimiter	
				|
					([^\s>]*)	# $3: unquoted attribute value
				)
				()				# $4: make $3 always defined (avoid warnings)
			}xs';
		
		# Regex to match any tag.
		$tag_re = '{
				(					# $2: Capture whole tag.
					</?					# Any opening or closing tag.
						[\w:$]+			# Tag name.
						(?:
							(?=[\s"\'/a-zA-Z0-9])	# Allowed characters after tag name.
							(?>
								".*?"		|	# Double quotes (can contain `>`)
								\'.*?\'   	|	# Single quotes (can contain `>`)
								.+?				# Anything but quotes and `>`.
							)*?
						)?
					>					# End of tag.
				|
					<!--    .*?     -->	# HTML Comment
				|
					<\?.*?\?> | <%.*?%>	# Processing instruction
				|
					<!\[CDATA\[.*?\]\]>	# CData Block
				)
			}xs';
		
		$original_text = $text;		# Save original text in case of faliure.
		
		$depth		= 0;	# Current depth inside the tag tree.
		$block_text	= "";	# Temporary text holder for current text.
		$parsed		= "";	# Parsed text that will be returned.

		#
		# Get the name of the starting tag.
		# (This pattern makes $base_tag_name_re safe without quoting.)
		#
		if (preg_match('/^<([\w:$]*)\b/', $text, $matches))
			$base_tag_name_re = $matches[1];

		#
		# Loop through every tag until we find the corresponding closing tag.
		#
		do {
			#
			# Split the text using the first $tag_match pattern found.
			# Text before  pattern will be first in the array, text after
			# pattern will be at the end, and between will be any catches made 
			# by the pattern.
			#
			$parts = preg_split($tag_re, $text, 2, PREG_SPLIT_DELIM_CAPTURE);
			
			if (count($parts) < 3) {
				#
				# End of $text reached with unbalenced tag(s).
				# In that case, we return original text unchanged and pass the
				# first character as filtered to prevent an infinite loop in the 
				# parent function.
				#
				return array($original_text{0}, substr($original_text, 1));
			}
			
			$block_text .= $parts[0]; # Text before current tag.
			$tag         = $parts[1]; # Tag to handle.
			$text        = $parts[2]; # Remaining text after current tag.
			
			#
			# Check for: Auto-close tag (like <hr/>)
			#			 Comments and Processing Instructions.
			#
			if (preg_match('{^</?(?:'.$this->auto_close_tags_re.')\b}', $tag) ||
				$tag{1} == '!' || $tag{1} == '?')
			{
				# Just add the tag to the block as if it was text.
				$block_text .= $tag;
			}
			else {
				#
				# Increase/decrease nested tag count. Only do so if
				# the tag's name match base tag's.
				#
				if (preg_match('{^</?'.$base_tag_name_re.'\b}', $tag)) {
					if ($tag{1} == '/')						$depth--;
					else if ($tag{strlen($tag)-2} != '/')	$depth++;
				}
				
				#
				# Check for `markdown="1"` attribute and handle it.
				#
				if ($md_attr && 
					preg_match($markdown_attr_re, $tag, $attr_m) &&
					preg_match('/^1|block|span$/', $attr_m[2] . $attr_m[3]))
				{
					# Remove `markdown` attribute from opening tag.
					$tag = preg_replace($markdown_attr_re, '', $tag);
					
					# Check if text inside this tag must be parsed in span mode.
					$this->mode = $attr_m[2] . $attr_m[3];
					$span_mode = $this->mode == 'span' || $this->mode != 'block' &&
						preg_match('{^<(?:'.$this->contain_span_tags_re.')\b}', $tag);
					
					# Calculate indent before tag.
					if (preg_match('/(?:^|\n)( *?)(?! ).*?$/', $block_text, $matches)) {
						$strlen = $this->utf8_strlen;
						$indent = $strlen($matches[1], 'UTF-8');
					} else {
						$indent = 0;
					}
					
					# End preceding block with this tag.
					$block_text .= $tag;
					$parsed .= $this->$hash_method($block_text);
					
					# Get enclosing tag name for the ParseMarkdown function.
					# (This pattern makes $tag_name_re safe without quoting.)
					preg_match('/^<([\w:$]*)\b/', $tag, $matches);
					$tag_name_re = $matches[1];
					
					# Parse the content using the HTML-in-Markdown parser.
					list ($block_text, $text)
						= $this->_hashHTMLBlocks_inMarkdown($text, $indent, 
							$tag_name_re, $span_mode);
					
					# Outdent markdown text.
					if ($indent > 0) {
						$block_text = preg_replace("/^[ ]{1,$indent}/m", "", 
													$block_text);
					}
					
					# Append tag content to parsed text.
					if (!$span_mode)	$parsed .= "\n\n$block_text\n\n";
					else				$parsed .= "$block_text";
					
					# Start over with a new block.
					$block_text = "";
				}
				else $block_text .= $tag;
			}
			
		} while ($depth > 0);
		
		#
		# Hash last block text that wasn't processed inside the loop.
		#
		$parsed .= $this->$hash_method($block_text);
		
		return array($parsed, $text);
	}


	protected function hashClean($text) {
	#
	# Called whenever a tag must be hashed when a function inserts a "clean" tag
	# in $text, it passes through this function and is automaticaly escaped, 
	# blocking invalid nested overlap.
	#
		return $this->hashPart($text, 'C');
	}


	protected function doAnchors($text) {
	#
	# Turn Markdown link shortcuts into XHTML <a> tags.
	#
		if ($this->in_anchor) return $text;
		$this->in_anchor = true;
		
		#
		# First, handle reference-style links: [link text] [id]
		#
		$text = preg_replace_callback('{
			(					# wrap whole match in $1
			  \[
				('.$this->nested_brackets_re.')	# link text = $2
			  \]

			  [ ]?				# one optional space
			  (?:\n[ ]*)?		# one optional newline followed by spaces

			  \[
				(.*?)		# id = $3
			  \]
			)
			}xs',
			array(&$this, '_doAnchors_reference_callback'), $text);

		#
		# Next, inline-style links: [link text](url "optional title")
		#
		$text = preg_replace_callback('{
			(				# wrap whole match in $1
			  \[
				('.$this->nested_brackets_re.')	# link text = $2
			  \]
			  \(			# literal paren
				[ \n]*
				(?:
					<(.+?)>	# href = $3
				|
					('.$this->nested_url_parenthesis_re.')	# href = $4
				)
				[ \n]*
				(			# $5
				  ([\'"])	# quote char = $6
				  (.*?)		# Title = $7
				  \6		# matching quote
				  [ \n]*	# ignore any spaces/tabs between closing quote and )
				)?			# title is optional
			  \)
			  (?:[ ]? '.$this->id_class_attr_catch_re.' )?	 # $8 = id/class attributes
			)
			}xs',
			array(&$this, '_doAnchors_inline_callback'), $text);

		#
		# Last, handle reference-style shortcuts: [link text]
		# These must come last in case you've also got [link text][1]
		# or [link text](/foo)
		#
		$text = preg_replace_callback('{
			(					# wrap whole match in $1
			  \[
				([^\[\]]+)		# link text = $2; can\'t contain [ or ]
			  \]
			)
			}xs',
			array(&$this, '_doAnchors_reference_callback'), $text);

		$this->in_anchor = false;
		return $text;
	}
	protected function _doAnchors_reference_callback($matches) {
		$whole_match =  $matches[1];
		$link_text   =  $matches[2];
		$link_id     =& $matches[3];

		if ($link_id == "") {
			# for shortcut links like [this][] or [this].
			$link_id = $link_text;
		}
		
		# lower-case and turn embedded newlines into spaces
		$link_id = strtolower($link_id);
		$link_id = preg_replace('{[ ]?\n}', ' ', $link_id);

		if (isset($this->urls[$link_id])) {
			$url = $this->urls[$link_id];
			$url = $this->encodeAttribute($url);
			
			$result = "<a href=\"$url\"";
			if ( isset( $this->titles[$link_id] ) ) {
				$title = $this->titles[$link_id];
				$title = $this->encodeAttribute($title);
				$result .=  " title=\"$title\"";
			}
			if (isset($this->ref_attr[$link_id]))
				$result .= $this->ref_attr[$link_id];
		
			$link_text = $this->runSpanGamut($link_text);
			$result .= ">$link_text</a>";
			$result = $this->hashPart($result);
		}
		else {
			$result = $whole_match;
		}
		return $result;
	}
	protected function _doAnchors_inline_callback($matches) {
		$whole_match	=  $matches[1];
		$link_text		=  $this->runSpanGamut($matches[2]);
		$url			=  $matches[3] == '' ? $matches[4] : $matches[3];
		$title			=& $matches[7];
		$attr  = $this->doExtraAttributes("a", $dummy =& $matches[8]);


		$url = $this->encodeAttribute($url);

		$result = "<a href=\"$url\"";
		if (isset($title)) {
			$title = $this->encodeAttribute($title);
			$result .=  " title=\"$title\"";
		}
		$result .= $attr;
		
		$link_text = $this->runSpanGamut($link_text);
		$result .= ">$link_text</a>";

		return $this->hashPart($result);
	}


	protected function doImages($text) {
	#
	# Turn Markdown image shortcuts into <img> tags.
	#
		#
		# First, handle reference-style labeled images: ![alt text][id]
		#
		$text = preg_replace_callback('{
			(				# wrap whole match in $1
			  !\[
				('.$this->nested_brackets_re.')		# alt text = $2
			  \]

			  [ ]?				# one optional space
			  (?:\n[ ]*)?		# one optional newline followed by spaces

			  \[
				(.*?)		# id = $3
			  \]

			)
			}xs', 
			array(&$this, '_doImages_reference_callback'), $text);

		#
		# Next, handle inline images:  ![alt text](url "optional title")
		# Don't forget: encode * and _
		#
		$text = preg_replace_callback('{
			(				# wrap whole match in $1
			  !\[
				('.$this->nested_brackets_re.')		# alt text = $2
			  \]
			  \s?			# One optional whitespace character
			  \(			# literal paren
				[ \n]*
				(?:
					<(\S*)>	# src url = $3
				|
					('.$this->nested_url_parenthesis_re.')	# src url = $4
				)
				[ \n]*
				(			# $5
				  ([\'"])	# quote char = $6
				  (.*?)		# title = $7
				  \6		# matching quote
				  [ \n]*
				)?			# title is optional
			  \)
			  (?:[ ]? '.$this->id_class_attr_catch_re.' )?	 # $8 = id/class attributes
			)
			}xs',
			array(&$this, '_doImages_inline_callback'), $text);

		return $text;
	}
	protected function _doImages_reference_callback($matches) {
		$whole_match = $matches[1];
		$alt_text    = $matches[2];
		$link_id     = strtolower($matches[3]);

		if ($link_id == "") {
			$link_id = strtolower($alt_text); # for shortcut links like ![this][].
		}

		$alt_text = $this->encodeAttribute($alt_text);
		if (isset($this->urls[$link_id])) {
			$url = $this->encodeAttribute($this->urls[$link_id]);
			$result = "<img src=\"$url\" alt=\"$alt_text\"";
			if (isset($this->titles[$link_id])) {
				$title = $this->titles[$link_id];
				$title = $this->encodeAttribute($title);
				$result .=  " title=\"$title\"";
			}
			if (isset($this->ref_attr[$link_id]))
				$result .= $this->ref_attr[$link_id];
			$result .= $this->empty_element_suffix;
			$result = $this->hashPart($result);
		}
		else {
			# If there's no such link ID, leave intact:
			$result = $whole_match;
		}

		return $result;
	}
	protected function _doImages_inline_callback($matches) {
		$whole_match	= $matches[1];
		$alt_text		= $matches[2];
		$url			= $matches[3] == '' ? $matches[4] : $matches[3];
		$title			=& $matches[7];
		$attr  = $this->doExtraAttributes("img", $dummy =& $matches[8]);

		$alt_text = $this->encodeAttribute($alt_text);
		$url = $this->encodeAttribute($url);
		$result = "<img src=\"$url\" alt=\"$alt_text\"";
		if (isset($title)) {
			$title = $this->encodeAttribute($title);
			$result .=  " title=\"$title\""; # $title already quoted
		}
		$result .= $attr;
		$result .= $this->empty_element_suffix;

		return $this->hashPart($result);
	}


	protected function doHeaders($text) {
	#
	# Redefined to add id and class attribute support.
	#
		# Setext-style headers:
		#	  Header 1  {#header1}
		#	  ========
		#  
		#	  Header 2  {#header2 .class1 .class2}
		#	  --------
		#
		$text = preg_replace_callback(
			'{
				(^.+?)								# $1: Header text
				(?:[ ]+ '.$this->id_class_attr_catch_re.' )?	 # $3 = id/class attributes
				[ ]*\n(=+|-+)[ ]*\n+				# $3: Header footer
			}mx',
			array(&$this, '_doHeaders_callback_setext'), $text);

		# atx-style headers:
		#	# Header 1        {#header1}
		#	## Header 2       {#header2}
		#	## Header 2 with closing hashes ##  {#header3.class1.class2}
		#	...
		#	###### Header 6   {.class2}
		#
		$text = preg_replace_callback('{
				^(\#{1,6})	# $1 = string of #\'s
				[ ]*
				(.+?)		# $2 = Header text
				[ ]*
				\#*			# optional closing #\'s (not counted)
				(?:[ ]+ '.$this->id_class_attr_catch_re.' )?	 # $3 = id/class attributes
				[ ]*
				\n+
			}xm',
			array(&$this, '_doHeaders_callback_atx'), $text);

		return $text;
	}
	protected function _doHeaders_callback_setext($matches) {
		if ($matches[3] == '-' && preg_match('{^- }', $matches[1]))
			return $matches[0];
		$level = $matches[3]{0} == '=' ? 1 : 2;
		$attr  = $this->doExtraAttributes("h$level", $dummy =& $matches[2]);
		$block = "<h$level$attr>".$this->runSpanGamut($matches[1])."</h$level>";
		return "\n" . $this->hashBlock($block) . "\n\n";
	}
	protected function _doHeaders_callback_atx($matches) {
		$level = strlen($matches[1]);
		$attr  = $this->doExtraAttributes("h$level", $dummy =& $matches[3]);
		$block = "<h$level$attr>".$this->runSpanGamut($matches[2])."</h$level>";
		return "\n" . $this->hashBlock($block) . "\n\n";
	}


	protected function doTables($text) {
	#
	# Form HTML tables.
	#
		$less_than_tab = $this->tab_width - 1;
		#
		# Find tables with leading pipe.
		#
		#	| Header 1 | Header 2
		#	| -------- | --------
		#	| Cell 1   | Cell 2
		#	| Cell 3   | Cell 4
		#
		$text = preg_replace_callback('
			{
				^							# Start of a line
				[ ]{0,'.$less_than_tab.'}	# Allowed whitespace.
				[|]							# Optional leading pipe (present)
				(.+) \n						# $1: Header row (at least one pipe)
				
				[ ]{0,'.$less_than_tab.'}	# Allowed whitespace.
				[|] ([ ]*[-:]+[-| :]*) \n	# $2: Header underline
				
				(							# $3: Cells
					(?>
						[ ]*				# Allowed whitespace.
						[|] .* \n			# Row content.
					)*
				)
				(?=\n|\Z)					# Stop at final double newline.
			}xm',
			array(&$this, '_doTable_leadingPipe_callback'), $text);
		
		#
		# Find tables without leading pipe.
		#
		#	Header 1 | Header 2
		#	-------- | --------
		#	Cell 1   | Cell 2
		#	Cell 3   | Cell 4
		#
		$text = preg_replace_callback('
			{
				^							# Start of a line
				[ ]{0,'.$less_than_tab.'}	# Allowed whitespace.
				(\S.*[|].*) \n				# $1: Header row (at least one pipe)
				
				[ ]{0,'.$less_than_tab.'}	# Allowed whitespace.
				([-:]+[ ]*[|][-| :]*) \n	# $2: Header underline
				
				(							# $3: Cells
					(?>
						.* [|] .* \n		# Row content
					)*
				)
				(?=\n|\Z)					# Stop at final double newline.
			}xm',
			array(&$this, '_DoTable_callback'), $text);

		return $text;
	}
	protected function _doTable_leadingPipe_callback($matches) {
		$head		= $matches[1];
		$underline	= $matches[2];
		$content	= $matches[3];
		
		# Remove leading pipe for each row.
		$content	= preg_replace('/^ *[|]/m', '', $content);
		
		return $this->_doTable_callback(array($matches[0], $head, $underline, $content));
	}
	protected function _doTable_makeAlignAttr($alignname)
	{
		if (empty($this->table_align_class_tmpl))
			return " align=\"$alignname\"";

		$classname = str_replace('%%', $alignname, $this->table_align_class_tmpl);
		return " class=\"$classname\"";
	}
	protected function _doTable_callback($matches) {
		$head		= $matches[1];
		$underline	= $matches[2];
		$content	= $matches[3];

		# Remove any tailing pipes for each line.
		$head		= preg_replace('/[|] *$/m', '', $head);
		$underline	= preg_replace('/[|] *$/m', '', $underline);
		$content	= preg_replace('/[|] *$/m', '', $content);
		
		# Reading alignement from header underline.
		$separators	= preg_split('/ *[|] */', $underline);
		foreach ($separators as $n => $s) {
			if (preg_match('/^ *-+: *$/', $s))
				$attr[$n] = $this->_doTable_makeAlignAttr('right');
			else if (preg_match('/^ *:-+: *$/', $s))
				$attr[$n] = $this->_doTable_makeAlignAttr('center');
			else if (preg_match('/^ *:-+ *$/', $s))
				$attr[$n] = $this->_doTable_makeAlignAttr('left');
			else
				$attr[$n] = '';
		}
		
		# Parsing span elements, including code spans, character escapes, 
		# and inline HTML tags, so that pipes inside those gets ignored.
		$head		= $this->parseSpan($head);
		$headers	= preg_split('/ *[|] */', $head);
		$col_count	= count($headers);
		$attr       = array_pad($attr, $col_count, '');
		
		# Write column headers.
		$text = "<table>\n";
		$text .= "<thead>\n";
		$text .= "<tr>\n";
		foreach ($headers as $n => $header)
			$text .= "  <th$attr[$n]>".$this->runSpanGamut(trim($header))."</th>\n";
		$text .= "</tr>\n";
		$text .= "</thead>\n";
		
		# Split content by row.
		$rows = explode("\n", trim($content, "\n"));
		
		$text .= "<tbody>\n";
		foreach ($rows as $row) {
			# Parsing span elements, including code spans, character escapes, 
			# and inline HTML tags, so that pipes inside those gets ignored.
			$row = $this->parseSpan($row);
			
			# Split row by cell.
			$row_cells = preg_split('/ *[|] */', $row, $col_count);
			$row_cells = array_pad($row_cells, $col_count, '');
			
			$text .= "<tr>\n";
			foreach ($row_cells as $n => $cell)
				$text .= "  <td$attr[$n]>".$this->runSpanGamut(trim($cell))."</td>\n";
			$text .= "</tr>\n";
		}
		$text .= "</tbody>\n";
		$text .= "</table>";
		
		return $this->hashBlock($text) . "\n";
	}

	
	protected function doDefLists($text) {
	#
	# Form HTML definition lists.
	#
		$less_than_tab = $this->tab_width - 1;

		# Re-usable pattern to match any entire dl list:
		$whole_list_re = '(?>
			(								# $1 = whole list
			  (								# $2
				[ ]{0,'.$less_than_tab.'}
				((?>.*\S.*\n)+)				# $3 = defined term
				\n?
				[ ]{0,'.$less_than_tab.'}:[ ]+ # colon starting definition
			  )
			  (?s:.+?)
			  (								# $4
				  \z
				|
				  \n{2,}
				  (?=\S)
				  (?!						# Negative lookahead for another term
					[ ]{0,'.$less_than_tab.'}
					(?: \S.*\n )+?			# defined term
					\n?
					[ ]{0,'.$less_than_tab.'}:[ ]+ # colon starting definition
				  )
				  (?!						# Negative lookahead for another definition
					[ ]{0,'.$less_than_tab.'}:[ ]+ # colon starting definition
				  )
			  )
			)
		)'; // mx

		$text = preg_replace_callback('{
				(?>\A\n?|(?<=\n\n))
				'.$whole_list_re.'
			}mx',
			array(&$this, '_doDefLists_callback'), $text);

		return $text;
	}
	protected function _doDefLists_callback($matches) {
		# Re-usable patterns to match list item bullets and number markers:
		$list = $matches[1];
		
		# Turn double returns into triple returns, so that we can make a
		# paragraph for the last item in a list, if necessary:
		$result = trim($this->processDefListItems($list));
		$result = "<dl>\n" . $result . "\n</dl>";
		return $this->hashBlock($result) . "\n\n";
	}


	protected function processDefListItems($list_str) {
	#
	#	Process the contents of a single definition list, splitting it
	#	into individual term and definition list items.
	#
		$less_than_tab = $this->tab_width - 1;
		
		# trim trailing blank lines:
		$list_str = preg_replace("/\n{2,}\\z/", "\n", $list_str);

		# Process definition terms.
		$list_str = preg_replace_callback('{
			(?>\A\n?|\n\n+)					# leading line
			(								# definition terms = $1
				[ ]{0,'.$less_than_tab.'}	# leading whitespace
				(?!\:[ ]|[ ])				# negative lookahead for a definition
											#   mark (colon) or more whitespace.
				(?> \S.* \n)+?				# actual term (not whitespace).	
			)			
			(?=\n?[ ]{0,3}:[ ])				# lookahead for following line feed 
											#   with a definition mark.
			}xm',
			array(&$this, '_processDefListItems_callback_dt'), $list_str);

		# Process actual definitions.
		$list_str = preg_replace_callback('{
			\n(\n+)?						# leading line = $1
			(								# marker space = $2
				[ ]{0,'.$less_than_tab.'}	# whitespace before colon
				\:[ ]+						# definition mark (colon)
			)
			((?s:.+?))						# definition text = $3
			(?= \n+ 						# stop at next definition mark,
				(?:							# next term or end of text
					[ ]{0,'.$less_than_tab.'} \:[ ]	|
					<dt> | \z
				)						
			)					
			}xm',
			array(&$this, '_processDefListItems_callback_dd'), $list_str);

		return $list_str;
	}
	protected function _processDefListItems_callback_dt($matches) {
		$terms = explode("\n", trim($matches[1]));
		$text = '';
		foreach ($terms as $term) {
			$term = $this->runSpanGamut(trim($term));
			$text .= "\n<dt>" . $term . "</dt>";
		}
		return $text . "\n";
	}
	protected function _processDefListItems_callback_dd($matches) {
		$leading_line	= $matches[1];
		$marker_space	= $matches[2];
		$def			= $matches[3];

		if ($leading_line || preg_match('/\n{2,}/', $def)) {
			# Replace marker with the appropriate whitespace indentation
			$def = str_repeat(' ', strlen($marker_space)) . $def;
			$def = $this->runBlockGamut($this->outdent($def . "\n\n"));
			$def = "\n". $def ."\n";
		}
		else {
			$def = rtrim($def);
			$def = $this->runSpanGamut($this->outdent($def));
		}

		return "\n<dd>" . $def . "</dd>\n";
	}


	protected function doFencedCodeBlocks($text) {
	#
	# Adding the fenced code block syntax to regular Markdown:
	#
	# ~~~
	# Code block
	# ~~~
	#
		$less_than_tab = $this->tab_width;
		
		$text = preg_replace_callback('{
				(?:\n|\A)
				# 1: Opening marker
				(
					(?:~{3,}|`{3,}) # 3 or more tildes/backticks.
				)
				[ ]*
				(?:
					\.?([-_:a-zA-Z0-9]+) # 2: standalone class name
				|
					'.$this->id_class_attr_catch_re.' # 3: Extra attributes
				)?
				[ ]* \n # Whitespace and newline following marker.
				
				# 4: Content
				(
					(?>
						(?!\1 [ ]* \n)	# Not a closing marker.
						.*\n+
					)+
				)
				
				# Closing marker.
				\1 [ ]* (?= \n )
			}xm',
			array(&$this, '_doFencedCodeBlocks_callback'), $text);

		return $text;
	}
	protected function _doFencedCodeBlocks_callback($matches) {
		$classname =& $matches[2];
		$attrs     =& $matches[3];
		$codeblock = $matches[4];
		$codeblock = htmlspecialchars($codeblock, ENT_NOQUOTES);
		$codeblock = preg_replace_callback('/^\n+/',
			array(&$this, '_doFencedCodeBlocks_newlines'), $codeblock);

		if ($classname != "") {
			if ($classname{0} == '.')
				$classname = substr($classname, 1);
			$attr_str = ' class="'.$this->code_class_prefix.$classname.'"';
		} else {
			$attr_str = $this->doExtraAttributes($this->code_attr_on_pre ? "pre" : "code", $attrs);
		}
		$pre_attr_str  = $this->code_attr_on_pre ? $attr_str : '';
		$code_attr_str = $this->code_attr_on_pre ? '' : $attr_str;
		$codeblock  = "<pre$pre_attr_str><code$code_attr_str>$codeblock</code></pre>";
		
		return "\n\n".$this->hashBlock($codeblock)."\n\n";
	}
	protected function _doFencedCodeBlocks_newlines($matches) {
		return str_repeat("<br$this->empty_element_suffix", 
			strlen($matches[0]));
	}


	#
	# Redefining emphasis markers so that emphasis by underscore does not
	# work in the middle of a word.
	#
	protected $em_relist = array(
		''  => '(?:(?<!\*)\*(?!\*)|(?<![a-zA-Z0-9_])_(?!_))(?=\S|$)(?![\.,:;]\s)',
		'*' => '(?<=\S|^)(?<!\*)\*(?!\*)',
		'_' => '(?<=\S|^)(?<!_)_(?![a-zA-Z0-9_])',
		);
	protected $strong_relist = array(
		''   => '(?:(?<!\*)\*\*(?!\*)|(?<![a-zA-Z0-9_])__(?!_))(?=\S|$)(?![\.,:;]\s)',
		'**' => '(?<=\S|^)(?<!\*)\*\*(?!\*)',
		'__' => '(?<=\S|^)(?<!_)__(?![a-zA-Z0-9_])',
		);
	protected $em_strong_relist = array(
		''    => '(?:(?<!\*)\*\*\*(?!\*)|(?<![a-zA-Z0-9_])___(?!_))(?=\S|$)(?![\.,:;]\s)',
		'***' => '(?<=\S|^)(?<!\*)\*\*\*(?!\*)',
		'___' => '(?<=\S|^)(?<!_)___(?![a-zA-Z0-9_])',
		);


	protected function formParagraphs($text) {
	#
	#	Params:
	#		$text - string to process with html <p> tags
	#
		# Strip leading and trailing lines:
		$text = preg_replace('/\A\n+|\n+\z/', '', $text);
		
		$grafs = preg_split('/\n{2,}/', $text, -1, PREG_SPLIT_NO_EMPTY);

		#
		# Wrap <p> tags and unhashify HTML blocks
		#
		foreach ($grafs as $key => $value) {
			$value = trim($this->runSpanGamut($value));
			
			# Check if this should be enclosed in a paragraph.
			# Clean tag hashes & block tag hashes are left alone.
			$is_p = !preg_match('/^B\x1A[0-9]+B|^C\x1A[0-9]+C$/', $value);
			
			if ($is_p) {
				$value = "<p>$value</p>";
			}
			$grafs[$key] = $value;
		}
		
		# Join grafs in one text, then unhash HTML tags. 
		$text = implode("\n\n", $grafs);
		
		# Finish by removing any tag hashes still present in $text.
		$text = $this->unhash($text);
		
		return $text;
	}
	
	
	### Footnotes
	
	protected function stripFootnotes($text) {
	#
	# Strips link definitions from text, stores the URLs and titles in
	# hash references.
	#
		$less_than_tab = $this->tab_width - 1;

		# Link defs are in the form: [^id]: url "optional title"
		$text = preg_replace_callback('{
			^[ ]{0,'.$less_than_tab.'}\[\^(.+?)\][ ]?:	# note_id = $1
			  [ ]*
			  \n?					# maybe *one* newline
			(						# text = $2 (no blank lines allowed)
				(?:					
					.+				# actual text
				|
					\n				# newlines but 
					(?!\[\^.+?\]:\s)# negative lookahead for footnote marker.
					(?!\n+[ ]{0,3}\S)# ensure line is not blank and followed 
									# by non-indented content
				)*
			)		
			}xm',
			array(&$this, '_stripFootnotes_callback'),
			$text);
		return $text;
	}
	protected function _stripFootnotes_callback($matches) {
		$note_id = $this->fn_id_prefix . $matches[1];
		$this->footnotes[$note_id] = $this->outdent($matches[2]);
		return ''; # String that will replace the block
	}


	protected function doFootnotes($text) {
	#
	# Replace footnote references in $text [^id] with a special text-token 
	# which will be replaced by the actual footnote marker in appendFootnotes.
	#
		if (!$this->in_anchor) {
			$text = preg_replace('{\[\^(.+?)\]}', "F\x1Afn:\\1\x1A:", $text);
		}
		return $text;
	}

	
	protected function appendFootnotes($text) {
	#
	# Append footnote list to text.
	#
		$text = preg_replace_callback('{F\x1Afn:(.*?)\x1A:}', 
			array(&$this, '_appendFootnotes_callback'), $text);
	
		if (!empty($this->footnotes_ordered)) {
			$text .= "\n\n";
			$text .= "<div class=\"footnotes\">\n";
			$text .= "<hr". $this->empty_element_suffix ."\n";
			$text .= "<ol>\n\n";

			$attr = "";
			if ($this->fn_backlink_class != "") {
				$class = $this->fn_backlink_class;
				$class = $this->encodeAttribute($class);
				$attr .= " class=\"$class\"";
			}
			if ($this->fn_backlink_title != "") {
				$title = $this->fn_backlink_title;
				$title = $this->encodeAttribute($title);
				$attr .= " title=\"$title\"";
			}
			$num = 0;
			
			while (!empty($this->footnotes_ordered)) {
				$footnote = reset($this->footnotes_ordered);
				$note_id = key($this->footnotes_ordered);
				unset($this->footnotes_ordered[$note_id]);
				$ref_count = $this->footnotes_ref_count[$note_id];
				unset($this->footnotes_ref_count[$note_id]);
				unset($this->footnotes[$note_id]);
				
				$footnote .= "\n"; # Need to append newline before parsing.
				$footnote = $this->runBlockGamut("$footnote\n");				
				$footnote = preg_replace_callback('{F\x1Afn:(.*?)\x1A:}', 
					array(&$this, '_appendFootnotes_callback'), $footnote);
				
				$attr = str_replace("%%", ++$num, $attr);
				$note_id = $this->encodeAttribute($note_id);

				# Prepare backlink, multiple backlinks if multiple references
				$backlink = "<a href=\"#fnref:$note_id\"$attr>&#8617;</a>";
				for ($ref_num = 2; $ref_num <= $ref_count; ++$ref_num) {
					$backlink .= " <a href=\"#fnref$ref_num:$note_id\"$attr>&#8617;</a>";
				}
				# Add backlink to last paragraph; create new paragraph if needed.
				if (preg_match('{</p>$}', $footnote)) {
					$footnote = substr($footnote, 0, -4) . "&#160;$backlink</p>";
				} else {
					$footnote .= "\n\n<p>$backlink</p>";
				}
				
				$text .= "<li id=\"fn:$note_id\">\n";
				$text .= $footnote . "\n";
				$text .= "</li>\n\n";
			}
			
			$text .= "</ol>\n";
			$text .= "</div>";
		}
		return $text;
	}
	protected function _appendFootnotes_callback($matches) {
		$node_id = $this->fn_id_prefix . $matches[1];
		
		# Create footnote marker only if it has a corresponding footnote *and*
		# the footnote hasn't been used by another marker.
		if (isset($this->footnotes[$node_id])) {
			$num =& $this->footnotes_numbers[$node_id];
			if (!isset($num)) {
				# Transfer footnote content to the ordered list and give it its
				# number
				$this->footnotes_ordered[$node_id] = $this->footnotes[$node_id];
				$this->footnotes_ref_count[$node_id] = 1;
				$num = $this->footnote_counter++;
				$ref_count_mark = '';
			} else {
				$ref_count_mark = $this->footnotes_ref_count[$node_id] += 1;
			}

			$attr = "";
			if ($this->fn_link_class != "") {
				$class = $this->fn_link_class;
				$class = $this->encodeAttribute($class);
				$attr .= " class=\"$class\"";
			}
			if ($this->fn_link_title != "") {
				$title = $this->fn_link_title;
				$title = $this->encodeAttribute($title);
				$attr .= " title=\"$title\"";
			}
			
			$attr = str_replace("%%", $num, $attr);
			$node_id = $this->encodeAttribute($node_id);
			
			return
				"<sup id=\"fnref$ref_count_mark:$node_id\">".
				"<a href=\"#fn:$node_id\"$attr>$num</a>".
				"</sup>";
		}
		
		return "[^".$matches[1]."]";
	}
		
	
	### Abbreviations ###
	
	protected function stripAbbreviations($text) {
	#
	# Strips abbreviations from text, stores titles in hash references.
	#
		$less_than_tab = $this->tab_width - 1;

		# Link defs are in the form: [id]*: url "optional title"
		$text = preg_replace_callback('{
			^[ ]{0,'.$less_than_tab.'}\*\[(.+?)\][ ]?:	# abbr_id = $1
			(.*)					# text = $2 (no blank lines allowed)	
			}xm',
			array(&$this, '_stripAbbreviations_callback'),
			$text);
		return $text;
	}
	protected function _stripAbbreviations_callback($matches) {
		$abbr_word = $matches[1];
		$abbr_desc = $matches[2];
		if ($this->abbr_word_re)
			$this->abbr_word_re .= '|';
		$this->abbr_word_re .= preg_quote($abbr_word);
		$this->abbr_desciptions[$abbr_word] = trim($abbr_desc);
		return ''; # String that will replace the block
	}
	
	
	protected function doAbbreviations($text) {
	#
	# Find defined abbreviations in text and wrap them in <abbr> elements.
	#
		if ($this->abbr_word_re) {
			// cannot use the /x modifier because abbr_word_re may 
			// contain significant spaces:
			$text = preg_replace_callback('{'.
				'(?<![\w\x1A])'.
				'(?:'.$this->abbr_word_re.')'.
				'(?![\w\x1A])'.
				'}', 
				array(&$this, '_doAbbreviations_callback'), $text);
		}
		return $text;
	}
	protected function _doAbbreviations_callback($matches) {
		$abbr = $matches[0];
		if (isset($this->abbr_desciptions[$abbr])) {
			$desc = $this->abbr_desciptions[$abbr];
			if (empty($desc)) {
				return $this->hashPart("<abbr>$abbr</abbr>");
			} else {
				$desc = $this->encodeAttribute($desc);
				return $this->hashPart("<abbr title=\"$desc\">$abbr</abbr>");
			}
		} else {
			return $matches[0];
		}
	}

}


}




// vendor/michelf/php-markdown/Michelf/MarkdownExtra.php


#
# Markdown Extra  -  A text-to-HTML conversion tool for web writers
#
# PHP Markdown Extra
# Copyright (c) 2004-2013 Michel Fortin  
# <http://michelf.com/projects/php-markdown/>
#
# Original Markdown
# Copyright (c) 2004-2006 John Gruber  
# <http://daringfireball.net/projects/markdown/>
#
namespace Michelf {


# Just force Michelf/Markdown.php to load. This is needed to load
# the temporary implementation class. See below for details.
\Michelf\Markdown::MARKDOWNLIB_VERSION;

#
# Markdown Extra Parser Class
#
# Note: Currently the implementation resides in the temporary class
# \Michelf\MarkdownExtra_TmpImpl (in the same file as \Michelf\Markdown).
# This makes it easier to propagate the changes between the three different
# packaging styles of PHP Markdown. Once this issue is resolved, the
# _MarkdownExtra_TmpImpl will disappear and this one will contain the code.
#

class MarkdownExtra extends \Michelf\_MarkdownExtra_TmpImpl {

	### Parser Implementation ###

	# Temporarily, the implemenation is in the _MarkdownExtra_TmpImpl class.
	# See note above.

}



}






namespace {

// vendor/pimple/pimple/lib/Pimple.php



/*
 * This file is part of Pimple.
 *
 * Copyright (c) 2009 Fabien Potencier
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is furnished
 * to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

/**
 * Pimple main class.
 *
 * @package pimple
 * @author  Fabien Potencier
 */
class Pimple implements ArrayAccess
{
    protected $values = array();

    /**
     * Instantiate the container.
     *
     * Objects and parameters can be passed as argument to the constructor.
     *
     * @param array $config The parameters or objects.
     */
    public function __construct (array $config = array())
    {
        $this->values = $config;
    }

    /**
     * Sets a parameter or an object.
     *
     * Objects must be defined as Closures.
     *
     * Allowing any PHP callable leads to difficult to debug problems
     * as function names (strings) are callable (creating a function with
     * the same a name as an existing parameter would break your container).
     *
     * @param string $id    The unique identifier for the parameter or object
     * @param mixed  $value The value of the parameter or a closure to defined an object
     */
    public function offsetSet($id, $value)
    {
        $this->values[$id] = $value;
    }

    /**
     * Gets a parameter or an object.
     *
     * @param string $id The unique identifier for the parameter or object
     *
     * @return mixed The value of the parameter or an object
     *
     * @throws InvalidArgumentException if the identifier is not defined
     */
    public function offsetGet($id)
    {
        if (!array_key_exists($id, $this->values)) {
            throw new InvalidArgumentException(sprintf('Identifier "%s" is not defined.', $id));
        }

        $isFactory = is_object($this->values[$id]) && method_exists($this->values[$id], '__invoke');

        return $isFactory ? $this->values[$id]($this) : $this->values[$id];
    }

    /**
     * Checks if a parameter or an object is set.
     *
     * @param string $id The unique identifier for the parameter or object
     *
     * @return Boolean
     */
    public function offsetExists($id)
    {
        return array_key_exists($id, $this->values);
    }

    /**
     * Unsets a parameter or an object.
     *
     * @param string $id The unique identifier for the parameter or object
     */
    public function offsetUnset($id)
    {
        unset($this->values[$id]);
    }

    /**
     * Returns a closure that stores the result of the given closure for
     * uniqueness in the scope of this instance of Pimple.
     *
     * @param Closure $callable A closure to wrap for uniqueness
     *
     * @return Closure The wrapped closure
     */
    public static function share(Closure $callable)
    {
        return function ($c) use ($callable) {
            static $object;

            if (null === $object) {
                $object = $callable($c);
            }

            return $object;
        };
    }

    /**
     * Protects a callable from being interpreted as a service.
     *
     * This is useful when you want to store a callable as a parameter.
     *
     * @param Closure $callable A closure to protect from being evaluated
     *
     * @return Closure The protected closure
     */
    public static function protect(Closure $callable)
    {
        return function ($c) use ($callable) {
            return $callable;
        };
    }

    /**
     * Gets a parameter or the closure defining an object.
     *
     * @param string $id The unique identifier for the parameter or object
     *
     * @return mixed The value of the parameter or the closure defining an object
     *
     * @throws InvalidArgumentException if the identifier is not defined
     */
    public function raw($id)
    {
        if (!array_key_exists($id, $this->values)) {
            throw new InvalidArgumentException(sprintf('Identifier "%s" is not defined.', $id));
        }

        return $this->values[$id];
    }

    /**
     * Extends an object definition.
     *
     * Useful when you want to extend an existing object definition,
     * without necessarily loading that object.
     *
     * @param string  $id       The unique identifier for the object
     * @param Closure $callable A closure to extend the original
     *
     * @return Closure The wrapped closure
     *
     * @throws InvalidArgumentException if the identifier is not defined
     */
    public function extend($id, Closure $callable)
    {
        if (!array_key_exists($id, $this->values)) {
            throw new InvalidArgumentException(sprintf('Identifier "%s" is not defined.', $id));
        }

        $factory = $this->values[$id];

        if (!($factory instanceof Closure)) {
            throw new InvalidArgumentException(sprintf('Identifier "%s" does not contain an object definition.', $id));
        }

        return $this->values[$id] = function ($c) use ($callable, $factory) {
            return $callable($factory($c), $c);
        };
    }

    /**
     * Returns all defined value names.
     *
     * @return array An array of value names
     */
    public function keys()
    {
        return array_keys($this->values);
    }
}


}




// src/Maki/Markdown.php



namespace Maki {

class Markdown extends \Michelf\MarkdownExtra
{
    public $baseUrl;

    public function __construct()
    {
        // doLink is 20, add base url just before
        $this->span_gamut['doBaseUrl'] = 19;

        parent::__construct();
    }

    public function doBaseUrl($text)
    {
        // URLs containing "://" are left untouched
        return preg_replace('~(?<!!)(\[.+?\]\()(?!\w++://)(?!#)(\S*(?:\s*+".+?")?\))~', '$1'.$this->baseUrl.'$2', $text);
    }
}

}




// src/Maki/File/Markdown.php



namespace Maki\File {

class Markdown
{
    protected $app;
    protected $filePath;
    protected $directoryPath;
    protected $fileAbsPath;
    protected $name;
    protected $exists = false;
    protected $content;
    protected $loaded = false;
    protected $locked = false;
    protected $breadcrumb = null;

    public function __construct($app, $filePath)
    {
        $this->app = $app;
        $this->filePath = $filePath;
        $this->fileAbsPath = $app['docs.path'].$filePath;
        $this->name = pathinfo($filePath, PATHINFO_BASENAME);

        if (is_file($this->fileAbsPath)) {
            $this->exists = true;
        }

        $cacheDir = $this->app->getCacheDirAbsPath().'docs/';

        if (is_file($cacheDir.$this->name)) {            
            $time = time() - filemtime($cacheDir.$this->name);

            // Last edited more then 2 minutes ago
            if ($time > 120) {
                unlink($cacheDir.$this->name);
            } else {
                // See who editing
                $id = file_get_contents($cacheDir.$this->name);

                // Someone else is editing this file now
                if ($this->app->getSessionId() != $id) {
                    $this->locked = true;
                }
            }
        }
    }

    public function getName()
    {
        return $this->name;
    }

    public function getContent($forceRefresh = false)
    {
        if (($this->exists and ! $this->loaded) or $forceRefresh) {
            $this->content = file_get_contents($this->fileAbsPath);
            $this->loaded = true;
            return $this->content;
        }

        return $this->content;
    }

    public function setContent($content)
    {
        $this->content = $content;

        return $this;
    }

    public function getFilePath()
    {
        return $this->filePath;
    }

    public function getBreadcrumb()
    {
        if ($this->breadcrumb === null) {
            $content = $this->getContent();

            preg_match('/<\!\-\-\-\s*@breadcrumb:(.*)?\-\->/', $content, $match);

            if ( ! isset($match[1])) {
                $this->breadcrumb = array(array(
                    'text'   => $this->getName(),
                    'url'    => $this->getUrl(),
                    'active' => true
                ));
            } else {
                $pages = array();
                $parts = explode(';', trim($match[1]));

                foreach ($parts as $part) {
                    $page = explode('/', $part);
                    end($page);

                    $pages[] = array(
                        'text'      => current($page),
                        'url'       => strpos($part, '.md') === false ? false : $this->app->getUrl().$part,
                        'active'    => false
                    );
                }

                $pages[count($pages)-1]['active'] = true;

                $this->breadcrumb = $pages;
            }
        }

        return $this->breadcrumb;
    }

    public function save()
    {
        if ($this->locked) {
            return false;
        }

        $dirName = pathinfo($this->fileAbsPath, PATHINFO_DIRNAME);

        if ( ! is_dir($dirName)) {
            mkdir($dirName, 0777, true);
        }

        file_put_contents($this->fileAbsPath, $this->content);

        $cacheDir = $this->app->getCacheDirAbsPath().'docs/';

        if ( ! is_dir($cacheDir)) {
            mkdir($cacheDir, 0700, true);
        }

        file_put_contents($cacheDir.$this->name, $this->app->getSessionId());

        return $this;
    }

    public function delete()
    {
        if ($this->locked) {
            return false;
        }

        if ($this->exists) {
            @unlink($this->fileAbsPath);

            $this->exists = false;
            $this->loaded = false;
        }

        return $this;
    }

    public function toHTML()
    {
        return $this->app['parser.markdown']->transform($this->getContent());
    }

    public function getUrl()
    {
        return $this->app->getUrl().$this->filePath;
    }

    public function isNotLocked()
    {
        return $this->locked === false;
    }

    public function isLocked()
    {
        return $this->locked;
    }
}

}




// src/Maki/ThemeManager.php



namespace Maki {

class ThemeManager 
{
    protected $app;
    protected $stylesheets = array();
    protected $activeStylesheet;

    public function __construct(Maki $app)
    {
        $this->app = $app;
    }

    public function getStylesheet($name)
    {
        if ( ! $this->validName($name)) {
            throw new \InvalidArgumentException(sprintf('Stylesheet "%s" has not allowed chars or its name is too long or stylesheet with this name does not exists.', $name));
        }

        if ( ! isset($this->stylesheets[$name])) {
            throw new \InvalidArgumentException(sprintf('Stylesheet "%s" not exist.', $name));
        }

        return file_get_contents($this->app['docroot'].$this->stylesheets[$name]);
    }

    public function addStylesheet($name, $file)
    {
        $this->stylesheets[$name] = $file;

        return $this;
    }

    public function addStylesheets(array $array)
    {
        foreach ($array as $name => $file) {
            $this->addStylesheet($name, $file);
        }

        return $this;
    }

    public function getStylesheets()
    {
        return $this->stylesheets;
    }

    public function getActiveStylesheet()
    {
        return $this->activeStylesheet;
    }

    public function getStylesheetPath($name)
    {
        if ( ! $this->isStylesheetExist($name)) {
            throw new \InvalidArgumentException(sprintf('Stylesheet "%s" not exists.', $name));
        }

        return $this->stylesheets[$name];
    }

    public function setActiveStylesheet($name)
    {
        $this->activeStylesheet = $name;
    }

    public function isStylesheetExist($name)
    {
        return isset($this->stylesheets[$name]);
    }

    public function validName($name)
    {
        if (strlen($name) > 20) {
            return false;
        }

        if ( ! preg_match('/^[_a-z]+$/', $name)) {
            return false;
        }

        return true;
    }

    public function serveResource($name)
    {
        if ( ! preg_match('/^[-a-z0-9_\.\/]+$/', $name) or ! ($resource = $this->app->getResource($name))) {
            $this->app->response('File not found.', 'text/html', 404);
        }

        $ext = pathinfo($name, PATHINFO_EXTENSION);

        switch ($ext) {
            case 'js':
                $type = 'text/javascript';
                break;
            case 'css':
                $type = 'text/css';
                break;
            default:
                $type = 'text/html';
                break;
        }

        $this->app->response($resource, $type);
    }
}

}




// src/Maki/Collection.php



namespace Maki {

class Collection implements \ArrayAccess {
    protected $data = [];

    public function __construct(array $arr = [])
    {
        $this->data = $arr;
    }

    public function get($key, $default = null)
    {
        return $this->offsetExists($key) ? $this->offsetGet($key) : $default;
    }

    public function has($key)
    {
        return $this->offsetExists($key);
    }

    public function offsetSet($offset, $value)
    {
        $this->data[$offset] = $value;
    }

    public function offsetExists($offset)
    {
        return isset($this->data[$offset]);
    }

    public function offsetUnset($offset)
    {
        unset($this->data[$offset]);
    }

    public function offsetGet($offset)
    {
        return isset($this->data[$offset]) ? $this->data[$offset] : null;
    }

    public function merge(array $array = [])
    {
        $this->data = array_merge($this->data, $array);
    }

    public function pull($key, $default = null)
    {
        $value = $this->get($key, $default);
        $this->offsetUnset($key);

        return $value;
    }

    public function toArray()
    {
        return $this->data;
    }
}



}




// src/Maki/Controller.php



namespace Maki {

abstract class Controller
{
    /**
     * @var Maki
     */
    protected $app;

    public function __construct(Maki $app)
    {
        $this->app = $app;
    }

    public static function match(Maki $app)
    {

    }

    public function isSecured($action)
    {
        return true;
    }

    public function viewResponse($path, array $data = [], $type = 'text/html', $code = 200, $headers = [])
    {
        return $this->app->response($this->app->render($path, $data), $type, $code, $headers);
    }

    public function jsonResponse(array $array, $type = 'application/json', $code = 200, $headers = [])
    {
        return $this->app->response(json_encode($array), $type, $code, $headers);
    }
}

}




// src/Maki/Controller/PageController.php



namespace Maki\Controller {

use Maki\Controller;
use Maki\Maki;

/**
 * Page controller.
 * @package Maki\Controller
 */
class PageController extends Controller
{
    public static function match(Maki $app)
    {
        if ($app['editable'] and isset($_GET['save'])) {
            return 'saveContentAction';
        }

        if ($app['editable'] and isset($_GET['delete'])) {
            return 'deleteAction';
        }

        if (isset($_GET['action']) and $_GET['action'] == 'downloadCode') {
            return 'downloadCodeAction';
        }

        if (isset($_GET['ctrl']) and $_GET['ctrl'] == 'page' and isset($_GET['action'])) {
            switch ($_GET['action']) {
                case 'get':
                    return 'getAction';
                case 'archive':
                    return 'archiveAction';
            }
        }

        // Default action.
        return 'pageAction';
    }

    public function archiveAction()
    {
        $path = $this->app->createArchiveFile();
        $name = $_SERVER['HTTP_HOST'].'-'.date('Y-m-d');
        if (is_string($path)) {
            header('Content-Type: application/octet-stream');
            header("Content-Transfer-Encoding: Binary");
            header("Content-disposition: attachment; filename=\"{$name}.zip\"");
            readfile($path);
            exit;
        }
    }

    public function getAction()
    {
        if (!isset($_GET['page'])) {
            $this->app->responseFileNotFound();
        }

        $page = $this->createFileInstance($_GET['page']);
        return $this->jsonResponse(['content' => $page->toHTML()]);
    }

    /**
     * @param $file
     * @return \Maki\File\Markdown
     */
    protected function createFileInstance($file)
    {
        $app = $this->app;
        $ext = pathinfo($file, PATHINFO_EXTENSION);

        if ( ! isset($app['docs.extensions'][$ext])) {
            throw new \InvalidArgumentException(sprintf('File class for "%s" not exists.', $file));
        }

        $class = '\\Maki\\File\\'.ucfirst($app['docs.extensions'][$ext]);
        return new $class($app, $file);
    }

    public function findSidebarFile($directory)
    {
        $app = $this->app;
        $exts = $app['docs.extensions'];
        $path = $app['docroot'].$app['docs.path'].($directory == '' ? '' : rtrim($directory, '/').'/');
        $sidebarName = $app['docs.navigation_filename'];

        foreach ($exts as $ext => $null) {
            if (is_file($path.$sidebarName.'.'.$ext)) {
                return $sidebarName.'.'.$ext;
            }
        }

        return $sidebarName.'.'.key($exts);
    }

    public function findIndexFile($directory)
    {
        $app = $this->app;

        $exts = $app['docs.extensions'];
        $path = $app['docs.path'].rtrim($directory, '/').'/';
        $indexName = $app['docs.index_filename'];

        foreach ($app['docs.extensions'] as $ext) {
            if (is_file($path.$indexName.'.'.$ext)) {
                return $indexName.'.'.$ext;
            }
        }

        return $indexName.'.'.key($exts);
    }

    protected function createPageFileInstanceFromRequest()
    {
        $url = $this->app->getCurrentUrl();
        $info = pathinfo($url);

        // No file specified, so default index is taken
        if ( ! isset($info['extension'])) {
            $url .= $this->findIndexFile($url);
        }

        return $this->createFileInstance($url);
    }

    public function pageAction()
    {
        $app = $this->app;
        $info = pathinfo($app->getCurrentUrl());
        $dirName = isset($info['dirname']) ? $info['dirname'] : '';

        $nav = $this->createFileInstance($this->findSidebarFile($dirName));
        $page = $this->createPageFileInstanceFromRequest();

        $activeStylesheet = $app->getThemeManager()->getActiveStylesheet();

        $this->viewResponse('resources/views/page.php', [
            'page' => $page,
            'nav' => $nav,
            'editable' => $app['editable'],
            'viewable' => false,
            'editing' => ($app['editable'] and isset($_GET['edit'])),
            'activeStylesheet' => $activeStylesheet,
            'stylesheet' => $app->getThemeManager()->getStylesheetPath($activeStylesheet),
            'editButton' => 'edit'
        ]);
    }

    /**
     * Saves page content.
     */
    public function saveContentAction()
    {
        $page = $this->createPageFileInstanceFromRequest();
        $page->setContent(isset($_POST['content']) ? $_POST['content'] : '')->save();
        $this->jsonResponse(['success' => true]);
    }

    /**
     * Deletes page.
     */
    public function deleteAction()
    {
        $page = $this->createPageFileInstanceFromRequest();
        $page->delete();
        $this->app->redirect($this->app->getUrl());
    }

    public function downloadCodeAction()
    {
        $page = $this->createPageFileInstanceFromRequest();
        $index = (int) $_GET['index'];
        $lines = explode("\n", $page->getContent());
        $fileName = pathinfo($page->getName(), PATHINFO_FILENAME);

        $counter = 0;
        $opened = false;
        $codeType = '';
        $code = [];

        foreach ($lines as $line) {
            $spacelessLine = preg_replace('/[\t\s]+/', '', $line);

            if (strpos($spacelessLine, '```') === 0) {
                if ($opened) {
                    $opened = false;

                    // This is what we are looking for
                    if ($index == $counter) {
                        $this->app->response(implode("\n", $code), 'application/octet-stream', 200, [
                            'Content-Type: application/octet-stream',
                            'Content-Transfer-Encoding: Binary',
                            'Content-disposition: attachment; filename="'.$fileName.'.'.$codeType.'"'
                        ]);
                    }

                    $counter++;
                } else {
                    $opened = true;
                    $code = [];
                    $codeType = substr($line, 3);
                    continue;
                }
            }

            if ($opened) {
                $code[] = $line;
            }
        }
    }
}

}




// src/Maki/Controller/ServeResourceController.php



namespace Maki\Controller {

use Maki\Controller;
use Maki\Maki;

/**
 * Serves media resources (css, js).
 *
 * Class ResourceController
 * @package Maki\Controller
 */
class ServeResourceController extends Controller
{
    public static function match(Maki $app)
    {
        if (isset($_GET['resource'])) {
            return 'serve';
        }
    }

    public function isSecured($action)
    {
        return false;
    }

    public function serve()
    {
        $this->app->getThemeManager()->serveResource($_GET['resource']);
    }
}

}




// src/Maki/Controller/ThemeManagerController.php



namespace Maki\Controller {

use Maki\Controller;
use Maki\Maki;

/**
 * Theme manager.
 *
 * @package Maki\Controller
 */
class ThemeManagerController extends Controller
{
    public static function match(Maki $app)
    {
        if (isset($_GET['change_css'])) {
            return 'changeThemeAction';
        }
    }

    public function changeThemeAction()
    {
        // @todo sanitize (check if this stylesheet exist)
        setcookie('theme_css', $_GET['change_css'], time()+(60 * 60 * 24 * 30 * 12), '/');
        $this->app->redirect($this->app->getUrl().$this->app->getCurrentUrl());
    }
}

}




// src/Maki/Controller/UserController.php



namespace Maki\Controller {

use Maki\Controller;
use Maki\Maki;

class UserController extends Controller
{
    public function isSecured($action)
    {
        if (in_array($action, ['loginPageAction', 'authAction'])) {
            return false;
        }

        return true;
    }

    public static function match(Maki $app)
    {
        // Log out action
        if (isset($_GET['logout'])) {
            return 'logoutAction';
        }

        // Authorization request
        if ($_SERVER['REQUEST_METHOD'] == 'POST' and isset($_GET['auth'])) {
            return 'authAction';
        }
    }

    /**
     * This action is dispatched manually, there is no url "login" or something like this.
     */
    public function loginPageAction()
    {
        $this->viewResponse('resources/views/login.php');
    }

    public function logoutAction()
    {
        $this->app->deauthenticate();
        $this->app->redirect($this->app->getUrl());
    }

    public function authAction()
    {
        $username = isset($_POST['username']) ? $_POST['username'] : '';
        $pass = isset($_POST['password']) ? $_POST['password'] : '';
        $remember = isset($_POST['remember']) ? $_POST['remember'] : '0';

        $users = $this->app['users'];

        foreach ($users as $user) {
            if ($user['username'] == $username and $user['password'] == $pass) {
                $this->app->authenticate($username, $remember == '1');
                $this->app->response();
            }
        }

        $this->jsonResponse([
            'error' => 'Invalid username or password.'
        ], 'application/json', 400);
    }
}

}




// src/Maki/Maki.php



namespace Maki {

/**
 * Class Maki
 * @package Maki
 * @todo add "copy" for code snippets
 * @todo search
 * @todo page renaming
 * @todo who made change on page
 * @todo expandable sections
 * @todo if page has "." (dot) in name there occurs error "No input file specified"
 * @todo nav on mobile
 * @todo make nicer error page for "maki.dev/something.php" url.
 */
class Maki extends \Pimple
{
    protected $url;

    protected $sessionId;
    /**
     * @var ThemeManager
     */
    protected $themeManager;

    /**
     * Base container values.
     * @var array
     */
    protected $values = [
        'main_title'    => null
    ];

    protected $controllers = [
        'Maki\Controller\ServeResourceController' => 9999,
        'Maki\Controller\UserController' => 1000,
        'Maki\Controller\ThemeManagerController' => 1000,
        'Maki\Controller\PageController' => 0
    ];

    /**
     * Config:
     *
     * - docroot - Document root path (must ends with trailing slash)
     *
     * @param array $config
     * @throws \InvalidArgumentException
     */
    public function __construct(array $config = array())
    {
        session_start();
        $this->sessionId = session_id();

        $config = new Collection($config);

        // Document root path must be defined
        if ( ! $config->has('docroot')) {
            throw new \InvalidArgumentException('`docroot` is not defined.');
        }

        $this['docroot'] = $config->pull('docroot');

        // Base url
        $this['url.base'] = $config->pull('url.base') ?: pathinfo($_SERVER['SCRIPT_NAME'], PATHINFO_DIRNAME);
        $this['url.base'] = str_replace('//', '/', '/'.trim($this['url.base'], '/').'/');

        // Create htaccess as soon as possible (if needed)
        $this->createHtAccess();
        $this->initThemeManager($config);

        // Documentation files extensions
        $this['docs.extensions'] = $config->pull('docs.extensions') ?: [
            'md'        => 'markdown',
            'markdown'  => 'markdown'
        ];

        $this['cookie.auth_name'] = $config->pull('cookie.auth_name', 'maki');
        $this['cookie.auth_expire'] = $config->pull('cookie.auth_expire', 3600 * 24 * 30); // 30 days
        $this['users'] = $config->pull('users', []);
        $this['salt'] = $config->pull('salt', '');

        $this->values = array_merge($this->values, $config->toArray());

        $this['user'] = null;

        // Define default markdown parser
        if ( ! $this->offsetExists('parser.markdown')) {
            $this['parser.markdown'] = $this->share(function($c) {
                $markdown = new Markdown();
                $markdown->baseUrl = $c['url.base'];

                return $markdown;
            });
        }

        //
        if ( ! $this->offsetExists('docs.path')) {
            $this['docs.path'] = '';
        }

        // Markdown files directory
        $this['docs.path'] = $this['docs.path'] == '' ? '' : rtrim($this['docs.path'], '/').'/';

        // Index file in directory
        if ( ! $this->offsetExists('docs.index_filename')) {
            $this['docs.index_filename'] = 'index';
        }

        // Sidebar filename
        if ( ! $this->offsetExists('docs.navigation_filename')) {
            $this['docs.navigation_filename'] = '_nav';
        }

        if ( ! $this->offsetExists('editable')) {
            $this['editable'] = true;
        }

        // Whats for is "viewable"?
        if ( ! $this->offsetExists('viewable')) {
            $this['viewable'] = true;
        }

        if ( ! $this->offsetExists('cache_dir')) {
            $this['cache_dir'] = '_maki_cache';
        }

        // Normalize path
        $this['cache_dir'] = rtrim($this['cache_dir'], '/').'/';

        // Create cache dir
        if ( ! is_dir($this->getCacheDirAbsPath())) {
            mkdir($this->getCacheDirAbsPath(), 0700, true);
        }

        $this->handleBackup();
        $this->handleRequest();
    }

    public function handleBackup()
    {
        if (!isset($this->values['backup'])) {
            return;
        }

        $path = $this['cache_dir'].'last_backup';
        // Make backup if in 24 hours it was not maded.
        if (!is_file($path) or filemtime($path) > 86400) { // 24 hours
            $this->makeBackup();
        }
    }

    public function makeBackup()
    {
        //$this->createArchiveFile();
    }

    public function createArchiveFile()
    {
        $files = $this->getFilesList();

        if ($files) {
            // Create the archive.
            $zip = new \ZipArchive();
            $path = __DIR__.'/'.$this['cache_dir'].'archive.zip';
            if (($error = $zip->open($path, \ZIPARCHIVE::CREATE | \ZIPARCHIVE::OVERWRITE)) !== true) {
                return false;
            }

            // Add the files.
            foreach ($files as $key => $file) {
                $zip->addFile($file);
            }

            // Close the zip -- done!
            $zip->close();

            if (is_file($this['cache_dir'].'archive.zip')) {
                return $this['cache_dir'].'archive.zip';
            }
        }

        return false;
    }

    public function getFilesList($directory = null)
    {
        if ($directory === null) {
            $directory = __DIR__.'/'.$this['docs.path'];
        }

        $files = [];
        foreach (scandir($directory) as $file) {
            if ($file == '.' or $file == '..' or $file == '_maki_cache') {
                continue;
            }

            if (is_file($directory.$file)) {
                $ext = pathinfo($file, PATHINFO_EXTENSION);
                if ($ext != 'md') {
                    continue;
                }
                $files[] = $directory . $file;
            } else if (is_dir($directory.$file)) {
                $files = array_merge($files, $this->getFilesList($directory.$file.'/'));
            }
        }

        return $files;
    }

    /**
     * @return ThemeManager
     */
    public function getThemeManager()
    {
        return $this->themeManager;
    }

    public function getResource($path)
    {
        $func = 'resource_'.md5($path);

        if (function_exists($func)) {
            return $func();
        }

        $realpath = realpath($this['docroot'].$path);

        if ($realpath == false or strpos($realpath, $this['docroot']) !== 0) {
            return false;
        }

        $ext = pathinfo($realpath, PATHINFO_EXTENSION);

        if ( ! in_array($ext, ['css', 'js'])) {
            return false;
        }

        if (is_file($realpath)) {
            return file_get_contents($realpath);
        }

        return false;
    }

    public function response($body = '', $type = 'text/html', $code = 200, $headers = [])
    {
        switch ($code) {
            case 200: header('HTTP/1.1 200 OK'); break;
            case 400: header('HTTP/1.1 400 Bad Request'); break;
            case 404: header('HTTP/1.1 404 Not Found'); break;
        }

        header('Content-Type: '.$type);

        foreach ($headers as $header) {
            header($header);
        }

        echo $body;

        exit(0);
    }

    public function responseFileNotFound($text = 'File not found')
    {
        $this->response($text, 'text/plain', 404);
    }

    public function getCurrentUrl()
    {
        if ($this->url === null) {
            $uri = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);
            $script = trim($this['url.base'], '/');
            $this->url = trim(str_replace($script, '', trim($uri, '/')), '/');
        }

        return $this->url;
    }

    /**
     * Return url.
     * @return string
     */
    public function getUrl()
    {
        static $url;

        if (!$url) {
            $ssl = (!empty($_SERVER['HTTPS']) and $_SERVER['HTTPS'] == 'on');
            $protocol = 'http' . ($ssl ? 's' : '');
            $port = $_SERVER['SERVER_PORT'];
            $port = ((!$ssl && $port == '80') || ($ssl && $port == '443')) ? '' : ':' . $port;
            $host = $_SERVER['HTTP_HOST'];

            $url = $protocol . '://' . $host . $port . $this['url.base'];
        }

        return $url;
    }

    public function getCacheDirAbsPath()
    {
        return $this['docroot'].$this['cache_dir'];
    }

    public function getSessionId()
    {
        return $this->sessionId;
    }

    public function redirect($url, $permanent = false)
    {
        if ($permanent) {
            header('HTTP/1.1 301 Moved Permanently');
        } else {
            header('HTTP/1.1 302 Moved Temporarily');
        }

        header('Location: '.$url);
        exit(0);
    }

    /**
     * Return url to specified resource.
     *
     *     $app->getResourceUrl('resources/jquery.js');
     *     // Return "http://domain.com?resource=resources/jquery.js
     *
     * @param $resource
     * @return string
     */
    public function getResourceUrl($resource)
    {
        return $this->getUrl().'?resource='.$resource;
    }

    /**
     * Render view.
     *
     * @param $path Path to view (relative from document root).
     * @param array $data Data passed to view.
     * @return string
     */
    public function render($path, array $data = [])
    {
        $data['app'] = $this;
        $func = 'view_'.md5($path);

        if (function_exists($func)) {
            $content = $func($data);
        } else {
            extract($data);
            $path = $this['docroot'] . $path;

            if (!is_file($path)) {
                throw new \InvalidArgumentException(sprintf('View "%s" does not exists.', $path));
            }

            ob_start();
            include $path;
            $content = ob_get_contents();
            ob_end_clean();
        }

        return $content;
    }

    /**
     * Checks if user is authenticated.
     *
     * @return bool
     */
    public function isUserAuthenticated()
    {
        return isset($_SESSION['auth']);
    }

    /**
     * Return user data for specified username.
     *
     * @param $username User name.
     * @return array User data.
     * @return \InvalidArgumentException If user with specified username does not exists.
     */
    public function getUser($username)
    {
        foreach ($this['users'] as $user) {
            if ($user['username'] === $username) {
                return $user;
            }
        }

        return new \InvalidArgumentException(sprintf('User "%s" does not exists.', $username));
    }

    /**
     * Authenticate user.
     *
     * @param $username User name.
     * @param bool|false $remember Remember user.
     */
    public function authenticate($username, $remember = false)
    {
        $_SESSION['auth'] = $username;

        if ($remember) {
            $token = sha1($username.$this['salt']);
            setcookie($this['cookie.auth_name'], $token, time() + $this['cookie.auth_expire'], '/');

            $path = $this['cache_dir'].'users/';
            if (!is_dir($path)) {
                mkdir($path, 0777, true);
            }

            file_put_contents($path.$token, $username);

            // Garbage collector
            foreach (scandir($path) as $fileName) {
                if ($fileName == '.' or $fileName == '..') {
                    continue;
                }

                if (filemtime($path.$fileName) < time() - $this['cookie.auth_expire']) {
                    @unlink($path.$fileName);
                }
            }
        }
    }

    /**
     * Deauthenticate user, destroys session, removes "remember me" cookies.
     */
    public function deauthenticate()
    {
        session_destroy();
        unset($_COOKIE[$this['cookie.auth_name']]);
        setcookie($this['cookie.auth_name'], null, -1, '/');
    }

    protected function handleRequest()
    {
        foreach ($this->controllers as $class => $priority) {
            $action = forward_static_call([$class, 'match'], $this);
            if (is_string($action)) {
                $this->dispatchController($class, $action);
            }
        }
    }

    protected function dispatchController($class, $action)
    {
        $controller = new $class($this);

        if ($controller->isSecured($action)) {
            $this->checkAuthentication();
        }

        if (!method_exists($controller, $action)) {
            throw new \InvalidArgumentException(sprintf('Method "%s" does not exists in "%s" controller.', $action, $class));
        }

        call_user_func([$controller, $action]);
    }

    /**
     * Creates and inits theme manager.
     *
     * - defines default theme
     * - adds themes specified in config
     * - resolve active theme
     *
     * @param Collection $config
     */
    protected function initThemeManager(Collection $config)
    {
        $tm = new ThemeManager($this);

        // Set default theme
        $tm->addStylesheet('light', 'resources/light.css');

        // Add styles defined in config
        if ($config->has('theme.stylesheets')) {
            $tm->addStylesheets($config->pull('theme.stylesheets'));
        }

        // Set active theme
        if (isset($_COOKIE['theme_css']) and $tm->isStylesheetExist($_COOKIE['theme_css'])) {
            $tm->setActiveStylesheet($_COOKIE['theme_css']);
        } else if ($config->has('theme.active')) {
            $tm->setActiveStylesheet($config->pull('theme.active'));
        } else {
            $tm->setActiveStylesheet('light');
        }

        $this->themeManager = $tm;
    }

    /**
     * Creates .htaccess file inside root directory.
     */
    protected function createHtAccess()
    {
        // Create htaccess if not exists yet
        if ( ! is_file($this['docroot'].'.htaccess')) {
            file_put_contents($this['docroot'].'.htaccess', '<IfModule mod_rewrite.c>
    <IfModule mod_negotiation.c>
        Options -MultiViews
    </IfModule>

    RewriteEngine On
    RewriteBase '.$this['url.base'].'

    # Redirect Trailing Slashes...
    RewriteRule ^(.*)/$ /$1 [L,R=301]

    # Handle Front Controller...
    # RewriteCond %{REQUEST_FILENAME} !-d
    # RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]
</IfModule>');

            $this->redirect($this->getUrl(), false);
        }

    }

    /**
     * Check if user is authenticated
     */
    protected function checkAuthentication()
    {
        // If no users defined wiki is public
        if (!$this['users']) {
            return;
        }

        // User authorized
        if ($this->isUserAuthenticated()) {
            try {
                $this['user'] = $this->getUser($_SESSION['auth']);
                return;
            } catch (\InvalidArgumentException $e) {
                // If user not found on the list it means he/she was logged
                // but in the meantime someone modified maki's config file.
                // We logout this user now.
                $this->deauthenticate();
            }
        }

        $cookieName = $this['cookie.auth_name'];

        // Check if user was remembered
        if (isset($_COOKIE[$cookieName])) {
            $token = $_COOKIE[$cookieName];

            if (strlen($token) == 40 and preg_match('/^[0-9a-z]+$/', $token)) {
                $path = $this['cache_dir'].'users/'.$token;

                if (is_file($path)) {
                    $username = file_get_contents($path);

                    try {
                        // We call this method only to make sure
                        // username from cookie exists in our database.
                        $this->getUser($username);
                        $this->authenticate($username, true);
                        return;
                    } catch (\InvalidArgumentException $e) {
                        // If getUser throw exception login view will be displayed
                    }
                }
            }
        }

        // Display username form
        $this->dispatchController('Maki\Controller\UserController', 'loginPageAction');
    }

}

}




// index.php



namespace {

    

    error_reporting(E_ALL);
    ini_set('display_errors', 'On');

    $config = [];
    $dir = __DIR__.DIRECTORY_SEPARATOR;

    // Load configuration file
    if (is_file($dir.'maki.json')) {
        $config = (array) json_decode(file_get_contents($dir.'maki.json'), true);
    }

    $config['docroot'] = $dir;

    new \Maki\Maki($config);

}


namespace {

function resource_a6068e4e9a1a6a3713356cd042f7c9fa() {
    return base64_decode('LyoqCiAqIHNpbXBsZW1kZSB2MS4xMS4yCiAqIENvcHlyaWdodCBOZXh0IFN0ZXAgV2VicywgSW5jLgogKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vTmV4dFN0ZXBXZWJzL3NpbXBsZW1kZS1tYXJrZG93bi1lZGl0b3IKICogQGxpY2Vuc2UgTUlUCiAqLwohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU2ltcGxlTURFPWUoKX19KGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uIHQoZSxuLHIpe2Z1bmN0aW9uIGkoYSxsKXtpZighblthXSl7aWYoIWVbYV0pe3ZhciBzPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFsJiZzKXJldHVybiBzKGEsITApO2lmKG8pcmV0dXJuIG8oYSwhMCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrYSsiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY312YXIgdT1uW2FdPXtleHBvcnRzOnt9fTtlW2FdWzBdLmNhbGwodS5leHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciBuPWVbYV1bMV1bdF07cmV0dXJuIGkobj9uOnQpfSx1LHUuZXhwb3J0cyx0LGUsbixyKX1yZXR1cm4gblthXS5leHBvcnRzfWZvcih2YXIgbz0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxhPTA7YTxyLmxlbmd0aDthKyspaShyW2FdKTtyZXR1cm4gaX0oezE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcigpe2Zvcih2YXIgZT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIsdD0wLG49ZS5sZW5ndGg7bj50OysrdClzW3RdPWVbdF0sY1tlLmNoYXJDb2RlQXQodCldPXQ7Y1siLSIuY2hhckNvZGVBdCgwKV09NjIsY1siXyIuY2hhckNvZGVBdCgwKV09NjN9ZnVuY3Rpb24gaShlKXt2YXIgdCxuLHIsaSxvLGEsbD1lLmxlbmd0aDtpZihsJTQ+MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQiKTtvPSI9Ij09PWVbbC0yXT8yOiI9Ij09PWVbbC0xXT8xOjAsYT1uZXcgdSgzKmwvNC1vKSxyPW8+MD9sLTQ6bDt2YXIgcz0wO2Zvcih0PTAsbj0wO3I+dDt0Kz00LG4rPTMpaT1jW2UuY2hhckNvZGVBdCh0KV08PDE4fGNbZS5jaGFyQ29kZUF0KHQrMSldPDwxMnxjW2UuY2hhckNvZGVBdCh0KzIpXTw8NnxjW2UuY2hhckNvZGVBdCh0KzMpXSxhW3MrK109aT4+MTYmMjU1LGFbcysrXT1pPj44JjI1NSxhW3MrK109MjU1Jmk7cmV0dXJuIDI9PT1vPyhpPWNbZS5jaGFyQ29kZUF0KHQpXTw8MnxjW2UuY2hhckNvZGVBdCh0KzEpXT4+NCxhW3MrK109MjU1JmkpOjE9PT1vJiYoaT1jW2UuY2hhckNvZGVBdCh0KV08PDEwfGNbZS5jaGFyQ29kZUF0KHQrMSldPDw0fGNbZS5jaGFyQ29kZUF0KHQrMildPj4yLGFbcysrXT1pPj44JjI1NSxhW3MrK109MjU1JmkpLGF9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gc1tlPj4xOCY2M10rc1tlPj4xMiY2M10rc1tlPj42JjYzXStzWzYzJmVdfWZ1bmN0aW9uIGEoZSx0LG4pe2Zvcih2YXIgcixpPVtdLGE9dDtuPmE7YSs9MylyPShlW2FdPDwxNikrKGVbYSsxXTw8OCkrZVthKzJdLGkucHVzaChvKHIpKTtyZXR1cm4gaS5qb2luKCIiKX1mdW5jdGlvbiBsKGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoLHI9biUzLGk9IiIsbz1bXSxsPTE2MzgzLGM9MCx1PW4tcjt1PmM7Yys9bClvLnB1c2goYShlLGMsYytsPnU/dTpjK2wpKTtyZXR1cm4gMT09PXI/KHQ9ZVtuLTFdLGkrPXNbdD4+Ml0saSs9c1t0PDw0JjYzXSxpKz0iPT0iKToyPT09ciYmKHQ9KGVbbi0yXTw8OCkrZVtuLTFdLGkrPXNbdD4+MTBdLGkrPXNbdD4+NCY2M10saSs9c1t0PDwyJjYzXSxpKz0iPSIpLG8ucHVzaChpKSxvLmpvaW4oIiIpfW4udG9CeXRlQXJyYXk9aSxuLmZyb21CeXRlQXJyYXk9bDt2YXIgcz1bXSxjPVtdLHU9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXk7cigpfSx7fV0sMjpbZnVuY3Rpb24oZSx0LG4pe30se31dLDM6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGUuZm9vPWZ1bmN0aW9uKCl7cmV0dXJuIDQyfSw0Mj09PWUuZm9vKCkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1YmFycmF5JiYwPT09ZS5zdWJhcnJheSgxLDEpLmJ5dGVMZW5ndGh9Y2F0Y2godCl7cmV0dXJuITF9fWZ1bmN0aW9uIGkoKXtyZXR1cm4gYS5UWVBFRF9BUlJBWV9TVVBQT1JUPzIxNDc0ODM2NDc6MTA3Mzc0MTgyM31mdW5jdGlvbiBvKGUsdCl7aWYoaSgpPHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoIik7cmV0dXJuIGEuVFlQRURfQVJSQVlfU1VQUE9SVD8oZT1uZXcgVWludDhBcnJheSh0KSxlLl9fcHJvdG9fXz1hLnByb3RvdHlwZSk6KG51bGw9PT1lJiYoZT1uZXcgYSh0KSksZS5sZW5ndGg9dCksZX1mdW5jdGlvbiBhKGUsdCxuKXtpZighKGEuVFlQRURfQVJSQVlfU1VQUE9SVHx8dGhpcyBpbnN0YW5jZW9mIGEpKXJldHVybiBuZXcgYShlLHQsbik7aWYoIm51bWJlciI9PXR5cGVvZiBlKXtpZigic3RyaW5nIj09dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCJJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpO3JldHVybiB1KHRoaXMsZSl9cmV0dXJuIGwodGhpcyxlLHQsbil9ZnVuY3Rpb24gbChlLHQsbixyKXtpZigibnVtYmVyIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignInZhbHVlIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9kKGUsdCxuLHIpOiJzdHJpbmciPT10eXBlb2YgdD9mKGUsdCxuKTpwKGUsdCl9ZnVuY3Rpb24gcyhlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKX1mdW5jdGlvbiBjKGUsdCxuLHIpe3JldHVybiBzKHQpLDA+PXQ/byhlLHQpOnZvaWQgMCE9PW4/InN0cmluZyI9PXR5cGVvZiByP28oZSx0KS5maWxsKG4scik6byhlLHQpLmZpbGwobik6byhlLHQpfWZ1bmN0aW9uIHUoZSx0KXtpZihzKHQpLGU9byhlLDA+dD8wOjB8bSh0KSksIWEuVFlQRURfQVJSQVlfU1VQUE9SVClmb3IodmFyIG49MDt0Pm47bisrKWVbbl09MDtyZXR1cm4gZX1mdW5jdGlvbiBmKGUsdCxuKXtpZigic3RyaW5nIj09dHlwZW9mIG4mJiIiIT09bnx8KG49InV0ZjgiKSwhYS5pc0VuY29kaW5nKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoJyJlbmNvZGluZyIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpO3ZhciByPTB8dih0LG4pO3JldHVybiBlPW8oZSxyKSxlLndyaXRlKHQsbiksZX1mdW5jdGlvbiBoKGUsdCl7dmFyIG49MHxtKHQubGVuZ3RoKTtlPW8oZSxuKTtmb3IodmFyIHI9MDtuPnI7cis9MSllW3JdPTI1NSZ0W3JdO3JldHVybiBlfWZ1bmN0aW9uIGQoZSx0LG4scil7aWYodC5ieXRlTGVuZ3RoLDA+bnx8dC5ieXRlTGVuZ3RoPG4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIidvZmZzZXQnIGlzIG91dCBvZiBib3VuZHMiKTtpZih0LmJ5dGVMZW5ndGg8bisocnx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIidsZW5ndGgnIGlzIG91dCBvZiBib3VuZHMiKTtyZXR1cm4gdD12b2lkIDA9PT1yP25ldyBVaW50OEFycmF5KHQsbik6bmV3IFVpbnQ4QXJyYXkodCxuLHIpLGEuVFlQRURfQVJSQVlfU1VQUE9SVD8oZT10LGUuX19wcm90b19fPWEucHJvdG90eXBlKTplPWgoZSx0KSxlfWZ1bmN0aW9uIHAoZSx0KXtpZihhLmlzQnVmZmVyKHQpKXt2YXIgbj0wfG0odC5sZW5ndGgpO3JldHVybiBlPW8oZSxuKSwwPT09ZS5sZW5ndGg/ZToodC5jb3B5KGUsMCwwLG4pLGUpfWlmKHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fCJsZW5ndGgiaW4gdClyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQubGVuZ3RofHxLKHQubGVuZ3RoKT9vKGUsMCk6aChlLHQpO2lmKCJCdWZmZXIiPT09dC50eXBlJiZKKHQuZGF0YSkpcmV0dXJuIGgoZSx0LmRhdGEpfXRocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4iKX1mdW5jdGlvbiBtKGUpe2lmKGU+PWkoKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweCIraSgpLnRvU3RyaW5nKDE2KSsiIGJ5dGVzIik7cmV0dXJuIDB8ZX1mdW5jdGlvbiBnKGUpe3JldHVybitlIT1lJiYoZT0wKSxhLmFsbG9jKCtlKX1mdW5jdGlvbiB2KGUsdCl7aWYoYS5pc0J1ZmZlcihlKSlyZXR1cm4gZS5sZW5ndGg7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmImZ1bmN0aW9uIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyYmKEFycmF5QnVmZmVyLmlzVmlldyhlKXx8ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSlyZXR1cm4gZS5ieXRlTGVuZ3RoOyJzdHJpbmciIT10eXBlb2YgZSYmKGU9IiIrZSk7dmFyIG49ZS5sZW5ndGg7aWYoMD09PW4pcmV0dXJuIDA7Zm9yKHZhciByPSExOzspc3dpdGNoKHQpe2Nhc2UiYXNjaWkiOmNhc2UiYmluYXJ5IjpjYXNlInJhdyI6Y2FzZSJyYXdzIjpyZXR1cm4gbjtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2Ugdm9pZCAwOnJldHVybiBxKGUpLmxlbmd0aDtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIDIqbjtjYXNlImhleCI6cmV0dXJuIG4+Pj4xO2Nhc2UiYmFzZTY0IjpyZXR1cm4gJChlKS5sZW5ndGg7ZGVmYXVsdDppZihyKXJldHVybiBxKGUpLmxlbmd0aDt0PSgiIit0KS50b0xvd2VyQ2FzZSgpLHI9ITB9fWZ1bmN0aW9uIHkoZSx0LG4pe3ZhciByPSExO2lmKCh2b2lkIDA9PT10fHwwPnQpJiYodD0wKSx0PnRoaXMubGVuZ3RoKXJldHVybiIiO2lmKCh2b2lkIDA9PT1ufHxuPnRoaXMubGVuZ3RoKSYmKG49dGhpcy5sZW5ndGgpLDA+PW4pcmV0dXJuIiI7aWYobj4+Pj0wLHQ+Pj49MCx0Pj1uKXJldHVybiIiO2ZvcihlfHwoZT0idXRmOCIpOzspc3dpdGNoKGUpe2Nhc2UiaGV4IjpyZXR1cm4gSSh0aGlzLHQsbik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gTih0aGlzLHQsbik7Y2FzZSJhc2NpaSI6cmV0dXJuIEUodGhpcyx0LG4pO2Nhc2UiYmluYXJ5IjpyZXR1cm4gTyh0aGlzLHQsbik7Y2FzZSJiYXNlNjQiOnJldHVybiBNKHRoaXMsdCxuKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIFAodGhpcyx0LG4pO2RlZmF1bHQ6aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK2UpO2U9KGUrIiIpLnRvTG93ZXJDYXNlKCkscj0hMH19ZnVuY3Rpb24geChlLHQsbil7dmFyIHI9ZVt0XTtlW3RdPWVbbl0sZVtuXT1yfWZ1bmN0aW9uIGIoZSx0LG4scil7ZnVuY3Rpb24gaShlLHQpe3JldHVybiAxPT09bz9lW3RdOmUucmVhZFVJbnQxNkJFKHQqbyl9dmFyIG89MSxhPWUubGVuZ3RoLGw9dC5sZW5ndGg7aWYodm9pZCAwIT09ciYmKHI9U3RyaW5nKHIpLnRvTG93ZXJDYXNlKCksInVjczIiPT09cnx8InVjcy0yIj09PXJ8fCJ1dGYxNmxlIj09PXJ8fCJ1dGYtMTZsZSI9PT1yKSl7aWYoZS5sZW5ndGg8Mnx8dC5sZW5ndGg8MilyZXR1cm4tMTtvPTIsYS89MixsLz0yLG4vPTJ9Zm9yKHZhciBzPS0xLGM9MDthPm4rYztjKyspaWYoaShlLG4rYyk9PT1pKHQsLTE9PT1zPzA6Yy1zKSl7aWYoLTE9PT1zJiYocz1jKSxjLXMrMT09PWwpcmV0dXJuKG4rcykqb31lbHNlLTEhPT1zJiYoYy09Yy1zKSxzPS0xO3JldHVybi0xfWZ1bmN0aW9uIHcoZSx0LG4scil7bj1OdW1iZXIobil8fDA7dmFyIGk9ZS5sZW5ndGgtbjtyPyhyPU51bWJlcihyKSxyPmkmJihyPWkpKTpyPWk7dmFyIG89dC5sZW5ndGg7aWYobyUyIT09MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaGV4IHN0cmluZyIpO3I+by8yJiYocj1vLzIpO2Zvcih2YXIgYT0wO3I+YTthKyspe3ZhciBsPXBhcnNlSW50KHQuc3Vic3RyKDIqYSwyKSwxNik7aWYoaXNOYU4obCkpcmV0dXJuIGE7ZVtuK2FdPWx9cmV0dXJuIGF9ZnVuY3Rpb24gayhlLHQsbixyKXtyZXR1cm4gVihxKHQsZS5sZW5ndGgtbiksZSxuLHIpfWZ1bmN0aW9uIFMoZSx0LG4scil7cmV0dXJuIFYoRyh0KSxlLG4scil9ZnVuY3Rpb24gQyhlLHQsbixyKXtyZXR1cm4gUyhlLHQsbixyKX1mdW5jdGlvbiBMKGUsdCxuLHIpe3JldHVybiBWKCQodCksZSxuLHIpfWZ1bmN0aW9uIFQoZSx0LG4scil7cmV0dXJuIFYoWSh0LGUubGVuZ3RoLW4pLGUsbixyKX1mdW5jdGlvbiBNKGUsdCxuKXtyZXR1cm4gMD09PXQmJm49PT1lLmxlbmd0aD9YLmZyb21CeXRlQXJyYXkoZSk6WC5mcm9tQnl0ZUFycmF5KGUuc2xpY2UodCxuKSl9ZnVuY3Rpb24gTihlLHQsbil7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIHI9W10saT10O24+aTspe3ZhciBvPWVbaV0sYT1udWxsLGw9bz4yMzk/NDpvPjIyMz8zOm8+MTkxPzI6MTtpZihuPj1pK2wpe3ZhciBzLGMsdSxmO3N3aXRjaChsKXtjYXNlIDE6MTI4Pm8mJihhPW8pO2JyZWFrO2Nhc2UgMjpzPWVbaSsxXSwxMjg9PT0oMTkyJnMpJiYoZj0oMzEmbyk8PDZ8NjMmcyxmPjEyNyYmKGE9ZikpO2JyZWFrO2Nhc2UgMzpzPWVbaSsxXSxjPWVbaSsyXSwxMjg9PT0oMTkyJnMpJiYxMjg9PT0oMTkyJmMpJiYoZj0oMTUmbyk8PDEyfCg2MyZzKTw8Nnw2MyZjLGY+MjA0NyYmKDU1Mjk2PmZ8fGY+NTczNDMpJiYoYT1mKSk7YnJlYWs7Y2FzZSA0OnM9ZVtpKzFdLGM9ZVtpKzJdLHU9ZVtpKzNdLDEyOD09PSgxOTImcykmJjEyOD09PSgxOTImYykmJjEyOD09PSgxOTImdSkmJihmPSgxNSZvKTw8MTh8KDYzJnMpPDwxMnwoNjMmYyk8PDZ8NjMmdSxmPjY1NTM1JiYxMTE0MTEyPmYmJihhPWYpKX19bnVsbD09PWE/KGE9NjU1MzMsbD0xKTphPjY1NTM1JiYoYS09NjU1MzYsci5wdXNoKGE+Pj4xMCYxMDIzfDU1Mjk2KSxhPTU2MzIwfDEwMjMmYSksci5wdXNoKGEpLGkrPWx9cmV0dXJuIEEocil9ZnVuY3Rpb24gQShlKXt2YXIgdD1lLmxlbmd0aDtpZihRPj10KXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlKTtmb3IodmFyIG49IiIscj0wO3Q+cjspbis9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZS5zbGljZShyLHIrPVEpKTtyZXR1cm4gbn1mdW5jdGlvbiBFKGUsdCxuKXt2YXIgcj0iIjtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgaT10O24+aTtpKyspcis9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmZVtpXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gTyhlLHQsbil7dmFyIHI9IiI7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIGk9dDtuPmk7aSsrKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtpXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gSShlLHQsbil7dmFyIHI9ZS5sZW5ndGg7KCF0fHwwPnQpJiYodD0wKSwoIW58fDA+bnx8bj5yKSYmKG49cik7Zm9yKHZhciBpPSIiLG89dDtuPm87bysrKWkrPVUoZVtvXSk7cmV0dXJuIGl9ZnVuY3Rpb24gUChlLHQsbil7Zm9yKHZhciByPWUuc2xpY2UodCxuKSxpPSIiLG89MDtvPHIubGVuZ3RoO28rPTIpaSs9U3RyaW5nLmZyb21DaGFyQ29kZShyW29dKzI1NipyW28rMV0pO3JldHVybiBpfWZ1bmN0aW9uIFIoZSx0LG4pe2lmKGUlMSE9PTB8fDA+ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib2Zmc2V0IGlzIG5vdCB1aW50Iik7aWYoZSt0Pm4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgiKX1mdW5jdGlvbiBEKGUsdCxuLHIsaSxvKXtpZighYS5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciYnVmZmVyIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYodD5pfHxvPnQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKG4rcj5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gSChlLHQsbixyKXswPnQmJih0PTY1NTM1K3QrMSk7Zm9yKHZhciBpPTAsbz1NYXRoLm1pbihlLmxlbmd0aC1uLDIpO28+aTtpKyspZVtuK2ldPSh0JjI1NTw8OCoocj9pOjEtaSkpPj4+OCoocj9pOjEtaSl9ZnVuY3Rpb24gVyhlLHQsbixyKXswPnQmJih0PTQyOTQ5NjcyOTUrdCsxKTtmb3IodmFyIGk9MCxvPU1hdGgubWluKGUubGVuZ3RoLW4sNCk7bz5pO2krKyllW24raV09dD4+PjgqKHI/aTozLWkpJjI1NX1mdW5jdGlvbiBCKGUsdCxuLHIsaSxvKXtpZihuK3I+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpO2lmKDA+bil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gXyhlLHQsbixyLGkpe3JldHVybiBpfHxCKGUsdCxuLDQsMy40MDI4MjM0NjYzODUyODg2ZTM4LC0zLjQwMjgyMzQ2NjM4NTI4ODZlMzgpLFoud3JpdGUoZSx0LG4sciwyMyw0KSxuKzR9ZnVuY3Rpb24gRihlLHQsbixyLGkpe3JldHVybiBpfHxCKGUsdCxuLDgsMS43OTc2OTMxMzQ4NjIzMTU3ZTMwOCwtMS43OTc2OTMxMzQ4NjIzMTU3ZTMwOCksWi53cml0ZShlLHQsbixyLDUyLDgpLG4rOH1mdW5jdGlvbiB6KGUpe2lmKGU9aihlKS5yZXBsYWNlKGVlLCIiKSxlLmxlbmd0aDwyKXJldHVybiIiO2Zvcig7ZS5sZW5ndGglNCE9PTA7KWUrPSI9IjtyZXR1cm4gZX1mdW5jdGlvbiBqKGUpe3JldHVybiBlLnRyaW0/ZS50cmltKCk6ZS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9ZnVuY3Rpb24gVShlKXtyZXR1cm4gMTY+ZT8iMCIrZS50b1N0cmluZygxNik6ZS50b1N0cmluZygxNil9ZnVuY3Rpb24gcShlLHQpe3Q9dHx8MS8wO2Zvcih2YXIgbixyPWUubGVuZ3RoLGk9bnVsbCxvPVtdLGE9MDtyPmE7YSsrKXtpZihuPWUuY2hhckNvZGVBdChhKSxuPjU1Mjk1JiY1NzM0ND5uKXtpZighaSl7aWYobj41NjMxOSl7KHQtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWlmKGErMT09PXIpeyh0LT0zKT4tMSYmby5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pPW47Y29udGludWV9aWYoNTYzMjA+bil7KHQtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpLGk9bjtjb250aW51ZX1uPShpLTU1Mjk2PDwxMHxuLTU2MzIwKSs2NTUzNn1lbHNlIGkmJih0LT0zKT4tMSYmby5wdXNoKDIzOSwxOTEsMTg5KTtpZihpPW51bGwsMTI4Pm4pe2lmKCh0LT0xKTwwKWJyZWFrO28ucHVzaChuKX1lbHNlIGlmKDIwNDg+bil7aWYoKHQtPTIpPDApYnJlYWs7by5wdXNoKG4+PjZ8MTkyLDYzJm58MTI4KX1lbHNlIGlmKDY1NTM2Pm4pe2lmKCh0LT0zKTwwKWJyZWFrO28ucHVzaChuPj4xMnwyMjQsbj4+NiY2M3wxMjgsNjMmbnwxMjgpfWVsc2V7aWYoISgxMTE0MTEyPm4pKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBjb2RlIHBvaW50Iik7aWYoKHQtPTQpPDApYnJlYWs7by5wdXNoKG4+PjE4fDI0MCxuPj4xMiY2M3wxMjgsbj4+NiY2M3wxMjgsNjMmbnwxMjgpfX1yZXR1cm4gb31mdW5jdGlvbiBHKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQobikpO3JldHVybiB0fWZ1bmN0aW9uIFkoZSx0KXtmb3IodmFyIG4scixpLG89W10sYT0wO2E8ZS5sZW5ndGgmJiEoKHQtPTIpPDApO2ErKyluPWUuY2hhckNvZGVBdChhKSxyPW4+PjgsaT1uJTI1NixvLnB1c2goaSksby5wdXNoKHIpO3JldHVybiBvfWZ1bmN0aW9uICQoZSl7cmV0dXJuIFgudG9CeXRlQXJyYXkoeihlKSl9ZnVuY3Rpb24gVihlLHQsbixyKXtmb3IodmFyIGk9MDtyPmkmJiEoaStuPj10Lmxlbmd0aHx8aT49ZS5sZW5ndGgpO2krKyl0W2krbl09ZVtpXTtyZXR1cm4gaX1mdW5jdGlvbiBLKGUpe3JldHVybiBlIT09ZX12YXIgWD1lKCJiYXNlNjQtanMiKSxaPWUoImllZWU3NTQiKSxKPWUoImlzYXJyYXkiKTtuLkJ1ZmZlcj1hLG4uU2xvd0J1ZmZlcj1nLG4uSU5TUEVDVF9NQVhfQllURVM9NTAsYS5UWVBFRF9BUlJBWV9TVVBQT1JUPXZvaWQgMCE9PXQuVFlQRURfQVJSQVlfU1VQUE9SVD90LlRZUEVEX0FSUkFZX1NVUFBPUlQ6cigpLG4ua01heExlbmd0aD1pKCksYS5wb29sU2l6ZT04MTkyLGEuX2F1Z21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19fPWEucHJvdG90eXBlLGV9LGEuZnJvbT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGwobnVsbCxlLHQsbil9LGEuVFlQRURfQVJSQVlfU1VQUE9SVCYmKGEucHJvdG90eXBlLl9fcHJvdG9fXz1VaW50OEFycmF5LnByb3RvdHlwZSxhLl9fcHJvdG9fXz1VaW50OEFycmF5LCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuc3BlY2llcyYmYVtTeW1ib2wuc3BlY2llc109PT1hJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxTeW1ib2wuc3BlY2llcyx7dmFsdWU6bnVsbCxjb25maWd1cmFibGU6ITB9KSksYS5hbGxvYz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGMobnVsbCxlLHQsbil9LGEuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHUobnVsbCxlKX0sYS5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHUobnVsbCxlKX0sYS5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4hKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9LGEuY29tcGFyZT1mdW5jdGlvbihlLHQpe2lmKCFhLmlzQnVmZmVyKGUpfHwhYS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzIik7aWYoZT09PXQpcmV0dXJuIDA7Zm9yKHZhciBuPWUubGVuZ3RoLHI9dC5sZW5ndGgsaT0wLG89TWF0aC5taW4obixyKTtvPmk7KytpKWlmKGVbaV0hPT10W2ldKXtuPWVbaV0scj10W2ldO2JyZWFrfXJldHVybiByPm4/LTE6bj5yPzE6MH0sYS5pc0VuY29kaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZSJoZXgiOmNhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSJhc2NpaSI6Y2FzZSJiaW5hcnkiOmNhc2UiYmFzZTY0IjpjYXNlInJhdyI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxhLmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKCFKKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIGEuYWxsb2MoMCk7dmFyIG47aWYodm9pZCAwPT09dClmb3IodD0wLG49MDtuPGUubGVuZ3RoO24rKyl0Kz1lW25dLmxlbmd0aDt2YXIgcj1hLmFsbG9jVW5zYWZlKHQpLGk9MDtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO2lmKCFhLmlzQnVmZmVyKG8pKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtvLmNvcHkocixpKSxpKz1vLmxlbmd0aH1yZXR1cm4gcn0sYS5ieXRlTGVuZ3RoPXYsYS5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLGEucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlMiE9PTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzIik7Zm9yKHZhciB0PTA7ZT50O3QrPTIpeCh0aGlzLHQsdCsxKTtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU0IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMiKTtmb3IodmFyIHQ9MDtlPnQ7dCs9NCl4KHRoaXMsdCx0KzMpLHgodGhpcyx0KzEsdCsyKTtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT0wfHRoaXMubGVuZ3RoO3JldHVybiAwPT09ZT8iIjowPT09YXJndW1lbnRzLmxlbmd0aD9OKHRoaXMsMCxlKTp5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe2lmKCFhLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtyZXR1cm4gdGhpcz09PWU/ITA6MD09PWEuY29tcGFyZSh0aGlzLGUpfSxhLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIGU9IiIsdD1uLklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0aGlzLmxlbmd0aD4wJiYoZT10aGlzLnRvU3RyaW5nKCJoZXgiLDAsdCkubWF0Y2goLy57Mn0vZykuam9pbigiICIpLHRoaXMubGVuZ3RoPnQmJihlKz0iIC4uLiAiKSksIjxCdWZmZXIgIitlKyI+In0sYS5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlLHQsbixyLGkpe2lmKCFhLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1uJiYobj1lP2UubGVuZ3RoOjApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PWkmJihpPXRoaXMubGVuZ3RoKSwwPnR8fG4+ZS5sZW5ndGh8fDA+cnx8aT50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYocj49aSYmdD49bilyZXR1cm4gMDtpZihyPj1pKXJldHVybi0xO2lmKHQ+PW4pcmV0dXJuIDE7aWYodD4+Pj0wLG4+Pj49MCxyPj4+PTAsaT4+Pj0wLHRoaXM9PT1lKXJldHVybiAwO2Zvcih2YXIgbz1pLXIsbD1uLXQscz1NYXRoLm1pbihvLGwpLGM9dGhpcy5zbGljZShyLGkpLHU9ZS5zbGljZSh0LG4pLGY9MDtzPmY7KytmKWlmKGNbZl0hPT11W2ZdKXtvPWNbZl0sbD11W2ZdO2JyZWFrfXJldHVybiBsPm8/LTE6bz5sPzE6MH0sYS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlLHQsbil7aWYoInN0cmluZyI9PXR5cGVvZiB0PyhuPXQsdD0wKTp0PjIxNDc0ODM2NDc/dD0yMTQ3NDgzNjQ3Oi0yMTQ3NDgzNjQ4PnQmJih0PS0yMTQ3NDgzNjQ4KSx0Pj49MCwwPT09dGhpcy5sZW5ndGgpcmV0dXJuLTE7aWYodD49dGhpcy5sZW5ndGgpcmV0dXJuLTE7aWYoMD50JiYodD1NYXRoLm1heCh0aGlzLmxlbmd0aCt0LDApKSwic3RyaW5nIj09dHlwZW9mIGUmJihlPWEuZnJvbShlLG4pKSxhLmlzQnVmZmVyKGUpKXJldHVybiAwPT09ZS5sZW5ndGg/LTE6Yih0aGlzLGUsdCxuKTtpZigibnVtYmVyIj09dHlwZW9mIGUpcmV0dXJuIGEuVFlQRURfQVJSQVlfU1VQUE9SVCYmImZ1bmN0aW9uIj09PVVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHRoaXMsZSx0KTpiKHRoaXMsW2VdLHQsbik7dGhyb3cgbmV3IFR5cGVFcnJvcigidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyIil9LGEucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4tMSE9PXRoaXMuaW5kZXhPZihlLHQsbil9LGEucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKHZvaWQgMD09PXQpcj0idXRmOCIsbj10aGlzLmxlbmd0aCx0PTA7ZWxzZSBpZih2b2lkIDA9PT1uJiYic3RyaW5nIj09dHlwZW9mIHQpcj10LG49dGhpcy5sZW5ndGgsdD0wO2Vsc2V7aWYoIWlzRmluaXRlKHQpKXRocm93IG5ldyBFcnJvcigiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQiKTt0PTB8dCxpc0Zpbml0ZShuKT8obj0wfG4sdm9pZCAwPT09ciYmKHI9InV0ZjgiKSk6KHI9bixuPXZvaWQgMCl9dmFyIGk9dGhpcy5sZW5ndGgtdDtpZigodm9pZCAwPT09bnx8bj5pKSYmKG49aSksZS5sZW5ndGg+MCYmKDA+bnx8MD50KXx8dD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMiKTtyfHwocj0idXRmOCIpO2Zvcih2YXIgbz0hMTs7KXN3aXRjaChyKXtjYXNlImhleCI6cmV0dXJuIHcodGhpcyxlLHQsbik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gayh0aGlzLGUsdCxuKTtjYXNlImFzY2lpIjpyZXR1cm4gUyh0aGlzLGUsdCxuKTtjYXNlImJpbmFyeSI6cmV0dXJuIEModGhpcyxlLHQsbik7Y2FzZSJiYXNlNjQiOnJldHVybiBMKHRoaXMsZSx0LG4pO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gVCh0aGlzLGUsdCxuKTtkZWZhdWx0OmlmKG8pdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIityKTtyPSgiIityKS50b0xvd2VyQ2FzZSgpLG89ITB9fSxhLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiQnVmZmVyIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O3ZhciBRPTQwOTY7YS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmxlbmd0aDtlPX5+ZSx0PXZvaWQgMD09PXQ/bjp+fnQsMD5lPyhlKz1uLDA+ZSYmKGU9MCkpOmU+biYmKGU9biksMD50Pyh0Kz1uLDA+dCYmKHQ9MCkpOnQ+biYmKHQ9biksZT50JiYodD1lKTt2YXIgcjtpZihhLlRZUEVEX0FSUkFZX1NVUFBPUlQpcj10aGlzLnN1YmFycmF5KGUsdCksci5fX3Byb3RvX189YS5wcm90b3R5cGU7ZWxzZXt2YXIgaT10LWU7cj1uZXcgYShpLHZvaWQgMCk7Zm9yKHZhciBvPTA7aT5vO28rKylyW29dPXRoaXNbbytlXX1yZXR1cm4gcn0sYS5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbihlLHQsbil7ZT0wfGUsdD0wfHQsbnx8UihlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10aGlzW2VdLGk9MSxvPTA7KytvPHQmJihpKj0yNTYpOylyKz10aGlzW2Urb10qaTtyZXR1cm4gcn0sYS5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbihlLHQsbil7ZT0wfGUsdD0wfHQsbnx8UihlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10aGlzW2UrLS10XSxpPTE7dD4wJiYoaSo9MjU2KTspcis9dGhpc1tlKy0tdF0qaTtyZXR1cm4gcn0sYS5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fFIoZSwxLHRoaXMubGVuZ3RoKSx0aGlzW2VdfSxhLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UihlLDIsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fSxhLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UihlLDIsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDh8dGhpc1tlKzFdfSxhLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UihlLDQsdGhpcy5sZW5ndGgpLCh0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2KSsxNjc3NzIxNip0aGlzW2UrM119LGEucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxSKGUsNCx0aGlzLmxlbmd0aCksMTY3NzcyMTYqdGhpc1tlXSsodGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdKX0sYS5wcm90b3R5cGUucmVhZEludExFPWZ1bmN0aW9uKGUsdCxuKXtlPTB8ZSx0PTB8dCxufHxSKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXRoaXNbZV0saT0xLG89MDsrK288dCYmKGkqPTI1Nik7KXIrPXRoaXNbZStvXSppO3JldHVybiBpKj0xMjgscj49aSYmKHItPU1hdGgucG93KDIsOCp0KSkscn0sYS5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKGUsdCxuKXtlPTB8ZSx0PTB8dCxufHxSKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXQsaT0xLG89dGhpc1tlKy0tcl07cj4wJiYoaSo9MjU2KTspbys9dGhpc1tlKy0tcl0qaTtyZXR1cm4gaSo9MTI4LG8+PWkmJihvLT1NYXRoLnBvdygyLDgqdCkpLG99LGEucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fFIoZSwxLHRoaXMubGVuZ3RoKSwxMjgmdGhpc1tlXT8tMSooMjU1LXRoaXNbZV0rMSk6dGhpc1tlXX0sYS5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24oZSx0KXt0fHxSKGUsMix0aGlzLmxlbmd0aCk7dmFyIG49dGhpc1tlXXx0aGlzW2UrMV08PDg7cmV0dXJuIDMyNzY4Jm4/NDI5NDkwMTc2MHxuOm59LGEucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7dHx8UihlLDIsdGhpcy5sZW5ndGgpO3ZhciBuPXRoaXNbZSsxXXx0aGlzW2VdPDw4O3JldHVybiAzMjc2OCZuPzQyOTQ5MDE3NjB8bjpufSxhLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxSKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNnx0aGlzW2UrM108PDI0fSxhLnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxSKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXTw8MjR8dGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdfSxhLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxSKGUsNCx0aGlzLmxlbmd0aCksWi5yZWFkKHRoaXMsZSwhMCwyMyw0KX0sYS5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UihlLDQsdGhpcy5sZW5ndGgpLFoucmVhZCh0aGlzLGUsITEsMjMsNCl9LGEucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxSKGUsOCx0aGlzLmxlbmd0aCksWi5yZWFkKHRoaXMsZSwhMCw1Miw4KX0sYS5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fFIoZSw4LHRoaXMubGVuZ3RoKSxaLnJlYWQodGhpcyxlLCExLDUyLDgpfSxhLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbihlLHQsbixyKXtpZihlPStlLHQ9MHx0LG49MHxuLCFyKXt2YXIgaT1NYXRoLnBvdygyLDgqbiktMTtEKHRoaXMsZSx0LG4saSwwKX12YXIgbz0xLGE9MDtmb3IodGhpc1t0XT0yNTUmZTsrK2E8biYmKG8qPTI1Nik7KXRoaXNbdCthXT1lL28mMjU1O3JldHVybiB0K259LGEucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGU9K2UsdD0wfHQsbj0wfG4sIXIpe3ZhciBpPU1hdGgucG93KDIsOCpuKS0xO0QodGhpcyxlLHQsbixpLDApfXZhciBvPW4tMSxhPTE7Zm9yKHRoaXNbdCtvXT0yNTUmZTstLW8+PTAmJihhKj0yNTYpOyl0aGlzW3Qrb109ZS9hJjI1NTtyZXR1cm4gdCtufSxhLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PTB8dCxufHxEKHRoaXMsZSx0LDEsMjU1LDApLGEuVFlQRURfQVJSQVlfU1VQUE9SVHx8KGU9TWF0aC5mbG9vcihlKSksdGhpc1t0XT0yNTUmZSx0KzF9LGEucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHQ9MHx0LG58fEQodGhpcyxlLHQsMiw2NTUzNSwwKSxhLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44KTpIKHRoaXMsZSx0LCEwKSx0KzJ9LGEucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHQ9MHx0LG58fEQodGhpcyxlLHQsMiw2NTUzNSwwKSxhLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjgsdGhpc1t0KzFdPTI1NSZlKTpIKHRoaXMsZSx0LCExKSx0KzJ9LGEucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHQ9MHx0LG58fEQodGhpcyxlLHQsNCw0Mjk0OTY3Mjk1LDApLGEuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0KzNdPWU+Pj4yNCx0aGlzW3QrMl09ZT4+PjE2LHRoaXNbdCsxXT1lPj4+OCx0aGlzW3RdPTI1NSZlKTpXKHRoaXMsZSx0LCEwKSx0KzR9LGEucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHQ9MHx0LG58fEQodGhpcyxlLHQsNCw0Mjk0OTY3Mjk1LDApLGEuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlKTpXKHRoaXMsZSx0LCExKSx0KzR9LGEucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24oZSx0LG4scil7aWYoZT0rZSx0PTB8dCwhcil7dmFyIGk9TWF0aC5wb3coMiw4Km4tMSk7RCh0aGlzLGUsdCxuLGktMSwtaSl9dmFyIG89MCxhPTEsbD0wO2Zvcih0aGlzW3RdPTI1NSZlOysrbzxuJiYoYSo9MjU2KTspMD5lJiYwPT09bCYmMCE9PXRoaXNbdCtvLTFdJiYobD0xKSx0aGlzW3Qrb109KGUvYT4+MCktbCYyNTU7cmV0dXJuIHQrbn0sYS5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbihlLHQsbixyKXtpZihlPStlLHQ9MHx0LCFyKXt2YXIgaT1NYXRoLnBvdygyLDgqbi0xKTtEKHRoaXMsZSx0LG4saS0xLC1pKX12YXIgbz1uLTEsYT0xLGw9MDtmb3IodGhpc1t0K29dPTI1NSZlOy0tbz49MCYmKGEqPTI1Nik7KTA+ZSYmMD09PWwmJjAhPT10aGlzW3QrbysxXSYmKGw9MSksdGhpc1t0K29dPShlL2E+PjApLWwmMjU1O3JldHVybiB0K259LGEucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdD0wfHQsbnx8RCh0aGlzLGUsdCwxLDEyNywtMTI4KSxhLlRZUEVEX0FSUkFZX1NVUFBPUlR8fChlPU1hdGguZmxvb3IoZSkpLDA+ZSYmKGU9MjU1K2UrMSksdGhpc1t0XT0yNTUmZSx0KzF9LGEucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdD0wfHQsbnx8RCh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksYS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6SCh0aGlzLGUsdCwhMCksdCsyfSxhLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHQ9MHx0LG58fEQodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLGEuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUpOkgodGhpcyxlLHQsITEpLHQrMn0sYS5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PTB8dCxufHxEKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksYS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCx0aGlzW3QrMl09ZT4+PjE2LHRoaXNbdCszXT1lPj4+MjQpOlcodGhpcyxlLHQsITApLHQrNH0sYS5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PTB8dCxufHxEKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksMD5lJiYoZT00Mjk0OTY3Mjk1K2UrMSksYS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj4yNCx0aGlzW3QrMV09ZT4+PjE2LHRoaXNbdCsyXT1lPj4+OCx0aGlzW3QrM109MjU1JmUpOlcodGhpcyxlLHQsITEpLHQrNH0sYS5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gXyh0aGlzLGUsdCwhMCxuKX0sYS5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gXyh0aGlzLGUsdCwhMSxuKX0sYS5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEYodGhpcyxlLHQsITAsbil9LGEucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBGKHRoaXMsZSx0LCExLG4pfSxhLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUsdCxuLHIpe2lmKG58fChuPTApLHJ8fDA9PT1yfHwocj10aGlzLmxlbmd0aCksdD49ZS5sZW5ndGgmJih0PWUubGVuZ3RoKSx0fHwodD0wKSxyPjAmJm4+ciYmKHI9bikscj09PW4pcmV0dXJuIDA7aWYoMD09PWUubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYoMD50KXRocm93IG5ldyBSYW5nZUVycm9yKCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzIik7aWYoMD5ufHxuPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKDA+cil0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlRW5kIG91dCBvZiBib3VuZHMiKTtyPnRoaXMubGVuZ3RoJiYocj10aGlzLmxlbmd0aCksZS5sZW5ndGgtdDxyLW4mJihyPWUubGVuZ3RoLXQrbik7dmFyIGksbz1yLW47aWYodGhpcz09PWUmJnQ+biYmcj50KWZvcihpPW8tMTtpPj0wO2ktLSllW2krdF09dGhpc1tpK25dO2Vsc2UgaWYoMWUzPm98fCFhLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKGk9MDtvPmk7aSsrKWVbaSt0XT10aGlzW2krbl07ZWxzZSBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChlLHRoaXMuc3ViYXJyYXkobixuK28pLHQpO3JldHVybiBvfSxhLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0PyhyPXQsdD0wLG49dGhpcy5sZW5ndGgpOiJzdHJpbmciPT10eXBlb2YgbiYmKHI9bixuPXRoaXMubGVuZ3RoKSwxPT09ZS5sZW5ndGgpe3ZhciBpPWUuY2hhckNvZGVBdCgwKTsyNTY+aSYmKGU9aSl9aWYodm9pZCAwIT09ciYmInN0cmluZyIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmciKTtpZigic3RyaW5nIj09dHlwZW9mIHImJiFhLmlzRW5jb2RpbmcocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIityKX1lbHNlIm51bWJlciI9PXR5cGVvZiBlJiYoZT0yNTUmZSk7aWYoMD50fHx0aGlzLmxlbmd0aDx0fHx0aGlzLmxlbmd0aDxuKXRocm93IG5ldyBSYW5nZUVycm9yKCJPdXQgb2YgcmFuZ2UgaW5kZXgiKTtpZih0Pj1uKXJldHVybiB0aGlzO3Q+Pj49MCxuPXZvaWQgMD09PW4/dGhpcy5sZW5ndGg6bj4+PjAsZXx8KGU9MCk7dmFyIG87aWYoIm51bWJlciI9PXR5cGVvZiBlKWZvcihvPXQ7bj5vO28rKyl0aGlzW29dPWU7ZWxzZXt2YXIgbD1hLmlzQnVmZmVyKGUpP2U6cShuZXcgYShlLHIpLnRvU3RyaW5nKCkpLHM9bC5sZW5ndGg7Zm9yKG89MDtuLXQ+bztvKyspdGhpc1tvK3RdPWxbbyVzXX1yZXR1cm4gdGhpc307dmFyIGVlPS9bXitcLzAtOUEtWmEtei1fXS9nfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7ImJhc2U2NC1qcyI6MSxpZWVlNzU0OjE1LGlzYXJyYXk6MTZ9XSw0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGU9ZXx8e30sImZ1bmN0aW9uIiE9dHlwZW9mIGUuY29kZU1pcnJvckluc3RhbmNlfHwiZnVuY3Rpb24iIT10eXBlb2YgZS5jb2RlTWlycm9ySW5zdGFuY2UuZGVmaW5lTW9kZT92b2lkIGNvbnNvbGUubG9nKCJDb2RlTWlycm9yIFNwZWxsIENoZWNrZXI6IFlvdSBtdXN0IHByb3ZpZGUgYW4gaW5zdGFuY2Ugb2YgQ29kZU1pcnJvciB2aWEgdGhlIG9wdGlvbiBgY29kZU1pcnJvckluc3RhbmNlYCIpOihTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzfHwoU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbigpe3JldHVybi0xIT09U3RyaW5nLnByb3RvdHlwZS5pbmRleE9mLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHZvaWQgZS5jb2RlTWlycm9ySW5zdGFuY2UuZGVmaW5lTW9kZSgic3BlbGwtY2hlY2tlciIsZnVuY3Rpb24odCl7aWYoIXIuYWZmX2xvYWRpbmcpe3IuYWZmX2xvYWRpbmc9ITA7dmFyIG49bmV3IFhNTEh0dHBSZXF1ZXN0O24ub3BlbigiR0VUIiwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2NvZGVtaXJyb3Iuc3BlbGwtY2hlY2tlci9sYXRlc3QvZW5fVVMuYWZmIiwhMCksbi5vbmxvYWQ9ZnVuY3Rpb24oKXs0PT09bi5yZWFkeVN0YXRlJiYyMDA9PT1uLnN0YXR1cyYmKHIuYWZmX2RhdGE9bi5yZXNwb25zZVRleHQsci5udW1fbG9hZGVkKyssMj09ci5udW1fbG9hZGVkJiYoci50eXBvPW5ldyBpKCJlbl9VUyIsci5hZmZfZGF0YSxyLmRpY19kYXRhLHtwbGF0Zm9ybToiYW55In0pKSl9LG4uc2VuZChudWxsKX1pZighci5kaWNfbG9hZGluZyl7ci5kaWNfbG9hZGluZz0hMDt2YXIgbz1uZXcgWE1MSHR0cFJlcXVlc3Q7by5vcGVuKCJHRVQiLCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvY29kZW1pcnJvci5zcGVsbC1jaGVja2VyL2xhdGVzdC9lbl9VUy5kaWMiLCEwKSxvLm9ubG9hZD1mdW5jdGlvbigpezQ9PT1vLnJlYWR5U3RhdGUmJjIwMD09PW8uc3RhdHVzJiYoci5kaWNfZGF0YT1vLnJlc3BvbnNlVGV4dCxyLm51bV9sb2FkZWQrKywyPT1yLm51bV9sb2FkZWQmJihyLnR5cG89bmV3IGkoImVuX1VTIixyLmFmZl9kYXRhLHIuZGljX2RhdGEse3BsYXRmb3JtOiJhbnkifSkpKX0sby5zZW5kKG51bGwpfXZhciBhPSchIiMkJSYoKSorLC0uLzo7PD0+P0BbXFxdXl9ge3x9fiAnLGw9e3Rva2VuOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGVlaygpLG49IiI7aWYoYS5pbmNsdWRlcyh0KSlyZXR1cm4gZS5uZXh0KCksbnVsbDtmb3IoO251bGwhPSh0PWUucGVlaygpKSYmIWEuaW5jbHVkZXModCk7KW4rPXQsZS5uZXh0KCk7cmV0dXJuIHIudHlwbyYmIXIudHlwby5jaGVjayhuKT8ic3BlbGwtZXJyb3IiOm51bGx9fSxzPWUuY29kZU1pcnJvckluc3RhbmNlLmdldE1vZGUodCx0LmJhY2tkcm9wfHwidGV4dC9wbGFpbiIpO3JldHVybiBlLmNvZGVNaXJyb3JJbnN0YW5jZS5vdmVybGF5TW9kZShzLGwsITApfSkpfXZhciBpPWUoInR5cG8tanMiKTtyLm51bV9sb2FkZWQ9MCxyLmFmZl9sb2FkaW5nPSExLHIuZGljX2xvYWRpbmc9ITEsci5hZmZfZGF0YT0iIixyLmRpY19kYXRhPSIiLHIudHlwbyx0LmV4cG9ydHM9cn0seyJ0eXBvLWpzIjoxOH1dLDU6W2Z1bmN0aW9uKHQsbixyKXshZnVuY3Rpb24oaSl7Im9iamVjdCI9PXR5cGVvZiByJiYib2JqZWN0Ij09dHlwZW9mIG4/aSh0KCIuLi8uLi9saWIvY29kZW1pcnJvciIpKToiZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5hbWQ/ZShbIi4uLy4uL2xpYi9jb2RlbWlycm9yIl0saSk6aShDb2RlTWlycm9yKX0oZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7dmFyIHQ9ZS5nZXRXcmFwcGVyRWxlbWVudCgpO2Uuc3RhdGUuZnVsbFNjcmVlblJlc3RvcmU9e3Njcm9sbFRvcDp3aW5kb3cucGFnZVlPZmZzZXQsc2Nyb2xsTGVmdDp3aW5kb3cucGFnZVhPZmZzZXQsd2lkdGg6dC5zdHlsZS53aWR0aCxoZWlnaHQ6dC5zdHlsZS5oZWlnaHR9LHQuc3R5bGUud2lkdGg9IiIsdC5zdHlsZS5oZWlnaHQ9ImF1dG8iLHQuY2xhc3NOYW1lKz0iIENvZGVNaXJyb3ItZnVsbHNjcmVlbiIsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGUucmVmcmVzaCgpfWZ1bmN0aW9uIG4oZSl7dmFyIHQ9ZS5nZXRXcmFwcGVyRWxlbWVudCgpO3QuY2xhc3NOYW1lPXQuY2xhc3NOYW1lLnJlcGxhY2UoL1xzKkNvZGVNaXJyb3ItZnVsbHNjcmVlblxiLywiIiksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93PSIiO3ZhciBuPWUuc3RhdGUuZnVsbFNjcmVlblJlc3RvcmU7dC5zdHlsZS53aWR0aD1uLndpZHRoLHQuc3R5bGUuaGVpZ2h0PW4uaGVpZ2h0LHdpbmRvdy5zY3JvbGxUbyhuLnNjcm9sbExlZnQsbi5zY3JvbGxUb3ApLGUucmVmcmVzaCgpfWUuZGVmaW5lT3B0aW9uKCJmdWxsU2NyZWVuIiwhMSxmdW5jdGlvbihyLGksbyl7bz09ZS5Jbml0JiYobz0hMSksIW8hPSFpJiYoaT90KHIpOm4ocikpfSl9KX0seyIuLi8uLi9saWIvY29kZW1pcnJvciI6MTB9XSw2OltmdW5jdGlvbih0LG4scil7IWZ1bmN0aW9uKGkpeyJvYmplY3QiPT10eXBlb2YgciYmIm9iamVjdCI9PXR5cGVvZiBuP2kodCgiLi4vLi4vbGliL2NvZGVtaXJyb3IiKSk6ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuYW1kP2UoWyIuLi8uLi9saWIvY29kZW1pcnJvciJdLGkpOmkoQ29kZU1pcnJvcil9KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7ZS5zdGF0ZS5wbGFjZWhvbGRlciYmKGUuc3RhdGUucGxhY2Vob2xkZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlLnN0YXRlLnBsYWNlaG9sZGVyKSxlLnN0YXRlLnBsYWNlaG9sZGVyPW51bGwpfWZ1bmN0aW9uIG4oZSl7dChlKTt2YXIgbj1lLnN0YXRlLnBsYWNlaG9sZGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInByZSIpO24uc3R5bGUuY3NzVGV4dD0iaGVpZ2h0OiAwOyBvdmVyZmxvdzogdmlzaWJsZSIsbi5jbGFzc05hbWU9IkNvZGVNaXJyb3ItcGxhY2Vob2xkZXIiO3ZhciByPWUuZ2V0T3B0aW9uKCJwbGFjZWhvbGRlciIpOyJzdHJpbmciPT10eXBlb2YgciYmKHI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocikpLG4uYXBwZW5kQ2hpbGQociksZS5kaXNwbGF5LmxpbmVTcGFjZS5pbnNlcnRCZWZvcmUobixlLmRpc3BsYXkubGluZVNwYWNlLmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIHIoZSl7byhlKSYmbihlKX1mdW5jdGlvbiBpKGUpe3ZhciByPWUuZ2V0V3JhcHBlckVsZW1lbnQoKSxpPW8oZSk7ci5jbGFzc05hbWU9ci5jbGFzc05hbWUucmVwbGFjZSgiIENvZGVNaXJyb3ItZW1wdHkiLCIiKSsoaT8iIENvZGVNaXJyb3ItZW1wdHkiOiIiKSxpP24oZSk6dChlKX1mdW5jdGlvbiBvKGUpe3JldHVybiAxPT09ZS5saW5lQ291bnQoKSYmIiI9PT1lLmdldExpbmUoMCl9ZS5kZWZpbmVPcHRpb24oInBsYWNlaG9sZGVyIiwiIixmdW5jdGlvbihuLG8sYSl7dmFyIGw9YSYmYSE9ZS5Jbml0O2lmKG8mJiFsKW4ub24oImJsdXIiLHIpLG4ub24oImNoYW5nZSIsaSksbi5vbigic3dhcERvYyIsaSksaShuKTtlbHNlIGlmKCFvJiZsKXtuLm9mZigiYmx1ciIsciksbi5vZmYoImNoYW5nZSIsaSksbi5vZmYoInN3YXBEb2MiLGkpLHQobik7dmFyIHM9bi5nZXRXcmFwcGVyRWxlbWVudCgpO3MuY2xhc3NOYW1lPXMuY2xhc3NOYW1lLnJlcGxhY2UoIiBDb2RlTWlycm9yLWVtcHR5IiwiIil9byYmIW4uaGFzRm9jdXMoKSYmcihuKX0pfSl9LHsiLi4vLi4vbGliL2NvZGVtaXJyb3IiOjEwfV0sNzpbZnVuY3Rpb24odCxuLHIpeyFmdW5jdGlvbihpKXsib2JqZWN0Ij09dHlwZW9mIHImJiJvYmplY3QiPT10eXBlb2Ygbj9pKHQoIi4uLy4uL2xpYi9jb2RlbWlycm9yIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFtZD9lKFsiLi4vLi4vbGliL2NvZGVtaXJyb3IiXSxpKTppKENvZGVNaXJyb3IpfShmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7dmFyIHQ9L14oXHMqKSg+Wz4gXSp8WyorLV1cc3woXGQrKShbLildKSkoXHMqKS8sbj0vXihccyopKD5bPiBdKnxbKistXXwoXGQrKVsuKV0pKFxzKikkLyxyPS9bKistXVxzLztlLmNvbW1hbmRzLm5ld2xpbmVBbmRJbmRlbnRDb250aW51ZU1hcmtkb3duTGlzdD1mdW5jdGlvbihpKXtpZihpLmdldE9wdGlvbigiZGlzYWJsZUlucHV0IikpcmV0dXJuIGUuUGFzcztmb3IodmFyIG89aS5saXN0U2VsZWN0aW9ucygpLGE9W10sbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgcz1vW2xdLmhlYWQsYz1pLmdldFN0YXRlQWZ0ZXIocy5saW5lKSx1PWMubGlzdCE9PSExLGY9MCE9PWMucXVvdGUsaD1pLmdldExpbmUocy5saW5lKSxkPXQuZXhlYyhoKTtpZighb1tsXS5lbXB0eSgpfHwhdSYmIWZ8fCFkKXJldHVybiB2b2lkIGkuZXhlY0NvbW1hbmQoIm5ld2xpbmVBbmRJbmRlbnQiKTtpZihuLnRlc3QoaCkpaS5yZXBsYWNlUmFuZ2UoIiIse2xpbmU6cy5saW5lLGNoOjB9LHtsaW5lOnMubGluZSxjaDpzLmNoKzF9KSxhW2xdPSJcbiI7ZWxzZXt2YXIgcD1kWzFdLG09ZFs1XSxnPXIudGVzdChkWzJdKXx8ZFsyXS5pbmRleE9mKCI+Iik+PTA/ZFsyXTpwYXJzZUludChkWzNdLDEwKSsxK2RbNF07YVtsXT0iXG4iK3ArZyttfX1pLnJlcGxhY2VTZWxlY3Rpb25zKGEpfX0pfSx7Ii4uLy4uL2xpYi9jb2RlbWlycm9yIjoxMH1dLDg6W2Z1bmN0aW9uKHQsbixyKXshZnVuY3Rpb24oaSl7Im9iamVjdCI9PXR5cGVvZiByJiYib2JqZWN0Ij09dHlwZW9mIG4/aSh0KCIuLi8uLi9saWIvY29kZW1pcnJvciIpKToiZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5hbWQ/ZShbIi4uLy4uL2xpYi9jb2RlbWlycm9yIl0saSk6aShDb2RlTWlycm9yKX0oZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Uub3ZlcmxheU1vZGU9ZnVuY3Rpb24odCxuLHIpe3JldHVybntzdGFydFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue2Jhc2U6ZS5zdGFydFN0YXRlKHQpLG92ZXJsYXk6ZS5zdGFydFN0YXRlKG4pLGJhc2VQb3M6MCxiYXNlQ3VyOm51bGwsb3ZlcmxheVBvczowLG92ZXJsYXlDdXI6bnVsbCxzdHJlYW1TZWVuOm51bGx9fSxjb3B5U3RhdGU6ZnVuY3Rpb24ocil7cmV0dXJue2Jhc2U6ZS5jb3B5U3RhdGUodCxyLmJhc2UpLG92ZXJsYXk6ZS5jb3B5U3RhdGUobixyLm92ZXJsYXkpLGJhc2VQb3M6ci5iYXNlUG9zLGJhc2VDdXI6bnVsbCxvdmVybGF5UG9zOnIub3ZlcmxheVBvcyxvdmVybGF5Q3VyOm51bGx9fSx0b2tlbjpmdW5jdGlvbihlLGkpe3JldHVybihlIT1pLnN0cmVhbVNlZW58fE1hdGgubWluKGkuYmFzZVBvcyxpLm92ZXJsYXlQb3MpPGUuc3RhcnQpJiYoaS5zdHJlYW1TZWVuPWUsaS5iYXNlUG9zPWkub3ZlcmxheVBvcz1lLnN0YXJ0KSxlLnN0YXJ0PT1pLmJhc2VQb3MmJihpLmJhc2VDdXI9dC50b2tlbihlLGkuYmFzZSksaS5iYXNlUG9zPWUucG9zKSxlLnN0YXJ0PT1pLm92ZXJsYXlQb3MmJihlLnBvcz1lLnN0YXJ0LGkub3ZlcmxheUN1cj1uLnRva2VuKGUsaS5vdmVybGF5KSxpLm92ZXJsYXlQb3M9ZS5wb3MpLGUucG9zPU1hdGgubWluKGkuYmFzZVBvcyxpLm92ZXJsYXlQb3MpLG51bGw9PWkub3ZlcmxheUN1cj9pLmJhc2VDdXI6bnVsbCE9aS5iYXNlQ3VyJiZpLm92ZXJsYXkuY29tYmluZVRva2Vuc3x8ciYmbnVsbD09aS5vdmVybGF5LmNvbWJpbmVUb2tlbnM/aS5iYXNlQ3VyKyIgIitpLm92ZXJsYXlDdXI6aS5vdmVybGF5Q3VyfSxpbmRlbnQ6dC5pbmRlbnQmJmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuaW5kZW50KGUuYmFzZSxuKX0sZWxlY3RyaWNDaGFyczp0LmVsZWN0cmljQ2hhcnMsaW5uZXJNb2RlOmZ1bmN0aW9uKGUpe3JldHVybntzdGF0ZTplLmJhc2UsbW9kZTp0fX0sYmxhbmtMaW5lOmZ1bmN0aW9uKGUpe3QuYmxhbmtMaW5lJiZ0LmJsYW5rTGluZShlLmJhc2UpLG4uYmxhbmtMaW5lJiZuLmJsYW5rTGluZShlLm92ZXJsYXkpfX19fSl9LHsiLi4vLi4vbGliL2NvZGVtaXJyb3IiOjEwfV0sOTpbZnVuY3Rpb24odCxuLHIpeyFmdW5jdGlvbihpKXsib2JqZWN0Ij09dHlwZW9mIHImJiJvYmplY3QiPT10eXBlb2Ygbj9pKHQoIi4uLy4uL2xpYi9jb2RlbWlycm9yIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFtZD9lKFsiLi4vLi4vbGliL2NvZGVtaXJyb3IiXSxpKTppKENvZGVNaXJyb3IpfShmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtlLm9wZXJhdGlvbihmdW5jdGlvbigpe2EoZSl9KX1mdW5jdGlvbiBuKGUpe2Uuc3RhdGUubWFya2VkU2VsZWN0aW9uLmxlbmd0aCYmZS5vcGVyYXRpb24oZnVuY3Rpb24oKXtpKGUpfSl9ZnVuY3Rpb24gcihlLHQsbixyKXtpZigwIT1jKHQsbikpZm9yKHZhciBpPWUuc3RhdGUubWFya2VkU2VsZWN0aW9uLG89ZS5zdGF0ZS5tYXJrZWRTZWxlY3Rpb25TdHlsZSxhPXQubGluZTs7KXt2YXIgdT1hPT10LmxpbmU/dDpzKGEsMCksZj1hK2wsaD1mPj1uLmxpbmUsZD1oP246cyhmLDApLHA9ZS5tYXJrVGV4dCh1LGQse2NsYXNzTmFtZTpvfSk7aWYobnVsbD09cj9pLnB1c2gocCk6aS5zcGxpY2UocisrLDAscCksaClicmVhazthPWZ9fWZ1bmN0aW9uIGkoZSl7Zm9yKHZhciB0PWUuc3RhdGUubWFya2VkU2VsZWN0aW9uLG49MDtuPHQubGVuZ3RoOysrbil0W25dLmNsZWFyKCk7dC5sZW5ndGg9MH1mdW5jdGlvbiBvKGUpe2koZSk7Zm9yKHZhciB0PWUubGlzdFNlbGVjdGlvbnMoKSxuPTA7bjx0Lmxlbmd0aDtuKyspcihlLHRbbl0uZnJvbSgpLHRbbl0udG8oKSl9ZnVuY3Rpb24gYShlKXtpZighZS5zb21ldGhpbmdTZWxlY3RlZCgpKXJldHVybiBpKGUpO2lmKGUubGlzdFNlbGVjdGlvbnMoKS5sZW5ndGg+MSlyZXR1cm4gbyhlKTt2YXIgdD1lLmdldEN1cnNvcigic3RhcnQiKSxuPWUuZ2V0Q3Vyc29yKCJlbmQiKSxhPWUuc3RhdGUubWFya2VkU2VsZWN0aW9uO2lmKCFhLmxlbmd0aClyZXR1cm4gcihlLHQsbik7dmFyIHM9YVswXS5maW5kKCksdT1hW2EubGVuZ3RoLTFdLmZpbmQoKTtpZighc3x8IXV8fG4ubGluZS10LmxpbmU8bHx8Yyh0LHUudG8pPj0wfHxjKG4scy5mcm9tKTw9MClyZXR1cm4gbyhlKTtmb3IoO2ModCxzLmZyb20pPjA7KWEuc2hpZnQoKS5jbGVhcigpLHM9YVswXS5maW5kKCk7Zm9yKGModCxzLmZyb20pPDAmJihzLnRvLmxpbmUtdC5saW5lPGw/KGEuc2hpZnQoKS5jbGVhcigpLHIoZSx0LHMudG8sMCkpOnIoZSx0LHMuZnJvbSwwKSk7YyhuLHUudG8pPDA7KWEucG9wKCkuY2xlYXIoKSx1PWFbYS5sZW5ndGgtMV0uZmluZCgpO2Mobix1LnRvKT4wJiYobi5saW5lLXUuZnJvbS5saW5lPGw/KGEucG9wKCkuY2xlYXIoKSxyKGUsdS5mcm9tLG4pKTpyKGUsdS50byxuKSl9ZS5kZWZpbmVPcHRpb24oInN0eWxlU2VsZWN0ZWRUZXh0IiwhMSxmdW5jdGlvbihyLGEsbCl7dmFyIHM9bCYmbCE9ZS5Jbml0O2EmJiFzPyhyLnN0YXRlLm1hcmtlZFNlbGVjdGlvbj1bXSxyLnN0YXRlLm1hcmtlZFNlbGVjdGlvblN0eWxlPSJzdHJpbmciPT10eXBlb2YgYT9hOiJDb2RlTWlycm9yLXNlbGVjdGVkdGV4dCIsbyhyKSxyLm9uKCJjdXJzb3JBY3Rpdml0eSIsdCksci5vbigiY2hhbmdlIixuKSk6IWEmJnMmJihyLm9mZigiY3Vyc29yQWN0aXZpdHkiLHQpLHIub2ZmKCJjaGFuZ2UiLG4pLGkociksci5zdGF0ZS5tYXJrZWRTZWxlY3Rpb249ci5zdGF0ZS5tYXJrZWRTZWxlY3Rpb25TdHlsZT1udWxsKX0pO3ZhciBsPTgscz1lLlBvcyxjPWUuY21wUG9zfSl9LHsiLi4vLi4vbGliL2NvZGVtaXJyb3IiOjEwfV0sMTA6W2Z1bmN0aW9uKHQsbixyKXshZnVuY3Rpb24odCl7aWYoIm9iamVjdCI9PXR5cGVvZiByJiYib2JqZWN0Ij09dHlwZW9mIG4pbi5leHBvcnRzPXQoKTtlbHNle2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFtZClyZXR1cm4gZShbXSx0KTsodGhpc3x8d2luZG93KS5Db2RlTWlycm9yPXQoKX19KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUobixyKXtpZighKHRoaXMgaW5zdGFuY2VvZiBlKSlyZXR1cm4gbmV3IGUobixyKTt0aGlzLm9wdGlvbnM9cj1yP1dpKHIpOnt9LFdpKGVhLHIsITEpLGQocik7dmFyIGk9ci52YWx1ZTsic3RyaW5nIj09dHlwZW9mIGkmJihpPW5ldyBDYShpLHIubW9kZSxudWxsLHIubGluZVNlcGFyYXRvcikpLHRoaXMuZG9jPWk7dmFyIG89bmV3IGUuaW5wdXRTdHlsZXNbci5pbnB1dFN0eWxlXSh0aGlzKSxhPXRoaXMuZGlzcGxheT1uZXcgdChuLGksbyk7YS53cmFwcGVyLkNvZGVNaXJyb3I9dGhpcyxjKHRoaXMpLGwodGhpcyksci5saW5lV3JhcHBpbmcmJih0aGlzLmRpc3BsYXkud3JhcHBlci5jbGFzc05hbWUrPSIgQ29kZU1pcnJvci13cmFwIiksci5hdXRvZm9jdXMmJiFBbyYmYS5pbnB1dC5mb2N1cygpLHYodGhpcyksdGhpcy5zdGF0ZT17a2V5TWFwczpbXSxvdmVybGF5czpbXSxtb2RlR2VuOjAsb3ZlcndyaXRlOiExLGRlbGF5aW5nQmx1ckV2ZW50OiExLGZvY3VzZWQ6ITEsc3VwcHJlc3NFZGl0czohMSxwYXN0ZUluY29taW5nOiExLGN1dEluY29taW5nOiExLHNlbGVjdGluZ1RleHQ6ITEsZHJhZ2dpbmdUZXh0OiExLGhpZ2hsaWdodDpuZXcgRWksa2V5U2VxOm51bGwsc3BlY2lhbENoYXJzOm51bGx9O3ZhciBzPXRoaXM7eG8mJjExPmJvJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5kaXNwbGF5LmlucHV0LnJlc2V0KCEwKX0sMjApLGp0KHRoaXMpLEtpKCksYnQodGhpcyksdGhpcy5jdXJPcC5mb3JjZVVwZGF0ZT0hMCxYcih0aGlzLGkpLHIuYXV0b2ZvY3VzJiYhQW98fHMuaGFzRm9jdXMoKT9zZXRUaW1lb3V0KEJpKHZuLHRoaXMpLDIwKTp5bih0aGlzKTtmb3IodmFyIHUgaW4gdGEpdGEuaGFzT3duUHJvcGVydHkodSkmJnRhW3VdKHRoaXMsclt1XSxuYSk7ayh0aGlzKSxyLmZpbmlzaEluaXQmJnIuZmluaXNoSW5pdCh0aGlzKTtmb3IodmFyIGY9MDtmPGFhLmxlbmd0aDsrK2YpYWFbZl0odGhpcyk7a3QodGhpcyksd28mJnIubGluZVdyYXBwaW5nJiYib3B0aW1pemVsZWdpYmlsaXR5Ij09Z2V0Q29tcHV0ZWRTdHlsZShhLmxpbmVEaXYpLnRleHRSZW5kZXJpbmcmJihhLmxpbmVEaXYuc3R5bGUudGV4dFJlbmRlcmluZz0iYXV0byIpfWZ1bmN0aW9uIHQoZSx0LG4pe3ZhciByPXRoaXM7dGhpcy5pbnB1dD1uLHIuc2Nyb2xsYmFyRmlsbGVyPWppKCJkaXYiLG51bGwsIkNvZGVNaXJyb3Itc2Nyb2xsYmFyLWZpbGxlciIpLHIuc2Nyb2xsYmFyRmlsbGVyLnNldEF0dHJpYnV0ZSgiY20tbm90LWNvbnRlbnQiLCJ0cnVlIiksci5ndXR0ZXJGaWxsZXI9amkoImRpdiIsbnVsbCwiQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyIiksci5ndXR0ZXJGaWxsZXIuc2V0QXR0cmlidXRlKCJjbS1ub3QtY29udGVudCIsInRydWUiKSxyLmxpbmVEaXY9amkoImRpdiIsbnVsbCwiQ29kZU1pcnJvci1jb2RlIiksci5zZWxlY3Rpb25EaXY9amkoImRpdiIsbnVsbCxudWxsLCJwb3NpdGlvbjogcmVsYXRpdmU7IHotaW5kZXg6IDEiKSxyLmN1cnNvckRpdj1qaSgiZGl2IixudWxsLCJDb2RlTWlycm9yLWN1cnNvcnMiKSxyLm1lYXN1cmU9amkoImRpdiIsbnVsbCwiQ29kZU1pcnJvci1tZWFzdXJlIiksci5saW5lTWVhc3VyZT1qaSgiZGl2IixudWxsLCJDb2RlTWlycm9yLW1lYXN1cmUiKSxyLmxpbmVTcGFjZT1qaSgiZGl2Iixbci5tZWFzdXJlLHIubGluZU1lYXN1cmUsci5zZWxlY3Rpb25EaXYsci5jdXJzb3JEaXYsci5saW5lRGl2XSxudWxsLCJwb3NpdGlvbjogcmVsYXRpdmU7IG91dGxpbmU6IG5vbmUiKSxyLm1vdmVyPWppKCJkaXYiLFtqaSgiZGl2Iixbci5saW5lU3BhY2VdLCJDb2RlTWlycm9yLWxpbmVzIildLG51bGwsInBvc2l0aW9uOiByZWxhdGl2ZSIpLHIuc2l6ZXI9amkoImRpdiIsW3IubW92ZXJdLCJDb2RlTWlycm9yLXNpemVyIiksci5zaXplcldpZHRoPW51bGwsci5oZWlnaHRGb3JjZXI9amkoImRpdiIsbnVsbCxudWxsLCJwb3NpdGlvbjogYWJzb2x1dGU7IGhlaWdodDogIitEYSsicHg7IHdpZHRoOiAxcHg7Iiksci5ndXR0ZXJzPWppKCJkaXYiLG51bGwsIkNvZGVNaXJyb3ItZ3V0dGVycyIpLHIubGluZUd1dHRlcj1udWxsLHIuc2Nyb2xsZXI9amkoImRpdiIsW3Iuc2l6ZXIsci5oZWlnaHRGb3JjZXIsci5ndXR0ZXJzXSwiQ29kZU1pcnJvci1zY3JvbGwiKSxyLnNjcm9sbGVyLnNldEF0dHJpYnV0ZSgidGFiSW5kZXgiLCItMSIpLHIud3JhcHBlcj1qaSgiZGl2Iixbci5zY3JvbGxiYXJGaWxsZXIsci5ndXR0ZXJGaWxsZXIsci5zY3JvbGxlcl0sIkNvZGVNaXJyb3IiKSx4byYmOD5ibyYmKHIuZ3V0dGVycy5zdHlsZS56SW5kZXg9LTEsci5zY3JvbGxlci5zdHlsZS5wYWRkaW5nUmlnaHQ9MCksd298fGdvJiZBb3x8KHIuc2Nyb2xsZXIuZHJhZ2dhYmxlPSEwKSxlJiYoZS5hcHBlbmRDaGlsZD9lLmFwcGVuZENoaWxkKHIud3JhcHBlcik6ZShyLndyYXBwZXIpKSxyLnZpZXdGcm9tPXIudmlld1RvPXQuZmlyc3Qsci5yZXBvcnRlZFZpZXdGcm9tPXIucmVwb3J0ZWRWaWV3VG89dC5maXJzdCxyLnZpZXc9W10sci5yZW5kZXJlZFZpZXc9bnVsbCxyLmV4dGVybmFsTWVhc3VyZWQ9bnVsbCxyLnZpZXdPZmZzZXQ9MCxyLmxhc3RXcmFwSGVpZ2h0PXIubGFzdFdyYXBXaWR0aD0wLHIudXBkYXRlTGluZU51bWJlcnM9bnVsbCxyLm5hdGl2ZUJhcldpZHRoPXIuYmFySGVpZ2h0PXIuYmFyV2lkdGg9MCxyLnNjcm9sbGJhcnNDbGlwcGVkPSExLHIubGluZU51bVdpZHRoPXIubGluZU51bUlubmVyV2lkdGg9ci5saW5lTnVtQ2hhcnM9bnVsbCxyLmFsaWduV2lkZ2V0cz0hMSxyLmNhY2hlZENoYXJXaWR0aD1yLmNhY2hlZFRleHRIZWlnaHQ9ci5jYWNoZWRQYWRkaW5nSD1udWxsLApyLm1heExpbmU9bnVsbCxyLm1heExpbmVMZW5ndGg9MCxyLm1heExpbmVDaGFuZ2VkPSExLHIud2hlZWxEWD1yLndoZWVsRFk9ci53aGVlbFN0YXJ0WD1yLndoZWVsU3RhcnRZPW51bGwsci5zaGlmdD0hMSxyLnNlbEZvckNvbnRleHRNZW51PW51bGwsci5hY3RpdmVUb3VjaD1udWxsLG4uaW5pdChyKX1mdW5jdGlvbiBuKHQpe3QuZG9jLm1vZGU9ZS5nZXRNb2RlKHQub3B0aW9ucyx0LmRvYy5tb2RlT3B0aW9uKSxyKHQpfWZ1bmN0aW9uIHIoZSl7ZS5kb2MuaXRlcihmdW5jdGlvbihlKXtlLnN0YXRlQWZ0ZXImJihlLnN0YXRlQWZ0ZXI9bnVsbCksZS5zdHlsZXMmJihlLnN0eWxlcz1udWxsKX0pLGUuZG9jLmZyb250aWVyPWUuZG9jLmZpcnN0LF9lKGUsMTAwKSxlLnN0YXRlLm1vZGVHZW4rKyxlLmN1ck9wJiZEdChlKX1mdW5jdGlvbiBpKGUpe2Uub3B0aW9ucy5saW5lV3JhcHBpbmc/KEphKGUuZGlzcGxheS53cmFwcGVyLCJDb2RlTWlycm9yLXdyYXAiKSxlLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluV2lkdGg9IiIsZS5kaXNwbGF5LnNpemVyV2lkdGg9bnVsbCk6KFphKGUuZGlzcGxheS53cmFwcGVyLCJDb2RlTWlycm9yLXdyYXAiKSxoKGUpKSxhKGUpLER0KGUpLGx0KGUpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt5KGUpfSwxMDApfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9eXQoZS5kaXNwbGF5KSxuPWUub3B0aW9ucy5saW5lV3JhcHBpbmcscj1uJiZNYXRoLm1heCg1LGUuZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aC94dChlLmRpc3BsYXkpLTMpO3JldHVybiBmdW5jdGlvbihpKXtpZihrcihlLmRvYyxpKSlyZXR1cm4gMDt2YXIgbz0wO2lmKGkud2lkZ2V0cylmb3IodmFyIGE9MDthPGkud2lkZ2V0cy5sZW5ndGg7YSsrKWkud2lkZ2V0c1thXS5oZWlnaHQmJihvKz1pLndpZGdldHNbYV0uaGVpZ2h0KTtyZXR1cm4gbj9vKyhNYXRoLmNlaWwoaS50ZXh0Lmxlbmd0aC9yKXx8MSkqdDpvK3R9fWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5kb2Msbj1vKGUpO3QuaXRlcihmdW5jdGlvbihlKXt2YXIgdD1uKGUpO3QhPWUuaGVpZ2h0JiZlaShlLHQpfSl9ZnVuY3Rpb24gbChlKXtlLmRpc3BsYXkud3JhcHBlci5jbGFzc05hbWU9ZS5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lLnJlcGxhY2UoL1xzKmNtLXMtXFMrL2csIiIpK2Uub3B0aW9ucy50aGVtZS5yZXBsYWNlKC8oXnxccylccyovZywiIGNtLXMtIiksbHQoZSl9ZnVuY3Rpb24gcyhlKXtjKGUpLER0KGUpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt3KGUpfSwyMCl9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmRpc3BsYXkuZ3V0dGVycyxuPWUub3B0aW9ucy5ndXR0ZXJzO1VpKHQpO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7KytyKXt2YXIgaT1uW3JdLG89dC5hcHBlbmRDaGlsZChqaSgiZGl2IixudWxsLCJDb2RlTWlycm9yLWd1dHRlciAiK2kpKTsiQ29kZU1pcnJvci1saW5lbnVtYmVycyI9PWkmJihlLmRpc3BsYXkubGluZUd1dHRlcj1vLG8uc3R5bGUud2lkdGg9KGUuZGlzcGxheS5saW5lTnVtV2lkdGh8fDEpKyJweCIpfXQuc3R5bGUuZGlzcGxheT1yPyIiOiJub25lIix1KGUpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZS5kaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGg7ZS5kaXNwbGF5LnNpemVyLnN0eWxlLm1hcmdpbkxlZnQ9dCsicHgifWZ1bmN0aW9uIGYoZSl7aWYoMD09ZS5oZWlnaHQpcmV0dXJuIDA7Zm9yKHZhciB0LG49ZS50ZXh0Lmxlbmd0aCxyPWU7dD1tcihyKTspe3ZhciBpPXQuZmluZCgwLCEwKTtyPWkuZnJvbS5saW5lLG4rPWkuZnJvbS5jaC1pLnRvLmNofWZvcihyPWU7dD1ncihyKTspe3ZhciBpPXQuZmluZCgwLCEwKTtuLT1yLnRleHQubGVuZ3RoLWkuZnJvbS5jaCxyPWkudG8ubGluZSxuKz1yLnRleHQubGVuZ3RoLWkudG8uY2h9cmV0dXJuIG59ZnVuY3Rpb24gaChlKXt2YXIgdD1lLmRpc3BsYXksbj1lLmRvYzt0Lm1heExpbmU9WnIobixuLmZpcnN0KSx0Lm1heExpbmVMZW5ndGg9Zih0Lm1heExpbmUpLHQubWF4TGluZUNoYW5nZWQ9ITAsbi5pdGVyKGZ1bmN0aW9uKGUpe3ZhciBuPWYoZSk7bj50Lm1heExpbmVMZW5ndGgmJih0Lm1heExpbmVMZW5ndGg9bix0Lm1heExpbmU9ZSl9KX1mdW5jdGlvbiBkKGUpe3ZhciB0PVBpKGUuZ3V0dGVycywiQ29kZU1pcnJvci1saW5lbnVtYmVycyIpOy0xPT10JiZlLmxpbmVOdW1iZXJzP2UuZ3V0dGVycz1lLmd1dHRlcnMuY29uY2F0KFsiQ29kZU1pcnJvci1saW5lbnVtYmVycyJdKTp0Pi0xJiYhZS5saW5lTnVtYmVycyYmKGUuZ3V0dGVycz1lLmd1dHRlcnMuc2xpY2UoMCksZS5ndXR0ZXJzLnNwbGljZSh0LDEpKX1mdW5jdGlvbiBwKGUpe3ZhciB0PWUuZGlzcGxheSxuPXQuZ3V0dGVycy5vZmZzZXRXaWR0aCxyPU1hdGgucm91bmQoZS5kb2MuaGVpZ2h0K3FlKGUuZGlzcGxheSkpO3JldHVybntjbGllbnRIZWlnaHQ6dC5zY3JvbGxlci5jbGllbnRIZWlnaHQsdmlld0hlaWdodDp0LndyYXBwZXIuY2xpZW50SGVpZ2h0LHNjcm9sbFdpZHRoOnQuc2Nyb2xsZXIuc2Nyb2xsV2lkdGgsY2xpZW50V2lkdGg6dC5zY3JvbGxlci5jbGllbnRXaWR0aCx2aWV3V2lkdGg6dC53cmFwcGVyLmNsaWVudFdpZHRoLGJhckxlZnQ6ZS5vcHRpb25zLmZpeGVkR3V0dGVyP246MCxkb2NIZWlnaHQ6cixzY3JvbGxIZWlnaHQ6citZZShlKSt0LmJhckhlaWdodCxuYXRpdmVCYXJXaWR0aDp0Lm5hdGl2ZUJhcldpZHRoLGd1dHRlcldpZHRoOm59fWZ1bmN0aW9uIG0oZSx0LG4pe3RoaXMuY209bjt2YXIgcj10aGlzLnZlcnQ9amkoImRpdiIsW2ppKCJkaXYiLG51bGwsbnVsbCwibWluLXdpZHRoOiAxcHgiKV0sIkNvZGVNaXJyb3ItdnNjcm9sbGJhciIpLGk9dGhpcy5ob3Jpej1qaSgiZGl2IixbamkoImRpdiIsbnVsbCxudWxsLCJoZWlnaHQ6IDEwMCU7IG1pbi1oZWlnaHQ6IDFweCIpXSwiQ29kZU1pcnJvci1oc2Nyb2xsYmFyIik7ZShyKSxlKGkpLEVhKHIsInNjcm9sbCIsZnVuY3Rpb24oKXtyLmNsaWVudEhlaWdodCYmdChyLnNjcm9sbFRvcCwidmVydGljYWwiKX0pLEVhKGksInNjcm9sbCIsZnVuY3Rpb24oKXtpLmNsaWVudFdpZHRoJiZ0KGkuc2Nyb2xsTGVmdCwiaG9yaXpvbnRhbCIpfSksdGhpcy5jaGVja2VkWmVyb1dpZHRoPSExLHhvJiY4PmJvJiYodGhpcy5ob3Jpei5zdHlsZS5taW5IZWlnaHQ9dGhpcy52ZXJ0LnN0eWxlLm1pbldpZHRoPSIxOHB4Iil9ZnVuY3Rpb24gZygpe31mdW5jdGlvbiB2KHQpe3QuZGlzcGxheS5zY3JvbGxiYXJzJiYodC5kaXNwbGF5LnNjcm9sbGJhcnMuY2xlYXIoKSx0LmRpc3BsYXkuc2Nyb2xsYmFycy5hZGRDbGFzcyYmWmEodC5kaXNwbGF5LndyYXBwZXIsdC5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpKSx0LmRpc3BsYXkuc2Nyb2xsYmFycz1uZXcgZS5zY3JvbGxiYXJNb2RlbFt0Lm9wdGlvbnMuc2Nyb2xsYmFyU3R5bGVdKGZ1bmN0aW9uKGUpe3QuZGlzcGxheS53cmFwcGVyLmluc2VydEJlZm9yZShlLHQuZGlzcGxheS5zY3JvbGxiYXJGaWxsZXIpLEVhKGUsIm1vdXNlZG93biIsZnVuY3Rpb24oKXt0LnN0YXRlLmZvY3VzZWQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmRpc3BsYXkuaW5wdXQuZm9jdXMoKX0sMCl9KSxlLnNldEF0dHJpYnV0ZSgiY20tbm90LWNvbnRlbnQiLCJ0cnVlIil9LGZ1bmN0aW9uKGUsbil7Imhvcml6b250YWwiPT1uP29uKHQsZSk6cm4odCxlKX0sdCksdC5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MmJkphKHQuZGlzcGxheS53cmFwcGVyLHQuZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzKX1mdW5jdGlvbiB5KGUsdCl7dHx8KHQ9cChlKSk7dmFyIG49ZS5kaXNwbGF5LmJhcldpZHRoLHI9ZS5kaXNwbGF5LmJhckhlaWdodDt4KGUsdCk7Zm9yKHZhciBpPTA7ND5pJiZuIT1lLmRpc3BsYXkuYmFyV2lkdGh8fHIhPWUuZGlzcGxheS5iYXJIZWlnaHQ7aSsrKW4hPWUuZGlzcGxheS5iYXJXaWR0aCYmZS5vcHRpb25zLmxpbmVXcmFwcGluZyYmTyhlKSx4KGUscChlKSksbj1lLmRpc3BsYXkuYmFyV2lkdGgscj1lLmRpc3BsYXkuYmFySGVpZ2h0fWZ1bmN0aW9uIHgoZSx0KXt2YXIgbj1lLmRpc3BsYXkscj1uLnNjcm9sbGJhcnMudXBkYXRlKHQpO24uc2l6ZXIuc3R5bGUucGFkZGluZ1JpZ2h0PShuLmJhcldpZHRoPXIucmlnaHQpKyJweCIsbi5zaXplci5zdHlsZS5wYWRkaW5nQm90dG9tPShuLmJhckhlaWdodD1yLmJvdHRvbSkrInB4IixuLmhlaWdodEZvcmNlci5zdHlsZS5ib3JkZXJCb3R0b209ci5ib3R0b20rInB4IHNvbGlkIHRyYW5zcGFyZW50IixyLnJpZ2h0JiZyLmJvdHRvbT8obi5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuZGlzcGxheT0iYmxvY2siLG4uc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmhlaWdodD1yLmJvdHRvbSsicHgiLG4uc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLndpZHRoPXIucmlnaHQrInB4Iik6bi5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuZGlzcGxheT0iIixyLmJvdHRvbSYmZS5vcHRpb25zLmNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyJiZlLm9wdGlvbnMuZml4ZWRHdXR0ZXI/KG4uZ3V0dGVyRmlsbGVyLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixuLmd1dHRlckZpbGxlci5zdHlsZS5oZWlnaHQ9ci5ib3R0b20rInB4IixuLmd1dHRlckZpbGxlci5zdHlsZS53aWR0aD10Lmd1dHRlcldpZHRoKyJweCIpOm4uZ3V0dGVyRmlsbGVyLnN0eWxlLmRpc3BsYXk9IiJ9ZnVuY3Rpb24gYihlLHQsbil7dmFyIHI9biYmbnVsbCE9bi50b3A/TWF0aC5tYXgoMCxuLnRvcCk6ZS5zY3JvbGxlci5zY3JvbGxUb3A7cj1NYXRoLmZsb29yKHItVWUoZSkpO3ZhciBpPW4mJm51bGwhPW4uYm90dG9tP24uYm90dG9tOnIrZS53cmFwcGVyLmNsaWVudEhlaWdodCxvPW5pKHQsciksYT1uaSh0LGkpO2lmKG4mJm4uZW5zdXJlKXt2YXIgbD1uLmVuc3VyZS5mcm9tLmxpbmUscz1uLmVuc3VyZS50by5saW5lO28+bD8obz1sLGE9bmkodCxyaShacih0LGwpKStlLndyYXBwZXIuY2xpZW50SGVpZ2h0KSk6TWF0aC5taW4ocyx0Lmxhc3RMaW5lKCkpPj1hJiYobz1uaSh0LHJpKFpyKHQscykpLWUud3JhcHBlci5jbGllbnRIZWlnaHQpLGE9cyl9cmV0dXJue2Zyb206byx0bzpNYXRoLm1heChhLG8rMSl9fWZ1bmN0aW9uIHcoZSl7dmFyIHQ9ZS5kaXNwbGF5LG49dC52aWV3O2lmKHQuYWxpZ25XaWRnZXRzfHx0Lmd1dHRlcnMuZmlyc3RDaGlsZCYmZS5vcHRpb25zLmZpeGVkR3V0dGVyKXtmb3IodmFyIHI9Qyh0KS10LnNjcm9sbGVyLnNjcm9sbExlZnQrZS5kb2Muc2Nyb2xsTGVmdCxpPXQuZ3V0dGVycy5vZmZzZXRXaWR0aCxvPXIrInB4IixhPTA7YTxuLmxlbmd0aDthKyspaWYoIW5bYV0uaGlkZGVuKXtlLm9wdGlvbnMuZml4ZWRHdXR0ZXImJm5bYV0uZ3V0dGVyJiYoblthXS5ndXR0ZXIuc3R5bGUubGVmdD1vKTt2YXIgbD1uW2FdLmFsaWduYWJsZTtpZihsKWZvcih2YXIgcz0wO3M8bC5sZW5ndGg7cysrKWxbc10uc3R5bGUubGVmdD1vfWUub3B0aW9ucy5maXhlZEd1dHRlciYmKHQuZ3V0dGVycy5zdHlsZS5sZWZ0PXIraSsicHgiKX19ZnVuY3Rpb24gayhlKXtpZighZS5vcHRpb25zLmxpbmVOdW1iZXJzKXJldHVybiExO3ZhciB0PWUuZG9jLG49UyhlLm9wdGlvbnMsdC5maXJzdCt0LnNpemUtMSkscj1lLmRpc3BsYXk7aWYobi5sZW5ndGghPXIubGluZU51bUNoYXJzKXt2YXIgaT1yLm1lYXN1cmUuYXBwZW5kQ2hpbGQoamkoImRpdiIsW2ppKCJkaXYiLG4pXSwiQ29kZU1pcnJvci1saW5lbnVtYmVyIENvZGVNaXJyb3ItZ3V0dGVyLWVsdCIpKSxvPWkuZmlyc3RDaGlsZC5vZmZzZXRXaWR0aCxhPWkub2Zmc2V0V2lkdGgtbztyZXR1cm4gci5saW5lR3V0dGVyLnN0eWxlLndpZHRoPSIiLHIubGluZU51bUlubmVyV2lkdGg9TWF0aC5tYXgobyxyLmxpbmVHdXR0ZXIub2Zmc2V0V2lkdGgtYSkrMSxyLmxpbmVOdW1XaWR0aD1yLmxpbmVOdW1Jbm5lcldpZHRoK2Esci5saW5lTnVtQ2hhcnM9ci5saW5lTnVtSW5uZXJXaWR0aD9uLmxlbmd0aDotMSxyLmxpbmVHdXR0ZXIuc3R5bGUud2lkdGg9ci5saW5lTnVtV2lkdGgrInB4Iix1KGUpLCEwfXJldHVybiExfWZ1bmN0aW9uIFMoZSx0KXtyZXR1cm4gU3RyaW5nKGUubGluZU51bWJlckZvcm1hdHRlcih0K2UuZmlyc3RMaW5lTnVtYmVyKSl9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gZS5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LWUuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH1mdW5jdGlvbiBMKGUsdCxuKXt2YXIgcj1lLmRpc3BsYXk7dGhpcy52aWV3cG9ydD10LHRoaXMudmlzaWJsZT1iKHIsZS5kb2MsdCksdGhpcy5lZGl0b3JJc0hpZGRlbj0hci53cmFwcGVyLm9mZnNldFdpZHRoLHRoaXMud3JhcHBlckhlaWdodD1yLndyYXBwZXIuY2xpZW50SGVpZ2h0LHRoaXMud3JhcHBlcldpZHRoPXIud3JhcHBlci5jbGllbnRXaWR0aCx0aGlzLm9sZERpc3BsYXlXaWR0aD0kZShlKSx0aGlzLmZvcmNlPW4sdGhpcy5kaW1zPVAoZSksdGhpcy5ldmVudHM9W119ZnVuY3Rpb24gVChlKXt2YXIgdD1lLmRpc3BsYXk7IXQuc2Nyb2xsYmFyc0NsaXBwZWQmJnQuc2Nyb2xsZXIub2Zmc2V0V2lkdGgmJih0Lm5hdGl2ZUJhcldpZHRoPXQuc2Nyb2xsZXIub2Zmc2V0V2lkdGgtdC5zY3JvbGxlci5jbGllbnRXaWR0aCx0LmhlaWdodEZvcmNlci5zdHlsZS5oZWlnaHQ9WWUoZSkrInB4Iix0LnNpemVyLnN0eWxlLm1hcmdpbkJvdHRvbT0tdC5uYXRpdmVCYXJXaWR0aCsicHgiLHQuc2l6ZXIuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aD1ZZShlKSsicHgiLHQuc2Nyb2xsYmFyc0NsaXBwZWQ9ITApfWZ1bmN0aW9uIE0oZSx0KXt2YXIgbj1lLmRpc3BsYXkscj1lLmRvYztpZih0LmVkaXRvcklzSGlkZGVuKXJldHVybiBXdChlKSwhMTtpZighdC5mb3JjZSYmdC52aXNpYmxlLmZyb20+PW4udmlld0Zyb20mJnQudmlzaWJsZS50bzw9bi52aWV3VG8mJihudWxsPT1uLnVwZGF0ZUxpbmVOdW1iZXJzfHxuLnVwZGF0ZUxpbmVOdW1iZXJzPj1uLnZpZXdUbykmJm4ucmVuZGVyZWRWaWV3PT1uLnZpZXcmJjA9PXp0KGUpKXJldHVybiExO2soZSkmJihXdChlKSx0LmRpbXM9UChlKSk7dmFyIGk9ci5maXJzdCtyLnNpemUsbz1NYXRoLm1heCh0LnZpc2libGUuZnJvbS1lLm9wdGlvbnMudmlld3BvcnRNYXJnaW4sci5maXJzdCksYT1NYXRoLm1pbihpLHQudmlzaWJsZS50bytlLm9wdGlvbnMudmlld3BvcnRNYXJnaW4pO24udmlld0Zyb208byYmby1uLnZpZXdGcm9tPDIwJiYobz1NYXRoLm1heChyLmZpcnN0LG4udmlld0Zyb20pKSxuLnZpZXdUbz5hJiZuLnZpZXdUby1hPDIwJiYoYT1NYXRoLm1pbihpLG4udmlld1RvKSksV28mJihvPWJyKGUuZG9jLG8pLGE9d3IoZS5kb2MsYSkpO3ZhciBsPW8hPW4udmlld0Zyb218fGEhPW4udmlld1RvfHxuLmxhc3RXcmFwSGVpZ2h0IT10LndyYXBwZXJIZWlnaHR8fG4ubGFzdFdyYXBXaWR0aCE9dC53cmFwcGVyV2lkdGg7RnQoZSxvLGEpLG4udmlld09mZnNldD1yaShacihlLmRvYyxuLnZpZXdGcm9tKSksZS5kaXNwbGF5Lm1vdmVyLnN0eWxlLnRvcD1uLnZpZXdPZmZzZXQrInB4Ijt2YXIgcz16dChlKTtpZighbCYmMD09cyYmIXQuZm9yY2UmJm4ucmVuZGVyZWRWaWV3PT1uLnZpZXcmJihudWxsPT1uLnVwZGF0ZUxpbmVOdW1iZXJzfHxuLnVwZGF0ZUxpbmVOdW1iZXJzPj1uLnZpZXdUbykpcmV0dXJuITE7dmFyIGM9R2koKTtyZXR1cm4gcz40JiYobi5saW5lRGl2LnN0eWxlLmRpc3BsYXk9Im5vbmUiKSxSKGUsbi51cGRhdGVMaW5lTnVtYmVycyx0LmRpbXMpLHM+NCYmKG4ubGluZURpdi5zdHlsZS5kaXNwbGF5PSIiKSxuLnJlbmRlcmVkVmlldz1uLnZpZXcsYyYmR2koKSE9YyYmYy5vZmZzZXRIZWlnaHQmJmMuZm9jdXMoKSxVaShuLmN1cnNvckRpdiksVWkobi5zZWxlY3Rpb25EaXYpLG4uZ3V0dGVycy5zdHlsZS5oZWlnaHQ9bi5zaXplci5zdHlsZS5taW5IZWlnaHQ9MCxsJiYobi5sYXN0V3JhcEhlaWdodD10LndyYXBwZXJIZWlnaHQsbi5sYXN0V3JhcFdpZHRoPXQud3JhcHBlcldpZHRoLF9lKGUsNDAwKSksbi51cGRhdGVMaW5lTnVtYmVycz1udWxsLCEwfWZ1bmN0aW9uIE4oZSx0KXtmb3IodmFyIG49dC52aWV3cG9ydCxyPSEwOyhyJiZlLm9wdGlvbnMubGluZVdyYXBwaW5nJiZ0Lm9sZERpc3BsYXlXaWR0aCE9JGUoZSl8fChuJiZudWxsIT1uLnRvcCYmKG49e3RvcDpNYXRoLm1pbihlLmRvYy5oZWlnaHQrcWUoZS5kaXNwbGF5KS1WZShlKSxuLnRvcCl9KSx0LnZpc2libGU9YihlLmRpc3BsYXksZS5kb2MsbiksISh0LnZpc2libGUuZnJvbT49ZS5kaXNwbGF5LnZpZXdGcm9tJiZ0LnZpc2libGUudG88PWUuZGlzcGxheS52aWV3VG8pKSkmJk0oZSx0KTtyPSExKXtPKGUpO3ZhciBpPXAoZSk7UmUoZSkseShlLGkpLEUoZSxpKX10LnNpZ25hbChlLCJ1cGRhdGUiLGUpLGUuZGlzcGxheS52aWV3RnJvbT09ZS5kaXNwbGF5LnJlcG9ydGVkVmlld0Zyb20mJmUuZGlzcGxheS52aWV3VG89PWUuZGlzcGxheS5yZXBvcnRlZFZpZXdUb3x8KHQuc2lnbmFsKGUsInZpZXdwb3J0Q2hhbmdlIixlLGUuZGlzcGxheS52aWV3RnJvbSxlLmRpc3BsYXkudmlld1RvKSxlLmRpc3BsYXkucmVwb3J0ZWRWaWV3RnJvbT1lLmRpc3BsYXkudmlld0Zyb20sZS5kaXNwbGF5LnJlcG9ydGVkVmlld1RvPWUuZGlzcGxheS52aWV3VG8pfWZ1bmN0aW9uIEEoZSx0KXt2YXIgbj1uZXcgTChlLHQpO2lmKE0oZSxuKSl7TyhlKSxOKGUsbik7dmFyIHI9cChlKTtSZShlKSx5KGUsciksRShlLHIpLG4uZmluaXNoKCl9fWZ1bmN0aW9uIEUoZSx0KXtlLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluSGVpZ2h0PXQuZG9jSGVpZ2h0KyJweCIsZS5kaXNwbGF5LmhlaWdodEZvcmNlci5zdHlsZS50b3A9dC5kb2NIZWlnaHQrInB4IixlLmRpc3BsYXkuZ3V0dGVycy5zdHlsZS5oZWlnaHQ9dC5kb2NIZWlnaHQrZS5kaXNwbGF5LmJhckhlaWdodCtZZShlKSsicHgifWZ1bmN0aW9uIE8oZSl7Zm9yKHZhciB0PWUuZGlzcGxheSxuPXQubGluZURpdi5vZmZzZXRUb3Ascj0wO3I8dC52aWV3Lmxlbmd0aDtyKyspe3ZhciBpLG89dC52aWV3W3JdO2lmKCFvLmhpZGRlbil7aWYoeG8mJjg+Ym8pe3ZhciBhPW8ubm9kZS5vZmZzZXRUb3Arby5ub2RlLm9mZnNldEhlaWdodDtpPWEtbixuPWF9ZWxzZXt2YXIgbD1vLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aT1sLmJvdHRvbS1sLnRvcH12YXIgcz1vLmxpbmUuaGVpZ2h0LWk7aWYoMj5pJiYoaT15dCh0KSksKHM+LjAwMXx8LS4wMDE+cykmJihlaShvLmxpbmUsaSksSShvLmxpbmUpLG8ucmVzdCkpZm9yKHZhciBjPTA7YzxvLnJlc3QubGVuZ3RoO2MrKylJKG8ucmVzdFtjXSl9fX1mdW5jdGlvbiBJKGUpe2lmKGUud2lkZ2V0cylmb3IodmFyIHQ9MDt0PGUud2lkZ2V0cy5sZW5ndGg7Kyt0KWUud2lkZ2V0c1t0XS5oZWlnaHQ9ZS53aWRnZXRzW3RdLm5vZGUucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHR9ZnVuY3Rpb24gUChlKXtmb3IodmFyIHQ9ZS5kaXNwbGF5LG49e30scj17fSxpPXQuZ3V0dGVycy5jbGllbnRMZWZ0LG89dC5ndXR0ZXJzLmZpcnN0Q2hpbGQsYT0wO287bz1vLm5leHRTaWJsaW5nLCsrYSluW2Uub3B0aW9ucy5ndXR0ZXJzW2FdXT1vLm9mZnNldExlZnQrby5jbGllbnRMZWZ0K2kscltlLm9wdGlvbnMuZ3V0dGVyc1thXV09by5jbGllbnRXaWR0aDtyZXR1cm57Zml4ZWRQb3M6Qyh0KSxndXR0ZXJUb3RhbFdpZHRoOnQuZ3V0dGVycy5vZmZzZXRXaWR0aCxndXR0ZXJMZWZ0Om4sZ3V0dGVyV2lkdGg6cix3cmFwcGVyV2lkdGg6dC53cmFwcGVyLmNsaWVudFdpZHRofX1mdW5jdGlvbiBSKGUsdCxuKXtmdW5jdGlvbiByKHQpe3ZhciBuPXQubmV4dFNpYmxpbmc7cmV0dXJuIHdvJiZFbyYmZS5kaXNwbGF5LmN1cnJlbnRXaGVlbFRhcmdldD09dD90LnN0eWxlLmRpc3BsYXk9Im5vbmUiOnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxufWZvcih2YXIgaT1lLmRpc3BsYXksbz1lLm9wdGlvbnMubGluZU51bWJlcnMsYT1pLmxpbmVEaXYsbD1hLmZpcnN0Q2hpbGQscz1pLnZpZXcsYz1pLnZpZXdGcm9tLHU9MDt1PHMubGVuZ3RoO3UrKyl7dmFyIGY9c1t1XTtpZihmLmhpZGRlbik7ZWxzZSBpZihmLm5vZGUmJmYubm9kZS5wYXJlbnROb2RlPT1hKXtmb3IoO2whPWYubm9kZTspbD1yKGwpO3ZhciBoPW8mJm51bGwhPXQmJmM+PXQmJmYubGluZU51bWJlcjtmLmNoYW5nZXMmJihQaShmLmNoYW5nZXMsImd1dHRlciIpPi0xJiYoaD0hMSksRChlLGYsYyxuKSksaCYmKFVpKGYubGluZU51bWJlciksZi5saW5lTnVtYmVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFMoZS5vcHRpb25zLGMpKSkpLGw9Zi5ub2RlLm5leHRTaWJsaW5nfWVsc2V7dmFyIGQ9VShlLGYsYyxuKTthLmluc2VydEJlZm9yZShkLGwpfWMrPWYuc2l6ZX1mb3IoO2w7KWw9cihsKX1mdW5jdGlvbiBEKGUsdCxuLHIpe2Zvcih2YXIgaT0wO2k8dC5jaGFuZ2VzLmxlbmd0aDtpKyspe3ZhciBvPXQuY2hhbmdlc1tpXTsidGV4dCI9PW8/XyhlLHQpOiJndXR0ZXIiPT1vP3ooZSx0LG4scik6ImNsYXNzIj09bz9GKHQpOiJ3aWRnZXQiPT1vJiZqKGUsdCxyKX10LmNoYW5nZXM9bnVsbH1mdW5jdGlvbiBIKGUpe3JldHVybiBlLm5vZGU9PWUudGV4dCYmKGUubm9kZT1qaSgiZGl2IixudWxsLG51bGwsInBvc2l0aW9uOiByZWxhdGl2ZSIpLGUudGV4dC5wYXJlbnROb2RlJiZlLnRleHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZS5ub2RlLGUudGV4dCksZS5ub2RlLmFwcGVuZENoaWxkKGUudGV4dCkseG8mJjg+Ym8mJihlLm5vZGUuc3R5bGUuekluZGV4PTIpKSxlLm5vZGV9ZnVuY3Rpb24gVyhlKXt2YXIgdD1lLmJnQ2xhc3M/ZS5iZ0NsYXNzKyIgIisoZS5saW5lLmJnQ2xhc3N8fCIiKTplLmxpbmUuYmdDbGFzcztpZih0JiYodCs9IiBDb2RlTWlycm9yLWxpbmViYWNrZ3JvdW5kIiksZS5iYWNrZ3JvdW5kKXQ/ZS5iYWNrZ3JvdW5kLmNsYXNzTmFtZT10OihlLmJhY2tncm91bmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlLmJhY2tncm91bmQpLGUuYmFja2dyb3VuZD1udWxsKTtlbHNlIGlmKHQpe3ZhciBuPUgoZSk7ZS5iYWNrZ3JvdW5kPW4uaW5zZXJ0QmVmb3JlKGppKCJkaXYiLG51bGwsdCksbi5maXJzdENoaWxkKX19ZnVuY3Rpb24gQihlLHQpe3ZhciBuPWUuZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO3JldHVybiBuJiZuLmxpbmU9PXQubGluZT8oZS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ9bnVsbCx0Lm1lYXN1cmU9bi5tZWFzdXJlLG4uYnVpbHQpOkJyKGUsdCl9ZnVuY3Rpb24gXyhlLHQpe3ZhciBuPXQudGV4dC5jbGFzc05hbWUscj1CKGUsdCk7dC50ZXh0PT10Lm5vZGUmJih0Lm5vZGU9ci5wcmUpLHQudGV4dC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChyLnByZSx0LnRleHQpLHQudGV4dD1yLnByZSxyLmJnQ2xhc3MhPXQuYmdDbGFzc3x8ci50ZXh0Q2xhc3MhPXQudGV4dENsYXNzPyh0LmJnQ2xhc3M9ci5iZ0NsYXNzLHQudGV4dENsYXNzPXIudGV4dENsYXNzLEYodCkpOm4mJih0LnRleHQuY2xhc3NOYW1lPW4pfWZ1bmN0aW9uIEYoZSl7VyhlKSxlLmxpbmUud3JhcENsYXNzP0goZSkuY2xhc3NOYW1lPWUubGluZS53cmFwQ2xhc3M6ZS5ub2RlIT1lLnRleHQmJihlLm5vZGUuY2xhc3NOYW1lPSIiKTt2YXIgdD1lLnRleHRDbGFzcz9lLnRleHRDbGFzcysiICIrKGUubGluZS50ZXh0Q2xhc3N8fCIiKTplLmxpbmUudGV4dENsYXNzO2UudGV4dC5jbGFzc05hbWU9dHx8IiJ9ZnVuY3Rpb24geihlLHQsbixyKXtpZih0Lmd1dHRlciYmKHQubm9kZS5yZW1vdmVDaGlsZCh0Lmd1dHRlciksdC5ndXR0ZXI9bnVsbCksdC5ndXR0ZXJCYWNrZ3JvdW5kJiYodC5ub2RlLnJlbW92ZUNoaWxkKHQuZ3V0dGVyQmFja2dyb3VuZCksdC5ndXR0ZXJCYWNrZ3JvdW5kPW51bGwpLHQubGluZS5ndXR0ZXJDbGFzcyl7dmFyIGk9SCh0KTt0Lmd1dHRlckJhY2tncm91bmQ9amkoImRpdiIsbnVsbCwiQ29kZU1pcnJvci1ndXR0ZXItYmFja2dyb3VuZCAiK3QubGluZS5ndXR0ZXJDbGFzcywibGVmdDogIisoZS5vcHRpb25zLmZpeGVkR3V0dGVyP3IuZml4ZWRQb3M6LXIuZ3V0dGVyVG90YWxXaWR0aCkrInB4OyB3aWR0aDogIityLmd1dHRlclRvdGFsV2lkdGgrInB4IiksaS5pbnNlcnRCZWZvcmUodC5ndXR0ZXJCYWNrZ3JvdW5kLHQudGV4dCl9dmFyIG89dC5saW5lLmd1dHRlck1hcmtlcnM7aWYoZS5vcHRpb25zLmxpbmVOdW1iZXJzfHxvKXt2YXIgaT1IKHQpLGE9dC5ndXR0ZXI9amkoImRpdiIsbnVsbCwiQ29kZU1pcnJvci1ndXR0ZXItd3JhcHBlciIsImxlZnQ6ICIrKGUub3B0aW9ucy5maXhlZEd1dHRlcj9yLmZpeGVkUG9zOi1yLmd1dHRlclRvdGFsV2lkdGgpKyJweCIpO2lmKGUuZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKGEpLGkuaW5zZXJ0QmVmb3JlKGEsdC50ZXh0KSx0LmxpbmUuZ3V0dGVyQ2xhc3MmJihhLmNsYXNzTmFtZSs9IiAiK3QubGluZS5ndXR0ZXJDbGFzcyksIWUub3B0aW9ucy5saW5lTnVtYmVyc3x8byYmb1siQ29kZU1pcnJvci1saW5lbnVtYmVycyJdfHwodC5saW5lTnVtYmVyPWEuYXBwZW5kQ2hpbGQoamkoImRpdiIsUyhlLm9wdGlvbnMsbiksIkNvZGVNaXJyb3ItbGluZW51bWJlciBDb2RlTWlycm9yLWd1dHRlci1lbHQiLCJsZWZ0OiAiK3IuZ3V0dGVyTGVmdFsiQ29kZU1pcnJvci1saW5lbnVtYmVycyJdKyJweDsgd2lkdGg6ICIrZS5kaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoKyJweCIpKSksbylmb3IodmFyIGw9MDtsPGUub3B0aW9ucy5ndXR0ZXJzLmxlbmd0aDsrK2wpe3ZhciBzPWUub3B0aW9ucy5ndXR0ZXJzW2xdLGM9by5oYXNPd25Qcm9wZXJ0eShzKSYmb1tzXTtjJiZhLmFwcGVuZENoaWxkKGppKCJkaXYiLFtjXSwiQ29kZU1pcnJvci1ndXR0ZXItZWx0IiwibGVmdDogIityLmd1dHRlckxlZnRbc10rInB4OyB3aWR0aDogIityLmd1dHRlcldpZHRoW3NdKyJweCIpKX19fWZ1bmN0aW9uIGooZSx0LG4pe3QuYWxpZ25hYmxlJiYodC5hbGlnbmFibGU9bnVsbCk7Zm9yKHZhciByLGk9dC5ub2RlLmZpcnN0Q2hpbGQ7aTtpPXIpe3ZhciByPWkubmV4dFNpYmxpbmc7IkNvZGVNaXJyb3ItbGluZXdpZGdldCI9PWkuY2xhc3NOYW1lJiZ0Lm5vZGUucmVtb3ZlQ2hpbGQoaSl9cShlLHQsbil9ZnVuY3Rpb24gVShlLHQsbixyKXt2YXIgaT1CKGUsdCk7cmV0dXJuIHQudGV4dD10Lm5vZGU9aS5wcmUsaS5iZ0NsYXNzJiYodC5iZ0NsYXNzPWkuYmdDbGFzcyksaS50ZXh0Q2xhc3MmJih0LnRleHRDbGFzcz1pLnRleHRDbGFzcyksRih0KSx6KGUsdCxuLHIpLHEoZSx0LHIpLHQubm9kZX1mdW5jdGlvbiBxKGUsdCxuKXtpZihHKGUsdC5saW5lLHQsbiwhMCksdC5yZXN0KWZvcih2YXIgcj0wO3I8dC5yZXN0Lmxlbmd0aDtyKyspRyhlLHQucmVzdFtyXSx0LG4sITEpfWZ1bmN0aW9uIEcoZSx0LG4scixpKXtpZih0LndpZGdldHMpZm9yKHZhciBvPUgobiksYT0wLGw9dC53aWRnZXRzO2E8bC5sZW5ndGg7KythKXt2YXIgcz1sW2FdLGM9amkoImRpdiIsW3Mubm9kZV0sIkNvZGVNaXJyb3ItbGluZXdpZGdldCIpO3MuaGFuZGxlTW91c2VFdmVudHN8fGMuc2V0QXR0cmlidXRlKCJjbS1pZ25vcmUtZXZlbnRzIiwidHJ1ZSIpLFkocyxjLG4sciksZS5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUoYyksaSYmcy5hYm92ZT9vLmluc2VydEJlZm9yZShjLG4uZ3V0dGVyfHxuLnRleHQpOm8uYXBwZW5kQ2hpbGQoYyksQ2kocywicmVkcmF3Iil9fWZ1bmN0aW9uIFkoZSx0LG4scil7aWYoZS5ub0hTY3JvbGwpeyhuLmFsaWduYWJsZXx8KG4uYWxpZ25hYmxlPVtdKSkucHVzaCh0KTt2YXIgaT1yLndyYXBwZXJXaWR0aDt0LnN0eWxlLmxlZnQ9ci5maXhlZFBvcysicHgiLGUuY292ZXJHdXR0ZXJ8fChpLT1yLmd1dHRlclRvdGFsV2lkdGgsdC5zdHlsZS5wYWRkaW5nTGVmdD1yLmd1dHRlclRvdGFsV2lkdGgrInB4IiksdC5zdHlsZS53aWR0aD1pKyJweCJ9ZS5jb3Zlckd1dHRlciYmKHQuc3R5bGUuekluZGV4PTUsdC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiLGUubm9IU2Nyb2xsfHwodC5zdHlsZS5tYXJnaW5MZWZ0PS1yLmd1dHRlclRvdGFsV2lkdGgrInB4IikpfWZ1bmN0aW9uICQoZSl7cmV0dXJuIEJvKGUubGluZSxlLmNoKX1mdW5jdGlvbiBWKGUsdCl7cmV0dXJuIF9vKGUsdCk8MD90OmV9ZnVuY3Rpb24gSyhlLHQpe3JldHVybiBfbyhlLHQpPDA/ZTp0fWZ1bmN0aW9uIFgoZSl7ZS5zdGF0ZS5mb2N1c2VkfHwoZS5kaXNwbGF5LmlucHV0LmZvY3VzKCksdm4oZSkpfWZ1bmN0aW9uIFooZSx0LG4scixpKXt2YXIgbz1lLmRvYztlLmRpc3BsYXkuc2hpZnQ9ITEscnx8KHI9by5zZWwpO3ZhciBhPWUuc3RhdGUucGFzdGVJbmNvbWluZ3x8InBhc3RlIj09aSxsPW8uc3BsaXRMaW5lcyh0KSxzPW51bGw7aWYoYSYmci5yYW5nZXMubGVuZ3RoPjEpaWYoRm8mJkZvLnRleHQuam9pbigiXG4iKT09dCl7aWYoci5yYW5nZXMubGVuZ3RoJUZvLnRleHQubGVuZ3RoPT0wKXtzPVtdO2Zvcih2YXIgYz0wO2M8Rm8udGV4dC5sZW5ndGg7YysrKXMucHVzaChvLnNwbGl0TGluZXMoRm8udGV4dFtjXSkpfX1lbHNlIGwubGVuZ3RoPT1yLnJhbmdlcy5sZW5ndGgmJihzPVJpKGwsZnVuY3Rpb24oZSl7cmV0dXJuW2VdfSkpO2Zvcih2YXIgYz1yLnJhbmdlcy5sZW5ndGgtMTtjPj0wO2MtLSl7dmFyIHU9ci5yYW5nZXNbY10sZj11LmZyb20oKSxoPXUudG8oKTt1LmVtcHR5KCkmJihuJiZuPjA/Zj1CbyhmLmxpbmUsZi5jaC1uKTplLnN0YXRlLm92ZXJ3cml0ZSYmIWE/aD1CbyhoLmxpbmUsTWF0aC5taW4oWnIobyxoLmxpbmUpLnRleHQubGVuZ3RoLGguY2grSWkobCkubGVuZ3RoKSk6Rm8mJkZvLmxpbmVXaXNlJiZGby50ZXh0LmpvaW4oIlxuIik9PXQmJihmPWg9Qm8oZi5saW5lLDApKSk7dmFyIGQ9ZS5jdXJPcC51cGRhdGVJbnB1dCxwPXtmcm9tOmYsdG86aCx0ZXh0OnM/c1tjJXMubGVuZ3RoXTpsLG9yaWdpbjppfHwoYT8icGFzdGUiOmUuc3RhdGUuY3V0SW5jb21pbmc/ImN1dCI6IitpbnB1dCIpfTtUbihlLmRvYyxwKSxDaShlLCJpbnB1dFJlYWQiLGUscCl9dCYmIWEmJlEoZSx0KSxCbihlKSxlLmN1ck9wLnVwZGF0ZUlucHV0PWQsZS5jdXJPcC50eXBpbmc9ITAsZS5zdGF0ZS5wYXN0ZUluY29taW5nPWUuc3RhdGUuY3V0SW5jb21pbmc9ITF9ZnVuY3Rpb24gSihlLHQpe3ZhciBuPWUuY2xpcGJvYXJkRGF0YSYmZS5jbGlwYm9hcmREYXRhLmdldERhdGEoInRleHQvcGxhaW4iKTtyZXR1cm4gbj8oZS5wcmV2ZW50RGVmYXVsdCgpLHQuaXNSZWFkT25seSgpfHx0Lm9wdGlvbnMuZGlzYWJsZUlucHV0fHxBdCh0LGZ1bmN0aW9uKCl7Wih0LG4sMCxudWxsLCJwYXN0ZSIpfSksITApOnZvaWQgMH1mdW5jdGlvbiBRKGUsdCl7aWYoZS5vcHRpb25zLmVsZWN0cmljQ2hhcnMmJmUub3B0aW9ucy5zbWFydEluZGVudClmb3IodmFyIG49ZS5kb2Muc2VsLHI9bi5yYW5nZXMubGVuZ3RoLTE7cj49MDtyLS0pe3ZhciBpPW4ucmFuZ2VzW3JdO2lmKCEoaS5oZWFkLmNoPjEwMHx8ciYmbi5yYW5nZXNbci0xXS5oZWFkLmxpbmU9PWkuaGVhZC5saW5lKSl7dmFyIG89ZS5nZXRNb2RlQXQoaS5oZWFkKSxhPSExO2lmKG8uZWxlY3RyaWNDaGFycyl7Zm9yKHZhciBsPTA7bDxvLmVsZWN0cmljQ2hhcnMubGVuZ3RoO2wrKylpZih0LmluZGV4T2Yoby5lbGVjdHJpY0NoYXJzLmNoYXJBdChsKSk+LTEpe2E9Rm4oZSxpLmhlYWQubGluZSwic21hcnQiKTticmVha319ZWxzZSBvLmVsZWN0cmljSW5wdXQmJm8uZWxlY3RyaWNJbnB1dC50ZXN0KFpyKGUuZG9jLGkuaGVhZC5saW5lKS50ZXh0LnNsaWNlKDAsaS5oZWFkLmNoKSkmJihhPUZuKGUsaS5oZWFkLmxpbmUsInNtYXJ0IikpO2EmJkNpKGUsImVsZWN0cmljSW5wdXQiLGUsaS5oZWFkLmxpbmUpfX19ZnVuY3Rpb24gZWUoZSl7Zm9yKHZhciB0PVtdLG49W10scj0wO3I8ZS5kb2Muc2VsLnJhbmdlcy5sZW5ndGg7cisrKXt2YXIgaT1lLmRvYy5zZWwucmFuZ2VzW3JdLmhlYWQubGluZSxvPXthbmNob3I6Qm8oaSwwKSxoZWFkOkJvKGkrMSwwKX07bi5wdXNoKG8pLHQucHVzaChlLmdldFJhbmdlKG8uYW5jaG9yLG8uaGVhZCkpfXJldHVybnt0ZXh0OnQscmFuZ2VzOm59fWZ1bmN0aW9uIHRlKGUpe2Uuc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpLGUuc2V0QXR0cmlidXRlKCJhdXRvY2FwaXRhbGl6ZSIsIm9mZiIpLGUuc2V0QXR0cmlidXRlKCJzcGVsbGNoZWNrIiwiZmFsc2UiKX1mdW5jdGlvbiBuZShlKXt0aGlzLmNtPWUsdGhpcy5wcmV2SW5wdXQ9IiIsdGhpcy5wb2xsaW5nRmFzdD0hMSx0aGlzLnBvbGxpbmc9bmV3IEVpLHRoaXMuaW5hY2N1cmF0ZVNlbGVjdGlvbj0hMSx0aGlzLmhhc1NlbGVjdGlvbj0hMSx0aGlzLmNvbXBvc2luZz1udWxsfWZ1bmN0aW9uIHJlKCl7dmFyIGU9amkoInRleHRhcmVhIixudWxsLG51bGwsInBvc2l0aW9uOiBhYnNvbHV0ZTsgcGFkZGluZzogMDsgd2lkdGg6IDFweDsgaGVpZ2h0OiAxZW07IG91dGxpbmU6IG5vbmUiKSx0PWppKCJkaXYiLFtlXSxudWxsLCJvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7IHdpZHRoOiAzcHg7IGhlaWdodDogMHB4OyIpO3JldHVybiB3bz9lLnN0eWxlLndpZHRoPSIxMDAwcHgiOmUuc2V0QXR0cmlidXRlKCJ3cmFwIiwib2ZmIiksTm8mJihlLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkIGJsYWNrIiksdGUoZSksdH1mdW5jdGlvbiBpZShlKXt0aGlzLmNtPWUsdGhpcy5sYXN0QW5jaG9yTm9kZT10aGlzLmxhc3RBbmNob3JPZmZzZXQ9dGhpcy5sYXN0Rm9jdXNOb2RlPXRoaXMubGFzdEZvY3VzT2Zmc2V0PW51bGwsdGhpcy5wb2xsaW5nPW5ldyBFaSx0aGlzLmdyYWNlUGVyaW9kPSExfWZ1bmN0aW9uIG9lKGUsdCl7dmFyIG49UWUoZSx0LmxpbmUpO2lmKCFufHxuLmhpZGRlbilyZXR1cm4gbnVsbDt2YXIgcj1acihlLmRvYyx0LmxpbmUpLGk9WGUobixyLHQubGluZSksbz1paShyKSxhPSJsZWZ0IjtpZihvKXt2YXIgbD1jbyhvLHQuY2gpO2E9bCUyPyJyaWdodCI6ImxlZnQifXZhciBzPW50KGkubWFwLHQuY2gsYSk7cmV0dXJuIHMub2Zmc2V0PSJyaWdodCI9PXMuY29sbGFwc2U/cy5lbmQ6cy5zdGFydCxzfWZ1bmN0aW9uIGFlKGUsdCl7cmV0dXJuIHQmJihlLmJhZD0hMCksZX1mdW5jdGlvbiBsZShlLHQsbil7dmFyIHI7aWYodD09ZS5kaXNwbGF5LmxpbmVEaXYpe2lmKHI9ZS5kaXNwbGF5LmxpbmVEaXYuY2hpbGROb2Rlc1tuXSwhcilyZXR1cm4gYWUoZS5jbGlwUG9zKEJvKGUuZGlzcGxheS52aWV3VG8tMSkpLCEwKTt0PW51bGwsbj0wfWVsc2UgZm9yKHI9dDs7cj1yLnBhcmVudE5vZGUpe2lmKCFyfHxyPT1lLmRpc3BsYXkubGluZURpdilyZXR1cm4gbnVsbDtpZihyLnBhcmVudE5vZGUmJnIucGFyZW50Tm9kZT09ZS5kaXNwbGF5LmxpbmVEaXYpYnJlYWt9Zm9yKHZhciBpPTA7aTxlLmRpc3BsYXkudmlldy5sZW5ndGg7aSsrKXt2YXIgbz1lLmRpc3BsYXkudmlld1tpXTtpZihvLm5vZGU9PXIpcmV0dXJuIHNlKG8sdCxuKX19ZnVuY3Rpb24gc2UoZSx0LG4pe2Z1bmN0aW9uIHIodCxuLHIpe2Zvcih2YXIgaT0tMTtpPCh1P3UubGVuZ3RoOjApO2krKylmb3IodmFyIG89MD5pP2MubWFwOnVbaV0sYT0wO2E8by5sZW5ndGg7YSs9Myl7dmFyIGw9b1thKzJdO2lmKGw9PXR8fGw9PW4pe3ZhciBzPXRpKDA+aT9lLmxpbmU6ZS5yZXN0W2ldKSxmPW9bYV0rcjtyZXR1cm4oMD5yfHxsIT10KSYmKGY9b1thKyhyPzE6MCldKSxCbyhzLGYpfX19dmFyIGk9ZS50ZXh0LmZpcnN0Q2hpbGQsbz0hMTtpZighdHx8IVZhKGksdCkpcmV0dXJuIGFlKEJvKHRpKGUubGluZSksMCksITApO2lmKHQ9PWkmJihvPSEwLHQ9aS5jaGlsZE5vZGVzW25dLG49MCwhdCkpe3ZhciBhPWUucmVzdD9JaShlLnJlc3QpOmUubGluZTtyZXR1cm4gYWUoQm8odGkoYSksYS50ZXh0Lmxlbmd0aCksbyl9dmFyIGw9Mz09dC5ub2RlVHlwZT90Om51bGwscz10O2ZvcihsfHwxIT10LmNoaWxkTm9kZXMubGVuZ3RofHwzIT10LmZpcnN0Q2hpbGQubm9kZVR5cGV8fChsPXQuZmlyc3RDaGlsZCxuJiYobj1sLm5vZGVWYWx1ZS5sZW5ndGgpKTtzLnBhcmVudE5vZGUhPWk7KXM9cy5wYXJlbnROb2RlO3ZhciBjPWUubWVhc3VyZSx1PWMubWFwcyxmPXIobCxzLG4pO2lmKGYpcmV0dXJuIGFlKGYsbyk7Zm9yKHZhciBoPXMubmV4dFNpYmxpbmcsZD1sP2wubm9kZVZhbHVlLmxlbmd0aC1uOjA7aDtoPWgubmV4dFNpYmxpbmcpe2lmKGY9cihoLGguZmlyc3RDaGlsZCwwKSlyZXR1cm4gYWUoQm8oZi5saW5lLGYuY2gtZCksbyk7ZCs9aC50ZXh0Q29udGVudC5sZW5ndGh9Zm9yKHZhciBwPXMucHJldmlvdXNTaWJsaW5nLGQ9bjtwO3A9cC5wcmV2aW91c1NpYmxpbmcpe2lmKGY9cihwLHAuZmlyc3RDaGlsZCwtMSkpcmV0dXJuIGFlKEJvKGYubGluZSxmLmNoK2QpLG8pO2QrPWgudGV4dENvbnRlbnQubGVuZ3RofX1mdW5jdGlvbiBjZShlLHQsbixyLGkpe2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT1lfX1mdW5jdGlvbiBhKHQpe2lmKDE9PXQubm9kZVR5cGUpe3ZhciBuPXQuZ2V0QXR0cmlidXRlKCJjbS10ZXh0Iik7aWYobnVsbCE9bilyZXR1cm4iIj09biYmKG49dC50ZXh0Q29udGVudC5yZXBsYWNlKC9cdTIwMGIvZywiIikpLHZvaWQobCs9bik7dmFyIHUsZj10LmdldEF0dHJpYnV0ZSgiY20tbWFya2VyIik7aWYoZil7dmFyIGg9ZS5maW5kTWFya3MoQm8ociwwKSxCbyhpKzEsMCksbygrZikpO3JldHVybiB2b2lkKGgubGVuZ3RoJiYodT1oWzBdLmZpbmQoKSkmJihsKz1KcihlLmRvYyx1LmZyb20sdS50bykuam9pbihjKSkpfWlmKCJmYWxzZSI9PXQuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKSlyZXR1cm47Zm9yKHZhciBkPTA7ZDx0LmNoaWxkTm9kZXMubGVuZ3RoO2QrKylhKHQuY2hpbGROb2Rlc1tkXSk7L14ocHJlfGRpdnxwKSQvaS50ZXN0KHQubm9kZU5hbWUpJiYocz0hMCl9ZWxzZSBpZigzPT10Lm5vZGVUeXBlKXt2YXIgcD10Lm5vZGVWYWx1ZTtpZighcClyZXR1cm47cyYmKGwrPWMscz0hMSksbCs9cH19Zm9yKHZhciBsPSIiLHM9ITEsYz1lLmRvYy5saW5lU2VwYXJhdG9yKCk7YSh0KSx0IT1uOyl0PXQubmV4dFNpYmxpbmc7cmV0dXJuIGx9ZnVuY3Rpb24gdWUoZSx0KXt0aGlzLnJhbmdlcz1lLHRoaXMucHJpbUluZGV4PXR9ZnVuY3Rpb24gZmUoZSx0KXt0aGlzLmFuY2hvcj1lLHRoaXMuaGVhZD10fWZ1bmN0aW9uIGhlKGUsdCl7dmFyIG49ZVt0XTtlLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gX28oZS5mcm9tKCksdC5mcm9tKCkpfSksdD1QaShlLG4pO2Zvcih2YXIgcj0xO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdLG89ZVtyLTFdO2lmKF9vKG8udG8oKSxpLmZyb20oKSk+PTApe3ZhciBhPUsoby5mcm9tKCksaS5mcm9tKCkpLGw9VihvLnRvKCksaS50bygpKSxzPW8uZW1wdHkoKT9pLmZyb20oKT09aS5oZWFkOm8uZnJvbSgpPT1vLmhlYWQ7dD49ciYmLS10LGUuc3BsaWNlKC0tciwyLG5ldyBmZShzP2w6YSxzP2E6bCkpfX1yZXR1cm4gbmV3IHVlKGUsdCl9ZnVuY3Rpb24gZGUoZSx0KXtyZXR1cm4gbmV3IHVlKFtuZXcgZmUoZSx0fHxlKV0sMCl9ZnVuY3Rpb24gcGUoZSx0KXtyZXR1cm4gTWF0aC5tYXgoZS5maXJzdCxNYXRoLm1pbih0LGUuZmlyc3QrZS5zaXplLTEpKX1mdW5jdGlvbiBtZShlLHQpe2lmKHQubGluZTxlLmZpcnN0KXJldHVybiBCbyhlLmZpcnN0LDApO3ZhciBuPWUuZmlyc3QrZS5zaXplLTE7cmV0dXJuIHQubGluZT5uP0JvKG4sWnIoZSxuKS50ZXh0Lmxlbmd0aCk6Z2UodCxacihlLHQubGluZSkudGV4dC5sZW5ndGgpfWZ1bmN0aW9uIGdlKGUsdCl7dmFyIG49ZS5jaDtyZXR1cm4gbnVsbD09bnx8bj50P0JvKGUubGluZSx0KTowPm4/Qm8oZS5saW5lLDApOmV9ZnVuY3Rpb24gdmUoZSx0KXtyZXR1cm4gdD49ZS5maXJzdCYmdDxlLmZpcnN0K2Uuc2l6ZX1mdW5jdGlvbiB5ZShlLHQpe2Zvcih2YXIgbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKyspbltyXT1tZShlLHRbcl0pO3JldHVybiBufWZ1bmN0aW9uIHhlKGUsdCxuLHIpe2lmKGUuY20mJmUuY20uZGlzcGxheS5zaGlmdHx8ZS5leHRlbmQpe3ZhciBpPXQuYW5jaG9yO2lmKHIpe3ZhciBvPV9vKG4saSk8MDtvIT1fbyhyLGkpPDA/KGk9bixuPXIpOm8hPV9vKG4scik8MCYmKG49cil9cmV0dXJuIG5ldyBmZShpLG4pfXJldHVybiBuZXcgZmUocnx8bixuKX1mdW5jdGlvbiBiZShlLHQsbixyKXtUZShlLG5ldyB1ZShbeGUoZSxlLnNlbC5wcmltYXJ5KCksdCxuKV0sMCkscil9ZnVuY3Rpb24gd2UoZSx0LG4pe2Zvcih2YXIgcj1bXSxpPTA7aTxlLnNlbC5yYW5nZXMubGVuZ3RoO2krKylyW2ldPXhlKGUsZS5zZWwucmFuZ2VzW2ldLHRbaV0sbnVsbCk7dmFyIG89aGUocixlLnNlbC5wcmltSW5kZXgpO1RlKGUsbyxuKX1mdW5jdGlvbiBrZShlLHQsbixyKXt2YXIgaT1lLnNlbC5yYW5nZXMuc2xpY2UoMCk7aVt0XT1uLFRlKGUsaGUoaSxlLnNlbC5wcmltSW5kZXgpLHIpfWZ1bmN0aW9uIFNlKGUsdCxuLHIpe1RlKGUsZGUodCxuKSxyKX1mdW5jdGlvbiBDZShlLHQsbil7dmFyIHI9e3Jhbmdlczp0LnJhbmdlcyx1cGRhdGU6ZnVuY3Rpb24odCl7dGhpcy5yYW5nZXM9W107Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5yYW5nZXNbbl09bmV3IGZlKG1lKGUsdFtuXS5hbmNob3IpLG1lKGUsdFtuXS5oZWFkKSl9LG9yaWdpbjpuJiZuLm9yaWdpbn07cmV0dXJuIFBhKGUsImJlZm9yZVNlbGVjdGlvbkNoYW5nZSIsZSxyKSxlLmNtJiZQYShlLmNtLCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2UiLGUuY20sciksci5yYW5nZXMhPXQucmFuZ2VzP2hlKHIucmFuZ2VzLHIucmFuZ2VzLmxlbmd0aC0xKTp0fWZ1bmN0aW9uIExlKGUsdCxuKXt2YXIgcj1lLmhpc3RvcnkuZG9uZSxpPUlpKHIpO2kmJmkucmFuZ2VzPyhyW3IubGVuZ3RoLTFdPXQsTWUoZSx0LG4pKTpUZShlLHQsbil9ZnVuY3Rpb24gVGUoZSx0LG4pe01lKGUsdCxuKSxmaShlLGUuc2VsLGUuY20/ZS5jbS5jdXJPcC5pZDpOYU4sbil9ZnVuY3Rpb24gTWUoZSx0LG4peyhOaShlLCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2UiKXx8ZS5jbSYmTmkoZS5jbSwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlIikpJiYodD1DZShlLHQsbikpO3ZhciByPW4mJm4uYmlhc3x8KF9vKHQucHJpbWFyeSgpLmhlYWQsZS5zZWwucHJpbWFyeSgpLmhlYWQpPDA/LTE6MSk7TmUoZSxFZShlLHQsciwhMCkpLG4mJm4uc2Nyb2xsPT09ITF8fCFlLmNtfHxCbihlLmNtKX1mdW5jdGlvbiBOZShlLHQpe3QuZXF1YWxzKGUuc2VsKXx8KGUuc2VsPXQsZS5jbSYmKGUuY20uY3VyT3AudXBkYXRlSW5wdXQ9ZS5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkPSEwLE1pKGUuY20pKSxDaShlLCJjdXJzb3JBY3Rpdml0eSIsZSkpfWZ1bmN0aW9uIEFlKGUpe05lKGUsRWUoZSxlLnNlbCxudWxsLCExKSxXYSl9ZnVuY3Rpb24gRWUoZSx0LG4scil7Zm9yKHZhciBpLG89MDtvPHQucmFuZ2VzLmxlbmd0aDtvKyspe3ZhciBhPXQucmFuZ2VzW29dLGw9dC5yYW5nZXMubGVuZ3RoPT1lLnNlbC5yYW5nZXMubGVuZ3RoJiZlLnNlbC5yYW5nZXNbb10scz1JZShlLGEuYW5jaG9yLGwmJmwuYW5jaG9yLG4sciksYz1JZShlLGEuaGVhZCxsJiZsLmhlYWQsbixyKTsoaXx8cyE9YS5hbmNob3J8fGMhPWEuaGVhZCkmJihpfHwoaT10LnJhbmdlcy5zbGljZSgwLG8pKSxpW29dPW5ldyBmZShzLGMpKX1yZXR1cm4gaT9oZShpLHQucHJpbUluZGV4KTp0fWZ1bmN0aW9uIE9lKGUsdCxuLHIsaSl7dmFyIG89WnIoZSx0LmxpbmUpO2lmKG8ubWFya2VkU3BhbnMpZm9yKHZhciBhPTA7YTxvLm1hcmtlZFNwYW5zLmxlbmd0aDsrK2Epe3ZhciBsPW8ubWFya2VkU3BhbnNbYV0scz1sLm1hcmtlcjtpZigobnVsbD09bC5mcm9tfHwocy5pbmNsdXNpdmVMZWZ0P2wuZnJvbTw9dC5jaDpsLmZyb208dC5jaCkpJiYobnVsbD09bC50b3x8KHMuaW5jbHVzaXZlUmlnaHQ/bC50bz49dC5jaDpsLnRvPnQuY2gpKSl7aWYoaSYmKFBhKHMsImJlZm9yZUN1cnNvckVudGVyIikscy5leHBsaWNpdGx5Q2xlYXJlZCkpe2lmKG8ubWFya2VkU3BhbnMpey0tYTtjb250aW51ZX1icmVha31pZighcy5hdG9taWMpY29udGludWU7aWYobil7dmFyIGMsdT1zLmZpbmQoMD5yPzE6LTEpO2lmKCgwPnI/cy5pbmNsdXNpdmVSaWdodDpzLmluY2x1c2l2ZUxlZnQpJiYodT1QZShlLHUsLXIsdSYmdS5saW5lPT10LmxpbmU/bzpudWxsKSksdSYmdS5saW5lPT10LmxpbmUmJihjPV9vKHUsbikpJiYoMD5yPzA+YzpjPjApKXJldHVybiBPZShlLHUsdCxyLGkpfXZhciBmPXMuZmluZCgwPnI/LTE6MSk7cmV0dXJuKDA+cj9zLmluY2x1c2l2ZUxlZnQ6cy5pbmNsdXNpdmVSaWdodCkmJihmPVBlKGUsZixyLGYubGluZT09dC5saW5lP286bnVsbCkpLGY/T2UoZSxmLHQscixpKTpudWxsfX1yZXR1cm4gdH1mdW5jdGlvbiBJZShlLHQsbixyLGkpe3ZhciBvPXJ8fDEsYT1PZShlLHQsbixvLGkpfHwhaSYmT2UoZSx0LG4sbywhMCl8fE9lKGUsdCxuLC1vLGkpfHwhaSYmT2UoZSx0LG4sLW8sITApO3JldHVybiBhP2E6KGUuY2FudEVkaXQ9ITAsQm8oZS5maXJzdCwwKSl9ZnVuY3Rpb24gUGUoZSx0LG4scil7cmV0dXJuIDA+biYmMD09dC5jaD90LmxpbmU+ZS5maXJzdD9tZShlLEJvKHQubGluZS0xKSk6bnVsbDpuPjAmJnQuY2g9PShyfHxacihlLHQubGluZSkpLnRleHQubGVuZ3RoP3QubGluZTxlLmZpcnN0K2Uuc2l6ZS0xP0JvKHQubGluZSsxLDApOm51bGw6bmV3IEJvKHQubGluZSx0LmNoK24pfWZ1bmN0aW9uIFJlKGUpe2UuZGlzcGxheS5pbnB1dC5zaG93U2VsZWN0aW9uKGUuZGlzcGxheS5pbnB1dC5wcmVwYXJlU2VsZWN0aW9uKCkpfWZ1bmN0aW9uIERlKGUsdCl7Zm9yKHZhciBuPWUuZG9jLHI9e30saT1yLmN1cnNvcnM9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG89ci5zZWxlY3Rpb249ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGE9MDthPG4uc2VsLnJhbmdlcy5sZW5ndGg7YSsrKWlmKHQhPT0hMXx8YSE9bi5zZWwucHJpbUluZGV4KXt2YXIgbD1uLnNlbC5yYW5nZXNbYV07aWYoIShsLmZyb20oKS5saW5lPj1lLmRpc3BsYXkudmlld1RvfHxsLnRvKCkubGluZTxlLmRpc3BsYXkudmlld0Zyb20pKXt2YXIgcz1sLmVtcHR5KCk7KHN8fGUub3B0aW9ucy5zaG93Q3Vyc29yV2hlblNlbGVjdGluZykmJkhlKGUsbC5oZWFkLGkpLHN8fFdlKGUsbCxvKX19cmV0dXJuIHJ9ZnVuY3Rpb24gSGUoZSx0LG4pe3ZhciByPWR0KGUsdCwiZGl2IixudWxsLG51bGwsIWUub3B0aW9ucy5zaW5nbGVDdXJzb3JIZWlnaHRQZXJMaW5lKSxpPW4uYXBwZW5kQ2hpbGQoamkoImRpdiIsIsKgIiwiQ29kZU1pcnJvci1jdXJzb3IiKSk7aWYoaS5zdHlsZS5sZWZ0PXIubGVmdCsicHgiLGkuc3R5bGUudG9wPXIudG9wKyJweCIsaS5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoMCxyLmJvdHRvbS1yLnRvcCkqZS5vcHRpb25zLmN1cnNvckhlaWdodCsicHgiLHIub3RoZXIpe3ZhciBvPW4uYXBwZW5kQ2hpbGQoamkoImRpdiIsIsKgIiwiQ29kZU1pcnJvci1jdXJzb3IgQ29kZU1pcnJvci1zZWNvbmRhcnljdXJzb3IiKSk7by5zdHlsZS5kaXNwbGF5PSIiLG8uc3R5bGUubGVmdD1yLm90aGVyLmxlZnQrInB4IixvLnN0eWxlLnRvcD1yLm90aGVyLnRvcCsicHgiLG8uc3R5bGUuaGVpZ2h0PS44NSooci5vdGhlci5ib3R0b20tci5vdGhlci50b3ApKyJweCJ9fWZ1bmN0aW9uIFdlKGUsdCxuKXtmdW5jdGlvbiByKGUsdCxuLHIpezA+dCYmKHQ9MCksdD1NYXRoLnJvdW5kKHQpLHI9TWF0aC5yb3VuZChyKSxsLmFwcGVuZENoaWxkKGppKCJkaXYiLG51bGwsIkNvZGVNaXJyb3Itc2VsZWN0ZWQiLCJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6ICIrZSsicHg7IHRvcDogIit0KyJweDsgd2lkdGg6ICIrKG51bGw9PW4/dS1lOm4pKyJweDsgaGVpZ2h0OiAiKyhyLXQpKyJweCIpKX1mdW5jdGlvbiBpKHQsbixpKXtmdW5jdGlvbiBvKG4scil7cmV0dXJuIGh0KGUsQm8odCxuKSwiZGl2IixmLHIpfXZhciBsLHMsZj1acihhLHQpLGg9Zi50ZXh0Lmxlbmd0aDtyZXR1cm4gZW8oaWkoZiksbnx8MCxudWxsPT1pP2g6aSxmdW5jdGlvbihlLHQsYSl7dmFyIGYsZCxwLG09byhlLCJsZWZ0Iik7aWYoZT09dClmPW0sZD1wPW0ubGVmdDtlbHNle2lmKGY9byh0LTEsInJpZ2h0IiksInJ0bCI9PWEpe3ZhciBnPW07bT1mLGY9Z31kPW0ubGVmdCxwPWYucmlnaHR9bnVsbD09biYmMD09ZSYmKGQ9YyksZi50b3AtbS50b3A+MyYmKHIoZCxtLnRvcCxudWxsLG0uYm90dG9tKSxkPWMsbS5ib3R0b208Zi50b3AmJnIoZCxtLmJvdHRvbSxudWxsLGYudG9wKSksbnVsbD09aSYmdD09aCYmKHA9dSksKCFsfHxtLnRvcDxsLnRvcHx8bS50b3A9PWwudG9wJiZtLmxlZnQ8bC5sZWZ0KSYmKGw9bSksKCFzfHxmLmJvdHRvbT5zLmJvdHRvbXx8Zi5ib3R0b209PXMuYm90dG9tJiZmLnJpZ2h0PnMucmlnaHQpJiYocz1mKSxjKzE+ZCYmKGQ9YykscihkLGYudG9wLHAtZCxmLmJvdHRvbSl9KSx7c3RhcnQ6bCxlbmQ6c319dmFyIG89ZS5kaXNwbGF5LGE9ZS5kb2MsbD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscz1HZShlLmRpc3BsYXkpLGM9cy5sZWZ0LHU9TWF0aC5tYXgoby5zaXplcldpZHRoLCRlKGUpLW8uc2l6ZXIub2Zmc2V0TGVmdCktcy5yaWdodCxmPXQuZnJvbSgpLGg9dC50bygpO2lmKGYubGluZT09aC5saW5lKWkoZi5saW5lLGYuY2gsaC5jaCk7ZWxzZXt2YXIgZD1acihhLGYubGluZSkscD1acihhLGgubGluZSksbT15cihkKT09eXIocCksZz1pKGYubGluZSxmLmNoLG0/ZC50ZXh0Lmxlbmd0aCsxOm51bGwpLmVuZCx2PWkoaC5saW5lLG0/MDpudWxsLGguY2gpLnN0YXJ0O20mJihnLnRvcDx2LnRvcC0yPyhyKGcucmlnaHQsZy50b3AsbnVsbCxnLmJvdHRvbSkscihjLHYudG9wLHYubGVmdCx2LmJvdHRvbSkpOnIoZy5yaWdodCxnLnRvcCx2LmxlZnQtZy5yaWdodCxnLmJvdHRvbSkpLGcuYm90dG9tPHYudG9wJiZyKGMsZy5ib3R0b20sbnVsbCx2LnRvcCl9bi5hcHBlbmRDaGlsZChsKX1mdW5jdGlvbiBCZShlKXtpZihlLnN0YXRlLmZvY3VzZWQpe3ZhciB0PWUuZGlzcGxheTtjbGVhckludGVydmFsKHQuYmxpbmtlcik7dmFyIG49ITA7dC5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eT0iIixlLm9wdGlvbnMuY3Vyc29yQmxpbmtSYXRlPjA/dC5ibGlua2VyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eT0obj0hbik/IiI6ImhpZGRlbiJ9LGUub3B0aW9ucy5jdXJzb3JCbGlua1JhdGUpOmUub3B0aW9ucy5jdXJzb3JCbGlua1JhdGU8MCYmKHQuY3Vyc29yRGl2LnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpfX1mdW5jdGlvbiBfZShlLHQpe2UuZG9jLm1vZGUuc3RhcnRTdGF0ZSYmZS5kb2MuZnJvbnRpZXI8ZS5kaXNwbGF5LnZpZXdUbyYmZS5zdGF0ZS5oaWdobGlnaHQuc2V0KHQsQmkoRmUsZSkpfWZ1bmN0aW9uIEZlKGUpe3ZhciB0PWUuZG9jO2lmKHQuZnJvbnRpZXI8dC5maXJzdCYmKHQuZnJvbnRpZXI9dC5maXJzdCksISh0LmZyb250aWVyPj1lLmRpc3BsYXkudmlld1RvKSl7dmFyIG49K25ldyBEYXRlK2Uub3B0aW9ucy53b3JrVGltZSxyPXNhKHQubW9kZSxqZShlLHQuZnJvbnRpZXIpKSxpPVtdO3QuaXRlcih0LmZyb250aWVyLE1hdGgubWluKHQuZmlyc3QrdC5zaXplLGUuZGlzcGxheS52aWV3VG8rNTAwKSxmdW5jdGlvbihvKXtpZih0LmZyb250aWVyPj1lLmRpc3BsYXkudmlld0Zyb20pe3ZhciBhPW8uc3R5bGVzLGw9by50ZXh0Lmxlbmd0aD5lLm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoLHM9UnIoZSxvLGw/c2EodC5tb2RlLHIpOnIsITApO28uc3R5bGVzPXMuc3R5bGVzO3ZhciBjPW8uc3R5bGVDbGFzc2VzLHU9cy5jbGFzc2VzO3U/by5zdHlsZUNsYXNzZXM9dTpjJiYoby5zdHlsZUNsYXNzZXM9bnVsbCk7Zm9yKHZhciBmPSFhfHxhLmxlbmd0aCE9by5zdHlsZXMubGVuZ3RofHxjIT11JiYoIWN8fCF1fHxjLmJnQ2xhc3MhPXUuYmdDbGFzc3x8Yy50ZXh0Q2xhc3MhPXUudGV4dENsYXNzKSxoPTA7IWYmJmg8YS5sZW5ndGg7KytoKWY9YVtoXSE9by5zdHlsZXNbaF07ZiYmaS5wdXNoKHQuZnJvbnRpZXIpLG8uc3RhdGVBZnRlcj1sP3I6c2EodC5tb2RlLHIpfWVsc2Ugby50ZXh0Lmxlbmd0aDw9ZS5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aCYmSHIoZSxvLnRleHQsciksby5zdGF0ZUFmdGVyPXQuZnJvbnRpZXIlNT09MD9zYSh0Lm1vZGUscik6bnVsbDtyZXR1cm4rK3QuZnJvbnRpZXIsK25ldyBEYXRlPm4/KF9lKGUsZS5vcHRpb25zLndvcmtEZWxheSksITApOnZvaWQgMH0pLGkubGVuZ3RoJiZBdChlLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDxpLmxlbmd0aDt0KyspSHQoZSxpW3RdLCJ0ZXh0Iil9KX19ZnVuY3Rpb24gemUoZSx0LG4pe2Zvcih2YXIgcixpLG89ZS5kb2MsYT1uPy0xOnQtKGUuZG9jLm1vZGUuaW5uZXJNb2RlPzFlMzoxMDApLGw9dDtsPmE7LS1sKXtpZihsPD1vLmZpcnN0KXJldHVybiBvLmZpcnN0O3ZhciBzPVpyKG8sbC0xKTtpZihzLnN0YXRlQWZ0ZXImJighbnx8bDw9by5mcm9udGllcikpcmV0dXJuIGw7dmFyIGM9RmEocy50ZXh0LG51bGwsZS5vcHRpb25zLnRhYlNpemUpOyhudWxsPT1pfHxyPmMpJiYoaT1sLTEscj1jKX1yZXR1cm4gaX1mdW5jdGlvbiBqZShlLHQsbil7dmFyIHI9ZS5kb2MsaT1lLmRpc3BsYXk7aWYoIXIubW9kZS5zdGFydFN0YXRlKXJldHVybiEwO3ZhciBvPXplKGUsdCxuKSxhPW8+ci5maXJzdCYmWnIocixvLTEpLnN0YXRlQWZ0ZXI7cmV0dXJuIGE9YT9zYShyLm1vZGUsYSk6Y2Eoci5tb2RlKSxyLml0ZXIobyx0LGZ1bmN0aW9uKG4pe0hyKGUsbi50ZXh0LGEpO3ZhciBsPW89PXQtMXx8byU1PT0wfHxvPj1pLnZpZXdGcm9tJiZvPGkudmlld1RvO24uc3RhdGVBZnRlcj1sP3NhKHIubW9kZSxhKTpudWxsLCsrb30pLG4mJihyLmZyb250aWVyPW8pLGF9ZnVuY3Rpb24gVWUoZSl7cmV0dXJuIGUubGluZVNwYWNlLm9mZnNldFRvcH1mdW5jdGlvbiBxZShlKXtyZXR1cm4gZS5tb3Zlci5vZmZzZXRIZWlnaHQtZS5saW5lU3BhY2Uub2Zmc2V0SGVpZ2h0fWZ1bmN0aW9uIEdlKGUpe2lmKGUuY2FjaGVkUGFkZGluZ0gpcmV0dXJuIGUuY2FjaGVkUGFkZGluZ0g7dmFyIHQ9cWkoZS5tZWFzdXJlLGppKCJwcmUiLCJ4IikpLG49d2luZG93LmdldENvbXB1dGVkU3R5bGU/d2luZG93LmdldENvbXB1dGVkU3R5bGUodCk6dC5jdXJyZW50U3R5bGUscj17bGVmdDpwYXJzZUludChuLnBhZGRpbmdMZWZ0KSxyaWdodDpwYXJzZUludChuLnBhZGRpbmdSaWdodCl9O3JldHVybiBpc05hTihyLmxlZnQpfHxpc05hTihyLnJpZ2h0KXx8KGUuY2FjaGVkUGFkZGluZ0g9cikscn1mdW5jdGlvbiBZZShlKXtyZXR1cm4gRGEtZS5kaXNwbGF5Lm5hdGl2ZUJhcldpZHRofWZ1bmN0aW9uICRlKGUpe3JldHVybiBlLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgtWWUoZSktZS5kaXNwbGF5LmJhcldpZHRofWZ1bmN0aW9uIFZlKGUpe3JldHVybiBlLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0LVllKGUpLWUuZGlzcGxheS5iYXJIZWlnaHR9ZnVuY3Rpb24gS2UoZSx0LG4pe3ZhciByPWUub3B0aW9ucy5saW5lV3JhcHBpbmcsaT1yJiYkZShlKTtpZighdC5tZWFzdXJlLmhlaWdodHN8fHImJnQubWVhc3VyZS53aWR0aCE9aSl7dmFyIG89dC5tZWFzdXJlLmhlaWdodHM9W107aWYocil7dC5tZWFzdXJlLndpZHRoPWk7Zm9yKHZhciBhPXQudGV4dC5maXJzdENoaWxkLmdldENsaWVudFJlY3RzKCksbD0wO2w8YS5sZW5ndGgtMTtsKyspe3ZhciBzPWFbbF0sYz1hW2wrMV07TWF0aC5hYnMocy5ib3R0b20tYy5ib3R0b20pPjImJm8ucHVzaCgocy5ib3R0b20rYy50b3ApLzItbi50b3ApfX1vLnB1c2gobi5ib3R0b20tbi50b3ApfX1mdW5jdGlvbiBYZShlLHQsbil7aWYoZS5saW5lPT10KXJldHVybnttYXA6ZS5tZWFzdXJlLm1hcCxjYWNoZTplLm1lYXN1cmUuY2FjaGV9O2Zvcih2YXIgcj0wO3I8ZS5yZXN0Lmxlbmd0aDtyKyspaWYoZS5yZXN0W3JdPT10KXJldHVybnttYXA6ZS5tZWFzdXJlLm1hcHNbcl0sY2FjaGU6ZS5tZWFzdXJlLmNhY2hlc1tyXX07Zm9yKHZhciByPTA7cjxlLnJlc3QubGVuZ3RoO3IrKylpZih0aShlLnJlc3Rbcl0pPm4pcmV0dXJue21hcDplLm1lYXN1cmUubWFwc1tyXSxjYWNoZTplLm1lYXN1cmUuY2FjaGVzW3JdLGJlZm9yZTohMH19ZnVuY3Rpb24gWmUoZSx0KXt0PXlyKHQpO3ZhciBuPXRpKHQpLHI9ZS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ9bmV3IFB0KGUuZG9jLHQsbik7ci5saW5lTj1uO3ZhciBpPXIuYnVpbHQ9QnIoZSxyKTtyZXR1cm4gci50ZXh0PWkucHJlLHFpKGUuZGlzcGxheS5saW5lTWVhc3VyZSxpLnByZSkscn1mdW5jdGlvbiBKZShlLHQsbixyKXtyZXR1cm4gdHQoZSxldChlLHQpLG4scil9ZnVuY3Rpb24gUWUoZSx0KXtpZih0Pj1lLmRpc3BsYXkudmlld0Zyb20mJnQ8ZS5kaXNwbGF5LnZpZXdUbylyZXR1cm4gZS5kaXNwbGF5LnZpZXdbQnQoZSx0KV07dmFyIG49ZS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ7cmV0dXJuIG4mJnQ+PW4ubGluZU4mJnQ8bi5saW5lTituLnNpemU/bjp2b2lkIDB9ZnVuY3Rpb24gZXQoZSx0KXt2YXIgbj10aSh0KSxyPVFlKGUsbik7ciYmIXIudGV4dD9yPW51bGw6ciYmci5jaGFuZ2VzJiYoRChlLHIsbixQKGUpKSxlLmN1ck9wLmZvcmNlVXBkYXRlPSEwKSxyfHwocj1aZShlLHQpKTt2YXIgaT1YZShyLHQsbik7cmV0dXJue2xpbmU6dCx2aWV3OnIscmVjdDpudWxsLG1hcDppLm1hcCxjYWNoZTppLmNhY2hlLGJlZm9yZTppLmJlZm9yZSxoYXNIZWlnaHRzOiExfX1mdW5jdGlvbiB0dChlLHQsbixyLGkpe3QuYmVmb3JlJiYobj0tMSk7dmFyIG8sYT1uKyhyfHwiIik7cmV0dXJuIHQuY2FjaGUuaGFzT3duUHJvcGVydHkoYSk/bz10LmNhY2hlW2FdOih0LnJlY3R8fCh0LnJlY3Q9dC52aWV3LnRleHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLHQuaGFzSGVpZ2h0c3x8KEtlKGUsdC52aWV3LHQucmVjdCksdC5oYXNIZWlnaHRzPSEwKSxvPXJ0KGUsdCxuLHIpLG8uYm9ndXN8fCh0LmNhY2hlW2FdPW8pKSx7bGVmdDpvLmxlZnQscmlnaHQ6by5yaWdodCx0b3A6aT9vLnJ0b3A6by50b3AsYm90dG9tOmk/by5yYm90dG9tOm8uYm90dG9tfX1mdW5jdGlvbiBudChlLHQsbil7Zm9yKHZhciByLGksbyxhLGw9MDtsPGUubGVuZ3RoO2wrPTMpe3ZhciBzPWVbbF0sYz1lW2wrMV07aWYocz50PyhpPTAsbz0xLGE9ImxlZnQiKTpjPnQ/KGk9dC1zLG89aSsxKToobD09ZS5sZW5ndGgtM3x8dD09YyYmZVtsKzNdPnQpJiYobz1jLXMsaT1vLTEsdD49YyYmKGE9InJpZ2h0IikpLG51bGwhPWkpe2lmKHI9ZVtsKzJdLHM9PWMmJm49PShyLmluc2VydExlZnQ/ImxlZnQiOiJyaWdodCIpJiYoYT1uKSwibGVmdCI9PW4mJjA9PWkpZm9yKDtsJiZlW2wtMl09PWVbbC0zXSYmZVtsLTFdLmluc2VydExlZnQ7KXI9ZVsobC09MykrMl0sYT0ibGVmdCI7aWYoInJpZ2h0Ij09biYmaT09Yy1zKWZvcig7bDxlLmxlbmd0aC0zJiZlW2wrM109PWVbbCs0XSYmIWVbbCs1XS5pbnNlcnRMZWZ0OylyPWVbKGwrPTMpKzJdLGE9InJpZ2h0IjticmVha319cmV0dXJue25vZGU6cixzdGFydDppLGVuZDpvLGNvbGxhcHNlOmEsY292ZXJTdGFydDpzLGNvdmVyRW5kOmN9fWZ1bmN0aW9uIHJ0KGUsdCxuLHIpe3ZhciBpLG89bnQodC5tYXAsbixyKSxhPW8ubm9kZSxsPW8uc3RhcnQscz1vLmVuZCxjPW8uY29sbGFwc2U7aWYoMz09YS5ub2RlVHlwZSl7Zm9yKHZhciB1PTA7ND51O3UrKyl7Zm9yKDtsJiZ6aSh0LmxpbmUudGV4dC5jaGFyQXQoby5jb3ZlclN0YXJ0K2wpKTspLS1sO2Zvcig7by5jb3ZlclN0YXJ0K3M8by5jb3ZlckVuZCYmemkodC5saW5lLnRleHQuY2hhckF0KG8uY292ZXJTdGFydCtzKSk7KSsrcztpZih4byYmOT5ibyYmMD09bCYmcz09by5jb3ZlckVuZC1vLmNvdmVyU3RhcnQpaT1hLnBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZWxzZSBpZih4byYmZS5vcHRpb25zLmxpbmVXcmFwcGluZyl7dmFyIGY9cWEoYSxsLHMpLmdldENsaWVudFJlY3RzKCk7aT1mLmxlbmd0aD9mWyJyaWdodCI9PXI/Zi5sZW5ndGgtMTowXTpxb31lbHNlIGk9cWEoYSxsLHMpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfHxxbztpZihpLmxlZnR8fGkucmlnaHR8fDA9PWwpYnJlYWs7cz1sLGwtPTEsYz0icmlnaHQifXhvJiYxMT5ibyYmKGk9aXQoZS5kaXNwbGF5Lm1lYXN1cmUsaSkpfWVsc2V7bD4wJiYoYz1yPSJyaWdodCIpO3ZhciBmO2k9ZS5vcHRpb25zLmxpbmVXcmFwcGluZyYmKGY9YS5nZXRDbGllbnRSZWN0cygpKS5sZW5ndGg+MT9mWyJyaWdodCI9PXI/Zi5sZW5ndGgtMTowXTphLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWlmKHhvJiY5PmJvJiYhbCYmKCFpfHwhaS5sZWZ0JiYhaS5yaWdodCkpe3ZhciBoPWEucGFyZW50Tm9kZS5nZXRDbGllbnRSZWN0cygpWzBdO2k9aD97bGVmdDpoLmxlZnQscmlnaHQ6aC5sZWZ0K3h0KGUuZGlzcGxheSksdG9wOmgudG9wLGJvdHRvbTpoLmJvdHRvbX06cW99Zm9yKHZhciBkPWkudG9wLXQucmVjdC50b3AscD1pLmJvdHRvbS10LnJlY3QudG9wLG09KGQrcCkvMixnPXQudmlldy5tZWFzdXJlLmhlaWdodHMsdT0wO3U8Zy5sZW5ndGgtMSYmIShtPGdbdV0pO3UrKyk7dmFyIHY9dT9nW3UtMV06MCx5PWdbdV0seD17bGVmdDooInJpZ2h0Ij09Yz9pLnJpZ2h0OmkubGVmdCktdC5yZWN0LmxlZnQscmlnaHQ6KCJsZWZ0Ij09Yz9pLmxlZnQ6aS5yaWdodCktdC5yZWN0LmxlZnQsdG9wOnYsYm90dG9tOnl9O3JldHVybiBpLmxlZnR8fGkucmlnaHR8fCh4LmJvZ3VzPSEwKSxlLm9wdGlvbnMuc2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZXx8KHgucnRvcD1kLHgucmJvdHRvbT1wKSx4fWZ1bmN0aW9uIGl0KGUsdCl7aWYoIXdpbmRvdy5zY3JlZW58fG51bGw9PXNjcmVlbi5sb2dpY2FsWERQSXx8c2NyZWVuLmxvZ2ljYWxYRFBJPT1zY3JlZW4uZGV2aWNlWERQSXx8IVFpKGUpKXJldHVybiB0O3ZhciBuPXNjcmVlbi5sb2dpY2FsWERQSS9zY3JlZW4uZGV2aWNlWERQSSxyPXNjcmVlbi5sb2dpY2FsWURQSS9zY3JlZW4uZGV2aWNlWURQSTtyZXR1cm57bGVmdDp0LmxlZnQqbixyaWdodDp0LnJpZ2h0Km4sdG9wOnQudG9wKnIsYm90dG9tOnQuYm90dG9tKnJ9fWZ1bmN0aW9uIG90KGUpe2lmKGUubWVhc3VyZSYmKGUubWVhc3VyZS5jYWNoZT17fSxlLm1lYXN1cmUuaGVpZ2h0cz1udWxsLGUucmVzdCkpZm9yKHZhciB0PTA7dDxlLnJlc3QubGVuZ3RoO3QrKyllLm1lYXN1cmUuY2FjaGVzW3RdPXt9fWZ1bmN0aW9uIGF0KGUpe2UuZGlzcGxheS5leHRlcm5hbE1lYXN1cmU9bnVsbCxVaShlLmRpc3BsYXkubGluZU1lYXN1cmUpO2Zvcih2YXIgdD0wO3Q8ZS5kaXNwbGF5LnZpZXcubGVuZ3RoO3QrKylvdChlLmRpc3BsYXkudmlld1t0XSl9ZnVuY3Rpb24gbHQoZSl7YXQoZSksZS5kaXNwbGF5LmNhY2hlZENoYXJXaWR0aD1lLmRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodD1lLmRpc3BsYXkuY2FjaGVkUGFkZGluZ0g9bnVsbCxlLm9wdGlvbnMubGluZVdyYXBwaW5nfHwoZS5kaXNwbGF5Lm1heExpbmVDaGFuZ2VkPSEwKSxlLmRpc3BsYXkubGluZU51bUNoYXJzPW51bGx9ZnVuY3Rpb24gc3QoKXtyZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0fHwoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5KS5zY3JvbGxMZWZ0fWZ1bmN0aW9uIGN0KCl7cmV0dXJuIHdpbmRvdy5wYWdlWU9mZnNldHx8KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keSkuc2Nyb2xsVG9wfWZ1bmN0aW9uIHV0KGUsdCxuLHIpe2lmKHQud2lkZ2V0cylmb3IodmFyIGk9MDtpPHQud2lkZ2V0cy5sZW5ndGg7KytpKWlmKHQud2lkZ2V0c1tpXS5hYm92ZSl7dmFyIG89THIodC53aWRnZXRzW2ldKTtuLnRvcCs9byxuLmJvdHRvbSs9b31pZigibGluZSI9PXIpcmV0dXJuIG47cnx8KHI9ImxvY2FsIik7dmFyIGE9cmkodCk7aWYoImxvY2FsIj09cj9hKz1VZShlLmRpc3BsYXkpOmEtPWUuZGlzcGxheS52aWV3T2Zmc2V0LCJwYWdlIj09cnx8IndpbmRvdyI9PXIpe3ZhciBsPWUuZGlzcGxheS5saW5lU3BhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7YSs9bC50b3ArKCJ3aW5kb3ciPT1yPzA6Y3QoKSk7dmFyIHM9bC5sZWZ0Kygid2luZG93Ij09cj8wOnN0KCkpO24ubGVmdCs9cyxuLnJpZ2h0Kz1zfXJldHVybiBuLnRvcCs9YSxuLmJvdHRvbSs9YSxufWZ1bmN0aW9uIGZ0KGUsdCxuKXtpZigiZGl2Ij09bilyZXR1cm4gdDt2YXIgcj10LmxlZnQsaT10LnRvcDtpZigicGFnZSI9PW4pci09c3QoKSwKaS09Y3QoKTtlbHNlIGlmKCJsb2NhbCI9PW58fCFuKXt2YXIgbz1lLmRpc3BsYXkuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cis9by5sZWZ0LGkrPW8udG9wfXZhciBhPWUuZGlzcGxheS5saW5lU3BhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue2xlZnQ6ci1hLmxlZnQsdG9wOmktYS50b3B9fWZ1bmN0aW9uIGh0KGUsdCxuLHIsaSl7cmV0dXJuIHJ8fChyPVpyKGUuZG9jLHQubGluZSkpLHV0KGUscixKZShlLHIsdC5jaCxpKSxuKX1mdW5jdGlvbiBkdChlLHQsbixyLGksbyl7ZnVuY3Rpb24gYSh0LGEpe3ZhciBsPXR0KGUsaSx0LGE/InJpZ2h0IjoibGVmdCIsbyk7cmV0dXJuIGE/bC5sZWZ0PWwucmlnaHQ6bC5yaWdodD1sLmxlZnQsdXQoZSxyLGwsbil9ZnVuY3Rpb24gbChlLHQpe3ZhciBuPXNbdF0scj1uLmxldmVsJTI7cmV0dXJuIGU9PXRvKG4pJiZ0JiZuLmxldmVsPHNbdC0xXS5sZXZlbD8obj1zWy0tdF0sZT1ubyhuKS0obi5sZXZlbCUyPzA6MSkscj0hMCk6ZT09bm8obikmJnQ8cy5sZW5ndGgtMSYmbi5sZXZlbDxzW3QrMV0ubGV2ZWwmJihuPXNbKyt0XSxlPXRvKG4pLW4ubGV2ZWwlMixyPSExKSxyJiZlPT1uLnRvJiZlPm4uZnJvbT9hKGUtMSk6YShlLHIpfXI9cnx8WnIoZS5kb2MsdC5saW5lKSxpfHwoaT1ldChlLHIpKTt2YXIgcz1paShyKSxjPXQuY2g7aWYoIXMpcmV0dXJuIGEoYyk7dmFyIHU9Y28ocyxjKSxmPWwoYyx1KTtyZXR1cm4gbnVsbCE9YWwmJihmLm90aGVyPWwoYyxhbCkpLGZ9ZnVuY3Rpb24gcHQoZSx0KXt2YXIgbj0wLHQ9bWUoZS5kb2MsdCk7ZS5vcHRpb25zLmxpbmVXcmFwcGluZ3x8KG49eHQoZS5kaXNwbGF5KSp0LmNoKTt2YXIgcj1acihlLmRvYyx0LmxpbmUpLGk9cmkocikrVWUoZS5kaXNwbGF5KTtyZXR1cm57bGVmdDpuLHJpZ2h0Om4sdG9wOmksYm90dG9tOmkrci5oZWlnaHR9fWZ1bmN0aW9uIG10KGUsdCxuLHIpe3ZhciBpPUJvKGUsdCk7cmV0dXJuIGkueFJlbD1yLG4mJihpLm91dHNpZGU9ITApLGl9ZnVuY3Rpb24gZ3QoZSx0LG4pe3ZhciByPWUuZG9jO2lmKG4rPWUuZGlzcGxheS52aWV3T2Zmc2V0LDA+bilyZXR1cm4gbXQoci5maXJzdCwwLCEwLC0xKTt2YXIgaT1uaShyLG4pLG89ci5maXJzdCtyLnNpemUtMTtpZihpPm8pcmV0dXJuIG10KHIuZmlyc3Qrci5zaXplLTEsWnIocixvKS50ZXh0Lmxlbmd0aCwhMCwxKTswPnQmJih0PTApO2Zvcih2YXIgYT1acihyLGkpOzspe3ZhciBsPXZ0KGUsYSxpLHQsbikscz1ncihhKSxjPXMmJnMuZmluZCgwLCEwKTtpZighc3x8IShsLmNoPmMuZnJvbS5jaHx8bC5jaD09Yy5mcm9tLmNoJiZsLnhSZWw+MCkpcmV0dXJuIGw7aT10aShhPWMudG8ubGluZSl9fWZ1bmN0aW9uIHZ0KGUsdCxuLHIsaSl7ZnVuY3Rpb24gbyhyKXt2YXIgaT1kdChlLEJvKG4sciksImxpbmUiLHQsYyk7cmV0dXJuIGw9ITAsYT5pLmJvdHRvbT9pLmxlZnQtczphPGkudG9wP2kubGVmdCtzOihsPSExLGkubGVmdCl9dmFyIGE9aS1yaSh0KSxsPSExLHM9MiplLmRpc3BsYXkud3JhcHBlci5jbGllbnRXaWR0aCxjPWV0KGUsdCksdT1paSh0KSxmPXQudGV4dC5sZW5ndGgsaD1ybyh0KSxkPWlvKHQpLHA9byhoKSxtPWwsZz1vKGQpLHY9bDtpZihyPmcpcmV0dXJuIG10KG4sZCx2LDEpO2Zvcig7Oyl7aWYodT9kPT1ofHxkPT1mbyh0LGgsMSk6MT49ZC1oKXtmb3IodmFyIHk9cD5yfHxnLXI+PXItcD9oOmQseD1yLSh5PT1oP3A6Zyk7emkodC50ZXh0LmNoYXJBdCh5KSk7KSsreTt2YXIgYj1tdChuLHkseT09aD9tOnYsLTE+eD8tMTp4PjE/MTowKTtyZXR1cm4gYn12YXIgdz1NYXRoLmNlaWwoZi8yKSxrPWgrdztpZih1KXtrPWg7Zm9yKHZhciBTPTA7dz5TOysrUylrPWZvKHQsaywxKX12YXIgQz1vKGspO0M+cj8oZD1rLGc9Qywodj1sKSYmKGcrPTFlMyksZj13KTooaD1rLHA9QyxtPWwsZi09dyl9fWZ1bmN0aW9uIHl0KGUpe2lmKG51bGwhPWUuY2FjaGVkVGV4dEhlaWdodClyZXR1cm4gZS5jYWNoZWRUZXh0SGVpZ2h0O2lmKG51bGw9PXpvKXt6bz1qaSgicHJlIik7Zm9yKHZhciB0PTA7NDk+dDsrK3Qpem8uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIngiKSksem8uYXBwZW5kQ2hpbGQoamkoImJyIikpO3pvLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJ4IikpfXFpKGUubWVhc3VyZSx6byk7dmFyIG49em8ub2Zmc2V0SGVpZ2h0LzUwO3JldHVybiBuPjMmJihlLmNhY2hlZFRleHRIZWlnaHQ9biksVWkoZS5tZWFzdXJlKSxufHwxfWZ1bmN0aW9uIHh0KGUpe2lmKG51bGwhPWUuY2FjaGVkQ2hhcldpZHRoKXJldHVybiBlLmNhY2hlZENoYXJXaWR0aDt2YXIgdD1qaSgic3BhbiIsInh4eHh4eHh4eHgiKSxuPWppKCJwcmUiLFt0XSk7cWkoZS5tZWFzdXJlLG4pO3ZhciByPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT0oci5yaWdodC1yLmxlZnQpLzEwO3JldHVybiBpPjImJihlLmNhY2hlZENoYXJXaWR0aD1pKSxpfHwxMH1mdW5jdGlvbiBidChlKXtlLmN1ck9wPXtjbTplLHZpZXdDaGFuZ2VkOiExLHN0YXJ0SGVpZ2h0OmUuZG9jLmhlaWdodCxmb3JjZVVwZGF0ZTohMSx1cGRhdGVJbnB1dDpudWxsLHR5cGluZzohMSxjaGFuZ2VPYmpzOm51bGwsY3Vyc29yQWN0aXZpdHlIYW5kbGVyczpudWxsLGN1cnNvckFjdGl2aXR5Q2FsbGVkOjAsc2VsZWN0aW9uQ2hhbmdlZDohMSx1cGRhdGVNYXhMaW5lOiExLHNjcm9sbExlZnQ6bnVsbCxzY3JvbGxUb3A6bnVsbCxzY3JvbGxUb1BvczpudWxsLGZvY3VzOiExLGlkOisrWW99LEdvP0dvLm9wcy5wdXNoKGUuY3VyT3ApOmUuY3VyT3Aub3duc0dyb3VwPUdvPXtvcHM6W2UuY3VyT3BdLGRlbGF5ZWRDYWxsYmFja3M6W119fWZ1bmN0aW9uIHd0KGUpe3ZhciB0PWUuZGVsYXllZENhbGxiYWNrcyxuPTA7ZG97Zm9yKDtuPHQubGVuZ3RoO24rKyl0W25dLmNhbGwobnVsbCk7Zm9yKHZhciByPTA7cjxlLm9wcy5sZW5ndGg7cisrKXt2YXIgaT1lLm9wc1tyXTtpZihpLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMpZm9yKDtpLmN1cnNvckFjdGl2aXR5Q2FsbGVkPGkuY3Vyc29yQWN0aXZpdHlIYW5kbGVycy5sZW5ndGg7KWkuY3Vyc29yQWN0aXZpdHlIYW5kbGVyc1tpLmN1cnNvckFjdGl2aXR5Q2FsbGVkKytdLmNhbGwobnVsbCxpLmNtKX19d2hpbGUobjx0Lmxlbmd0aCl9ZnVuY3Rpb24ga3QoZSl7dmFyIHQ9ZS5jdXJPcCxuPXQub3duc0dyb3VwO2lmKG4pdHJ5e3d0KG4pfWZpbmFsbHl7R289bnVsbDtmb3IodmFyIHI9MDtyPG4ub3BzLmxlbmd0aDtyKyspbi5vcHNbcl0uY20uY3VyT3A9bnVsbDtTdChuKX19ZnVuY3Rpb24gU3QoZSl7Zm9yKHZhciB0PWUub3BzLG49MDtuPHQubGVuZ3RoO24rKylDdCh0W25dKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylMdCh0W25dKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylUdCh0W25dKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylNdCh0W25dKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylOdCh0W25dKX1mdW5jdGlvbiBDdChlKXt2YXIgdD1lLmNtLG49dC5kaXNwbGF5O1QodCksZS51cGRhdGVNYXhMaW5lJiZoKHQpLGUubXVzdFVwZGF0ZT1lLnZpZXdDaGFuZ2VkfHxlLmZvcmNlVXBkYXRlfHxudWxsIT1lLnNjcm9sbFRvcHx8ZS5zY3JvbGxUb1BvcyYmKGUuc2Nyb2xsVG9Qb3MuZnJvbS5saW5lPG4udmlld0Zyb218fGUuc2Nyb2xsVG9Qb3MudG8ubGluZT49bi52aWV3VG8pfHxuLm1heExpbmVDaGFuZ2VkJiZ0Lm9wdGlvbnMubGluZVdyYXBwaW5nLGUudXBkYXRlPWUubXVzdFVwZGF0ZSYmbmV3IEwodCxlLm11c3RVcGRhdGUmJnt0b3A6ZS5zY3JvbGxUb3AsZW5zdXJlOmUuc2Nyb2xsVG9Qb3N9LGUuZm9yY2VVcGRhdGUpfWZ1bmN0aW9uIEx0KGUpe2UudXBkYXRlZERpc3BsYXk9ZS5tdXN0VXBkYXRlJiZNKGUuY20sZS51cGRhdGUpfWZ1bmN0aW9uIFR0KGUpe3ZhciB0PWUuY20sbj10LmRpc3BsYXk7ZS51cGRhdGVkRGlzcGxheSYmTyh0KSxlLmJhck1lYXN1cmU9cCh0KSxuLm1heExpbmVDaGFuZ2VkJiYhdC5vcHRpb25zLmxpbmVXcmFwcGluZyYmKGUuYWRqdXN0V2lkdGhUbz1KZSh0LG4ubWF4TGluZSxuLm1heExpbmUudGV4dC5sZW5ndGgpLmxlZnQrMyx0LmRpc3BsYXkuc2l6ZXJXaWR0aD1lLmFkanVzdFdpZHRoVG8sZS5iYXJNZWFzdXJlLnNjcm9sbFdpZHRoPU1hdGgubWF4KG4uc2Nyb2xsZXIuY2xpZW50V2lkdGgsbi5zaXplci5vZmZzZXRMZWZ0K2UuYWRqdXN0V2lkdGhUbytZZSh0KSt0LmRpc3BsYXkuYmFyV2lkdGgpLGUubWF4U2Nyb2xsTGVmdD1NYXRoLm1heCgwLG4uc2l6ZXIub2Zmc2V0TGVmdCtlLmFkanVzdFdpZHRoVG8tJGUodCkpKSwoZS51cGRhdGVkRGlzcGxheXx8ZS5zZWxlY3Rpb25DaGFuZ2VkKSYmKGUucHJlcGFyZWRTZWxlY3Rpb249bi5pbnB1dC5wcmVwYXJlU2VsZWN0aW9uKGUuZm9jdXMpKX1mdW5jdGlvbiBNdChlKXt2YXIgdD1lLmNtO251bGwhPWUuYWRqdXN0V2lkdGhUbyYmKHQuZGlzcGxheS5zaXplci5zdHlsZS5taW5XaWR0aD1lLmFkanVzdFdpZHRoVG8rInB4IixlLm1heFNjcm9sbExlZnQ8dC5kb2Muc2Nyb2xsTGVmdCYmb24odCxNYXRoLm1pbih0LmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCxlLm1heFNjcm9sbExlZnQpLCEwKSx0LmRpc3BsYXkubWF4TGluZUNoYW5nZWQ9ITEpO3ZhciBuPWUuZm9jdXMmJmUuZm9jdXM9PUdpKCkmJighZG9jdW1lbnQuaGFzRm9jdXN8fGRvY3VtZW50Lmhhc0ZvY3VzKCkpO2UucHJlcGFyZWRTZWxlY3Rpb24mJnQuZGlzcGxheS5pbnB1dC5zaG93U2VsZWN0aW9uKGUucHJlcGFyZWRTZWxlY3Rpb24sbiksKGUudXBkYXRlZERpc3BsYXl8fGUuc3RhcnRIZWlnaHQhPXQuZG9jLmhlaWdodCkmJnkodCxlLmJhck1lYXN1cmUpLGUudXBkYXRlZERpc3BsYXkmJkUodCxlLmJhck1lYXN1cmUpLGUuc2VsZWN0aW9uQ2hhbmdlZCYmQmUodCksdC5zdGF0ZS5mb2N1c2VkJiZlLnVwZGF0ZUlucHV0JiZ0LmRpc3BsYXkuaW5wdXQucmVzZXQoZS50eXBpbmcpLG4mJlgoZS5jbSl9ZnVuY3Rpb24gTnQoZSl7dmFyIHQ9ZS5jbSxuPXQuZGlzcGxheSxyPXQuZG9jO2lmKGUudXBkYXRlZERpc3BsYXkmJk4odCxlLnVwZGF0ZSksbnVsbD09bi53aGVlbFN0YXJ0WHx8bnVsbD09ZS5zY3JvbGxUb3AmJm51bGw9PWUuc2Nyb2xsTGVmdCYmIWUuc2Nyb2xsVG9Qb3N8fChuLndoZWVsU3RhcnRYPW4ud2hlZWxTdGFydFk9bnVsbCksbnVsbD09ZS5zY3JvbGxUb3B8fG4uc2Nyb2xsZXIuc2Nyb2xsVG9wPT1lLnNjcm9sbFRvcCYmIWUuZm9yY2VTY3JvbGx8fChyLnNjcm9sbFRvcD1NYXRoLm1heCgwLE1hdGgubWluKG4uc2Nyb2xsZXIuc2Nyb2xsSGVpZ2h0LW4uc2Nyb2xsZXIuY2xpZW50SGVpZ2h0LGUuc2Nyb2xsVG9wKSksbi5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcChyLnNjcm9sbFRvcCksbi5zY3JvbGxlci5zY3JvbGxUb3A9ci5zY3JvbGxUb3ApLG51bGw9PWUuc2Nyb2xsTGVmdHx8bi5zY3JvbGxlci5zY3JvbGxMZWZ0PT1lLnNjcm9sbExlZnQmJiFlLmZvcmNlU2Nyb2xsfHwoci5zY3JvbGxMZWZ0PU1hdGgubWF4KDAsTWF0aC5taW4obi5zY3JvbGxlci5zY3JvbGxXaWR0aC1uLnNjcm9sbGVyLmNsaWVudFdpZHRoLGUuc2Nyb2xsTGVmdCkpLG4uc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KHIuc2Nyb2xsTGVmdCksbi5zY3JvbGxlci5zY3JvbGxMZWZ0PXIuc2Nyb2xsTGVmdCx3KHQpKSxlLnNjcm9sbFRvUG9zKXt2YXIgaT1Sbih0LG1lKHIsZS5zY3JvbGxUb1Bvcy5mcm9tKSxtZShyLGUuc2Nyb2xsVG9Qb3MudG8pLGUuc2Nyb2xsVG9Qb3MubWFyZ2luKTtlLnNjcm9sbFRvUG9zLmlzQ3Vyc29yJiZ0LnN0YXRlLmZvY3VzZWQmJlBuKHQsaSl9dmFyIG89ZS5tYXliZUhpZGRlbk1hcmtlcnMsYT1lLm1heWJlVW5oaWRkZW5NYXJrZXJzO2lmKG8pZm9yKHZhciBsPTA7bDxvLmxlbmd0aDsrK2wpb1tsXS5saW5lcy5sZW5ndGh8fFBhKG9bbF0sImhpZGUiKTtpZihhKWZvcih2YXIgbD0wO2w8YS5sZW5ndGg7KytsKWFbbF0ubGluZXMubGVuZ3RoJiZQYShhW2xdLCJ1bmhpZGUiKTtuLndyYXBwZXIub2Zmc2V0SGVpZ2h0JiYoci5zY3JvbGxUb3A9dC5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCksZS5jaGFuZ2VPYmpzJiZQYSh0LCJjaGFuZ2VzIix0LGUuY2hhbmdlT2JqcyksZS51cGRhdGUmJmUudXBkYXRlLmZpbmlzaCgpfWZ1bmN0aW9uIEF0KGUsdCl7aWYoZS5jdXJPcClyZXR1cm4gdCgpO2J0KGUpO3RyeXtyZXR1cm4gdCgpfWZpbmFsbHl7a3QoZSl9fWZ1bmN0aW9uIEV0KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoZS5jdXJPcClyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyk7YnQoZSk7dHJ5e3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX1maW5hbGx5e2t0KGUpfX19ZnVuY3Rpb24gT3QoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYodGhpcy5jdXJPcClyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YnQodGhpcyk7dHJ5e3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1maW5hbGx5e2t0KHRoaXMpfX19ZnVuY3Rpb24gSXQoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jbTtpZighdHx8dC5jdXJPcClyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YnQodCk7dHJ5e3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1maW5hbGx5e2t0KHQpfX19ZnVuY3Rpb24gUHQoZSx0LG4pe3RoaXMubGluZT10LHRoaXMucmVzdD14cih0KSx0aGlzLnNpemU9dGhpcy5yZXN0P3RpKElpKHRoaXMucmVzdCkpLW4rMToxLHRoaXMubm9kZT10aGlzLnRleHQ9bnVsbCx0aGlzLmhpZGRlbj1rcihlLHQpfWZ1bmN0aW9uIFJ0KGUsdCxuKXtmb3IodmFyIHIsaT1bXSxvPXQ7bj5vO289cil7dmFyIGE9bmV3IFB0KGUuZG9jLFpyKGUuZG9jLG8pLG8pO3I9bythLnNpemUsaS5wdXNoKGEpfXJldHVybiBpfWZ1bmN0aW9uIER0KGUsdCxuLHIpe251bGw9PXQmJih0PWUuZG9jLmZpcnN0KSxudWxsPT1uJiYobj1lLmRvYy5maXJzdCtlLmRvYy5zaXplKSxyfHwocj0wKTt2YXIgaT1lLmRpc3BsYXk7aWYociYmbjxpLnZpZXdUbyYmKG51bGw9PWkudXBkYXRlTGluZU51bWJlcnN8fGkudXBkYXRlTGluZU51bWJlcnM+dCkmJihpLnVwZGF0ZUxpbmVOdW1iZXJzPXQpLGUuY3VyT3Audmlld0NoYW5nZWQ9ITAsdD49aS52aWV3VG8pV28mJmJyKGUuZG9jLHQpPGkudmlld1RvJiZXdChlKTtlbHNlIGlmKG48PWkudmlld0Zyb20pV28mJndyKGUuZG9jLG4rcik+aS52aWV3RnJvbT9XdChlKTooaS52aWV3RnJvbSs9cixpLnZpZXdUbys9cik7ZWxzZSBpZih0PD1pLnZpZXdGcm9tJiZuPj1pLnZpZXdUbylXdChlKTtlbHNlIGlmKHQ8PWkudmlld0Zyb20pe3ZhciBvPV90KGUsbixuK3IsMSk7bz8oaS52aWV3PWkudmlldy5zbGljZShvLmluZGV4KSxpLnZpZXdGcm9tPW8ubGluZU4saS52aWV3VG8rPXIpOld0KGUpfWVsc2UgaWYobj49aS52aWV3VG8pe3ZhciBvPV90KGUsdCx0LC0xKTtvPyhpLnZpZXc9aS52aWV3LnNsaWNlKDAsby5pbmRleCksaS52aWV3VG89by5saW5lTik6V3QoZSl9ZWxzZXt2YXIgYT1fdChlLHQsdCwtMSksbD1fdChlLG4sbityLDEpO2EmJmw/KGkudmlldz1pLnZpZXcuc2xpY2UoMCxhLmluZGV4KS5jb25jYXQoUnQoZSxhLmxpbmVOLGwubGluZU4pKS5jb25jYXQoaS52aWV3LnNsaWNlKGwuaW5kZXgpKSxpLnZpZXdUbys9cik6V3QoZSl9dmFyIHM9aS5leHRlcm5hbE1lYXN1cmVkO3MmJihuPHMubGluZU4/cy5saW5lTis9cjp0PHMubGluZU4rcy5zaXplJiYoaS5leHRlcm5hbE1lYXN1cmVkPW51bGwpKX1mdW5jdGlvbiBIdChlLHQsbil7ZS5jdXJPcC52aWV3Q2hhbmdlZD0hMDt2YXIgcj1lLmRpc3BsYXksaT1lLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZDtpZihpJiZ0Pj1pLmxpbmVOJiZ0PGkubGluZU4raS5zaXplJiYoci5leHRlcm5hbE1lYXN1cmVkPW51bGwpLCEodDxyLnZpZXdGcm9tfHx0Pj1yLnZpZXdUbykpe3ZhciBvPXIudmlld1tCdChlLHQpXTtpZihudWxsIT1vLm5vZGUpe3ZhciBhPW8uY2hhbmdlc3x8KG8uY2hhbmdlcz1bXSk7LTE9PVBpKGEsbikmJmEucHVzaChuKX19fWZ1bmN0aW9uIFd0KGUpe2UuZGlzcGxheS52aWV3RnJvbT1lLmRpc3BsYXkudmlld1RvPWUuZG9jLmZpcnN0LGUuZGlzcGxheS52aWV3PVtdLGUuZGlzcGxheS52aWV3T2Zmc2V0PTB9ZnVuY3Rpb24gQnQoZSx0KXtpZih0Pj1lLmRpc3BsYXkudmlld1RvKXJldHVybiBudWxsO2lmKHQtPWUuZGlzcGxheS52aWV3RnJvbSwwPnQpcmV0dXJuIG51bGw7Zm9yKHZhciBuPWUuZGlzcGxheS52aWV3LHI9MDtyPG4ubGVuZ3RoO3IrKylpZih0LT1uW3JdLnNpemUsMD50KXJldHVybiByfWZ1bmN0aW9uIF90KGUsdCxuLHIpe3ZhciBpLG89QnQoZSx0KSxhPWUuZGlzcGxheS52aWV3O2lmKCFXb3x8bj09ZS5kb2MuZmlyc3QrZS5kb2Muc2l6ZSlyZXR1cm57aW5kZXg6byxsaW5lTjpufTtmb3IodmFyIGw9MCxzPWUuZGlzcGxheS52aWV3RnJvbTtvPmw7bCsrKXMrPWFbbF0uc2l6ZTtpZihzIT10KXtpZihyPjApe2lmKG89PWEubGVuZ3RoLTEpcmV0dXJuIG51bGw7aT1zK2Fbb10uc2l6ZS10LG8rK31lbHNlIGk9cy10O3QrPWksbis9aX1mb3IoO2JyKGUuZG9jLG4pIT1uOyl7aWYobz09KDA+cj8wOmEubGVuZ3RoLTEpKXJldHVybiBudWxsO24rPXIqYVtvLSgwPnI/MTowKV0uc2l6ZSxvKz1yfXJldHVybntpbmRleDpvLGxpbmVOOm59fWZ1bmN0aW9uIEZ0KGUsdCxuKXt2YXIgcj1lLmRpc3BsYXksaT1yLnZpZXc7MD09aS5sZW5ndGh8fHQ+PXIudmlld1RvfHxuPD1yLnZpZXdGcm9tPyhyLnZpZXc9UnQoZSx0LG4pLHIudmlld0Zyb209dCk6KHIudmlld0Zyb20+dD9yLnZpZXc9UnQoZSx0LHIudmlld0Zyb20pLmNvbmNhdChyLnZpZXcpOnIudmlld0Zyb208dCYmKHIudmlldz1yLnZpZXcuc2xpY2UoQnQoZSx0KSkpLHIudmlld0Zyb209dCxyLnZpZXdUbzxuP3Iudmlldz1yLnZpZXcuY29uY2F0KFJ0KGUsci52aWV3VG8sbikpOnIudmlld1RvPm4mJihyLnZpZXc9ci52aWV3LnNsaWNlKDAsQnQoZSxuKSkpKSxyLnZpZXdUbz1ufWZ1bmN0aW9uIHp0KGUpe2Zvcih2YXIgdD1lLmRpc3BsYXkudmlldyxuPTAscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2kuaGlkZGVufHxpLm5vZGUmJiFpLmNoYW5nZXN8fCsrbn1yZXR1cm4gbn1mdW5jdGlvbiBqdChlKXtmdW5jdGlvbiB0KCl7aS5hY3RpdmVUb3VjaCYmKG89c2V0VGltZW91dChmdW5jdGlvbigpe2kuYWN0aXZlVG91Y2g9bnVsbH0sMWUzKSxhPWkuYWN0aXZlVG91Y2gsYS5lbmQ9K25ldyBEYXRlKX1mdW5jdGlvbiBuKGUpe2lmKDEhPWUudG91Y2hlcy5sZW5ndGgpcmV0dXJuITE7dmFyIHQ9ZS50b3VjaGVzWzBdO3JldHVybiB0LnJhZGl1c1g8PTEmJnQucmFkaXVzWTw9MX1mdW5jdGlvbiByKGUsdCl7aWYobnVsbD09dC5sZWZ0KXJldHVybiEwO3ZhciBuPXQubGVmdC1lLmxlZnQscj10LnRvcC1lLnRvcDtyZXR1cm4gbipuK3Iqcj40MDB9dmFyIGk9ZS5kaXNwbGF5O0VhKGkuc2Nyb2xsZXIsIm1vdXNlZG93biIsRXQoZSwkdCkpLHhvJiYxMT5ibz9FYShpLnNjcm9sbGVyLCJkYmxjbGljayIsRXQoZSxmdW5jdGlvbih0KXtpZighVGkoZSx0KSl7dmFyIG49WXQoZSx0KTtpZihuJiYhSnQoZSx0KSYmIUd0KGUuZGlzcGxheSx0KSl7TWEodCk7dmFyIHI9ZS5maW5kV29yZEF0KG4pO2JlKGUuZG9jLHIuYW5jaG9yLHIuaGVhZCl9fX0pKTpFYShpLnNjcm9sbGVyLCJkYmxjbGljayIsZnVuY3Rpb24odCl7VGkoZSx0KXx8TWEodCl9KSxEb3x8RWEoaS5zY3JvbGxlciwiY29udGV4dG1lbnUiLGZ1bmN0aW9uKHQpe3huKGUsdCl9KTt2YXIgbyxhPXtlbmQ6MH07RWEoaS5zY3JvbGxlciwidG91Y2hzdGFydCIsZnVuY3Rpb24odCl7aWYoIVRpKGUsdCkmJiFuKHQpKXtjbGVhclRpbWVvdXQobyk7dmFyIHI9K25ldyBEYXRlO2kuYWN0aXZlVG91Y2g9e3N0YXJ0OnIsbW92ZWQ6ITEscHJldjpyLWEuZW5kPD0zMDA/YTpudWxsfSwxPT10LnRvdWNoZXMubGVuZ3RoJiYoaS5hY3RpdmVUb3VjaC5sZWZ0PXQudG91Y2hlc1swXS5wYWdlWCxpLmFjdGl2ZVRvdWNoLnRvcD10LnRvdWNoZXNbMF0ucGFnZVkpfX0pLEVhKGkuc2Nyb2xsZXIsInRvdWNobW92ZSIsZnVuY3Rpb24oKXtpLmFjdGl2ZVRvdWNoJiYoaS5hY3RpdmVUb3VjaC5tb3ZlZD0hMCl9KSxFYShpLnNjcm9sbGVyLCJ0b3VjaGVuZCIsZnVuY3Rpb24obil7dmFyIG89aS5hY3RpdmVUb3VjaDtpZihvJiYhR3QoaSxuKSYmbnVsbCE9by5sZWZ0JiYhby5tb3ZlZCYmbmV3IERhdGUtby5zdGFydDwzMDApe3ZhciBhLGw9ZS5jb29yZHNDaGFyKGkuYWN0aXZlVG91Y2gsInBhZ2UiKTthPSFvLnByZXZ8fHIobyxvLnByZXYpP25ldyBmZShsLGwpOiFvLnByZXYucHJldnx8cihvLG8ucHJldi5wcmV2KT9lLmZpbmRXb3JkQXQobCk6bmV3IGZlKEJvKGwubGluZSwwKSxtZShlLmRvYyxCbyhsLmxpbmUrMSwwKSkpLGUuc2V0U2VsZWN0aW9uKGEuYW5jaG9yLGEuaGVhZCksZS5mb2N1cygpLE1hKG4pfXQoKX0pLEVhKGkuc2Nyb2xsZXIsInRvdWNoY2FuY2VsIix0KSxFYShpLnNjcm9sbGVyLCJzY3JvbGwiLGZ1bmN0aW9uKCl7aS5zY3JvbGxlci5jbGllbnRIZWlnaHQmJihybihlLGkuc2Nyb2xsZXIuc2Nyb2xsVG9wKSxvbihlLGkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCwhMCksUGEoZSwic2Nyb2xsIixlKSl9KSxFYShpLnNjcm9sbGVyLCJtb3VzZXdoZWVsIixmdW5jdGlvbih0KXthbihlLHQpfSksRWEoaS5zY3JvbGxlciwiRE9NTW91c2VTY3JvbGwiLGZ1bmN0aW9uKHQpe2FuKGUsdCl9KSxFYShpLndyYXBwZXIsInNjcm9sbCIsZnVuY3Rpb24oKXtpLndyYXBwZXIuc2Nyb2xsVG9wPWkud3JhcHBlci5zY3JvbGxMZWZ0PTB9KSxpLmRyYWdGdW5jdGlvbnM9e2VudGVyOmZ1bmN0aW9uKHQpe1RpKGUsdCl8fEFhKHQpfSxvdmVyOmZ1bmN0aW9uKHQpe1RpKGUsdCl8fCh0bihlLHQpLEFhKHQpKX0sc3RhcnQ6ZnVuY3Rpb24odCl7ZW4oZSx0KX0sZHJvcDpFdChlLFF0KSxsZWF2ZTpmdW5jdGlvbih0KXtUaShlLHQpfHxubihlKX19O3ZhciBsPWkuaW5wdXQuZ2V0RmllbGQoKTtFYShsLCJrZXl1cCIsZnVuY3Rpb24odCl7cG4uY2FsbChlLHQpfSksRWEobCwia2V5ZG93biIsRXQoZSxobikpLEVhKGwsImtleXByZXNzIixFdChlLG1uKSksRWEobCwiZm9jdXMiLEJpKHZuLGUpKSxFYShsLCJibHVyIixCaSh5bixlKSl9ZnVuY3Rpb24gVXQodCxuLHIpe3ZhciBpPXImJnIhPWUuSW5pdDtpZighbiE9IWkpe3ZhciBvPXQuZGlzcGxheS5kcmFnRnVuY3Rpb25zLGE9bj9FYTpJYTthKHQuZGlzcGxheS5zY3JvbGxlciwiZHJhZ3N0YXJ0IixvLnN0YXJ0KSxhKHQuZGlzcGxheS5zY3JvbGxlciwiZHJhZ2VudGVyIixvLmVudGVyKSxhKHQuZGlzcGxheS5zY3JvbGxlciwiZHJhZ292ZXIiLG8ub3ZlciksYSh0LmRpc3BsYXkuc2Nyb2xsZXIsImRyYWdsZWF2ZSIsby5sZWF2ZSksYSh0LmRpc3BsYXkuc2Nyb2xsZXIsImRyb3AiLG8uZHJvcCl9fWZ1bmN0aW9uIHF0KGUpe3ZhciB0PWUuZGlzcGxheTt0Lmxhc3RXcmFwSGVpZ2h0PT10LndyYXBwZXIuY2xpZW50SGVpZ2h0JiZ0Lmxhc3RXcmFwV2lkdGg9PXQud3JhcHBlci5jbGllbnRXaWR0aHx8KHQuY2FjaGVkQ2hhcldpZHRoPXQuY2FjaGVkVGV4dEhlaWdodD10LmNhY2hlZFBhZGRpbmdIPW51bGwsdC5zY3JvbGxiYXJzQ2xpcHBlZD0hMSxlLnNldFNpemUoKSl9ZnVuY3Rpb24gR3QoZSx0KXtmb3IodmFyIG49d2kodCk7biE9ZS53cmFwcGVyO249bi5wYXJlbnROb2RlKWlmKCFufHwxPT1uLm5vZGVUeXBlJiYidHJ1ZSI9PW4uZ2V0QXR0cmlidXRlKCJjbS1pZ25vcmUtZXZlbnRzIil8fG4ucGFyZW50Tm9kZT09ZS5zaXplciYmbiE9ZS5tb3ZlcilyZXR1cm4hMH1mdW5jdGlvbiBZdChlLHQsbixyKXt2YXIgaT1lLmRpc3BsYXk7aWYoIW4mJiJ0cnVlIj09d2kodCkuZ2V0QXR0cmlidXRlKCJjbS1ub3QtY29udGVudCIpKXJldHVybiBudWxsO3ZhciBvLGEsbD1pLmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0cnl7bz10LmNsaWVudFgtbC5sZWZ0LGE9dC5jbGllbnRZLWwudG9wfWNhdGNoKHQpe3JldHVybiBudWxsfXZhciBzLGM9Z3QoZSxvLGEpO2lmKHImJjE9PWMueFJlbCYmKHM9WnIoZS5kb2MsYy5saW5lKS50ZXh0KS5sZW5ndGg9PWMuY2gpe3ZhciB1PUZhKHMscy5sZW5ndGgsZS5vcHRpb25zLnRhYlNpemUpLXMubGVuZ3RoO2M9Qm8oYy5saW5lLE1hdGgubWF4KDAsTWF0aC5yb3VuZCgoby1HZShlLmRpc3BsYXkpLmxlZnQpL3h0KGUuZGlzcGxheSkpLXUpKX1yZXR1cm4gY31mdW5jdGlvbiAkdChlKXt2YXIgdD10aGlzLG49dC5kaXNwbGF5O2lmKCEoVGkodCxlKXx8bi5hY3RpdmVUb3VjaCYmbi5pbnB1dC5zdXBwb3J0c1RvdWNoKCkpKXtpZihuLnNoaWZ0PWUuc2hpZnRLZXksR3QobixlKSlyZXR1cm4gdm9pZCh3b3x8KG4uc2Nyb2xsZXIuZHJhZ2dhYmxlPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnNjcm9sbGVyLmRyYWdnYWJsZT0hMH0sMTAwKSkpO2lmKCFKdCh0LGUpKXt2YXIgcj1ZdCh0LGUpO3N3aXRjaCh3aW5kb3cuZm9jdXMoKSxraShlKSl7Y2FzZSAxOnQuc3RhdGUuc2VsZWN0aW5nVGV4dD90LnN0YXRlLnNlbGVjdGluZ1RleHQoZSk6cj9WdCh0LGUscik6d2koZSk9PW4uc2Nyb2xsZXImJk1hKGUpO2JyZWFrO2Nhc2UgMjp3byYmKHQuc3RhdGUubGFzdE1pZGRsZURvd249K25ldyBEYXRlKSxyJiZiZSh0LmRvYyxyKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5pbnB1dC5mb2N1cygpfSwyMCksTWEoZSk7YnJlYWs7Y2FzZSAzOkRvP3huKHQsZSk6Z24odCl9fX19ZnVuY3Rpb24gVnQoZSx0LG4pe3hvP3NldFRpbWVvdXQoQmkoWCxlKSwwKTplLmN1ck9wLmZvY3VzPUdpKCk7dmFyIHIsaT0rbmV3IERhdGU7VW8mJlVvLnRpbWU+aS00MDAmJjA9PV9vKFVvLnBvcyxuKT9yPSJ0cmlwbGUiOmpvJiZqby50aW1lPmktNDAwJiYwPT1fbyhqby5wb3Msbik/KHI9ImRvdWJsZSIsVW89e3RpbWU6aSxwb3M6bn0pOihyPSJzaW5nbGUiLGpvPXt0aW1lOmkscG9zOm59KTt2YXIgbyxhPWUuZG9jLnNlbCxsPUVvP3QubWV0YUtleTp0LmN0cmxLZXk7ZS5vcHRpb25zLmRyYWdEcm9wJiZlbCYmIWUuaXNSZWFkT25seSgpJiYic2luZ2xlIj09ciYmKG89YS5jb250YWlucyhuKSk+LTEmJihfbygobz1hLnJhbmdlc1tvXSkuZnJvbSgpLG4pPDB8fG4ueFJlbD4wKSYmKF9vKG8udG8oKSxuKT4wfHxuLnhSZWw8MCk/S3QoZSx0LG4sbCk6WHQoZSx0LG4scixsKX1mdW5jdGlvbiBLdChlLHQsbixyKXt2YXIgaT1lLmRpc3BsYXksbz0rbmV3IERhdGUsYT1FdChlLGZ1bmN0aW9uKGwpe3dvJiYoaS5zY3JvbGxlci5kcmFnZ2FibGU9ITEpLGUuc3RhdGUuZHJhZ2dpbmdUZXh0PSExLElhKGRvY3VtZW50LCJtb3VzZXVwIixhKSxJYShpLnNjcm9sbGVyLCJkcm9wIixhKSxNYXRoLmFicyh0LmNsaWVudFgtbC5jbGllbnRYKStNYXRoLmFicyh0LmNsaWVudFktbC5jbGllbnRZKTwxMCYmKE1hKGwpLCFyJiYrbmV3IERhdGUtMjAwPG8mJmJlKGUuZG9jLG4pLHdvfHx4byYmOT09Ym8/c2V0VGltZW91dChmdW5jdGlvbigpe2RvY3VtZW50LmJvZHkuZm9jdXMoKSxpLmlucHV0LmZvY3VzKCl9LDIwKTppLmlucHV0LmZvY3VzKCkpfSk7d28mJihpLnNjcm9sbGVyLmRyYWdnYWJsZT0hMCksZS5zdGF0ZS5kcmFnZ2luZ1RleHQ9YSxpLnNjcm9sbGVyLmRyYWdEcm9wJiZpLnNjcm9sbGVyLmRyYWdEcm9wKCksRWEoZG9jdW1lbnQsIm1vdXNldXAiLGEpLEVhKGkuc2Nyb2xsZXIsImRyb3AiLGEpfWZ1bmN0aW9uIFh0KGUsdCxuLHIsaSl7ZnVuY3Rpb24gbyh0KXtpZigwIT1fbyhnLHQpKWlmKGc9dCwicmVjdCI9PXIpe2Zvcih2YXIgaT1bXSxvPWUub3B0aW9ucy50YWJTaXplLGE9RmEoWnIoYyxuLmxpbmUpLnRleHQsbi5jaCxvKSxsPUZhKFpyKGMsdC5saW5lKS50ZXh0LHQuY2gsbykscz1NYXRoLm1pbihhLGwpLGQ9TWF0aC5tYXgoYSxsKSxwPU1hdGgubWluKG4ubGluZSx0LmxpbmUpLG09TWF0aC5taW4oZS5sYXN0TGluZSgpLE1hdGgubWF4KG4ubGluZSx0LmxpbmUpKTttPj1wO3ArKyl7dmFyIHY9WnIoYyxwKS50ZXh0LHk9emEodixzLG8pO3M9PWQ/aS5wdXNoKG5ldyBmZShCbyhwLHkpLEJvKHAseSkpKTp2Lmxlbmd0aD55JiZpLnB1c2gobmV3IGZlKEJvKHAseSksQm8ocCx6YSh2LGQsbykpKSl9aS5sZW5ndGh8fGkucHVzaChuZXcgZmUobixuKSksVGUoYyxoZShoLnJhbmdlcy5zbGljZSgwLGYpLmNvbmNhdChpKSxmKSx7b3JpZ2luOiIqbW91c2UiLHNjcm9sbDohMX0pLGUuc2Nyb2xsSW50b1ZpZXcodCl9ZWxzZXt2YXIgeD11LGI9eC5hbmNob3Isdz10O2lmKCJzaW5nbGUiIT1yKXtpZigiZG91YmxlIj09cil2YXIgaz1lLmZpbmRXb3JkQXQodCk7ZWxzZSB2YXIgaz1uZXcgZmUoQm8odC5saW5lLDApLG1lKGMsQm8odC5saW5lKzEsMCkpKTtfbyhrLmFuY2hvcixiKT4wPyh3PWsuaGVhZCxiPUsoeC5mcm9tKCksay5hbmNob3IpKToodz1rLmFuY2hvcixiPVYoeC50bygpLGsuaGVhZCkpfXZhciBpPWgucmFuZ2VzLnNsaWNlKDApO2lbZl09bmV3IGZlKG1lKGMsYiksdyksVGUoYyxoZShpLGYpLEJhKX19ZnVuY3Rpb24gYSh0KXt2YXIgbj0rK3ksaT1ZdChlLHQsITAsInJlY3QiPT1yKTtpZihpKWlmKDAhPV9vKGksZykpe2UuY3VyT3AuZm9jdXM9R2koKSxvKGkpO3ZhciBsPWIocyxjKTsoaS5saW5lPj1sLnRvfHxpLmxpbmU8bC5mcm9tKSYmc2V0VGltZW91dChFdChlLGZ1bmN0aW9uKCl7eT09biYmYSh0KX0pLDE1MCl9ZWxzZXt2YXIgdT10LmNsaWVudFk8di50b3A/LTIwOnQuY2xpZW50WT52LmJvdHRvbT8yMDowO3UmJnNldFRpbWVvdXQoRXQoZSxmdW5jdGlvbigpe3k9PW4mJihzLnNjcm9sbGVyLnNjcm9sbFRvcCs9dSxhKHQpKX0pLDUwKX19ZnVuY3Rpb24gbCh0KXtlLnN0YXRlLnNlbGVjdGluZ1RleHQ9ITEseT0xLzAsTWEodCkscy5pbnB1dC5mb2N1cygpLElhKGRvY3VtZW50LCJtb3VzZW1vdmUiLHgpLElhKGRvY3VtZW50LCJtb3VzZXVwIix3KSxjLmhpc3RvcnkubGFzdFNlbE9yaWdpbj1udWxsfXZhciBzPWUuZGlzcGxheSxjPWUuZG9jO01hKHQpO3ZhciB1LGYsaD1jLnNlbCxkPWgucmFuZ2VzO2lmKGkmJiF0LnNoaWZ0S2V5PyhmPWMuc2VsLmNvbnRhaW5zKG4pLHU9Zj4tMT9kW2ZdOm5ldyBmZShuLG4pKToodT1jLnNlbC5wcmltYXJ5KCksZj1jLnNlbC5wcmltSW5kZXgpLE9vP3Quc2hpZnRLZXkmJnQubWV0YUtleTp0LmFsdEtleSlyPSJyZWN0IixpfHwodT1uZXcgZmUobixuKSksbj1ZdChlLHQsITAsITApLGY9LTE7ZWxzZSBpZigiZG91YmxlIj09cil7dmFyIHA9ZS5maW5kV29yZEF0KG4pO3U9ZS5kaXNwbGF5LnNoaWZ0fHxjLmV4dGVuZD94ZShjLHUscC5hbmNob3IscC5oZWFkKTpwfWVsc2UgaWYoInRyaXBsZSI9PXIpe3ZhciBtPW5ldyBmZShCbyhuLmxpbmUsMCksbWUoYyxCbyhuLmxpbmUrMSwwKSkpO3U9ZS5kaXNwbGF5LnNoaWZ0fHxjLmV4dGVuZD94ZShjLHUsbS5hbmNob3IsbS5oZWFkKTptfWVsc2UgdT14ZShjLHUsbik7aT8tMT09Zj8oZj1kLmxlbmd0aCxUZShjLGhlKGQuY29uY2F0KFt1XSksZikse3Njcm9sbDohMSxvcmlnaW46Iiptb3VzZSJ9KSk6ZC5sZW5ndGg+MSYmZFtmXS5lbXB0eSgpJiYic2luZ2xlIj09ciYmIXQuc2hpZnRLZXk/KFRlKGMsaGUoZC5zbGljZSgwLGYpLmNvbmNhdChkLnNsaWNlKGYrMSkpLDApLHtzY3JvbGw6ITEsb3JpZ2luOiIqbW91c2UifSksaD1jLnNlbCk6a2UoYyxmLHUsQmEpOihmPTAsVGUoYyxuZXcgdWUoW3VdLDApLEJhKSxoPWMuc2VsKTt2YXIgZz1uLHY9cy53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHk9MCx4PUV0KGUsZnVuY3Rpb24oZSl7a2koZSk/YShlKTpsKGUpfSksdz1FdChlLGwpO2Uuc3RhdGUuc2VsZWN0aW5nVGV4dD13LEVhKGRvY3VtZW50LCJtb3VzZW1vdmUiLHgpLEVhKGRvY3VtZW50LCJtb3VzZXVwIix3KX1mdW5jdGlvbiBadChlLHQsbixyKXt0cnl7dmFyIGk9dC5jbGllbnRYLG89dC5jbGllbnRZfWNhdGNoKHQpe3JldHVybiExfWlmKGk+PU1hdGguZmxvb3IoZS5kaXNwbGF5Lmd1dHRlcnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpKXJldHVybiExO3ImJk1hKHQpO3ZhciBhPWUuZGlzcGxheSxsPWEubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihvPmwuYm90dG9tfHwhTmkoZSxuKSlyZXR1cm4gYmkodCk7by09bC50b3AtYS52aWV3T2Zmc2V0O2Zvcih2YXIgcz0wO3M8ZS5vcHRpb25zLmd1dHRlcnMubGVuZ3RoOysrcyl7dmFyIGM9YS5ndXR0ZXJzLmNoaWxkTm9kZXNbc107aWYoYyYmYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodD49aSl7dmFyIHU9bmkoZS5kb2MsbyksZj1lLm9wdGlvbnMuZ3V0dGVyc1tzXTtyZXR1cm4gUGEoZSxuLGUsdSxmLHQpLGJpKHQpfX19ZnVuY3Rpb24gSnQoZSx0KXtyZXR1cm4gWnQoZSx0LCJndXR0ZXJDbGljayIsITApfWZ1bmN0aW9uIFF0KGUpe3ZhciB0PXRoaXM7aWYobm4odCksIVRpKHQsZSkmJiFHdCh0LmRpc3BsYXksZSkpe01hKGUpLHhvJiYoJG89K25ldyBEYXRlKTt2YXIgbj1ZdCh0LGUsITApLHI9ZS5kYXRhVHJhbnNmZXIuZmlsZXM7aWYobiYmIXQuaXNSZWFkT25seSgpKWlmKHImJnIubGVuZ3RoJiZ3aW5kb3cuRmlsZVJlYWRlciYmd2luZG93LkZpbGUpZm9yKHZhciBpPXIubGVuZ3RoLG89QXJyYXkoaSksYT0wLGw9ZnVuY3Rpb24oZSxyKXtpZighdC5vcHRpb25zLmFsbG93RHJvcEZpbGVUeXBlc3x8LTEhPVBpKHQub3B0aW9ucy5hbGxvd0Ryb3BGaWxlVHlwZXMsZS50eXBlKSl7dmFyIGw9bmV3IEZpbGVSZWFkZXI7bC5vbmxvYWQ9RXQodCxmdW5jdGlvbigpe3ZhciBlPWwucmVzdWx0O2lmKC9bXHgwMC1ceDA4XHgwZS1ceDFmXXsyfS8udGVzdChlKSYmKGU9IiIpLG9bcl09ZSwrK2E9PWkpe249bWUodC5kb2Msbik7dmFyIHM9e2Zyb206bix0bzpuLHRleHQ6dC5kb2Muc3BsaXRMaW5lcyhvLmpvaW4odC5kb2MubGluZVNlcGFyYXRvcigpKSksb3JpZ2luOiJwYXN0ZSJ9O1RuKHQuZG9jLHMpLExlKHQuZG9jLGRlKG4sUW8ocykpKX19KSxsLnJlYWRBc1RleHQoZSl9fSxzPTA7aT5zOysrcylsKHJbc10scyk7ZWxzZXtpZih0LnN0YXRlLmRyYWdnaW5nVGV4dCYmdC5kb2Muc2VsLmNvbnRhaW5zKG4pPi0xKXJldHVybiB0LnN0YXRlLmRyYWdnaW5nVGV4dChlKSx2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmRpc3BsYXkuaW5wdXQuZm9jdXMoKX0sMjApO3RyeXt2YXIgbz1lLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJUZXh0Iik7aWYobyl7aWYodC5zdGF0ZS5kcmFnZ2luZ1RleHQmJiEoRW8/ZS5hbHRLZXk6ZS5jdHJsS2V5KSl2YXIgYz10Lmxpc3RTZWxlY3Rpb25zKCk7aWYoTWUodC5kb2MsZGUobixuKSksYylmb3IodmFyIHM9MDtzPGMubGVuZ3RoOysrcylJbih0LmRvYywiIixjW3NdLmFuY2hvcixjW3NdLmhlYWQsImRyYWciKTt0LnJlcGxhY2VTZWxlY3Rpb24obywiYXJvdW5kIiwicGFzdGUiKSx0LmRpc3BsYXkuaW5wdXQuZm9jdXMoKX19Y2F0Y2goZSl7fX19fWZ1bmN0aW9uIGVuKGUsdCl7aWYoeG8mJighZS5zdGF0ZS5kcmFnZ2luZ1RleHR8fCtuZXcgRGF0ZS0kbzwxMDApKXJldHVybiB2b2lkIEFhKHQpO2lmKCFUaShlLHQpJiYhR3QoZS5kaXNwbGF5LHQpJiYodC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgiVGV4dCIsZS5nZXRTZWxlY3Rpb24oKSksdC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZD0iY29weU1vdmUiLHQuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZSYmIUxvKSl7dmFyIG49amkoImltZyIsbnVsbCxudWxsLCJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IDA7IHRvcDogMDsiKTtuLnNyYz0iZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT0iLENvJiYobi53aWR0aD1uLmhlaWdodD0xLGUuZGlzcGxheS53cmFwcGVyLmFwcGVuZENoaWxkKG4pLG4uX3RvcD1uLm9mZnNldFRvcCksdC5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKG4sMCwwKSxDbyYmbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pfX1mdW5jdGlvbiB0bihlLHQpe3ZhciBuPVl0KGUsdCk7aWYobil7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO0hlKGUsbixyKSxlLmRpc3BsYXkuZHJhZ0N1cnNvcnx8KGUuZGlzcGxheS5kcmFnQ3Vyc29yPWppKCJkaXYiLG51bGwsIkNvZGVNaXJyb3ItY3Vyc29ycyBDb2RlTWlycm9yLWRyYWdjdXJzb3JzIiksZS5kaXNwbGF5LmxpbmVTcGFjZS5pbnNlcnRCZWZvcmUoZS5kaXNwbGF5LmRyYWdDdXJzb3IsZS5kaXNwbGF5LmN1cnNvckRpdikpLHFpKGUuZGlzcGxheS5kcmFnQ3Vyc29yLHIpfX1mdW5jdGlvbiBubihlKXtlLmRpc3BsYXkuZHJhZ0N1cnNvciYmKGUuZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoZS5kaXNwbGF5LmRyYWdDdXJzb3IpLGUuZGlzcGxheS5kcmFnQ3Vyc29yPW51bGwpfWZ1bmN0aW9uIHJuKGUsdCl7TWF0aC5hYnMoZS5kb2Muc2Nyb2xsVG9wLXQpPDJ8fChlLmRvYy5zY3JvbGxUb3A9dCxnb3x8QShlLHt0b3A6dH0pLGUuZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AhPXQmJihlLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wPXQpLGUuZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcCh0KSxnbyYmQShlKSxfZShlLDEwMCkpfWZ1bmN0aW9uIG9uKGUsdCxuKXsobj90PT1lLmRvYy5zY3JvbGxMZWZ0Ok1hdGguYWJzKGUuZG9jLnNjcm9sbExlZnQtdCk8Mil8fCh0PU1hdGgubWluKHQsZS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFdpZHRoLWUuZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aCksZS5kb2Muc2Nyb2xsTGVmdD10LHcoZSksZS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQhPXQmJihlLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdD10KSxlLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KHQpKX1mdW5jdGlvbiBhbihlLHQpe3ZhciBuPVhvKHQpLHI9bi54LGk9bi55LG89ZS5kaXNwbGF5LGE9by5zY3JvbGxlcixsPWEuc2Nyb2xsV2lkdGg+YS5jbGllbnRXaWR0aCxzPWEuc2Nyb2xsSGVpZ2h0PmEuY2xpZW50SGVpZ2h0O2lmKHImJmx8fGkmJnMpe2lmKGkmJkVvJiZ3byllOmZvcih2YXIgYz10LnRhcmdldCx1PW8udmlldztjIT1hO2M9Yy5wYXJlbnROb2RlKWZvcih2YXIgZj0wO2Y8dS5sZW5ndGg7ZisrKWlmKHVbZl0ubm9kZT09Yyl7ZS5kaXNwbGF5LmN1cnJlbnRXaGVlbFRhcmdldD1jO2JyZWFrIGV9aWYociYmIWdvJiYhQ28mJm51bGwhPUtvKXJldHVybiBpJiZzJiZybihlLE1hdGgubWF4KDAsTWF0aC5taW4oYS5zY3JvbGxUb3AraSpLbyxhLnNjcm9sbEhlaWdodC1hLmNsaWVudEhlaWdodCkpKSxvbihlLE1hdGgubWF4KDAsTWF0aC5taW4oYS5zY3JvbGxMZWZ0K3IqS28sYS5zY3JvbGxXaWR0aC1hLmNsaWVudFdpZHRoKSkpLCghaXx8aSYmcykmJk1hKHQpLHZvaWQoby53aGVlbFN0YXJ0WD1udWxsKTtpZihpJiZudWxsIT1Lbyl7dmFyIGg9aSpLbyxkPWUuZG9jLnNjcm9sbFRvcCxwPWQrby53cmFwcGVyLmNsaWVudEhlaWdodDswPmg/ZD1NYXRoLm1heCgwLGQraC01MCk6cD1NYXRoLm1pbihlLmRvYy5oZWlnaHQscCtoKzUwKSxBKGUse3RvcDpkLGJvdHRvbTpwfSl9MjA+Vm8mJihudWxsPT1vLndoZWVsU3RhcnRYPyhvLndoZWVsU3RhcnRYPWEuc2Nyb2xsTGVmdCxvLndoZWVsU3RhcnRZPWEuc2Nyb2xsVG9wLG8ud2hlZWxEWD1yLG8ud2hlZWxEWT1pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihudWxsIT1vLndoZWVsU3RhcnRYKXt2YXIgZT1hLnNjcm9sbExlZnQtby53aGVlbFN0YXJ0WCx0PWEuc2Nyb2xsVG9wLW8ud2hlZWxTdGFydFksbj10JiZvLndoZWVsRFkmJnQvby53aGVlbERZfHxlJiZvLndoZWVsRFgmJmUvby53aGVlbERYO28ud2hlZWxTdGFydFg9by53aGVlbFN0YXJ0WT1udWxsLG4mJihLbz0oS28qVm8rbikvKFZvKzEpLCsrVm8pfX0sMjAwKSk6KG8ud2hlZWxEWCs9cixvLndoZWVsRFkrPWkpKX19ZnVuY3Rpb24gbG4oZSx0LG4pe2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dWFbdF0sIXQpKXJldHVybiExO2UuZGlzcGxheS5pbnB1dC5lbnN1cmVQb2xsZWQoKTt2YXIgcj1lLmRpc3BsYXkuc2hpZnQsaT0hMTt0cnl7ZS5pc1JlYWRPbmx5KCkmJihlLnN0YXRlLnN1cHByZXNzRWRpdHM9ITApLG4mJihlLmRpc3BsYXkuc2hpZnQ9ITEpLGk9dChlKSE9SGF9ZmluYWxseXtlLmRpc3BsYXkuc2hpZnQ9cixlLnN0YXRlLnN1cHByZXNzRWRpdHM9ITF9cmV0dXJuIGl9ZnVuY3Rpb24gc24oZSx0LG4pe2Zvcih2YXIgcj0wO3I8ZS5zdGF0ZS5rZXlNYXBzLmxlbmd0aDtyKyspe3ZhciBpPWhhKHQsZS5zdGF0ZS5rZXlNYXBzW3JdLG4sZSk7aWYoaSlyZXR1cm4gaX1yZXR1cm4gZS5vcHRpb25zLmV4dHJhS2V5cyYmaGEodCxlLm9wdGlvbnMuZXh0cmFLZXlzLG4sZSl8fGhhKHQsZS5vcHRpb25zLmtleU1hcCxuLGUpfWZ1bmN0aW9uIGNuKGUsdCxuLHIpe3ZhciBpPWUuc3RhdGUua2V5U2VxO2lmKGkpe2lmKGRhKHQpKXJldHVybiJoYW5kbGVkIjtaby5zZXQoNTAsZnVuY3Rpb24oKXtlLnN0YXRlLmtleVNlcT09aSYmKGUuc3RhdGUua2V5U2VxPW51bGwsZS5kaXNwbGF5LmlucHV0LnJlc2V0KCkpfSksdD1pKyIgIit0fXZhciBvPXNuKGUsdCxyKTtyZXR1cm4ibXVsdGkiPT1vJiYoZS5zdGF0ZS5rZXlTZXE9dCksImhhbmRsZWQiPT1vJiZDaShlLCJrZXlIYW5kbGVkIixlLHQsbiksImhhbmRsZWQiIT1vJiYibXVsdGkiIT1vfHwoTWEobiksQmUoZSkpLGkmJiFvJiYvXCckLy50ZXN0KHQpPyhNYShuKSwhMCk6ISFvfWZ1bmN0aW9uIHVuKGUsdCl7dmFyIG49cGEodCwhMCk7cmV0dXJuIG4/dC5zaGlmdEtleSYmIWUuc3RhdGUua2V5U2VxP2NuKGUsIlNoaWZ0LSIrbix0LGZ1bmN0aW9uKHQpe3JldHVybiBsbihlLHQsITApfSl8fGNuKGUsbix0LGZ1bmN0aW9uKHQpe3JldHVybigic3RyaW5nIj09dHlwZW9mIHQ/L15nb1tBLVpdLy50ZXN0KHQpOnQubW90aW9uKT9sbihlLHQpOnZvaWQgMH0pOmNuKGUsbix0LGZ1bmN0aW9uKHQpe3JldHVybiBsbihlLHQpfSk6ITF9ZnVuY3Rpb24gZm4oZSx0LG4pe3JldHVybiBjbihlLCInIituKyInIix0LGZ1bmN0aW9uKHQpe3JldHVybiBsbihlLHQsITApfSl9ZnVuY3Rpb24gaG4oZSl7dmFyIHQ9dGhpcztpZih0LmN1ck9wLmZvY3VzPUdpKCksIVRpKHQsZSkpe3hvJiYxMT5ibyYmMjc9PWUua2V5Q29kZSYmKGUucmV0dXJuVmFsdWU9ITEpO3ZhciBuPWUua2V5Q29kZTt0LmRpc3BsYXkuc2hpZnQ9MTY9PW58fGUuc2hpZnRLZXk7dmFyIHI9dW4odCxlKTtDbyYmKEpvPXI/bjpudWxsLCFyJiY4OD09biYmIXJsJiYoRW8/ZS5tZXRhS2V5OmUuY3RybEtleSkmJnQucmVwbGFjZVNlbGVjdGlvbigiIixudWxsLCJjdXQiKSksMTghPW58fC9cYkNvZGVNaXJyb3ItY3Jvc3NoYWlyXGIvLnRlc3QodC5kaXNwbGF5LmxpbmVEaXYuY2xhc3NOYW1lKXx8ZG4odCl9fWZ1bmN0aW9uIGRuKGUpe2Z1bmN0aW9uIHQoZSl7MTghPWUua2V5Q29kZSYmZS5hbHRLZXl8fChaYShuLCJDb2RlTWlycm9yLWNyb3NzaGFpciIpLElhKGRvY3VtZW50LCJrZXl1cCIsdCksSWEoZG9jdW1lbnQsIm1vdXNlb3ZlciIsdCkpfXZhciBuPWUuZGlzcGxheS5saW5lRGl2O0phKG4sIkNvZGVNaXJyb3ItY3Jvc3NoYWlyIiksRWEoZG9jdW1lbnQsImtleXVwIix0KSxFYShkb2N1bWVudCwibW91c2VvdmVyIix0KX1mdW5jdGlvbiBwbihlKXsxNj09ZS5rZXlDb2RlJiYodGhpcy5kb2Muc2VsLnNoaWZ0PSExKSxUaSh0aGlzLGUpfWZ1bmN0aW9uIG1uKGUpe3ZhciB0PXRoaXM7aWYoIShHdCh0LmRpc3BsYXksZSl8fFRpKHQsZSl8fGUuY3RybEtleSYmIWUuYWx0S2V5fHxFbyYmZS5tZXRhS2V5KSl7dmFyIG49ZS5rZXlDb2RlLHI9ZS5jaGFyQ29kZTtpZihDbyYmbj09Sm8pcmV0dXJuIEpvPW51bGwsdm9pZCBNYShlKTtpZighQ298fGUud2hpY2gmJiEoZS53aGljaDwxMCl8fCF1bih0LGUpKXt2YXIgaT1TdHJpbmcuZnJvbUNoYXJDb2RlKG51bGw9PXI/bjpyKTtmbih0LGUsaSl8fHQuZGlzcGxheS5pbnB1dC5vbktleVByZXNzKGUpfX19ZnVuY3Rpb24gZ24oZSl7ZS5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudD0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudCYmKGUuc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQ9ITEseW4oZSkpfSwxMDApfWZ1bmN0aW9uIHZuKGUpe2Uuc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQmJihlLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50PSExKSwibm9jdXJzb3IiIT1lLm9wdGlvbnMucmVhZE9ubHkmJihlLnN0YXRlLmZvY3VzZWR8fChQYShlLCJmb2N1cyIsZSksZS5zdGF0ZS5mb2N1c2VkPSEwLEphKGUuZGlzcGxheS53cmFwcGVyLCJDb2RlTWlycm9yLWZvY3VzZWQiKSxlLmN1ck9wfHxlLmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnU9PWUuZG9jLnNlbHx8KGUuZGlzcGxheS5pbnB1dC5yZXNldCgpLHdvJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5kaXNwbGF5LmlucHV0LnJlc2V0KCEwKX0sMjApKSxlLmRpc3BsYXkuaW5wdXQucmVjZWl2ZWRGb2N1cygpKSxCZShlKSl9ZnVuY3Rpb24geW4oZSl7ZS5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudHx8KGUuc3RhdGUuZm9jdXNlZCYmKFBhKGUsImJsdXIiLGUpLGUuc3RhdGUuZm9jdXNlZD0hMSxaYShlLmRpc3BsYXkud3JhcHBlciwiQ29kZU1pcnJvci1mb2N1c2VkIikpLGNsZWFySW50ZXJ2YWwoZS5kaXNwbGF5LmJsaW5rZXIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnN0YXRlLmZvY3VzZWR8fChlLmRpc3BsYXkuc2hpZnQ9ITEpfSwxNTApKX1mdW5jdGlvbiB4bihlLHQpe0d0KGUuZGlzcGxheSx0KXx8Ym4oZSx0KXx8VGkoZSx0LCJjb250ZXh0bWVudSIpfHxlLmRpc3BsYXkuaW5wdXQub25Db250ZXh0TWVudSh0KX1mdW5jdGlvbiBibihlLHQpe3JldHVybiBOaShlLCJndXR0ZXJDb250ZXh0TWVudSIpP1p0KGUsdCwiZ3V0dGVyQ29udGV4dE1lbnUiLCExKTohMX1mdW5jdGlvbiB3bihlLHQpe2lmKF9vKGUsdC5mcm9tKTwwKXJldHVybiBlO2lmKF9vKGUsdC50byk8PTApcmV0dXJuIFFvKHQpO3ZhciBuPWUubGluZSt0LnRleHQubGVuZ3RoLSh0LnRvLmxpbmUtdC5mcm9tLmxpbmUpLTEscj1lLmNoO3JldHVybiBlLmxpbmU9PXQudG8ubGluZSYmKHIrPVFvKHQpLmNoLXQudG8uY2gpLEJvKG4scil9ZnVuY3Rpb24ga24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8ZS5zZWwucmFuZ2VzLmxlbmd0aDtyKyspe3ZhciBpPWUuc2VsLnJhbmdlc1tyXTtuLnB1c2gobmV3IGZlKHduKGkuYW5jaG9yLHQpLHduKGkuaGVhZCx0KSkpfXJldHVybiBoZShuLGUuc2VsLnByaW1JbmRleCl9ZnVuY3Rpb24gU24oZSx0LG4pe3JldHVybiBlLmxpbmU9PXQubGluZT9CbyhuLmxpbmUsZS5jaC10LmNoK24uY2gpOkJvKG4ubGluZSsoZS5saW5lLXQubGluZSksZS5jaCl9ZnVuY3Rpb24gQ24oZSx0LG4pe2Zvcih2YXIgcj1bXSxpPUJvKGUuZmlyc3QsMCksbz1pLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIGw9dFthXSxzPVNuKGwuZnJvbSxpLG8pLGM9U24oUW8obCksaSxvKTtpZihpPWwudG8sbz1jLCJhcm91bmQiPT1uKXt2YXIgdT1lLnNlbC5yYW5nZXNbYV0sZj1fbyh1LmhlYWQsdS5hbmNob3IpPDA7clthXT1uZXcgZmUoZj9jOnMsZj9zOmMpfWVsc2UgclthXT1uZXcgZmUocyxzKX1yZXR1cm4gbmV3IHVlKHIsZS5zZWwucHJpbUluZGV4KX1mdW5jdGlvbiBMbihlLHQsbil7dmFyIHI9e2NhbmNlbGVkOiExLGZyb206dC5mcm9tLHRvOnQudG8sdGV4dDp0LnRleHQsb3JpZ2luOnQub3JpZ2luLGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuY2FuY2VsZWQ9ITB9fTtyZXR1cm4gbiYmKHIudXBkYXRlPWZ1bmN0aW9uKHQsbixyLGkpe3QmJih0aGlzLmZyb209bWUoZSx0KSksbiYmKHRoaXMudG89bWUoZSxuKSksciYmKHRoaXMudGV4dD1yKSx2b2lkIDAhPT1pJiYodGhpcy5vcmlnaW49aSl9KSxQYShlLCJiZWZvcmVDaGFuZ2UiLGUsciksZS5jbSYmUGEoZS5jbSwiYmVmb3JlQ2hhbmdlIixlLmNtLHIpLHIuY2FuY2VsZWQ/bnVsbDp7ZnJvbTpyLmZyb20sdG86ci50byx0ZXh0OnIudGV4dCxvcmlnaW46ci5vcmlnaW59fWZ1bmN0aW9uIFRuKGUsdCxuKXtpZihlLmNtKXtpZighZS5jbS5jdXJPcClyZXR1cm4gRXQoZS5jbSxUbikoZSx0LG4pO2lmKGUuY20uc3RhdGUuc3VwcHJlc3NFZGl0cylyZXR1cm59aWYoIShOaShlLCJiZWZvcmVDaGFuZ2UiKXx8ZS5jbSYmTmkoZS5jbSwiYmVmb3JlQ2hhbmdlIikpfHwodD1MbihlLHQsITApKSl7dmFyIHI9SG8mJiFuJiZzcihlLHQuZnJvbSx0LnRvKTtpZihyKWZvcih2YXIgaT1yLmxlbmd0aC0xO2k+PTA7LS1pKU1uKGUse2Zyb206cltpXS5mcm9tLHRvOnJbaV0udG8sdGV4dDppP1siIl06dC50ZXh0fSk7ZWxzZSBNbihlLHQpfX1mdW5jdGlvbiBNbihlLHQpe2lmKDEhPXQudGV4dC5sZW5ndGh8fCIiIT10LnRleHRbMF18fDAhPV9vKHQuZnJvbSx0LnRvKSl7dmFyIG49a24oZSx0KTtjaShlLHQsbixlLmNtP2UuY20uY3VyT3AuaWQ6TmFOKSxFbihlLHQsbixvcihlLHQpKTt2YXIgcj1bXTtLcihlLGZ1bmN0aW9uKGUsbil7bnx8LTEhPVBpKHIsZS5oaXN0b3J5KXx8KHhpKGUuaGlzdG9yeSx0KSxyLnB1c2goZS5oaXN0b3J5KSksRW4oZSx0LG51bGwsb3IoZSx0KSl9KX19ZnVuY3Rpb24gTm4oZSx0LG4pe2lmKCFlLmNtfHwhZS5jbS5zdGF0ZS5zdXBwcmVzc0VkaXRzKXtmb3IodmFyIHIsaT1lLmhpc3Rvcnksbz1lLnNlbCxhPSJ1bmRvIj09dD9pLmRvbmU6aS51bmRvbmUsbD0idW5kbyI9PXQ/aS51bmRvbmU6aS5kb25lLHM9MDtzPGEubGVuZ3RoJiYocj1hW3NdLG4/IXIucmFuZ2VzfHxyLmVxdWFscyhlLnNlbCk6ci5yYW5nZXMpO3MrKyk7aWYocyE9YS5sZW5ndGgpe2ZvcihpLmxhc3RPcmlnaW49aS5sYXN0U2VsT3JpZ2luPW51bGw7cj1hLnBvcCgpLHIucmFuZ2VzOyl7aWYoaGkocixsKSxuJiYhci5lcXVhbHMoZS5zZWwpKXJldHVybiB2b2lkIFRlKGUscix7Y2xlYXJSZWRvOiExfSk7bz1yfXZhciBjPVtdO2hpKG8sbCksbC5wdXNoKHtjaGFuZ2VzOmMsZ2VuZXJhdGlvbjppLmdlbmVyYXRpb259KSxpLmdlbmVyYXRpb249ci5nZW5lcmF0aW9ufHwrK2kubWF4R2VuZXJhdGlvbjtmb3IodmFyIHU9TmkoZSwiYmVmb3JlQ2hhbmdlIil8fGUuY20mJk5pKGUuY20sImJlZm9yZUNoYW5nZSIpLHM9ci5jaGFuZ2VzLmxlbmd0aC0xO3M+PTA7LS1zKXt2YXIgZj1yLmNoYW5nZXNbc107aWYoZi5vcmlnaW49dCx1JiYhTG4oZSxmLCExKSlyZXR1cm4gdm9pZChhLmxlbmd0aD0wKTtjLnB1c2goYWkoZSxmKSk7dmFyIGg9cz9rbihlLGYpOklpKGEpO0VuKGUsZixoLGxyKGUsZikpLCFzJiZlLmNtJiZlLmNtLnNjcm9sbEludG9WaWV3KHtmcm9tOmYuZnJvbSx0bzpRbyhmKX0pO3ZhciBkPVtdO0tyKGUsZnVuY3Rpb24oZSx0KXt0fHwtMSE9UGkoZCxlLmhpc3RvcnkpfHwoeGkoZS5oaXN0b3J5LGYpLGQucHVzaChlLmhpc3RvcnkpKSxFbihlLGYsbnVsbCxscihlLGYpKX0pfX19fWZ1bmN0aW9uIEFuKGUsdCl7aWYoMCE9dCYmKGUuZmlyc3QrPXQsZS5zZWw9bmV3IHVlKFJpKGUuc2VsLnJhbmdlcyxmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGZlKEJvKGUuYW5jaG9yLmxpbmUrdCxlLmFuY2hvci5jaCksQm8oZS5oZWFkLmxpbmUrdCxlLmhlYWQuY2gpKX0pLGUuc2VsLnByaW1JbmRleCksZS5jbSkpe0R0KGUuY20sZS5maXJzdCxlLmZpcnN0LXQsdCk7Zm9yKHZhciBuPWUuY20uZGlzcGxheSxyPW4udmlld0Zyb207cjxuLnZpZXdUbztyKyspSHQoZS5jbSxyLCJndXR0ZXIiKX19ZnVuY3Rpb24gRW4oZSx0LG4scil7aWYoZS5jbSYmIWUuY20uY3VyT3ApcmV0dXJuIEV0KGUuY20sRW4pKGUsdCxuLHIpO2lmKHQudG8ubGluZTxlLmZpcnN0KXJldHVybiB2b2lkIEFuKGUsdC50ZXh0Lmxlbmd0aC0xLSh0LnRvLmxpbmUtdC5mcm9tLmxpbmUpKTtpZighKHQuZnJvbS5saW5lPmUubGFzdExpbmUoKSkpe2lmKHQuZnJvbS5saW5lPGUuZmlyc3Qpe3ZhciBpPXQudGV4dC5sZW5ndGgtMS0oZS5maXJzdC10LmZyb20ubGluZSk7QW4oZSxpKSx0PXtmcm9tOkJvKGUuZmlyc3QsMCksdG86Qm8odC50by5saW5lK2ksdC50by5jaCksdGV4dDpbSWkodC50ZXh0KV0sb3JpZ2luOnQub3JpZ2lufX12YXIgbz1lLmxhc3RMaW5lKCk7dC50by5saW5lPm8mJih0PXtmcm9tOnQuZnJvbSx0bzpCbyhvLFpyKGUsbykudGV4dC5sZW5ndGgpLHRleHQ6W3QudGV4dFswXV0sb3JpZ2luOnQub3JpZ2lufSksdC5yZW1vdmVkPUpyKGUsdC5mcm9tLHQudG8pLG58fChuPWtuKGUsdCkpLGUuY20/T24oZS5jbSx0LHIpOllyKGUsdCxyKSxNZShlLG4sV2EpfX1mdW5jdGlvbiBPbihlLHQsbil7dmFyIHI9ZS5kb2MsaT1lLmRpc3BsYXksYT10LmZyb20sbD10LnRvLHM9ITEsYz1hLmxpbmU7ZS5vcHRpb25zLmxpbmVXcmFwcGluZ3x8KGM9dGkoeXIoWnIocixhLmxpbmUpKSksci5pdGVyKGMsbC5saW5lKzEsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PWkubWF4TGluZT8ocz0hMCwhMCk6dm9pZCAwfSkpLHIuc2VsLmNvbnRhaW5zKHQuZnJvbSx0LnRvKT4tMSYmTWkoZSksWXIocix0LG4sbyhlKSksZS5vcHRpb25zLmxpbmVXcmFwcGluZ3x8KHIuaXRlcihjLGEubGluZSt0LnRleHQubGVuZ3RoLGZ1bmN0aW9uKGUpe3ZhciB0PWYoZSk7dD5pLm1heExpbmVMZW5ndGgmJihpLm1heExpbmU9ZSxpLm1heExpbmVMZW5ndGg9dCxpLm1heExpbmVDaGFuZ2VkPSEwLHM9ITEpfSkscyYmKGUuY3VyT3AudXBkYXRlTWF4TGluZT0hMCkpLHIuZnJvbnRpZXI9TWF0aC5taW4oci5mcm9udGllcixhLmxpbmUpLF9lKGUsNDAwKTt2YXIgdT10LnRleHQubGVuZ3RoLShsLmxpbmUtYS5saW5lKS0xO3QuZnVsbD9EdChlKTphLmxpbmUhPWwubGluZXx8MSE9dC50ZXh0Lmxlbmd0aHx8R3IoZS5kb2MsdCk/RHQoZSxhLmxpbmUsbC5saW5lKzEsdSk6SHQoZSxhLmxpbmUsInRleHQiKTt2YXIgaD1OaShlLCJjaGFuZ2VzIiksZD1OaShlLCJjaGFuZ2UiKTtpZihkfHxoKXt2YXIgcD17ZnJvbTphLHRvOmwsdGV4dDp0LnRleHQscmVtb3ZlZDp0LnJlbW92ZWQsb3JpZ2luOnQub3JpZ2lufTtkJiZDaShlLCJjaGFuZ2UiLGUscCksaCYmKGUuY3VyT3AuY2hhbmdlT2Jqc3x8KGUuY3VyT3AuY2hhbmdlT2Jqcz1bXSkpLnB1c2gocCl9ZS5kaXNwbGF5LnNlbEZvckNvbnRleHRNZW51PW51bGx9ZnVuY3Rpb24gSW4oZSx0LG4scixpKXtpZihyfHwocj1uKSxfbyhyLG4pPDApe3ZhciBvPXI7cj1uLG49b30ic3RyaW5nIj09dHlwZW9mIHQmJih0PWUuc3BsaXRMaW5lcyh0KSksVG4oZSx7ZnJvbTpuLHRvOnIsdGV4dDp0LG9yaWdpbjppfSl9ZnVuY3Rpb24gUG4oZSx0KXtpZighVGkoZSwic2Nyb2xsQ3Vyc29ySW50b1ZpZXciKSl7dmFyIG49ZS5kaXNwbGF5LHI9bi5zaXplci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPW51bGw7aWYodC50b3Arci50b3A8MD9pPSEwOnQuYm90dG9tK3IudG9wPih3aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpJiYoaT0hMSksbnVsbCE9aSYmIU1vKXt2YXIgbz1qaSgiZGl2Iiwi4oCLIixudWxsLCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogIisodC50b3Atbi52aWV3T2Zmc2V0LVVlKGUuZGlzcGxheSkpKyJweDsgaGVpZ2h0OiAiKyh0LmJvdHRvbS10LnRvcCtZZShlKStuLmJhckhlaWdodCkrInB4OyBsZWZ0OiAiK3QubGVmdCsicHg7IHdpZHRoOiAycHg7Iik7ZS5kaXNwbGF5LmxpbmVTcGFjZS5hcHBlbmRDaGlsZChvKSxvLnNjcm9sbEludG9WaWV3KGkpLGUuZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQobyl9fX1mdW5jdGlvbiBSbihlLHQsbixyKXtudWxsPT1yJiYocj0wKTtmb3IodmFyIGk9MDs1Pmk7aSsrKXt2YXIgbz0hMSxhPWR0KGUsdCksbD1uJiZuIT10P2R0KGUsbik6YSxzPUhuKGUsTWF0aC5taW4oYS5sZWZ0LGwubGVmdCksTWF0aC5taW4oYS50b3AsbC50b3ApLXIsTWF0aC5tYXgoYS5sZWZ0LGwubGVmdCksTWF0aC5tYXgoYS5ib3R0b20sbC5ib3R0b20pK3IpLGM9ZS5kb2Muc2Nyb2xsVG9wLHU9ZS5kb2Muc2Nyb2xsTGVmdDtpZihudWxsIT1zLnNjcm9sbFRvcCYmKHJuKGUscy5zY3JvbGxUb3ApLE1hdGguYWJzKGUuZG9jLnNjcm9sbFRvcC1jKT4xJiYobz0hMCkpLG51bGwhPXMuc2Nyb2xsTGVmdCYmKG9uKGUscy5zY3JvbGxMZWZ0KSxNYXRoLmFicyhlLmRvYy5zY3JvbGxMZWZ0LXUpPjEmJihvPSEwKSksIW8pYnJlYWt9cmV0dXJuIGF9ZnVuY3Rpb24gRG4oZSx0LG4scixpKXt2YXIgbz1IbihlLHQsbixyLGkpO251bGwhPW8uc2Nyb2xsVG9wJiZybihlLG8uc2Nyb2xsVG9wKSxudWxsIT1vLnNjcm9sbExlZnQmJm9uKGUsby5zY3JvbGxMZWZ0KX1mdW5jdGlvbiBIbihlLHQsbixyLGkpe3ZhciBvPWUuZGlzcGxheSxhPXl0KGUuZGlzcGxheSk7MD5uJiYobj0wKTt2YXIgbD1lLmN1ck9wJiZudWxsIT1lLmN1ck9wLnNjcm9sbFRvcD9lLmN1ck9wLnNjcm9sbFRvcDpvLnNjcm9sbGVyLnNjcm9sbFRvcCxzPVZlKGUpLGM9e307aS1uPnMmJihpPW4rcyk7dmFyIHU9ZS5kb2MuaGVpZ2h0K3FlKG8pLGY9YT5uLGg9aT51LWE7aWYobD5uKWMuc2Nyb2xsVG9wPWY/MDpuO2Vsc2UgaWYoaT5sK3Mpe3ZhciBkPU1hdGgubWluKG4sKGg/dTppKS1zKTtkIT1sJiYoYy5zY3JvbGxUb3A9ZCl9dmFyIHA9ZS5jdXJPcCYmbnVsbCE9ZS5jdXJPcC5zY3JvbGxMZWZ0P2UuY3VyT3Auc2Nyb2xsTGVmdDpvLnNjcm9sbGVyLnNjcm9sbExlZnQsbT0kZShlKS0oZS5vcHRpb25zLmZpeGVkR3V0dGVyP28uZ3V0dGVycy5vZmZzZXRXaWR0aDowKSxnPXItdD5tO3JldHVybiBnJiYocj10K20pLDEwPnQ/Yy5zY3JvbGxMZWZ0PTA6cD50P2Muc2Nyb2xsTGVmdD1NYXRoLm1heCgwLHQtKGc/MDoxMCkpOnI+bStwLTMmJihjLnNjcm9sbExlZnQ9cisoZz8wOjEwKS1tKSxjfWZ1bmN0aW9uIFduKGUsdCxuKXtudWxsPT10JiZudWxsPT1ufHxfbihlKSxudWxsIT10JiYoZS5jdXJPcC5zY3JvbGxMZWZ0PShudWxsPT1lLmN1ck9wLnNjcm9sbExlZnQ/ZS5kb2Muc2Nyb2xsTGVmdDplLmN1ck9wLnNjcm9sbExlZnQpK3QpLG51bGwhPW4mJihlLmN1ck9wLnNjcm9sbFRvcD0obnVsbD09ZS5jdXJPcC5zY3JvbGxUb3A/ZS5kb2Muc2Nyb2xsVG9wOmUuY3VyT3Auc2Nyb2xsVG9wKStuKX1mdW5jdGlvbiBCbihlKXtfbihlKTt2YXIgdD1lLmdldEN1cnNvcigpLG49dCxyPXQ7ZS5vcHRpb25zLmxpbmVXcmFwcGluZ3x8KG49dC5jaD9Cbyh0LmxpbmUsdC5jaC0xKTp0LHI9Qm8odC5saW5lLHQuY2grMSkpLGUuY3VyT3Auc2Nyb2xsVG9Qb3M9e2Zyb206bix0bzpyLG1hcmdpbjplLm9wdGlvbnMuY3Vyc29yU2Nyb2xsTWFyZ2luLGlzQ3Vyc29yOiEwfX1mdW5jdGlvbiBfbihlKXt2YXIgdD1lLmN1ck9wLnNjcm9sbFRvUG9zO2lmKHQpe2UuY3VyT3Auc2Nyb2xsVG9Qb3M9bnVsbDt2YXIgbj1wdChlLHQuZnJvbSkscj1wdChlLHQudG8pLGk9SG4oZSxNYXRoLm1pbihuLmxlZnQsci5sZWZ0KSxNYXRoLm1pbihuLnRvcCxyLnRvcCktdC5tYXJnaW4sTWF0aC5tYXgobi5yaWdodCxyLnJpZ2h0KSxNYXRoLm1heChuLmJvdHRvbSxyLmJvdHRvbSkrdC5tYXJnaW4pO2Uuc2Nyb2xsVG8oaS5zY3JvbGxMZWZ0LGkuc2Nyb2xsVG9wKX19ZnVuY3Rpb24gRm4oZSx0LG4scil7dmFyIGksbz1lLmRvYztudWxsPT1uJiYobj0iYWRkIiksInNtYXJ0Ij09biYmKG8ubW9kZS5pbmRlbnQ/aT1qZShlLHQpOm49InByZXYiKTt2YXIgYT1lLm9wdGlvbnMudGFiU2l6ZSxsPVpyKG8sdCkscz1GYShsLnRleHQsbnVsbCxhKTtsLnN0YXRlQWZ0ZXImJihsLnN0YXRlQWZ0ZXI9bnVsbCk7dmFyIGMsdT1sLnRleHQubWF0Y2goL15ccyovKVswXTtpZihyfHwvXFMvLnRlc3QobC50ZXh0KSl7aWYoInNtYXJ0Ij09biYmKGM9by5tb2RlLmluZGVudChpLGwudGV4dC5zbGljZSh1Lmxlbmd0aCksbC50ZXh0KSxjPT1IYXx8Yz4xNTApKXtpZighcilyZXR1cm47bj0icHJldiJ9fWVsc2UgYz0wLG49Im5vdCI7InByZXYiPT1uP2M9dD5vLmZpcnN0P0ZhKFpyKG8sdC0xKS50ZXh0LG51bGwsYSk6MDoiYWRkIj09bj9jPXMrZS5vcHRpb25zLmluZGVudFVuaXQ6InN1YnRyYWN0Ij09bj9jPXMtZS5vcHRpb25zLmluZGVudFVuaXQ6Im51bWJlciI9PXR5cGVvZiBuJiYoYz1zK24pLGM9TWF0aC5tYXgoMCxjKTt2YXIgZj0iIixoPTA7aWYoZS5vcHRpb25zLmluZGVudFdpdGhUYWJzKWZvcih2YXIgZD1NYXRoLmZsb29yKGMvYSk7ZDstLWQpaCs9YSxmKz0iCSI7aWYoYz5oJiYoZis9T2koYy1oKSksZiE9dSlyZXR1cm4gSW4obyxmLEJvKHQsMCksQm8odCx1Lmxlbmd0aCksIitpbnB1dCIpLGwuc3RhdGVBZnRlcj1udWxsLCEwO2Zvcih2YXIgZD0wO2Q8by5zZWwucmFuZ2VzLmxlbmd0aDtkKyspe3ZhciBwPW8uc2VsLnJhbmdlc1tkXTtpZihwLmhlYWQubGluZT09dCYmcC5oZWFkLmNoPHUubGVuZ3RoKXt2YXIgaD1Cbyh0LHUubGVuZ3RoKTtrZShvLGQsbmV3IGZlKGgsaCkpO2JyZWFrfX19ZnVuY3Rpb24gem4oZSx0LG4scil7dmFyIGk9dCxvPXQ7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P289WnIoZSxwZShlLHQpKTppPXRpKHQpLG51bGw9PWk/bnVsbDoocihvLGkpJiZlLmNtJiZIdChlLmNtLGksbiksbyl9ZnVuY3Rpb24gam4oZSx0KXtmb3IodmFyIG49ZS5kb2Muc2VsLnJhbmdlcyxyPVtdLGk9MDtpPG4ubGVuZ3RoO2krKyl7Zm9yKHZhciBvPXQobltpXSk7ci5sZW5ndGgmJl9vKG8uZnJvbSxJaShyKS50byk8PTA7KXt2YXIgYT1yLnBvcCgpO2lmKF9vKGEuZnJvbSxvLmZyb20pPDApe28uZnJvbT1hLmZyb207YnJlYWt9fXIucHVzaChvKX1BdChlLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PXIubGVuZ3RoLTE7dD49MDt0LS0pSW4oZS5kb2MsIiIsclt0XS5mcm9tLHJbdF0udG8sIitkZWxldGUiKTtCbihlKX0pfWZ1bmN0aW9uIFVuKGUsdCxuLHIsaSl7ZnVuY3Rpb24gbygpe3ZhciB0PWwrbjtyZXR1cm4gdDxlLmZpcnN0fHx0Pj1lLmZpcnN0K2Uuc2l6ZT8hMToobD10LHU9WnIoZSx0KSl9ZnVuY3Rpb24gYShlKXt2YXIgdD0oaT9mbzpobykodSxzLG4sITApO2lmKG51bGw9PXQpe2lmKGV8fCFvKCkpcmV0dXJuITE7cz1pPygwPm4/aW86cm8pKHUpOjA+bj91LnRleHQubGVuZ3RoOjB9ZWxzZSBzPXQ7cmV0dXJuITB9dmFyIGw9dC5saW5lLHM9dC5jaCxjPW4sdT1acihlLGwpO2lmKCJjaGFyIj09cilhKCk7ZWxzZSBpZigiY29sdW1uIj09cilhKCEwKTtlbHNlIGlmKCJ3b3JkIj09cnx8Imdyb3VwIj09cilmb3IodmFyIGY9bnVsbCxoPSJncm91cCI9PXIsZD1lLmNtJiZlLmNtLmdldEhlbHBlcih0LCJ3b3JkQ2hhcnMiKSxwPSEwOyEoMD5uKXx8YSghcCk7cD0hMSl7dmFyIG09dS50ZXh0LmNoYXJBdChzKXx8IlxuIixnPV9pKG0sZCk/InciOmgmJiJcbiI9PW0/Im4iOiFofHwvXHMvLnRlc3QobSk/bnVsbDoicCI7aWYoIWh8fHB8fGd8fChnPSJzIiksZiYmZiE9Zyl7MD5uJiYobj0xLGEoKSk7YnJlYWt9aWYoZyYmKGY9Zyksbj4wJiYhYSghcCkpYnJlYWt9dmFyIHY9SWUoZSxCbyhsLHMpLHQsYywhMCk7cmV0dXJuIF9vKHQsdil8fCh2LmhpdFNpZGU9ITApLHZ9ZnVuY3Rpb24gcW4oZSx0LG4scil7dmFyIGksbz1lLmRvYyxhPXQubGVmdDtpZigicGFnZSI9PXIpe3ZhciBsPU1hdGgubWluKGUuZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpO2k9dC50b3ArbioobC0oMD5uPzEuNTouNSkqeXQoZS5kaXNwbGF5KSl9ZWxzZSJsaW5lIj09ciYmKGk9bj4wP3QuYm90dG9tKzM6dC50b3AtMyk7Zm9yKDs7KXt2YXIgcz1ndChlLGEsaSk7aWYoIXMub3V0c2lkZSlicmVhaztpZigwPm4/MD49aTppPj1vLmhlaWdodCl7cy5oaXRTaWRlPSEwO2JyZWFrfWkrPTUqbn1yZXR1cm4gc31mdW5jdGlvbiBHbih0LG4scixpKXtlLmRlZmF1bHRzW3RdPW4sciYmKHRhW3RdPWk/ZnVuY3Rpb24oZSx0LG4pe24hPW5hJiZyKGUsdCxuKX06cil9ZnVuY3Rpb24gWW4oZSl7Zm9yKHZhciB0LG4scixpLG89ZS5zcGxpdCgvLSg/ISQpLyksZT1vW28ubGVuZ3RoLTFdLGE9MDthPG8ubGVuZ3RoLTE7YSsrKXt2YXIgbD1vW2FdO2lmKC9eKGNtZHxtZXRhfG0pJC9pLnRlc3QobCkpaT0hMDtlbHNlIGlmKC9eYShsdCk/JC9pLnRlc3QobCkpdD0hMDtlbHNlIGlmKC9eKGN8Y3RybHxjb250cm9sKSQvaS50ZXN0KGwpKW49ITA7ZWxzZXsKaWYoIS9ecyhoaWZ0KSQvaS50ZXN0KGwpKXRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIG1vZGlmaWVyIG5hbWU6ICIrbCk7cj0hMH19cmV0dXJuIHQmJihlPSJBbHQtIitlKSxuJiYoZT0iQ3RybC0iK2UpLGkmJihlPSJDbWQtIitlKSxyJiYoZT0iU2hpZnQtIitlKSxlfWZ1bmN0aW9uICRuKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9mYVtlXTplfWZ1bmN0aW9uIFZuKGUsdCxuLHIsaSl7aWYociYmci5zaGFyZWQpcmV0dXJuIEtuKGUsdCxuLHIsaSk7aWYoZS5jbSYmIWUuY20uY3VyT3ApcmV0dXJuIEV0KGUuY20sVm4pKGUsdCxuLHIsaSk7dmFyIG89bmV3IHZhKGUsaSksYT1fbyh0LG4pO2lmKHImJldpKHIsbywhMSksYT4wfHwwPT1hJiZvLmNsZWFyV2hlbkVtcHR5IT09ITEpcmV0dXJuIG87aWYoby5yZXBsYWNlZFdpdGgmJihvLmNvbGxhcHNlZD0hMCxvLndpZGdldE5vZGU9amkoInNwYW4iLFtvLnJlcGxhY2VkV2l0aF0sIkNvZGVNaXJyb3Itd2lkZ2V0Iiksci5oYW5kbGVNb3VzZUV2ZW50c3x8by53aWRnZXROb2RlLnNldEF0dHJpYnV0ZSgiY20taWdub3JlLWV2ZW50cyIsInRydWUiKSxyLmluc2VydExlZnQmJihvLndpZGdldE5vZGUuaW5zZXJ0TGVmdD0hMCkpLG8uY29sbGFwc2VkKXtpZih2cihlLHQubGluZSx0LG4sbyl8fHQubGluZSE9bi5saW5lJiZ2cihlLG4ubGluZSx0LG4sbykpdGhyb3cgbmV3IEVycm9yKCJJbnNlcnRpbmcgY29sbGFwc2VkIG1hcmtlciBwYXJ0aWFsbHkgb3ZlcmxhcHBpbmcgYW4gZXhpc3Rpbmcgb25lIik7V289ITB9by5hZGRUb0hpc3RvcnkmJmNpKGUse2Zyb206dCx0bzpuLG9yaWdpbjoibWFya1RleHQifSxlLnNlbCxOYU4pO3ZhciBsLHM9dC5saW5lLGM9ZS5jbTtpZihlLml0ZXIocyxuLmxpbmUrMSxmdW5jdGlvbihlKXtjJiZvLmNvbGxhcHNlZCYmIWMub3B0aW9ucy5saW5lV3JhcHBpbmcmJnlyKGUpPT1jLmRpc3BsYXkubWF4TGluZSYmKGw9ITApLG8uY29sbGFwc2VkJiZzIT10LmxpbmUmJmVpKGUsMCksbnIoZSxuZXcgUW4obyxzPT10LmxpbmU/dC5jaDpudWxsLHM9PW4ubGluZT9uLmNoOm51bGwpKSwrK3N9KSxvLmNvbGxhcHNlZCYmZS5pdGVyKHQubGluZSxuLmxpbmUrMSxmdW5jdGlvbih0KXtrcihlLHQpJiZlaSh0LDApfSksby5jbGVhck9uRW50ZXImJkVhKG8sImJlZm9yZUN1cnNvckVudGVyIixmdW5jdGlvbigpe28uY2xlYXIoKX0pLG8ucmVhZE9ubHkmJihIbz0hMCwoZS5oaXN0b3J5LmRvbmUubGVuZ3RofHxlLmhpc3RvcnkudW5kb25lLmxlbmd0aCkmJmUuY2xlYXJIaXN0b3J5KCkpLG8uY29sbGFwc2VkJiYoby5pZD0rK2dhLG8uYXRvbWljPSEwKSxjKXtpZihsJiYoYy5jdXJPcC51cGRhdGVNYXhMaW5lPSEwKSxvLmNvbGxhcHNlZClEdChjLHQubGluZSxuLmxpbmUrMSk7ZWxzZSBpZihvLmNsYXNzTmFtZXx8by50aXRsZXx8by5zdGFydFN0eWxlfHxvLmVuZFN0eWxlfHxvLmNzcylmb3IodmFyIHU9dC5saW5lO3U8PW4ubGluZTt1KyspSHQoYyx1LCJ0ZXh0Iik7by5hdG9taWMmJkFlKGMuZG9jKSxDaShjLCJtYXJrZXJBZGRlZCIsYyxvKX1yZXR1cm4gb31mdW5jdGlvbiBLbihlLHQsbixyLGkpe3I9V2kociksci5zaGFyZWQ9ITE7dmFyIG89W1ZuKGUsdCxuLHIsaSldLGE9b1swXSxsPXIud2lkZ2V0Tm9kZTtyZXR1cm4gS3IoZSxmdW5jdGlvbihlKXtsJiYoci53aWRnZXROb2RlPWwuY2xvbmVOb2RlKCEwKSksby5wdXNoKFZuKGUsbWUoZSx0KSxtZShlLG4pLHIsaSkpO2Zvcih2YXIgcz0wO3M8ZS5saW5rZWQubGVuZ3RoOysrcylpZihlLmxpbmtlZFtzXS5pc1BhcmVudClyZXR1cm47YT1JaShvKX0pLG5ldyB5YShvLGEpfWZ1bmN0aW9uIFhuKGUpe3JldHVybiBlLmZpbmRNYXJrcyhCbyhlLmZpcnN0LDApLGUuY2xpcFBvcyhCbyhlLmxhc3RMaW5lKCkpKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnR9KX1mdW5jdGlvbiBabihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLGk9ci5maW5kKCksbz1lLmNsaXBQb3MoaS5mcm9tKSxhPWUuY2xpcFBvcyhpLnRvKTtpZihfbyhvLGEpKXt2YXIgbD1WbihlLG8sYSxyLnByaW1hcnksci5wcmltYXJ5LnR5cGUpO3IubWFya2Vycy5wdXNoKGwpLGwucGFyZW50PXJ9fX1mdW5jdGlvbiBKbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XSxyPVtuLnByaW1hcnkuZG9jXTtLcihuLnByaW1hcnkuZG9jLGZ1bmN0aW9uKGUpe3IucHVzaChlKX0pO2Zvcih2YXIgaT0wO2k8bi5tYXJrZXJzLmxlbmd0aDtpKyspe3ZhciBvPW4ubWFya2Vyc1tpXTstMT09UGkocixvLmRvYykmJihvLnBhcmVudD1udWxsLG4ubWFya2Vycy5zcGxpY2UoaS0tLDEpKX19fWZ1bmN0aW9uIFFuKGUsdCxuKXt0aGlzLm1hcmtlcj1lLHRoaXMuZnJvbT10LHRoaXMudG89bn1mdW5jdGlvbiBlcihlLHQpe2lmKGUpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciByPWVbbl07aWYoci5tYXJrZXI9PXQpcmV0dXJuIHJ9fWZ1bmN0aW9uIHRyKGUsdCl7Zm9yKHZhciBuLHI9MDtyPGUubGVuZ3RoOysrcillW3JdIT10JiYobnx8KG49W10pKS5wdXNoKGVbcl0pO3JldHVybiBufWZ1bmN0aW9uIG5yKGUsdCl7ZS5tYXJrZWRTcGFucz1lLm1hcmtlZFNwYW5zP2UubWFya2VkU3BhbnMuY29uY2F0KFt0XSk6W3RdLHQubWFya2VyLmF0dGFjaExpbmUoZSl9ZnVuY3Rpb24gcnIoZSx0LG4pe2lmKGUpZm9yKHZhciByLGk9MDtpPGUubGVuZ3RoOysraSl7dmFyIG89ZVtpXSxhPW8ubWFya2VyLGw9bnVsbD09by5mcm9tfHwoYS5pbmNsdXNpdmVMZWZ0P28uZnJvbTw9dDpvLmZyb208dCk7aWYobHx8by5mcm9tPT10JiYiYm9va21hcmsiPT1hLnR5cGUmJighbnx8IW8ubWFya2VyLmluc2VydExlZnQpKXt2YXIgcz1udWxsPT1vLnRvfHwoYS5pbmNsdXNpdmVSaWdodD9vLnRvPj10Om8udG8+dCk7KHJ8fChyPVtdKSkucHVzaChuZXcgUW4oYSxvLmZyb20scz9udWxsOm8udG8pKX19cmV0dXJuIHJ9ZnVuY3Rpb24gaXIoZSx0LG4pe2lmKGUpZm9yKHZhciByLGk9MDtpPGUubGVuZ3RoOysraSl7dmFyIG89ZVtpXSxhPW8ubWFya2VyLGw9bnVsbD09by50b3x8KGEuaW5jbHVzaXZlUmlnaHQ/by50bz49dDpvLnRvPnQpO2lmKGx8fG8uZnJvbT09dCYmImJvb2ttYXJrIj09YS50eXBlJiYoIW58fG8ubWFya2VyLmluc2VydExlZnQpKXt2YXIgcz1udWxsPT1vLmZyb218fChhLmluY2x1c2l2ZUxlZnQ/by5mcm9tPD10Om8uZnJvbTx0KTsocnx8KHI9W10pKS5wdXNoKG5ldyBRbihhLHM/bnVsbDpvLmZyb20tdCxudWxsPT1vLnRvP251bGw6by50by10KSl9fXJldHVybiByfWZ1bmN0aW9uIG9yKGUsdCl7aWYodC5mdWxsKXJldHVybiBudWxsO3ZhciBuPXZlKGUsdC5mcm9tLmxpbmUpJiZacihlLHQuZnJvbS5saW5lKS5tYXJrZWRTcGFucyxyPXZlKGUsdC50by5saW5lKSYmWnIoZSx0LnRvLmxpbmUpLm1hcmtlZFNwYW5zO2lmKCFuJiYhcilyZXR1cm4gbnVsbDt2YXIgaT10LmZyb20uY2gsbz10LnRvLmNoLGE9MD09X28odC5mcm9tLHQudG8pLGw9cnIobixpLGEpLHM9aXIocixvLGEpLGM9MT09dC50ZXh0Lmxlbmd0aCx1PUlpKHQudGV4dCkubGVuZ3RoKyhjP2k6MCk7aWYobClmb3IodmFyIGY9MDtmPGwubGVuZ3RoOysrZil7dmFyIGg9bFtmXTtpZihudWxsPT1oLnRvKXt2YXIgZD1lcihzLGgubWFya2VyKTtkP2MmJihoLnRvPW51bGw9PWQudG8/bnVsbDpkLnRvK3UpOmgudG89aX19aWYocylmb3IodmFyIGY9MDtmPHMubGVuZ3RoOysrZil7dmFyIGg9c1tmXTtpZihudWxsIT1oLnRvJiYoaC50bys9dSksbnVsbD09aC5mcm9tKXt2YXIgZD1lcihsLGgubWFya2VyKTtkfHwoaC5mcm9tPXUsYyYmKGx8fChsPVtdKSkucHVzaChoKSl9ZWxzZSBoLmZyb20rPXUsYyYmKGx8fChsPVtdKSkucHVzaChoKX1sJiYobD1hcihsKSkscyYmcyE9bCYmKHM9YXIocykpO3ZhciBwPVtsXTtpZighYyl7dmFyIG0sZz10LnRleHQubGVuZ3RoLTI7aWYoZz4wJiZsKWZvcih2YXIgZj0wO2Y8bC5sZW5ndGg7KytmKW51bGw9PWxbZl0udG8mJihtfHwobT1bXSkpLnB1c2gobmV3IFFuKGxbZl0ubWFya2VyLG51bGwsbnVsbCkpO2Zvcih2YXIgZj0wO2c+ZjsrK2YpcC5wdXNoKG0pO3AucHVzaChzKX1yZXR1cm4gcH1mdW5jdGlvbiBhcihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoOysrdCl7dmFyIG49ZVt0XTtudWxsIT1uLmZyb20mJm4uZnJvbT09bi50byYmbi5tYXJrZXIuY2xlYXJXaGVuRW1wdHkhPT0hMSYmZS5zcGxpY2UodC0tLDEpfXJldHVybiBlLmxlbmd0aD9lOm51bGx9ZnVuY3Rpb24gbHIoZSx0KXt2YXIgbj1taShlLHQpLHI9b3IoZSx0KTtpZighbilyZXR1cm4gcjtpZighcilyZXR1cm4gbjtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoOysraSl7dmFyIG89bltpXSxhPXJbaV07aWYobyYmYSllOmZvcih2YXIgbD0wO2w8YS5sZW5ndGg7KytsKXtmb3IodmFyIHM9YVtsXSxjPTA7YzxvLmxlbmd0aDsrK2MpaWYob1tjXS5tYXJrZXI9PXMubWFya2VyKWNvbnRpbnVlIGU7by5wdXNoKHMpfWVsc2UgYSYmKG5baV09YSl9cmV0dXJuIG59ZnVuY3Rpb24gc3IoZSx0LG4pe3ZhciByPW51bGw7aWYoZS5pdGVyKHQubGluZSxuLmxpbmUrMSxmdW5jdGlvbihlKXtpZihlLm1hcmtlZFNwYW5zKWZvcih2YXIgdD0wO3Q8ZS5tYXJrZWRTcGFucy5sZW5ndGg7Kyt0KXt2YXIgbj1lLm1hcmtlZFNwYW5zW3RdLm1hcmtlcjshbi5yZWFkT25seXx8ciYmLTEhPVBpKHIsbil8fChyfHwocj1bXSkpLnB1c2gobil9fSksIXIpcmV0dXJuIG51bGw7Zm9yKHZhciBpPVt7ZnJvbTp0LHRvOm59XSxvPTA7bzxyLmxlbmd0aDsrK28pZm9yKHZhciBhPXJbb10sbD1hLmZpbmQoMCkscz0wO3M8aS5sZW5ndGg7KytzKXt2YXIgYz1pW3NdO2lmKCEoX28oYy50byxsLmZyb20pPDB8fF9vKGMuZnJvbSxsLnRvKT4wKSl7dmFyIHU9W3MsMV0sZj1fbyhjLmZyb20sbC5mcm9tKSxoPV9vKGMudG8sbC50byk7KDA+Znx8IWEuaW5jbHVzaXZlTGVmdCYmIWYpJiZ1LnB1c2goe2Zyb206Yy5mcm9tLHRvOmwuZnJvbX0pLChoPjB8fCFhLmluY2x1c2l2ZVJpZ2h0JiYhaCkmJnUucHVzaCh7ZnJvbTpsLnRvLHRvOmMudG99KSxpLnNwbGljZS5hcHBseShpLHUpLHMrPXUubGVuZ3RoLTF9fXJldHVybiBpfWZ1bmN0aW9uIGNyKGUpe3ZhciB0PWUubWFya2VkU3BhbnM7aWYodCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXS5tYXJrZXIuZGV0YWNoTGluZShlKTtlLm1hcmtlZFNwYW5zPW51bGx9fWZ1bmN0aW9uIHVyKGUsdCl7aWYodCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXS5tYXJrZXIuYXR0YWNoTGluZShlKTtlLm1hcmtlZFNwYW5zPXR9fWZ1bmN0aW9uIGZyKGUpe3JldHVybiBlLmluY2x1c2l2ZUxlZnQ/LTE6MH1mdW5jdGlvbiBocihlKXtyZXR1cm4gZS5pbmNsdXNpdmVSaWdodD8xOjB9ZnVuY3Rpb24gZHIoZSx0KXt2YXIgbj1lLmxpbmVzLmxlbmd0aC10LmxpbmVzLmxlbmd0aDtpZigwIT1uKXJldHVybiBuO3ZhciByPWUuZmluZCgpLGk9dC5maW5kKCksbz1fbyhyLmZyb20saS5mcm9tKXx8ZnIoZSktZnIodCk7aWYobylyZXR1cm4tbzt2YXIgYT1fbyhyLnRvLGkudG8pfHxocihlKS1ocih0KTtyZXR1cm4gYT9hOnQuaWQtZS5pZH1mdW5jdGlvbiBwcihlLHQpe3ZhciBuLHI9V28mJmUubWFya2VkU3BhbnM7aWYocilmb3IodmFyIGksbz0wO288ci5sZW5ndGg7KytvKWk9cltvXSxpLm1hcmtlci5jb2xsYXBzZWQmJm51bGw9PSh0P2kuZnJvbTppLnRvKSYmKCFufHxkcihuLGkubWFya2VyKTwwKSYmKG49aS5tYXJrZXIpO3JldHVybiBufWZ1bmN0aW9uIG1yKGUpe3JldHVybiBwcihlLCEwKX1mdW5jdGlvbiBncihlKXtyZXR1cm4gcHIoZSwhMSl9ZnVuY3Rpb24gdnIoZSx0LG4scixpKXt2YXIgbz1acihlLHQpLGE9V28mJm8ubWFya2VkU3BhbnM7aWYoYSlmb3IodmFyIGw9MDtsPGEubGVuZ3RoOysrbCl7dmFyIHM9YVtsXTtpZihzLm1hcmtlci5jb2xsYXBzZWQpe3ZhciBjPXMubWFya2VyLmZpbmQoMCksdT1fbyhjLmZyb20sbil8fGZyKHMubWFya2VyKS1mcihpKSxmPV9vKGMudG8scil8fGhyKHMubWFya2VyKS1ocihpKTtpZighKHU+PTAmJjA+PWZ8fDA+PXUmJmY+PTApJiYoMD49dSYmKHMubWFya2VyLmluY2x1c2l2ZVJpZ2h0JiZpLmluY2x1c2l2ZUxlZnQ/X28oYy50byxuKT49MDpfbyhjLnRvLG4pPjApfHx1Pj0wJiYocy5tYXJrZXIuaW5jbHVzaXZlUmlnaHQmJmkuaW5jbHVzaXZlTGVmdD9fbyhjLmZyb20scik8PTA6X28oYy5mcm9tLHIpPDApKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHlyKGUpe2Zvcih2YXIgdDt0PW1yKGUpOyllPXQuZmluZCgtMSwhMCkubGluZTtyZXR1cm4gZX1mdW5jdGlvbiB4cihlKXtmb3IodmFyIHQsbjt0PWdyKGUpOyllPXQuZmluZCgxLCEwKS5saW5lLChufHwobj1bXSkpLnB1c2goZSk7cmV0dXJuIG59ZnVuY3Rpb24gYnIoZSx0KXt2YXIgbj1acihlLHQpLHI9eXIobik7cmV0dXJuIG49PXI/dDp0aShyKX1mdW5jdGlvbiB3cihlLHQpe2lmKHQ+ZS5sYXN0TGluZSgpKXJldHVybiB0O3ZhciBuLHI9WnIoZSx0KTtpZigha3IoZSxyKSlyZXR1cm4gdDtmb3IoO249Z3Iocik7KXI9bi5maW5kKDEsITApLmxpbmU7cmV0dXJuIHRpKHIpKzF9ZnVuY3Rpb24ga3IoZSx0KXt2YXIgbj1XbyYmdC5tYXJrZWRTcGFucztpZihuKWZvcih2YXIgcixpPTA7aTxuLmxlbmd0aDsrK2kpaWYocj1uW2ldLHIubWFya2VyLmNvbGxhcHNlZCl7aWYobnVsbD09ci5mcm9tKXJldHVybiEwO2lmKCFyLm1hcmtlci53aWRnZXROb2RlJiYwPT1yLmZyb20mJnIubWFya2VyLmluY2x1c2l2ZUxlZnQmJlNyKGUsdCxyKSlyZXR1cm4hMH19ZnVuY3Rpb24gU3IoZSx0LG4pe2lmKG51bGw9PW4udG8pe3ZhciByPW4ubWFya2VyLmZpbmQoMSwhMCk7cmV0dXJuIFNyKGUsci5saW5lLGVyKHIubGluZS5tYXJrZWRTcGFucyxuLm1hcmtlcikpfWlmKG4ubWFya2VyLmluY2x1c2l2ZVJpZ2h0JiZuLnRvPT10LnRleHQubGVuZ3RoKXJldHVybiEwO2Zvcih2YXIgaSxvPTA7bzx0Lm1hcmtlZFNwYW5zLmxlbmd0aDsrK28paWYoaT10Lm1hcmtlZFNwYW5zW29dLGkubWFya2VyLmNvbGxhcHNlZCYmIWkubWFya2VyLndpZGdldE5vZGUmJmkuZnJvbT09bi50byYmKG51bGw9PWkudG98fGkudG8hPW4uZnJvbSkmJihpLm1hcmtlci5pbmNsdXNpdmVMZWZ0fHxuLm1hcmtlci5pbmNsdXNpdmVSaWdodCkmJlNyKGUsdCxpKSlyZXR1cm4hMH1mdW5jdGlvbiBDcihlLHQsbil7cmkodCk8KGUuY3VyT3AmJmUuY3VyT3Auc2Nyb2xsVG9wfHxlLmRvYy5zY3JvbGxUb3ApJiZXbihlLG51bGwsbil9ZnVuY3Rpb24gTHIoZSl7aWYobnVsbCE9ZS5oZWlnaHQpcmV0dXJuIGUuaGVpZ2h0O3ZhciB0PWUuZG9jLmNtO2lmKCF0KXJldHVybiAwO2lmKCFWYShkb2N1bWVudC5ib2R5LGUubm9kZSkpe3ZhciBuPSJwb3NpdGlvbjogcmVsYXRpdmU7IjtlLmNvdmVyR3V0dGVyJiYobis9Im1hcmdpbi1sZWZ0OiAtIit0LmRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCsicHg7IiksZS5ub0hTY3JvbGwmJihuKz0id2lkdGg6ICIrdC5kaXNwbGF5LndyYXBwZXIuY2xpZW50V2lkdGgrInB4OyIpLHFpKHQuZGlzcGxheS5tZWFzdXJlLGppKCJkaXYiLFtlLm5vZGVdLG51bGwsbikpfXJldHVybiBlLmhlaWdodD1lLm5vZGUucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHR9ZnVuY3Rpb24gVHIoZSx0LG4scil7dmFyIGk9bmV3IHhhKGUsbixyKSxvPWUuY207cmV0dXJuIG8mJmkubm9IU2Nyb2xsJiYoby5kaXNwbGF5LmFsaWduV2lkZ2V0cz0hMCksem4oZSx0LCJ3aWRnZXQiLGZ1bmN0aW9uKHQpe3ZhciBuPXQud2lkZ2V0c3x8KHQud2lkZ2V0cz1bXSk7aWYobnVsbD09aS5pbnNlcnRBdD9uLnB1c2goaSk6bi5zcGxpY2UoTWF0aC5taW4obi5sZW5ndGgtMSxNYXRoLm1heCgwLGkuaW5zZXJ0QXQpKSwwLGkpLGkubGluZT10LG8mJiFrcihlLHQpKXt2YXIgcj1yaSh0KTxlLnNjcm9sbFRvcDtlaSh0LHQuaGVpZ2h0K0xyKGkpKSxyJiZXbihvLG51bGwsaS5oZWlnaHQpLG8uY3VyT3AuZm9yY2VVcGRhdGU9ITB9cmV0dXJuITB9KSxpfWZ1bmN0aW9uIE1yKGUsdCxuLHIpe2UudGV4dD10LGUuc3RhdGVBZnRlciYmKGUuc3RhdGVBZnRlcj1udWxsKSxlLnN0eWxlcyYmKGUuc3R5bGVzPW51bGwpLG51bGwhPWUub3JkZXImJihlLm9yZGVyPW51bGwpLGNyKGUpLHVyKGUsbik7dmFyIGk9cj9yKGUpOjE7aSE9ZS5oZWlnaHQmJmVpKGUsaSl9ZnVuY3Rpb24gTnIoZSl7ZS5wYXJlbnQ9bnVsbCxjcihlKX1mdW5jdGlvbiBBcihlLHQpe2lmKGUpZm9yKDs7KXt2YXIgbj1lLm1hdGNoKC8oPzpefFxzKylsaW5lLShiYWNrZ3JvdW5kLSk/KFxTKykvKTtpZighbilicmVhaztlPWUuc2xpY2UoMCxuLmluZGV4KStlLnNsaWNlKG4uaW5kZXgrblswXS5sZW5ndGgpO3ZhciByPW5bMV0/ImJnQ2xhc3MiOiJ0ZXh0Q2xhc3MiO251bGw9PXRbcl0/dFtyXT1uWzJdOm5ldyBSZWdFeHAoIig/Ol58cykiK25bMl0rIig/OiR8cykiKS50ZXN0KHRbcl0pfHwodFtyXSs9IiAiK25bMl0pfXJldHVybiBlfWZ1bmN0aW9uIEVyKHQsbil7aWYodC5ibGFua0xpbmUpcmV0dXJuIHQuYmxhbmtMaW5lKG4pO2lmKHQuaW5uZXJNb2RlKXt2YXIgcj1lLmlubmVyTW9kZSh0LG4pO3JldHVybiByLm1vZGUuYmxhbmtMaW5lP3IubW9kZS5ibGFua0xpbmUoci5zdGF0ZSk6dm9pZCAwfX1mdW5jdGlvbiBPcih0LG4scixpKXtmb3IodmFyIG89MDsxMD5vO28rKyl7aSYmKGlbMF09ZS5pbm5lck1vZGUodCxyKS5tb2RlKTt2YXIgYT10LnRva2VuKG4scik7aWYobi5wb3M+bi5zdGFydClyZXR1cm4gYX10aHJvdyBuZXcgRXJyb3IoIk1vZGUgIit0Lm5hbWUrIiBmYWlsZWQgdG8gYWR2YW5jZSBzdHJlYW0uIil9ZnVuY3Rpb24gSXIoZSx0LG4scil7ZnVuY3Rpb24gaShlKXtyZXR1cm57c3RhcnQ6Zi5zdGFydCxlbmQ6Zi5wb3Msc3RyaW5nOmYuY3VycmVudCgpLHR5cGU6b3x8bnVsbCxzdGF0ZTplP3NhKGEubW9kZSx1KTp1fX12YXIgbyxhPWUuZG9jLGw9YS5tb2RlO3Q9bWUoYSx0KTt2YXIgcyxjPVpyKGEsdC5saW5lKSx1PWplKGUsdC5saW5lLG4pLGY9bmV3IG1hKGMudGV4dCxlLm9wdGlvbnMudGFiU2l6ZSk7Zm9yKHImJihzPVtdKTsocnx8Zi5wb3M8dC5jaCkmJiFmLmVvbCgpOylmLnN0YXJ0PWYucG9zLG89T3IobCxmLHUpLHImJnMucHVzaChpKCEwKSk7cmV0dXJuIHI/czppKCl9ZnVuY3Rpb24gUHIoZSx0LG4scixpLG8sYSl7dmFyIGw9bi5mbGF0dGVuU3BhbnM7bnVsbD09bCYmKGw9ZS5vcHRpb25zLmZsYXR0ZW5TcGFucyk7dmFyIHMsYz0wLHU9bnVsbCxmPW5ldyBtYSh0LGUub3B0aW9ucy50YWJTaXplKSxoPWUub3B0aW9ucy5hZGRNb2RlQ2xhc3MmJltudWxsXTtmb3IoIiI9PXQmJkFyKEVyKG4sciksbyk7IWYuZW9sKCk7KXtpZihmLnBvcz5lLm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoPyhsPSExLGEmJkhyKGUsdCxyLGYucG9zKSxmLnBvcz10Lmxlbmd0aCxzPW51bGwpOnM9QXIoT3IobixmLHIsaCksbyksaCl7dmFyIGQ9aFswXS5uYW1lO2QmJihzPSJtLSIrKHM/ZCsiICIrczpkKSl9aWYoIWx8fHUhPXMpe2Zvcig7YzxmLnN0YXJ0OyljPU1hdGgubWluKGYuc3RhcnQsYys1ZTQpLGkoYyx1KTt1PXN9Zi5zdGFydD1mLnBvc31mb3IoO2M8Zi5wb3M7KXt2YXIgcD1NYXRoLm1pbihmLnBvcyxjKzVlNCk7aShwLHUpLGM9cH19ZnVuY3Rpb24gUnIoZSx0LG4scil7dmFyIGk9W2Uuc3RhdGUubW9kZUdlbl0sbz17fTtQcihlLHQudGV4dCxlLmRvYy5tb2RlLG4sZnVuY3Rpb24oZSx0KXtpLnB1c2goZSx0KX0sbyxyKTtmb3IodmFyIGE9MDthPGUuc3RhdGUub3ZlcmxheXMubGVuZ3RoOysrYSl7dmFyIGw9ZS5zdGF0ZS5vdmVybGF5c1thXSxzPTEsYz0wO1ByKGUsdC50ZXh0LGwubW9kZSwhMCxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1zO2U+Yzspe3ZhciByPWlbc107cj5lJiZpLnNwbGljZShzLDEsZSxpW3MrMV0scikscys9MixjPU1hdGgubWluKGUscil9aWYodClpZihsLm9wYXF1ZSlpLnNwbGljZShuLHMtbixlLCJjbS1vdmVybGF5ICIrdCkscz1uKzI7ZWxzZSBmb3IoO3M+bjtuKz0yKXt2YXIgbz1pW24rMV07aVtuKzFdPShvP28rIiAiOiIiKSsiY20tb3ZlcmxheSAiK3R9fSxvKX1yZXR1cm57c3R5bGVzOmksY2xhc3NlczpvLmJnQ2xhc3N8fG8udGV4dENsYXNzP286bnVsbH19ZnVuY3Rpb24gRHIoZSx0LG4pe2lmKCF0LnN0eWxlc3x8dC5zdHlsZXNbMF0hPWUuc3RhdGUubW9kZUdlbil7dmFyIHI9amUoZSx0aSh0KSksaT1ScihlLHQsdC50ZXh0Lmxlbmd0aD5lLm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoP3NhKGUuZG9jLm1vZGUscik6cik7dC5zdGF0ZUFmdGVyPXIsdC5zdHlsZXM9aS5zdHlsZXMsaS5jbGFzc2VzP3Quc3R5bGVDbGFzc2VzPWkuY2xhc3Nlczp0LnN0eWxlQ2xhc3NlcyYmKHQuc3R5bGVDbGFzc2VzPW51bGwpLG49PT1lLmRvYy5mcm9udGllciYmZS5kb2MuZnJvbnRpZXIrK31yZXR1cm4gdC5zdHlsZXN9ZnVuY3Rpb24gSHIoZSx0LG4scil7dmFyIGk9ZS5kb2MubW9kZSxvPW5ldyBtYSh0LGUub3B0aW9ucy50YWJTaXplKTtmb3Ioby5zdGFydD1vLnBvcz1yfHwwLCIiPT10JiZFcihpLG4pOyFvLmVvbCgpOylPcihpLG8sbiksby5zdGFydD1vLnBvc31mdW5jdGlvbiBXcihlLHQpe2lmKCFlfHwvXlxzKiQvLnRlc3QoZSkpcmV0dXJuIG51bGw7dmFyIG49dC5hZGRNb2RlQ2xhc3M/a2E6d2E7cmV0dXJuIG5bZV18fChuW2VdPWUucmVwbGFjZSgvXFMrL2csImNtLSQmIikpfWZ1bmN0aW9uIEJyKGUsdCl7dmFyIG49amkoInNwYW4iLG51bGwsbnVsbCx3bz8icGFkZGluZy1yaWdodDogLjFweCI6bnVsbCkscj17cHJlOmppKCJwcmUiLFtuXSwiQ29kZU1pcnJvci1saW5lIiksY29udGVudDpuLGNvbDowLHBvczowLGNtOmUsc3BsaXRTcGFjZXM6KHhvfHx3bykmJmUuZ2V0T3B0aW9uKCJsaW5lV3JhcHBpbmciKX07dC5tZWFzdXJlPXt9O2Zvcih2YXIgaT0wO2k8PSh0LnJlc3Q/dC5yZXN0Lmxlbmd0aDowKTtpKyspe3ZhciBvLGE9aT90LnJlc3RbaS0xXTp0LmxpbmU7ci5wb3M9MCxyLmFkZFRva2VuPUZyLEppKGUuZGlzcGxheS5tZWFzdXJlKSYmKG89aWkoYSkpJiYoci5hZGRUb2tlbj1qcihyLmFkZFRva2VuLG8pKSxyLm1hcD1bXTt2YXIgbD10IT1lLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCYmdGkoYSk7cXIoYSxyLERyKGUsYSxsKSksYS5zdHlsZUNsYXNzZXMmJihhLnN0eWxlQ2xhc3Nlcy5iZ0NsYXNzJiYoci5iZ0NsYXNzPSRpKGEuc3R5bGVDbGFzc2VzLmJnQ2xhc3Msci5iZ0NsYXNzfHwiIikpLGEuc3R5bGVDbGFzc2VzLnRleHRDbGFzcyYmKHIudGV4dENsYXNzPSRpKGEuc3R5bGVDbGFzc2VzLnRleHRDbGFzcyxyLnRleHRDbGFzc3x8IiIpKSksMD09ci5tYXAubGVuZ3RoJiZyLm1hcC5wdXNoKDAsMCxyLmNvbnRlbnQuYXBwZW5kQ2hpbGQoWmkoZS5kaXNwbGF5Lm1lYXN1cmUpKSksMD09aT8odC5tZWFzdXJlLm1hcD1yLm1hcCx0Lm1lYXN1cmUuY2FjaGU9e30pOigodC5tZWFzdXJlLm1hcHN8fCh0Lm1lYXN1cmUubWFwcz1bXSkpLnB1c2goci5tYXApLCh0Lm1lYXN1cmUuY2FjaGVzfHwodC5tZWFzdXJlLmNhY2hlcz1bXSkpLnB1c2goe30pKX1pZih3byl7dmFyIHM9ci5jb250ZW50Lmxhc3RDaGlsZDsoL1xiY20tdGFiXGIvLnRlc3Qocy5jbGFzc05hbWUpfHxzLnF1ZXJ5U2VsZWN0b3ImJnMucXVlcnlTZWxlY3RvcigiLmNtLXRhYiIpKSYmKHIuY29udGVudC5jbGFzc05hbWU9ImNtLXRhYi13cmFwLWhhY2siKX1yZXR1cm4gUGEoZSwicmVuZGVyTGluZSIsZSx0LmxpbmUsci5wcmUpLHIucHJlLmNsYXNzTmFtZSYmKHIudGV4dENsYXNzPSRpKHIucHJlLmNsYXNzTmFtZSxyLnRleHRDbGFzc3x8IiIpKSxyfWZ1bmN0aW9uIF9yKGUpe3ZhciB0PWppKCJzcGFuIiwi4oCiIiwiY20taW52YWxpZGNoYXIiKTtyZXR1cm4gdC50aXRsZT0iXFx1IitlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLHQuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIix0LnRpdGxlKSx0fWZ1bmN0aW9uIEZyKGUsdCxuLHIsaSxvLGEpe2lmKHQpe3ZhciBsPWUuc3BsaXRTcGFjZXM/dC5yZXBsYWNlKC8gezMsfS9nLHpyKTp0LHM9ZS5jbS5zdGF0ZS5zcGVjaWFsQ2hhcnMsYz0hMTtpZihzLnRlc3QodCkpZm9yKHZhciB1PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxmPTA7Oyl7cy5sYXN0SW5kZXg9Zjt2YXIgaD1zLmV4ZWModCksZD1oP2guaW5kZXgtZjp0Lmxlbmd0aC1mO2lmKGQpe3ZhciBwPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGwuc2xpY2UoZixmK2QpKTt4byYmOT5ibz91LmFwcGVuZENoaWxkKGppKCJzcGFuIixbcF0pKTp1LmFwcGVuZENoaWxkKHApLGUubWFwLnB1c2goZS5wb3MsZS5wb3MrZCxwKSxlLmNvbCs9ZCxlLnBvcys9ZH1pZighaClicmVhaztpZihmKz1kKzEsIgkiPT1oWzBdKXt2YXIgbT1lLmNtLm9wdGlvbnMudGFiU2l6ZSxnPW0tZS5jb2wlbSxwPXUuYXBwZW5kQ2hpbGQoamkoInNwYW4iLE9pKGcpLCJjbS10YWIiKSk7cC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJwcmVzZW50YXRpb24iKSxwLnNldEF0dHJpYnV0ZSgiY20tdGV4dCIsIgkiKSxlLmNvbCs9Z31lbHNlIGlmKCJcciI9PWhbMF18fCJcbiI9PWhbMF0pe3ZhciBwPXUuYXBwZW5kQ2hpbGQoamkoInNwYW4iLCJcciI9PWhbMF0/IuKQjSI6IuKQpCIsImNtLWludmFsaWRjaGFyIikpO3Auc2V0QXR0cmlidXRlKCJjbS10ZXh0IixoWzBdKSxlLmNvbCs9MX1lbHNle3ZhciBwPWUuY20ub3B0aW9ucy5zcGVjaWFsQ2hhclBsYWNlaG9sZGVyKGhbMF0pO3Auc2V0QXR0cmlidXRlKCJjbS10ZXh0IixoWzBdKSx4byYmOT5ibz91LmFwcGVuZENoaWxkKGppKCJzcGFuIixbcF0pKTp1LmFwcGVuZENoaWxkKHApLGUuY29sKz0xfWUubWFwLnB1c2goZS5wb3MsZS5wb3MrMSxwKSxlLnBvcysrfWVsc2V7ZS5jb2wrPXQubGVuZ3RoO3ZhciB1PWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGwpO2UubWFwLnB1c2goZS5wb3MsZS5wb3MrdC5sZW5ndGgsdSkseG8mJjk+Ym8mJihjPSEwKSxlLnBvcys9dC5sZW5ndGh9aWYobnx8cnx8aXx8Y3x8YSl7dmFyIHY9bnx8IiI7ciYmKHYrPXIpLGkmJih2Kz1pKTt2YXIgeT1qaSgic3BhbiIsW3VdLHYsYSk7cmV0dXJuIG8mJih5LnRpdGxlPW8pLGUuY29udGVudC5hcHBlbmRDaGlsZCh5KX1lLmNvbnRlbnQuYXBwZW5kQ2hpbGQodSl9fWZ1bmN0aW9uIHpyKGUpe2Zvcih2YXIgdD0iICIsbj0wO248ZS5sZW5ndGgtMjsrK24pdCs9biUyPyIgIjoiwqAiO3JldHVybiB0Kz0iICJ9ZnVuY3Rpb24ganIoZSx0KXtyZXR1cm4gZnVuY3Rpb24obixyLGksbyxhLGwscyl7aT1pP2krIiBjbS1mb3JjZS1ib3JkZXIiOiJjbS1mb3JjZS1ib3JkZXIiO2Zvcih2YXIgYz1uLnBvcyx1PWMrci5sZW5ndGg7Oyl7Zm9yKHZhciBmPTA7Zjx0Lmxlbmd0aDtmKyspe3ZhciBoPXRbZl07aWYoaC50bz5jJiZoLmZyb208PWMpYnJlYWt9aWYoaC50bz49dSlyZXR1cm4gZShuLHIsaSxvLGEsbCxzKTtlKG4sci5zbGljZSgwLGgudG8tYyksaSxvLG51bGwsbCxzKSxvPW51bGwscj1yLnNsaWNlKGgudG8tYyksYz1oLnRvfX19ZnVuY3Rpb24gVXIoZSx0LG4scil7dmFyIGk9IXImJm4ud2lkZ2V0Tm9kZTtpJiZlLm1hcC5wdXNoKGUucG9zLGUucG9zK3QsaSksIXImJmUuY20uZGlzcGxheS5pbnB1dC5uZWVkc0NvbnRlbnRBdHRyaWJ1dGUmJihpfHwoaT1lLmNvbnRlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpKSksaS5zZXRBdHRyaWJ1dGUoImNtLW1hcmtlciIsbi5pZCkpLGkmJihlLmNtLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShpKSxlLmNvbnRlbnQuYXBwZW5kQ2hpbGQoaSkpLGUucG9zKz10fWZ1bmN0aW9uIHFyKGUsdCxuKXt2YXIgcj1lLm1hcmtlZFNwYW5zLGk9ZS50ZXh0LG89MDtpZihyKWZvcih2YXIgYSxsLHMsYyx1LGYsaCxkPWkubGVuZ3RoLHA9MCxtPTEsZz0iIix2PTA7Oyl7aWYodj09cCl7cz1jPXU9Zj1sPSIiLGg9bnVsbCx2PTEvMDtmb3IodmFyIHkseD1bXSxiPTA7YjxyLmxlbmd0aDsrK2Ipe3ZhciB3PXJbYl0saz13Lm1hcmtlcjsiYm9va21hcmsiPT1rLnR5cGUmJncuZnJvbT09cCYmay53aWRnZXROb2RlP3gucHVzaChrKTp3LmZyb208PXAmJihudWxsPT13LnRvfHx3LnRvPnB8fGsuY29sbGFwc2VkJiZ3LnRvPT1wJiZ3LmZyb209PXApPyhudWxsIT13LnRvJiZ3LnRvIT1wJiZ2PncudG8mJih2PXcudG8sYz0iIiksay5jbGFzc05hbWUmJihzKz0iICIray5jbGFzc05hbWUpLGsuY3NzJiYobD0obD9sKyI7IjoiIikray5jc3MpLGsuc3RhcnRTdHlsZSYmdy5mcm9tPT1wJiYodSs9IiAiK2suc3RhcnRTdHlsZSksay5lbmRTdHlsZSYmdy50bz09diYmKHl8fCh5PVtdKSkucHVzaChrLmVuZFN0eWxlLHcudG8pLGsudGl0bGUmJiFmJiYoZj1rLnRpdGxlKSxrLmNvbGxhcHNlZCYmKCFofHxkcihoLm1hcmtlcixrKTwwKSYmKGg9dykpOncuZnJvbT5wJiZ2PncuZnJvbSYmKHY9dy5mcm9tKX1pZih5KWZvcih2YXIgYj0wO2I8eS5sZW5ndGg7Yis9Mil5W2IrMV09PXYmJihjKz0iICIreVtiXSk7aWYoIWh8fGguZnJvbT09cClmb3IodmFyIGI9MDtiPHgubGVuZ3RoOysrYilVcih0LDAseFtiXSk7aWYoaCYmKGguZnJvbXx8MCk9PXApe2lmKFVyKHQsKG51bGw9PWgudG8/ZCsxOmgudG8pLXAsaC5tYXJrZXIsbnVsbD09aC5mcm9tKSxudWxsPT1oLnRvKXJldHVybjtoLnRvPT1wJiYoaD0hMSl9fWlmKHA+PWQpYnJlYWs7Zm9yKHZhciBTPU1hdGgubWluKGQsdik7Oyl7aWYoZyl7dmFyIEM9cCtnLmxlbmd0aDtpZighaCl7dmFyIEw9Qz5TP2cuc2xpY2UoMCxTLXApOmc7dC5hZGRUb2tlbih0LEwsYT9hK3M6cyx1LHArTC5sZW5ndGg9PXY/YzoiIixmLGwpfWlmKEM+PVMpe2c9Zy5zbGljZShTLXApLHA9UzticmVha31wPUMsdT0iIn1nPWkuc2xpY2UobyxvPW5bbSsrXSksYT1XcihuW20rK10sdC5jbS5vcHRpb25zKX19ZWxzZSBmb3IodmFyIG09MTttPG4ubGVuZ3RoO20rPTIpdC5hZGRUb2tlbih0LGkuc2xpY2UobyxvPW5bbV0pLFdyKG5bbSsxXSx0LmNtLm9wdGlvbnMpKX1mdW5jdGlvbiBHcihlLHQpe3JldHVybiAwPT10LmZyb20uY2gmJjA9PXQudG8uY2gmJiIiPT1JaSh0LnRleHQpJiYoIWUuY218fGUuY20ub3B0aW9ucy53aG9sZUxpbmVVcGRhdGVCZWZvcmUpfWZ1bmN0aW9uIFlyKGUsdCxuLHIpe2Z1bmN0aW9uIGkoZSl7cmV0dXJuIG4/bltlXTpudWxsfWZ1bmN0aW9uIG8oZSxuLGkpe01yKGUsbixpLHIpLENpKGUsImNoYW5nZSIsZSx0KX1mdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciBuPWUsbz1bXTt0Pm47KytuKW8ucHVzaChuZXcgYmEoY1tuXSxpKG4pLHIpKTtyZXR1cm4gb312YXIgbD10LmZyb20scz10LnRvLGM9dC50ZXh0LHU9WnIoZSxsLmxpbmUpLGY9WnIoZSxzLmxpbmUpLGg9SWkoYyksZD1pKGMubGVuZ3RoLTEpLHA9cy5saW5lLWwubGluZTtpZih0LmZ1bGwpZS5pbnNlcnQoMCxhKDAsYy5sZW5ndGgpKSxlLnJlbW92ZShjLmxlbmd0aCxlLnNpemUtYy5sZW5ndGgpO2Vsc2UgaWYoR3IoZSx0KSl7dmFyIG09YSgwLGMubGVuZ3RoLTEpO28oZixmLnRleHQsZCkscCYmZS5yZW1vdmUobC5saW5lLHApLG0ubGVuZ3RoJiZlLmluc2VydChsLmxpbmUsbSl9ZWxzZSBpZih1PT1mKWlmKDE9PWMubGVuZ3RoKW8odSx1LnRleHQuc2xpY2UoMCxsLmNoKStoK3UudGV4dC5zbGljZShzLmNoKSxkKTtlbHNle3ZhciBtPWEoMSxjLmxlbmd0aC0xKTttLnB1c2gobmV3IGJhKGgrdS50ZXh0LnNsaWNlKHMuY2gpLGQscikpLG8odSx1LnRleHQuc2xpY2UoMCxsLmNoKStjWzBdLGkoMCkpLGUuaW5zZXJ0KGwubGluZSsxLG0pfWVsc2UgaWYoMT09Yy5sZW5ndGgpbyh1LHUudGV4dC5zbGljZSgwLGwuY2gpK2NbMF0rZi50ZXh0LnNsaWNlKHMuY2gpLGkoMCkpLGUucmVtb3ZlKGwubGluZSsxLHApO2Vsc2V7byh1LHUudGV4dC5zbGljZSgwLGwuY2gpK2NbMF0saSgwKSksbyhmLGgrZi50ZXh0LnNsaWNlKHMuY2gpLGQpO3ZhciBtPWEoMSxjLmxlbmd0aC0xKTtwPjEmJmUucmVtb3ZlKGwubGluZSsxLHAtMSksZS5pbnNlcnQobC5saW5lKzEsbSl9Q2koZSwiY2hhbmdlIixlLHQpfWZ1bmN0aW9uICRyKGUpe3RoaXMubGluZXM9ZSx0aGlzLnBhcmVudD1udWxsO2Zvcih2YXIgdD0wLG49MDt0PGUubGVuZ3RoOysrdCllW3RdLnBhcmVudD10aGlzLG4rPWVbdF0uaGVpZ2h0O3RoaXMuaGVpZ2h0PW59ZnVuY3Rpb24gVnIoZSl7dGhpcy5jaGlsZHJlbj1lO2Zvcih2YXIgdD0wLG49MCxyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBpPWVbcl07dCs9aS5jaHVua1NpemUoKSxuKz1pLmhlaWdodCxpLnBhcmVudD10aGlzfXRoaXMuc2l6ZT10LHRoaXMuaGVpZ2h0PW4sdGhpcy5wYXJlbnQ9bnVsbH1mdW5jdGlvbiBLcihlLHQsbil7ZnVuY3Rpb24gcihlLGksbyl7aWYoZS5saW5rZWQpZm9yKHZhciBhPTA7YTxlLmxpbmtlZC5sZW5ndGg7KythKXt2YXIgbD1lLmxpbmtlZFthXTtpZihsLmRvYyE9aSl7dmFyIHM9byYmbC5zaGFyZWRIaXN0O24mJiFzfHwodChsLmRvYyxzKSxyKGwuZG9jLGUscykpfX19cihlLG51bGwsITApfWZ1bmN0aW9uIFhyKGUsdCl7aWYodC5jbSl0aHJvdyBuZXcgRXJyb3IoIlRoaXMgZG9jdW1lbnQgaXMgYWxyZWFkeSBpbiB1c2UuIik7ZS5kb2M9dCx0LmNtPWUsYShlKSxuKGUpLGUub3B0aW9ucy5saW5lV3JhcHBpbmd8fGgoZSksZS5vcHRpb25zLm1vZGU9dC5tb2RlT3B0aW9uLER0KGUpfWZ1bmN0aW9uIFpyKGUsdCl7aWYodC09ZS5maXJzdCwwPnR8fHQ+PWUuc2l6ZSl0aHJvdyBuZXcgRXJyb3IoIlRoZXJlIGlzIG5vIGxpbmUgIisodCtlLmZpcnN0KSsiIGluIHRoZSBkb2N1bWVudC4iKTtmb3IodmFyIG49ZTshbi5saW5lczspZm9yKHZhciByPTA7Oysrcil7dmFyIGk9bi5jaGlsZHJlbltyXSxvPWkuY2h1bmtTaXplKCk7aWYobz50KXtuPWk7YnJlYWt9dC09b31yZXR1cm4gbi5saW5lc1t0XX1mdW5jdGlvbiBKcihlLHQsbil7dmFyIHI9W10saT10LmxpbmU7cmV0dXJuIGUuaXRlcih0LmxpbmUsbi5saW5lKzEsZnVuY3Rpb24oZSl7dmFyIG89ZS50ZXh0O2k9PW4ubGluZSYmKG89by5zbGljZSgwLG4uY2gpKSxpPT10LmxpbmUmJihvPW8uc2xpY2UodC5jaCkpLHIucHVzaChvKSwrK2l9KSxyfWZ1bmN0aW9uIFFyKGUsdCxuKXt2YXIgcj1bXTtyZXR1cm4gZS5pdGVyKHQsbixmdW5jdGlvbihlKXtyLnB1c2goZS50ZXh0KX0pLHJ9ZnVuY3Rpb24gZWkoZSx0KXt2YXIgbj10LWUuaGVpZ2h0O2lmKG4pZm9yKHZhciByPWU7cjtyPXIucGFyZW50KXIuaGVpZ2h0Kz1ufWZ1bmN0aW9uIHRpKGUpe2lmKG51bGw9PWUucGFyZW50KXJldHVybiBudWxsO2Zvcih2YXIgdD1lLnBhcmVudCxuPVBpKHQubGluZXMsZSkscj10LnBhcmVudDtyO3Q9cixyPXIucGFyZW50KWZvcih2YXIgaT0wO3IuY2hpbGRyZW5baV0hPXQ7KytpKW4rPXIuY2hpbGRyZW5baV0uY2h1bmtTaXplKCk7cmV0dXJuIG4rdC5maXJzdH1mdW5jdGlvbiBuaShlLHQpe3ZhciBuPWUuZmlyc3Q7ZTpkb3tmb3IodmFyIHI9MDtyPGUuY2hpbGRyZW4ubGVuZ3RoOysrcil7dmFyIGk9ZS5jaGlsZHJlbltyXSxvPWkuaGVpZ2h0O2lmKG8+dCl7ZT1pO2NvbnRpbnVlIGV9dC09byxuKz1pLmNodW5rU2l6ZSgpfXJldHVybiBufXdoaWxlKCFlLmxpbmVzKTtmb3IodmFyIHI9MDtyPGUubGluZXMubGVuZ3RoOysrcil7dmFyIGE9ZS5saW5lc1tyXSxsPWEuaGVpZ2h0O2lmKGw+dClicmVhazt0LT1sfXJldHVybiBuK3J9ZnVuY3Rpb24gcmkoZSl7ZT15cihlKTtmb3IodmFyIHQ9MCxuPWUucGFyZW50LHI9MDtyPG4ubGluZXMubGVuZ3RoOysrcil7dmFyIGk9bi5saW5lc1tyXTtpZihpPT1lKWJyZWFrO3QrPWkuaGVpZ2h0fWZvcih2YXIgbz1uLnBhcmVudDtvO249byxvPW4ucGFyZW50KWZvcih2YXIgcj0wO3I8by5jaGlsZHJlbi5sZW5ndGg7KytyKXt2YXIgYT1vLmNoaWxkcmVuW3JdO2lmKGE9PW4pYnJlYWs7dCs9YS5oZWlnaHR9cmV0dXJuIHR9ZnVuY3Rpb24gaWkoZSl7dmFyIHQ9ZS5vcmRlcjtyZXR1cm4gbnVsbD09dCYmKHQ9ZS5vcmRlcj1sbChlLnRleHQpKSx0fWZ1bmN0aW9uIG9pKGUpe3RoaXMuZG9uZT1bXSx0aGlzLnVuZG9uZT1bXSx0aGlzLnVuZG9EZXB0aD0xLzAsdGhpcy5sYXN0TW9kVGltZT10aGlzLmxhc3RTZWxUaW1lPTAsdGhpcy5sYXN0T3A9dGhpcy5sYXN0U2VsT3A9bnVsbCx0aGlzLmxhc3RPcmlnaW49dGhpcy5sYXN0U2VsT3JpZ2luPW51bGwsdGhpcy5nZW5lcmF0aW9uPXRoaXMubWF4R2VuZXJhdGlvbj1lfHwxfWZ1bmN0aW9uIGFpKGUsdCl7dmFyIG49e2Zyb206JCh0LmZyb20pLHRvOlFvKHQpLHRleHQ6SnIoZSx0LmZyb20sdC50byl9O3JldHVybiBkaShlLG4sdC5mcm9tLmxpbmUsdC50by5saW5lKzEpLEtyKGUsZnVuY3Rpb24oZSl7ZGkoZSxuLHQuZnJvbS5saW5lLHQudG8ubGluZSsxKX0sITApLG59ZnVuY3Rpb24gbGkoZSl7Zm9yKDtlLmxlbmd0aDspe3ZhciB0PUlpKGUpO2lmKCF0LnJhbmdlcylicmVhaztlLnBvcCgpfX1mdW5jdGlvbiBzaShlLHQpe3JldHVybiB0PyhsaShlLmRvbmUpLElpKGUuZG9uZSkpOmUuZG9uZS5sZW5ndGgmJiFJaShlLmRvbmUpLnJhbmdlcz9JaShlLmRvbmUpOmUuZG9uZS5sZW5ndGg+MSYmIWUuZG9uZVtlLmRvbmUubGVuZ3RoLTJdLnJhbmdlcz8oZS5kb25lLnBvcCgpLElpKGUuZG9uZSkpOnZvaWQgMH1mdW5jdGlvbiBjaShlLHQsbixyKXt2YXIgaT1lLmhpc3Rvcnk7aS51bmRvbmUubGVuZ3RoPTA7dmFyIG8sYT0rbmV3IERhdGU7aWYoKGkubGFzdE9wPT1yfHxpLmxhc3RPcmlnaW49PXQub3JpZ2luJiZ0Lm9yaWdpbiYmKCIrIj09dC5vcmlnaW4uY2hhckF0KDApJiZlLmNtJiZpLmxhc3RNb2RUaW1lPmEtZS5jbS5vcHRpb25zLmhpc3RvcnlFdmVudERlbGF5fHwiKiI9PXQub3JpZ2luLmNoYXJBdCgwKSkpJiYobz1zaShpLGkubGFzdE9wPT1yKSkpe3ZhciBsPUlpKG8uY2hhbmdlcyk7MD09X28odC5mcm9tLHQudG8pJiYwPT1fbyh0LmZyb20sbC50byk/bC50bz1Rbyh0KTpvLmNoYW5nZXMucHVzaChhaShlLHQpKX1lbHNle3ZhciBzPUlpKGkuZG9uZSk7Zm9yKHMmJnMucmFuZ2VzfHxoaShlLnNlbCxpLmRvbmUpLG89e2NoYW5nZXM6W2FpKGUsdCldLGdlbmVyYXRpb246aS5nZW5lcmF0aW9ufSxpLmRvbmUucHVzaChvKTtpLmRvbmUubGVuZ3RoPmkudW5kb0RlcHRoOylpLmRvbmUuc2hpZnQoKSxpLmRvbmVbMF0ucmFuZ2VzfHxpLmRvbmUuc2hpZnQoKX1pLmRvbmUucHVzaChuKSxpLmdlbmVyYXRpb249KytpLm1heEdlbmVyYXRpb24saS5sYXN0TW9kVGltZT1pLmxhc3RTZWxUaW1lPWEsaS5sYXN0T3A9aS5sYXN0U2VsT3A9cixpLmxhc3RPcmlnaW49aS5sYXN0U2VsT3JpZ2luPXQub3JpZ2luLGx8fFBhKGUsImhpc3RvcnlBZGRlZCIpfWZ1bmN0aW9uIHVpKGUsdCxuLHIpe3ZhciBpPXQuY2hhckF0KDApO3JldHVybiIqIj09aXx8IisiPT1pJiZuLnJhbmdlcy5sZW5ndGg9PXIucmFuZ2VzLmxlbmd0aCYmbi5zb21ldGhpbmdTZWxlY3RlZCgpPT1yLnNvbWV0aGluZ1NlbGVjdGVkKCkmJm5ldyBEYXRlLWUuaGlzdG9yeS5sYXN0U2VsVGltZTw9KGUuY20/ZS5jbS5vcHRpb25zLmhpc3RvcnlFdmVudERlbGF5OjUwMCl9ZnVuY3Rpb24gZmkoZSx0LG4scil7dmFyIGk9ZS5oaXN0b3J5LG89ciYmci5vcmlnaW47bj09aS5sYXN0U2VsT3B8fG8mJmkubGFzdFNlbE9yaWdpbj09byYmKGkubGFzdE1vZFRpbWU9PWkubGFzdFNlbFRpbWUmJmkubGFzdE9yaWdpbj09b3x8dWkoZSxvLElpKGkuZG9uZSksdCkpP2kuZG9uZVtpLmRvbmUubGVuZ3RoLTFdPXQ6aGkodCxpLmRvbmUpLGkubGFzdFNlbFRpbWU9K25ldyBEYXRlLGkubGFzdFNlbE9yaWdpbj1vLGkubGFzdFNlbE9wPW4sciYmci5jbGVhclJlZG8hPT0hMSYmbGkoaS51bmRvbmUpfWZ1bmN0aW9uIGhpKGUsdCl7dmFyIG49SWkodCk7biYmbi5yYW5nZXMmJm4uZXF1YWxzKGUpfHx0LnB1c2goZSl9ZnVuY3Rpb24gZGkoZSx0LG4scil7dmFyIGk9dFsic3BhbnNfIitlLmlkXSxvPTA7ZS5pdGVyKE1hdGgubWF4KGUuZmlyc3QsbiksTWF0aC5taW4oZS5maXJzdCtlLnNpemUsciksZnVuY3Rpb24obil7bi5tYXJrZWRTcGFucyYmKChpfHwoaT10WyJzcGFuc18iK2UuaWRdPXt9KSlbb109bi5tYXJrZWRTcGFucyksKytvfSl9ZnVuY3Rpb24gcGkoZSl7aWYoIWUpcmV0dXJuIG51bGw7Zm9yKHZhciB0LG49MDtuPGUubGVuZ3RoOysrbillW25dLm1hcmtlci5leHBsaWNpdGx5Q2xlYXJlZD90fHwodD1lLnNsaWNlKDAsbikpOnQmJnQucHVzaChlW25dKTtyZXR1cm4gdD90Lmxlbmd0aD90Om51bGw6ZX1mdW5jdGlvbiBtaShlLHQpe3ZhciBuPXRbInNwYW5zXyIrZS5pZF07aWYoIW4pcmV0dXJuIG51bGw7Zm9yKHZhciByPTAsaT1bXTtyPHQudGV4dC5sZW5ndGg7KytyKWkucHVzaChwaShuW3JdKSk7cmV0dXJuIGl9ZnVuY3Rpb24gZ2koZSx0LG4pe2Zvcih2YXIgcj0wLGk9W107cjxlLmxlbmd0aDsrK3Ipe3ZhciBvPWVbcl07aWYoby5yYW5nZXMpaS5wdXNoKG4/dWUucHJvdG90eXBlLmRlZXBDb3B5LmNhbGwobyk6byk7ZWxzZXt2YXIgYT1vLmNoYW5nZXMsbD1bXTtpLnB1c2goe2NoYW5nZXM6bH0pO2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7KytzKXt2YXIgYyx1PWFbc107aWYobC5wdXNoKHtmcm9tOnUuZnJvbSx0bzp1LnRvLHRleHQ6dS50ZXh0fSksdClmb3IodmFyIGYgaW4gdSkoYz1mLm1hdGNoKC9ec3BhbnNfKFxkKykkLykpJiZQaSh0LE51bWJlcihjWzFdKSk+LTEmJihJaShsKVtmXT11W2ZdLGRlbGV0ZSB1W2ZdKX19fXJldHVybiBpfWZ1bmN0aW9uIHZpKGUsdCxuLHIpe248ZS5saW5lP2UubGluZSs9cjp0PGUubGluZSYmKGUubGluZT10LGUuY2g9MCl9ZnVuY3Rpb24geWkoZSx0LG4scil7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDsrK2kpe3ZhciBvPWVbaV0sYT0hMDtpZihvLnJhbmdlcyl7by5jb3BpZWR8fChvPWVbaV09by5kZWVwQ29weSgpLG8uY29waWVkPSEwKTtmb3IodmFyIGw9MDtsPG8ucmFuZ2VzLmxlbmd0aDtsKyspdmkoby5yYW5nZXNbbF0uYW5jaG9yLHQsbixyKSx2aShvLnJhbmdlc1tsXS5oZWFkLHQsbixyKX1lbHNle2Zvcih2YXIgbD0wO2w8by5jaGFuZ2VzLmxlbmd0aDsrK2wpe3ZhciBzPW8uY2hhbmdlc1tsXTtpZihuPHMuZnJvbS5saW5lKXMuZnJvbT1CbyhzLmZyb20ubGluZStyLHMuZnJvbS5jaCkscy50bz1CbyhzLnRvLmxpbmUrcixzLnRvLmNoKTtlbHNlIGlmKHQ8PXMudG8ubGluZSl7YT0hMTticmVha319YXx8KGUuc3BsaWNlKDAsaSsxKSxpPTApfX19ZnVuY3Rpb24geGkoZSx0KXt2YXIgbj10LmZyb20ubGluZSxyPXQudG8ubGluZSxpPXQudGV4dC5sZW5ndGgtKHItbiktMTt5aShlLmRvbmUsbixyLGkpLHlpKGUudW5kb25lLG4scixpKX1mdW5jdGlvbiBiaShlKXtyZXR1cm4gbnVsbCE9ZS5kZWZhdWx0UHJldmVudGVkP2UuZGVmYXVsdFByZXZlbnRlZDowPT1lLnJldHVyblZhbHVlfWZ1bmN0aW9uIHdpKGUpe3JldHVybiBlLnRhcmdldHx8ZS5zcmNFbGVtZW50fWZ1bmN0aW9uIGtpKGUpe3ZhciB0PWUud2hpY2g7cmV0dXJuIG51bGw9PXQmJigxJmUuYnV0dG9uP3Q9MToyJmUuYnV0dG9uP3Q9Mzo0JmUuYnV0dG9uJiYodD0yKSksRW8mJmUuY3RybEtleSYmMT09dCYmKHQ9MyksdH1mdW5jdGlvbiBTaShlLHQsbil7dmFyIHI9ZS5faGFuZGxlcnMmJmUuX2hhbmRsZXJzW3RdO3JldHVybiBuP3ImJnIubGVuZ3RoPjA/ci5zbGljZSgpOk9hOnJ8fE9hfWZ1bmN0aW9uIENpKGUsdCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtlLmFwcGx5KG51bGwsbyl9fXZhciByPVNpKGUsdCwhMSk7aWYoci5sZW5ndGgpe3ZhciBpLG89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO0dvP2k9R28uZGVsYXllZENhbGxiYWNrczpSYT9pPVJhOihpPVJhPVtdLHNldFRpbWVvdXQoTGksMCkpO2Zvcih2YXIgYT0wO2E8ci5sZW5ndGg7KythKWkucHVzaChuKHJbYV0pKX19ZnVuY3Rpb24gTGkoKXt2YXIgZT1SYTtSYT1udWxsO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KWVbdF0oKX1mdW5jdGlvbiBUaShlLHQsbil7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYodD17dHlwZTp0LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfX0pLFBhKGUsbnx8dC50eXBlLGUsdCksYmkodCl8fHQuY29kZW1pcnJvcklnbm9yZX1mdW5jdGlvbiBNaShlKXt2YXIgdD1lLl9oYW5kbGVycyYmZS5faGFuZGxlcnMuY3Vyc29yQWN0aXZpdHk7aWYodClmb3IodmFyIG49ZS5jdXJPcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzfHwoZS5jdXJPcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzPVtdKSxyPTA7cjx0Lmxlbmd0aDsrK3IpLTE9PVBpKG4sdFtyXSkmJm4ucHVzaCh0W3JdKX1mdW5jdGlvbiBOaShlLHQpe3JldHVybiBTaShlLHQpLmxlbmd0aD4wfWZ1bmN0aW9uIEFpKGUpe2UucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7RWEodGhpcyxlLHQpfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSx0KXtJYSh0aGlzLGUsdCl9fWZ1bmN0aW9uIEVpKCl7dGhpcy5pZD1udWxsfWZ1bmN0aW9uIE9pKGUpe2Zvcig7amEubGVuZ3RoPD1lOylqYS5wdXNoKElpKGphKSsiICIpO3JldHVybiBqYVtlXX1mdW5jdGlvbiBJaShlKXtyZXR1cm4gZVtlLmxlbmd0aC0xXX1mdW5jdGlvbiBQaShlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7KytuKWlmKGVbbl09PXQpcmV0dXJuIG47cmV0dXJuLTF9ZnVuY3Rpb24gUmkoZSx0KXtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKW5bcl09dChlW3JdLHIpO3JldHVybiBufWZ1bmN0aW9uIERpKCl7fWZ1bmN0aW9uIEhpKGUsdCl7dmFyIG47cmV0dXJuIE9iamVjdC5jcmVhdGU/bj1PYmplY3QuY3JlYXRlKGUpOihEaS5wcm90b3R5cGU9ZSxuPW5ldyBEaSksdCYmV2kodCxuKSxufWZ1bmN0aW9uIFdpKGUsdCxuKXt0fHwodD17fSk7Zm9yKHZhciByIGluIGUpIWUuaGFzT3duUHJvcGVydHkocil8fG49PT0hMSYmdC5oYXNPd25Qcm9wZXJ0eShyKXx8KHRbcl09ZVtyXSk7cmV0dXJuIHR9ZnVuY3Rpb24gQmkoZSl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KG51bGwsdCl9fWZ1bmN0aW9uIF9pKGUsdCl7cmV0dXJuIHQ/dC5zb3VyY2UuaW5kZXhPZigiXFx3Iik+LTEmJllhKGUpPyEwOnQudGVzdChlKTpZYShlKX1mdW5jdGlvbiBGaShlKXtmb3IodmFyIHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpJiZlW3RdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHppKGUpe3JldHVybiBlLmNoYXJDb2RlQXQoMCk+PTc2OCYmJGEudGVzdChlKX1mdW5jdGlvbiBqaShlLHQsbixyKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO2lmKG4mJihpLmNsYXNzTmFtZT1uKSxyJiYoaS5zdHlsZS5jc3NUZXh0PXIpLCJzdHJpbmciPT10eXBlb2YgdClpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKTtlbHNlIGlmKHQpZm9yKHZhciBvPTA7bzx0Lmxlbmd0aDsrK28paS5hcHBlbmRDaGlsZCh0W29dKTtyZXR1cm4gaX1mdW5jdGlvbiBVaShlKXtmb3IodmFyIHQ9ZS5jaGlsZE5vZGVzLmxlbmd0aDt0PjA7LS10KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtyZXR1cm4gZX1mdW5jdGlvbiBxaShlLHQpe3JldHVybiBVaShlKS5hcHBlbmRDaGlsZCh0KX1mdW5jdGlvbiBHaSgpe2Zvcih2YXIgZT1kb2N1bWVudC5hY3RpdmVFbGVtZW50O2UmJmUucm9vdCYmZS5yb290LmFjdGl2ZUVsZW1lbnQ7KWU9ZS5yb290LmFjdGl2ZUVsZW1lbnQ7cmV0dXJuIGV9ZnVuY3Rpb24gWWkoZSl7cmV0dXJuIG5ldyBSZWdFeHAoIihefFxccykiK2UrIig/OiR8XFxzKVxccyoiKX1mdW5jdGlvbiAkaShlLHQpe2Zvcih2YXIgbj1lLnNwbGl0KCIgIikscj0wO3I8bi5sZW5ndGg7cisrKW5bcl0mJiFZaShuW3JdKS50ZXN0KHQpJiYodCs9IiAiK25bcl0pO3JldHVybiB0fWZ1bmN0aW9uIFZpKGUpe2lmKGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlmb3IodmFyIHQ9ZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJDb2RlTWlycm9yIiksbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLkNvZGVNaXJyb3I7ciYmZShyKX19ZnVuY3Rpb24gS2koKXtRYXx8KFhpKCksUWE9ITApfWZ1bmN0aW9uIFhpKCl7dmFyIGU7RWEod2luZG93LCJyZXNpemUiLGZ1bmN0aW9uKCl7bnVsbD09ZSYmKGU9c2V0VGltZW91dChmdW5jdGlvbigpe2U9bnVsbCxWaShxdCl9LDEwMCkpfSksRWEod2luZG93LCJibHVyIixmdW5jdGlvbigpe1ZpKHluKX0pfWZ1bmN0aW9uIFppKGUpe2lmKG51bGw9PUthKXt2YXIgdD1qaSgic3BhbiIsIuKAiyIpO3FpKGUsamkoInNwYW4iLFt0LGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJ4IildKSksMCE9ZS5maXJzdENoaWxkLm9mZnNldEhlaWdodCYmKEthPXQub2Zmc2V0V2lkdGg8PTEmJnQub2Zmc2V0SGVpZ2h0PjImJiEoeG8mJjg+Ym8pKX12YXIgbj1LYT9qaSgic3BhbiIsIuKAiyIpOmppKCJzcGFuIiwiwqAiLG51bGwsImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDFweDsgbWFyZ2luLXJpZ2h0OiAtMXB4Iik7cmV0dXJuIG4uc2V0QXR0cmlidXRlKCJjbS10ZXh0IiwiIiksbn1mdW5jdGlvbiBKaShlKXtpZihudWxsIT1YYSlyZXR1cm4gWGE7dmFyIHQ9cWkoZSxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiQdiuQSIpKSxuPXFhKHQsMCwxKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZighbnx8bi5sZWZ0PT1uLnJpZ2h0KXJldHVybiExO3ZhciByPXFhKHQsMSwyKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gWGE9ci5yaWdodC1uLnJpZ2h0PDN9ZnVuY3Rpb24gUWkoZSl7aWYobnVsbCE9aWwpcmV0dXJuIGlsO3ZhciB0PXFpKGUsamkoInNwYW4iLCJ4IikpLG49dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPXFhKHQsMCwxKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gaWw9TWF0aC5hYnMobi5sZWZ0LXIubGVmdCk+MX1mdW5jdGlvbiBlbyhlLHQsbixyKXtpZighZSlyZXR1cm4gcih0LG4sImx0ciIpO2Zvcih2YXIgaT0hMSxvPTA7bzxlLmxlbmd0aDsrK28pe3ZhciBhPWVbb107KGEuZnJvbTxuJiZhLnRvPnR8fHQ9PW4mJmEudG89PXQpJiYocihNYXRoLm1heChhLmZyb20sdCksTWF0aC5taW4oYS50byxuKSwxPT1hLmxldmVsPyJydGwiOiJsdHIiKSxpPSEwKX1pfHxyKHQsbiwibHRyIil9ZnVuY3Rpb24gdG8oZSl7cmV0dXJuIGUubGV2ZWwlMj9lLnRvOmUuZnJvbX1mdW5jdGlvbiBubyhlKXtyZXR1cm4gZS5sZXZlbCUyP2UuZnJvbTplLnRvfWZ1bmN0aW9uIHJvKGUpe3ZhciB0PWlpKGUpO3JldHVybiB0P3RvKHRbMF0pOjB9ZnVuY3Rpb24gaW8oZSl7dmFyIHQ9aWkoZSk7cmV0dXJuIHQ/bm8oSWkodCkpOmUudGV4dC5sZW5ndGh9ZnVuY3Rpb24gb28oZSx0KXt2YXIgbj1acihlLmRvYyx0KSxyPXlyKG4pO3IhPW4mJih0PXRpKHIpKTt2YXIgaT1paShyKSxvPWk/aVswXS5sZXZlbCUyP2lvKHIpOnJvKHIpOjA7cmV0dXJuIEJvKHQsbyl9ZnVuY3Rpb24gYW8oZSx0KXtmb3IodmFyIG4scj1acihlLmRvYyx0KTtuPWdyKHIpOylyPW4uZmluZCgxLCEwKS5saW5lLHQ9bnVsbDt2YXIgaT1paShyKSxvPWk/aVswXS5sZXZlbCUyP3JvKHIpOmlvKHIpOnIudGV4dC5sZW5ndGg7cmV0dXJuIEJvKG51bGw9PXQ/dGkocik6dCxvKX1mdW5jdGlvbiBsbyhlLHQpe3ZhciBuPW9vKGUsdC5saW5lKSxyPVpyKGUuZG9jLG4ubGluZSksaT1paShyKTtpZighaXx8MD09aVswXS5sZXZlbCl7dmFyIG89TWF0aC5tYXgoMCxyLnRleHQuc2VhcmNoKC9cUy8pKSxhPXQubGluZT09bi5saW5lJiZ0LmNoPD1vJiZ0LmNoO3JldHVybiBCbyhuLmxpbmUsYT8wOm8pfXJldHVybiBufWZ1bmN0aW9uIHNvKGUsdCxuKXt2YXIgcj1lWzBdLmxldmVsO3JldHVybiB0PT1yPyEwOm49PXI/ITE6bj50fWZ1bmN0aW9uIGNvKGUsdCl7YWw9bnVsbDtmb3IodmFyIG4scj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgaT1lW3JdO2lmKGkuZnJvbTx0JiZpLnRvPnQpcmV0dXJuIHI7aWYoaS5mcm9tPT10fHxpLnRvPT10KXtpZihudWxsIT1uKXJldHVybiBzbyhlLGkubGV2ZWwsZVtuXS5sZXZlbCk/KGkuZnJvbSE9aS50byYmKGFsPW4pLHIpOihpLmZyb20hPWkudG8mJihhbD1yKSxuKTtuPXJ9fXJldHVybiBufWZ1bmN0aW9uIHVvKGUsdCxuLHIpe2lmKCFyKXJldHVybiB0K247ZG8gdCs9bjt3aGlsZSh0PjAmJnppKGUudGV4dC5jaGFyQXQodCkpKTtyZXR1cm4gdH1mdW5jdGlvbiBmbyhlLHQsbixyKXt2YXIgaT1paShlKTtpZighaSlyZXR1cm4gaG8oZSx0LG4scik7Zm9yKHZhciBvPWNvKGksdCksYT1pW29dLGw9dW8oZSx0LGEubGV2ZWwlMj8tbjpuLHIpOzspe2lmKGw+YS5mcm9tJiZsPGEudG8pcmV0dXJuIGw7aWYobD09YS5mcm9tfHxsPT1hLnRvKXJldHVybiBjbyhpLGwpPT1vP2w6KGE9aVtvKz1uXSxuPjA9PWEubGV2ZWwlMj9hLnRvOmEuZnJvbSk7aWYoYT1pW28rPW5dLCFhKXJldHVybiBudWxsO2w9bj4wPT1hLmxldmVsJTI/dW8oZSxhLnRvLC0xLHIpOnVvKGUsYS5mcm9tLDEscil9fWZ1bmN0aW9uIGhvKGUsdCxuLHIpe3ZhciBpPXQrbjtpZihyKWZvcig7aT4wJiZ6aShlLnRleHQuY2hhckF0KGkpKTspaSs9bjtyZXR1cm4gMD5pfHxpPmUudGV4dC5sZW5ndGg/bnVsbDppfXZhciBwbz1uYXZpZ2F0b3IudXNlckFnZW50LG1vPW5hdmlnYXRvci5wbGF0Zm9ybSxnbz0vZ2Vja29cL1xkL2kudGVzdChwbyksdm89L01TSUUgXGQvLnRlc3QocG8pLHlvPS9UcmlkZW50XC8oPzpbNy05XXxcZHsyLH0pXC4uKnJ2OihcZCspLy5leGVjKHBvKSx4bz12b3x8eW8sYm89eG8mJih2bz9kb2N1bWVudC5kb2N1bWVudE1vZGV8fDY6eW9bMV0pLHdvPS9XZWJLaXRcLy8udGVzdChwbyksa289d28mJi9RdFwvXGQrXC5cZCsvLnRlc3QocG8pLFNvPS9DaHJvbWVcLy8udGVzdChwbyksQ289L09wZXJhXC8vLnRlc3QocG8pLExvPS9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKSxUbz0vTWFjIE9TIFggMVxkXEQoWzgtOV18XGRcZClcRC8udGVzdChwbyksTW89L1BoYW50b21KUy8udGVzdChwbyksTm89L0FwcGxlV2ViS2l0Ly50ZXN0KHBvKSYmL01vYmlsZVwvXHcrLy50ZXN0KHBvKSxBbz1Ob3x8L0FuZHJvaWR8d2ViT1N8QmxhY2tCZXJyeXxPcGVyYSBNaW5pfE9wZXJhIE1vYml8SUVNb2JpbGUvaS50ZXN0KHBvKSxFbz1Ob3x8L01hYy8udGVzdChtbyksT289L1xiQ3JPU1xiLy50ZXN0KHBvKSxJbz0vd2luL2kudGVzdChtbyksUG89Q28mJnBvLm1hdGNoKC9WZXJzaW9uXC8oXGQqXC5cZCopLyk7UG8mJihQbz1OdW1iZXIoUG9bMV0pKSxQbyYmUG8+PTE1JiYoQ289ITEsd289ITApO3ZhciBSbz1FbyYmKGtvfHxDbyYmKG51bGw9PVBvfHwxMi4xMT5QbykpLERvPWdvfHx4byYmYm8+PTksSG89ITEsV289ITE7bS5wcm90b3R5cGU9V2koe3VwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNjcm9sbFdpZHRoPmUuY2xpZW50V2lkdGgrMSxuPWUuc2Nyb2xsSGVpZ2h0PmUuY2xpZW50SGVpZ2h0KzEscj1lLm5hdGl2ZUJhcldpZHRoO2lmKG4pe3RoaXMudmVydC5zdHlsZS5kaXNwbGF5PSJibG9jayIsdGhpcy52ZXJ0LnN0eWxlLmJvdHRvbT10P3IrInB4IjoiMCI7dmFyIGk9ZS52aWV3SGVpZ2h0LSh0P3I6MCk7dGhpcy52ZXJ0LmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDAsZS5zY3JvbGxIZWlnaHQtZS5jbGllbnRIZWlnaHQraSkrInB4In1lbHNlIHRoaXMudmVydC5zdHlsZS5kaXNwbGF5PSIiLHRoaXMudmVydC5maXJzdENoaWxkLnN0eWxlLmhlaWdodD0iMCI7aWYodCl7dGhpcy5ob3Jpei5zdHlsZS5kaXNwbGF5PSJibG9jayIsdGhpcy5ob3Jpei5zdHlsZS5yaWdodD1uP3IrInB4IjoiMCIsdGhpcy5ob3Jpei5zdHlsZS5sZWZ0PWUuYmFyTGVmdCsicHgiO3ZhciBvPWUudmlld1dpZHRoLWUuYmFyTGVmdC0obj9yOjApO3RoaXMuaG9yaXouZmlyc3RDaGlsZC5zdHlsZS53aWR0aD1lLnNjcm9sbFdpZHRoLWUuY2xpZW50V2lkdGgrbysicHgifWVsc2UgdGhpcy5ob3Jpei5zdHlsZS5kaXNwbGF5PSIiLHRoaXMuaG9yaXouZmlyc3RDaGlsZC5zdHlsZS53aWR0aD0iMCI7cmV0dXJuIXRoaXMuY2hlY2tlZFplcm9XaWR0aCYmZS5jbGllbnRIZWlnaHQ+MCYmKDA9PXImJnRoaXMuemVyb1dpZHRoSGFjaygpLHRoaXMuY2hlY2tlZFplcm9XaWR0aD0hMCkse3JpZ2h0Om4/cjowLGJvdHRvbTp0P3I6MH19LHNldFNjcm9sbExlZnQ6ZnVuY3Rpb24oZSl7dGhpcy5ob3Jpei5zY3JvbGxMZWZ0IT1lJiYodGhpcy5ob3Jpei5zY3JvbGxMZWZ0PWUpLHRoaXMuZGlzYWJsZUhvcml6JiZ0aGlzLmVuYWJsZVplcm9XaWR0aEJhcih0aGlzLmhvcml6LHRoaXMuZGlzYWJsZUhvcml6KX0sc2V0U2Nyb2xsVG9wOmZ1bmN0aW9uKGUpe3RoaXMudmVydC5zY3JvbGxUb3AhPWUmJih0aGlzLnZlcnQuc2Nyb2xsVG9wPWUpLHRoaXMuZGlzYWJsZVZlcnQmJnRoaXMuZW5hYmxlWmVyb1dpZHRoQmFyKHRoaXMudmVydCx0aGlzLmRpc2FibGVWZXJ0KX0semVyb1dpZHRoSGFjazpmdW5jdGlvbigpe3ZhciBlPUVvJiYhVG8/IjEycHgiOiIxOHB4Ijt0aGlzLmhvcml6LnN0eWxlLmhlaWdodD10aGlzLnZlcnQuc3R5bGUud2lkdGg9ZSx0aGlzLmhvcml6LnN0eWxlLnBvaW50ZXJFdmVudHM9dGhpcy52ZXJ0LnN0eWxlLnBvaW50ZXJFdmVudHM9Im5vbmUiLHRoaXMuZGlzYWJsZUhvcml6PW5ldyBFaSx0aGlzLmRpc2FibGVWZXJ0PW5ldyBFaX0sZW5hYmxlWmVyb1dpZHRoQmFyOmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3ZhciByPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHIubGVmdCsxLHIuYm90dG9tLTEpO2khPWU/ZS5zdHlsZS5wb2ludGVyRXZlbnRzPSJub25lIjp0LnNldCgxZTMsbil9ZS5zdHlsZS5wb2ludGVyRXZlbnRzPSJhdXRvIix0LnNldCgxZTMsbil9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3Jpei5wYXJlbnROb2RlO2UucmVtb3ZlQ2hpbGQodGhpcy5ob3JpeiksZS5yZW1vdmVDaGlsZCh0aGlzLnZlcnQpfX0sbS5wcm90b3R5cGUpLGcucHJvdG90eXBlPVdpKHt1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm57Ym90dG9tOjAscmlnaHQ6MH19LHNldFNjcm9sbExlZnQ6ZnVuY3Rpb24oKXt9LHNldFNjcm9sbFRvcDpmdW5jdGlvbigpe30sY2xlYXI6ZnVuY3Rpb24oKXt9fSxnLnByb3RvdHlwZSksZS5zY3JvbGxiYXJNb2RlbD17Im5hdGl2ZSI6bSwibnVsbCI6Z30sTC5wcm90b3R5cGUuc2lnbmFsPWZ1bmN0aW9uKGUsdCl7TmkoZSx0KSYmdGhpcy5ldmVudHMucHVzaChhcmd1bWVudHMpfSxMLnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuZXZlbnRzLmxlbmd0aDtlKyspUGEuYXBwbHkobnVsbCx0aGlzLmV2ZW50c1tlXSl9O3ZhciBCbz1lLlBvcz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgQm8/KHRoaXMubGluZT1lLHZvaWQodGhpcy5jaD10KSk6bmV3IEJvKGUsdCl9LF9vPWUuY21wUG9zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGluZS10LmxpbmV8fGUuY2gtdC5jaH0sRm89bnVsbDtuZS5wcm90b3R5cGU9V2koe2luaXQ6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtpZighVGkocixlKSl7aWYoci5zb21ldGhpbmdTZWxlY3RlZCgpKUZvPXtsaW5lV2lzZTohMSx0ZXh0OnIuZ2V0U2VsZWN0aW9ucygpfSxuLmluYWNjdXJhdGVTZWxlY3Rpb24mJihuLnByZXZJbnB1dD0iIixuLmluYWNjdXJhdGVTZWxlY3Rpb249ITEsby52YWx1ZT1Gby50ZXh0LmpvaW4oIlxuIiksVWEobykpO2Vsc2V7aWYoIXIub3B0aW9ucy5saW5lV2lzZUNvcHlDdXQpcmV0dXJuO3ZhciB0PWVlKHIpO0ZvPXtsaW5lV2lzZTohMCx0ZXh0OnQudGV4dH0sImN1dCI9PWUudHlwZT9yLnNldFNlbGVjdGlvbnModC5yYW5nZXMsbnVsbCxXYSk6KG4ucHJldklucHV0PSIiLG8udmFsdWU9dC50ZXh0LmpvaW4oIlxuIiksVWEobykpfSJjdXQiPT1lLnR5cGUmJihyLnN0YXRlLmN1dEluY29taW5nPSEwKX19dmFyIG49dGhpcyxyPXRoaXMuY20saT10aGlzLndyYXBwZXI9cmUoKSxvPXRoaXMudGV4dGFyZWE9aS5maXJzdENoaWxkO2Uud3JhcHBlci5pbnNlcnRCZWZvcmUoaSxlLndyYXBwZXIuZmlyc3RDaGlsZCksTm8mJihvLnN0eWxlLndpZHRoPSIwcHgiKSxFYShvLCJpbnB1dCIsZnVuY3Rpb24oKXt4byYmYm8+PTkmJm4uaGFzU2VsZWN0aW9uJiYobi5oYXNTZWxlY3Rpb249bnVsbCksbi5wb2xsKCl9KSxFYShvLCJwYXN0ZSIsZnVuY3Rpb24oZSl7VGkocixlKXx8SihlLHIpfHwoci5zdGF0ZS5wYXN0ZUluY29taW5nPSEwLG4uZmFzdFBvbGwoKSl9KSxFYShvLCJjdXQiLHQpLEVhKG8sImNvcHkiLHQpLEVhKGUuc2Nyb2xsZXIsInBhc3RlIixmdW5jdGlvbih0KXtHdChlLHQpfHxUaShyLHQpfHwoci5zdGF0ZS5wYXN0ZUluY29taW5nPSEwLG4uZm9jdXMoKSl9KSxFYShlLmxpbmVTcGFjZSwic2VsZWN0c3RhcnQiLGZ1bmN0aW9uKHQpe0d0KGUsdCl8fE1hKHQpfSksRWEobywiY29tcG9zaXRpb25zdGFydCIsZnVuY3Rpb24oKXt2YXIgZT1yLmdldEN1cnNvcigiZnJvbSIpO24uY29tcG9zaW5nJiZuLmNvbXBvc2luZy5yYW5nZS5jbGVhcigpLG4uY29tcG9zaW5nPXtzdGFydDplLHJhbmdlOnIubWFya1RleHQoZSxyLmdldEN1cnNvcigidG8iKSx7Y2xhc3NOYW1lOiJDb2RlTWlycm9yLWNvbXBvc2luZyJ9KX19KSxFYShvLCJjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24oKXtuLmNvbXBvc2luZyYmKG4ucG9sbCgpLG4uY29tcG9zaW5nLnJhbmdlLmNsZWFyKCksbi5jb21wb3Npbmc9bnVsbCl9KX0scHJlcGFyZVNlbGVjdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY20sdD1lLmRpc3BsYXksbj1lLmRvYyxyPURlKGUpO2lmKGUub3B0aW9ucy5tb3ZlSW5wdXRXaXRoQ3Vyc29yKXt2YXIgaT1kdChlLG4uc2VsLnByaW1hcnkoKS5oZWFkLCJkaXYiKSxvPXQud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPXQubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyLnRlVG9wPU1hdGgubWF4KDAsTWF0aC5taW4odC53cmFwcGVyLmNsaWVudEhlaWdodC0xMCxpLnRvcCthLnRvcC1vLnRvcCkpLHIudGVMZWZ0PU1hdGgubWF4KDAsTWF0aC5taW4odC53cmFwcGVyLmNsaWVudFdpZHRoLTEwLGkubGVmdCthLmxlZnQtby5sZWZ0KSl9cmV0dXJuIHJ9LHNob3dTZWxlY3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jbSxuPXQuZGlzcGxheTtxaShuLmN1cnNvckRpdixlLmN1cnNvcnMpLHFpKG4uc2VsZWN0aW9uRGl2LGUuc2VsZWN0aW9uKSxudWxsIT1lLnRlVG9wJiYodGhpcy53cmFwcGVyLnN0eWxlLnRvcD1lLnRlVG9wKyJweCIsdGhpcy53cmFwcGVyLnN0eWxlLmxlZnQ9ZS50ZUxlZnQrInB4Iil9LHJlc2V0OmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmNvbnRleHRNZW51UGVuZGluZyl7dmFyIHQsbixyPXRoaXMuY20saT1yLmRvYztpZihyLnNvbWV0aGluZ1NlbGVjdGVkKCkpe3RoaXMucHJldklucHV0PSIiO3ZhciBvPWkuc2VsLnByaW1hcnkoKTt0PXJsJiYoby50bygpLmxpbmUtby5mcm9tKCkubGluZT4xMDB8fChuPXIuZ2V0U2VsZWN0aW9uKCkpLmxlbmd0aD4xZTMpO3ZhciBhPXQ/Ii0iOm58fHIuZ2V0U2VsZWN0aW9uKCk7dGhpcy50ZXh0YXJlYS52YWx1ZT1hLHIuc3RhdGUuZm9jdXNlZCYmVWEodGhpcy50ZXh0YXJlYSkseG8mJmJvPj05JiYodGhpcy5oYXNTZWxlY3Rpb249YSl9ZWxzZSBlfHwodGhpcy5wcmV2SW5wdXQ9dGhpcy50ZXh0YXJlYS52YWx1ZT0iIix4byYmYm8+PTkmJih0aGlzLmhhc1NlbGVjdGlvbj1udWxsKSk7dGhpcy5pbmFjY3VyYXRlU2VsZWN0aW9uPXR9fSxnZXRGaWVsZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHRhcmVhfSxzdXBwb3J0c1RvdWNoOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGZvY3VzOmZ1bmN0aW9uKCl7aWYoIm5vY3Vyc29yIiE9dGhpcy5jbS5vcHRpb25zLnJlYWRPbmx5JiYoIUFvfHxHaSgpIT10aGlzLnRleHRhcmVhKSl0cnl7dGhpcy50ZXh0YXJlYS5mb2N1cygpfWNhdGNoKGUpe319LGJsdXI6ZnVuY3Rpb24oKXt0aGlzLnRleHRhcmVhLmJsdXIoKX0scmVzZXRQb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMud3JhcHBlci5zdHlsZS50b3A9dGhpcy53cmFwcGVyLnN0eWxlLmxlZnQ9MDsKfSxyZWNlaXZlZEZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5zbG93UG9sbCgpfSxzbG93UG9sbDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5wb2xsaW5nRmFzdHx8ZS5wb2xsaW5nLnNldCh0aGlzLmNtLm9wdGlvbnMucG9sbEludGVydmFsLGZ1bmN0aW9uKCl7ZS5wb2xsKCksZS5jbS5zdGF0ZS5mb2N1c2VkJiZlLnNsb3dQb2xsKCl9KX0sZmFzdFBvbGw6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHI9bi5wb2xsKCk7cnx8dD8obi5wb2xsaW5nRmFzdD0hMSxuLnNsb3dQb2xsKCkpOih0PSEwLG4ucG9sbGluZy5zZXQoNjAsZSkpfXZhciB0PSExLG49dGhpcztuLnBvbGxpbmdGYXN0PSEwLG4ucG9sbGluZy5zZXQoMjAsZSl9LHBvbGw6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNtLHQ9dGhpcy50ZXh0YXJlYSxuPXRoaXMucHJldklucHV0O2lmKHRoaXMuY29udGV4dE1lbnVQZW5kaW5nfHwhZS5zdGF0ZS5mb2N1c2VkfHxubCh0KSYmIW4mJiF0aGlzLmNvbXBvc2luZ3x8ZS5pc1JlYWRPbmx5KCl8fGUub3B0aW9ucy5kaXNhYmxlSW5wdXR8fGUuc3RhdGUua2V5U2VxKXJldHVybiExO3ZhciByPXQudmFsdWU7aWYocj09biYmIWUuc29tZXRoaW5nU2VsZWN0ZWQoKSlyZXR1cm4hMTtpZih4byYmYm8+PTkmJnRoaXMuaGFzU2VsZWN0aW9uPT09cnx8RW8mJi9bXHVmNzAwLVx1ZjdmZl0vLnRlc3QocikpcmV0dXJuIGUuZGlzcGxheS5pbnB1dC5yZXNldCgpLCExO2lmKGUuZG9jLnNlbD09ZS5kaXNwbGF5LnNlbEZvckNvbnRleHRNZW51KXt2YXIgaT1yLmNoYXJDb2RlQXQoMCk7aWYoODIwMyE9aXx8bnx8KG49IuKAiyIpLDg2NjY9PWkpcmV0dXJuIHRoaXMucmVzZXQoKSx0aGlzLmNtLmV4ZWNDb21tYW5kKCJ1bmRvIil9Zm9yKHZhciBvPTAsYT1NYXRoLm1pbihuLmxlbmd0aCxyLmxlbmd0aCk7YT5vJiZuLmNoYXJDb2RlQXQobyk9PXIuY2hhckNvZGVBdChvKTspKytvO3ZhciBsPXRoaXM7cmV0dXJuIEF0KGUsZnVuY3Rpb24oKXtaKGUsci5zbGljZShvKSxuLmxlbmd0aC1vLG51bGwsbC5jb21wb3Npbmc/Iipjb21wb3NlIjpudWxsKSxyLmxlbmd0aD4xZTN8fHIuaW5kZXhPZigiXG4iKT4tMT90LnZhbHVlPWwucHJldklucHV0PSIiOmwucHJldklucHV0PXIsbC5jb21wb3NpbmcmJihsLmNvbXBvc2luZy5yYW5nZS5jbGVhcigpLGwuY29tcG9zaW5nLnJhbmdlPWUubWFya1RleHQobC5jb21wb3Npbmcuc3RhcnQsZS5nZXRDdXJzb3IoInRvIikse2NsYXNzTmFtZToiQ29kZU1pcnJvci1jb21wb3NpbmcifSkpfSksITB9LGVuc3VyZVBvbGxlZDpmdW5jdGlvbigpe3RoaXMucG9sbGluZ0Zhc3QmJnRoaXMucG9sbCgpJiYodGhpcy5wb2xsaW5nRmFzdD0hMSl9LG9uS2V5UHJlc3M6ZnVuY3Rpb24oKXt4byYmYm8+PTkmJih0aGlzLmhhc1NlbGVjdGlvbj1udWxsKSx0aGlzLmZhc3RQb2xsKCl9LG9uQ29udGV4dE1lbnU6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe2lmKG51bGwhPWEuc2VsZWN0aW9uU3RhcnQpe3ZhciBlPWkuc29tZXRoaW5nU2VsZWN0ZWQoKSx0PSLigIsiKyhlP2EudmFsdWU6IiIpO2EudmFsdWU9IuKHmiIsYS52YWx1ZT10LHIucHJldklucHV0PWU/IiI6IuKAiyIsYS5zZWxlY3Rpb25TdGFydD0xLGEuc2VsZWN0aW9uRW5kPXQubGVuZ3RoLG8uc2VsRm9yQ29udGV4dE1lbnU9aS5kb2Muc2VsfX1mdW5jdGlvbiBuKCl7aWYoci5jb250ZXh0TWVudVBlbmRpbmc9ITEsci53cmFwcGVyLnN0eWxlLmNzc1RleHQ9ZixhLnN0eWxlLmNzc1RleHQ9dSx4byYmOT5ibyYmby5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcChvLnNjcm9sbGVyLnNjcm9sbFRvcD1zKSxudWxsIT1hLnNlbGVjdGlvblN0YXJ0KXsoIXhvfHx4byYmOT5ibykmJnQoKTt2YXIgZT0wLG49ZnVuY3Rpb24oKXtvLnNlbEZvckNvbnRleHRNZW51PT1pLmRvYy5zZWwmJjA9PWEuc2VsZWN0aW9uU3RhcnQmJmEuc2VsZWN0aW9uRW5kPjAmJiLigIsiPT1yLnByZXZJbnB1dD9FdChpLHVhLnNlbGVjdEFsbCkoaSk6ZSsrPDEwP28uZGV0ZWN0aW5nU2VsZWN0QWxsPXNldFRpbWVvdXQobiw1MDApOm8uaW5wdXQucmVzZXQoKX07by5kZXRlY3RpbmdTZWxlY3RBbGw9c2V0VGltZW91dChuLDIwMCl9fXZhciByPXRoaXMsaT1yLmNtLG89aS5kaXNwbGF5LGE9ci50ZXh0YXJlYSxsPVl0KGksZSkscz1vLnNjcm9sbGVyLnNjcm9sbFRvcDtpZihsJiYhQ28pe3ZhciBjPWkub3B0aW9ucy5yZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnU7YyYmLTE9PWkuZG9jLnNlbC5jb250YWlucyhsKSYmRXQoaSxUZSkoaS5kb2MsZGUobCksV2EpO3ZhciB1PWEuc3R5bGUuY3NzVGV4dCxmPXIud3JhcHBlci5zdHlsZS5jc3NUZXh0O3Iud3JhcHBlci5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjogYWJzb2x1dGUiO3ZhciBoPXIud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihhLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDMwcHg7IGhlaWdodDogMzBweDsgdG9wOiAiKyhlLmNsaWVudFktaC50b3AtNSkrInB4OyBsZWZ0OiAiKyhlLmNsaWVudFgtaC5sZWZ0LTUpKyJweDsgei1pbmRleDogMTAwMDsgYmFja2dyb3VuZDogIisoeG8/InJnYmEoMjU1LCAyNTUsIDI1NSwgLjA1KSI6InRyYW5zcGFyZW50IikrIjsgb3V0bGluZTogbm9uZTsgYm9yZGVyLXdpZHRoOiAwOyBvdXRsaW5lOiBub25lOyBvdmVyZmxvdzogaGlkZGVuOyBvcGFjaXR5OiAuMDU7IGZpbHRlcjogYWxwaGEob3BhY2l0eT01KTsiLHdvKXZhciBkPXdpbmRvdy5zY3JvbGxZO2lmKG8uaW5wdXQuZm9jdXMoKSx3byYmd2luZG93LnNjcm9sbFRvKG51bGwsZCksby5pbnB1dC5yZXNldCgpLGkuc29tZXRoaW5nU2VsZWN0ZWQoKXx8KGEudmFsdWU9ci5wcmV2SW5wdXQ9IiAiKSxyLmNvbnRleHRNZW51UGVuZGluZz0hMCxvLnNlbEZvckNvbnRleHRNZW51PWkuZG9jLnNlbCxjbGVhclRpbWVvdXQoby5kZXRlY3RpbmdTZWxlY3RBbGwpLHhvJiZibz49OSYmdCgpLERvKXtBYShlKTt2YXIgcD1mdW5jdGlvbigpe0lhKHdpbmRvdywibW91c2V1cCIscCksc2V0VGltZW91dChuLDIwKX07RWEod2luZG93LCJtb3VzZXVwIixwKX1lbHNlIHNldFRpbWVvdXQobiw1MCl9fSxyZWFkT25seUNoYW5nZWQ6ZnVuY3Rpb24oZSl7ZXx8dGhpcy5yZXNldCgpfSxzZXRVbmVkaXRhYmxlOkRpLG5lZWRzQ29udGVudEF0dHJpYnV0ZTohMX0sbmUucHJvdG90eXBlKSxpZS5wcm90b3R5cGU9V2koe2luaXQ6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtpZighVGkocixlKSl7aWYoci5zb21ldGhpbmdTZWxlY3RlZCgpKUZvPXtsaW5lV2lzZTohMSx0ZXh0OnIuZ2V0U2VsZWN0aW9ucygpfSwiY3V0Ij09ZS50eXBlJiZyLnJlcGxhY2VTZWxlY3Rpb24oIiIsbnVsbCwiY3V0Iik7ZWxzZXtpZighci5vcHRpb25zLmxpbmVXaXNlQ29weUN1dClyZXR1cm47dmFyIHQ9ZWUocik7Rm89e2xpbmVXaXNlOiEwLHRleHQ6dC50ZXh0fSwiY3V0Ij09ZS50eXBlJiZyLm9wZXJhdGlvbihmdW5jdGlvbigpe3Iuc2V0U2VsZWN0aW9ucyh0LnJhbmdlcywwLFdhKSxyLnJlcGxhY2VTZWxlY3Rpb24oIiIsbnVsbCwiY3V0Iil9KX1pZihlLmNsaXBib2FyZERhdGEmJiFObyllLnByZXZlbnREZWZhdWx0KCksZS5jbGlwYm9hcmREYXRhLmNsZWFyRGF0YSgpLGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCJ0ZXh0L3BsYWluIixGby50ZXh0LmpvaW4oIlxuIikpO2Vsc2V7dmFyIG49cmUoKSxpPW4uZmlyc3RDaGlsZDtyLmRpc3BsYXkubGluZVNwYWNlLmluc2VydEJlZm9yZShuLHIuZGlzcGxheS5saW5lU3BhY2UuZmlyc3RDaGlsZCksaS52YWx1ZT1Gby50ZXh0LmpvaW4oIlxuIik7dmFyIG89ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtVYShpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5kaXNwbGF5LmxpbmVTcGFjZS5yZW1vdmVDaGlsZChuKSxvLmZvY3VzKCl9LDUwKX19fXZhciBuPXRoaXMscj1uLmNtLGk9bi5kaXY9ZS5saW5lRGl2O3RlKGkpLEVhKGksInBhc3RlIixmdW5jdGlvbihlKXtUaShyLGUpfHxKKGUscil9KSxFYShpLCJjb21wb3NpdGlvbnN0YXJ0IixmdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7aWYobi5jb21wb3Npbmc9e3NlbDpyLmRvYy5zZWwsZGF0YTp0LHN0YXJ0RGF0YTp0fSx0KXt2YXIgaT1yLmRvYy5zZWwucHJpbWFyeSgpLG89ci5nZXRMaW5lKGkuaGVhZC5saW5lKSxhPW8uaW5kZXhPZih0LE1hdGgubWF4KDAsaS5oZWFkLmNoLXQubGVuZ3RoKSk7YT4tMSYmYTw9aS5oZWFkLmNoJiYobi5jb21wb3Npbmcuc2VsPWRlKEJvKGkuaGVhZC5saW5lLGEpLEJvKGkuaGVhZC5saW5lLGErdC5sZW5ndGgpKSl9fSksRWEoaSwiY29tcG9zaXRpb251cGRhdGUiLGZ1bmN0aW9uKGUpe24uY29tcG9zaW5nLmRhdGE9ZS5kYXRhfSksRWEoaSwiY29tcG9zaXRpb25lbmQiLGZ1bmN0aW9uKGUpe3ZhciB0PW4uY29tcG9zaW5nO3QmJihlLmRhdGE9PXQuc3RhcnREYXRhfHwvXHUyMDBiLy50ZXN0KGUuZGF0YSl8fCh0LmRhdGE9ZS5kYXRhKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5oYW5kbGVkfHxuLmFwcGx5Q29tcG9zaXRpb24odCksbi5jb21wb3Npbmc9PXQmJihuLmNvbXBvc2luZz1udWxsKX0sNTApKX0pLEVhKGksInRvdWNoc3RhcnQiLGZ1bmN0aW9uKCl7bi5mb3JjZUNvbXBvc2l0aW9uRW5kKCl9KSxFYShpLCJpbnB1dCIsZnVuY3Rpb24oKXtuLmNvbXBvc2luZ3x8IXIuaXNSZWFkT25seSgpJiZuLnBvbGxDb250ZW50KCl8fEF0KG4uY20sZnVuY3Rpb24oKXtEdChyKX0pfSksRWEoaSwiY29weSIsdCksRWEoaSwiY3V0Iix0KX0scHJlcGFyZVNlbGVjdGlvbjpmdW5jdGlvbigpe3ZhciBlPURlKHRoaXMuY20sITEpO3JldHVybiBlLmZvY3VzPXRoaXMuY20uc3RhdGUuZm9jdXNlZCxlfSxzaG93U2VsZWN0aW9uOmZ1bmN0aW9uKGUsdCl7ZSYmdGhpcy5jbS5kaXNwbGF5LnZpZXcubGVuZ3RoJiYoKGUuZm9jdXN8fHQpJiZ0aGlzLnNob3dQcmltYXJ5U2VsZWN0aW9uKCksdGhpcy5zaG93TXVsdGlwbGVTZWxlY3Rpb25zKGUpKX0sc2hvd1ByaW1hcnlTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3cuZ2V0U2VsZWN0aW9uKCksdD10aGlzLmNtLmRvYy5zZWwucHJpbWFyeSgpLG49bGUodGhpcy5jbSxlLmFuY2hvck5vZGUsZS5hbmNob3JPZmZzZXQpLHI9bGUodGhpcy5jbSxlLmZvY3VzTm9kZSxlLmZvY3VzT2Zmc2V0KTtpZighbnx8bi5iYWR8fCFyfHxyLmJhZHx8MCE9X28oSyhuLHIpLHQuZnJvbSgpKXx8MCE9X28oVihuLHIpLHQudG8oKSkpe3ZhciBpPW9lKHRoaXMuY20sdC5mcm9tKCkpLG89b2UodGhpcy5jbSx0LnRvKCkpO2lmKGl8fG8pe3ZhciBhPXRoaXMuY20uZGlzcGxheS52aWV3LGw9ZS5yYW5nZUNvdW50JiZlLmdldFJhbmdlQXQoMCk7aWYoaSl7aWYoIW8pe3ZhciBzPWFbYS5sZW5ndGgtMV0ubWVhc3VyZSxjPXMubWFwcz9zLm1hcHNbcy5tYXBzLmxlbmd0aC0xXTpzLm1hcDtvPXtub2RlOmNbYy5sZW5ndGgtMV0sb2Zmc2V0OmNbYy5sZW5ndGgtMl0tY1tjLmxlbmd0aC0zXX19fWVsc2UgaT17bm9kZTphWzBdLm1lYXN1cmUubWFwWzJdLG9mZnNldDowfTt0cnl7dmFyIHU9cWEoaS5ub2RlLGkub2Zmc2V0LG8ub2Zmc2V0LG8ubm9kZSl9Y2F0Y2goZil7fXUmJighZ28mJnRoaXMuY20uc3RhdGUuZm9jdXNlZD8oZS5jb2xsYXBzZShpLm5vZGUsaS5vZmZzZXQpLHUuY29sbGFwc2VkfHxlLmFkZFJhbmdlKHUpKTooZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmFkZFJhbmdlKHUpKSxsJiZudWxsPT1lLmFuY2hvck5vZGU/ZS5hZGRSYW5nZShsKTpnbyYmdGhpcy5zdGFydEdyYWNlUGVyaW9kKCkpLHRoaXMucmVtZW1iZXJTZWxlY3Rpb24oKX19fSxzdGFydEdyYWNlUGVyaW9kOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztjbGVhclRpbWVvdXQodGhpcy5ncmFjZVBlcmlvZCksdGhpcy5ncmFjZVBlcmlvZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5ncmFjZVBlcmlvZD0hMSxlLnNlbGVjdGlvbkNoYW5nZWQoKSYmZS5jbS5vcGVyYXRpb24oZnVuY3Rpb24oKXtlLmNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQ9ITB9KX0sMjApfSxzaG93TXVsdGlwbGVTZWxlY3Rpb25zOmZ1bmN0aW9uKGUpe3FpKHRoaXMuY20uZGlzcGxheS5jdXJzb3JEaXYsZS5jdXJzb3JzKSxxaSh0aGlzLmNtLmRpc3BsYXkuc2VsZWN0aW9uRGl2LGUuc2VsZWN0aW9uKX0scmVtZW1iZXJTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7dGhpcy5sYXN0QW5jaG9yTm9kZT1lLmFuY2hvck5vZGUsdGhpcy5sYXN0QW5jaG9yT2Zmc2V0PWUuYW5jaG9yT2Zmc2V0LHRoaXMubGFzdEZvY3VzTm9kZT1lLmZvY3VzTm9kZSx0aGlzLmxhc3RGb2N1c09mZnNldD1lLmZvY3VzT2Zmc2V0fSxzZWxlY3Rpb25JbkVkaXRvcjpmdW5jdGlvbigpe3ZhciBlPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtpZighZS5yYW5nZUNvdW50KXJldHVybiExO3ZhciB0PWUuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtyZXR1cm4gVmEodGhpcy5kaXYsdCl9LGZvY3VzOmZ1bmN0aW9uKCl7Im5vY3Vyc29yIiE9dGhpcy5jbS5vcHRpb25zLnJlYWRPbmx5JiZ0aGlzLmRpdi5mb2N1cygpfSxibHVyOmZ1bmN0aW9uKCl7dGhpcy5kaXYuYmx1cigpfSxnZXRGaWVsZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpdn0sc3VwcG9ydHNUb3VjaDpmdW5jdGlvbigpe3JldHVybiEwfSxyZWNlaXZlZEZvY3VzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3QuY20uc3RhdGUuZm9jdXNlZCYmKHQucG9sbFNlbGVjdGlvbigpLHQucG9sbGluZy5zZXQodC5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCxlKSl9dmFyIHQ9dGhpczt0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCk/dGhpcy5wb2xsU2VsZWN0aW9uKCk6QXQodGhpcy5jbSxmdW5jdGlvbigpe3QuY20uY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZD0hMH0pLHRoaXMucG9sbGluZy5zZXQodGhpcy5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCxlKX0sc2VsZWN0aW9uQ2hhbmdlZDpmdW5jdGlvbigpe3ZhciBlPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gZS5hbmNob3JOb2RlIT10aGlzLmxhc3RBbmNob3JOb2RlfHxlLmFuY2hvck9mZnNldCE9dGhpcy5sYXN0QW5jaG9yT2Zmc2V0fHxlLmZvY3VzTm9kZSE9dGhpcy5sYXN0Rm9jdXNOb2RlfHxlLmZvY3VzT2Zmc2V0IT10aGlzLmxhc3RGb2N1c09mZnNldH0scG9sbFNlbGVjdGlvbjpmdW5jdGlvbigpe2lmKCF0aGlzLmNvbXBvc2luZyYmIXRoaXMuZ3JhY2VQZXJpb2QmJnRoaXMuc2VsZWN0aW9uQ2hhbmdlZCgpKXt2YXIgZT13aW5kb3cuZ2V0U2VsZWN0aW9uKCksdD10aGlzLmNtO3RoaXMucmVtZW1iZXJTZWxlY3Rpb24oKTt2YXIgbj1sZSh0LGUuYW5jaG9yTm9kZSxlLmFuY2hvck9mZnNldCkscj1sZSh0LGUuZm9jdXNOb2RlLGUuZm9jdXNPZmZzZXQpO24mJnImJkF0KHQsZnVuY3Rpb24oKXtUZSh0LmRvYyxkZShuLHIpLFdhKSwobi5iYWR8fHIuYmFkKSYmKHQuY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZD0hMCl9KX19LHBvbGxDb250ZW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jbSx0PWUuZGlzcGxheSxuPWUuZG9jLnNlbC5wcmltYXJ5KCkscj1uLmZyb20oKSxpPW4udG8oKTtpZihyLmxpbmU8dC52aWV3RnJvbXx8aS5saW5lPnQudmlld1RvLTEpcmV0dXJuITE7dmFyIG87aWYoci5saW5lPT10LnZpZXdGcm9tfHwwPT0obz1CdChlLHIubGluZSkpKXZhciBhPXRpKHQudmlld1swXS5saW5lKSxsPXQudmlld1swXS5ub2RlO2Vsc2UgdmFyIGE9dGkodC52aWV3W29dLmxpbmUpLGw9dC52aWV3W28tMV0ubm9kZS5uZXh0U2libGluZzt2YXIgcz1CdChlLGkubGluZSk7aWYocz09dC52aWV3Lmxlbmd0aC0xKXZhciBjPXQudmlld1RvLTEsdT10LmxpbmVEaXYubGFzdENoaWxkO2Vsc2UgdmFyIGM9dGkodC52aWV3W3MrMV0ubGluZSktMSx1PXQudmlld1tzKzFdLm5vZGUucHJldmlvdXNTaWJsaW5nO2Zvcih2YXIgZj1lLmRvYy5zcGxpdExpbmVzKGNlKGUsbCx1LGEsYykpLGg9SnIoZS5kb2MsQm8oYSwwKSxCbyhjLFpyKGUuZG9jLGMpLnRleHQubGVuZ3RoKSk7Zi5sZW5ndGg+MSYmaC5sZW5ndGg+MTspaWYoSWkoZik9PUlpKGgpKWYucG9wKCksaC5wb3AoKSxjLS07ZWxzZXtpZihmWzBdIT1oWzBdKWJyZWFrO2Yuc2hpZnQoKSxoLnNoaWZ0KCksYSsrfWZvcih2YXIgZD0wLHA9MCxtPWZbMF0sZz1oWzBdLHY9TWF0aC5taW4obS5sZW5ndGgsZy5sZW5ndGgpO3Y+ZCYmbS5jaGFyQ29kZUF0KGQpPT1nLmNoYXJDb2RlQXQoZCk7KSsrZDtmb3IodmFyIHk9SWkoZikseD1JaShoKSxiPU1hdGgubWluKHkubGVuZ3RoLSgxPT1mLmxlbmd0aD9kOjApLHgubGVuZ3RoLSgxPT1oLmxlbmd0aD9kOjApKTtiPnAmJnkuY2hhckNvZGVBdCh5Lmxlbmd0aC1wLTEpPT14LmNoYXJDb2RlQXQoeC5sZW5ndGgtcC0xKTspKytwO2ZbZi5sZW5ndGgtMV09eS5zbGljZSgwLHkubGVuZ3RoLXApLGZbMF09ZlswXS5zbGljZShkKTt2YXIgdz1CbyhhLGQpLGs9Qm8oYyxoLmxlbmd0aD9JaShoKS5sZW5ndGgtcDowKTtyZXR1cm4gZi5sZW5ndGg+MXx8ZlswXXx8X28odyxrKT8oSW4oZS5kb2MsZix3LGssIitpbnB1dCIpLCEwKTp2b2lkIDB9LGVuc3VyZVBvbGxlZDpmdW5jdGlvbigpe3RoaXMuZm9yY2VDb21wb3NpdGlvbkVuZCgpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuZm9yY2VDb21wb3NpdGlvbkVuZCgpfSxmb3JjZUNvbXBvc2l0aW9uRW5kOmZ1bmN0aW9uKCl7dGhpcy5jb21wb3NpbmcmJiF0aGlzLmNvbXBvc2luZy5oYW5kbGVkJiYodGhpcy5hcHBseUNvbXBvc2l0aW9uKHRoaXMuY29tcG9zaW5nKSx0aGlzLmNvbXBvc2luZy5oYW5kbGVkPSEwLHRoaXMuZGl2LmJsdXIoKSx0aGlzLmRpdi5mb2N1cygpKX0sYXBwbHlDb21wb3NpdGlvbjpmdW5jdGlvbihlKXt0aGlzLmNtLmlzUmVhZE9ubHkoKT9FdCh0aGlzLmNtLER0KSh0aGlzLmNtKTplLmRhdGEmJmUuZGF0YSE9ZS5zdGFydERhdGEmJkV0KHRoaXMuY20sWikodGhpcy5jbSxlLmRhdGEsMCxlLnNlbCl9LHNldFVuZWRpdGFibGU6ZnVuY3Rpb24oZSl7ZS5jb250ZW50RWRpdGFibGU9ImZhbHNlIn0sb25LZXlQcmVzczpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5jbS5pc1JlYWRPbmx5KCl8fEV0KHRoaXMuY20sWikodGhpcy5jbSxTdHJpbmcuZnJvbUNoYXJDb2RlKG51bGw9PWUuY2hhckNvZGU/ZS5rZXlDb2RlOmUuY2hhckNvZGUpLDApfSxyZWFkT25seUNoYW5nZWQ6ZnVuY3Rpb24oZSl7dGhpcy5kaXYuY29udGVudEVkaXRhYmxlPVN0cmluZygibm9jdXJzb3IiIT1lKX0sb25Db250ZXh0TWVudTpEaSxyZXNldFBvc2l0aW9uOkRpLG5lZWRzQ29udGVudEF0dHJpYnV0ZTohMH0saWUucHJvdG90eXBlKSxlLmlucHV0U3R5bGVzPXt0ZXh0YXJlYTpuZSxjb250ZW50ZWRpdGFibGU6aWV9LHVlLnByb3RvdHlwZT17cHJpbWFyeTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJhbmdlc1t0aGlzLnByaW1JbmRleF19LGVxdWFsczpmdW5jdGlvbihlKXtpZihlPT10aGlzKXJldHVybiEwO2lmKGUucHJpbUluZGV4IT10aGlzLnByaW1JbmRleHx8ZS5yYW5nZXMubGVuZ3RoIT10aGlzLnJhbmdlcy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciB0PTA7dDx0aGlzLnJhbmdlcy5sZW5ndGg7dCsrKXt2YXIgbj10aGlzLnJhbmdlc1t0XSxyPWUucmFuZ2VzW3RdO2lmKDAhPV9vKG4uYW5jaG9yLHIuYW5jaG9yKXx8MCE9X28obi5oZWFkLHIuaGVhZCkpcmV0dXJuITF9cmV0dXJuITB9LGRlZXBDb3B5OmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PHRoaXMucmFuZ2VzLmxlbmd0aDt0KyspZVt0XT1uZXcgZmUoJCh0aGlzLnJhbmdlc1t0XS5hbmNob3IpLCQodGhpcy5yYW5nZXNbdF0uaGVhZCkpO3JldHVybiBuZXcgdWUoZSx0aGlzLnByaW1JbmRleCl9LHNvbWV0aGluZ1NlbGVjdGVkOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnJhbmdlcy5sZW5ndGg7ZSsrKWlmKCF0aGlzLnJhbmdlc1tlXS5lbXB0eSgpKXJldHVybiEwO3JldHVybiExfSxjb250YWluczpmdW5jdGlvbihlLHQpe3R8fCh0PWUpO2Zvcih2YXIgbj0wO248dGhpcy5yYW5nZXMubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy5yYW5nZXNbbl07aWYoX28odCxyLmZyb20oKSk+PTAmJl9vKGUsci50bygpKTw9MClyZXR1cm4gbn1yZXR1cm4tMX19LGZlLnByb3RvdHlwZT17ZnJvbTpmdW5jdGlvbigpe3JldHVybiBLKHRoaXMuYW5jaG9yLHRoaXMuaGVhZCl9LHRvOmZ1bmN0aW9uKCl7cmV0dXJuIFYodGhpcy5hbmNob3IsdGhpcy5oZWFkKX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkLmxpbmU9PXRoaXMuYW5jaG9yLmxpbmUmJnRoaXMuaGVhZC5jaD09dGhpcy5hbmNob3IuY2h9fTt2YXIgem8sam8sVW8scW89e2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTowfSxHbz1udWxsLFlvPTAsJG89MCxWbz0wLEtvPW51bGw7eG8/S289LS41Mzpnbz9Lbz0xNTpTbz9Lbz0tLjc6TG8mJihLbz0tMS8zKTt2YXIgWG89ZnVuY3Rpb24oZSl7dmFyIHQ9ZS53aGVlbERlbHRhWCxuPWUud2hlZWxEZWx0YVk7cmV0dXJuIG51bGw9PXQmJmUuZGV0YWlsJiZlLmF4aXM9PWUuSE9SSVpPTlRBTF9BWElTJiYodD1lLmRldGFpbCksbnVsbD09biYmZS5kZXRhaWwmJmUuYXhpcz09ZS5WRVJUSUNBTF9BWElTP249ZS5kZXRhaWw6bnVsbD09biYmKG49ZS53aGVlbERlbHRhKSx7eDp0LHk6bn19O2Uud2hlZWxFdmVudFBpeGVscz1mdW5jdGlvbihlKXt2YXIgdD1YbyhlKTtyZXR1cm4gdC54Kj1Lbyx0LnkqPUtvLHR9O3ZhciBabz1uZXcgRWksSm89bnVsbCxRbz1lLmNoYW5nZUVuZD1mdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0P0JvKGUuZnJvbS5saW5lK2UudGV4dC5sZW5ndGgtMSxJaShlLnRleHQpLmxlbmd0aCsoMT09ZS50ZXh0Lmxlbmd0aD9lLmZyb20uY2g6MCkpOmUudG99O2UucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjplLGZvY3VzOmZ1bmN0aW9uKCl7d2luZG93LmZvY3VzKCksdGhpcy5kaXNwbGF5LmlucHV0LmZvY3VzKCl9LHNldE9wdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMub3B0aW9ucyxyPW5bZV07bltlXT09dCYmIm1vZGUiIT1lfHwobltlXT10LHRhLmhhc093blByb3BlcnR5KGUpJiZFdCh0aGlzLHRhW2VdKSh0aGlzLHQscikpfSxnZXRPcHRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub3B0aW9uc1tlXX0sZ2V0RG9jOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jfSxhZGRLZXlNYXA6ZnVuY3Rpb24oZSx0KXt0aGlzLnN0YXRlLmtleU1hcHNbdD8icHVzaCI6InVuc2hpZnQiXSgkbihlKSl9LHJlbW92ZUtleU1hcDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5zdGF0ZS5rZXlNYXBzLG49MDtuPHQubGVuZ3RoOysrbilpZih0W25dPT1lfHx0W25dLm5hbWU9PWUpcmV0dXJuIHQuc3BsaWNlKG4sMSksITB9LGFkZE92ZXJsYXk6T3QoZnVuY3Rpb24odCxuKXt2YXIgcj10LnRva2VuP3Q6ZS5nZXRNb2RlKHRoaXMub3B0aW9ucyx0KTtpZihyLnN0YXJ0U3RhdGUpdGhyb3cgbmV3IEVycm9yKCJPdmVybGF5cyBtYXkgbm90IGJlIHN0YXRlZnVsLiIpO3RoaXMuc3RhdGUub3ZlcmxheXMucHVzaCh7bW9kZTpyLG1vZGVTcGVjOnQsb3BhcXVlOm4mJm4ub3BhcXVlfSksdGhpcy5zdGF0ZS5tb2RlR2VuKyssRHQodGhpcyl9KSxyZW1vdmVPdmVybGF5Ok90KGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnN0YXRlLm92ZXJsYXlzLG49MDtuPHQubGVuZ3RoOysrbil7dmFyIHI9dFtuXS5tb2RlU3BlYztpZihyPT1lfHwic3RyaW5nIj09dHlwZW9mIGUmJnIubmFtZT09ZSlyZXR1cm4gdC5zcGxpY2UobiwxKSx0aGlzLnN0YXRlLm1vZGVHZW4rKyx2b2lkIER0KHRoaXMpfX0pLGluZGVudExpbmU6T3QoZnVuY3Rpb24oZSx0LG4peyJzdHJpbmciIT10eXBlb2YgdCYmIm51bWJlciIhPXR5cGVvZiB0JiYodD1udWxsPT10P3RoaXMub3B0aW9ucy5zbWFydEluZGVudD8ic21hcnQiOiJwcmV2Ijp0PyJhZGQiOiJzdWJ0cmFjdCIpLHZlKHRoaXMuZG9jLGUpJiZGbih0aGlzLGUsdCxuKX0pLGluZGVudFNlbGVjdGlvbjpPdChmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5kb2Muc2VsLnJhbmdlcyxuPS0xLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXTtpZihpLmVtcHR5KCkpaS5oZWFkLmxpbmU+biYmKEZuKHRoaXMsaS5oZWFkLmxpbmUsZSwhMCksbj1pLmhlYWQubGluZSxyPT10aGlzLmRvYy5zZWwucHJpbUluZGV4JiZCbih0aGlzKSk7ZWxzZXt2YXIgbz1pLmZyb20oKSxhPWkudG8oKSxsPU1hdGgubWF4KG4sby5saW5lKTtuPU1hdGgubWluKHRoaXMubGFzdExpbmUoKSxhLmxpbmUtKGEuY2g/MDoxKSkrMTtmb3IodmFyIHM9bDtuPnM7KytzKUZuKHRoaXMscyxlKTt2YXIgYz10aGlzLmRvYy5zZWwucmFuZ2VzOzA9PW8uY2gmJnQubGVuZ3RoPT1jLmxlbmd0aCYmY1tyXS5mcm9tKCkuY2g+MCYma2UodGhpcy5kb2MscixuZXcgZmUobyxjW3JdLnRvKCkpLFdhKX19fSksZ2V0VG9rZW5BdDpmdW5jdGlvbihlLHQpe3JldHVybiBJcih0aGlzLGUsdCl9LGdldExpbmVUb2tlbnM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSXIodGhpcyxCbyhlKSx0LCEwKX0sZ2V0VG9rZW5UeXBlQXQ6ZnVuY3Rpb24oZSl7ZT1tZSh0aGlzLmRvYyxlKTt2YXIgdCxuPURyKHRoaXMsWnIodGhpcy5kb2MsZS5saW5lKSkscj0wLGk9KG4ubGVuZ3RoLTEpLzIsbz1lLmNoO2lmKDA9PW8pdD1uWzJdO2Vsc2UgZm9yKDs7KXt2YXIgYT1yK2k+PjE7aWYoKGE/blsyKmEtMV06MCk+PW8paT1hO2Vsc2V7aWYoIShuWzIqYSsxXTxvKSl7dD1uWzIqYSsyXTticmVha31yPWErMX19dmFyIGw9dD90LmluZGV4T2YoImNtLW92ZXJsYXkgIik6LTE7cmV0dXJuIDA+bD90OjA9PWw/bnVsbDp0LnNsaWNlKDAsbC0xKX0sZ2V0TW9kZUF0OmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZG9jLm1vZGU7cmV0dXJuIG4uaW5uZXJNb2RlP2UuaW5uZXJNb2RlKG4sdGhpcy5nZXRUb2tlbkF0KHQpLnN0YXRlKS5tb2RlOm59LGdldEhlbHBlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmdldEhlbHBlcnMoZSx0KVswXX0sZ2V0SGVscGVyczpmdW5jdGlvbihlLHQpe3ZhciBuPVtdO2lmKCFsYS5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4gbjt2YXIgcj1sYVt0XSxpPXRoaXMuZ2V0TW9kZUF0KGUpO2lmKCJzdHJpbmciPT10eXBlb2YgaVt0XSlyW2lbdF1dJiZuLnB1c2gocltpW3RdXSk7ZWxzZSBpZihpW3RdKWZvcih2YXIgbz0wO288aVt0XS5sZW5ndGg7bysrKXt2YXIgYT1yW2lbdF1bb11dO2EmJm4ucHVzaChhKX1lbHNlIGkuaGVscGVyVHlwZSYmcltpLmhlbHBlclR5cGVdP24ucHVzaChyW2kuaGVscGVyVHlwZV0pOnJbaS5uYW1lXSYmbi5wdXNoKHJbaS5uYW1lXSk7Zm9yKHZhciBvPTA7bzxyLl9nbG9iYWwubGVuZ3RoO28rKyl7dmFyIGw9ci5fZ2xvYmFsW29dO2wucHJlZChpLHRoaXMpJiYtMT09UGkobixsLnZhbCkmJm4ucHVzaChsLnZhbCl9cmV0dXJuIG59LGdldFN0YXRlQWZ0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmRvYztyZXR1cm4gZT1wZShuLG51bGw9PWU/bi5maXJzdCtuLnNpemUtMTplKSxqZSh0aGlzLGUrMSx0KX0sY3Vyc29yQ29vcmRzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj10aGlzLmRvYy5zZWwucHJpbWFyeSgpO3JldHVybiBuPW51bGw9PWU/ci5oZWFkOiJvYmplY3QiPT10eXBlb2YgZT9tZSh0aGlzLmRvYyxlKTplP3IuZnJvbSgpOnIudG8oKSxkdCh0aGlzLG4sdHx8InBhZ2UiKX0sY2hhckNvb3JkczpmdW5jdGlvbihlLHQpe3JldHVybiBodCh0aGlzLG1lKHRoaXMuZG9jLGUpLHR8fCJwYWdlIil9LGNvb3Jkc0NoYXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1mdCh0aGlzLGUsdHx8InBhZ2UiKSxndCh0aGlzLGUubGVmdCxlLnRvcCl9LGxpbmVBdEhlaWdodDpmdW5jdGlvbihlLHQpe3JldHVybiBlPWZ0KHRoaXMse3RvcDplLGxlZnQ6MH0sdHx8InBhZ2UiKS50b3AsbmkodGhpcy5kb2MsZSt0aGlzLmRpc3BsYXkudmlld09mZnNldCl9LGhlaWdodEF0TGluZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ITE7aWYoIm51bWJlciI9PXR5cGVvZiBlKXt2YXIgaT10aGlzLmRvYy5maXJzdCt0aGlzLmRvYy5zaXplLTE7ZTx0aGlzLmRvYy5maXJzdD9lPXRoaXMuZG9jLmZpcnN0OmU+aSYmKGU9aSxyPSEwKSxuPVpyKHRoaXMuZG9jLGUpfWVsc2Ugbj1lO3JldHVybiB1dCh0aGlzLG4se3RvcDowLGxlZnQ6MH0sdHx8InBhZ2UiKS50b3ArKHI/dGhpcy5kb2MuaGVpZ2h0LXJpKG4pOjApfSxkZWZhdWx0VGV4dEhlaWdodDpmdW5jdGlvbigpe3JldHVybiB5dCh0aGlzLmRpc3BsYXkpfSxkZWZhdWx0Q2hhcldpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIHh0KHRoaXMuZGlzcGxheSl9LHNldEd1dHRlck1hcmtlcjpPdChmdW5jdGlvbihlLHQsbil7cmV0dXJuIHpuKHRoaXMuZG9jLGUsImd1dHRlciIsZnVuY3Rpb24oZSl7dmFyIHI9ZS5ndXR0ZXJNYXJrZXJzfHwoZS5ndXR0ZXJNYXJrZXJzPXt9KTtyZXR1cm4gclt0XT1uLCFuJiZGaShyKSYmKGUuZ3V0dGVyTWFya2Vycz1udWxsKSwhMH0pfSksY2xlYXJHdXR0ZXI6T3QoZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXQuZG9jLHI9bi5maXJzdDtuLml0ZXIoZnVuY3Rpb24obil7bi5ndXR0ZXJNYXJrZXJzJiZuLmd1dHRlck1hcmtlcnNbZV0mJihuLmd1dHRlck1hcmtlcnNbZV09bnVsbCxIdCh0LHIsImd1dHRlciIpLEZpKG4uZ3V0dGVyTWFya2VycykmJihuLmd1dHRlck1hcmtlcnM9bnVsbCkpLCsrcn0pfSksbGluZUluZm86ZnVuY3Rpb24oZSl7aWYoIm51bWJlciI9PXR5cGVvZiBlKXtpZighdmUodGhpcy5kb2MsZSkpcmV0dXJuIG51bGw7dmFyIHQ9ZTtpZihlPVpyKHRoaXMuZG9jLGUpLCFlKXJldHVybiBudWxsfWVsc2V7dmFyIHQ9dGkoZSk7aWYobnVsbD09dClyZXR1cm4gbnVsbH1yZXR1cm57bGluZTp0LGhhbmRsZTplLHRleHQ6ZS50ZXh0LGd1dHRlck1hcmtlcnM6ZS5ndXR0ZXJNYXJrZXJzLHRleHRDbGFzczplLnRleHRDbGFzcyxiZ0NsYXNzOmUuYmdDbGFzcyx3cmFwQ2xhc3M6ZS53cmFwQ2xhc3Msd2lkZ2V0czplLndpZGdldHN9fSxnZXRWaWV3cG9ydDpmdW5jdGlvbigpe3JldHVybntmcm9tOnRoaXMuZGlzcGxheS52aWV3RnJvbSx0bzp0aGlzLmRpc3BsYXkudmlld1RvfX0sYWRkV2lkZ2V0OmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89dGhpcy5kaXNwbGF5O2U9ZHQodGhpcyxtZSh0aGlzLmRvYyxlKSk7dmFyIGE9ZS5ib3R0b20sbD1lLmxlZnQ7aWYodC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLHQuc2V0QXR0cmlidXRlKCJjbS1pZ25vcmUtZXZlbnRzIiwidHJ1ZSIpLHRoaXMuZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKHQpLG8uc2l6ZXIuYXBwZW5kQ2hpbGQodCksIm92ZXIiPT1yKWE9ZS50b3A7ZWxzZSBpZigiYWJvdmUiPT1yfHwibmVhciI9PXIpe3ZhciBzPU1hdGgubWF4KG8ud3JhcHBlci5jbGllbnRIZWlnaHQsdGhpcy5kb2MuaGVpZ2h0KSxjPU1hdGgubWF4KG8uc2l6ZXIuY2xpZW50V2lkdGgsby5saW5lU3BhY2UuY2xpZW50V2lkdGgpOygiYWJvdmUiPT1yfHxlLmJvdHRvbSt0Lm9mZnNldEhlaWdodD5zKSYmZS50b3A+dC5vZmZzZXRIZWlnaHQ/YT1lLnRvcC10Lm9mZnNldEhlaWdodDplLmJvdHRvbSt0Lm9mZnNldEhlaWdodDw9cyYmKGE9ZS5ib3R0b20pLGwrdC5vZmZzZXRXaWR0aD5jJiYobD1jLXQub2Zmc2V0V2lkdGgpfXQuc3R5bGUudG9wPWErInB4Iix0LnN0eWxlLmxlZnQ9dC5zdHlsZS5yaWdodD0iIiwicmlnaHQiPT1pPyhsPW8uc2l6ZXIuY2xpZW50V2lkdGgtdC5vZmZzZXRXaWR0aCx0LnN0eWxlLnJpZ2h0PSIwcHgiKTooImxlZnQiPT1pP2w9MDoibWlkZGxlIj09aSYmKGw9KG8uc2l6ZXIuY2xpZW50V2lkdGgtdC5vZmZzZXRXaWR0aCkvMiksdC5zdHlsZS5sZWZ0PWwrInB4IiksbiYmRG4odGhpcyxsLGEsbCt0Lm9mZnNldFdpZHRoLGErdC5vZmZzZXRIZWlnaHQpfSx0cmlnZ2VyT25LZXlEb3duOk90KGhuKSx0cmlnZ2VyT25LZXlQcmVzczpPdChtbiksdHJpZ2dlck9uS2V5VXA6cG4sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHVhLmhhc093blByb3BlcnR5KGUpP3VhW2VdLmNhbGwobnVsbCx0aGlzKTp2b2lkIDB9LHRyaWdnZXJFbGVjdHJpYzpPdChmdW5jdGlvbihlKXtRKHRoaXMsZSl9KSxmaW5kUG9zSDpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT0xOzA+dCYmKGk9LTEsdD0tdCk7Zm9yKHZhciBvPTAsYT1tZSh0aGlzLmRvYyxlKTt0Pm8mJihhPVVuKHRoaXMuZG9jLGEsaSxuLHIpLCFhLmhpdFNpZGUpOysrbyk7cmV0dXJuIGF9LG1vdmVIOk90KGZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztuLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyKXtyZXR1cm4gbi5kaXNwbGF5LnNoaWZ0fHxuLmRvYy5leHRlbmR8fHIuZW1wdHkoKT9VbihuLmRvYyxyLmhlYWQsZSx0LG4ub3B0aW9ucy5ydGxNb3ZlVmlzdWFsbHkpOjA+ZT9yLmZyb20oKTpyLnRvKCl9LF9hKX0pLGRlbGV0ZUg6T3QoZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmRvYy5zZWwscj10aGlzLmRvYztuLnNvbWV0aGluZ1NlbGVjdGVkKCk/ci5yZXBsYWNlU2VsZWN0aW9uKCIiLG51bGwsIitkZWxldGUiKTpqbih0aGlzLGZ1bmN0aW9uKG4pe3ZhciBpPVVuKHIsbi5oZWFkLGUsdCwhMSk7cmV0dXJuIDA+ZT97ZnJvbTppLHRvOm4uaGVhZH06e2Zyb206bi5oZWFkLHRvOml9fSl9KSxmaW5kUG9zVjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT0xLG89cjswPnQmJihpPS0xLHQ9LXQpO2Zvcih2YXIgYT0wLGw9bWUodGhpcy5kb2MsZSk7dD5hOysrYSl7dmFyIHM9ZHQodGhpcyxsLCJkaXYiKTtpZihudWxsPT1vP289cy5sZWZ0OnMubGVmdD1vLGw9cW4odGhpcyxzLGksbiksbC5oaXRTaWRlKWJyZWFrfXJldHVybiBsfSxtb3ZlVjpPdChmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj10aGlzLmRvYyxpPVtdLG89IW4uZGlzcGxheS5zaGlmdCYmIXIuZXh0ZW5kJiZyLnNlbC5zb21ldGhpbmdTZWxlY3RlZCgpO2lmKHIuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKGEpe2lmKG8pcmV0dXJuIDA+ZT9hLmZyb20oKTphLnRvKCk7dmFyIGw9ZHQobixhLmhlYWQsImRpdiIpO251bGwhPWEuZ29hbENvbHVtbiYmKGwubGVmdD1hLmdvYWxDb2x1bW4pLGkucHVzaChsLmxlZnQpO3ZhciBzPXFuKG4sbCxlLHQpO3JldHVybiJwYWdlIj09dCYmYT09ci5zZWwucHJpbWFyeSgpJiZXbihuLG51bGwsaHQobixzLCJkaXYiKS50b3AtbC50b3ApLHN9LF9hKSxpLmxlbmd0aClmb3IodmFyIGE9MDthPHIuc2VsLnJhbmdlcy5sZW5ndGg7YSsrKXIuc2VsLnJhbmdlc1thXS5nb2FsQ29sdW1uPWlbYV19KSxmaW5kV29yZEF0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZG9jLG49WnIodCxlLmxpbmUpLnRleHQscj1lLmNoLGk9ZS5jaDtpZihuKXt2YXIgbz10aGlzLmdldEhlbHBlcihlLCJ3b3JkQ2hhcnMiKTsoZS54UmVsPDB8fGk9PW4ubGVuZ3RoKSYmcj8tLXI6KytpO2Zvcih2YXIgYT1uLmNoYXJBdChyKSxsPV9pKGEsbyk/ZnVuY3Rpb24oZSl7cmV0dXJuIF9pKGUsbyl9Oi9ccy8udGVzdChhKT9mdW5jdGlvbihlKXtyZXR1cm4vXHMvLnRlc3QoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiEvXHMvLnRlc3QoZSkmJiFfaShlKX07cj4wJiZsKG4uY2hhckF0KHItMSkpOyktLXI7Zm9yKDtpPG4ubGVuZ3RoJiZsKG4uY2hhckF0KGkpKTspKytpfXJldHVybiBuZXcgZmUoQm8oZS5saW5lLHIpLEJvKGUubGluZSxpKSl9LHRvZ2dsZU92ZXJ3cml0ZTpmdW5jdGlvbihlKXtudWxsIT1lJiZlPT10aGlzLnN0YXRlLm92ZXJ3cml0ZXx8KCh0aGlzLnN0YXRlLm92ZXJ3cml0ZT0hdGhpcy5zdGF0ZS5vdmVyd3JpdGUpP0phKHRoaXMuZGlzcGxheS5jdXJzb3JEaXYsIkNvZGVNaXJyb3Itb3ZlcndyaXRlIik6WmEodGhpcy5kaXNwbGF5LmN1cnNvckRpdiwiQ29kZU1pcnJvci1vdmVyd3JpdGUiKSxQYSh0aGlzLCJvdmVyd3JpdGVUb2dnbGUiLHRoaXMsdGhpcy5zdGF0ZS5vdmVyd3JpdGUpKX0saGFzRm9jdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCk9PUdpKCl9LGlzUmVhZE9ubHk6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLm9wdGlvbnMucmVhZE9ubHkmJiF0aGlzLmRvYy5jYW50RWRpdCl9LHNjcm9sbFRvOk90KGZ1bmN0aW9uKGUsdCl7bnVsbD09ZSYmbnVsbD09dHx8X24odGhpcyksbnVsbCE9ZSYmKHRoaXMuY3VyT3Auc2Nyb2xsTGVmdD1lKSxudWxsIT10JiYodGhpcy5jdXJPcC5zY3JvbGxUb3A9dCl9KSxnZXRTY3JvbGxJbmZvOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kaXNwbGF5LnNjcm9sbGVyO3JldHVybntsZWZ0OmUuc2Nyb2xsTGVmdCx0b3A6ZS5zY3JvbGxUb3AsaGVpZ2h0OmUuc2Nyb2xsSGVpZ2h0LVllKHRoaXMpLXRoaXMuZGlzcGxheS5iYXJIZWlnaHQsd2lkdGg6ZS5zY3JvbGxXaWR0aC1ZZSh0aGlzKS10aGlzLmRpc3BsYXkuYmFyV2lkdGgsY2xpZW50SGVpZ2h0OlZlKHRoaXMpLGNsaWVudFdpZHRoOiRlKHRoaXMpfX0sc2Nyb2xsSW50b1ZpZXc6T3QoZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lPyhlPXtmcm9tOnRoaXMuZG9jLnNlbC5wcmltYXJ5KCkuaGVhZCx0bzpudWxsfSxudWxsPT10JiYodD10aGlzLm9wdGlvbnMuY3Vyc29yU2Nyb2xsTWFyZ2luKSk6Im51bWJlciI9PXR5cGVvZiBlP2U9e2Zyb206Qm8oZSwwKSx0bzpudWxsfTpudWxsPT1lLmZyb20mJihlPXtmcm9tOmUsdG86bnVsbH0pLGUudG98fChlLnRvPWUuZnJvbSksZS5tYXJnaW49dHx8MCxudWxsIT1lLmZyb20ubGluZSlfbih0aGlzKSx0aGlzLmN1ck9wLnNjcm9sbFRvUG9zPWU7ZWxzZXt2YXIgbj1Ibih0aGlzLE1hdGgubWluKGUuZnJvbS5sZWZ0LGUudG8ubGVmdCksTWF0aC5taW4oZS5mcm9tLnRvcCxlLnRvLnRvcCktZS5tYXJnaW4sTWF0aC5tYXgoZS5mcm9tLnJpZ2h0LGUudG8ucmlnaHQpLE1hdGgubWF4KGUuZnJvbS5ib3R0b20sZS50by5ib3R0b20pK2UubWFyZ2luKTt0aGlzLnNjcm9sbFRvKG4uc2Nyb2xsTGVmdCxuLnNjcm9sbFRvcCl9fSksc2V0U2l6ZTpPdChmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlfHwvXlxkKyQvLnRlc3QoU3RyaW5nKGUpKT9lKyJweCI6ZX12YXIgcj10aGlzO251bGwhPWUmJihyLmRpc3BsYXkud3JhcHBlci5zdHlsZS53aWR0aD1uKGUpKSxudWxsIT10JiYoci5kaXNwbGF5LndyYXBwZXIuc3R5bGUuaGVpZ2h0PW4odCkpLHIub3B0aW9ucy5saW5lV3JhcHBpbmcmJmF0KHRoaXMpO3ZhciBpPXIuZGlzcGxheS52aWV3RnJvbTtyLmRvYy5pdGVyKGksci5kaXNwbGF5LnZpZXdUbyxmdW5jdGlvbihlKXtpZihlLndpZGdldHMpZm9yKHZhciB0PTA7dDxlLndpZGdldHMubGVuZ3RoO3QrKylpZihlLndpZGdldHNbdF0ubm9IU2Nyb2xsKXtIdChyLGksIndpZGdldCIpO2JyZWFrfSsraX0pLHIuY3VyT3AuZm9yY2VVcGRhdGU9ITAsUGEociwicmVmcmVzaCIsdGhpcyl9KSxvcGVyYXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIEF0KHRoaXMsZSl9LHJlZnJlc2g6T3QoZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodDtEdCh0aGlzKSx0aGlzLmN1ck9wLmZvcmNlVXBkYXRlPSEwLGx0KHRoaXMpLHRoaXMuc2Nyb2xsVG8odGhpcy5kb2Muc2Nyb2xsTGVmdCx0aGlzLmRvYy5zY3JvbGxUb3ApLHUodGhpcyksKG51bGw9PWV8fE1hdGguYWJzKGUteXQodGhpcy5kaXNwbGF5KSk+LjUpJiZhKHRoaXMpLFBhKHRoaXMsInJlZnJlc2giLHRoaXMpfSksc3dhcERvYzpPdChmdW5jdGlvbihlKXt2YXIgdD10aGlzLmRvYztyZXR1cm4gdC5jbT1udWxsLFhyKHRoaXMsZSksbHQodGhpcyksdGhpcy5kaXNwbGF5LmlucHV0LnJlc2V0KCksdGhpcy5zY3JvbGxUbyhlLnNjcm9sbExlZnQsZS5zY3JvbGxUb3ApLHRoaXMuY3VyT3AuZm9yY2VTY3JvbGw9ITAsQ2kodGhpcywic3dhcERvYyIsdGhpcyx0KSx0fSksZ2V0SW5wdXRGaWVsZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuaW5wdXQuZ2V0RmllbGQoKX0sZ2V0V3JhcHBlckVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5LndyYXBwZXJ9LGdldFNjcm9sbGVyRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuc2Nyb2xsZXJ9LGdldEd1dHRlckVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5Lmd1dHRlcnN9fSxBaShlKTt2YXIgZWE9ZS5kZWZhdWx0cz17fSx0YT1lLm9wdGlvbkhhbmRsZXJzPXt9LG5hPWUuSW5pdD17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4iQ29kZU1pcnJvci5Jbml0In19O0duKCJ2YWx1ZSIsIiIsZnVuY3Rpb24oZSx0KXtlLnNldFZhbHVlKHQpfSwhMCksR24oIm1vZGUiLG51bGwsZnVuY3Rpb24oZSx0KXtlLmRvYy5tb2RlT3B0aW9uPXQsbihlKX0sITApLEduKCJpbmRlbnRVbml0IiwyLG4sITApLEduKCJpbmRlbnRXaXRoVGFicyIsITEpLEduKCJzbWFydEluZGVudCIsITApLEduKCJ0YWJTaXplIiw0LGZ1bmN0aW9uKGUpe3IoZSksbHQoZSksRHQoZSl9LCEwKSxHbigibGluZVNlcGFyYXRvciIsbnVsbCxmdW5jdGlvbihlLHQpe2lmKGUuZG9jLmxpbmVTZXA9dCx0KXt2YXIgbj1bXSxyPWUuZG9jLmZpcnN0O2UuZG9jLml0ZXIoZnVuY3Rpb24oZSl7Zm9yKHZhciBpPTA7Oyl7dmFyIG89ZS50ZXh0LmluZGV4T2YodCxpKTtpZigtMT09bylicmVhaztpPW8rdC5sZW5ndGgsbi5wdXNoKEJvKHIsbykpfXIrK30pO2Zvcih2YXIgaT1uLmxlbmd0aC0xO2k+PTA7aS0tKUluKGUuZG9jLHQsbltpXSxCbyhuW2ldLmxpbmUsbltpXS5jaCt0Lmxlbmd0aCkpfX0pLEduKCJzcGVjaWFsQ2hhcnMiLC9bXHUwMDAwLVx1MDAxZlx1MDA3Zlx1MDBhZFx1MjAwYi1cdTIwMGZcdTIwMjhcdTIwMjlcdWZlZmZdL2csZnVuY3Rpb24odCxuLHIpe3Quc3RhdGUuc3BlY2lhbENoYXJzPW5ldyBSZWdFeHAobi5zb3VyY2UrKG4udGVzdCgiCSIpPyIiOiJ8CSIpLCJnIiksciE9ZS5Jbml0JiZ0LnJlZnJlc2goKX0pLEduKCJzcGVjaWFsQ2hhclBsYWNlaG9sZGVyIixfcixmdW5jdGlvbihlKXtlLnJlZnJlc2goKX0sITApLEduKCJlbGVjdHJpY0NoYXJzIiwhMCksR24oImlucHV0U3R5bGUiLEFvPyJjb250ZW50ZWRpdGFibGUiOiJ0ZXh0YXJlYSIsZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImlucHV0U3R5bGUgY2FuIG5vdCAoeWV0KSBiZSBjaGFuZ2VkIGluIGEgcnVubmluZyBlZGl0b3IiKX0sITApLEduKCJydGxNb3ZlVmlzdWFsbHkiLCFJbyksR24oIndob2xlTGluZVVwZGF0ZUJlZm9yZSIsITApLEduKCJ0aGVtZSIsImRlZmF1bHQiLGZ1bmN0aW9uKGUpe2woZSkscyhlKX0sITApLEduKCJrZXlNYXAiLCJkZWZhdWx0IixmdW5jdGlvbih0LG4scil7dmFyIGk9JG4obiksbz1yIT1lLkluaXQmJiRuKHIpO28mJm8uZGV0YWNoJiZvLmRldGFjaCh0LGkpLGkuYXR0YWNoJiZpLmF0dGFjaCh0LG98fG51bGwpfSksR24oImV4dHJhS2V5cyIsbnVsbCksR24oImxpbmVXcmFwcGluZyIsITEsaSwhMCksR24oImd1dHRlcnMiLFtdLGZ1bmN0aW9uKGUpe2QoZS5vcHRpb25zKSxzKGUpfSwhMCksR24oImZpeGVkR3V0dGVyIiwhMCxmdW5jdGlvbihlLHQpe2UuZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmxlZnQ9dD9DKGUuZGlzcGxheSkrInB4IjoiMCIsZS5yZWZyZXNoKCl9LCEwKSxHbigiY292ZXJHdXR0ZXJOZXh0VG9TY3JvbGxiYXIiLCExLGZ1bmN0aW9uKGUpe3koZSl9LCEwKSxHbigic2Nyb2xsYmFyU3R5bGUiLCJuYXRpdmUiLGZ1bmN0aW9uKGUpe3YoZSkseShlKSxlLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3AoZS5kb2Muc2Nyb2xsVG9wKSxlLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KGUuZG9jLnNjcm9sbExlZnQpfSwhMCksR24oImxpbmVOdW1iZXJzIiwhMSxmdW5jdGlvbihlKXtkKGUub3B0aW9ucykscyhlKX0sITApLEduKCJmaXJzdExpbmVOdW1iZXIiLDEscywhMCksR24oImxpbmVOdW1iZXJGb3JtYXR0ZXIiLGZ1bmN0aW9uKGUpe3JldHVybiBlfSxzLCEwKSxHbigic2hvd0N1cnNvcldoZW5TZWxlY3RpbmciLCExLFJlLCEwKSxHbigicmVzZXRTZWxlY3Rpb25PbkNvbnRleHRNZW51IiwhMCksR24oImxpbmVXaXNlQ29weUN1dCIsITApLEduKCJyZWFkT25seSIsITEsZnVuY3Rpb24oZSx0KXsibm9jdXJzb3IiPT10Pyh5bihlKSxlLmRpc3BsYXkuaW5wdXQuYmx1cigpLGUuZGlzcGxheS5kaXNhYmxlZD0hMCk6ZS5kaXNwbGF5LmRpc2FibGVkPSExLGUuZGlzcGxheS5pbnB1dC5yZWFkT25seUNoYW5nZWQodCl9KSxHbigiZGlzYWJsZUlucHV0IiwhMSxmdW5jdGlvbihlLHQpe3R8fGUuZGlzcGxheS5pbnB1dC5yZXNldCgpfSwhMCksR24oImRyYWdEcm9wIiwhMCxVdCksR24oImFsbG93RHJvcEZpbGVUeXBlcyIsbnVsbCksR24oImN1cnNvckJsaW5rUmF0ZSIsNTMwKSxHbigiY3Vyc29yU2Nyb2xsTWFyZ2luIiwwKSxHbigiY3Vyc29ySGVpZ2h0IiwxLFJlLCEwKSxHbigic2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZSIsITAsUmUsITApLEduKCJ3b3JrVGltZSIsMTAwKSxHbigid29ya0RlbGF5IiwxMDApLEduKCJmbGF0dGVuU3BhbnMiLCEwLHIsITApLEduKCJhZGRNb2RlQ2xhc3MiLCExLHIsITApLEduKCJwb2xsSW50ZXJ2YWwiLDEwMCksR24oInVuZG9EZXB0aCIsMjAwLGZ1bmN0aW9uKGUsdCl7ZS5kb2MuaGlzdG9yeS51bmRvRGVwdGg9dH0pLEduKCJoaXN0b3J5RXZlbnREZWxheSIsMTI1MCksR24oInZpZXdwb3J0TWFyZ2luIiwxMCxmdW5jdGlvbihlKXtlLnJlZnJlc2goKX0sITApLEduKCJtYXhIaWdobGlnaHRMZW5ndGgiLDFlNCxyLCEwKSxHbigibW92ZUlucHV0V2l0aEN1cnNvciIsITAsZnVuY3Rpb24oZSx0KXt0fHxlLmRpc3BsYXkuaW5wdXQucmVzZXRQb3NpdGlvbigpfSksR24oInRhYmluZGV4IixudWxsLGZ1bmN0aW9uKGUsdCl7ZS5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCkudGFiSW5kZXg9dHx8IiJ9KSxHbigiYXV0b2ZvY3VzIixudWxsKTt2YXIgcmE9ZS5tb2Rlcz17fSxpYT1lLm1pbWVNb2Rlcz17fTtlLmRlZmluZU1vZGU9ZnVuY3Rpb24odCxuKXtlLmRlZmF1bHRzLm1vZGV8fCJudWxsIj09dHx8KGUuZGVmYXVsdHMubW9kZT10KSxhcmd1bWVudHMubGVuZ3RoPjImJihuLmRlcGVuZGVuY2llcz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpLHJhW3RdPW59LGUuZGVmaW5lTUlNRT1mdW5jdGlvbihlLHQpe2lhW2VdPXR9LGUucmVzb2x2ZU1vZGU9ZnVuY3Rpb24odCl7aWYoInN0cmluZyI9PXR5cGVvZiB0JiZpYS5oYXNPd25Qcm9wZXJ0eSh0KSl0PWlhW3RdO2Vsc2UgaWYodCYmInN0cmluZyI9PXR5cGVvZiB0Lm5hbWUmJmlhLmhhc093blByb3BlcnR5KHQubmFtZSkpe3ZhciBuPWlhW3QubmFtZV07InN0cmluZyI9PXR5cGVvZiBuJiYobj17bmFtZTpufSksdD1IaShuLHQpLHQubmFtZT1uLm5hbWV9ZWxzZSBpZigic3RyaW5nIj09dHlwZW9mIHQmJi9eW1x3XC1dK1wvW1x3XC1dK1wreG1sJC8udGVzdCh0KSlyZXR1cm4gZS5yZXNvbHZlTW9kZSgiYXBwbGljYXRpb24veG1sIik7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3tuYW1lOnR9OnR8fHtuYW1lOiJudWxsIn19LGUuZ2V0TW9kZT1mdW5jdGlvbih0LG4pe3ZhciBuPWUucmVzb2x2ZU1vZGUobikscj1yYVtuLm5hbWVdO2lmKCFyKXJldHVybiBlLmdldE1vZGUodCwidGV4dC9wbGFpbiIpO3ZhciBpPXIodCxuKTtpZihvYS5oYXNPd25Qcm9wZXJ0eShuLm5hbWUpKXt2YXIgbz1vYVtuLm5hbWVdO2Zvcih2YXIgYSBpbiBvKW8uaGFzT3duUHJvcGVydHkoYSkmJihpLmhhc093blByb3BlcnR5KGEpJiYoaVsiXyIrYV09aVthXSksaVthXT1vW2FdKX1pZihpLm5hbWU9bi5uYW1lLG4uaGVscGVyVHlwZSYmKGkuaGVscGVyVHlwZT1uLmhlbHBlclR5cGUpLG4ubW9kZVByb3BzKWZvcih2YXIgYSBpbiBuLm1vZGVQcm9wcylpW2FdPW4ubW9kZVByb3BzW2FdO3JldHVybiBpfSxlLmRlZmluZU1vZGUoIm51bGwiLGZ1bmN0aW9uKCl7cmV0dXJue3Rva2VuOmZ1bmN0aW9uKGUpe2Uuc2tpcFRvRW5kKCl9fX0pLGUuZGVmaW5lTUlNRSgidGV4dC9wbGFpbiIsIm51bGwiKTt2YXIgb2E9ZS5tb2RlRXh0ZW5zaW9ucz17fTtlLmV4dGVuZE1vZGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1vYS5oYXNPd25Qcm9wZXJ0eShlKT9vYVtlXTpvYVtlXT17fTtXaSh0LG4pfSxlLmRlZmluZUV4dGVuc2lvbj1mdW5jdGlvbih0LG4pe2UucHJvdG90eXBlW3RdPW59LGUuZGVmaW5lRG9jRXh0ZW5zaW9uPWZ1bmN0aW9uKGUsdCl7Q2EucHJvdG90eXBlW2VdPXR9LGUuZGVmaW5lT3B0aW9uPUduO3ZhciBhYT1bXTtlLmRlZmluZUluaXRIb29rPWZ1bmN0aW9uKGUpe2FhLnB1c2goZSl9O3ZhciBsYT1lLmhlbHBlcnM9e307ZS5yZWdpc3RlckhlbHBlcj1mdW5jdGlvbih0LG4scil7bGEuaGFzT3duUHJvcGVydHkodCl8fChsYVt0XT1lW3RdPXtfZ2xvYmFsOltdfSksbGFbdF1bbl09cn0sZS5yZWdpc3Rlckdsb2JhbEhlbHBlcj1mdW5jdGlvbih0LG4scixpKXtlLnJlZ2lzdGVySGVscGVyKHQsbixpKSxsYVt0XS5fZ2xvYmFsLnB1c2goe3ByZWQ6cix2YWw6aX0pfTt2YXIgc2E9ZS5jb3B5U3RhdGU9ZnVuY3Rpb24oZSx0KXtpZih0PT09ITApcmV0dXJuIHQ7aWYoZS5jb3B5U3RhdGUpcmV0dXJuIGUuY29weVN0YXRlKHQpO3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0KXt2YXIgaT10W3JdO2kgaW5zdGFuY2VvZiBBcnJheSYmKGk9aS5jb25jYXQoW10pKSxuW3JdPWl9cmV0dXJuIG59LGNhPWUuc3RhcnRTdGF0ZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuc3RhcnRTdGF0ZT9lLnN0YXJ0U3RhdGUodCxuKTohMH07ZS5pbm5lck1vZGU9ZnVuY3Rpb24oZSx0KXtmb3IoO2UuaW5uZXJNb2RlOyl7dmFyIG49ZS5pbm5lck1vZGUodCk7aWYoIW58fG4ubW9kZT09ZSlicmVhazt0PW4uc3RhdGUsZT1uLm1vZGV9cmV0dXJuIG58fHttb2RlOmUsc3RhdGU6dH19O3ZhciB1YT1lLmNvbW1hbmRzPXtzZWxlY3RBbGw6ZnVuY3Rpb24oZSl7ZS5zZXRTZWxlY3Rpb24oQm8oZS5maXJzdExpbmUoKSwwKSxCbyhlLmxhc3RMaW5lKCkpLFdhKX0sc2luZ2xlU2VsZWN0aW9uOmZ1bmN0aW9uKGUpe2Uuc2V0U2VsZWN0aW9uKGUuZ2V0Q3Vyc29yKCJhbmNob3IiKSxlLmdldEN1cnNvcigiaGVhZCIpLFdhKX0sa2lsbExpbmU6ZnVuY3Rpb24oZSl7am4oZSxmdW5jdGlvbih0KXtpZih0LmVtcHR5KCkpe3ZhciBuPVpyKGUuZG9jLHQuaGVhZC5saW5lKS50ZXh0Lmxlbmd0aDtyZXR1cm4gdC5oZWFkLmNoPT1uJiZ0LmhlYWQubGluZTxlLmxhc3RMaW5lKCk/e2Zyb206dC5oZWFkLHRvOkJvKHQuaGVhZC5saW5lKzEsMCl9Ontmcm9tOnQuaGVhZCx0bzpCbyh0LmhlYWQubGluZSxuKX19cmV0dXJue2Zyb206dC5mcm9tKCksdG86dC50bygpfX0pfSxkZWxldGVMaW5lOmZ1bmN0aW9uKGUpe2puKGUsZnVuY3Rpb24odCl7cmV0dXJue2Zyb206Qm8odC5mcm9tKCkubGluZSwwKSx0bzptZShlLmRvYyxCbyh0LnRvKCkubGluZSsxLDApKX19KX0sZGVsTGluZUxlZnQ6ZnVuY3Rpb24oZSl7am4oZSxmdW5jdGlvbihlKXtyZXR1cm57ZnJvbTpCbyhlLmZyb20oKS5saW5lLDApLHRvOmUuZnJvbSgpfX0pfSxkZWxXcmFwcGVkTGluZUxlZnQ6ZnVuY3Rpb24oZSl7am4oZSxmdW5jdGlvbih0KXt2YXIgbj1lLmNoYXJDb29yZHModC5oZWFkLCJkaXYiKS50b3ArNSxyPWUuY29vcmRzQ2hhcih7bGVmdDowLHRvcDpufSwiZGl2Iik7cmV0dXJue2Zyb206cix0bzp0LmZyb20oKX19KX0sZGVsV3JhcHBlZExpbmVSaWdodDpmdW5jdGlvbihlKXtqbihlLGZ1bmN0aW9uKHQpe3ZhciBuPWUuY2hhckNvb3Jkcyh0LmhlYWQsImRpdiIpLnRvcCs1LHI9ZS5jb29yZHNDaGFyKHtsZWZ0OmUuZGlzcGxheS5saW5lRGl2Lm9mZnNldFdpZHRoKzEwMCx0b3A6bn0sImRpdiIpO3JldHVybntmcm9tOnQuZnJvbSgpLHRvOnJ9fSl9LHVuZG86ZnVuY3Rpb24oZSl7ZS51bmRvKCl9LHJlZG86ZnVuY3Rpb24oZSl7ZS5yZWRvKCl9LHVuZG9TZWxlY3Rpb246ZnVuY3Rpb24oZSl7ZS51bmRvU2VsZWN0aW9uKCl9LHJlZG9TZWxlY3Rpb246ZnVuY3Rpb24oZSl7ZS5yZWRvU2VsZWN0aW9uKCl9LGdvRG9jU3RhcnQ6ZnVuY3Rpb24oZSl7ZS5leHRlbmRTZWxlY3Rpb24oQm8oZS5maXJzdExpbmUoKSwwKSl9LGdvRG9jRW5kOmZ1bmN0aW9uKGUpe2UuZXh0ZW5kU2VsZWN0aW9uKEJvKGUubGFzdExpbmUoKSkpfSxnb0xpbmVTdGFydDpmdW5jdGlvbihlKXtlLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbih0KXtyZXR1cm4gb28oZSx0LmhlYWQubGluZSl9LHtvcmlnaW46Iittb3ZlIixiaWFzOjF9KX0sZ29MaW5lU3RhcnRTbWFydDpmdW5jdGlvbihlKXtlLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbih0KXtyZXR1cm4gbG8oZSx0LmhlYWQpfSx7b3JpZ2luOiIrbW92ZSIsYmlhczoxfSl9LGdvTGluZUVuZDpmdW5jdGlvbihlKXtlLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbih0KXtyZXR1cm4gYW8oZSx0LmhlYWQubGluZSl9LHtvcmlnaW46Iittb3ZlIixiaWFzOi0xfSl9LGdvTGluZVJpZ2h0OmZ1bmN0aW9uKGUpe2UuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHQpe3ZhciBuPWUuY2hhckNvb3Jkcyh0LmhlYWQsImRpdiIpLnRvcCs1O3JldHVybiBlLmNvb3Jkc0NoYXIoe2xlZnQ6ZS5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGgrMTAwLHRvcDpufSwiZGl2Iil9LF9hKX0sZ29MaW5lTGVmdDpmdW5jdGlvbihlKXtlLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbih0KXt2YXIgbj1lLmNoYXJDb29yZHModC5oZWFkLCJkaXYiKS50b3ArNTtyZXR1cm4gZS5jb29yZHNDaGFyKHtsZWZ0OjAsdG9wOm59LCJkaXYiKX0sX2EpfSxnb0xpbmVMZWZ0U21hcnQ6ZnVuY3Rpb24oZSl7ZS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24odCl7dmFyIG49ZS5jaGFyQ29vcmRzKHQuaGVhZCwiZGl2IikudG9wKzUscj1lLmNvb3Jkc0NoYXIoe2xlZnQ6MCx0b3A6bn0sImRpdiIpO3JldHVybiByLmNoPGUuZ2V0TGluZShyLmxpbmUpLnNlYXJjaCgvXFMvKT9sbyhlLHQuaGVhZCk6cn0sX2EpfSxnb0xpbmVVcDpmdW5jdGlvbihlKXtlLm1vdmVWKC0xLCJsaW5lIil9LGdvTGluZURvd246ZnVuY3Rpb24oZSl7ZS5tb3ZlVigxLCJsaW5lIil9LGdvUGFnZVVwOmZ1bmN0aW9uKGUpe2UubW92ZVYoLTEsInBhZ2UiKX0sZ29QYWdlRG93bjpmdW5jdGlvbihlKXtlLm1vdmVWKDEsInBhZ2UiKX0sZ29DaGFyTGVmdDpmdW5jdGlvbihlKXtlLm1vdmVIKC0xLCJjaGFyIil9LGdvQ2hhclJpZ2h0OmZ1bmN0aW9uKGUpe2UubW92ZUgoMSwiY2hhciIpfSxnb0NvbHVtbkxlZnQ6ZnVuY3Rpb24oZSl7ZS5tb3ZlSCgtMSwiY29sdW1uIil9LGdvQ29sdW1uUmlnaHQ6ZnVuY3Rpb24oZSl7ZS5tb3ZlSCgxLCJjb2x1bW4iKX0sZ29Xb3JkTGVmdDpmdW5jdGlvbihlKXtlLm1vdmVIKC0xLCJ3b3JkIil9LGdvR3JvdXBSaWdodDpmdW5jdGlvbihlKXtlLm1vdmVIKDEsImdyb3VwIil9LGdvR3JvdXBMZWZ0OmZ1bmN0aW9uKGUpe2UubW92ZUgoLTEsImdyb3VwIil9LGdvV29yZFJpZ2h0OmZ1bmN0aW9uKGUpe2UubW92ZUgoMSwid29yZCIpfSxkZWxDaGFyQmVmb3JlOmZ1bmN0aW9uKGUpe2UuZGVsZXRlSCgtMSwiY2hhciIpfSxkZWxDaGFyQWZ0ZXI6ZnVuY3Rpb24oZSl7ZS5kZWxldGVIKDEsImNoYXIiKX0sZGVsV29yZEJlZm9yZTpmdW5jdGlvbihlKXtlLmRlbGV0ZUgoLTEsIndvcmQiKX0sZGVsV29yZEFmdGVyOmZ1bmN0aW9uKGUpe2UuZGVsZXRlSCgxLCJ3b3JkIil9LGRlbEdyb3VwQmVmb3JlOmZ1bmN0aW9uKGUpe2UuZGVsZXRlSCgtMSwiZ3JvdXAiKX0sZGVsR3JvdXBBZnRlcjpmdW5jdGlvbihlKXtlLmRlbGV0ZUgoMSwiZ3JvdXAiKX0saW5kZW50QXV0bzpmdW5jdGlvbihlKXtlLmluZGVudFNlbGVjdGlvbigic21hcnQiKX0saW5kZW50TW9yZTpmdW5jdGlvbihlKXtlLmluZGVudFNlbGVjdGlvbigiYWRkIil9LGluZGVudExlc3M6ZnVuY3Rpb24oZSl7ZS5pbmRlbnRTZWxlY3Rpb24oInN1YnRyYWN0Iil9LGluc2VydFRhYjpmdW5jdGlvbihlKXtlLnJlcGxhY2VTZWxlY3Rpb24oIgkiKX0saW5zZXJ0U29mdFRhYjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1lLmxpc3RTZWxlY3Rpb25zKCkscj1lLm9wdGlvbnMudGFiU2l6ZSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBvPW5baV0uZnJvbSgpLGE9RmEoZS5nZXRMaW5lKG8ubGluZSksby5jaCxyKTt0LnB1c2goT2koci1hJXIpKX1lLnJlcGxhY2VTZWxlY3Rpb25zKHQpfSxkZWZhdWx0VGFiOmZ1bmN0aW9uKGUpe2Uuc29tZXRoaW5nU2VsZWN0ZWQoKT9lLmluZGVudFNlbGVjdGlvbigiYWRkIik6ZS5leGVjQ29tbWFuZCgiaW5zZXJ0VGFiIil9LHRyYW5zcG9zZUNoYXJzOmZ1bmN0aW9uKGUpe0F0KGUsZnVuY3Rpb24oKXtmb3IodmFyIHQ9ZS5saXN0U2VsZWN0aW9ucygpLG49W10scj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdLmhlYWQsbz1acihlLmRvYyxpLmxpbmUpLnRleHQ7aWYobylpZihpLmNoPT1vLmxlbmd0aCYmKGk9bmV3IEJvKGkubGluZSxpLmNoLTEpKSxpLmNoPjApaT1uZXcgQm8oaS5saW5lLGkuY2grMSksZS5yZXBsYWNlUmFuZ2Uoby5jaGFyQXQoaS5jaC0xKStvLmNoYXJBdChpLmNoLTIpLEJvKGkubGluZSxpLmNoLTIpLGksIit0cmFuc3Bvc2UiKTtlbHNlIGlmKGkubGluZT5lLmRvYy5maXJzdCl7dmFyIGE9WnIoZS5kb2MsaS5saW5lLTEpLnRleHQ7YSYmZS5yZXBsYWNlUmFuZ2Uoby5jaGFyQXQoMCkrZS5kb2MubGluZVNlcGFyYXRvcigpK2EuY2hhckF0KGEubGVuZ3RoLTEpLEJvKGkubGluZS0xLGEubGVuZ3RoLTEpLEJvKGkubGluZSwxKSwiK3RyYW5zcG9zZSIpfW4ucHVzaChuZXcgZmUoaSxpKSl9ZS5zZXRTZWxlY3Rpb25zKG4pfSl9LG5ld2xpbmVBbmRJbmRlbnQ6ZnVuY3Rpb24oZSl7QXQoZSxmdW5jdGlvbigpe2Zvcih2YXIgdD1lLmxpc3RTZWxlY3Rpb25zKCkubGVuZ3RoLG49MDt0Pm47bisrKXt2YXIgcj1lLmxpc3RTZWxlY3Rpb25zKClbbl07ZS5yZXBsYWNlUmFuZ2UoZS5kb2MubGluZVNlcGFyYXRvcigpLHIuYW5jaG9yLHIuaGVhZCwiK2lucHV0IiksZS5pbmRlbnRMaW5lKHIuZnJvbSgpLmxpbmUrMSxudWxsLCEwKX1CbihlKX0pfSxvcGVuTGluZTpmdW5jdGlvbihlKXtlLnJlcGxhY2VTZWxlY3Rpb24oIlxuIiwic3RhcnQiKX0sdG9nZ2xlT3ZlcndyaXRlOmZ1bmN0aW9uKGUpe2UudG9nZ2xlT3ZlcndyaXRlKCl9fSxmYT1lLmtleU1hcD17fTtmYS5iYXNpYz17TGVmdDoiZ29DaGFyTGVmdCIsUmlnaHQ6ImdvQ2hhclJpZ2h0IixVcDoiZ29MaW5lVXAiLERvd246ImdvTGluZURvd24iLEVuZDoiZ29MaW5lRW5kIixIb21lOiJnb0xpbmVTdGFydFNtYXJ0IixQYWdlVXA6ImdvUGFnZVVwIixQYWdlRG93bjoiZ29QYWdlRG93biIsRGVsZXRlOiJkZWxDaGFyQWZ0ZXIiLEJhY2tzcGFjZToiZGVsQ2hhckJlZm9yZSIsIlNoaWZ0LUJhY2tzcGFjZSI6ImRlbENoYXJCZWZvcmUiLFRhYjoiZGVmYXVsdFRhYiIsIlNoaWZ0LVRhYiI6ImluZGVudEF1dG8iLEVudGVyOiJuZXdsaW5lQW5kSW5kZW50IixJbnNlcnQ6InRvZ2dsZU92ZXJ3cml0ZSIsRXNjOiJzaW5nbGVTZWxlY3Rpb24ifSxmYS5wY0RlZmF1bHQ9eyJDdHJsLUEiOiJzZWxlY3RBbGwiLCJDdHJsLUQiOiJkZWxldGVMaW5lIiwiQ3RybC1aIjoidW5kbyIsIlNoaWZ0LUN0cmwtWiI6InJlZG8iLCJDdHJsLVkiOiJyZWRvIiwiQ3RybC1Ib21lIjoiZ29Eb2NTdGFydCIsIkN0cmwtRW5kIjoiZ29Eb2NFbmQiLCJDdHJsLVVwIjoiZ29MaW5lVXAiLCJDdHJsLURvd24iOiJnb0xpbmVEb3duIiwiQ3RybC1MZWZ0IjoiZ29Hcm91cExlZnQiLCJDdHJsLVJpZ2h0IjoiZ29Hcm91cFJpZ2h0IiwiQWx0LUxlZnQiOiJnb0xpbmVTdGFydCIsIkFsdC1SaWdodCI6ImdvTGluZUVuZCIsIkN0cmwtQmFja3NwYWNlIjoiZGVsR3JvdXBCZWZvcmUiLCJDdHJsLURlbGV0ZSI6ImRlbEdyb3VwQWZ0ZXIiLCJDdHJsLVMiOiJzYXZlIiwiQ3RybC1GIjoiZmluZCIsIkN0cmwtRyI6ImZpbmROZXh0IiwiU2hpZnQtQ3RybC1HIjoiZmluZFByZXYiLCJTaGlmdC1DdHJsLUYiOiJyZXBsYWNlIiwiU2hpZnQtQ3RybC1SIjoicmVwbGFjZUFsbCIsIkN0cmwtWyI6ImluZGVudExlc3MiLCJDdHJsLV0iOiJpbmRlbnRNb3JlIiwiQ3RybC1VIjoidW5kb1NlbGVjdGlvbiIsIlNoaWZ0LUN0cmwtVSI6InJlZG9TZWxlY3Rpb24iLCJBbHQtVSI6InJlZG9TZWxlY3Rpb24iLGZhbGx0aHJvdWdoOiJiYXNpYyJ9LGZhLmVtYWNzeT17IkN0cmwtRiI6ImdvQ2hhclJpZ2h0IiwiQ3RybC1CIjoiZ29DaGFyTGVmdCIsIkN0cmwtUCI6ImdvTGluZVVwIiwiQ3RybC1OIjoiZ29MaW5lRG93biIsIkFsdC1GIjoiZ29Xb3JkUmlnaHQiLCJBbHQtQiI6ImdvV29yZExlZnQiLCJDdHJsLUEiOiJnb0xpbmVTdGFydCIsIkN0cmwtRSI6ImdvTGluZUVuZCIsIkN0cmwtViI6ImdvUGFnZURvd24iLCJTaGlmdC1DdHJsLVYiOiJnb1BhZ2VVcCIsIkN0cmwtRCI6ImRlbENoYXJBZnRlciIsIkN0cmwtSCI6ImRlbENoYXJCZWZvcmUiLCJBbHQtRCI6ImRlbFdvcmRBZnRlciIsIkFsdC1CYWNrc3BhY2UiOiJkZWxXb3JkQmVmb3JlIiwiQ3RybC1LIjoia2lsbExpbmUiLCJDdHJsLVQiOiJ0cmFuc3Bvc2VDaGFycyIsIkN0cmwtTyI6Im9wZW5MaW5lIn0sZmEubWFjRGVmYXVsdD17IkNtZC1BIjoic2VsZWN0QWxsIiwiQ21kLUQiOiJkZWxldGVMaW5lIiwiQ21kLVoiOiJ1bmRvIiwiU2hpZnQtQ21kLVoiOiJyZWRvIiwiQ21kLVkiOiJyZWRvIiwiQ21kLUhvbWUiOiJnb0RvY1N0YXJ0IiwiQ21kLVVwIjoiZ29Eb2NTdGFydCIsIkNtZC1FbmQiOiJnb0RvY0VuZCIsIkNtZC1Eb3duIjoiZ29Eb2NFbmQiLCJBbHQtTGVmdCI6ImdvR3JvdXBMZWZ0IiwiQWx0LVJpZ2h0IjoiZ29Hcm91cFJpZ2h0IiwiQ21kLUxlZnQiOiJnb0xpbmVMZWZ0IiwiQ21kLVJpZ2h0IjoiZ29MaW5lUmlnaHQiLCJBbHQtQmFja3NwYWNlIjoiZGVsR3JvdXBCZWZvcmUiLCJDdHJsLUFsdC1CYWNrc3BhY2UiOiJkZWxHcm91cEFmdGVyIiwiQWx0LURlbGV0ZSI6ImRlbEdyb3VwQWZ0ZXIiLCJDbWQtUyI6InNhdmUiLCJDbWQtRiI6ImZpbmQiLCJDbWQtRyI6ImZpbmROZXh0IiwiU2hpZnQtQ21kLUciOiJmaW5kUHJldiIsIkNtZC1BbHQtRiI6InJlcGxhY2UiLCJTaGlmdC1DbWQtQWx0LUYiOiJyZXBsYWNlQWxsIiwiQ21kLVsiOiJpbmRlbnRMZXNzIiwiQ21kLV0iOiJpbmRlbnRNb3JlIiwiQ21kLUJhY2tzcGFjZSI6ImRlbFdyYXBwZWRMaW5lTGVmdCIsIkNtZC1EZWxldGUiOiJkZWxXcmFwcGVkTGluZVJpZ2h0IiwiQ21kLVUiOiJ1bmRvU2VsZWN0aW9uIiwiU2hpZnQtQ21kLVUiOiJyZWRvU2VsZWN0aW9uIiwiQ3RybC1VcCI6ImdvRG9jU3RhcnQiLCJDdHJsLURvd24iOiJnb0RvY0VuZCIsZmFsbHRocm91Z2g6WyJiYXNpYyIsImVtYWNzeSJdfSxmYVsiZGVmYXVsdCJdPUVvP2ZhLm1hY0RlZmF1bHQ6ZmEucGNEZWZhdWx0LGUubm9ybWFsaXplS2V5TWFwPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikpe3ZhciByPWVbbl07aWYoL14obmFtZXxmYWxsdGhyb3VnaHwoZGV8YXQpdGFjaCkkLy50ZXN0KG4pKWNvbnRpbnVlO2lmKCIuLi4iPT1yKXtkZWxldGUgZVtuXTtjb250aW51ZX1mb3IodmFyIGk9Umkobi5zcGxpdCgiICIpLFluKSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBhLGw7bz09aS5sZW5ndGgtMT8obD1pLmpvaW4oIiAiKSxhPXIpOihsPWkuc2xpY2UoMCxvKzEpLmpvaW4oIiAiKSxhPSIuLi4iKTt2YXIgcz10W2xdO2lmKHMpe2lmKHMhPWEpdGhyb3cgbmV3IEVycm9yKCJJbmNvbnNpc3RlbnQgYmluZGluZ3MgZm9yICIrbCl9ZWxzZSB0W2xdPWF9ZGVsZXRlIGVbbl19Zm9yKHZhciBjIGluIHQpZVtjXT10W2NdO3JldHVybiBlfTt2YXIgaGE9ZS5sb29rdXBLZXk9ZnVuY3Rpb24oZSx0LG4scil7dD0kbih0KTt2YXIgaT10LmNhbGw/dC5jYWxsKGUscik6dFtlXTtpZihpPT09ITEpcmV0dXJuIm5vdGhpbmciO2lmKCIuLi4iPT09aSlyZXR1cm4ibXVsdGkiO2lmKG51bGwhPWkmJm4oaSkpcmV0dXJuImhhbmRsZWQiO2lmKHQuZmFsbHRocm91Z2gpe2lmKCJbb2JqZWN0IEFycmF5XSIhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0LmZhbGx0aHJvdWdoKSlyZXR1cm4gaGEoZSx0LmZhbGx0aHJvdWdoLG4scik7Zm9yKHZhciBvPTA7bzx0LmZhbGx0aHJvdWdoLmxlbmd0aDtvKyspe3ZhciBhPWhhKGUsdC5mYWxsdGhyb3VnaFtvXSxuLHIpOwppZihhKXJldHVybiBhfX19LGRhPWUuaXNNb2RpZmllcktleT1mdW5jdGlvbihlKXt2YXIgdD0ic3RyaW5nIj09dHlwZW9mIGU/ZTpvbFtlLmtleUNvZGVdO3JldHVybiJDdHJsIj09dHx8IkFsdCI9PXR8fCJTaGlmdCI9PXR8fCJNb2QiPT10fSxwYT1lLmtleU5hbWU9ZnVuY3Rpb24oZSx0KXtpZihDbyYmMzQ9PWUua2V5Q29kZSYmZVsiY2hhciJdKXJldHVybiExO3ZhciBuPW9sW2Uua2V5Q29kZV0scj1uO3JldHVybiBudWxsPT1yfHxlLmFsdEdyYXBoS2V5PyExOihlLmFsdEtleSYmIkFsdCIhPW4mJihyPSJBbHQtIityKSwoUm8/ZS5tZXRhS2V5OmUuY3RybEtleSkmJiJDdHJsIiE9biYmKHI9IkN0cmwtIityKSwoUm8/ZS5jdHJsS2V5OmUubWV0YUtleSkmJiJDbWQiIT1uJiYocj0iQ21kLSIrciksIXQmJmUuc2hpZnRLZXkmJiJTaGlmdCIhPW4mJihyPSJTaGlmdC0iK3IpLHIpfTtlLmZyb21UZXh0QXJlYT1mdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0LnZhbHVlPWMuZ2V0VmFsdWUoKX1pZihuPW4/V2kobik6e30sbi52YWx1ZT10LnZhbHVlLCFuLnRhYmluZGV4JiZ0LnRhYkluZGV4JiYobi50YWJpbmRleD10LnRhYkluZGV4KSwhbi5wbGFjZWhvbGRlciYmdC5wbGFjZWhvbGRlciYmKG4ucGxhY2Vob2xkZXI9dC5wbGFjZWhvbGRlciksbnVsbD09bi5hdXRvZm9jdXMpe3ZhciBpPUdpKCk7bi5hdXRvZm9jdXM9aT09dHx8bnVsbCE9dC5nZXRBdHRyaWJ1dGUoImF1dG9mb2N1cyIpJiZpPT1kb2N1bWVudC5ib2R5fWlmKHQuZm9ybSYmKEVhKHQuZm9ybSwic3VibWl0IixyKSwhbi5sZWF2ZVN1Ym1pdE1ldGhvZEFsb25lKSl7dmFyIG89dC5mb3JtLGE9by5zdWJtaXQ7dHJ5e3ZhciBsPW8uc3VibWl0PWZ1bmN0aW9uKCl7cigpLG8uc3VibWl0PWEsby5zdWJtaXQoKSxvLnN1Ym1pdD1sfX1jYXRjaChzKXt9fW4uZmluaXNoSW5pdD1mdW5jdGlvbihlKXtlLnNhdmU9cixlLmdldFRleHRBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHR9LGUudG9UZXh0QXJlYT1mdW5jdGlvbigpe2UudG9UZXh0QXJlYT1pc05hTixyKCksdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUuZ2V0V3JhcHBlckVsZW1lbnQoKSksdC5zdHlsZS5kaXNwbGF5PSIiLHQuZm9ybSYmKElhKHQuZm9ybSwic3VibWl0IixyKSwiZnVuY3Rpb24iPT10eXBlb2YgdC5mb3JtLnN1Ym1pdCYmKHQuZm9ybS5zdWJtaXQ9YSkpfX0sdC5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgYz1lKGZ1bmN0aW9uKGUpe3QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0Lm5leHRTaWJsaW5nKX0sbik7cmV0dXJuIGN9O3ZhciBtYT1lLlN0cmluZ1N0cmVhbT1mdW5jdGlvbihlLHQpe3RoaXMucG9zPXRoaXMuc3RhcnQ9MCx0aGlzLnN0cmluZz1lLHRoaXMudGFiU2l6ZT10fHw4LHRoaXMubGFzdENvbHVtblBvcz10aGlzLmxhc3RDb2x1bW5WYWx1ZT0wLHRoaXMubGluZVN0YXJ0PTB9O21hLnByb3RvdHlwZT17ZW9sOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zPj10aGlzLnN0cmluZy5sZW5ndGh9LHNvbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcz09dGhpcy5saW5lU3RhcnR9LHBlZWs6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKXx8dm9pZCAwfSxuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zPHRoaXMuc3RyaW5nLmxlbmd0aD90aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MrKyk6dm9pZCAwfSxlYXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKTtpZigic3RyaW5nIj09dHlwZW9mIGUpdmFyIG49dD09ZTtlbHNlIHZhciBuPXQmJihlLnRlc3Q/ZS50ZXN0KHQpOmUodCkpO3JldHVybiBuPygrK3RoaXMucG9zLHQpOnZvaWQgMH0sZWF0V2hpbGU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMucG9zO3RoaXMuZWF0KGUpOyk7cmV0dXJuIHRoaXMucG9zPnR9LGVhdFNwYWNlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMucG9zOy9bXHNcdTAwYTBdLy50ZXN0KHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcykpOykrK3RoaXMucG9zO3JldHVybiB0aGlzLnBvcz5lfSxza2lwVG9FbmQ6ZnVuY3Rpb24oKXt0aGlzLnBvcz10aGlzLnN0cmluZy5sZW5ndGh9LHNraXBUbzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0cmluZy5pbmRleE9mKGUsdGhpcy5wb3MpO3JldHVybiB0Pi0xPyh0aGlzLnBvcz10LCEwKTp2b2lkIDB9LGJhY2tVcDpmdW5jdGlvbihlKXt0aGlzLnBvcy09ZX0sY29sdW1uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFzdENvbHVtblBvczx0aGlzLnN0YXJ0JiYodGhpcy5sYXN0Q29sdW1uVmFsdWU9RmEodGhpcy5zdHJpbmcsdGhpcy5zdGFydCx0aGlzLnRhYlNpemUsdGhpcy5sYXN0Q29sdW1uUG9zLHRoaXMubGFzdENvbHVtblZhbHVlKSx0aGlzLmxhc3RDb2x1bW5Qb3M9dGhpcy5zdGFydCksdGhpcy5sYXN0Q29sdW1uVmFsdWUtKHRoaXMubGluZVN0YXJ0P0ZhKHRoaXMuc3RyaW5nLHRoaXMubGluZVN0YXJ0LHRoaXMudGFiU2l6ZSk6MCl9LGluZGVudGF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIEZhKHRoaXMuc3RyaW5nLG51bGwsdGhpcy50YWJTaXplKS0odGhpcy5saW5lU3RhcnQ/RmEodGhpcy5zdHJpbmcsdGhpcy5saW5lU3RhcnQsdGhpcy50YWJTaXplKTowKX0sbWF0Y2g6ZnVuY3Rpb24oZSx0LG4pe2lmKCJzdHJpbmciIT10eXBlb2YgZSl7dmFyIHI9dGhpcy5zdHJpbmcuc2xpY2UodGhpcy5wb3MpLm1hdGNoKGUpO3JldHVybiByJiZyLmluZGV4PjA/bnVsbDoociYmdCE9PSExJiYodGhpcy5wb3MrPXJbMF0ubGVuZ3RoKSxyKX12YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gbj9lLnRvTG93ZXJDYXNlKCk6ZX0sbz10aGlzLnN0cmluZy5zdWJzdHIodGhpcy5wb3MsZS5sZW5ndGgpO3JldHVybiBpKG8pPT1pKGUpPyh0IT09ITEmJih0aGlzLnBvcys9ZS5sZW5ndGgpLCEwKTp2b2lkIDB9LGN1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJpbmcuc2xpY2UodGhpcy5zdGFydCx0aGlzLnBvcyl9LGhpZGVGaXJzdENoYXJzOmZ1bmN0aW9uKGUsdCl7dGhpcy5saW5lU3RhcnQrPWU7dHJ5e3JldHVybiB0KCl9ZmluYWxseXt0aGlzLmxpbmVTdGFydC09ZX19fTt2YXIgZ2E9MCx2YT1lLlRleHRNYXJrZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLmxpbmVzPVtdLHRoaXMudHlwZT10LHRoaXMuZG9jPWUsdGhpcy5pZD0rK2dhfTtBaSh2YSksdmEucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZXhwbGljaXRseUNsZWFyZWQpe3ZhciBlPXRoaXMuZG9jLmNtLHQ9ZSYmIWUuY3VyT3A7aWYodCYmYnQoZSksTmkodGhpcywiY2xlYXIiKSl7dmFyIG49dGhpcy5maW5kKCk7biYmQ2kodGhpcywiY2xlYXIiLG4uZnJvbSxuLnRvKX1mb3IodmFyIHI9bnVsbCxpPW51bGwsbz0wO288dGhpcy5saW5lcy5sZW5ndGg7KytvKXt2YXIgYT10aGlzLmxpbmVzW29dLGw9ZXIoYS5tYXJrZWRTcGFucyx0aGlzKTtlJiYhdGhpcy5jb2xsYXBzZWQ/SHQoZSx0aShhKSwidGV4dCIpOmUmJihudWxsIT1sLnRvJiYoaT10aShhKSksbnVsbCE9bC5mcm9tJiYocj10aShhKSkpLGEubWFya2VkU3BhbnM9dHIoYS5tYXJrZWRTcGFucyxsKSxudWxsPT1sLmZyb20mJnRoaXMuY29sbGFwc2VkJiYha3IodGhpcy5kb2MsYSkmJmUmJmVpKGEseXQoZS5kaXNwbGF5KSl9aWYoZSYmdGhpcy5jb2xsYXBzZWQmJiFlLm9wdGlvbnMubGluZVdyYXBwaW5nKWZvcih2YXIgbz0wO288dGhpcy5saW5lcy5sZW5ndGg7KytvKXt2YXIgcz15cih0aGlzLmxpbmVzW29dKSxjPWYocyk7Yz5lLmRpc3BsYXkubWF4TGluZUxlbmd0aCYmKGUuZGlzcGxheS5tYXhMaW5lPXMsZS5kaXNwbGF5Lm1heExpbmVMZW5ndGg9YyxlLmRpc3BsYXkubWF4TGluZUNoYW5nZWQ9ITApfW51bGwhPXImJmUmJnRoaXMuY29sbGFwc2VkJiZEdChlLHIsaSsxKSx0aGlzLmxpbmVzLmxlbmd0aD0wLHRoaXMuZXhwbGljaXRseUNsZWFyZWQ9ITAsdGhpcy5hdG9taWMmJnRoaXMuZG9jLmNhbnRFZGl0JiYodGhpcy5kb2MuY2FudEVkaXQ9ITEsZSYmQWUoZS5kb2MpKSxlJiZDaShlLCJtYXJrZXJDbGVhcmVkIixlLHRoaXMpLHQmJmt0KGUpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5jbGVhcigpfX0sdmEucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oZSx0KXtudWxsPT1lJiYiYm9va21hcmsiPT10aGlzLnR5cGUmJihlPTEpO2Zvcih2YXIgbixyLGk9MDtpPHRoaXMubGluZXMubGVuZ3RoOysraSl7dmFyIG89dGhpcy5saW5lc1tpXSxhPWVyKG8ubWFya2VkU3BhbnMsdGhpcyk7aWYobnVsbCE9YS5mcm9tJiYobj1Cbyh0P286dGkobyksYS5mcm9tKSwtMT09ZSkpcmV0dXJuIG47aWYobnVsbCE9YS50byYmKHI9Qm8odD9vOnRpKG8pLGEudG8pLDE9PWUpKXJldHVybiByfXJldHVybiBuJiZ7ZnJvbTpuLHRvOnJ9fSx2YS5wcm90b3R5cGUuY2hhbmdlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZmluZCgtMSwhMCksdD10aGlzLG49dGhpcy5kb2MuY207ZSYmbiYmQXQobixmdW5jdGlvbigpe3ZhciByPWUubGluZSxpPXRpKGUubGluZSksbz1RZShuLGkpO2lmKG8mJihvdChvKSxuLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQ9bi5jdXJPcC5mb3JjZVVwZGF0ZT0hMCksbi5jdXJPcC51cGRhdGVNYXhMaW5lPSEwLCFrcih0LmRvYyxyKSYmbnVsbCE9dC5oZWlnaHQpe3ZhciBhPXQuaGVpZ2h0O3QuaGVpZ2h0PW51bGw7dmFyIGw9THIodCktYTtsJiZlaShyLHIuaGVpZ2h0K2wpfX0pfSx2YS5wcm90b3R5cGUuYXR0YWNoTGluZT1mdW5jdGlvbihlKXtpZighdGhpcy5saW5lcy5sZW5ndGgmJnRoaXMuZG9jLmNtKXt2YXIgdD10aGlzLmRvYy5jbS5jdXJPcDt0Lm1heWJlSGlkZGVuTWFya2VycyYmLTEhPVBpKHQubWF5YmVIaWRkZW5NYXJrZXJzLHRoaXMpfHwodC5tYXliZVVuaGlkZGVuTWFya2Vyc3x8KHQubWF5YmVVbmhpZGRlbk1hcmtlcnM9W10pKS5wdXNoKHRoaXMpfXRoaXMubGluZXMucHVzaChlKX0sdmEucHJvdG90eXBlLmRldGFjaExpbmU9ZnVuY3Rpb24oZSl7aWYodGhpcy5saW5lcy5zcGxpY2UoUGkodGhpcy5saW5lcyxlKSwxKSwhdGhpcy5saW5lcy5sZW5ndGgmJnRoaXMuZG9jLmNtKXt2YXIgdD10aGlzLmRvYy5jbS5jdXJPcDsodC5tYXliZUhpZGRlbk1hcmtlcnN8fCh0Lm1heWJlSGlkZGVuTWFya2Vycz1bXSkpLnB1c2godGhpcyl9fTt2YXIgZ2E9MCx5YT1lLlNoYXJlZFRleHRNYXJrZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLm1hcmtlcnM9ZSx0aGlzLnByaW1hcnk9dDtmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbillW25dLnBhcmVudD10aGlzfTtBaSh5YSkseWEucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZXhwbGljaXRseUNsZWFyZWQpe3RoaXMuZXhwbGljaXRseUNsZWFyZWQ9ITA7Zm9yKHZhciBlPTA7ZTx0aGlzLm1hcmtlcnMubGVuZ3RoOysrZSl0aGlzLm1hcmtlcnNbZV0uY2xlYXIoKTtDaSh0aGlzLCJjbGVhciIpfX0seWEucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wcmltYXJ5LmZpbmQoZSx0KX07dmFyIHhhPWUuTGluZVdpZGdldD1mdW5jdGlvbihlLHQsbil7aWYobilmb3IodmFyIHIgaW4gbiluLmhhc093blByb3BlcnR5KHIpJiYodGhpc1tyXT1uW3JdKTt0aGlzLmRvYz1lLHRoaXMubm9kZT10fTtBaSh4YSkseGEucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kb2MuY20sdD10aGlzLmxpbmUud2lkZ2V0cyxuPXRoaXMubGluZSxyPXRpKG4pO2lmKG51bGwhPXImJnQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKXRbaV09PXRoaXMmJnQuc3BsaWNlKGktLSwxKTt0Lmxlbmd0aHx8KG4ud2lkZ2V0cz1udWxsKTt2YXIgbz1Mcih0aGlzKTtlaShuLE1hdGgubWF4KDAsbi5oZWlnaHQtbykpLGUmJkF0KGUsZnVuY3Rpb24oKXtDcihlLG4sLW8pLEh0KGUsciwid2lkZ2V0Iil9KX19LHhhLnByb3RvdHlwZS5jaGFuZ2VkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oZWlnaHQsdD10aGlzLmRvYy5jbSxuPXRoaXMubGluZTt0aGlzLmhlaWdodD1udWxsO3ZhciByPUxyKHRoaXMpLWU7ciYmKGVpKG4sbi5oZWlnaHQrciksdCYmQXQodCxmdW5jdGlvbigpe3QuY3VyT3AuZm9yY2VVcGRhdGU9ITAsQ3IodCxuLHIpfSkpfTt2YXIgYmE9ZS5MaW5lPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnRleHQ9ZSx1cih0aGlzLHQpLHRoaXMuaGVpZ2h0PW4/bih0aGlzKToxfTtBaShiYSksYmEucHJvdG90eXBlLmxpbmVObz1mdW5jdGlvbigpe3JldHVybiB0aSh0aGlzKX07dmFyIHdhPXt9LGthPXt9OyRyLnByb3RvdHlwZT17Y2h1bmtTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGluZXMubGVuZ3RofSxyZW1vdmVJbm5lcjpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLHI9ZSt0O3I+bjsrK24pe3ZhciBpPXRoaXMubGluZXNbbl07dGhpcy5oZWlnaHQtPWkuaGVpZ2h0LE5yKGkpLENpKGksImRlbGV0ZSIpfXRoaXMubGluZXMuc3BsaWNlKGUsdCl9LGNvbGxhcHNlOmZ1bmN0aW9uKGUpe2UucHVzaC5hcHBseShlLHRoaXMubGluZXMpfSxpbnNlcnRJbm5lcjpmdW5jdGlvbihlLHQsbil7dGhpcy5oZWlnaHQrPW4sdGhpcy5saW5lcz10aGlzLmxpbmVzLnNsaWNlKDAsZSkuY29uY2F0KHQpLmNvbmNhdCh0aGlzLmxpbmVzLnNsaWNlKGUpKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoOysrcil0W3JdLnBhcmVudD10aGlzfSxpdGVyTjpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWUrdDtyPmU7KytlKWlmKG4odGhpcy5saW5lc1tlXSkpcmV0dXJuITB9fSxWci5wcm90b3R5cGU9e2NodW5rU2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemV9LHJlbW92ZUlubmVyOmZ1bmN0aW9uKGUsdCl7dGhpcy5zaXplLT10O2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7KytuKXt2YXIgcj10aGlzLmNoaWxkcmVuW25dLGk9ci5jaHVua1NpemUoKTtpZihpPmUpe3ZhciBvPU1hdGgubWluKHQsaS1lKSxhPXIuaGVpZ2h0O2lmKHIucmVtb3ZlSW5uZXIoZSxvKSx0aGlzLmhlaWdodC09YS1yLmhlaWdodCxpPT1vJiYodGhpcy5jaGlsZHJlbi5zcGxpY2Uobi0tLDEpLHIucGFyZW50PW51bGwpLDA9PSh0LT1vKSlicmVhaztlPTB9ZWxzZSBlLT1pfWlmKHRoaXMuc2l6ZS10PDI1JiYodGhpcy5jaGlsZHJlbi5sZW5ndGg+MXx8ISh0aGlzLmNoaWxkcmVuWzBdaW5zdGFuY2VvZiAkcikpKXt2YXIgbD1bXTt0aGlzLmNvbGxhcHNlKGwpLHRoaXMuY2hpbGRyZW49W25ldyAkcihsKV0sdGhpcy5jaGlsZHJlblswXS5wYXJlbnQ9dGhpc319LGNvbGxhcHNlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7Kyt0KXRoaXMuY2hpbGRyZW5bdF0uY29sbGFwc2UoZSl9LGluc2VydElubmVyOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLnNpemUrPXQubGVuZ3RoLHRoaXMuaGVpZ2h0Kz1uO2Zvcih2YXIgcj0wO3I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7KytyKXt2YXIgaT10aGlzLmNoaWxkcmVuW3JdLG89aS5jaHVua1NpemUoKTtpZihvPj1lKXtpZihpLmluc2VydElubmVyKGUsdCxuKSxpLmxpbmVzJiZpLmxpbmVzLmxlbmd0aD41MCl7Zm9yKHZhciBhPWkubGluZXMubGVuZ3RoJTI1KzI1LGw9YTtsPGkubGluZXMubGVuZ3RoOyl7dmFyIHM9bmV3ICRyKGkubGluZXMuc2xpY2UobCxsKz0yNSkpO2kuaGVpZ2h0LT1zLmhlaWdodCx0aGlzLmNoaWxkcmVuLnNwbGljZSgrK3IsMCxzKSxzLnBhcmVudD10aGlzfWkubGluZXM9aS5saW5lcy5zbGljZSgwLGEpLHRoaXMubWF5YmVTcGlsbCgpfWJyZWFrfWUtPW99fSxtYXliZVNwaWxsOmZ1bmN0aW9uKCl7aWYoISh0aGlzLmNoaWxkcmVuLmxlbmd0aDw9MTApKXt2YXIgZT10aGlzO2Rve3ZhciB0PWUuY2hpbGRyZW4uc3BsaWNlKGUuY2hpbGRyZW4ubGVuZ3RoLTUsNSksbj1uZXcgVnIodCk7aWYoZS5wYXJlbnQpe2Uuc2l6ZS09bi5zaXplLGUuaGVpZ2h0LT1uLmhlaWdodDt2YXIgcj1QaShlLnBhcmVudC5jaGlsZHJlbixlKTtlLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UocisxLDAsbil9ZWxzZXt2YXIgaT1uZXcgVnIoZS5jaGlsZHJlbik7aS5wYXJlbnQ9ZSxlLmNoaWxkcmVuPVtpLG5dLGU9aX1uLnBhcmVudD1lLnBhcmVudH13aGlsZShlLmNoaWxkcmVuLmxlbmd0aD4xMCk7ZS5wYXJlbnQubWF5YmVTcGlsbCgpfX0saXRlck46ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wO3I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7KytyKXt2YXIgaT10aGlzLmNoaWxkcmVuW3JdLG89aS5jaHVua1NpemUoKTtpZihvPmUpe3ZhciBhPU1hdGgubWluKHQsby1lKTtpZihpLml0ZXJOKGUsYSxuKSlyZXR1cm4hMDtpZigwPT0odC09YSkpYnJlYWs7ZT0wfWVsc2UgZS09b319fTt2YXIgU2E9MCxDYT1lLkRvYz1mdW5jdGlvbihlLHQsbixyKXtpZighKHRoaXMgaW5zdGFuY2VvZiBDYSkpcmV0dXJuIG5ldyBDYShlLHQsbixyKTtudWxsPT1uJiYobj0wKSxWci5jYWxsKHRoaXMsW25ldyAkcihbbmV3IGJhKCIiLG51bGwpXSldKSx0aGlzLmZpcnN0PW4sdGhpcy5zY3JvbGxUb3A9dGhpcy5zY3JvbGxMZWZ0PTAsdGhpcy5jYW50RWRpdD0hMSx0aGlzLmNsZWFuR2VuZXJhdGlvbj0xLHRoaXMuZnJvbnRpZXI9bjt2YXIgaT1CbyhuLDApO3RoaXMuc2VsPWRlKGkpLHRoaXMuaGlzdG9yeT1uZXcgb2kobnVsbCksdGhpcy5pZD0rK1NhLHRoaXMubW9kZU9wdGlvbj10LHRoaXMubGluZVNlcD1yLHRoaXMuZXh0ZW5kPSExLCJzdHJpbmciPT10eXBlb2YgZSYmKGU9dGhpcy5zcGxpdExpbmVzKGUpKSxZcih0aGlzLHtmcm9tOmksdG86aSx0ZXh0OmV9KSxUZSh0aGlzLGRlKGkpLFdhKX07Q2EucHJvdG90eXBlPUhpKFZyLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6Q2EsaXRlcjpmdW5jdGlvbihlLHQsbil7bj90aGlzLml0ZXJOKGUtdGhpcy5maXJzdCx0LWUsbik6dGhpcy5pdGVyTih0aGlzLmZpcnN0LHRoaXMuZmlyc3QrdGhpcy5zaXplLGUpfSxpbnNlcnQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPTA7cjx0Lmxlbmd0aDsrK3Ipbis9dFtyXS5oZWlnaHQ7dGhpcy5pbnNlcnRJbm5lcihlLXRoaXMuZmlyc3QsdCxuKX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dGhpcy5yZW1vdmVJbm5lcihlLXRoaXMuZmlyc3QsdCl9LGdldFZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVFyKHRoaXMsdGhpcy5maXJzdCx0aGlzLmZpcnN0K3RoaXMuc2l6ZSk7cmV0dXJuIGU9PT0hMT90OnQuam9pbihlfHx0aGlzLmxpbmVTZXBhcmF0b3IoKSl9LHNldFZhbHVlOkl0KGZ1bmN0aW9uKGUpe3ZhciB0PUJvKHRoaXMuZmlyc3QsMCksbj10aGlzLmZpcnN0K3RoaXMuc2l6ZS0xO1RuKHRoaXMse2Zyb206dCx0bzpCbyhuLFpyKHRoaXMsbikudGV4dC5sZW5ndGgpLHRleHQ6dGhpcy5zcGxpdExpbmVzKGUpLG9yaWdpbjoic2V0VmFsdWUiLGZ1bGw6ITB9LCEwKSxUZSh0aGlzLGRlKHQpKX0pLHJlcGxhY2VSYW5nZTpmdW5jdGlvbihlLHQsbixyKXt0PW1lKHRoaXMsdCksbj1uP21lKHRoaXMsbik6dCxJbih0aGlzLGUsdCxuLHIpfSxnZXRSYW5nZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9SnIodGhpcyxtZSh0aGlzLGUpLG1lKHRoaXMsdCkpO3JldHVybiBuPT09ITE/cjpyLmpvaW4obnx8dGhpcy5saW5lU2VwYXJhdG9yKCkpfSxnZXRMaW5lOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TGluZUhhbmRsZShlKTtyZXR1cm4gdCYmdC50ZXh0fSxnZXRMaW5lSGFuZGxlOmZ1bmN0aW9uKGUpe3JldHVybiB2ZSh0aGlzLGUpP1pyKHRoaXMsZSk6dm9pZCAwfSxnZXRMaW5lTnVtYmVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aShlKX0sZ2V0TGluZUhhbmRsZVZpc3VhbFN0YXJ0OmZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZSYmKGU9WnIodGhpcyxlKSkseXIoZSl9LGxpbmVDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemV9LGZpcnN0TGluZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpcnN0fSxsYXN0TGluZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpcnN0K3RoaXMuc2l6ZS0xfSxjbGlwUG9zOmZ1bmN0aW9uKGUpe3JldHVybiBtZSh0aGlzLGUpfSxnZXRDdXJzb3I6ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLnNlbC5wcmltYXJ5KCk7cmV0dXJuIHQ9bnVsbD09ZXx8ImhlYWQiPT1lP24uaGVhZDoiYW5jaG9yIj09ZT9uLmFuY2hvcjoiZW5kIj09ZXx8InRvIj09ZXx8ZT09PSExP24udG8oKTpuLmZyb20oKX0sbGlzdFNlbGVjdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWwucmFuZ2VzfSxzb21ldGhpbmdTZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbC5zb21ldGhpbmdTZWxlY3RlZCgpfSxzZXRDdXJzb3I6SXQoZnVuY3Rpb24oZSx0LG4pe1NlKHRoaXMsbWUodGhpcywibnVtYmVyIj09dHlwZW9mIGU/Qm8oZSx0fHwwKTplKSxudWxsLG4pfSksc2V0U2VsZWN0aW9uOkl0KGZ1bmN0aW9uKGUsdCxuKXtTZSh0aGlzLG1lKHRoaXMsZSksbWUodGhpcyx0fHxlKSxuKX0pLGV4dGVuZFNlbGVjdGlvbjpJdChmdW5jdGlvbihlLHQsbil7YmUodGhpcyxtZSh0aGlzLGUpLHQmJm1lKHRoaXMsdCksbil9KSxleHRlbmRTZWxlY3Rpb25zOkl0KGZ1bmN0aW9uKGUsdCl7d2UodGhpcyx5ZSh0aGlzLGUpLHQpfSksZXh0ZW5kU2VsZWN0aW9uc0J5Okl0KGZ1bmN0aW9uKGUsdCl7dmFyIG49UmkodGhpcy5zZWwucmFuZ2VzLGUpO3dlKHRoaXMseWUodGhpcyxuKSx0KX0pLHNldFNlbGVjdGlvbnM6SXQoZnVuY3Rpb24oZSx0LG4pe2lmKGUubGVuZ3RoKXtmb3IodmFyIHI9MCxpPVtdO3I8ZS5sZW5ndGg7cisrKWlbcl09bmV3IGZlKG1lKHRoaXMsZVtyXS5hbmNob3IpLG1lKHRoaXMsZVtyXS5oZWFkKSk7bnVsbD09dCYmKHQ9TWF0aC5taW4oZS5sZW5ndGgtMSx0aGlzLnNlbC5wcmltSW5kZXgpKSxUZSh0aGlzLGhlKGksdCksbil9fSksYWRkU2VsZWN0aW9uOkl0KGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLnNlbC5yYW5nZXMuc2xpY2UoMCk7ci5wdXNoKG5ldyBmZShtZSh0aGlzLGUpLG1lKHRoaXMsdHx8ZSkpKSxUZSh0aGlzLGhlKHIsci5sZW5ndGgtMSksbil9KSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49dGhpcy5zZWwucmFuZ2VzLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9SnIodGhpcyxuW3JdLmZyb20oKSxuW3JdLnRvKCkpO3Q9dD90LmNvbmNhdChpKTppfXJldHVybiBlPT09ITE/dDp0LmpvaW4oZXx8dGhpcy5saW5lU2VwYXJhdG9yKCkpfSxnZXRTZWxlY3Rpb25zOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPXRoaXMuc2VsLnJhbmdlcyxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPUpyKHRoaXMsbltyXS5mcm9tKCksbltyXS50bygpKTtlIT09ITEmJihpPWkuam9pbihlfHx0aGlzLmxpbmVTZXBhcmF0b3IoKSkpLHRbcl09aX1yZXR1cm4gdH0scmVwbGFjZVNlbGVjdGlvbjpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9MDtpPHRoaXMuc2VsLnJhbmdlcy5sZW5ndGg7aSsrKXJbaV09ZTt0aGlzLnJlcGxhY2VTZWxlY3Rpb25zKHIsdCxufHwiK2lucHV0Iil9LHJlcGxhY2VTZWxlY3Rpb25zOkl0KGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT10aGlzLnNlbCxvPTA7bzxpLnJhbmdlcy5sZW5ndGg7bysrKXt2YXIgYT1pLnJhbmdlc1tvXTtyW29dPXtmcm9tOmEuZnJvbSgpLHRvOmEudG8oKSx0ZXh0OnRoaXMuc3BsaXRMaW5lcyhlW29dKSxvcmlnaW46bn19Zm9yKHZhciBsPXQmJiJlbmQiIT10JiZDbih0aGlzLHIsdCksbz1yLmxlbmd0aC0xO28+PTA7by0tKVRuKHRoaXMscltvXSk7bD9MZSh0aGlzLGwpOnRoaXMuY20mJkJuKHRoaXMuY20pfSksdW5kbzpJdChmdW5jdGlvbigpe05uKHRoaXMsInVuZG8iKX0pLHJlZG86SXQoZnVuY3Rpb24oKXtObih0aGlzLCJyZWRvIil9KSx1bmRvU2VsZWN0aW9uOkl0KGZ1bmN0aW9uKCl7Tm4odGhpcywidW5kbyIsITApfSkscmVkb1NlbGVjdGlvbjpJdChmdW5jdGlvbigpe05uKHRoaXMsInJlZG8iLCEwKX0pLHNldEV4dGVuZGluZzpmdW5jdGlvbihlKXt0aGlzLmV4dGVuZD1lfSxnZXRFeHRlbmRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbmR9LGhpc3RvcnlTaXplOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuaGlzdG9yeSx0PTAsbj0wLHI9MDtyPGUuZG9uZS5sZW5ndGg7cisrKWUuZG9uZVtyXS5yYW5nZXN8fCsrdDtmb3IodmFyIHI9MDtyPGUudW5kb25lLmxlbmd0aDtyKyspZS51bmRvbmVbcl0ucmFuZ2VzfHwrK247cmV0dXJue3VuZG86dCxyZWRvOm59fSxjbGVhckhpc3Rvcnk6ZnVuY3Rpb24oKXt0aGlzLmhpc3Rvcnk9bmV3IG9pKHRoaXMuaGlzdG9yeS5tYXhHZW5lcmF0aW9uKX0sbWFya0NsZWFuOmZ1bmN0aW9uKCl7dGhpcy5jbGVhbkdlbmVyYXRpb249dGhpcy5jaGFuZ2VHZW5lcmF0aW9uKCEwKX0sY2hhbmdlR2VuZXJhdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gZSYmKHRoaXMuaGlzdG9yeS5sYXN0T3A9dGhpcy5oaXN0b3J5Lmxhc3RTZWxPcD10aGlzLmhpc3RvcnkubGFzdE9yaWdpbj1udWxsKSx0aGlzLmhpc3RvcnkuZ2VuZXJhdGlvbn0saXNDbGVhbjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oaXN0b3J5LmdlbmVyYXRpb249PShlfHx0aGlzLmNsZWFuR2VuZXJhdGlvbil9LGdldEhpc3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpnaSh0aGlzLmhpc3RvcnkuZG9uZSksdW5kb25lOmdpKHRoaXMuaGlzdG9yeS51bmRvbmUpfX0sc2V0SGlzdG9yeTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmhpc3Rvcnk9bmV3IG9pKHRoaXMuaGlzdG9yeS5tYXhHZW5lcmF0aW9uKTt0LmRvbmU9Z2koZS5kb25lLnNsaWNlKDApLG51bGwsITApLHQudW5kb25lPWdpKGUudW5kb25lLnNsaWNlKDApLG51bGwsITApfSxhZGRMaW5lQ2xhc3M6SXQoZnVuY3Rpb24oZSx0LG4pe3JldHVybiB6bih0aGlzLGUsImd1dHRlciI9PXQ/Imd1dHRlciI6ImNsYXNzIixmdW5jdGlvbihlKXt2YXIgcj0idGV4dCI9PXQ/InRleHRDbGFzcyI6ImJhY2tncm91bmQiPT10PyJiZ0NsYXNzIjoiZ3V0dGVyIj09dD8iZ3V0dGVyQ2xhc3MiOiJ3cmFwQ2xhc3MiO2lmKGVbcl0pe2lmKFlpKG4pLnRlc3QoZVtyXSkpcmV0dXJuITE7ZVtyXSs9IiAiK259ZWxzZSBlW3JdPW47cmV0dXJuITB9KX0pLHJlbW92ZUxpbmVDbGFzczpJdChmdW5jdGlvbihlLHQsbil7cmV0dXJuIHpuKHRoaXMsZSwiZ3V0dGVyIj09dD8iZ3V0dGVyIjoiY2xhc3MiLGZ1bmN0aW9uKGUpe3ZhciByPSJ0ZXh0Ij09dD8idGV4dENsYXNzIjoiYmFja2dyb3VuZCI9PXQ/ImJnQ2xhc3MiOiJndXR0ZXIiPT10PyJndXR0ZXJDbGFzcyI6IndyYXBDbGFzcyIsaT1lW3JdO2lmKCFpKXJldHVybiExO2lmKG51bGw9PW4pZVtyXT1udWxsO2Vsc2V7dmFyIG89aS5tYXRjaChZaShuKSk7aWYoIW8pcmV0dXJuITE7dmFyIGE9by5pbmRleCtvWzBdLmxlbmd0aDtlW3JdPWkuc2xpY2UoMCxvLmluZGV4KSsoby5pbmRleCYmYSE9aS5sZW5ndGg/IiAiOiIiKStpLnNsaWNlKGEpfHxudWxsfXJldHVybiEwfSl9KSxhZGRMaW5lV2lkZ2V0Okl0KGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVHIodGhpcyxlLHQsbil9KSxyZW1vdmVMaW5lV2lkZ2V0OmZ1bmN0aW9uKGUpe2UuY2xlYXIoKX0sbWFya1RleHQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBWbih0aGlzLG1lKHRoaXMsZSksbWUodGhpcyx0KSxuLG4mJm4udHlwZXx8InJhbmdlIil9LHNldEJvb2ttYXJrOmZ1bmN0aW9uKGUsdCl7dmFyIG49e3JlcGxhY2VkV2l0aDp0JiYobnVsbD09dC5ub2RlVHlwZT90LndpZGdldDp0KSxpbnNlcnRMZWZ0OnQmJnQuaW5zZXJ0TGVmdCxjbGVhcldoZW5FbXB0eTohMSxzaGFyZWQ6dCYmdC5zaGFyZWQsaGFuZGxlTW91c2VFdmVudHM6dCYmdC5oYW5kbGVNb3VzZUV2ZW50c307cmV0dXJuIGU9bWUodGhpcyxlKSxWbih0aGlzLGUsZSxuLCJib29rbWFyayIpfSxmaW5kTWFya3NBdDpmdW5jdGlvbihlKXtlPW1lKHRoaXMsZSk7dmFyIHQ9W10sbj1acih0aGlzLGUubGluZSkubWFya2VkU3BhbnM7aWYobilmb3IodmFyIHI9MDtyPG4ubGVuZ3RoOysrcil7dmFyIGk9bltyXTsobnVsbD09aS5mcm9tfHxpLmZyb208PWUuY2gpJiYobnVsbD09aS50b3x8aS50bz49ZS5jaCkmJnQucHVzaChpLm1hcmtlci5wYXJlbnR8fGkubWFya2VyKX1yZXR1cm4gdH0sZmluZE1hcmtzOmZ1bmN0aW9uKGUsdCxuKXtlPW1lKHRoaXMsZSksdD1tZSh0aGlzLHQpO3ZhciByPVtdLGk9ZS5saW5lO3JldHVybiB0aGlzLml0ZXIoZS5saW5lLHQubGluZSsxLGZ1bmN0aW9uKG8pe3ZhciBhPW8ubWFya2VkU3BhbnM7aWYoYSlmb3IodmFyIGw9MDtsPGEubGVuZ3RoO2wrKyl7dmFyIHM9YVtsXTtudWxsIT1zLnRvJiZpPT1lLmxpbmUmJmUuY2g+PXMudG98fG51bGw9PXMuZnJvbSYmaSE9ZS5saW5lfHxudWxsIT1zLmZyb20mJmk9PXQubGluZSYmcy5mcm9tPj10LmNofHxuJiYhbihzLm1hcmtlcil8fHIucHVzaChzLm1hcmtlci5wYXJlbnR8fHMubWFya2VyKX0rK2l9KSxyfSxnZXRBbGxNYXJrczpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLml0ZXIoZnVuY3Rpb24odCl7dmFyIG49dC5tYXJrZWRTcGFucztpZihuKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7KytyKW51bGwhPW5bcl0uZnJvbSYmZS5wdXNoKG5bcl0ubWFya2VyKX0pLGV9LHBvc0Zyb21JbmRleDpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZmlyc3Qscj10aGlzLmxpbmVTZXBhcmF0b3IoKS5sZW5ndGg7cmV0dXJuIHRoaXMuaXRlcihmdW5jdGlvbihpKXt2YXIgbz1pLnRleHQubGVuZ3RoK3I7cmV0dXJuIG8+ZT8odD1lLCEwKTooZS09byx2b2lkKytuKX0pLG1lKHRoaXMsQm8obix0KSl9LGluZGV4RnJvbVBvczpmdW5jdGlvbihlKXtlPW1lKHRoaXMsZSk7dmFyIHQ9ZS5jaDtpZihlLmxpbmU8dGhpcy5maXJzdHx8ZS5jaDwwKXJldHVybiAwO3ZhciBuPXRoaXMubGluZVNlcGFyYXRvcigpLmxlbmd0aDtyZXR1cm4gdGhpcy5pdGVyKHRoaXMuZmlyc3QsZS5saW5lLGZ1bmN0aW9uKGUpe3QrPWUudGV4dC5sZW5ndGgrbn0pLHR9LGNvcHk6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IENhKFFyKHRoaXMsdGhpcy5maXJzdCx0aGlzLmZpcnN0K3RoaXMuc2l6ZSksdGhpcy5tb2RlT3B0aW9uLHRoaXMuZmlyc3QsdGhpcy5saW5lU2VwKTtyZXR1cm4gdC5zY3JvbGxUb3A9dGhpcy5zY3JvbGxUb3AsdC5zY3JvbGxMZWZ0PXRoaXMuc2Nyb2xsTGVmdCx0LnNlbD10aGlzLnNlbCx0LmV4dGVuZD0hMSxlJiYodC5oaXN0b3J5LnVuZG9EZXB0aD10aGlzLmhpc3RvcnkudW5kb0RlcHRoLHQuc2V0SGlzdG9yeSh0aGlzLmdldEhpc3RvcnkoKSkpLHR9LGxpbmtlZERvYzpmdW5jdGlvbihlKXtlfHwoZT17fSk7dmFyIHQ9dGhpcy5maXJzdCxuPXRoaXMuZmlyc3QrdGhpcy5zaXplO251bGwhPWUuZnJvbSYmZS5mcm9tPnQmJih0PWUuZnJvbSksbnVsbCE9ZS50byYmZS50bzxuJiYobj1lLnRvKTt2YXIgcj1uZXcgQ2EoUXIodGhpcyx0LG4pLGUubW9kZXx8dGhpcy5tb2RlT3B0aW9uLHQsdGhpcy5saW5lU2VwKTtyZXR1cm4gZS5zaGFyZWRIaXN0JiYoci5oaXN0b3J5PXRoaXMuaGlzdG9yeSksKHRoaXMubGlua2VkfHwodGhpcy5saW5rZWQ9W10pKS5wdXNoKHtkb2M6cixzaGFyZWRIaXN0OmUuc2hhcmVkSGlzdH0pLHIubGlua2VkPVt7ZG9jOnRoaXMsaXNQYXJlbnQ6ITAsc2hhcmVkSGlzdDplLnNoYXJlZEhpc3R9XSxabihyLFhuKHRoaXMpKSxyfSx1bmxpbmtEb2M6ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGUmJih0PXQuZG9jKSx0aGlzLmxpbmtlZClmb3IodmFyIG49MDtuPHRoaXMubGlua2VkLmxlbmd0aDsrK24pe3ZhciByPXRoaXMubGlua2VkW25dO2lmKHIuZG9jPT10KXt0aGlzLmxpbmtlZC5zcGxpY2UobiwxKSx0LnVubGlua0RvYyh0aGlzKSxKbihYbih0aGlzKSk7YnJlYWt9fWlmKHQuaGlzdG9yeT09dGhpcy5oaXN0b3J5KXt2YXIgaT1bdC5pZF07S3IodCxmdW5jdGlvbihlKXtpLnB1c2goZS5pZCl9LCEwKSx0Lmhpc3Rvcnk9bmV3IG9pKG51bGwpLHQuaGlzdG9yeS5kb25lPWdpKHRoaXMuaGlzdG9yeS5kb25lLGkpLHQuaGlzdG9yeS51bmRvbmU9Z2kodGhpcy5oaXN0b3J5LnVuZG9uZSxpKX19LGl0ZXJMaW5rZWREb2NzOmZ1bmN0aW9uKGUpe0tyKHRoaXMsZSl9LGdldE1vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlfSxnZXRFZGl0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbX0sc3BsaXRMaW5lczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5saW5lU2VwP2Uuc3BsaXQodGhpcy5saW5lU2VwKTp0bChlKX0sbGluZVNlcGFyYXRvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxpbmVTZXB8fCJcbiJ9fSksQ2EucHJvdG90eXBlLmVhY2hMaW5lPUNhLnByb3RvdHlwZS5pdGVyO3ZhciBMYT0iaXRlciBpbnNlcnQgcmVtb3ZlIGNvcHkgZ2V0RWRpdG9yIGNvbnN0cnVjdG9yIi5zcGxpdCgiICIpO2Zvcih2YXIgVGEgaW4gQ2EucHJvdG90eXBlKUNhLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShUYSkmJlBpKExhLFRhKTwwJiYoZS5wcm90b3R5cGVbVGFdPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMuZG9jLGFyZ3VtZW50cyl9fShDYS5wcm90b3R5cGVbVGFdKSk7QWkoQ2EpO3ZhciBNYT1lLmVfcHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdD9lLnByZXZlbnREZWZhdWx0KCk6ZS5yZXR1cm5WYWx1ZT0hMX0sTmE9ZS5lX3N0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbj9lLnN0b3BQcm9wYWdhdGlvbigpOmUuY2FuY2VsQnViYmxlPSEwfSxBYT1lLmVfc3RvcD1mdW5jdGlvbihlKXtNYShlKSxOYShlKX0sRWE9ZS5vbj1mdW5jdGlvbihlLHQsbil7aWYoZS5hZGRFdmVudExpc3RlbmVyKWUuYWRkRXZlbnRMaXN0ZW5lcih0LG4sITEpO2Vsc2UgaWYoZS5hdHRhY2hFdmVudCllLmF0dGFjaEV2ZW50KCJvbiIrdCxuKTtlbHNle3ZhciByPWUuX2hhbmRsZXJzfHwoZS5faGFuZGxlcnM9e30pLGk9clt0XXx8KHJbdF09W10pO2kucHVzaChuKX19LE9hPVtdLElhPWUub2ZmPWZ1bmN0aW9uKGUsdCxuKXtpZihlLnJlbW92ZUV2ZW50TGlzdGVuZXIpZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbiwhMSk7ZWxzZSBpZihlLmRldGFjaEV2ZW50KWUuZGV0YWNoRXZlbnQoIm9uIit0LG4pO2Vsc2UgZm9yKHZhciByPVNpKGUsdCwhMSksaT0wO2k8ci5sZW5ndGg7KytpKWlmKHJbaV09PW4pe3Iuc3BsaWNlKGksMSk7YnJlYWt9fSxQYT1lLnNpZ25hbD1mdW5jdGlvbihlLHQpe3ZhciBuPVNpKGUsdCwhMCk7aWYobi5sZW5ndGgpZm9yKHZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSxpPTA7aTxuLmxlbmd0aDsrK2kpbltpXS5hcHBseShudWxsLHIpfSxSYT1udWxsLERhPTMwLEhhPWUuUGFzcz17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4iQ29kZU1pcnJvci5QYXNzIn19LFdhPXtzY3JvbGw6ITF9LEJhPXtvcmlnaW46Iiptb3VzZSJ9LF9hPXtvcmlnaW46Iittb3ZlIn07RWkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe2NsZWFyVGltZW91dCh0aGlzLmlkKSx0aGlzLmlkPXNldFRpbWVvdXQodCxlKX07dmFyIEZhPWUuY291bnRDb2x1bW49ZnVuY3Rpb24oZSx0LG4scixpKXtudWxsPT10JiYodD1lLnNlYXJjaCgvW15cc1x1MDBhMF0vKSwtMT09dCYmKHQ9ZS5sZW5ndGgpKTtmb3IodmFyIG89cnx8MCxhPWl8fDA7Oyl7dmFyIGw9ZS5pbmRleE9mKCIJIixvKTtpZigwPmx8fGw+PXQpcmV0dXJuIGErKHQtbyk7YSs9bC1vLGErPW4tYSVuLG89bCsxfX0semE9ZS5maW5kQ29sdW1uPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MCxpPTA7Oyl7dmFyIG89ZS5pbmRleE9mKCIJIixyKTstMT09byYmKG89ZS5sZW5ndGgpO3ZhciBhPW8tcjtpZihvPT1lLmxlbmd0aHx8aSthPj10KXJldHVybiByK01hdGgubWluKGEsdC1pKTtpZihpKz1vLXIsaSs9bi1pJW4scj1vKzEsaT49dClyZXR1cm4gcn19LGphPVsiIl0sVWE9ZnVuY3Rpb24oZSl7ZS5zZWxlY3QoKX07Tm8/VWE9ZnVuY3Rpb24oZSl7ZS5zZWxlY3Rpb25TdGFydD0wLGUuc2VsZWN0aW9uRW5kPWUudmFsdWUubGVuZ3RofTp4byYmKFVhPWZ1bmN0aW9uKGUpe3RyeXtlLnNlbGVjdCgpfWNhdGNoKHQpe319KTt2YXIgcWEsR2E9L1tcdTAwZGZcdTA1ODdcdTA1OTAtXHUwNWY0XHUwNjAwLVx1MDZmZlx1MzA0MC1cdTMwOWZcdTMwYTAtXHUzMGZmXHUzNDAwLVx1NGRiNVx1NGUwMC1cdTlmY2NcdWFjMDAtXHVkN2FmXS8sWWE9ZS5pc1dvcmRDaGFyPWZ1bmN0aW9uKGUpe3JldHVybi9cdy8udGVzdChlKXx8ZT4iwoAiJiYoZS50b1VwcGVyQ2FzZSgpIT1lLnRvTG93ZXJDYXNlKCl8fEdhLnRlc3QoZSkpfSwkYT0vW1x1MDMwMC1cdTAzNmZcdTA0ODMtXHUwNDg5XHUwNTkxLVx1MDViZFx1MDViZlx1MDVjMVx1MDVjMlx1MDVjNFx1MDVjNVx1MDVjN1x1MDYxMC1cdTA2MWFcdTA2NGItXHUwNjVlXHUwNjcwXHUwNmQ2LVx1MDZkY1x1MDZkZS1cdTA2ZTRcdTA2ZTdcdTA2ZThcdTA2ZWEtXHUwNmVkXHUwNzExXHUwNzMwLVx1MDc0YVx1MDdhNi1cdTA3YjBcdTA3ZWItXHUwN2YzXHUwODE2LVx1MDgxOVx1MDgxYi1cdTA4MjNcdTA4MjUtXHUwODI3XHUwODI5LVx1MDgyZFx1MDkwMC1cdTA5MDJcdTA5M2NcdTA5NDEtXHUwOTQ4XHUwOTRkXHUwOTUxLVx1MDk1NVx1MDk2Mlx1MDk2M1x1MDk4MVx1MDliY1x1MDliZVx1MDljMS1cdTA5YzRcdTA5Y2RcdTA5ZDdcdTA5ZTJcdTA5ZTNcdTBhMDFcdTBhMDJcdTBhM2NcdTBhNDFcdTBhNDJcdTBhNDdcdTBhNDhcdTBhNGItXHUwYTRkXHUwYTUxXHUwYTcwXHUwYTcxXHUwYTc1XHUwYTgxXHUwYTgyXHUwYWJjXHUwYWMxLVx1MGFjNVx1MGFjN1x1MGFjOFx1MGFjZFx1MGFlMlx1MGFlM1x1MGIwMVx1MGIzY1x1MGIzZVx1MGIzZlx1MGI0MS1cdTBiNDRcdTBiNGRcdTBiNTZcdTBiNTdcdTBiNjJcdTBiNjNcdTBiODJcdTBiYmVcdTBiYzBcdTBiY2RcdTBiZDdcdTBjM2UtXHUwYzQwXHUwYzQ2LVx1MGM0OFx1MGM0YS1cdTBjNGRcdTBjNTVcdTBjNTZcdTBjNjJcdTBjNjNcdTBjYmNcdTBjYmZcdTBjYzJcdTBjYzZcdTBjY2NcdTBjY2RcdTBjZDVcdTBjZDZcdTBjZTJcdTBjZTNcdTBkM2VcdTBkNDEtXHUwZDQ0XHUwZDRkXHUwZDU3XHUwZDYyXHUwZDYzXHUwZGNhXHUwZGNmXHUwZGQyLVx1MGRkNFx1MGRkNlx1MGRkZlx1MGUzMVx1MGUzNC1cdTBlM2FcdTBlNDctXHUwZTRlXHUwZWIxXHUwZWI0LVx1MGViOVx1MGViYlx1MGViY1x1MGVjOC1cdTBlY2RcdTBmMThcdTBmMTlcdTBmMzVcdTBmMzdcdTBmMzlcdTBmNzEtXHUwZjdlXHUwZjgwLVx1MGY4NFx1MGY4Nlx1MGY4N1x1MGY5MC1cdTBmOTdcdTBmOTktXHUwZmJjXHUwZmM2XHUxMDJkLVx1MTAzMFx1MTAzMi1cdTEwMzdcdTEwMzlcdTEwM2FcdTEwM2RcdTEwM2VcdTEwNThcdTEwNTlcdTEwNWUtXHUxMDYwXHUxMDcxLVx1MTA3NFx1MTA4Mlx1MTA4NVx1MTA4Nlx1MTA4ZFx1MTA5ZFx1MTM1Zlx1MTcxMi1cdTE3MTRcdTE3MzItXHUxNzM0XHUxNzUyXHUxNzUzXHUxNzcyXHUxNzczXHUxN2I3LVx1MTdiZFx1MTdjNlx1MTdjOS1cdTE3ZDNcdTE3ZGRcdTE4MGItXHUxODBkXHUxOGE5XHUxOTIwLVx1MTkyMlx1MTkyN1x1MTkyOFx1MTkzMlx1MTkzOS1cdTE5M2JcdTFhMTdcdTFhMThcdTFhNTZcdTFhNTgtXHUxYTVlXHUxYTYwXHUxYTYyXHUxYTY1LVx1MWE2Y1x1MWE3My1cdTFhN2NcdTFhN2ZcdTFiMDAtXHUxYjAzXHUxYjM0XHUxYjM2LVx1MWIzYVx1MWIzY1x1MWI0Mlx1MWI2Yi1cdTFiNzNcdTFiODBcdTFiODFcdTFiYTItXHUxYmE1XHUxYmE4XHUxYmE5XHUxYzJjLVx1MWMzM1x1MWMzNlx1MWMzN1x1MWNkMC1cdTFjZDJcdTFjZDQtXHUxY2UwXHUxY2UyLVx1MWNlOFx1MWNlZFx1MWRjMC1cdTFkZTZcdTFkZmQtXHUxZGZmXHUyMDBjXHUyMDBkXHUyMGQwLVx1MjBmMFx1MmNlZi1cdTJjZjFcdTJkZTAtXHUyZGZmXHUzMDJhLVx1MzAyZlx1MzA5OVx1MzA5YVx1YTY2Zi1cdWE2NzJcdWE2N2NcdWE2N2RcdWE2ZjBcdWE2ZjFcdWE4MDJcdWE4MDZcdWE4MGJcdWE4MjVcdWE4MjZcdWE4YzRcdWE4ZTAtXHVhOGYxXHVhOTI2LVx1YTkyZFx1YTk0Ny1cdWE5NTFcdWE5ODAtXHVhOTgyXHVhOWIzXHVhOWI2LVx1YTliOVx1YTliY1x1YWEyOS1cdWFhMmVcdWFhMzFcdWFhMzJcdWFhMzVcdWFhMzZcdWFhNDNcdWFhNGNcdWFhYjBcdWFhYjItXHVhYWI0XHVhYWI3XHVhYWI4XHVhYWJlXHVhYWJmXHVhYWMxXHVhYmU1XHVhYmU4XHVhYmVkXHVkYzAwLVx1ZGZmZlx1ZmIxZVx1ZmUwMC1cdWZlMGZcdWZlMjAtXHVmZTI2XHVmZjllXHVmZjlmXS87cWE9ZG9jdW1lbnQuY3JlYXRlUmFuZ2U/ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gaS5zZXRFbmQocnx8ZSxuKSxpLnNldFN0YXJ0KGUsdCksaX06ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e3IubW92ZVRvRWxlbWVudFRleHQoZS5wYXJlbnROb2RlKX1jYXRjaChpKXtyZXR1cm4gcn1yZXR1cm4gci5jb2xsYXBzZSghMCksci5tb3ZlRW5kKCJjaGFyYWN0ZXIiLG4pLHIubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLHQpLHJ9O3ZhciBWYT1lLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7aWYoMz09dC5ub2RlVHlwZSYmKHQ9dC5wYXJlbnROb2RlKSxlLmNvbnRhaW5zKXJldHVybiBlLmNvbnRhaW5zKHQpO2RvIGlmKDExPT10Lm5vZGVUeXBlJiYodD10Lmhvc3QpLHQ9PWUpcmV0dXJuITA7d2hpbGUodD10LnBhcmVudE5vZGUpfTt4byYmMTE+Ym8mJihHaT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudH1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQuYm9keX19KTt2YXIgS2EsWGEsWmE9ZS5ybUNsYXNzPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5jbGFzc05hbWUscj1ZaSh0KS5leGVjKG4pO2lmKHIpe3ZhciBpPW4uc2xpY2Uoci5pbmRleCtyWzBdLmxlbmd0aCk7ZS5jbGFzc05hbWU9bi5zbGljZSgwLHIuaW5kZXgpKyhpP3JbMV0raToiIil9fSxKYT1lLmFkZENsYXNzPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5jbGFzc05hbWU7WWkodCkudGVzdChuKXx8KGUuY2xhc3NOYW1lKz0obj8iICI6IiIpK3QpfSxRYT0hMSxlbD1mdW5jdGlvbigpe2lmKHhvJiY5PmJvKXJldHVybiExO3ZhciBlPWppKCJkaXYiKTtyZXR1cm4iZHJhZ2dhYmxlImluIGV8fCJkcmFnRHJvcCJpbiBlfSgpLHRsPWUuc3BsaXRMaW5lcz0zIT0iXG5cbmIiLnNwbGl0KC9cbi8pLmxlbmd0aD9mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPVtdLHI9ZS5sZW5ndGg7cj49dDspe3ZhciBpPWUuaW5kZXhPZigiXG4iLHQpOy0xPT1pJiYoaT1lLmxlbmd0aCk7dmFyIG89ZS5zbGljZSh0LCJcciI9PWUuY2hhckF0KGktMSk/aS0xOmkpLGE9by5pbmRleE9mKCJcciIpOy0xIT1hPyhuLnB1c2goby5zbGljZSgwLGEpKSx0Kz1hKzEpOihuLnB1c2gobyksdD1pKzEpfXJldHVybiBufTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdCgvXHJcbj98XG4vKX0sbmw9d2luZG93LmdldFNlbGVjdGlvbj9mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGUuc2VsZWN0aW9uU3RhcnQhPWUuc2VsZWN0aW9uRW5kfWNhdGNoKHQpe3JldHVybiExfX06ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUub3duZXJEb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKX1jYXRjaChuKXt9cmV0dXJuIHQmJnQucGFyZW50RWxlbWVudCgpPT1lPzAhPXQuY29tcGFyZUVuZFBvaW50cygiU3RhcnRUb0VuZCIsdCk6ITF9LHJsPWZ1bmN0aW9uKCl7dmFyIGU9amkoImRpdiIpO3JldHVybiJvbmNvcHkiaW4gZT8hMDooZS5zZXRBdHRyaWJ1dGUoIm9uY29weSIsInJldHVybjsiKSwiZnVuY3Rpb24iPT10eXBlb2YgZS5vbmNvcHkpfSgpLGlsPW51bGwsb2w9ZS5rZXlOYW1lcz17MzoiRW50ZXIiLDg6IkJhY2tzcGFjZSIsOToiVGFiIiwxMzoiRW50ZXIiLDE2OiJTaGlmdCIsMTc6IkN0cmwiLDE4OiJBbHQiLDE5OiJQYXVzZSIsMjA6IkNhcHNMb2NrIiwyNzoiRXNjIiwzMjoiU3BhY2UiLDMzOiJQYWdlVXAiLDM0OiJQYWdlRG93biIsMzU6IkVuZCIsMzY6IkhvbWUiLDM3OiJMZWZ0IiwzODoiVXAiLDM5OiJSaWdodCIsNDA6IkRvd24iLDQ0OiJQcmludFNjcm4iLDQ1OiJJbnNlcnQiLDQ2OiJEZWxldGUiLDU5OiI7Iiw2MToiPSIsOTE6Ik1vZCIsOTI6Ik1vZCIsOTM6Ik1vZCIsMTA2OiIqIiwxMDc6Ij0iLDEwOToiLSIsMTEwOiIuIiwxMTE6Ii8iLDEyNzoiRGVsZXRlIiwxNzM6Ii0iLDE4NjoiOyIsMTg3OiI9IiwxODg6IiwiLDE4OToiLSIsMTkwOiIuIiwxOTE6Ii8iLDE5MjoiYCIsMjE5OiJbIiwyMjA6IlxcIiwyMjE6Il0iLDIyMjoiJyIsNjMyMzI6IlVwIiw2MzIzMzoiRG93biIsNjMyMzQ6IkxlZnQiLDYzMjM1OiJSaWdodCIsNjMyNzI6IkRlbGV0ZSIsNjMyNzM6IkhvbWUiLDYzMjc1OiJFbmQiLDYzMjc2OiJQYWdlVXAiLDYzMjc3OiJQYWdlRG93biIsNjMzMDI6Ikluc2VydCJ9OyFmdW5jdGlvbigpe2Zvcih2YXIgZT0wOzEwPmU7ZSsrKW9sW2UrNDhdPW9sW2UrOTZdPVN0cmluZyhlKTtmb3IodmFyIGU9NjU7OTA+PWU7ZSsrKW9sW2VdPVN0cmluZy5mcm9tQ2hhckNvZGUoZSk7Zm9yKHZhciBlPTE7MTI+PWU7ZSsrKW9sW2UrMTExXT1vbFtlKzYzMjM1XT0iRiIrZX0oKTt2YXIgYWwsbGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3JldHVybiAyNDc+PWU/bi5jaGFyQXQoZSk6ZT49MTQyNCYmMTUyND49ZT8iUiI6ZT49MTUzNiYmMTc3Mz49ZT9yLmNoYXJBdChlLTE1MzYpOmU+PTE3NzQmJjIyMjA+PWU/InIiOmU+PTgxOTImJjgyMDM+PWU/InciOjgyMDQ9PWU/ImIiOiJMIn1mdW5jdGlvbiB0KGUsdCxuKXt0aGlzLmxldmVsPWUsdGhpcy5mcm9tPXQsdGhpcy50bz1ufXZhciBuPSJiYmJiYmJiYmJ0c3R3c2JiYmJiYmJiYmJiYmJic3NzdHdOTiUlJU5OTk5OTixOLE4xMTExMTExMTExTk5OTk5OTkxMTExMTExMTExMTExMTExMTExMTExMTExMTk5OTk5OTExMTExMTExMTExMTExMTExMTExMTExMTExOTk5OYmJiYmJic2JiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiLE4lJSUlTk5OTkxOTk5OTiUlMTFOTE5OTjFMTk5OTk5MTExMTExMTExMTExMTExMTExMTExMTE5MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTiIscj0icnJycnJycnJycnJyLHJOTm1tbW1tbXJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJybW1tbW1tbW1tbW1tbW1ycnJycnJybm5ubm5ubm5ubiVubnJycm1ycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycm1tbW1tbW1tbW1tbW1tbW1tbW1ObW1tbSIsaT0vW1x1MDU5MC1cdTA1ZjRcdTA2MDAtXHUwNmZmXHUwNzAwLVx1MDhhY10vLG89L1tzdHdOXS8sYT0vW0xScl0vLGw9L1tMYjFuXS8scz0vWzFuXS8sYz0iTCI7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCFpLnRlc3QobikpcmV0dXJuITE7Zm9yKHZhciByLHU9bi5sZW5ndGgsZj1bXSxoPTA7dT5oOysraClmLnB1c2gocj1lKG4uY2hhckNvZGVBdChoKSkpO2Zvcih2YXIgaD0wLGQ9Yzt1Pmg7KytoKXt2YXIgcj1mW2hdOyJtIj09cj9mW2hdPWQ6ZD1yfWZvcih2YXIgaD0wLHA9Yzt1Pmg7KytoKXt2YXIgcj1mW2hdOyIxIj09ciYmInIiPT1wP2ZbaF09Im4iOmEudGVzdChyKSYmKHA9ciwiciI9PXImJihmW2hdPSJSIikpfWZvcih2YXIgaD0xLGQ9ZlswXTt1LTE+aDsrK2gpe3ZhciByPWZbaF07IisiPT1yJiYiMSI9PWQmJiIxIj09ZltoKzFdP2ZbaF09IjEiOiIsIiE9cnx8ZCE9ZltoKzFdfHwiMSIhPWQmJiJuIiE9ZHx8KGZbaF09ZCksZD1yfWZvcih2YXIgaD0wO3U+aDsrK2gpe3ZhciByPWZbaF07aWYoIiwiPT1yKWZbaF09Ik4iO2Vsc2UgaWYoIiUiPT1yKXtmb3IodmFyIG09aCsxO3U+bSYmIiUiPT1mW21dOysrbSk7Zm9yKHZhciBnPWgmJiIhIj09ZltoLTFdfHx1Pm0mJiIxIj09ZlttXT8iMSI6Ik4iLHY9aDttPnY7Kyt2KWZbdl09ZztoPW0tMX19Zm9yKHZhciBoPTAscD1jO3U+aDsrK2gpe3ZhciByPWZbaF07IkwiPT1wJiYiMSI9PXI/ZltoXT0iTCI6YS50ZXN0KHIpJiYocD1yKX1mb3IodmFyIGg9MDt1Pmg7KytoKWlmKG8udGVzdChmW2hdKSl7Zm9yKHZhciBtPWgrMTt1Pm0mJm8udGVzdChmW21dKTsrK20pO2Zvcih2YXIgeT0iTCI9PShoP2ZbaC0xXTpjKSx4PSJMIj09KHU+bT9mW21dOmMpLGc9eXx8eD8iTCI6IlIiLHY9aDttPnY7Kyt2KWZbdl09ZztoPW0tMX1mb3IodmFyIGIsdz1bXSxoPTA7dT5oOylpZihsLnRlc3QoZltoXSkpe3ZhciBrPWg7Zm9yKCsraDt1PmgmJmwudGVzdChmW2hdKTsrK2gpO3cucHVzaChuZXcgdCgwLGssaCkpfWVsc2V7dmFyIFM9aCxDPXcubGVuZ3RoO2ZvcigrK2g7dT5oJiYiTCIhPWZbaF07KytoKTtmb3IodmFyIHY9UztoPnY7KWlmKHMudGVzdChmW3ZdKSl7dj5TJiZ3LnNwbGljZShDLDAsbmV3IHQoMSxTLHYpKTt2YXIgTD12O2ZvcigrK3Y7aD52JiZzLnRlc3QoZlt2XSk7Kyt2KTt3LnNwbGljZShDLDAsbmV3IHQoMixMLHYpKSxTPXZ9ZWxzZSsrdjtoPlMmJncuc3BsaWNlKEMsMCxuZXcgdCgxLFMsaCkpfXJldHVybiAxPT13WzBdLmxldmVsJiYoYj1uLm1hdGNoKC9eXHMrLykpJiYod1swXS5mcm9tPWJbMF0ubGVuZ3RoLHcudW5zaGlmdChuZXcgdCgwLDAsYlswXS5sZW5ndGgpKSksMT09SWkodykubGV2ZWwmJihiPW4ubWF0Y2goL1xzKyQvKSkmJihJaSh3KS50by09YlswXS5sZW5ndGgsdy5wdXNoKG5ldyB0KDAsdS1iWzBdLmxlbmd0aCx1KSkpLDI9PXdbMF0ubGV2ZWwmJncudW5zaGlmdChuZXcgdCgxLHdbMF0udG8sd1swXS50bykpLHdbMF0ubGV2ZWwhPUlpKHcpLmxldmVsJiZ3LnB1c2gobmV3IHQod1swXS5sZXZlbCx1LHUpKSx3fX0oKTtyZXR1cm4gZS52ZXJzaW9uPSI1LjE1LjIiLGV9KX0se31dLDExOltmdW5jdGlvbih0LG4scil7IWZ1bmN0aW9uKGkpeyJvYmplY3QiPT10eXBlb2YgciYmIm9iamVjdCI9PXR5cGVvZiBuP2kodCgiLi4vLi4vbGliL2NvZGVtaXJyb3IiKSx0KCIuLi9tYXJrZG93bi9tYXJrZG93biIpLHQoIi4uLy4uL2FkZG9uL21vZGUvb3ZlcmxheSIpKToiZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5hbWQ/ZShbIi4uLy4uL2xpYi9jb2RlbWlycm9yIiwiLi4vbWFya2Rvd24vbWFya2Rvd24iLCIuLi8uLi9hZGRvbi9tb2RlL292ZXJsYXkiXSxpKTppKENvZGVNaXJyb3IpfShmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7dmFyIHQ9L14oKD86KD86YWFhcz98YWJvdXR8YWNhcHxhZGl1bXh0cmF8YWZbcHNdfGFpbXxhcHR8YXR0YWNobWVudHxhd3xiZXNoYXJlfGJpdGNvaW58Ym9sb3xjYWxsdG98Y2FwfGNocm9tZSg/Oi1leHRlbnNpb24pP3xjaWR8Y29hcHxjb20tZXZlbnRicml0ZS1hdHRlbmRlZXxjb250ZW50fGNyaWR8Y3ZzfGRhdGF8ZGF2fGRpY3R8ZGxuYS0oPzpwbGF5Y29udGFpbmVyfHBsYXlzaW5nbGUpfGRuc3xkb2l8ZHRufGR2YnxlZDJrfGZhY2V0aW1lfGZlZWR8ZmlsZXxmaW5nZXJ8ZmlzaHxmdHB8Z2VvfGdnfGdpdHxnaXptb3Byb2plY3R8Z298Z29waGVyfGd0YWxrfGgzMjN8aGNwfGh0dHBzP3xpYXh8aWNhcHxpY29ufGltfGltYXB8aW5mb3xpcG58aXBwfGlyY1s2c10/fGlyaXMoPzpcLmJlZXB8XC5sd3p8XC54cGN8XC54cGNzKT98aXRtc3xqYXJ8amF2YXNjcmlwdHxqbXN8a2V5cGFyY3xsYXN0Zm18bGRhcHM/fG1hZ25ldHxtYWlsdG98bWFwc3xtYXJrZXR8bWVzc2FnZXxtaWR8bW1zfG1zLWhlbHB8bXNuaW18bXNycHM/fG10cXB8bXVtYmxlfG11cGRhdGV8bXZufG5ld3N8bmZzfG5paD98bm50cHxub3Rlc3xvaWR8b3BhcXVlbG9ja3Rva2VufHBhbG18cGFwYXJhenppfHBsYXRmb3JtfHBvcHxwcmVzfHByb3h5fHBzeWN8cXVlcnl8cmVzKD86b3VyY2UpP3xybWl8cnN5bmN8cnRtcHxydHNwfHNlY29uZGxpZmV8c2VydmljZXxzZXNzaW9ufHNmdHB8c2dufHNodHRwfHNpZXZlfHNpcHM/fHNreXBlfHNtW2JzXXxzbm1wfHNvYXBcLmJlZXBzP3xzb2xkYXR8c3BvdGlmeXxzc2h8c3RlYW18c3ZufHRhZ3x0ZWFtc3BlYWt8dGVsKD86bmV0KT98dGZ0cHx0aGluZ3N8dGhpc21lc3NhZ2V8dGlwfHRuMzI3MHx0dnx1ZHB8dW5yZWFsfHVybnx1dDIwMDR8dmVtbWl8dmVudHJpbG98dmlldy1zb3VyY2V8d2ViY2FsfHdzcz98d3RhaXx3eWNpd3lnfHhjb24oPzotdXNlcmlkKT98eGZpcmV8eG1scnBjXC5iZWVwcz98eG1wcHx4cml8eW1zZ3J8ejM5XC41MFtyc10/KTooPzpcL3sxLDN9fFthLXowLTklXSl8d3d3XGR7MCwzfVsuXXxbYS16MC05LlwtXStbLl1bYS16XXsyLDR9XC8pKD86W15ccygpPD5dfFwoW15ccygpPD5dKlwpKSsoPzpcKFteXHMoKTw+XSpcKXxbXlxzYCohKClcW1xde307OiciLiw8Pj/Cq8K74oCc4oCd4oCY4oCZXSkpL2k7ZS5kZWZpbmVNb2RlKCJnZm0iLGZ1bmN0aW9uKG4scil7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS5jb2RlPSExLG51bGx9dmFyIG89MCxhPXtzdGFydFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue2NvZGU6ITEsY29kZUJsb2NrOiExLGF0ZVNwYWNlOiExfX0sY29weVN0YXRlOmZ1bmN0aW9uKGUpe3JldHVybntjb2RlOmUuY29kZSxjb2RlQmxvY2s6ZS5jb2RlQmxvY2ssYXRlU3BhY2U6ZS5hdGVTcGFjZX19LHRva2VuOmZ1bmN0aW9uKGUsbil7aWYobi5jb21iaW5lVG9rZW5zPW51bGwsbi5jb2RlQmxvY2spcmV0dXJuIGUubWF0Y2goL15gYGArLyk/KG4uY29kZUJsb2NrPSExLG51bGwpOihlLnNraXBUb0VuZCgpLG51bGwpO2lmKGUuc29sKCkmJihuLmNvZGU9ITEpLGUuc29sKCkmJmUubWF0Y2goL15gYGArLykpcmV0dXJuIGUuc2tpcFRvRW5kKCksbi5jb2RlQmxvY2s9ITAsbnVsbDtpZigiYCI9PT1lLnBlZWsoKSl7ZS5uZXh0KCk7dmFyIGk9ZS5wb3M7ZS5lYXRXaGlsZSgiYCIpO3ZhciBhPTErZS5wb3MtaTtyZXR1cm4gbi5jb2RlP2E9PT1vJiYobi5jb2RlPSExKToobz1hLG4uY29kZT0hMCksbnVsbH1pZihuLmNvZGUpcmV0dXJuIGUubmV4dCgpLG51bGw7aWYoZS5lYXRTcGFjZSgpKXJldHVybiBuLmF0ZVNwYWNlPSEwLG51bGw7aWYoKGUuc29sKCl8fG4uYXRlU3BhY2UpJiYobi5hdGVTcGFjZT0hMSxyLmdpdEh1YlNwaWNlIT09ITEpKXtpZihlLm1hdGNoKC9eKD86W2EtekEtWjAtOVwtX10rXC8pPyg/OlthLXpBLVowLTlcLV9dK0ApPyg/OlthLWYwLTldezcsNDB9XGIpLykpcmV0dXJuIG4uY29tYmluZVRva2Vucz0hMCwibGluayI7aWYoZS5tYXRjaCgvXig/OlthLXpBLVowLTlcLV9dK1wvKT8oPzpbYS16QS1aMC05XC1fXSspPyNbMC05XStcYi8pKXJldHVybiBuLmNvbWJpbmVUb2tlbnM9ITAsImxpbmsifXJldHVybiBlLm1hdGNoKHQpJiYiXSgiIT1lLnN0cmluZy5zbGljZShlLnN0YXJ0LTIsZS5zdGFydCkmJigwPT1lLnN0YXJ0fHwvXFcvLnRlc3QoZS5zdHJpbmcuY2hhckF0KGUuc3RhcnQtMSkpKT8obi5jb21iaW5lVG9rZW5zPSEwLCJsaW5rIik6KGUubmV4dCgpLG51bGwpfSxibGFua0xpbmU6aX0sbD17dW5kZXJzY29yZXNCcmVha1dvcmRzOiExLHRhc2tMaXN0czohMCxmZW5jZWRDb2RlQmxvY2tzOiJgYGAiLHN0cmlrZXRocm91Z2g6ITB9O2Zvcih2YXIgcyBpbiByKWxbc109cltzXTtyZXR1cm4gbC5uYW1lPSJtYXJrZG93biIsZS5vdmVybGF5TW9kZShlLmdldE1vZGUobixsKSxhKX0sIm1hcmtkb3duIiksZS5kZWZpbmVNSU1FKCJ0ZXh0L3gtZ2ZtIiwiZ2ZtIil9KX0seyIuLi8uLi9hZGRvbi9tb2RlL292ZXJsYXkiOjgsIi4uLy4uL2xpYi9jb2RlbWlycm9yIjoxMCwiLi4vbWFya2Rvd24vbWFya2Rvd24iOjEyfV0sMTI6W2Z1bmN0aW9uKHQsbixyKXshZnVuY3Rpb24oaSl7Im9iamVjdCI9PXR5cGVvZiByJiYib2JqZWN0Ij09dHlwZW9mIG4/aSh0KCIuLi8uLi9saWIvY29kZW1pcnJvciIpLHQoIi4uL3htbC94bWwiKSx0KCIuLi9tZXRhIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFtZD9lKFsiLi4vLi4vbGliL2NvZGVtaXJyb3IiLCIuLi94bWwveG1sIiwiLi4vbWV0YSJdLGkpOmkoQ29kZU1pcnJvcil9KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtlLmRlZmluZU1vZGUoIm1hcmtkb3duIixmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIobil7aWYoZS5maW5kTW9kZUJ5TmFtZSl7dmFyIHI9ZS5maW5kTW9kZUJ5TmFtZShuKTtyJiYobj1yLm1pbWV8fHIubWltZXNbMF0pfXZhciBpPWUuZ2V0TW9kZSh0LG4pO3JldHVybiJudWxsIj09aS5uYW1lP251bGw6aX1mdW5jdGlvbiBpKGUsdCxuKXtyZXR1cm4gdC5mPXQuaW5saW5lPW4sbihlLHQpfWZ1bmN0aW9uIG8oZSx0LG4pe3JldHVybiB0LmY9dC5ibG9jaz1uLG4oZSx0KX1mdW5jdGlvbiBhKGUpe3JldHVybiFlfHwhL1xTLy50ZXN0KGUuc3RyaW5nKX1mdW5jdGlvbiBsKGUpe3JldHVybiBlLmxpbmtUaXRsZT0hMSxlLmVtPSExLGUuc3Ryb25nPSExLGUuc3RyaWtldGhyb3VnaD0hMSxlLnF1b3RlPTAsZS5pbmRlbnRlZENvZGU9ITEsayYmZS5mPT1jJiYoZS5mPXAsZS5ibG9jaz1zKSxlLnRyYWlsaW5nU3BhY2U9MCxlLnRyYWlsaW5nU3BhY2VOZXdMaW5lPSExLGUucHJldkxpbmU9ZS50aGlzTGluZSxlLnRoaXNMaW5lPW51bGwsbnVsbH1mdW5jdGlvbiBzKHQsbyl7dmFyIGw9dC5zb2woKSxzPW8ubGlzdCE9PSExLGM9by5pbmRlbnRlZENvZGU7by5pbmRlbnRlZENvZGU9ITEscyYmKG8uaW5kZW50YXRpb25EaWZmPj0wPyhvLmluZGVudGF0aW9uRGlmZjw0JiYoby5pbmRlbnRhdGlvbi09by5pbmRlbnRhdGlvbkRpZmYpLG8ubGlzdD1udWxsKTpvLmluZGVudGF0aW9uPjA/by5saXN0PW51bGw6by5saXN0PSExKTt2YXIgZj1udWxsO2lmKG8uaW5kZW50YXRpb25EaWZmPj00KXJldHVybiB0LnNraXBUb0VuZCgpLGN8fGEoby5wcmV2TGluZSk/KG8uaW5kZW50YXRpb24tPTQsby5pbmRlbnRlZENvZGU9ITAsUy5jb2RlKTpudWxsO2lmKHQuZWF0U3BhY2UoKSlyZXR1cm4gbnVsbDtpZigoZj10Lm1hdGNoKEEpKSYmZlsxXS5sZW5ndGg8PTYpcmV0dXJuIG8uaGVhZGVyPWZbMV0ubGVuZ3RoLG4uaGlnaGxpZ2h0Rm9ybWF0dGluZyYmKG8uZm9ybWF0dGluZz0iaGVhZGVyIiksby5mPW8uaW5saW5lLGgobyk7aWYoIShhKG8ucHJldkxpbmUpfHxvLnF1b3RlfHxzfHxjKSYmKGY9dC5tYXRjaChFKSkpcmV0dXJuIG8uaGVhZGVyPSI9Ij09ZlswXS5jaGFyQXQoMCk/MToyLG4uaGlnaGxpZ2h0Rm9ybWF0dGluZyYmKG8uZm9ybWF0dGluZz0iaGVhZGVyIiksby5mPW8uaW5saW5lLGgobyk7aWYodC5lYXQoIj4iKSlyZXR1cm4gby5xdW90ZT1sPzE6by5xdW90ZSsxLG4uaGlnaGxpZ2h0Rm9ybWF0dGluZyYmKG8uZm9ybWF0dGluZz0icXVvdGUiKSx0LmVhdFNwYWNlKCksaChvKTtpZigiWyI9PT10LnBlZWsoKSlyZXR1cm4gaSh0LG8seSk7aWYodC5tYXRjaChMLCEwKSlyZXR1cm4gby5ocj0hMCxTLmhyO2lmKChhKG8ucHJldkxpbmUpfHxzKSYmKHQubWF0Y2goVCwhMSl8fHQubWF0Y2goTSwhMSkpKXt2YXIgZD1udWxsO2Zvcih0Lm1hdGNoKFQsITApP2Q9InVsIjoodC5tYXRjaChNLCEwKSxkPSJvbCIpLG8uaW5kZW50YXRpb249dC5jb2x1bW4oKSt0LmN1cnJlbnQoKS5sZW5ndGgsby5saXN0PSEwO28ubGlzdFN0YWNrJiZ0LmNvbHVtbigpPG8ubGlzdFN0YWNrW28ubGlzdFN0YWNrLmxlbmd0aC0xXTspby5saXN0U3RhY2sucG9wKCk7cmV0dXJuIG8ubGlzdFN0YWNrLnB1c2goby5pbmRlbnRhdGlvbiksbi50YXNrTGlzdHMmJnQubWF0Y2goTiwhMSkmJihvLnRhc2tMaXN0PSEwKSxvLmY9by5pbmxpbmUsbi5oaWdobGlnaHRGb3JtYXR0aW5nJiYoby5mb3JtYXR0aW5nPVsibGlzdCIsImxpc3QtIitkXSksaChvKX1yZXR1cm4gbi5mZW5jZWRDb2RlQmxvY2tzJiYoZj10Lm1hdGNoKEksITApKT8oby5mZW5jZWRDaGFycz1mWzFdLG8ubG9jYWxNb2RlPXIoZlsyXSksby5sb2NhbE1vZGUmJihvLmxvY2FsU3RhdGU9ZS5zdGFydFN0YXRlKG8ubG9jYWxNb2RlKSksby5mPW8uYmxvY2s9dSxuLmhpZ2hsaWdodEZvcm1hdHRpbmcmJihvLmZvcm1hdHRpbmc9ImNvZGUtYmxvY2siKSxvLmNvZGU9LTEsaChvKSk6aSh0LG8sby5pbmxpbmUpfWZ1bmN0aW9uIGModCxuKXt2YXIgcj13LnRva2VuKHQsbi5odG1sU3RhdGUpO2lmKCFrKXt2YXIgaT1lLmlubmVyTW9kZSh3LG4uaHRtbFN0YXRlKTsoInhtbCI9PWkubW9kZS5uYW1lJiZudWxsPT09aS5zdGF0ZS50YWdTdGFydCYmIWkuc3RhdGUuY29udGV4dCYmaS5zdGF0ZS50b2tlbml6ZS5pc0luVGV4dHx8bi5tZF9pbnNpZGUmJnQuY3VycmVudCgpLmluZGV4T2YoIj4iKT4tMSkmJihuLmY9cCxuLmJsb2NrPXMsbi5odG1sU3RhdGU9bnVsbCl9cmV0dXJuIHJ9ZnVuY3Rpb24gdShlLHQpe3JldHVybiB0LmZlbmNlZENoYXJzJiZlLm1hdGNoKHQuZmVuY2VkQ2hhcnMsITEpPyh0LmxvY2FsTW9kZT10LmxvY2FsU3RhdGU9bnVsbCx0LmY9dC5ibG9jaz1mLG51bGwpOnQubG9jYWxNb2RlP3QubG9jYWxNb2RlLnRva2VuKGUsdC5sb2NhbFN0YXRlKTooZS5za2lwVG9FbmQoKSxTLmNvZGUpfWZ1bmN0aW9uIGYoZSx0KXtlLm1hdGNoKHQuZmVuY2VkQ2hhcnMpLHQuYmxvY2s9cyx0LmY9cCx0LmZlbmNlZENoYXJzPW51bGwsbi5oaWdobGlnaHRGb3JtYXR0aW5nJiYodC5mb3JtYXR0aW5nPSJjb2RlLWJsb2NrIiksdC5jb2RlPTE7dmFyIHI9aCh0KTtyZXR1cm4gdC5jb2RlPTAscn1mdW5jdGlvbiBoKGUpe3ZhciB0PVtdO2lmKGUuZm9ybWF0dGluZyl7dC5wdXNoKFMuZm9ybWF0dGluZyksInN0cmluZyI9PXR5cGVvZiBlLmZvcm1hdHRpbmcmJihlLmZvcm1hdHRpbmc9W2UuZm9ybWF0dGluZ10pO2Zvcih2YXIgcj0wO3I8ZS5mb3JtYXR0aW5nLmxlbmd0aDtyKyspdC5wdXNoKFMuZm9ybWF0dGluZysiLSIrZS5mb3JtYXR0aW5nW3JdKSwiaGVhZGVyIj09PWUuZm9ybWF0dGluZ1tyXSYmdC5wdXNoKFMuZm9ybWF0dGluZysiLSIrZS5mb3JtYXR0aW5nW3JdKyItIitlLmhlYWRlciksInF1b3RlIj09PWUuZm9ybWF0dGluZ1tyXSYmKCFuLm1heEJsb2NrcXVvdGVEZXB0aHx8bi5tYXhCbG9ja3F1b3RlRGVwdGg+PWUucXVvdGU/dC5wdXNoKFMuZm9ybWF0dGluZysiLSIrZS5mb3JtYXR0aW5nW3JdKyItIitlLnF1b3RlKTp0LnB1c2goImVycm9yIikpfWlmKGUudGFza09wZW4pcmV0dXJuIHQucHVzaCgibWV0YSIpLHQubGVuZ3RoP3Quam9pbigiICIpOm51bGw7aWYoZS50YXNrQ2xvc2VkKXJldHVybiB0LnB1c2goInByb3BlcnR5IiksdC5sZW5ndGg/dC5qb2luKCIgIik6bnVsbDtpZihlLmxpbmtIcmVmP3QucHVzaChTLmxpbmtIcmVmLCJ1cmwiKTooZS5zdHJvbmcmJnQucHVzaChTLnN0cm9uZyksZS5lbSYmdC5wdXNoKFMuZW0pLGUuc3RyaWtldGhyb3VnaCYmdC5wdXNoKFMuc3RyaWtldGhyb3VnaCksZS5saW5rVGV4dCYmdC5wdXNoKFMubGlua1RleHQpLGUuY29kZSYmdC5wdXNoKFMuY29kZSkpLGUuaGVhZGVyJiZ0LnB1c2goUy5oZWFkZXIsUy5oZWFkZXIrIi0iK2UuaGVhZGVyKSxlLnF1b3RlJiYodC5wdXNoKFMucXVvdGUpLCFuLm1heEJsb2NrcXVvdGVEZXB0aHx8bi5tYXhCbG9ja3F1b3RlRGVwdGg+PWUucXVvdGU/dC5wdXNoKFMucXVvdGUrIi0iK2UucXVvdGUpOnQucHVzaChTLnF1b3RlKyItIituLm1heEJsb2NrcXVvdGVEZXB0aCkpLGUubGlzdCE9PSExKXt2YXIgaT0oZS5saXN0U3RhY2subGVuZ3RoLTEpJTM7aT8xPT09aT90LnB1c2goUy5saXN0Mik6dC5wdXNoKFMubGlzdDMpOnQucHVzaChTLmxpc3QxKX1yZXR1cm4gZS50cmFpbGluZ1NwYWNlTmV3TGluZT90LnB1c2goInRyYWlsaW5nLXNwYWNlLW5ldy1saW5lIik6ZS50cmFpbGluZ1NwYWNlJiZ0LnB1c2goInRyYWlsaW5nLXNwYWNlLSIrKGUudHJhaWxpbmdTcGFjZSUyPyJhIjoiYiIpKSx0Lmxlbmd0aD90LmpvaW4oIiAiKTpudWxsfWZ1bmN0aW9uIGQoZSx0KXtyZXR1cm4gZS5tYXRjaChPLCEwKT9oKHQpOnZvaWQgMH1mdW5jdGlvbiBwKHQscil7dmFyIGk9ci50ZXh0KHQscik7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBpKXJldHVybiBpO2lmKHIubGlzdClyZXR1cm4gci5saXN0PW51bGwsaChyKTtpZihyLnRhc2tMaXN0KXt2YXIgYT0ieCIhPT10Lm1hdGNoKE4sITApWzFdO3JldHVybiBhP3IudGFza09wZW49ITA6ci50YXNrQ2xvc2VkPSEwLG4uaGlnaGxpZ2h0Rm9ybWF0dGluZyYmKHIuZm9ybWF0dGluZz0idGFzayIpLHIudGFza0xpc3Q9ITEsaChyKX1pZihyLnRhc2tPcGVuPSExLHIudGFza0Nsb3NlZD0hMSxyLmhlYWRlciYmdC5tYXRjaCgvXiMrJC8sITApKXJldHVybiBuLmhpZ2hsaWdodEZvcm1hdHRpbmcmJihyLmZvcm1hdHRpbmc9ImhlYWRlciIpLApoKHIpO3ZhciBsPXQuc29sKCkscz10Lm5leHQoKTtpZihyLmxpbmtUaXRsZSl7ci5saW5rVGl0bGU9ITE7dmFyIHU9czsiKCI9PT1zJiYodT0iKSIpLHU9KHUrIiIpLnJlcGxhY2UoLyhbLj8qK14kW1xdXFwoKXt9fC1dKS9nLCJcXCQxIik7dmFyIGY9Il5cXHMqKD86W14iK3UrIlxcXFxdK3xcXFxcXFxcXHxcXFxcLikiK3U7aWYodC5tYXRjaChuZXcgUmVnRXhwKGYpLCEwKSlyZXR1cm4gUy5saW5rSHJlZn1pZigiYCI9PT1zKXt2YXIgZD1yLmZvcm1hdHRpbmc7bi5oaWdobGlnaHRGb3JtYXR0aW5nJiYoci5mb3JtYXR0aW5nPSJjb2RlIiksdC5lYXRXaGlsZSgiYCIpO3ZhciBwPXQuY3VycmVudCgpLmxlbmd0aDtpZigwPT1yLmNvZGUpcmV0dXJuIHIuY29kZT1wLGgocik7aWYocD09ci5jb2RlKXt2YXIgdj1oKHIpO3JldHVybiByLmNvZGU9MCx2fXJldHVybiByLmZvcm1hdHRpbmc9ZCxoKHIpfWlmKHIuY29kZSlyZXR1cm4gaChyKTtpZigiXFwiPT09cyYmKHQubmV4dCgpLG4uaGlnaGxpZ2h0Rm9ybWF0dGluZykpe3ZhciB5PWgocikseD1TLmZvcm1hdHRpbmcrIi1lc2NhcGUiO3JldHVybiB5P3krIiAiK3g6eH1pZigiISI9PT1zJiZ0Lm1hdGNoKC9cW1teXF1dKlxdID8oPzpcKHxcWykvLCExKSlyZXR1cm4gdC5tYXRjaCgvXFtbXlxdXSpcXS8pLHIuaW5saW5lPXIuZj1nLFMuaW1hZ2U7aWYoIlsiPT09cyYmdC5tYXRjaCgvW15cXV0qXF0oXCguKlwpfCA/XFsuKj9cXSkvLCExKSlyZXR1cm4gci5saW5rVGV4dD0hMCxuLmhpZ2hsaWdodEZvcm1hdHRpbmcmJihyLmZvcm1hdHRpbmc9ImxpbmsiKSxoKHIpO2lmKCJdIj09PXMmJnIubGlua1RleHQmJnQubWF0Y2goL1woLio/XCl8ID9cWy4qP1xdLywhMSkpe24uaGlnaGxpZ2h0Rm9ybWF0dGluZyYmKHIuZm9ybWF0dGluZz0ibGluayIpO3ZhciB5PWgocik7cmV0dXJuIHIubGlua1RleHQ9ITEsci5pbmxpbmU9ci5mPWcseX1pZigiPCI9PT1zJiZ0Lm1hdGNoKC9eKGh0dHBzP3xmdHBzPyk6XC9cLyg/OlteXFw+XXxcXC4pKz4vLCExKSl7ci5mPXIuaW5saW5lPW0sbi5oaWdobGlnaHRGb3JtYXR0aW5nJiYoci5mb3JtYXR0aW5nPSJsaW5rIik7dmFyIHk9aChyKTtyZXR1cm4geT95Kz0iICI6eT0iIix5K1MubGlua0lubGluZX1pZigiPCI9PT1zJiZ0Lm1hdGNoKC9eW14+IFxcXStAKD86W15cXD5dfFxcLikrPi8sITEpKXtyLmY9ci5pbmxpbmU9bSxuLmhpZ2hsaWdodEZvcm1hdHRpbmcmJihyLmZvcm1hdHRpbmc9ImxpbmsiKTt2YXIgeT1oKHIpO3JldHVybiB5P3krPSIgIjp5PSIiLHkrUy5saW5rRW1haWx9aWYoIjwiPT09cyYmdC5tYXRjaCgvXighLS18XHcpLywhMSkpe3ZhciBiPXQuc3RyaW5nLmluZGV4T2YoIj4iLHQucG9zKTtpZigtMSE9Yil7dmFyIGs9dC5zdHJpbmcuc3Vic3RyaW5nKHQuc3RhcnQsYik7L21hcmtkb3duXHMqPVxzKignfCIpezAsMX0xKCd8Iil7MCwxfS8udGVzdChrKSYmKHIubWRfaW5zaWRlPSEwKX1yZXR1cm4gdC5iYWNrVXAoMSksci5odG1sU3RhdGU9ZS5zdGFydFN0YXRlKHcpLG8odCxyLGMpfWlmKCI8Ij09PXMmJnQubWF0Y2goL15cL1x3Kj8+LykpcmV0dXJuIHIubWRfaW5zaWRlPSExLCJ0YWciO3ZhciBDPSExO2lmKCFuLnVuZGVyc2NvcmVzQnJlYWtXb3JkcyYmIl8iPT09cyYmIl8iIT09dC5wZWVrKCkmJnQubWF0Y2goLyhcdykvLCExKSl7dmFyIEw9dC5wb3MtMjtpZihMPj0wKXt2YXIgVD10LnN0cmluZy5jaGFyQXQoTCk7Il8iIT09VCYmVC5tYXRjaCgvKFx3KS8sITEpJiYoQz0hMCl9fWlmKCIqIj09PXN8fCJfIj09PXMmJiFDKWlmKGwmJiIgIj09PXQucGVlaygpKTtlbHNle2lmKHIuc3Ryb25nPT09cyYmdC5lYXQocykpe24uaGlnaGxpZ2h0Rm9ybWF0dGluZyYmKHIuZm9ybWF0dGluZz0ic3Ryb25nIik7dmFyIHY9aChyKTtyZXR1cm4gci5zdHJvbmc9ITEsdn1pZighci5zdHJvbmcmJnQuZWF0KHMpKXJldHVybiByLnN0cm9uZz1zLG4uaGlnaGxpZ2h0Rm9ybWF0dGluZyYmKHIuZm9ybWF0dGluZz0ic3Ryb25nIiksaChyKTtpZihyLmVtPT09cyl7bi5oaWdobGlnaHRGb3JtYXR0aW5nJiYoci5mb3JtYXR0aW5nPSJlbSIpO3ZhciB2PWgocik7cmV0dXJuIHIuZW09ITEsdn1pZighci5lbSlyZXR1cm4gci5lbT1zLG4uaGlnaGxpZ2h0Rm9ybWF0dGluZyYmKHIuZm9ybWF0dGluZz0iZW0iKSxoKHIpfWVsc2UgaWYoIiAiPT09cyYmKHQuZWF0KCIqIil8fHQuZWF0KCJfIikpKXtpZigiICI9PT10LnBlZWsoKSlyZXR1cm4gaChyKTt0LmJhY2tVcCgxKX1pZihuLnN0cmlrZXRocm91Z2gpaWYoIn4iPT09cyYmdC5lYXRXaGlsZShzKSl7aWYoci5zdHJpa2V0aHJvdWdoKXtuLmhpZ2hsaWdodEZvcm1hdHRpbmcmJihyLmZvcm1hdHRpbmc9InN0cmlrZXRocm91Z2giKTt2YXIgdj1oKHIpO3JldHVybiByLnN0cmlrZXRocm91Z2g9ITEsdn1pZih0Lm1hdGNoKC9eW15cc10vLCExKSlyZXR1cm4gci5zdHJpa2V0aHJvdWdoPSEwLG4uaGlnaGxpZ2h0Rm9ybWF0dGluZyYmKHIuZm9ybWF0dGluZz0ic3RyaWtldGhyb3VnaCIpLGgocil9ZWxzZSBpZigiICI9PT1zJiZ0Lm1hdGNoKC9efn4vLCEwKSl7aWYoIiAiPT09dC5wZWVrKCkpcmV0dXJuIGgocik7dC5iYWNrVXAoMil9cmV0dXJuIiAiPT09cyYmKHQubWF0Y2goLyArJC8sITEpP3IudHJhaWxpbmdTcGFjZSsrOnIudHJhaWxpbmdTcGFjZSYmKHIudHJhaWxpbmdTcGFjZU5ld0xpbmU9ITApKSxoKHIpfWZ1bmN0aW9uIG0oZSx0KXt2YXIgcj1lLm5leHQoKTtpZigiPiI9PT1yKXt0LmY9dC5pbmxpbmU9cCxuLmhpZ2hsaWdodEZvcm1hdHRpbmcmJih0LmZvcm1hdHRpbmc9ImxpbmsiKTt2YXIgaT1oKHQpO3JldHVybiBpP2krPSIgIjppPSIiLGkrUy5saW5rSW5saW5lfXJldHVybiBlLm1hdGNoKC9eW14+XSsvLCEwKSxTLmxpbmtJbmxpbmV9ZnVuY3Rpb24gZyhlLHQpe2lmKGUuZWF0U3BhY2UoKSlyZXR1cm4gbnVsbDt2YXIgcj1lLm5leHQoKTtyZXR1cm4iKCI9PT1yfHwiWyI9PT1yPyh0LmY9dC5pbmxpbmU9digiKCI9PT1yPyIpIjoiXSIsMCksbi5oaWdobGlnaHRGb3JtYXR0aW5nJiYodC5mb3JtYXR0aW5nPSJsaW5rLXN0cmluZyIpLHQubGlua0hyZWY9ITAsaCh0KSk6ImVycm9yIn1mdW5jdGlvbiB2KGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpPXQubmV4dCgpO2lmKGk9PT1lKXtyLmY9ci5pbmxpbmU9cCxuLmhpZ2hsaWdodEZvcm1hdHRpbmcmJihyLmZvcm1hdHRpbmc9Imxpbmstc3RyaW5nIik7dmFyIG89aChyKTtyZXR1cm4gci5saW5rSHJlZj0hMSxvfXJldHVybiB0Lm1hdGNoKFBbZV0pLHIubGlua0hyZWY9ITAsaChyKX19ZnVuY3Rpb24geShlLHQpe3JldHVybiBlLm1hdGNoKC9eKFteXF1cXF18XFwuKSpcXTovLCExKT8odC5mPXgsZS5uZXh0KCksbi5oaWdobGlnaHRGb3JtYXR0aW5nJiYodC5mb3JtYXR0aW5nPSJsaW5rIiksdC5saW5rVGV4dD0hMCxoKHQpKTppKGUsdCxwKX1mdW5jdGlvbiB4KGUsdCl7aWYoZS5tYXRjaCgvXlxdOi8sITApKXt0LmY9dC5pbmxpbmU9YixuLmhpZ2hsaWdodEZvcm1hdHRpbmcmJih0LmZvcm1hdHRpbmc9ImxpbmsiKTt2YXIgcj1oKHQpO3JldHVybiB0LmxpbmtUZXh0PSExLHJ9cmV0dXJuIGUubWF0Y2goL14oW15cXVxcXXxcXC4pKy8sITApLFMubGlua1RleHR9ZnVuY3Rpb24gYihlLHQpe3JldHVybiBlLmVhdFNwYWNlKCk/bnVsbDooZS5tYXRjaCgvXlteXHNdKy8sITApLHZvaWQgMD09PWUucGVlaygpP3QubGlua1RpdGxlPSEwOmUubWF0Y2goL14oPzpccysoPzoiKD86W14iXFxdfFxcXFx8XFwuKSsifCcoPzpbXidcXF18XFxcXHxcXC4pKyd8XCgoPzpbXilcXF18XFxcXHxcXC4pK1wpKSk/LywhMCksdC5mPXQuaW5saW5lPXAsUy5saW5rSHJlZisiIHVybCIpfXZhciB3PWUuZ2V0TW9kZSh0LCJ0ZXh0L2h0bWwiKSxrPSJudWxsIj09dy5uYW1lO3ZvaWQgMD09PW4uaGlnaGxpZ2h0Rm9ybWF0dGluZyYmKG4uaGlnaGxpZ2h0Rm9ybWF0dGluZz0hMSksdm9pZCAwPT09bi5tYXhCbG9ja3F1b3RlRGVwdGgmJihuLm1heEJsb2NrcXVvdGVEZXB0aD0wKSx2b2lkIDA9PT1uLnVuZGVyc2NvcmVzQnJlYWtXb3JkcyYmKG4udW5kZXJzY29yZXNCcmVha1dvcmRzPSEwKSx2b2lkIDA9PT1uLnRhc2tMaXN0cyYmKG4udGFza0xpc3RzPSExKSx2b2lkIDA9PT1uLnN0cmlrZXRocm91Z2gmJihuLnN0cmlrZXRocm91Z2g9ITEpLHZvaWQgMD09PW4udG9rZW5UeXBlT3ZlcnJpZGVzJiYobi50b2tlblR5cGVPdmVycmlkZXM9e30pO3ZhciBTPXtoZWFkZXI6ImhlYWRlciIsY29kZToiY29tbWVudCIscXVvdGU6InF1b3RlIixsaXN0MToidmFyaWFibGUtMiIsbGlzdDI6InZhcmlhYmxlLTMiLGxpc3QzOiJrZXl3b3JkIixocjoiaHIiLGltYWdlOiJ0YWciLGZvcm1hdHRpbmc6ImZvcm1hdHRpbmciLGxpbmtJbmxpbmU6ImxpbmsiLGxpbmtFbWFpbDoibGluayIsbGlua1RleHQ6ImxpbmsiLGxpbmtIcmVmOiJzdHJpbmciLGVtOiJlbSIsc3Ryb25nOiJzdHJvbmciLHN0cmlrZXRocm91Z2g6InN0cmlrZXRocm91Z2gifTtmb3IodmFyIEMgaW4gUylTLmhhc093blByb3BlcnR5KEMpJiZuLnRva2VuVHlwZU92ZXJyaWRlc1tDXSYmKFNbQ109bi50b2tlblR5cGVPdmVycmlkZXNbQ10pO3ZhciBMPS9eKFsqXC1fXSkoPzpccypcMSl7Mix9XHMqJC8sVD0vXlsqXC0rXVxzKy8sTT0vXlswLTldKyhbLildKVxzKy8sTj0vXlxbKHh8IClcXSg/PVxzKS8sQT1uLmFsbG93QXR4SGVhZGVyV2l0aG91dFNwYWNlPy9eKCMrKS86L14oIyspKD86IHwkKS8sRT0vXiAqKD86XD17MSx9fC17MSx9KVxzKiQvLE89L15bXiMhXFtcXSpfXFw8PmAgIicofl0rLyxJPW5ldyBSZWdFeHAoIl4oIisobi5mZW5jZWRDb2RlQmxvY2tzPT09ITA/In5+fit8YGBgKyI6bi5mZW5jZWRDb2RlQmxvY2tzKSsiKVsgXFx0XSooW1xcdysjLV0qKSIpLFA9eyIpIjovXig/OlteXFxcKFwpXXxcXC58XCgoPzpbXlxcXChcKV18XFwuKSpcKSkqPyg/PVwpKS8sIl0iOi9eKD86W15cXFxbXF1dfFxcLnxcWyg/OlteXFxcW1xcXV18XFwuKSpcXSkqPyg/PVxdKS99LFI9e3N0YXJ0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm57ZjpzLHByZXZMaW5lOm51bGwsdGhpc0xpbmU6bnVsbCxibG9jazpzLGh0bWxTdGF0ZTpudWxsLGluZGVudGF0aW9uOjAsaW5saW5lOnAsdGV4dDpkLGZvcm1hdHRpbmc6ITEsbGlua1RleHQ6ITEsbGlua0hyZWY6ITEsbGlua1RpdGxlOiExLGNvZGU6MCxlbTohMSxzdHJvbmc6ITEsaGVhZGVyOjAsaHI6ITEsdGFza0xpc3Q6ITEsbGlzdDohMSxsaXN0U3RhY2s6W10scXVvdGU6MCx0cmFpbGluZ1NwYWNlOjAsdHJhaWxpbmdTcGFjZU5ld0xpbmU6ITEsc3RyaWtldGhyb3VnaDohMSxmZW5jZWRDaGFyczpudWxsfX0sY29weVN0YXRlOmZ1bmN0aW9uKHQpe3JldHVybntmOnQuZixwcmV2TGluZTp0LnByZXZMaW5lLHRoaXNMaW5lOnQudGhpc0xpbmUsYmxvY2s6dC5ibG9jayxodG1sU3RhdGU6dC5odG1sU3RhdGUmJmUuY29weVN0YXRlKHcsdC5odG1sU3RhdGUpLGluZGVudGF0aW9uOnQuaW5kZW50YXRpb24sbG9jYWxNb2RlOnQubG9jYWxNb2RlLGxvY2FsU3RhdGU6dC5sb2NhbE1vZGU/ZS5jb3B5U3RhdGUodC5sb2NhbE1vZGUsdC5sb2NhbFN0YXRlKTpudWxsLGlubGluZTp0LmlubGluZSx0ZXh0OnQudGV4dCxmb3JtYXR0aW5nOiExLGxpbmtUaXRsZTp0LmxpbmtUaXRsZSxjb2RlOnQuY29kZSxlbTp0LmVtLHN0cm9uZzp0LnN0cm9uZyxzdHJpa2V0aHJvdWdoOnQuc3RyaWtldGhyb3VnaCxoZWFkZXI6dC5oZWFkZXIsaHI6dC5ocix0YXNrTGlzdDp0LnRhc2tMaXN0LGxpc3Q6dC5saXN0LGxpc3RTdGFjazp0Lmxpc3RTdGFjay5zbGljZSgwKSxxdW90ZTp0LnF1b3RlLGluZGVudGVkQ29kZTp0LmluZGVudGVkQ29kZSx0cmFpbGluZ1NwYWNlOnQudHJhaWxpbmdTcGFjZSx0cmFpbGluZ1NwYWNlTmV3TGluZTp0LnRyYWlsaW5nU3BhY2VOZXdMaW5lLG1kX2luc2lkZTp0Lm1kX2luc2lkZSxmZW5jZWRDaGFyczp0LmZlbmNlZENoYXJzfX0sdG9rZW46ZnVuY3Rpb24oZSx0KXtpZih0LmZvcm1hdHRpbmc9ITEsZSE9dC50aGlzTGluZSl7dmFyIG49dC5oZWFkZXJ8fHQuaHI7aWYodC5oZWFkZXI9MCx0LmhyPSExLGUubWF0Y2goL15ccyokLywhMCl8fG4pe2lmKGwodCksIW4pcmV0dXJuIG51bGw7dC5wcmV2TGluZT1udWxsfXQucHJldkxpbmU9dC50aGlzTGluZSx0LnRoaXNMaW5lPWUsdC50YXNrTGlzdD0hMSx0LnRyYWlsaW5nU3BhY2U9MCx0LnRyYWlsaW5nU3BhY2VOZXdMaW5lPSExLHQuZj10LmJsb2NrO3ZhciByPWUubWF0Y2goL15ccyovLCEwKVswXS5yZXBsYWNlKC9cdC9nLCIgICAgIikubGVuZ3RoO2lmKHQuaW5kZW50YXRpb25EaWZmPU1hdGgubWluKHItdC5pbmRlbnRhdGlvbiw0KSx0LmluZGVudGF0aW9uPXQuaW5kZW50YXRpb24rdC5pbmRlbnRhdGlvbkRpZmYscj4wKXJldHVybiBudWxsfXJldHVybiB0LmYoZSx0KX0saW5uZXJNb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmJsb2NrPT1jP3tzdGF0ZTplLmh0bWxTdGF0ZSxtb2RlOnd9OmUubG9jYWxTdGF0ZT97c3RhdGU6ZS5sb2NhbFN0YXRlLG1vZGU6ZS5sb2NhbE1vZGV9OntzdGF0ZTplLG1vZGU6Un19LGJsYW5rTGluZTpsLGdldFR5cGU6aCxmb2xkOiJtYXJrZG93biJ9O3JldHVybiBSfSwieG1sIiksZS5kZWZpbmVNSU1FKCJ0ZXh0L3gtbWFya2Rvd24iLCJtYXJrZG93biIpfSl9LHsiLi4vLi4vbGliL2NvZGVtaXJyb3IiOjEwLCIuLi9tZXRhIjoxMywiLi4veG1sL3htbCI6MTR9XSwxMzpbZnVuY3Rpb24odCxuLHIpeyFmdW5jdGlvbihpKXsib2JqZWN0Ij09dHlwZW9mIHImJiJvYmplY3QiPT10eXBlb2Ygbj9pKHQoIi4uL2xpYi9jb2RlbWlycm9yIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFtZD9lKFsiLi4vbGliL2NvZGVtaXJyb3IiXSxpKTppKENvZGVNaXJyb3IpfShmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZS5tb2RlSW5mbz1be25hbWU6IkFQTCIsbWltZToidGV4dC9hcGwiLG1vZGU6ImFwbCIsZXh0OlsiZHlhbG9nIiwiYXBsIl19LHtuYW1lOiJQR1AiLG1pbWVzOlsiYXBwbGljYXRpb24vcGdwIiwiYXBwbGljYXRpb24vcGdwLWtleXMiLCJhcHBsaWNhdGlvbi9wZ3Atc2lnbmF0dXJlIl0sbW9kZToiYXNjaWlhcm1vciIsZXh0OlsicGdwIl19LHtuYW1lOiJBU04uMSIsbWltZToidGV4dC94LXR0Y24tYXNuIixtb2RlOiJhc24uMSIsZXh0OlsiYXNuIiwiYXNuMSJdfSx7bmFtZToiQXN0ZXJpc2siLG1pbWU6InRleHQveC1hc3RlcmlzayIsbW9kZToiYXN0ZXJpc2siLGZpbGU6L15leHRlbnNpb25zXC5jb25mJC9pfSx7bmFtZToiQnJhaW5mdWNrIixtaW1lOiJ0ZXh0L3gtYnJhaW5mdWNrIixtb2RlOiJicmFpbmZ1Y2siLGV4dDpbImIiLCJiZiJdfSx7bmFtZToiQyIsbWltZToidGV4dC94LWNzcmMiLG1vZGU6ImNsaWtlIixleHQ6WyJjIiwiaCJdfSx7bmFtZToiQysrIixtaW1lOiJ0ZXh0L3gtYysrc3JjIixtb2RlOiJjbGlrZSIsZXh0OlsiY3BwIiwiYysrIiwiY2MiLCJjeHgiLCJocHAiLCJoKysiLCJoaCIsImh4eCJdLGFsaWFzOlsiY3BwIl19LHtuYW1lOiJDb2JvbCIsbWltZToidGV4dC94LWNvYm9sIixtb2RlOiJjb2JvbCIsZXh0OlsiY29iIiwiY3B5Il19LHtuYW1lOiJDIyIsbWltZToidGV4dC94LWNzaGFycCIsbW9kZToiY2xpa2UiLGV4dDpbImNzIl0sYWxpYXM6WyJjc2hhcnAiXX0se25hbWU6IkNsb2p1cmUiLG1pbWU6InRleHQveC1jbG9qdXJlIixtb2RlOiJjbG9qdXJlIixleHQ6WyJjbGoiLCJjbGpjIiwiY2xqeCJdfSx7bmFtZToiQ2xvanVyZVNjcmlwdCIsbWltZToidGV4dC94LWNsb2p1cmVzY3JpcHQiLG1vZGU6ImNsb2p1cmUiLGV4dDpbImNsanMiXX0se25hbWU6IkNsb3N1cmUgU3R5bGVzaGVldHMgKEdTUykiLG1pbWU6InRleHQveC1nc3MiLG1vZGU6ImNzcyIsZXh0OlsiZ3NzIl19LHtuYW1lOiJDTWFrZSIsbWltZToidGV4dC94LWNtYWtlIixtb2RlOiJjbWFrZSIsZXh0OlsiY21ha2UiLCJjbWFrZS5pbiJdLGZpbGU6L15DTWFrZUxpc3RzLnR4dCQvfSx7bmFtZToiQ29mZmVlU2NyaXB0IixtaW1lOiJ0ZXh0L3gtY29mZmVlc2NyaXB0Iixtb2RlOiJjb2ZmZWVzY3JpcHQiLGV4dDpbImNvZmZlZSJdLGFsaWFzOlsiY29mZmVlIiwiY29mZmVlLXNjcmlwdCJdfSx7bmFtZToiQ29tbW9uIExpc3AiLG1pbWU6InRleHQveC1jb21tb24tbGlzcCIsbW9kZToiY29tbW9ubGlzcCIsZXh0OlsiY2wiLCJsaXNwIiwiZWwiXSxhbGlhczpbImxpc3AiXX0se25hbWU6IkN5cGhlciIsbWltZToiYXBwbGljYXRpb24veC1jeXBoZXItcXVlcnkiLG1vZGU6ImN5cGhlciIsZXh0OlsiY3lwIiwiY3lwaGVyIl19LHtuYW1lOiJDeXRob24iLG1pbWU6InRleHQveC1jeXRob24iLG1vZGU6InB5dGhvbiIsZXh0OlsicHl4IiwicHhkIiwicHhpIl19LHtuYW1lOiJDcnlzdGFsIixtaW1lOiJ0ZXh0L3gtY3J5c3RhbCIsbW9kZToiY3J5c3RhbCIsZXh0OlsiY3IiXX0se25hbWU6IkNTUyIsbWltZToidGV4dC9jc3MiLG1vZGU6ImNzcyIsZXh0OlsiY3NzIl19LHtuYW1lOiJDUUwiLG1pbWU6InRleHQveC1jYXNzYW5kcmEiLG1vZGU6InNxbCIsZXh0OlsiY3FsIl19LHtuYW1lOiJEIixtaW1lOiJ0ZXh0L3gtZCIsbW9kZToiZCIsZXh0OlsiZCJdfSx7bmFtZToiRGFydCIsbWltZXM6WyJhcHBsaWNhdGlvbi9kYXJ0IiwidGV4dC94LWRhcnQiXSxtb2RlOiJkYXJ0IixleHQ6WyJkYXJ0Il19LHtuYW1lOiJkaWZmIixtaW1lOiJ0ZXh0L3gtZGlmZiIsbW9kZToiZGlmZiIsZXh0OlsiZGlmZiIsInBhdGNoIl19LHtuYW1lOiJEamFuZ28iLG1pbWU6InRleHQveC1kamFuZ28iLG1vZGU6ImRqYW5nbyJ9LHtuYW1lOiJEb2NrZXJmaWxlIixtaW1lOiJ0ZXh0L3gtZG9ja2VyZmlsZSIsbW9kZToiZG9ja2VyZmlsZSIsZmlsZTovXkRvY2tlcmZpbGUkL30se25hbWU6IkRURCIsbWltZToiYXBwbGljYXRpb24veG1sLWR0ZCIsbW9kZToiZHRkIixleHQ6WyJkdGQiXX0se25hbWU6IkR5bGFuIixtaW1lOiJ0ZXh0L3gtZHlsYW4iLG1vZGU6ImR5bGFuIixleHQ6WyJkeWxhbiIsImR5bCIsImludHIiXX0se25hbWU6IkVCTkYiLG1pbWU6InRleHQveC1lYm5mIixtb2RlOiJlYm5mIn0se25hbWU6IkVDTCIsbWltZToidGV4dC94LWVjbCIsbW9kZToiZWNsIixleHQ6WyJlY2wiXX0se25hbWU6ImVkbiIsbWltZToiYXBwbGljYXRpb24vZWRuIixtb2RlOiJjbG9qdXJlIixleHQ6WyJlZG4iXX0se25hbWU6IkVpZmZlbCIsbWltZToidGV4dC94LWVpZmZlbCIsbW9kZToiZWlmZmVsIixleHQ6WyJlIl19LHtuYW1lOiJFbG0iLG1pbWU6InRleHQveC1lbG0iLG1vZGU6ImVsbSIsZXh0OlsiZWxtIl19LHtuYW1lOiJFbWJlZGRlZCBKYXZhc2NyaXB0IixtaW1lOiJhcHBsaWNhdGlvbi94LWVqcyIsbW9kZToiaHRtbGVtYmVkZGVkIixleHQ6WyJlanMiXX0se25hbWU6IkVtYmVkZGVkIFJ1YnkiLG1pbWU6ImFwcGxpY2F0aW9uL3gtZXJiIixtb2RlOiJodG1sZW1iZWRkZWQiLGV4dDpbImVyYiJdfSx7bmFtZToiRXJsYW5nIixtaW1lOiJ0ZXh0L3gtZXJsYW5nIixtb2RlOiJlcmxhbmciLGV4dDpbImVybCJdfSx7bmFtZToiRmFjdG9yIixtaW1lOiJ0ZXh0L3gtZmFjdG9yIixtb2RlOiJmYWN0b3IiLGV4dDpbImZhY3RvciJdfSx7bmFtZToiRkNMIixtaW1lOiJ0ZXh0L3gtZmNsIixtb2RlOiJmY2wifSx7bmFtZToiRm9ydGgiLG1pbWU6InRleHQveC1mb3J0aCIsbW9kZToiZm9ydGgiLGV4dDpbImZvcnRoIiwiZnRoIiwiNHRoIl19LHtuYW1lOiJGb3J0cmFuIixtaW1lOiJ0ZXh0L3gtZm9ydHJhbiIsbW9kZToiZm9ydHJhbiIsZXh0OlsiZiIsImZvciIsImY3NyIsImY5MCJdfSx7bmFtZToiRiMiLG1pbWU6InRleHQveC1mc2hhcnAiLG1vZGU6Im1sbGlrZSIsZXh0OlsiZnMiXSxhbGlhczpbImZzaGFycCJdfSx7bmFtZToiR2FzIixtaW1lOiJ0ZXh0L3gtZ2FzIixtb2RlOiJnYXMiLGV4dDpbInMiXX0se25hbWU6IkdoZXJraW4iLG1pbWU6InRleHQveC1mZWF0dXJlIixtb2RlOiJnaGVya2luIixleHQ6WyJmZWF0dXJlIl19LHtuYW1lOiJHaXRIdWIgRmxhdm9yZWQgTWFya2Rvd24iLG1pbWU6InRleHQveC1nZm0iLG1vZGU6ImdmbSIsZmlsZTovXihyZWFkbWV8Y29udHJpYnV0aW5nfGhpc3RvcnkpLm1kJC9pfSx7bmFtZToiR28iLG1pbWU6InRleHQveC1nbyIsbW9kZToiZ28iLGV4dDpbImdvIl19LHtuYW1lOiJHcm9vdnkiLG1pbWU6InRleHQveC1ncm9vdnkiLG1vZGU6Imdyb292eSIsZXh0OlsiZ3Jvb3Z5IiwiZ3JhZGxlIl19LHtuYW1lOiJIQU1MIixtaW1lOiJ0ZXh0L3gtaGFtbCIsbW9kZToiaGFtbCIsZXh0OlsiaGFtbCJdfSx7bmFtZToiSGFza2VsbCIsbWltZToidGV4dC94LWhhc2tlbGwiLG1vZGU6Imhhc2tlbGwiLGV4dDpbImhzIl19LHtuYW1lOiJIYXNrZWxsIChMaXRlcmF0ZSkiLG1pbWU6InRleHQveC1saXRlcmF0ZS1oYXNrZWxsIixtb2RlOiJoYXNrZWxsLWxpdGVyYXRlIixleHQ6WyJsaHMiXX0se25hbWU6IkhheGUiLG1pbWU6InRleHQveC1oYXhlIixtb2RlOiJoYXhlIixleHQ6WyJoeCJdfSx7bmFtZToiSFhNTCIsbWltZToidGV4dC94LWh4bWwiLG1vZGU6ImhheGUiLGV4dDpbImh4bWwiXX0se25hbWU6IkFTUC5ORVQiLG1pbWU6ImFwcGxpY2F0aW9uL3gtYXNweCIsbW9kZToiaHRtbGVtYmVkZGVkIixleHQ6WyJhc3B4Il0sYWxpYXM6WyJhc3AiLCJhc3B4Il19LHtuYW1lOiJIVE1MIixtaW1lOiJ0ZXh0L2h0bWwiLG1vZGU6Imh0bWxtaXhlZCIsZXh0OlsiaHRtbCIsImh0bSJdLGFsaWFzOlsieGh0bWwiXX0se25hbWU6IkhUVFAiLG1pbWU6Im1lc3NhZ2UvaHR0cCIsbW9kZToiaHR0cCJ9LHtuYW1lOiJJREwiLG1pbWU6InRleHQveC1pZGwiLG1vZGU6ImlkbCIsZXh0OlsicHJvIl19LHtuYW1lOiJKYWRlIixtaW1lOiJ0ZXh0L3gtamFkZSIsbW9kZToiamFkZSIsZXh0OlsiamFkZSJdfSx7bmFtZToiSmF2YSIsbWltZToidGV4dC94LWphdmEiLG1vZGU6ImNsaWtlIixleHQ6WyJqYXZhIl19LHtuYW1lOiJKYXZhIFNlcnZlciBQYWdlcyIsbWltZToiYXBwbGljYXRpb24veC1qc3AiLG1vZGU6Imh0bWxlbWJlZGRlZCIsZXh0OlsianNwIl0sYWxpYXM6WyJqc3AiXX0se25hbWU6IkphdmFTY3JpcHQiLG1pbWVzOlsidGV4dC9qYXZhc2NyaXB0IiwidGV4dC9lY21hc2NyaXB0IiwiYXBwbGljYXRpb24vamF2YXNjcmlwdCIsImFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdCIsImFwcGxpY2F0aW9uL2VjbWFzY3JpcHQiXSxtb2RlOiJqYXZhc2NyaXB0IixleHQ6WyJqcyJdLGFsaWFzOlsiZWNtYXNjcmlwdCIsImpzIiwibm9kZSJdfSx7bmFtZToiSlNPTiIsbWltZXM6WyJhcHBsaWNhdGlvbi9qc29uIiwiYXBwbGljYXRpb24veC1qc29uIl0sbW9kZToiamF2YXNjcmlwdCIsZXh0OlsianNvbiIsIm1hcCJdLGFsaWFzOlsianNvbjUiXX0se25hbWU6IkpTT04tTEQiLG1pbWU6ImFwcGxpY2F0aW9uL2xkK2pzb24iLG1vZGU6ImphdmFzY3JpcHQiLGV4dDpbImpzb25sZCJdLGFsaWFzOlsianNvbmxkIl19LHtuYW1lOiJKU1giLG1pbWU6InRleHQvanN4Iixtb2RlOiJqc3giLGV4dDpbImpzeCJdfSx7bmFtZToiSmluamEyIixtaW1lOiJudWxsIixtb2RlOiJqaW5qYTIifSx7bmFtZToiSnVsaWEiLG1pbWU6InRleHQveC1qdWxpYSIsbW9kZToianVsaWEiLGV4dDpbImpsIl19LHtuYW1lOiJLb3RsaW4iLG1pbWU6InRleHQveC1rb3RsaW4iLG1vZGU6ImNsaWtlIixleHQ6WyJrdCJdfSx7bmFtZToiTEVTUyIsbWltZToidGV4dC94LWxlc3MiLG1vZGU6ImNzcyIsZXh0OlsibGVzcyJdfSx7bmFtZToiTGl2ZVNjcmlwdCIsbWltZToidGV4dC94LWxpdmVzY3JpcHQiLG1vZGU6ImxpdmVzY3JpcHQiLGV4dDpbImxzIl0sYWxpYXM6WyJscyJdfSx7bmFtZToiTHVhIixtaW1lOiJ0ZXh0L3gtbHVhIixtb2RlOiJsdWEiLGV4dDpbImx1YSJdfSx7bmFtZToiTWFya2Rvd24iLG1pbWU6InRleHQveC1tYXJrZG93biIsbW9kZToibWFya2Rvd24iLGV4dDpbIm1hcmtkb3duIiwibWQiLCJta2QiXX0se25hbWU6Im1JUkMiLG1pbWU6InRleHQvbWlyYyIsbW9kZToibWlyYyJ9LHtuYW1lOiJNYXJpYURCIFNRTCIsbWltZToidGV4dC94LW1hcmlhZGIiLG1vZGU6InNxbCJ9LHtuYW1lOiJNYXRoZW1hdGljYSIsbWltZToidGV4dC94LW1hdGhlbWF0aWNhIixtb2RlOiJtYXRoZW1hdGljYSIsZXh0OlsibSIsIm5iIl19LHtuYW1lOiJNb2RlbGljYSIsbWltZToidGV4dC94LW1vZGVsaWNhIixtb2RlOiJtb2RlbGljYSIsZXh0OlsibW8iXX0se25hbWU6Ik1VTVBTIixtaW1lOiJ0ZXh0L3gtbXVtcHMiLG1vZGU6Im11bXBzIixleHQ6WyJtcHMiXX0se25hbWU6Ik1TIFNRTCIsbWltZToidGV4dC94LW1zc3FsIixtb2RlOiJzcWwifSx7bmFtZToibWJveCIsbWltZToiYXBwbGljYXRpb24vbWJveCIsbW9kZToibWJveCIsZXh0OlsibWJveCJdfSx7bmFtZToiTXlTUUwiLG1pbWU6InRleHQveC1teXNxbCIsbW9kZToic3FsIn0se25hbWU6Ik5naW54IixtaW1lOiJ0ZXh0L3gtbmdpbngtY29uZiIsbW9kZToibmdpbngiLGZpbGU6L25naW54LipcLmNvbmYkL2l9LHtuYW1lOiJOU0lTIixtaW1lOiJ0ZXh0L3gtbnNpcyIsbW9kZToibnNpcyIsZXh0OlsibnNoIiwibnNpIl19LHtuYW1lOiJOVHJpcGxlcyIsbWltZToidGV4dC9uLXRyaXBsZXMiLG1vZGU6Im50cmlwbGVzIixleHQ6WyJudCJdfSx7bmFtZToiT2JqZWN0aXZlIEMiLG1pbWU6InRleHQveC1vYmplY3RpdmVjIixtb2RlOiJjbGlrZSIsZXh0OlsibSIsIm1tIl0sYWxpYXM6WyJvYmplY3RpdmUtYyIsIm9iamMiXX0se25hbWU6Ik9DYW1sIixtaW1lOiJ0ZXh0L3gtb2NhbWwiLG1vZGU6Im1sbGlrZSIsZXh0OlsibWwiLCJtbGkiLCJtbGwiLCJtbHkiXX0se25hbWU6Ik9jdGF2ZSIsbWltZToidGV4dC94LW9jdGF2ZSIsbW9kZToib2N0YXZlIixleHQ6WyJtIl19LHtuYW1lOiJPeiIsbWltZToidGV4dC94LW96Iixtb2RlOiJveiIsZXh0Olsib3oiXX0se25hbWU6IlBhc2NhbCIsbWltZToidGV4dC94LXBhc2NhbCIsbW9kZToicGFzY2FsIixleHQ6WyJwIiwicGFzIl19LHtuYW1lOiJQRUcuanMiLG1pbWU6Im51bGwiLG1vZGU6InBlZ2pzIixleHQ6WyJqc29ubGQiXX0se25hbWU6IlBlcmwiLG1pbWU6InRleHQveC1wZXJsIixtb2RlOiJwZXJsIixleHQ6WyJwbCIsInBtIl19LHtuYW1lOiJQSFAiLG1pbWU6ImFwcGxpY2F0aW9uL3gtaHR0cGQtcGhwIixtb2RlOiJwaHAiLGV4dDpbInBocCIsInBocDMiLCJwaHA0IiwicGhwNSIsInBodG1sIl19LHtuYW1lOiJQaWciLG1pbWU6InRleHQveC1waWciLG1vZGU6InBpZyIsZXh0OlsicGlnIl19LHtuYW1lOiJQbGFpbiBUZXh0IixtaW1lOiJ0ZXh0L3BsYWluIixtb2RlOiJudWxsIixleHQ6WyJ0eHQiLCJ0ZXh0IiwiY29uZiIsImRlZiIsImxpc3QiLCJsb2ciXX0se25hbWU6IlBMU1FMIixtaW1lOiJ0ZXh0L3gtcGxzcWwiLG1vZGU6InNxbCIsZXh0OlsicGxzIl19LHtuYW1lOiJQb3dlclNoZWxsIixtaW1lOiJhcHBsaWNhdGlvbi94LXBvd2Vyc2hlbGwiLG1vZGU6InBvd2Vyc2hlbGwiLGV4dDpbInBzMSIsInBzZDEiLCJwc20xIl19LHtuYW1lOiJQcm9wZXJ0aWVzIGZpbGVzIixtaW1lOiJ0ZXh0L3gtcHJvcGVydGllcyIsbW9kZToicHJvcGVydGllcyIsZXh0OlsicHJvcGVydGllcyIsImluaSIsImluIl0sYWxpYXM6WyJpbmkiLCJwcm9wZXJ0aWVzIl19LHtuYW1lOiJQcm90b0J1ZiIsbWltZToidGV4dC94LXByb3RvYnVmIixtb2RlOiJwcm90b2J1ZiIsZXh0OlsicHJvdG8iXX0se25hbWU6IlB5dGhvbiIsbWltZToidGV4dC94LXB5dGhvbiIsbW9kZToicHl0aG9uIixleHQ6WyJCVUlMRCIsImJ6bCIsInB5IiwicHl3Il0sZmlsZTovXihCVUNLfEJVSUxEKSQvfSx7bmFtZToiUHVwcGV0IixtaW1lOiJ0ZXh0L3gtcHVwcGV0Iixtb2RlOiJwdXBwZXQiLGV4dDpbInBwIl19LHtuYW1lOiJRIixtaW1lOiJ0ZXh0L3gtcSIsbW9kZToicSIsZXh0OlsicSJdfSx7bmFtZToiUiIsbWltZToidGV4dC94LXJzcmMiLG1vZGU6InIiLGV4dDpbInIiXSxhbGlhczpbInJzY3JpcHQiXX0se25hbWU6InJlU3RydWN0dXJlZFRleHQiLG1pbWU6InRleHQveC1yc3QiLG1vZGU6InJzdCIsZXh0OlsicnN0Il0sYWxpYXM6WyJyc3QiXX0se25hbWU6IlJQTSBDaGFuZ2VzIixtaW1lOiJ0ZXh0L3gtcnBtLWNoYW5nZXMiLG1vZGU6InJwbSJ9LHtuYW1lOiJSUE0gU3BlYyIsbWltZToidGV4dC94LXJwbS1zcGVjIixtb2RlOiJycG0iLGV4dDpbInNwZWMiXX0se25hbWU6IlJ1YnkiLG1pbWU6InRleHQveC1ydWJ5Iixtb2RlOiJydWJ5IixleHQ6WyJyYiJdLGFsaWFzOlsianJ1YnkiLCJtYWNydWJ5IiwicmFrZSIsInJiIiwicmJ4Il19LHtuYW1lOiJSdXN0IixtaW1lOiJ0ZXh0L3gtcnVzdHNyYyIsbW9kZToicnVzdCIsZXh0OlsicnMiXX0se25hbWU6IlNBUyIsbWltZToidGV4dC94LXNhcyIsbW9kZToic2FzIixleHQ6WyJzYXMiXX0se25hbWU6IlNhc3MiLG1pbWU6InRleHQveC1zYXNzIixtb2RlOiJzYXNzIixleHQ6WyJzYXNzIl19LHtuYW1lOiJTY2FsYSIsbWltZToidGV4dC94LXNjYWxhIixtb2RlOiJjbGlrZSIsZXh0Olsic2NhbGEiXX0se25hbWU6IlNjaGVtZSIsbWltZToidGV4dC94LXNjaGVtZSIsbW9kZToic2NoZW1lIixleHQ6WyJzY20iLCJzcyJdfSx7bmFtZToiU0NTUyIsbWltZToidGV4dC94LXNjc3MiLG1vZGU6ImNzcyIsZXh0Olsic2NzcyJdfSx7bmFtZToiU2hlbGwiLG1pbWU6InRleHQveC1zaCIsbW9kZToic2hlbGwiLGV4dDpbInNoIiwia3NoIiwiYmFzaCJdLGFsaWFzOlsiYmFzaCIsInNoIiwienNoIl0sZmlsZTovXlBLR0JVSUxEJC99LHtuYW1lOiJTaWV2ZSIsbWltZToiYXBwbGljYXRpb24vc2lldmUiLG1vZGU6InNpZXZlIixleHQ6WyJzaXYiLCJzaWV2ZSJdfSx7bmFtZToiU2xpbSIsbWltZXM6WyJ0ZXh0L3gtc2xpbSIsImFwcGxpY2F0aW9uL3gtc2xpbSJdLG1vZGU6InNsaW0iLGV4dDpbInNsaW0iXX0se25hbWU6IlNtYWxsdGFsayIsbWltZToidGV4dC94LXN0c3JjIixtb2RlOiJzbWFsbHRhbGsiLGV4dDpbInN0Il19LHtuYW1lOiJTbWFydHkiLG1pbWU6InRleHQveC1zbWFydHkiLG1vZGU6InNtYXJ0eSIsZXh0OlsidHBsIl19LHtuYW1lOiJTb2xyIixtaW1lOiJ0ZXh0L3gtc29sciIsbW9kZToic29sciJ9LHtuYW1lOiJTb3kiLG1pbWU6InRleHQveC1zb3kiLG1vZGU6InNveSIsZXh0Olsic295Il0sYWxpYXM6WyJjbG9zdXJlIHRlbXBsYXRlIl19LHtuYW1lOiJTUEFSUUwiLG1pbWU6ImFwcGxpY2F0aW9uL3NwYXJxbC1xdWVyeSIsbW9kZToic3BhcnFsIixleHQ6WyJycSIsInNwYXJxbCJdLGFsaWFzOlsic3BhcnVsIl19LHtuYW1lOiJTcHJlYWRzaGVldCIsbWltZToidGV4dC94LXNwcmVhZHNoZWV0Iixtb2RlOiJzcHJlYWRzaGVldCIsYWxpYXM6WyJleGNlbCIsImZvcm11bGEiXX0se25hbWU6IlNRTCIsbWltZToidGV4dC94LXNxbCIsbW9kZToic3FsIixleHQ6WyJzcWwiXX0se25hbWU6IlNxdWlycmVsIixtaW1lOiJ0ZXh0L3gtc3F1aXJyZWwiLG1vZGU6ImNsaWtlIixleHQ6WyJudXQiXX0se25hbWU6IlN3aWZ0IixtaW1lOiJ0ZXh0L3gtc3dpZnQiLG1vZGU6InN3aWZ0IixleHQ6WyJzd2lmdCJdfSx7bmFtZToic1RlWCIsbWltZToidGV4dC94LXN0ZXgiLG1vZGU6InN0ZXgifSx7bmFtZToiTGFUZVgiLG1pbWU6InRleHQveC1sYXRleCIsbW9kZToic3RleCIsZXh0OlsidGV4dCIsImx0eCJdLGFsaWFzOlsidGV4Il19LHtuYW1lOiJTeXN0ZW1WZXJpbG9nIixtaW1lOiJ0ZXh0L3gtc3lzdGVtdmVyaWxvZyIsbW9kZToidmVyaWxvZyIsZXh0OlsidiJdfSx7bmFtZToiVGNsIixtaW1lOiJ0ZXh0L3gtdGNsIixtb2RlOiJ0Y2wiLGV4dDpbInRjbCJdfSx7bmFtZToiVGV4dGlsZSIsbWltZToidGV4dC94LXRleHRpbGUiLG1vZGU6InRleHRpbGUiLGV4dDpbInRleHRpbGUiXX0se25hbWU6IlRpZGRseVdpa2kgIixtaW1lOiJ0ZXh0L3gtdGlkZGx5d2lraSIsbW9kZToidGlkZGx5d2lraSJ9LHtuYW1lOiJUaWtpIHdpa2kiLG1pbWU6InRleHQvdGlraSIsbW9kZToidGlraSJ9LHtuYW1lOiJUT01MIixtaW1lOiJ0ZXh0L3gtdG9tbCIsbW9kZToidG9tbCIsZXh0OlsidG9tbCJdfSx7bmFtZToiVG9ybmFkbyIsbWltZToidGV4dC94LXRvcm5hZG8iLG1vZGU6InRvcm5hZG8ifSx7bmFtZToidHJvZmYiLG1pbWU6InRleHQvdHJvZmYiLG1vZGU6InRyb2ZmIixleHQ6WyIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiXX0se25hbWU6IlRUQ04iLG1pbWU6InRleHQveC10dGNuIixtb2RlOiJ0dGNuIixleHQ6WyJ0dGNuIiwidHRjbjMiLCJ0dGNucHAiXX0se25hbWU6IlRUQ05fQ0ZHIixtaW1lOiJ0ZXh0L3gtdHRjbi1jZmciLG1vZGU6InR0Y24tY2ZnIixleHQ6WyJjZmciXX0se25hbWU6IlR1cnRsZSIsbWltZToidGV4dC90dXJ0bGUiLG1vZGU6InR1cnRsZSIsZXh0OlsidHRsIl19LHtuYW1lOiJUeXBlU2NyaXB0IixtaW1lOiJhcHBsaWNhdGlvbi90eXBlc2NyaXB0Iixtb2RlOiJqYXZhc2NyaXB0IixleHQ6WyJ0cyJdLGFsaWFzOlsidHMiXX0se25hbWU6IlR3aWciLG1pbWU6InRleHQveC10d2lnIixtb2RlOiJ0d2lnIn0se25hbWU6IldlYiBJREwiLG1pbWU6InRleHQveC13ZWJpZGwiLG1vZGU6IndlYmlkbCIsZXh0Olsid2ViaWRsIl19LHtuYW1lOiJWQi5ORVQiLG1pbWU6InRleHQveC12YiIsbW9kZToidmIiLGV4dDpbInZiIl19LHtuYW1lOiJWQlNjcmlwdCIsbWltZToidGV4dC92YnNjcmlwdCIsbW9kZToidmJzY3JpcHQiLGV4dDpbInZicyJdfSx7bmFtZToiVmVsb2NpdHkiLG1pbWU6InRleHQvdmVsb2NpdHkiLG1vZGU6InZlbG9jaXR5IixleHQ6WyJ2dGwiXX0se25hbWU6IlZlcmlsb2ciLG1pbWU6InRleHQveC12ZXJpbG9nIixtb2RlOiJ2ZXJpbG9nIixleHQ6WyJ2Il19LHtuYW1lOiJWSERMIixtaW1lOiJ0ZXh0L3gtdmhkbCIsbW9kZToidmhkbCIsZXh0OlsidmhkIiwidmhkbCJdfSx7bmFtZToiWE1MIixtaW1lczpbImFwcGxpY2F0aW9uL3htbCIsInRleHQveG1sIl0sbW9kZToieG1sIixleHQ6WyJ4bWwiLCJ4c2wiLCJ4c2QiXSxhbGlhczpbInJzcyIsIndzZGwiLCJ4c2QiXX0se25hbWU6IlhRdWVyeSIsbWltZToiYXBwbGljYXRpb24veHF1ZXJ5Iixtb2RlOiJ4cXVlcnkiLGV4dDpbInh5IiwieHF1ZXJ5Il19LHtuYW1lOiJZYWNhcyIsbWltZToidGV4dC94LXlhY2FzIixtb2RlOiJ5YWNhcyIsZXh0OlsieXMiXX0se25hbWU6IllBTUwiLG1pbWU6InRleHQveC15YW1sIixtb2RlOiJ5YW1sIixleHQ6WyJ5YW1sIiwieW1sIl0sYWxpYXM6WyJ5bWwiXX0se25hbWU6Ilo4MCIsbWltZToidGV4dC94LXo4MCIsbW9kZToiejgwIixleHQ6WyJ6ODAiXX0se25hbWU6Im1zY2dlbiIsbWltZToidGV4dC94LW1zY2dlbiIsbW9kZToibXNjZ2VuIixleHQ6WyJtc2NnZW4iLCJtc2NpbiIsIm1zYyJdfSx7bmFtZToieHUiLG1pbWU6InRleHQveC14dSIsbW9kZToibXNjZ2VuIixleHQ6WyJ4dSJdfSx7bmFtZToibXNnZW5ueSIsbWltZToidGV4dC94LW1zZ2VubnkiLG1vZGU6Im1zY2dlbiIsZXh0OlsibXNnZW5ueSJdfV07Zm9yKHZhciB0PTA7dDxlLm1vZGVJbmZvLmxlbmd0aDt0Kyspe3ZhciBuPWUubW9kZUluZm9bdF07bi5taW1lcyYmKG4ubWltZT1uLm1pbWVzWzBdKX1lLmZpbmRNb2RlQnlNSU1FPWZ1bmN0aW9uKHQpe3Q9dC50b0xvd2VyQ2FzZSgpO2Zvcih2YXIgbj0wO248ZS5tb2RlSW5mby5sZW5ndGg7bisrKXt2YXIgcj1lLm1vZGVJbmZvW25dO2lmKHIubWltZT09dClyZXR1cm4gcjtpZihyLm1pbWVzKWZvcih2YXIgaT0wO2k8ci5taW1lcy5sZW5ndGg7aSsrKWlmKHIubWltZXNbaV09PXQpcmV0dXJuIHJ9fSxlLmZpbmRNb2RlQnlFeHRlbnNpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBuPTA7bjxlLm1vZGVJbmZvLmxlbmd0aDtuKyspe3ZhciByPWUubW9kZUluZm9bbl07aWYoci5leHQpZm9yKHZhciBpPTA7aTxyLmV4dC5sZW5ndGg7aSsrKWlmKHIuZXh0W2ldPT10KXJldHVybiByfX0sZS5maW5kTW9kZUJ5RmlsZU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciBuPTA7bjxlLm1vZGVJbmZvLmxlbmd0aDtuKyspe3ZhciByPWUubW9kZUluZm9bbl07aWYoci5maWxlJiZyLmZpbGUudGVzdCh0KSlyZXR1cm4gcn12YXIgaT10Lmxhc3RJbmRleE9mKCIuIiksbz1pPi0xJiZ0LnN1YnN0cmluZyhpKzEsdC5sZW5ndGgpO3JldHVybiBvP2UuZmluZE1vZGVCeUV4dGVuc2lvbihvKTp2b2lkIDB9LGUuZmluZE1vZGVCeU5hbWU9ZnVuY3Rpb24odCl7dD10LnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBuPTA7bjxlLm1vZGVJbmZvLmxlbmd0aDtuKyspe3ZhciByPWUubW9kZUluZm9bbl07aWYoci5uYW1lLnRvTG93ZXJDYXNlKCk9PXQpcmV0dXJuIHI7aWYoci5hbGlhcylmb3IodmFyIGk9MDtpPHIuYWxpYXMubGVuZ3RoO2krKylpZihyLmFsaWFzW2ldLnRvTG93ZXJDYXNlKCk9PXQpcmV0dXJuIHJ9fX0pfSx7Ii4uL2xpYi9jb2RlbWlycm9yIjoxMH1dLDE0OltmdW5jdGlvbih0LG4scil7IWZ1bmN0aW9uKGkpeyJvYmplY3QiPT10eXBlb2YgciYmIm9iamVjdCI9PXR5cGVvZiBuP2kodCgiLi4vLi4vbGliL2NvZGVtaXJyb3IiKSk6ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuYW1kP2UoWyIuLi8uLi9saWIvY29kZW1pcnJvciJdLGkpOmkoQ29kZU1pcnJvcil9KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD17YXV0b1NlbGZDbG9zZXJzOnthcmVhOiEwLGJhc2U6ITAsYnI6ITAsY29sOiEwLGNvbW1hbmQ6ITAsZW1iZWQ6ITAsZnJhbWU6ITAsaHI6ITAsaW1nOiEwLGlucHV0OiEwLGtleWdlbjohMCxsaW5rOiEwLG1ldGE6ITAscGFyYW06ITAsc291cmNlOiEwLHRyYWNrOiEwLHdicjohMCxtZW51aXRlbTohMH0saW1wbGljaXRseUNsb3NlZDp7ZGQ6ITAsbGk6ITAsb3B0Z3JvdXA6ITAsb3B0aW9uOiEwLHA6ITAscnA6ITAscnQ6ITAsdGJvZHk6ITAsdGQ6ITAsdGZvb3Q6ITAsdGg6ITAsdHI6ITB9LGNvbnRleHRHcmFiYmVyczp7ZGQ6e2RkOiEwLGR0OiEwfSxkdDp7ZGQ6ITAsZHQ6ITB9LGxpOntsaTohMH0sb3B0aW9uOntvcHRpb246ITAsb3B0Z3JvdXA6ITB9LG9wdGdyb3VwOntvcHRncm91cDohMH0scDp7YWRkcmVzczohMCxhcnRpY2xlOiEwLGFzaWRlOiEwLGJsb2NrcXVvdGU6ITAsZGlyOiEwLGRpdjohMCxkbDohMCxmaWVsZHNldDohMCxmb290ZXI6ITAsZm9ybTohMCxoMTohMCxoMjohMCxoMzohMCxoNDohMCxoNTohMCxoNjohMCxoZWFkZXI6ITAsaGdyb3VwOiEwLGhyOiEwLG1lbnU6ITAsbmF2OiEwLG9sOiEwLHA6ITAscHJlOiEwLHNlY3Rpb246ITAsdGFibGU6ITAsdWw6ITB9LHJwOntycDohMCxydDohMH0scnQ6e3JwOiEwLHJ0OiEwfSx0Ym9keTp7dGJvZHk6ITAsdGZvb3Q6ITB9LHRkOnt0ZDohMCx0aDohMH0sdGZvb3Q6e3Rib2R5OiEwfSx0aDp7dGQ6ITAsdGg6ITB9LHRoZWFkOnt0Ym9keTohMCx0Zm9vdDohMH0sdHI6e3RyOiEwfX0sZG9Ob3RJbmRlbnQ6e3ByZTohMH0sYWxsb3dVbnF1b3RlZDohMCxhbGxvd01pc3Npbmc6ITAsY2FzZUZvbGQ6ITB9LG49e2F1dG9TZWxmQ2xvc2Vyczp7fSxpbXBsaWNpdGx5Q2xvc2VkOnt9LGNvbnRleHRHcmFiYmVyczp7fSxkb05vdEluZGVudDp7fSxhbGxvd1VucXVvdGVkOiExLGFsbG93TWlzc2luZzohMSxjYXNlRm9sZDohMX07ZS5kZWZpbmVNb2RlKCJ4bWwiLGZ1bmN0aW9uKHIsaSl7ZnVuY3Rpb24gbyhlLHQpe2Z1bmN0aW9uIG4obil7cmV0dXJuIHQudG9rZW5pemU9bixuKGUsdCl9dmFyIHI9ZS5uZXh0KCk7aWYoIjwiPT1yKXJldHVybiBlLmVhdCgiISIpP2UuZWF0KCJbIik/ZS5tYXRjaCgiQ0RBVEFbIik/bihzKCJhdG9tIiwiXV0+IikpOm51bGw6ZS5tYXRjaCgiLS0iKT9uKHMoImNvbW1lbnQiLCItLT4iKSk6ZS5tYXRjaCgiRE9DVFlQRSIsITAsITApPyhlLmVhdFdoaWxlKC9bXHdcLl9cLV0vKSxuKGMoMSkpKTpudWxsOmUuZWF0KCI/Iik/KGUuZWF0V2hpbGUoL1tcd1wuX1wtXS8pLHQudG9rZW5pemU9cygibWV0YSIsIj8+IiksIm1ldGEiKTooVD1lLmVhdCgiLyIpPyJjbG9zZVRhZyI6Im9wZW5UYWciLHQudG9rZW5pemU9YSwidGFnIGJyYWNrZXQiKTtpZigiJiI9PXIpe3ZhciBpO3JldHVybiBpPWUuZWF0KCIjIik/ZS5lYXQoIngiKT9lLmVhdFdoaWxlKC9bYS1mQS1GXGRdLykmJmUuZWF0KCI7Iik6ZS5lYXRXaGlsZSgvW1xkXS8pJiZlLmVhdCgiOyIpOmUuZWF0V2hpbGUoL1tcd1wuXC06XS8pJiZlLmVhdCgiOyIpLGk/ImF0b20iOiJlcnJvciJ9cmV0dXJuIGUuZWF0V2hpbGUoL1teJjxdLyksbnVsbH1mdW5jdGlvbiBhKGUsdCl7dmFyIG49ZS5uZXh0KCk7aWYoIj4iPT1ufHwiLyI9PW4mJmUuZWF0KCI+IikpcmV0dXJuIHQudG9rZW5pemU9byxUPSI+Ij09bj8iZW5kVGFnIjoic2VsZmNsb3NlVGFnIiwidGFnIGJyYWNrZXQiO2lmKCI9Ij09bilyZXR1cm4gVD0iZXF1YWxzIixudWxsO2lmKCI8Ij09bil7dC50b2tlbml6ZT1vLHQuc3RhdGU9ZCx0LnRhZ05hbWU9dC50YWdTdGFydD1udWxsO3ZhciByPXQudG9rZW5pemUoZSx0KTtyZXR1cm4gcj9yKyIgdGFnIGVycm9yIjoidGFnIGVycm9yIn1yZXR1cm4vW1wnXCJdLy50ZXN0KG4pPyh0LnRva2VuaXplPWwobiksdC5zdHJpbmdTdGFydENvbD1lLmNvbHVtbigpLHQudG9rZW5pemUoZSx0KSk6KGUubWF0Y2goL15bXlxzXHUwMGEwPTw+XCJcJ10qW15cc1x1MDBhMD08PlwiXCdcL10vKSwid29yZCIpfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9ZnVuY3Rpb24odCxuKXtmb3IoOyF0LmVvbCgpOylpZih0Lm5leHQoKT09ZSl7bi50b2tlbml6ZT1hO2JyZWFrfXJldHVybiJzdHJpbmcifTtyZXR1cm4gdC5pc0luQXR0cmlidXRlPSEwLHR9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBmdW5jdGlvbihuLHIpe2Zvcig7IW4uZW9sKCk7KXtpZihuLm1hdGNoKHQpKXtyLnRva2VuaXplPW87YnJlYWt9bi5uZXh0KCl9cmV0dXJuIGV9fWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7Zm9yKHZhciByO251bGwhPShyPXQubmV4dCgpKTspe2lmKCI8Ij09cilyZXR1cm4gbi50b2tlbml6ZT1jKGUrMSksbi50b2tlbml6ZSh0LG4pO2lmKCI+Ij09cil7aWYoMT09ZSl7bi50b2tlbml6ZT1vO2JyZWFrfXJldHVybiBuLnRva2VuaXplPWMoZS0xKSxuLnRva2VuaXplKHQsbil9fXJldHVybiJtZXRhIn19ZnVuY3Rpb24gdShlLHQsbil7dGhpcy5wcmV2PWUuY29udGV4dCx0aGlzLnRhZ05hbWU9dCx0aGlzLmluZGVudD1lLmluZGVudGVkLHRoaXMuc3RhcnRPZkxpbmU9biwoUy5kb05vdEluZGVudC5oYXNPd25Qcm9wZXJ0eSh0KXx8ZS5jb250ZXh0JiZlLmNvbnRleHQubm9JbmRlbnQpJiYodGhpcy5ub0luZGVudD0hMCl9ZnVuY3Rpb24gZihlKXtlLmNvbnRleHQmJihlLmNvbnRleHQ9ZS5jb250ZXh0LnByZXYpfWZ1bmN0aW9uIGgoZSx0KXtmb3IodmFyIG47Oyl7aWYoIWUuY29udGV4dClyZXR1cm47aWYobj1lLmNvbnRleHQudGFnTmFtZSwhUy5jb250ZXh0R3JhYmJlcnMuaGFzT3duUHJvcGVydHkobil8fCFTLmNvbnRleHRHcmFiYmVyc1tuXS5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm47ZihlKX19ZnVuY3Rpb24gZChlLHQsbil7cmV0dXJuIm9wZW5UYWciPT1lPyhuLnRhZ1N0YXJ0PXQuY29sdW1uKCkscCk6ImNsb3NlVGFnIj09ZT9tOmR9ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIndvcmQiPT1lPyhuLnRhZ05hbWU9dC5jdXJyZW50KCksTT0idGFnIix5KTooTT0iZXJyb3IiLHApfWZ1bmN0aW9uIG0oZSx0LG4pe2lmKCJ3b3JkIj09ZSl7dmFyIHI9dC5jdXJyZW50KCk7cmV0dXJuIG4uY29udGV4dCYmbi5jb250ZXh0LnRhZ05hbWUhPXImJlMuaW1wbGljaXRseUNsb3NlZC5oYXNPd25Qcm9wZXJ0eShuLmNvbnRleHQudGFnTmFtZSkmJmYobiksbi5jb250ZXh0JiZuLmNvbnRleHQudGFnTmFtZT09cnx8Uy5tYXRjaENsb3Npbmc9PT0hMT8oTT0idGFnIixnKTooTT0idGFnIGVycm9yIix2KX1yZXR1cm4gTT0iZXJyb3IiLHZ9ZnVuY3Rpb24gZyhlLHQsbil7cmV0dXJuImVuZFRhZyIhPWU/KE09ImVycm9yIixnKTooZihuKSxkKX1mdW5jdGlvbiB2KGUsdCxuKXtyZXR1cm4gTT0iZXJyb3IiLGcoZSx0LG4pfWZ1bmN0aW9uIHkoZSx0LG4pe2lmKCJ3b3JkIj09ZSlyZXR1cm4gTT0iYXR0cmlidXRlIix4O2lmKCJlbmRUYWciPT1lfHwic2VsZmNsb3NlVGFnIj09ZSl7dmFyIHI9bi50YWdOYW1lLGk9bi50YWdTdGFydDtyZXR1cm4gbi50YWdOYW1lPW4udGFnU3RhcnQ9bnVsbCwic2VsZmNsb3NlVGFnIj09ZXx8Uy5hdXRvU2VsZkNsb3NlcnMuaGFzT3duUHJvcGVydHkocik/aChuLHIpOihoKG4sciksbi5jb250ZXh0PW5ldyB1KG4scixpPT1uLmluZGVudGVkKSksZH1yZXR1cm4gTT0iZXJyb3IiLHl9ZnVuY3Rpb24geChlLHQsbil7cmV0dXJuImVxdWFscyI9PWU/YjooUy5hbGxvd01pc3Npbmd8fChNPSJlcnJvciIpLHkoZSx0LG4pKX1mdW5jdGlvbiBiKGUsdCxuKXtyZXR1cm4ic3RyaW5nIj09ZT93OiJ3b3JkIj09ZSYmUy5hbGxvd1VucXVvdGVkPyhNPSJzdHJpbmciLHkpOihNPSJlcnJvciIseShlLHQsbikpfWZ1bmN0aW9uIHcoZSx0LG4pe3JldHVybiJzdHJpbmciPT1lP3c6eShlLHQsbil9dmFyIGs9ci5pbmRlbnRVbml0LFM9e30sQz1pLmh0bWxNb2RlP3Q6bjtmb3IodmFyIEwgaW4gQylTW0xdPUNbTF07Zm9yKHZhciBMIGluIGkpU1tMXT1pW0xdO3ZhciBULE07cmV0dXJuIG8uaXNJblRleHQ9ITAse3N0YXJ0U3RhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9e3Rva2VuaXplOm8sc3RhdGU6ZCxpbmRlbnRlZDplfHwwLHRhZ05hbWU6bnVsbCx0YWdTdGFydDpudWxsLGNvbnRleHQ6bnVsbH07cmV0dXJuIG51bGwhPWUmJih0LmJhc2VJbmRlbnQ9ZSksdH0sdG9rZW46ZnVuY3Rpb24oZSx0KXtpZighdC50YWdOYW1lJiZlLnNvbCgpJiYodC5pbmRlbnRlZD1lLmluZGVudGF0aW9uKCkpLGUuZWF0U3BhY2UoKSlyZXR1cm4gbnVsbDtUPW51bGw7dmFyIG49dC50b2tlbml6ZShlLHQpO3JldHVybihufHxUKSYmImNvbW1lbnQiIT1uJiYoTT1udWxsLHQuc3RhdGU9dC5zdGF0ZShUfHxuLGUsdCksTSYmKG49ImVycm9yIj09TT9uKyIgZXJyb3IiOk0pKSxufSxpbmRlbnQ6ZnVuY3Rpb24odCxuLHIpe3ZhciBpPXQuY29udGV4dDtpZih0LnRva2VuaXplLmlzSW5BdHRyaWJ1dGUpcmV0dXJuIHQudGFnU3RhcnQ9PXQuaW5kZW50ZWQ/dC5zdHJpbmdTdGFydENvbCsxOnQuaW5kZW50ZWQraztpZihpJiZpLm5vSW5kZW50KXJldHVybiBlLlBhc3M7aWYodC50b2tlbml6ZSE9YSYmdC50b2tlbml6ZSE9bylyZXR1cm4gcj9yLm1hdGNoKC9eKFxzKikvKVswXS5sZW5ndGg6MDtpZih0LnRhZ05hbWUpcmV0dXJuIFMubXVsdGlsaW5lVGFnSW5kZW50UGFzdFRhZyE9PSExP3QudGFnU3RhcnQrdC50YWdOYW1lLmxlbmd0aCsyOnQudGFnU3RhcnQrayooUy5tdWx0aWxpbmVUYWdJbmRlbnRGYWN0b3J8fDEpO2lmKFMuYWxpZ25DREFUQSYmLzwhXFtDREFUQVxbLy50ZXN0KG4pKXJldHVybiAwO3ZhciBsPW4mJi9ePChcLyk/KFtcd186XC4tXSopLy5leGVjKG4pO2lmKGwmJmxbMV0pZm9yKDtpOyl7aWYoaS50YWdOYW1lPT1sWzJdKXtpPWkucHJldjticmVha31pZighUy5pbXBsaWNpdGx5Q2xvc2VkLmhhc093blByb3BlcnR5KGkudGFnTmFtZSkpYnJlYWs7aT1pLnByZXZ9ZWxzZSBpZihsKWZvcig7aTspe3ZhciBzPVMuY29udGV4dEdyYWJiZXJzW2kudGFnTmFtZV07aWYoIXN8fCFzLmhhc093blByb3BlcnR5KGxbMl0pKWJyZWFrO2k9aS5wcmV2fWZvcig7aSYmaS5wcmV2JiYhaS5zdGFydE9mTGluZTspaT1pLnByZXY7cmV0dXJuIGk/aS5pbmRlbnQrazp0LmJhc2VJbmRlbnR8fDB9LGVsZWN0cmljSW5wdXQ6LzxcL1tcc1x3Ol0rPiQvLGJsb2NrQ29tbWVudFN0YXJ0OiI8IS0tIixibG9ja0NvbW1lbnRFbmQ6Ii0tPiIsY29uZmlndXJhdGlvbjpTLmh0bWxNb2RlPyJodG1sIjoieG1sIixoZWxwZXJUeXBlOlMuaHRtbE1vZGU/Imh0bWwiOiJ4bWwiLHNraXBBdHRyaWJ1dGU6ZnVuY3Rpb24oZSl7ZS5zdGF0ZT09YiYmKGUuc3RhdGU9eSl9fX0pLGUuZGVmaW5lTUlNRSgidGV4dC94bWwiLCJ4bWwiKSxlLmRlZmluZU1JTUUoImFwcGxpY2F0aW9uL3htbCIsInhtbCIpLGUubWltZU1vZGVzLmhhc093blByb3BlcnR5KCJ0ZXh0L2h0bWwiKXx8ZS5kZWZpbmVNSU1FKCJ0ZXh0L2h0bWwiLHtuYW1lOiJ4bWwiLGh0bWxNb2RlOiEwfSl9KX0seyIuLi8uLi9saWIvY29kZW1pcnJvciI6MTB9XSwxNTpbZnVuY3Rpb24oZSx0LG4pe24ucmVhZD1mdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLGEsbD04Kmktci0xLHM9KDE8PGwpLTEsYz1zPj4xLHU9LTcsZj1uP2ktMTowLGg9bj8tMToxLGQ9ZVt0K2ZdO2ZvcihmKz1oLG89ZCYoMTw8LXUpLTEsZD4+PS11LHUrPWw7dT4wO289MjU2Km8rZVt0K2ZdLGYrPWgsdS09OCk7Zm9yKGE9byYoMTw8LXUpLTEsbz4+PS11LHUrPXI7dT4wO2E9MjU2KmErZVt0K2ZdLGYrPWgsdS09OCk7aWYoMD09PW8pbz0xLWM7ZWxzZXtpZihvPT09cylyZXR1cm4gYT9OYU46KGQ/LTE6MSkqKDEvMCk7YSs9TWF0aC5wb3coMixyKSxvLT1jfXJldHVybihkPy0xOjEpKmEqTWF0aC5wb3coMixvLXIpfSxuLndyaXRlPWZ1bmN0aW9uKGUsdCxuLHIsaSxvKXt2YXIgYSxsLHMsYz04Km8taS0xLHU9KDE8PGMpLTEsZj11Pj4xLGg9MjM9PT1pP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MCxkPXI/MDpvLTEscD1yPzE6LTEsbT0wPnR8fDA9PT10JiYwPjEvdD8xOjA7Zm9yKHQ9TWF0aC5hYnModCksaXNOYU4odCl8fHQ9PT0xLzA/KGw9aXNOYU4odCk/MTowLGE9dSk6KGE9TWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMiksdCoocz1NYXRoLnBvdygyLC1hKSk8MSYmKGEtLSxzKj0yKSx0Kz1hK2Y+PTE/aC9zOmgqTWF0aC5wb3coMiwxLWYpLHQqcz49MiYmKGErKyxzLz0yKSxhK2Y+PXU/KGw9MCxhPXUpOmErZj49MT8obD0odCpzLTEpKk1hdGgucG93KDIsaSksYSs9Zik6KGw9dCpNYXRoLnBvdygyLGYtMSkqTWF0aC5wb3coMixpKSxhPTApKTtpPj04O2VbbitkXT0yNTUmbCxkKz1wLGwvPTI1NixpLT04KTtmb3IoYT1hPDxpfGwsYys9aTtjPjA7ZVtuK2RdPTI1NSZhLGQrPXAsYS89MjU2LGMtPTgpO2VbbitkLXBdfD0xMjgqbX19LHt9XSwxNjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT1yLmNhbGwoZSl9fSx7fV0sMTc6W2Z1bmN0aW9uKHQsbixyKXsoZnVuY3Rpb24odCl7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt0aGlzLnRva2Vucz1bXSx0aGlzLnRva2Vucy5saW5rcz17fSx0aGlzLm9wdGlvbnM9ZXx8aC5kZWZhdWx0cyx0aGlzLnJ1bGVzPWQubm9ybWFsLHRoaXMub3B0aW9ucy5nZm0mJih0aGlzLm9wdGlvbnMudGFibGVzP3RoaXMucnVsZXM9ZC50YWJsZXM6dGhpcy5ydWxlcz1kLmdmbSl9ZnVuY3Rpb24gaShlLHQpe2lmKHRoaXMub3B0aW9ucz10fHxoLmRlZmF1bHRzLHRoaXMubGlua3M9ZSx0aGlzLnJ1bGVzPXAubm9ybWFsLHRoaXMucmVuZGVyZXI9dGhpcy5vcHRpb25zLnJlbmRlcmVyfHxuZXcgbyx0aGlzLnJlbmRlcmVyLm9wdGlvbnM9dGhpcy5vcHRpb25zLCF0aGlzLmxpbmtzKXRocm93IG5ldyBFcnJvcigiVG9rZW5zIGFycmF5IHJlcXVpcmVzIGEgYGxpbmtzYCBwcm9wZXJ0eS4iKTt0aGlzLm9wdGlvbnMuZ2ZtP3RoaXMub3B0aW9ucy5icmVha3M/dGhpcy5ydWxlcz1wLmJyZWFrczp0aGlzLnJ1bGVzPXAuZ2ZtOnRoaXMub3B0aW9ucy5wZWRhbnRpYyYmKHRoaXMucnVsZXM9cC5wZWRhbnRpYyl9ZnVuY3Rpb24gbyhlKXt0aGlzLm9wdGlvbnM9ZXx8e319ZnVuY3Rpb24gYShlKXt0aGlzLnRva2Vucz1bXSx0aGlzLnRva2VuPW51bGwsdGhpcy5vcHRpb25zPWV8fGguZGVmYXVsdHMsdGhpcy5vcHRpb25zLnJlbmRlcmVyPXRoaXMub3B0aW9ucy5yZW5kZXJlcnx8bmV3IG8sdGhpcy5yZW5kZXJlcj10aGlzLm9wdGlvbnMucmVuZGVyZXIsdGhpcy5yZW5kZXJlci5vcHRpb25zPXRoaXMub3B0aW9uc31mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIGUucmVwbGFjZSh0Py8mL2c6LyYoPyEjP1x3KzspL2csIiZhbXA7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7IikucmVwbGFjZSgvIi9nLCImcXVvdDsiKS5yZXBsYWNlKC8nL2csIiYjMzk7Iil9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZS5yZXBsYWNlKC8mKFsjXHddKyk7L2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10LnRvTG93ZXJDYXNlKCksImNvbG9uIj09PXQ/IjoiOiIjIj09PXQuY2hhckF0KDApPyJ4Ij09PXQuY2hhckF0KDEpP1N0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQodC5zdWJzdHJpbmcoMiksMTYpKTpTdHJpbmcuZnJvbUNoYXJDb2RlKCt0LnN1YnN0cmluZygxKSk6IiJ9KX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGU9ZS5zb3VyY2UsdD10fHwiIixmdW5jdGlvbiBuKHIsaSl7cmV0dXJuIHI/KGk9aS5zb3VyY2V8fGksaT1pLnJlcGxhY2UoLyhefFteXFtdKVxeL2csIiQxIiksZT1lLnJlcGxhY2UocixpKSxuKTpuZXcgUmVnRXhwKGUsdCl9fWZ1bmN0aW9uIHUoKXt9ZnVuY3Rpb24gZihlKXtmb3IodmFyIHQsbixyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dD1hcmd1bWVudHNbcl07Zm9yKG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9ZnVuY3Rpb24gaChlLG4scil7aWYocnx8ImZ1bmN0aW9uIj09dHlwZW9mIG4pe3J8fChyPW4sbj1udWxsKSxuPWYoe30saC5kZWZhdWx0cyxufHx7fSk7dmFyIGksbyxzPW4uaGlnaGxpZ2h0LGM9MDt0cnl7aT10LmxleChlLG4pfWNhdGNoKHUpe3JldHVybiByKHUpfW89aS5sZW5ndGg7dmFyIGQ9ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gbi5oaWdobGlnaHQ9cyxyKGUpO3ZhciB0O3RyeXt0PWEucGFyc2UoaSxuKX1jYXRjaChvKXtlPW99cmV0dXJuIG4uaGlnaGxpZ2h0PXMsZT9yKGUpOnIobnVsbCx0KX07aWYoIXN8fHMubGVuZ3RoPDMpcmV0dXJuIGQoKTtpZihkZWxldGUgbi5oaWdobGlnaHQsIW8pcmV0dXJuIGQoKTtmb3IoO2M8aS5sZW5ndGg7YysrKSFmdW5jdGlvbihlKXtyZXR1cm4iY29kZSIhPT1lLnR5cGU/LS1vfHxkKCk6cyhlLnRleHQsZS5sYW5nLGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQ/ZCh0KTpudWxsPT1ufHxuPT09ZS50ZXh0Py0tb3x8ZCgpOihlLnRleHQ9bixlLmVzY2FwZWQ9ITAsdm9pZCgtLW98fGQoKSkpfSl9KGlbY10pfWVsc2UgdHJ5e3JldHVybiBuJiYobj1mKHt9LGguZGVmYXVsdHMsbikpLGEucGFyc2UodC5sZXgoZSxuKSxuKX1jYXRjaCh1KXtpZih1Lm1lc3NhZ2UrPSJcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vY2hqai9tYXJrZWQuIiwobnx8aC5kZWZhdWx0cykuc2lsZW50KXJldHVybiI8cD5BbiBlcnJvciBvY2N1cmVkOjwvcD48cHJlPiIrbCh1Lm1lc3NhZ2UrIiIsITApKyI8L3ByZT4iO3Rocm93IHV9fXZhciBkPXtuZXdsaW5lOi9eXG4rLyxjb2RlOi9eKCB7NH1bXlxuXStcbiopKy8sZmVuY2VzOnUsaHI6L14oICpbLSpfXSl7Myx9ICooPzpcbit8JCkvLGhlYWRpbmc6L14gKigjezEsNn0pICooW15cbl0rPykgKiMqICooPzpcbit8JCkvLG5wdGFibGU6dSxsaGVhZGluZzovXihbXlxuXSspXG4gKig9fC0pezIsfSAqKD86XG4rfCQpLyxibG9ja3F1b3RlOi9eKCAqPlteXG5dKyhcbig/IWRlZilbXlxuXSspKlxuKikrLyxsaXN0Oi9eKCAqKShidWxsKSBbXHNcU10rPyg/OmhyfGRlZnxcbnsyLH0oPyEgKSg/IVwxYnVsbCApXG4qfFxzKiQpLyxodG1sOi9eICooPzpjb21tZW50ICooPzpcbnxccyokKXxjbG9zZWQgKig/OlxuezIsfXxccyokKXxjbG9zaW5nICooPzpcbnsyLH18XHMqJCkpLyxkZWY6L14gKlxbKFteXF1dKylcXTogKjw/KFteXHM+XSspPj8oPzogK1siKF0oW15cbl0rKVsiKV0pPyAqKD86XG4rfCQpLyx0YWJsZTp1LHBhcmFncmFwaDovXigoPzpbXlxuXStcbj8oPyFocnxoZWFkaW5nfGxoZWFkaW5nfGJsb2NrcXVvdGV8dGFnfGRlZikpKylcbiovLHRleHQ6L15bXlxuXSsvfTtkLmJ1bGxldD0vKD86WyorLV18XGQrXC4pLyxkLml0ZW09L14oICopKGJ1bGwpIFteXG5dKig/OlxuKD8hXDFidWxsIClbXlxuXSopKi8sZC5pdGVtPWMoZC5pdGVtLCJnbSIpKC9idWxsL2csZC5idWxsZXQpKCksZC5saXN0PWMoZC5saXN0KSgvYnVsbC9nLGQuYnVsbGV0KSgiaHIiLCJcXG4rKD89XFwxPyg/OlstKl9dICopezMsfSg/Olxcbit8JCkpIikoImRlZiIsIlxcbisoPz0iK2QuZGVmLnNvdXJjZSsiKSIpKCksZC5ibG9ja3F1b3RlPWMoZC5ibG9ja3F1b3RlKSgiZGVmIixkLmRlZikoKSxkLl90YWc9Iig/ISg/OmF8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlfHZhcnxzYW1wfGtiZHxzdWJ8c3VwfGl8Ynx1fG1hcmt8cnVieXxydHxycHxiZGl8YmRvfHNwYW58YnJ8d2JyfGluc3xkZWx8aW1nKVxcYilcXHcrKD8hOi98W15cXHdcXHNAXSpAKVxcYiIsZC5odG1sPWMoZC5odG1sKSgiY29tbWVudCIsLzwhLS1bXHNcU10qPy0tPi8pKCJjbG9zZWQiLC88KHRhZylbXHNcU10rPzxcL1wxPi8pKCJjbG9zaW5nIiwvPHRhZyg/OiJbXiJdKiJ8J1teJ10qJ3xbXiciPl0pKj8+LykoL3RhZy9nLGQuX3RhZykoKSxkLnBhcmFncmFwaD1jKGQucGFyYWdyYXBoKSgiaHIiLGQuaHIpKCJoZWFkaW5nIixkLmhlYWRpbmcpKCJsaGVhZGluZyIsZC5saGVhZGluZykoImJsb2NrcXVvdGUiLGQuYmxvY2txdW90ZSkoInRhZyIsIjwiK2QuX3RhZykoImRlZiIsZC5kZWYpKCksZC5ub3JtYWw9Zih7fSxkKSxkLmdmbT1mKHt9LGQubm9ybWFsLHtmZW5jZXM6L14gKihgezMsfXx+ezMsfSlbIFwuXSooXFMrKT8gKlxuKFtcc1xTXSo/KVxzKlwxICooPzpcbit8JCkvLHBhcmFncmFwaDovXi8saGVhZGluZzovXiAqKCN7MSw2fSkgKyhbXlxuXSs/KSAqIyogKig/OlxuK3wkKS99KSxkLmdmbS5wYXJhZ3JhcGg9YyhkLnBhcmFncmFwaCkoIig/ISIsIig/ISIrZC5nZm0uZmVuY2VzLnNvdXJjZS5yZXBsYWNlKCJcXDEiLCJcXDIiKSsifCIrZC5saXN0LnNvdXJjZS5yZXBsYWNlKCJcXDEiLCJcXDMiKSsifCIpKCksZC50YWJsZXM9Zih7fSxkLmdmbSx7bnB0YWJsZTovXiAqKFxTLipcfC4qKVxuICooWy06XSsgKlx8Wy18IDpdKilcbigoPzouKlx8LiooPzpcbnwkKSkqKVxuKi8sdGFibGU6L14gKlx8KC4rKVxuICpcfCggKlstOl0rWy18IDpdKilcbigoPzogKlx8LiooPzpcbnwkKSkqKVxuKi99KSx0LnJ1bGVzPWQsdC5sZXg9ZnVuY3Rpb24oZSxuKXt2YXIgcj1uZXcgdChuKTtyZXR1cm4gci5sZXgoZSl9LHQucHJvdG90eXBlLmxleD1mdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoL1xyXG58XHIvZywiXG4iKS5yZXBsYWNlKC9cdC9nLCIgICAgIikucmVwbGFjZSgvXHUwMGEwL2csIiAiKS5yZXBsYWNlKC9cdTI0MjQvZywiXG4iKSx0aGlzLnRva2VuKGUsITApfSx0LnByb3RvdHlwZS50b2tlbj1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLGksbyxhLGwscyxjLHUsZixlPWUucmVwbGFjZSgvXiArJC9nbSwiIik7ZTspaWYoKG89dGhpcy5ydWxlcy5uZXdsaW5lLmV4ZWMoZSkpJiYoZT1lLnN1YnN0cmluZyhvWzBdLmxlbmd0aCksb1swXS5sZW5ndGg+MSYmdGhpcy50b2tlbnMucHVzaCh7dHlwZToic3BhY2UifSkpLG89dGhpcy5ydWxlcy5jb2RlLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhvWzBdLmxlbmd0aCksbz1vWzBdLnJlcGxhY2UoL14gezR9L2dtLCIiKSx0aGlzLnRva2Vucy5wdXNoKHt0eXBlOiJjb2RlIix0ZXh0OnRoaXMub3B0aW9ucy5wZWRhbnRpYz9vOm8ucmVwbGFjZSgvXG4rJC8sIiIpfSk7ZWxzZSBpZihvPXRoaXMucnVsZXMuZmVuY2VzLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhvWzBdLmxlbmd0aCksdGhpcy50b2tlbnMucHVzaCh7dHlwZToiY29kZSIsbGFuZzpvWzJdLHRleHQ6b1szXXx8IiJ9KTtlbHNlIGlmKG89dGhpcy5ydWxlcy5oZWFkaW5nLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhvWzBdLmxlbmd0aCksdGhpcy50b2tlbnMucHVzaCh7dHlwZToiaGVhZGluZyIsZGVwdGg6b1sxXS5sZW5ndGgsdGV4dDpvWzJdfSk7ZWxzZSBpZih0JiYobz10aGlzLnJ1bGVzLm5wdGFibGUuZXhlYyhlKSkpe2ZvcihlPWUuc3Vic3RyaW5nKG9bMF0ubGVuZ3RoKSxzPXt0eXBlOiJ0YWJsZSIsaGVhZGVyOm9bMV0ucmVwbGFjZSgvXiAqfCAqXHwgKiQvZywiIikuc3BsaXQoLyAqXHwgKi8pLGFsaWduOm9bMl0ucmVwbGFjZSgvXiAqfFx8ICokL2csIiIpLnNwbGl0KC8gKlx8ICovKSxjZWxsczpvWzNdLnJlcGxhY2UoL1xuJC8sIiIpLnNwbGl0KCJcbiIpfSx1PTA7dTxzLmFsaWduLmxlbmd0aDt1KyspL14gKi0rOiAqJC8udGVzdChzLmFsaWduW3VdKT9zLmFsaWduW3VdPSJyaWdodCI6L14gKjotKzogKiQvLnRlc3Qocy5hbGlnblt1XSk/cy5hbGlnblt1XT0iY2VudGVyIjovXiAqOi0rICokLy50ZXN0KHMuYWxpZ25bdV0pP3MuYWxpZ25bdV09ImxlZnQiOnMuYWxpZ25bdV09bnVsbDtmb3IodT0wO3U8cy5jZWxscy5sZW5ndGg7dSsrKXMuY2VsbHNbdV09cy5jZWxsc1t1XS5zcGxpdCgvICpcfCAqLyk7dGhpcy50b2tlbnMucHVzaChzKX1lbHNlIGlmKG89dGhpcy5ydWxlcy5saGVhZGluZy5leGVjKGUpKWU9ZS5zdWJzdHJpbmcob1swXS5sZW5ndGgpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6ImhlYWRpbmciLGRlcHRoOiI9Ij09PW9bMl0/MToyLHRleHQ6b1sxXX0pO2Vsc2UgaWYobz10aGlzLnJ1bGVzLmhyLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhvWzBdLmxlbmd0aCksdGhpcy50b2tlbnMucHVzaCh7dHlwZToiaHIifSk7ZWxzZSBpZihvPXRoaXMucnVsZXMuYmxvY2txdW90ZS5leGVjKGUpKWU9ZS5zdWJzdHJpbmcob1swXS5sZW5ndGgpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6ImJsb2NrcXVvdGVfc3RhcnQifSksbz1vWzBdLnJlcGxhY2UoL14gKj4gPy9nbSwiIiksdGhpcy50b2tlbihvLHQsITApLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6ImJsb2NrcXVvdGVfZW5kIn0pO2Vsc2UgaWYobz10aGlzLnJ1bGVzLmxpc3QuZXhlYyhlKSl7Zm9yKGU9ZS5zdWJzdHJpbmcob1swXS5sZW5ndGgpLGE9b1syXSx0aGlzLnRva2Vucy5wdXNoKHt0eXBlOiJsaXN0X3N0YXJ0IixvcmRlcmVkOmEubGVuZ3RoPjF9KSxvPW9bMF0ubWF0Y2godGhpcy5ydWxlcy5pdGVtKSxyPSExLGY9by5sZW5ndGgsdT0wO2Y+dTt1Kyspcz1vW3VdLGM9cy5sZW5ndGgscz1zLnJlcGxhY2UoL14gKihbKistXXxcZCtcLikgKy8sIiIpLH5zLmluZGV4T2YoIlxuICIpJiYoYy09cy5sZW5ndGgscz10aGlzLm9wdGlvbnMucGVkYW50aWM/cy5yZXBsYWNlKC9eIHsxLDR9L2dtLCIiKTpzLnJlcGxhY2UobmV3IFJlZ0V4cCgiXiB7MSwiK2MrIn0iLCJnbSIpLCIiKSksdGhpcy5vcHRpb25zLnNtYXJ0TGlzdHMmJnUhPT1mLTEmJihsPWQuYnVsbGV0LmV4ZWMob1t1KzFdKVswXSxhPT09bHx8YS5sZW5ndGg+MSYmbC5sZW5ndGg+MXx8KGU9by5zbGljZSh1KzEpLmpvaW4oIlxuIikrZSx1PWYtMSkpLGk9cnx8L1xuXG4oPyFccyokKS8udGVzdChzKSx1IT09Zi0xJiYocj0iXG4iPT09cy5jaGFyQXQocy5sZW5ndGgtMSksaXx8KGk9cikpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6aT8ibG9vc2VfaXRlbV9zdGFydCI6Imxpc3RfaXRlbV9zdGFydCJ9KSx0aGlzLnRva2VuKHMsITEsbiksdGhpcy50b2tlbnMucHVzaCh7dHlwZToibGlzdF9pdGVtX2VuZCJ9KTt0aGlzLnRva2Vucy5wdXNoKHt0eXBlOiJsaXN0X2VuZCJ9KX1lbHNlIGlmKG89dGhpcy5ydWxlcy5odG1sLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhvWzBdLmxlbmd0aCksdGhpcy50b2tlbnMucHVzaCh7dHlwZTp0aGlzLm9wdGlvbnMuc2FuaXRpemU/InBhcmFncmFwaCI6Imh0bWwiLHByZTohdGhpcy5vcHRpb25zLnNhbml0aXplciYmKCJwcmUiPT09b1sxXXx8InNjcmlwdCI9PT1vWzFdfHwic3R5bGUiPT09b1sxXSksdGV4dDpvWzBdfSk7ZWxzZSBpZighbiYmdCYmKG89dGhpcy5ydWxlcy5kZWYuZXhlYyhlKSkpZT1lLnN1YnN0cmluZyhvWzBdLmxlbmd0aCksdGhpcy50b2tlbnMubGlua3Nbb1sxXS50b0xvd2VyQ2FzZSgpXT17aHJlZjpvWzJdLHRpdGxlOm9bM119O2Vsc2UgaWYodCYmKG89dGhpcy5ydWxlcy50YWJsZS5leGVjKGUpKSl7Zm9yKGU9ZS5zdWJzdHJpbmcob1swXS5sZW5ndGgpLHM9e3R5cGU6InRhYmxlIiwKaGVhZGVyOm9bMV0ucmVwbGFjZSgvXiAqfCAqXHwgKiQvZywiIikuc3BsaXQoLyAqXHwgKi8pLGFsaWduOm9bMl0ucmVwbGFjZSgvXiAqfFx8ICokL2csIiIpLnNwbGl0KC8gKlx8ICovKSxjZWxsczpvWzNdLnJlcGxhY2UoLyg/OiAqXHwgKik/XG4kLywiIikuc3BsaXQoIlxuIil9LHU9MDt1PHMuYWxpZ24ubGVuZ3RoO3UrKykvXiAqLSs6ICokLy50ZXN0KHMuYWxpZ25bdV0pP3MuYWxpZ25bdV09InJpZ2h0IjovXiAqOi0rOiAqJC8udGVzdChzLmFsaWduW3VdKT9zLmFsaWduW3VdPSJjZW50ZXIiOi9eICo6LSsgKiQvLnRlc3Qocy5hbGlnblt1XSk/cy5hbGlnblt1XT0ibGVmdCI6cy5hbGlnblt1XT1udWxsO2Zvcih1PTA7dTxzLmNlbGxzLmxlbmd0aDt1Kyspcy5jZWxsc1t1XT1zLmNlbGxzW3VdLnJlcGxhY2UoL14gKlx8ICp8ICpcfCAqJC9nLCIiKS5zcGxpdCgvICpcfCAqLyk7dGhpcy50b2tlbnMucHVzaChzKX1lbHNlIGlmKHQmJihvPXRoaXMucnVsZXMucGFyYWdyYXBoLmV4ZWMoZSkpKWU9ZS5zdWJzdHJpbmcob1swXS5sZW5ndGgpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6InBhcmFncmFwaCIsdGV4dDoiXG4iPT09b1sxXS5jaGFyQXQob1sxXS5sZW5ndGgtMSk/b1sxXS5zbGljZSgwLC0xKTpvWzFdfSk7ZWxzZSBpZihvPXRoaXMucnVsZXMudGV4dC5leGVjKGUpKWU9ZS5zdWJzdHJpbmcob1swXS5sZW5ndGgpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6InRleHQiLHRleHQ6b1swXX0pO2Vsc2UgaWYoZSl0aHJvdyBuZXcgRXJyb3IoIkluZmluaXRlIGxvb3Agb24gYnl0ZTogIitlLmNoYXJDb2RlQXQoMCkpO3JldHVybiB0aGlzLnRva2Vuc307dmFyIHA9e2VzY2FwZTovXlxcKFtcXGAqe31cW1xdKCkjK1wtLiFfPl0pLyxhdXRvbGluazovXjwoW14gPl0rKEB8OlwvKVteID5dKyk+Lyx1cmw6dSx0YWc6L148IS0tW1xzXFNdKj8tLT58XjxcLz9cdysoPzoiW14iXSoifCdbXiddKid8W14nIj5dKSo/Pi8sbGluazovXiE/XFsoaW5zaWRlKVxdXChocmVmXCkvLHJlZmxpbms6L14hP1xbKGluc2lkZSlcXVxzKlxbKFteXF1dKilcXS8sbm9saW5rOi9eIT9cWygoPzpcW1teXF1dKlxdfFteXFtcXV0pKilcXS8sc3Ryb25nOi9eX18oW1xzXFNdKz8pX18oPyFfKXxeXCpcKihbXHNcU10rPylcKlwqKD8hXCopLyxlbTovXlxiXygoPzpbXl9dfF9fKSs/KV9cYnxeXCooKD86XCpcKnxbXHNcU10pKz8pXCooPyFcKikvLGNvZGU6L14oYCspXHMqKFtcc1xTXSo/W15gXSlccypcMSg/IWApLyxicjovXiB7Mix9XG4oPyFccyokKS8sZGVsOnUsdGV4dDovXltcc1xTXSs/KD89W1xcPCFcW18qYF18IHsyLH1cbnwkKS99O3AuX2luc2lkZT0vKD86XFtbXlxdXSpcXXxbXlxbXF1dfFxdKD89W15cW10qXF0pKSovLHAuX2hyZWY9L1xzKjw/KFtcc1xTXSo/KT4/KD86XHMrWyciXShbXHNcU10qPylbJyJdKT9ccyovLHAubGluaz1jKHAubGluaykoImluc2lkZSIscC5faW5zaWRlKSgiaHJlZiIscC5faHJlZikoKSxwLnJlZmxpbms9YyhwLnJlZmxpbmspKCJpbnNpZGUiLHAuX2luc2lkZSkoKSxwLm5vcm1hbD1mKHt9LHApLHAucGVkYW50aWM9Zih7fSxwLm5vcm1hbCx7c3Ryb25nOi9eX18oPz1cUykoW1xzXFNdKj9cUylfXyg/IV8pfF5cKlwqKD89XFMpKFtcc1xTXSo/XFMpXCpcKig/IVwqKS8sZW06L15fKD89XFMpKFtcc1xTXSo/XFMpXyg/IV8pfF5cKig/PVxTKShbXHNcU10qP1xTKVwqKD8hXCopL30pLHAuZ2ZtPWYoe30scC5ub3JtYWwse2VzY2FwZTpjKHAuZXNjYXBlKSgiXSkiLCJ+fF0pIikoKSx1cmw6L14oaHR0cHM/OlwvXC9bXlxzPF0rW148Liw6OyInKVxdXHNdKS8sZGVsOi9efn4oPz1cUykoW1xzXFNdKj9cUyl+fi8sdGV4dDpjKHAudGV4dCkoIl18Iiwifl18IikoInwiLCJ8aHR0cHM/Oi8vfCIpKCl9KSxwLmJyZWFrcz1mKHt9LHAuZ2ZtLHticjpjKHAuYnIpKCJ7Mix9IiwiKiIpKCksdGV4dDpjKHAuZ2ZtLnRleHQpKCJ7Mix9IiwiKiIpKCl9KSxpLnJ1bGVzPXAsaS5vdXRwdXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW5ldyBpKHQsbik7cmV0dXJuIHIub3V0cHV0KGUpfSxpLnByb3RvdHlwZS5vdXRwdXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixpLG89IiI7ZTspaWYoaT10aGlzLnJ1bGVzLmVzY2FwZS5leGVjKGUpKWU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLG8rPWlbMV07ZWxzZSBpZihpPXRoaXMucnVsZXMuYXV0b2xpbmsuZXhlYyhlKSllPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSwiQCI9PT1pWzJdPyhuPSI6Ij09PWlbMV0uY2hhckF0KDYpP3RoaXMubWFuZ2xlKGlbMV0uc3Vic3RyaW5nKDcpKTp0aGlzLm1hbmdsZShpWzFdKSxyPXRoaXMubWFuZ2xlKCJtYWlsdG86Iikrbik6KG49bChpWzFdKSxyPW4pLG8rPXRoaXMucmVuZGVyZXIubGluayhyLG51bGwsbik7ZWxzZSBpZih0aGlzLmluTGlua3x8IShpPXRoaXMucnVsZXMudXJsLmV4ZWMoZSkpKXtpZihpPXRoaXMucnVsZXMudGFnLmV4ZWMoZSkpIXRoaXMuaW5MaW5rJiYvXjxhIC9pLnRlc3QoaVswXSk/dGhpcy5pbkxpbms9ITA6dGhpcy5pbkxpbmsmJi9ePFwvYT4vaS50ZXN0KGlbMF0pJiYodGhpcy5pbkxpbms9ITEpLGU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLG8rPXRoaXMub3B0aW9ucy5zYW5pdGl6ZT90aGlzLm9wdGlvbnMuc2FuaXRpemVyP3RoaXMub3B0aW9ucy5zYW5pdGl6ZXIoaVswXSk6bChpWzBdKTppWzBdO2Vsc2UgaWYoaT10aGlzLnJ1bGVzLmxpbmsuZXhlYyhlKSllPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSx0aGlzLmluTGluaz0hMCxvKz10aGlzLm91dHB1dExpbmsoaSx7aHJlZjppWzJdLHRpdGxlOmlbM119KSx0aGlzLmluTGluaz0hMTtlbHNlIGlmKChpPXRoaXMucnVsZXMucmVmbGluay5leGVjKGUpKXx8KGk9dGhpcy5ydWxlcy5ub2xpbmsuZXhlYyhlKSkpe2lmKGU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLHQ9KGlbMl18fGlbMV0pLnJlcGxhY2UoL1xzKy9nLCIgIiksdD10aGlzLmxpbmtzW3QudG9Mb3dlckNhc2UoKV0sIXR8fCF0LmhyZWYpe28rPWlbMF0uY2hhckF0KDApLGU9aVswXS5zdWJzdHJpbmcoMSkrZTtjb250aW51ZX10aGlzLmluTGluaz0hMCxvKz10aGlzLm91dHB1dExpbmsoaSx0KSx0aGlzLmluTGluaz0hMX1lbHNlIGlmKGk9dGhpcy5ydWxlcy5zdHJvbmcuZXhlYyhlKSllPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSxvKz10aGlzLnJlbmRlcmVyLnN0cm9uZyh0aGlzLm91dHB1dChpWzJdfHxpWzFdKSk7ZWxzZSBpZihpPXRoaXMucnVsZXMuZW0uZXhlYyhlKSllPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSxvKz10aGlzLnJlbmRlcmVyLmVtKHRoaXMub3V0cHV0KGlbMl18fGlbMV0pKTtlbHNlIGlmKGk9dGhpcy5ydWxlcy5jb2RlLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksbys9dGhpcy5yZW5kZXJlci5jb2Rlc3BhbihsKGlbMl0sITApKTtlbHNlIGlmKGk9dGhpcy5ydWxlcy5ici5leGVjKGUpKWU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLG8rPXRoaXMucmVuZGVyZXIuYnIoKTtlbHNlIGlmKGk9dGhpcy5ydWxlcy5kZWwuZXhlYyhlKSllPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSxvKz10aGlzLnJlbmRlcmVyLmRlbCh0aGlzLm91dHB1dChpWzFdKSk7ZWxzZSBpZihpPXRoaXMucnVsZXMudGV4dC5leGVjKGUpKWU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLG8rPXRoaXMucmVuZGVyZXIudGV4dChsKHRoaXMuc21hcnR5cGFudHMoaVswXSkpKTtlbHNlIGlmKGUpdGhyb3cgbmV3IEVycm9yKCJJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICIrZS5jaGFyQ29kZUF0KDApKX1lbHNlIGU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLG49bChpWzFdKSxyPW4sbys9dGhpcy5yZW5kZXJlci5saW5rKHIsbnVsbCxuKTtyZXR1cm4gb30saS5wcm90b3R5cGUub3V0cHV0TGluaz1mdW5jdGlvbihlLHQpe3ZhciBuPWwodC5ocmVmKSxyPXQudGl0bGU/bCh0LnRpdGxlKTpudWxsO3JldHVybiIhIiE9PWVbMF0uY2hhckF0KDApP3RoaXMucmVuZGVyZXIubGluayhuLHIsdGhpcy5vdXRwdXQoZVsxXSkpOnRoaXMucmVuZGVyZXIuaW1hZ2UobixyLGwoZVsxXSkpfSxpLnByb3RvdHlwZS5zbWFydHlwYW50cz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpb25zLnNtYXJ0eXBhbnRzP2UucmVwbGFjZSgvLS0tL2csIuKAlCIpLnJlcGxhY2UoLy0tL2csIuKAkyIpLnJlcGxhY2UoLyhefFstXHUyMDE0XC8oXFt7IlxzXSknL2csIiQx4oCYIikucmVwbGFjZSgvJy9nLCLigJkiKS5yZXBsYWNlKC8oXnxbLVx1MjAxNFwvKFxbe1x1MjAxOFxzXSkiL2csIiQx4oCcIikucmVwbGFjZSgvIi9nLCLigJ0iKS5yZXBsYWNlKC9cLnszfS9nLCLigKYiKTplfSxpLnByb3RvdHlwZS5tYW5nbGU9ZnVuY3Rpb24oZSl7aWYoIXRoaXMub3B0aW9ucy5tYW5nbGUpcmV0dXJuIGU7Zm9yKHZhciB0LG49IiIscj1lLmxlbmd0aCxpPTA7cj5pO2krKyl0PWUuY2hhckNvZGVBdChpKSxNYXRoLnJhbmRvbSgpPi41JiYodD0ieCIrdC50b1N0cmluZygxNikpLG4rPSImIyIrdCsiOyI7cmV0dXJuIG59LG8ucHJvdG90eXBlLmNvZGU9ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMub3B0aW9ucy5oaWdobGlnaHQpe3ZhciByPXRoaXMub3B0aW9ucy5oaWdobGlnaHQoZSx0KTtudWxsIT1yJiZyIT09ZSYmKG49ITAsZT1yKX1yZXR1cm4gdD8nPHByZT48Y29kZSBjbGFzcz0iJyt0aGlzLm9wdGlvbnMubGFuZ1ByZWZpeCtsKHQsITApKyciPicrKG4/ZTpsKGUsITApKSsiXG48L2NvZGU+PC9wcmU+XG4iOiI8cHJlPjxjb2RlPiIrKG4/ZTpsKGUsITApKSsiXG48L2NvZGU+PC9wcmU+In0sby5wcm90b3R5cGUuYmxvY2txdW90ZT1mdW5jdGlvbihlKXtyZXR1cm4iPGJsb2NrcXVvdGU+XG4iK2UrIjwvYmxvY2txdW90ZT5cbiJ9LG8ucHJvdG90eXBlLmh0bWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LG8ucHJvdG90eXBlLmhlYWRpbmc9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiI8aCIrdCsnIGlkPSInK3RoaXMub3B0aW9ucy5oZWFkZXJQcmVmaXgrbi50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1teXHddKy9nLCItIikrJyI+JytlKyI8L2giK3QrIj5cbiJ9LG8ucHJvdG90eXBlLmhyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbD8iPGhyLz5cbiI6Ijxocj5cbiJ9LG8ucHJvdG90eXBlLmxpc3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj10PyJvbCI6InVsIjtyZXR1cm4iPCIrbisiPlxuIitlKyI8LyIrbisiPlxuIn0sby5wcm90b3R5cGUubGlzdGl0ZW09ZnVuY3Rpb24oZSl7cmV0dXJuIjxsaT4iK2UrIjwvbGk+XG4ifSxvLnByb3RvdHlwZS5wYXJhZ3JhcGg9ZnVuY3Rpb24oZSl7cmV0dXJuIjxwPiIrZSsiPC9wPlxuIn0sby5wcm90b3R5cGUudGFibGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4iPHRhYmxlPlxuPHRoZWFkPlxuIitlKyI8L3RoZWFkPlxuPHRib2R5PlxuIit0KyI8L3Rib2R5PlxuPC90YWJsZT5cbiJ9LG8ucHJvdG90eXBlLnRhYmxlcm93PWZ1bmN0aW9uKGUpe3JldHVybiI8dHI+XG4iK2UrIjwvdHI+XG4ifSxvLnByb3RvdHlwZS50YWJsZWNlbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmhlYWRlcj8idGgiOiJ0ZCIscj10LmFsaWduPyI8IituKycgc3R5bGU9InRleHQtYWxpZ246Jyt0LmFsaWduKyciPic6IjwiK24rIj4iO3JldHVybiByK2UrIjwvIituKyI+XG4ifSxvLnByb3RvdHlwZS5zdHJvbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIjxzdHJvbmc+IitlKyI8L3N0cm9uZz4ifSxvLnByb3RvdHlwZS5lbT1mdW5jdGlvbihlKXtyZXR1cm4iPGVtPiIrZSsiPC9lbT4ifSxvLnByb3RvdHlwZS5jb2Rlc3Bhbj1mdW5jdGlvbihlKXtyZXR1cm4iPGNvZGU+IitlKyI8L2NvZGU+In0sby5wcm90b3R5cGUuYnI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnhodG1sPyI8YnIvPiI6Ijxicj4ifSxvLnByb3RvdHlwZS5kZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIjxkZWw+IitlKyI8L2RlbD4ifSxvLnByb3RvdHlwZS5saW5rPWZ1bmN0aW9uKGUsdCxuKXtpZih0aGlzLm9wdGlvbnMuc2FuaXRpemUpe3RyeXt2YXIgcj1kZWNvZGVVUklDb21wb25lbnQocyhlKSkucmVwbGFjZSgvW15cdzpdL2csIiIpLnRvTG93ZXJDYXNlKCl9Y2F0Y2goaSl7cmV0dXJuIiJ9aWYoMD09PXIuaW5kZXhPZigiamF2YXNjcmlwdDoiKXx8MD09PXIuaW5kZXhPZigidmJzY3JpcHQ6IikpcmV0dXJuIiJ9dmFyIG89JzxhIGhyZWY9IicrZSsnIic7cmV0dXJuIHQmJihvKz0nIHRpdGxlPSInK3QrJyInKSxvKz0iPiIrbisiPC9hPiJ9LG8ucHJvdG90eXBlLmltYWdlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0nPGltZyBzcmM9IicrZSsnIiBhbHQ9IicrbisnIic7cmV0dXJuIHQmJihyKz0nIHRpdGxlPSInK3QrJyInKSxyKz10aGlzLm9wdGlvbnMueGh0bWw/Ii8+IjoiPiJ9LG8ucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGEucGFyc2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW5ldyBhKHQsbik7cmV0dXJuIHIucGFyc2UoZSl9LGEucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUpe3RoaXMuaW5saW5lPW5ldyBpKGUubGlua3MsdGhpcy5vcHRpb25zLHRoaXMucmVuZGVyZXIpLHRoaXMudG9rZW5zPWUucmV2ZXJzZSgpO2Zvcih2YXIgdD0iIjt0aGlzLm5leHQoKTspdCs9dGhpcy50b2soKTtyZXR1cm4gdH0sYS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRva2VuPXRoaXMudG9rZW5zLnBvcCgpfSxhLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9rZW5zW3RoaXMudG9rZW5zLmxlbmd0aC0xXXx8MH0sYS5wcm90b3R5cGUucGFyc2VUZXh0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMudG9rZW4udGV4dDsidGV4dCI9PT10aGlzLnBlZWsoKS50eXBlOyllKz0iXG4iK3RoaXMubmV4dCgpLnRleHQ7cmV0dXJuIHRoaXMuaW5saW5lLm91dHB1dChlKX0sYS5wcm90b3R5cGUudG9rPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMudG9rZW4udHlwZSl7Y2FzZSJzcGFjZSI6cmV0dXJuIiI7Y2FzZSJociI6cmV0dXJuIHRoaXMucmVuZGVyZXIuaHIoKTtjYXNlImhlYWRpbmciOnJldHVybiB0aGlzLnJlbmRlcmVyLmhlYWRpbmcodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCksdGhpcy50b2tlbi5kZXB0aCx0aGlzLnRva2VuLnRleHQpO2Nhc2UiY29kZSI6cmV0dXJuIHRoaXMucmVuZGVyZXIuY29kZSh0aGlzLnRva2VuLnRleHQsdGhpcy50b2tlbi5sYW5nLHRoaXMudG9rZW4uZXNjYXBlZCk7Y2FzZSJ0YWJsZSI6dmFyIGUsdCxuLHIsaSxvPSIiLGE9IiI7Zm9yKG49IiIsZT0wO2U8dGhpcy50b2tlbi5oZWFkZXIubGVuZ3RoO2UrKylyPXtoZWFkZXI6ITAsYWxpZ246dGhpcy50b2tlbi5hbGlnbltlXX0sbis9dGhpcy5yZW5kZXJlci50YWJsZWNlbGwodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4uaGVhZGVyW2VdKSx7aGVhZGVyOiEwLGFsaWduOnRoaXMudG9rZW4uYWxpZ25bZV19KTtmb3Iobys9dGhpcy5yZW5kZXJlci50YWJsZXJvdyhuKSxlPTA7ZTx0aGlzLnRva2VuLmNlbGxzLmxlbmd0aDtlKyspe2Zvcih0PXRoaXMudG9rZW4uY2VsbHNbZV0sbj0iIixpPTA7aTx0Lmxlbmd0aDtpKyspbis9dGhpcy5yZW5kZXJlci50YWJsZWNlbGwodGhpcy5pbmxpbmUub3V0cHV0KHRbaV0pLHtoZWFkZXI6ITEsYWxpZ246dGhpcy50b2tlbi5hbGlnbltpXX0pO2ErPXRoaXMucmVuZGVyZXIudGFibGVyb3cobil9cmV0dXJuIHRoaXMucmVuZGVyZXIudGFibGUobyxhKTtjYXNlImJsb2NrcXVvdGVfc3RhcnQiOmZvcih2YXIgYT0iIjsiYmxvY2txdW90ZV9lbmQiIT09dGhpcy5uZXh0KCkudHlwZTspYSs9dGhpcy50b2soKTtyZXR1cm4gdGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKGEpO2Nhc2UibGlzdF9zdGFydCI6Zm9yKHZhciBhPSIiLGw9dGhpcy50b2tlbi5vcmRlcmVkOyJsaXN0X2VuZCIhPT10aGlzLm5leHQoKS50eXBlOylhKz10aGlzLnRvaygpO3JldHVybiB0aGlzLnJlbmRlcmVyLmxpc3QoYSxsKTtjYXNlImxpc3RfaXRlbV9zdGFydCI6Zm9yKHZhciBhPSIiOyJsaXN0X2l0ZW1fZW5kIiE9PXRoaXMubmV4dCgpLnR5cGU7KWErPSJ0ZXh0Ij09PXRoaXMudG9rZW4udHlwZT90aGlzLnBhcnNlVGV4dCgpOnRoaXMudG9rKCk7cmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oYSk7Y2FzZSJsb29zZV9pdGVtX3N0YXJ0Ijpmb3IodmFyIGE9IiI7Imxpc3RfaXRlbV9lbmQiIT09dGhpcy5uZXh0KCkudHlwZTspYSs9dGhpcy50b2soKTtyZXR1cm4gdGhpcy5yZW5kZXJlci5saXN0aXRlbShhKTtjYXNlImh0bWwiOnZhciBzPXRoaXMudG9rZW4ucHJlfHx0aGlzLm9wdGlvbnMucGVkYW50aWM/dGhpcy50b2tlbi50ZXh0OnRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLnRleHQpO3JldHVybiB0aGlzLnJlbmRlcmVyLmh0bWwocyk7Y2FzZSJwYXJhZ3JhcGgiOnJldHVybiB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSk7Y2FzZSJ0ZXh0IjpyZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5wYXJzZVRleHQoKSl9fSx1LmV4ZWM9dSxoLm9wdGlvbnM9aC5zZXRPcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBmKGguZGVmYXVsdHMsZSksaH0saC5kZWZhdWx0cz17Z2ZtOiEwLHRhYmxlczohMCxicmVha3M6ITEscGVkYW50aWM6ITEsc2FuaXRpemU6ITEsc2FuaXRpemVyOm51bGwsbWFuZ2xlOiEwLHNtYXJ0TGlzdHM6ITEsc2lsZW50OiExLGhpZ2hsaWdodDpudWxsLGxhbmdQcmVmaXg6ImxhbmctIixzbWFydHlwYW50czohMSxoZWFkZXJQcmVmaXg6IiIscmVuZGVyZXI6bmV3IG8seGh0bWw6ITF9LGguUGFyc2VyPWEsaC5wYXJzZXI9YS5wYXJzZSxoLlJlbmRlcmVyPW8saC5MZXhlcj10LGgubGV4ZXI9dC5sZXgsaC5JbmxpbmVMZXhlcj1pLGguaW5saW5lTGV4ZXI9aS5vdXRwdXQsaC5wYXJzZT1oLCJ1bmRlZmluZWQiIT10eXBlb2YgbiYmIm9iamVjdCI9PXR5cGVvZiByP24uZXhwb3J0cz1oOiJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFtZD9lKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KTp0aGlzLm1hcmtlZD1ofSkuY2FsbChmdW5jdGlvbigpe3JldHVybiB0aGlzfHwoInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnQpfSgpKX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDE4OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4scil7InVzZSBzdHJpY3QiO3ZhciBpPWZ1bmN0aW9uKGUsdCxuLGkpe2lmKGk9aXx8e30sdGhpcy5kaWN0aW9uYXJ5PW51bGwsdGhpcy5ydWxlcz17fSx0aGlzLmRpY3Rpb25hcnlUYWJsZT17fSx0aGlzLmNvbXBvdW5kUnVsZXM9W10sdGhpcy5jb21wb3VuZFJ1bGVDb2Rlcz17fSx0aGlzLnJlcGxhY2VtZW50VGFibGU9W10sdGhpcy5mbGFncz1pLmZsYWdzfHx7fSxlKXtpZih0aGlzLmRpY3Rpb25hcnk9ZSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmImNocm9tZSJpbiB3aW5kb3cmJiJleHRlbnNpb24iaW4gd2luZG93LmNocm9tZSYmImdldFVSTCJpbiB3aW5kb3cuY2hyb21lLmV4dGVuc2lvbil0fHwodD10aGlzLl9yZWFkRmlsZShjaHJvbWUuZXh0ZW5zaW9uLmdldFVSTCgibGliL3R5cG8vZGljdGlvbmFyaWVzLyIrZSsiLyIrZSsiLmFmZiIpKSksbnx8KG49dGhpcy5fcmVhZEZpbGUoY2hyb21lLmV4dGVuc2lvbi5nZXRVUkwoImxpYi90eXBvL2RpY3Rpb25hcmllcy8iK2UrIi8iK2UrIi5kaWMiKSkpO2Vsc2V7aWYoaS5kaWN0aW9uYXJ5UGF0aCl2YXIgbz1pLmRpY3Rpb25hcnlQYXRoO2Vsc2UgaWYoInVuZGVmaW5lZCIhPXR5cGVvZiByKXZhciBvPXIrIi9kaWN0aW9uYXJpZXMiO2Vsc2UgdmFyIG89Ii4vZGljdGlvbmFyaWVzIjt0fHwodD10aGlzLl9yZWFkRmlsZShvKyIvIitlKyIvIitlKyIuYWZmIikpLG58fChuPXRoaXMuX3JlYWRGaWxlKG8rIi8iK2UrIi8iK2UrIi5kaWMiKSl9dGhpcy5ydWxlcz10aGlzLl9wYXJzZUFGRih0KSx0aGlzLmNvbXBvdW5kUnVsZUNvZGVzPXt9O2Zvcih2YXIgYT0wLGw9dGhpcy5jb21wb3VuZFJ1bGVzLmxlbmd0aDtsPmE7YSsrKWZvcih2YXIgcz10aGlzLmNvbXBvdW5kUnVsZXNbYV0sYz0wLHU9cy5sZW5ndGg7dT5jO2MrKyl0aGlzLmNvbXBvdW5kUnVsZUNvZGVzW3NbY11dPVtdOyJPTkxZSU5DT01QT1VORCJpbiB0aGlzLmZsYWdzJiYodGhpcy5jb21wb3VuZFJ1bGVDb2Rlc1t0aGlzLmZsYWdzLk9OTFlJTkNPTVBPVU5EXT1bXSksdGhpcy5kaWN0aW9uYXJ5VGFibGU9dGhpcy5fcGFyc2VESUMobik7Zm9yKHZhciBhIGluIHRoaXMuY29tcG91bmRSdWxlQ29kZXMpMD09dGhpcy5jb21wb3VuZFJ1bGVDb2Rlc1thXS5sZW5ndGgmJmRlbGV0ZSB0aGlzLmNvbXBvdW5kUnVsZUNvZGVzW2FdO2Zvcih2YXIgYT0wLGw9dGhpcy5jb21wb3VuZFJ1bGVzLmxlbmd0aDtsPmE7YSsrKXtmb3IodmFyIGY9dGhpcy5jb21wb3VuZFJ1bGVzW2FdLGg9IiIsYz0wLHU9Zi5sZW5ndGg7dT5jO2MrKyl7dmFyIGQ9ZltjXTtoKz1kIGluIHRoaXMuY29tcG91bmRSdWxlQ29kZXM/IigiK3RoaXMuY29tcG91bmRSdWxlQ29kZXNbZF0uam9pbigifCIpKyIpIjpkfXRoaXMuY29tcG91bmRSdWxlc1thXT1uZXcgUmVnRXhwKGgsImkiKX19cmV0dXJuIHRoaXN9O2kucHJvdG90eXBlPXtsb2FkOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXRoaXNbdF09ZVt0XTtyZXR1cm4gdGhpc30sX3JlYWRGaWxlOmZ1bmN0aW9uKHQscil7aWYocnx8KHI9InV0ZjgiKSwidW5kZWZpbmVkIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0KXt2YXIgaT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGkub3BlbigiR0VUIix0LCExKSxpLm92ZXJyaWRlTWltZVR5cGUmJmkub3ZlcnJpZGVNaW1lVHlwZSgidGV4dC9wbGFpbjsgY2hhcnNldD0iK3IpLGkuc2VuZChudWxsKSxpLnJlc3BvbnNlVGV4dH1pZigidW5kZWZpbmVkIiE9dHlwZW9mIGUpe3ZhciBvPWUoImZzIik7dHJ5e2lmKG8uZXhpc3RzU3luYyh0KSl7dmFyIGE9by5zdGF0U3luYyh0KSxsPW8ub3BlblN5bmModCwiciIpLHM9bmV3IG4oYS5zaXplKTtyZXR1cm4gby5yZWFkU3luYyhsLHMsMCxzLmxlbmd0aCxudWxsKSxzLnRvU3RyaW5nKHIsMCxzLmxlbmd0aCl9Y29uc29sZS5sb2coIlBhdGggIit0KyIgZG9lcyBub3QgZXhpc3QuIil9Y2F0Y2goYyl7cmV0dXJuIGNvbnNvbGUubG9nKGMpLCIifX19LF9wYXJzZUFGRjpmdW5jdGlvbihlKXt2YXIgdD17fTtlPXRoaXMuX3JlbW92ZUFmZml4Q29tbWVudHMoZSk7Zm9yKHZhciBuPWUuc3BsaXQoIlxuIikscj0wLGk9bi5sZW5ndGg7aT5yO3IrKyl7dmFyIG89bltyXSxhPW8uc3BsaXQoL1xzKy8pLGw9YVswXTtpZigiUEZYIj09bHx8IlNGWCI9PWwpe2Zvcih2YXIgcz1hWzFdLGM9YVsyXSx1PXBhcnNlSW50KGFbM10sMTApLGY9W10saD1yKzEsZD1yKzErdTtkPmg7aCsrKXt2YXIgbz1uW2hdLHA9by5zcGxpdCgvXHMrLyksbT1wWzJdLGc9cFszXS5zcGxpdCgiLyIpLHY9Z1swXTsiMCI9PT12JiYodj0iIik7dmFyIHk9dGhpcy5wYXJzZVJ1bGVDb2RlcyhnWzFdKSx4PXBbNF0sYj17fTtiLmFkZD12LHkubGVuZ3RoPjAmJihiLmNvbnRpbnVhdGlvbkNsYXNzZXM9eSksIi4iIT09eCYmKCJTRlgiPT09bD9iLm1hdGNoPW5ldyBSZWdFeHAoeCsiJCIpOmIubWF0Y2g9bmV3IFJlZ0V4cCgiXiIreCkpLCIwIiE9bSYmKCJTRlgiPT09bD9iLnJlbW92ZT1uZXcgUmVnRXhwKG0rIiQiKTpiLnJlbW92ZT1tKSxmLnB1c2goYil9dFtzXT17dHlwZTpsLGNvbWJpbmVhYmxlOiJZIj09YyxlbnRyaWVzOmZ9LHIrPXV9ZWxzZSBpZigiQ09NUE9VTkRSVUxFIj09PWwpe2Zvcih2YXIgdT1wYXJzZUludChhWzFdLDEwKSxoPXIrMSxkPXIrMSt1O2Q+aDtoKyspe3ZhciBvPW5baF0scD1vLnNwbGl0KC9ccysvKTt0aGlzLmNvbXBvdW5kUnVsZXMucHVzaChwWzFdKX1yKz11fWVsc2UgaWYoIlJFUCI9PT1sKXt2YXIgcD1vLnNwbGl0KC9ccysvKTszPT09cC5sZW5ndGgmJnRoaXMucmVwbGFjZW1lbnRUYWJsZS5wdXNoKFtwWzFdLHBbMl1dKX1lbHNlIHRoaXMuZmxhZ3NbbF09YVsxXX1yZXR1cm4gdH0sX3JlbW92ZUFmZml4Q29tbWVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5yZXBsYWNlKC8jLiokL2dtLCIiKSxlPWUucmVwbGFjZSgvXlxzXHMqL20sIiIpLnJlcGxhY2UoL1xzXHMqJC9tLCIiKSxlPWUucmVwbGFjZSgvXG57Mix9L2csIlxuIiksZT1lLnJlcGxhY2UoL15cc1xzKi8sIiIpLnJlcGxhY2UoL1xzXHMqJC8sIiIpfSxfcGFyc2VESUM6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe2UgaW4gciYmIm9iamVjdCI9PXR5cGVvZiByW2VdfHwocltlXT1bXSkscltlXS5wdXNoKHQpfWU9dGhpcy5fcmVtb3ZlRGljQ29tbWVudHMoZSk7Zm9yKHZhciBuPWUuc3BsaXQoIlxuIikscj17fSxpPTEsbz1uLmxlbmd0aDtvPmk7aSsrKXt2YXIgYT1uW2ldLGw9YS5zcGxpdCgiLyIsMikscz1sWzBdO2lmKGwubGVuZ3RoPjEpe3ZhciBjPXRoaXMucGFyc2VSdWxlQ29kZXMobFsxXSk7Ik5FRURBRkZJWCJpbiB0aGlzLmZsYWdzJiYtMSE9Yy5pbmRleE9mKHRoaXMuZmxhZ3MuTkVFREFGRklYKXx8dChzLGMpO2Zvcih2YXIgdT0wLGY9Yy5sZW5ndGg7Zj51O3UrKyl7dmFyIGg9Y1t1XSxkPXRoaXMucnVsZXNbaF07aWYoZClmb3IodmFyIHA9dGhpcy5fYXBwbHlSdWxlKHMsZCksbT0wLGc9cC5sZW5ndGg7Zz5tO20rKyl7dmFyIHY9cFttXTtpZih0KHYsW10pLGQuY29tYmluZWFibGUpZm9yKHZhciB5PXUrMTtmPnk7eSsrKXt2YXIgeD1jW3ldLGI9dGhpcy5ydWxlc1t4XTtpZihiJiZiLmNvbWJpbmVhYmxlJiZkLnR5cGUhPWIudHlwZSlmb3IodmFyIHc9dGhpcy5fYXBwbHlSdWxlKHYsYiksaz0wLFM9dy5sZW5ndGg7Uz5rO2srKyl7dmFyIEM9d1trXTt0KEMsW10pfX19aCBpbiB0aGlzLmNvbXBvdW5kUnVsZUNvZGVzJiZ0aGlzLmNvbXBvdW5kUnVsZUNvZGVzW2hdLnB1c2gocyl9fWVsc2UgdChzLnRyaW0oKSxbXSl9cmV0dXJuIHJ9LF9yZW1vdmVEaWNDb21tZW50czpmdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoL15cdC4qJC9nbSwiIil9LHBhcnNlUnVsZUNvZGVzOmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybltdO2lmKCEoIkZMQUciaW4gdGhpcy5mbGFncykpcmV0dXJuIGUuc3BsaXQoIiIpO2lmKCJsb25nIj09PXRoaXMuZmxhZ3MuRkxBRyl7Zm9yKHZhciB0PVtdLG49MCxyPWUubGVuZ3RoO3I+bjtuKz0yKXQucHVzaChlLnN1YnN0cihuLDIpKTtyZXR1cm4gdH1yZXR1cm4ibnVtIj09PXRoaXMuZmxhZ3MuRkxBRz90ZXh0Q29kZS5zcGxpdCgiLCIpOnZvaWQgMH0sX2FwcGx5UnVsZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10LmVudHJpZXMscj1bXSxpPTAsbz1uLmxlbmd0aDtvPmk7aSsrKXt2YXIgYT1uW2ldO2lmKCFhLm1hdGNofHxlLm1hdGNoKGEubWF0Y2gpKXt2YXIgbD1lO2lmKGEucmVtb3ZlJiYobD1sLnJlcGxhY2UoYS5yZW1vdmUsIiIpKSwiU0ZYIj09PXQudHlwZT9sKz1hLmFkZDpsPWEuYWRkK2wsci5wdXNoKGwpLCJjb250aW51YXRpb25DbGFzc2VzImluIGEpZm9yKHZhciBzPTAsYz1hLmNvbnRpbnVhdGlvbkNsYXNzZXMubGVuZ3RoO2M+cztzKyspe3ZhciB1PXRoaXMucnVsZXNbYS5jb250aW51YXRpb25DbGFzc2VzW3NdXTt1JiYocj1yLmNvbmNhdCh0aGlzLl9hcHBseVJ1bGUobCx1KSkpfX19cmV0dXJuIHJ9LGNoZWNrOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSgvXlxzXHMqLywiIikucmVwbGFjZSgvXHNccyokLywiIik7aWYodGhpcy5jaGVja0V4YWN0KHQpKXJldHVybiEwO2lmKHQudG9VcHBlckNhc2UoKT09PXQpe3ZhciBuPXRbMF0rdC5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKTtpZih0aGlzLmhhc0ZsYWcobiwiS0VFUENBU0UiKSlyZXR1cm4hMTtpZih0aGlzLmNoZWNrRXhhY3QobikpcmV0dXJuITB9dmFyIHI9dC50b0xvd2VyQ2FzZSgpO2lmKHIhPT10KXtpZih0aGlzLmhhc0ZsYWcociwiS0VFUENBU0UiKSlyZXR1cm4hMTtpZih0aGlzLmNoZWNrRXhhY3QocikpcmV0dXJuITB9cmV0dXJuITF9LGNoZWNrRXhhY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kaWN0aW9uYXJ5VGFibGVbZV07aWYoInVuZGVmaW5lZCI9PXR5cGVvZiB0KXtpZigiQ09NUE9VTkRNSU4iaW4gdGhpcy5mbGFncyYmZS5sZW5ndGg+PXRoaXMuZmxhZ3MuQ09NUE9VTkRNSU4pZm9yKHZhciBuPTAscj10aGlzLmNvbXBvdW5kUnVsZXMubGVuZ3RoO3I+bjtuKyspaWYoZS5tYXRjaCh0aGlzLmNvbXBvdW5kUnVsZXNbbl0pKXJldHVybiEwO3JldHVybiExfWlmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHZhciBuPTAscj10Lmxlbmd0aDtyPm47bisrKWlmKCF0aGlzLmhhc0ZsYWcoZSwiT05MWUlOQ09NUE9VTkQiLHRbbl0pKXJldHVybiEwO3JldHVybiExfX0saGFzRmxhZzpmdW5jdGlvbihlLHQsbil7aWYodCBpbiB0aGlzLmZsYWdzKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIG4pdmFyIG49QXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSx0aGlzLmRpY3Rpb25hcnlUYWJsZVtlXSk7aWYobiYmLTEhPT1uLmluZGV4T2YodGhpcy5mbGFnc1t0XSkpcmV0dXJuITB9cmV0dXJuITF9LGFscGhhYmV0OiIiLHN1Z2dlc3Q6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgdD1bXSxuPTAscj1lLmxlbmd0aDtyPm47bisrKXtmb3IodmFyIGk9ZVtuXSxvPVtdLGE9MCxsPWkubGVuZ3RoKzE7bD5hO2ErKylvLnB1c2goW2kuc3Vic3RyaW5nKDAsYSksaS5zdWJzdHJpbmcoYSxpLmxlbmd0aCldKTtmb3IodmFyIHM9W10sYT0wLGw9by5sZW5ndGg7bD5hO2ErKyl7dmFyIHU9b1thXTt1WzFdJiZzLnB1c2godVswXSt1WzFdLnN1YnN0cmluZygxKSl9Zm9yKHZhciBmPVtdLGE9MCxsPW8ubGVuZ3RoO2w+YTthKyspe3ZhciB1PW9bYV07dVsxXS5sZW5ndGg+MSYmZi5wdXNoKHVbMF0rdVsxXVsxXSt1WzFdWzBdK3VbMV0uc3Vic3RyaW5nKDIpKX1mb3IodmFyIGg9W10sYT0wLGw9by5sZW5ndGg7bD5hO2ErKyl7dmFyIHU9b1thXTtpZih1WzFdKWZvcih2YXIgZD0wLHA9Yy5hbHBoYWJldC5sZW5ndGg7cD5kO2QrKyloLnB1c2godVswXStjLmFscGhhYmV0W2RdK3VbMV0uc3Vic3RyaW5nKDEpKX1mb3IodmFyIG09W10sYT0wLGw9by5sZW5ndGg7bD5hO2ErKyl7dmFyIHU9b1thXTtpZih1WzFdKWZvcih2YXIgZD0wLHA9Yy5hbHBoYWJldC5sZW5ndGg7cD5kO2QrKyloLnB1c2godVswXStjLmFscGhhYmV0W2RdK3VbMV0pfXQ9dC5jb25jYXQocyksdD10LmNvbmNhdChmKSx0PXQuY29uY2F0KGgpLHQ9dC5jb25jYXQobSl9cmV0dXJuIHR9ZnVuY3Rpb24gcihlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7bisrKWMuY2hlY2soZVtuXSkmJnQucHVzaChlW25dKTtyZXR1cm4gdH1mdW5jdGlvbiBpKGUpe2Z1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZVsxXTx0WzFdPy0xOjF9Zm9yKHZhciBvPW4oW2VdKSxhPW4obyksbD1yKG8pLmNvbmNhdChyKGEpKSxzPXt9LHU9MCxmPWwubGVuZ3RoO2Y+dTt1KyspbFt1XWluIHM/c1tsW3VdXSs9MTpzW2xbdV1dPTE7dmFyIGg9W107Zm9yKHZhciB1IGluIHMpaC5wdXNoKFt1LHNbdV1dKTtoLnNvcnQoaSkucmV2ZXJzZSgpO2Zvcih2YXIgZD1bXSx1PTAsZj1NYXRoLm1pbih0LGgubGVuZ3RoKTtmPnU7dSsrKWMuaGFzRmxhZyhoW3VdWzBdLCJOT1NVR0dFU1QiKXx8ZC5wdXNoKGhbdV1bMF0pO3JldHVybiBkfWlmKHR8fCh0PTUpLHRoaXMuY2hlY2soZSkpcmV0dXJuW107Zm9yKHZhciBvPTAsYT10aGlzLnJlcGxhY2VtZW50VGFibGUubGVuZ3RoO2E+bztvKyspe3ZhciBsPXRoaXMucmVwbGFjZW1lbnRUYWJsZVtvXTtpZigtMSE9PWUuaW5kZXhPZihsWzBdKSl7dmFyIHM9ZS5yZXBsYWNlKGxbMF0sbFsxXSk7aWYodGhpcy5jaGVjayhzKSlyZXR1cm5bc119fXZhciBjPXRoaXM7cmV0dXJuIGMuYWxwaGFiZXQ9ImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IixpKGUpfX0sInVuZGVmaW5lZCIhPXR5cGVvZiB0JiYodC5leHBvcnRzPWkpfSkuY2FsbCh0aGlzLGUoImJ1ZmZlciIpLkJ1ZmZlciwiL25vZGVfbW9kdWxlcy90eXBvLWpzIil9LHtidWZmZXI6MyxmczoyfV0sMTk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCJjb2RlbWlycm9yIik7ci5jb21tYW5kcy50YWJBbmRJbmRlbnRNYXJrZG93bkxpc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5saXN0U2VsZWN0aW9ucygpLG49dFswXS5oZWFkLHI9ZS5nZXRTdGF0ZUFmdGVyKG4ubGluZSksaT1yLmxpc3QhPT0hMTtpZihpKXJldHVybiB2b2lkIGUuZXhlY0NvbW1hbmQoImluZGVudE1vcmUiKTtpZihlLm9wdGlvbnMuaW5kZW50V2l0aFRhYnMpZS5leGVjQ29tbWFuZCgiaW5zZXJ0VGFiIik7ZWxzZXt2YXIgbz1BcnJheShlLm9wdGlvbnMudGFiU2l6ZSsxKS5qb2luKCIgIik7ZS5yZXBsYWNlU2VsZWN0aW9uKG8pfX0sci5jb21tYW5kcy5zaGlmdFRhYkFuZFVuaW5kZW50TWFya2Rvd25MaXN0PWZ1bmN0aW9uKGUpe3ZhciB0PWUubGlzdFNlbGVjdGlvbnMoKSxuPXRbMF0uaGVhZCxyPWUuZ2V0U3RhdGVBZnRlcihuLmxpbmUpLGk9ci5saXN0IT09ITE7aWYoaSlyZXR1cm4gdm9pZCBlLmV4ZWNDb21tYW5kKCJpbmRlbnRMZXNzIik7aWYoZS5vcHRpb25zLmluZGVudFdpdGhUYWJzKWUuZXhlY0NvbW1hbmQoImluc2VydFRhYiIpO2Vsc2V7dmFyIG89QXJyYXkoZS5vcHRpb25zLnRhYlNpemUrMSkuam9pbigiICIpO2UucmVwbGFjZVNlbGVjdGlvbihvKX19fSx7Y29kZW1pcnJvcjoxMH1dLDIwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGU9VT9lLnJlcGxhY2UoIkN0cmwiLCJDbWQiKTplLnJlcGxhY2UoIkNtZCIsIkN0cmwiKX1mdW5jdGlvbiBpKGUsdCxuKXtlPWV8fHt9O3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gdD12b2lkIDA9PXQ/ITA6dCxlLnRpdGxlJiZ0JiYoci50aXRsZT1hKGUudGl0bGUsZS5hY3Rpb24sbiksVSYmKHIudGl0bGU9ci50aXRsZS5yZXBsYWNlKCJDdHJsIiwi4oyYIiksci50aXRsZT1yLnRpdGxlLnJlcGxhY2UoIkFsdCIsIuKMpSIpKSksci50YWJJbmRleD0tMSxyLmNsYXNzTmFtZT1lLmNsYXNzTmFtZSxyfWZ1bmN0aW9uIG8oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpIik7cmV0dXJuIGUuY2xhc3NOYW1lPSJzZXBhcmF0b3IiLGUuaW5uZXJIVE1MPSJ8IixlfWZ1bmN0aW9uIGEoZSx0LG4pe3ZhciBpLG89ZTtyZXR1cm4gdCYmKGk9WSh0KSxuW2ldJiYobys9IiAoIityKG5baV0pKyIpIikpLG99ZnVuY3Rpb24gbChlLHQpe3Q9dHx8ZS5nZXRDdXJzb3IoInN0YXJ0Iik7dmFyIG49ZS5nZXRUb2tlbkF0KHQpO2lmKCFuLnR5cGUpcmV0dXJue307Zm9yKHZhciByLGksbz1uLnR5cGUuc3BsaXQoIiAiKSxhPXt9LGw9MDtsPG8ubGVuZ3RoO2wrKylyPW9bbF0sInN0cm9uZyI9PT1yP2EuYm9sZD0hMDoidmFyaWFibGUtMiI9PT1yPyhpPWUuZ2V0TGluZSh0LmxpbmUpLC9eXHMqXGQrXC5ccy8udGVzdChpKT9hWyJvcmRlcmVkLWxpc3QiXT0hMDphWyJ1bm9yZGVyZWQtbGlzdCJdPSEwKToiYXRvbSI9PT1yP2EucXVvdGU9ITA6ImVtIj09PXI/YS5pdGFsaWM9ITA6InF1b3RlIj09PXI/YS5xdW90ZT0hMDoic3RyaWtldGhyb3VnaCI9PT1yP2Euc3RyaWtldGhyb3VnaD0hMDoiY29tbWVudCI9PT1yP2EuY29kZT0hMDoibGluayI9PT1yP2EubGluaz0hMDoidGFnIj09PXI/YS5pbWFnZT0hMDpyLm1hdGNoKC9eaGVhZGVyKFwtWzEtNl0pPyQvKSYmKGFbci5yZXBsYWNlKCJoZWFkZXIiLCJoZWFkaW5nIildPSEwKTtyZXR1cm4gYX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUuY29kZW1pcnJvcjt0LnNldE9wdGlvbigiZnVsbFNjcmVlbiIsIXQuZ2V0T3B0aW9uKCJmdWxsU2NyZWVuIikpLHQuZ2V0T3B0aW9uKCJmdWxsU2NyZWVuIik/KFY9ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyxkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iKTpkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVY7dmFyIG49dC5nZXRXcmFwcGVyRWxlbWVudCgpOy9mdWxsc2NyZWVuLy50ZXN0KG4ucHJldmlvdXNTaWJsaW5nLmNsYXNzTmFtZSk/bi5wcmV2aW91c1NpYmxpbmcuY2xhc3NOYW1lPW4ucHJldmlvdXNTaWJsaW5nLmNsYXNzTmFtZS5yZXBsYWNlKC9ccypmdWxsc2NyZWVuXGIvLCIiKTpuLnByZXZpb3VzU2libGluZy5jbGFzc05hbWUrPSIgZnVsbHNjcmVlbiI7dmFyIHI9ZS50b29sYmFyRWxlbWVudHMuZnVsbHNjcmVlbjsvYWN0aXZlLy50ZXN0KHIuY2xhc3NOYW1lKT9yLmNsYXNzTmFtZT1yLmNsYXNzTmFtZS5yZXBsYWNlKC9ccyphY3RpdmVccyovZywiIik6ci5jbGFzc05hbWUrPSIgYWN0aXZlIjt2YXIgaT10LmdldFdyYXBwZXJFbGVtZW50KCkubmV4dFNpYmxpbmc7L2VkaXRvci1wcmV2aWV3LWFjdGl2ZS1zaWRlLy50ZXN0KGkuY2xhc3NOYW1lKSYmTihlKX1mdW5jdGlvbiBjKGUpe1AoZSwiYm9sZCIsZS5vcHRpb25zLmJsb2NrU3R5bGVzLmJvbGQpfWZ1bmN0aW9uIHUoZSl7UChlLCJpdGFsaWMiLGUub3B0aW9ucy5ibG9ja1N0eWxlcy5pdGFsaWMpfWZ1bmN0aW9uIGYoZSl7UChlLCJzdHJpa2V0aHJvdWdoIiwifn4iKX1mdW5jdGlvbiBoKGUpe2Z1bmN0aW9uIHQoZSl7aWYoIm9iamVjdCIhPXR5cGVvZiBlKXRocm93ImZlbmNpbmdfbGluZSgpIHRha2VzIGEgJ2xpbmUnIG9iamVjdCAobm90IGEgbGluZSBudW1iZXIsIG9yIGxpbmUgdGV4dCkuICBHb3Q6ICIrdHlwZW9mIGUrIjogIitlO3JldHVybiBlLnN0eWxlcyYmZS5zdHlsZXNbMl0mJi0xIT09ZS5zdHlsZXNbMl0uaW5kZXhPZigiZm9ybWF0dGluZy1jb2RlLWJsb2NrIil9ZnVuY3Rpb24gbihlKXtyZXR1cm4gZS5zdGF0ZS5iYXNlLmJhc2V8fGUuc3RhdGUuYmFzZX1mdW5jdGlvbiByKGUscixpLG8sYSl7aT1pfHxlLmdldExpbmVIYW5kbGUociksbz1vfHxlLmdldFRva2VuQXQoe2xpbmU6cixjaDoxfSksYT1hfHwhIWkudGV4dCYmZS5nZXRUb2tlbkF0KHtsaW5lOnIsY2g6aS50ZXh0Lmxlbmd0aC0xfSk7dmFyIGw9by50eXBlP28udHlwZS5zcGxpdCgiICIpOltdO3JldHVybiBhJiZuKGEpLmluZGVudGVkQ29kZT8iaW5kZW50ZWQiOi0xPT09bC5pbmRleE9mKCJjb21tZW50Iik/ITE6bihvKS5mZW5jZWRDaGFyc3x8bihhKS5mZW5jZWRDaGFyc3x8dChpKT8iZmVuY2VkIjoic2luZ2xlIn1mdW5jdGlvbiBpKGUsdCxuLHIpe3ZhciBpPXQubGluZSsxLG89bi5saW5lKzEsYT10LmxpbmUhPT1uLmxpbmUsbD1yKyJcbiIscz0iXG4iK3I7YSYmbysrLGEmJjA9PT1uLmNoJiYocz1yKyJcbiIsby0tKSxFKGUsITEsW2wsc10pLGUuc2V0U2VsZWN0aW9uKHtsaW5lOmksY2g6MH0se2xpbmU6byxjaDowfSl9dmFyIG8sYSxsLHM9ZS5vcHRpb25zLmJsb2NrU3R5bGVzLmNvZGUsYz1lLmNvZGVtaXJyb3IsdT1jLmdldEN1cnNvcigic3RhcnQiKSxmPWMuZ2V0Q3Vyc29yKCJlbmQiKSxoPWMuZ2V0VG9rZW5BdCh7bGluZTp1LmxpbmUsY2g6dS5jaHx8MX0pLGQ9Yy5nZXRMaW5lSGFuZGxlKHUubGluZSkscD1yKGMsdS5saW5lLGQsaCk7aWYoInNpbmdsZSI9PT1wKXt2YXIgbT1kLnRleHQuc2xpY2UoMCx1LmNoKS5yZXBsYWNlKCJgIiwiIiksZz1kLnRleHQuc2xpY2UodS5jaCkucmVwbGFjZSgiYCIsIiIpO2MucmVwbGFjZVJhbmdlKG0rZyx7bGluZTp1LmxpbmUsY2g6MH0se2xpbmU6dS5saW5lLGNoOjk5OTk5OTk5OTk5OTk5fSksdS5jaC0tLHUhPT1mJiZmLmNoLS0sYy5zZXRTZWxlY3Rpb24odSxmKSxjLmZvY3VzKCl9ZWxzZSBpZigiZmVuY2VkIj09PXApaWYodS5saW5lIT09Zi5saW5lfHx1LmNoIT09Zi5jaCl7Zm9yKG89dS5saW5lO28+PTAmJihkPWMuZ2V0TGluZUhhbmRsZShvKSwhdChkKSk7by0tKTt2YXIgdix5LHgsYix3PWMuZ2V0VG9rZW5BdCh7bGluZTpvLGNoOjF9KSxrPW4odykuZmVuY2VkQ2hhcnM7dChjLmdldExpbmVIYW5kbGUodS5saW5lKSk/KHY9IiIseT11LmxpbmUpOnQoYy5nZXRMaW5lSGFuZGxlKHUubGluZS0xKSk/KHY9IiIseT11LmxpbmUtMSk6KHY9aysiXG4iLHk9dS5saW5lKSx0KGMuZ2V0TGluZUhhbmRsZShmLmxpbmUpKT8oeD0iIixiPWYubGluZSwwPT09Zi5jaCYmKGIrPTEpKTowIT09Zi5jaCYmdChjLmdldExpbmVIYW5kbGUoZi5saW5lKzEpKT8oeD0iIixiPWYubGluZSsxKTooeD1rKyJcbiIsYj1mLmxpbmUrMSksMD09PWYuY2gmJihiLT0xKSxjLm9wZXJhdGlvbihmdW5jdGlvbigpe2MucmVwbGFjZVJhbmdlKHgse2xpbmU6YixjaDowfSx7bGluZTpiKyh4PzA6MSksY2g6MH0pLGMucmVwbGFjZVJhbmdlKHYse2xpbmU6eSxjaDowfSx7bGluZTp5Kyh2PzA6MSksY2g6MH0pfSksYy5zZXRTZWxlY3Rpb24oe2xpbmU6eSsodj8xOjApLGNoOjB9LHtsaW5lOmIrKHY/MTotMSksY2g6MH0pLGMuZm9jdXMoKX1lbHNle3ZhciBTPXUubGluZTtpZih0KGMuZ2V0TGluZUhhbmRsZSh1LmxpbmUpKSYmKCJmZW5jZWQiPT09cihjLHUubGluZSsxKT8obz11LmxpbmUsUz11LmxpbmUrMSk6KGE9dS5saW5lLFM9dS5saW5lLTEpKSx2b2lkIDA9PT1vKWZvcihvPVM7bz49MCYmKGQ9Yy5nZXRMaW5lSGFuZGxlKG8pLCF0KGQpKTtvLS0pO2lmKHZvaWQgMD09PWEpZm9yKGw9Yy5saW5lQ291bnQoKSxhPVM7bD5hJiYoZD1jLmdldExpbmVIYW5kbGUoYSksIXQoZCkpO2ErKyk7Yy5vcGVyYXRpb24oZnVuY3Rpb24oKXtjLnJlcGxhY2VSYW5nZSgiIix7bGluZTpvLGNoOjB9LHtsaW5lOm8rMSxjaDowfSksYy5yZXBsYWNlUmFuZ2UoIiIse2xpbmU6YS0xLGNoOjB9LHtsaW5lOmEsY2g6MH0pfSksYy5mb2N1cygpfWVsc2UgaWYoImluZGVudGVkIj09PXApe2lmKHUubGluZSE9PWYubGluZXx8dS5jaCE9PWYuY2gpbz11LmxpbmUsYT1mLmxpbmUsMD09PWYuY2gmJmEtLTtlbHNle2ZvcihvPXUubGluZTtvPj0wO28tLSlpZihkPWMuZ2V0TGluZUhhbmRsZShvKSwhZC50ZXh0Lm1hdGNoKC9eXHMqJC8pJiYiaW5kZW50ZWQiIT09cihjLG8sZCkpe28rPTE7YnJlYWt9Zm9yKGw9Yy5saW5lQ291bnQoKSxhPXUubGluZTtsPmE7YSsrKWlmKGQ9Yy5nZXRMaW5lSGFuZGxlKGEpLCFkLnRleHQubWF0Y2goL15ccyokLykmJiJpbmRlbnRlZCIhPT1yKGMsYSxkKSl7YS09MTticmVha319dmFyIEM9Yy5nZXRMaW5lSGFuZGxlKGErMSksTD1DJiZjLmdldFRva2VuQXQoe2xpbmU6YSsxLGNoOkMudGV4dC5sZW5ndGgtMX0pLFQ9TCYmbihMKS5pbmRlbnRlZENvZGU7VCYmYy5yZXBsYWNlUmFuZ2UoIlxuIix7bGluZTphKzEsY2g6MH0pO2Zvcih2YXIgTT1vO2E+PU07TSsrKWMuaW5kZW50TGluZShNLCJzdWJ0cmFjdCIpO2MuZm9jdXMoKX1lbHNle3ZhciBOPXUubGluZT09PWYubGluZSYmdS5jaD09PWYuY2gmJjA9PT11LmNoLEE9dS5saW5lIT09Zi5saW5lO058fEE/aShjLHUsZixzKTpFKGMsITEsWyJgIiwiYCJdKX19ZnVuY3Rpb24gZChlKXt2YXIgdD1lLmNvZGVtaXJyb3I7SSh0LCJxdW90ZSIpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9ZS5jb2RlbWlycm9yO08odCwic21hbGxlciIpfWZ1bmN0aW9uIG0oZSl7dmFyIHQ9ZS5jb2RlbWlycm9yO08odCwiYmlnZ2VyIil9ZnVuY3Rpb24gZyhlKXt2YXIgdD1lLmNvZGVtaXJyb3I7Tyh0LHZvaWQgMCwxKX1mdW5jdGlvbiB2KGUpe3ZhciB0PWUuY29kZW1pcnJvcjtPKHQsdm9pZCAwLDIpfWZ1bmN0aW9uIHkoZSl7dmFyIHQ9ZS5jb2RlbWlycm9yO08odCx2b2lkIDAsMyl9ZnVuY3Rpb24geChlKXt2YXIgdD1lLmNvZGVtaXJyb3I7SSh0LCJ1bm9yZGVyZWQtbGlzdCIpfWZ1bmN0aW9uIGIoZSl7dmFyIHQ9ZS5jb2RlbWlycm9yO0kodCwib3JkZXJlZC1saXN0Iil9ZnVuY3Rpb24gdyhlKXt2YXIgdD1lLmNvZGVtaXJyb3I7Uih0KX1mdW5jdGlvbiBrKGUpe3ZhciB0PWUuY29kZW1pcnJvcixuPWwodCkscj1lLm9wdGlvbnMsaT0iaHR0cDovLyI7cmV0dXJuIHIucHJvbXB0VVJMcyYmKGk9cHJvbXB0KHIucHJvbXB0VGV4dHMubGluayksIWkpPyExOnZvaWQgRSh0LG4ubGluayxyLmluc2VydFRleHRzLmxpbmssaSl9ZnVuY3Rpb24gUyhlKXt2YXIgdD1lLmNvZGVtaXJyb3Isbj1sKHQpLHI9ZS5vcHRpb25zLGk9Imh0dHA6Ly8iO3JldHVybiByLnByb21wdFVSTHMmJihpPXByb21wdChyLnByb21wdFRleHRzLmltYWdlKSwhaSk/ITE6dm9pZCBFKHQsbi5pbWFnZSxyLmluc2VydFRleHRzLmltYWdlLGkpfWZ1bmN0aW9uIEMoZSl7dmFyIHQ9ZS5jb2RlbWlycm9yLG49bCh0KSxyPWUub3B0aW9ucztFKHQsbi50YWJsZSxyLmluc2VydFRleHRzLnRhYmxlKX1mdW5jdGlvbiBMKGUpe3ZhciB0PWUuY29kZW1pcnJvcixuPWwodCkscj1lLm9wdGlvbnM7RSh0LG4uaW1hZ2Usci5pbnNlcnRUZXh0cy5ob3Jpem9udGFsUnVsZSl9ZnVuY3Rpb24gVChlKXt2YXIgdD1lLmNvZGVtaXJyb3I7dC51bmRvKCksdC5mb2N1cygpfWZ1bmN0aW9uIE0oZSl7dmFyIHQ9ZS5jb2RlbWlycm9yO3QucmVkbygpLHQuZm9jdXMoKX1mdW5jdGlvbiBOKGUpe3ZhciB0PWUuY29kZW1pcnJvcixuPXQuZ2V0V3JhcHBlckVsZW1lbnQoKSxyPW4ubmV4dFNpYmxpbmcsaT1lLnRvb2xiYXJFbGVtZW50c1sic2lkZS1ieS1zaWRlIl0sbz0hMTsvZWRpdG9yLXByZXZpZXctYWN0aXZlLXNpZGUvLnRlc3Qoci5jbGFzc05hbWUpPyhyLmNsYXNzTmFtZT1yLmNsYXNzTmFtZS5yZXBsYWNlKC9ccyplZGl0b3ItcHJldmlldy1hY3RpdmUtc2lkZVxzKi9nLCIiKSxpLmNsYXNzTmFtZT1pLmNsYXNzTmFtZS5yZXBsYWNlKC9ccyphY3RpdmVccyovZywiIiksbi5jbGFzc05hbWU9bi5jbGFzc05hbWUucmVwbGFjZSgvXHMqQ29kZU1pcnJvci1zaWRlZFxzKi9nLCIgIikpOihzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5nZXRPcHRpb24oImZ1bGxTY3JlZW4iKXx8cyhlKSxyLmNsYXNzTmFtZSs9IiBlZGl0b3ItcHJldmlldy1hY3RpdmUtc2lkZSJ9LDEpLGkuY2xhc3NOYW1lKz0iIGFjdGl2ZSIsbi5jbGFzc05hbWUrPSIgQ29kZU1pcnJvci1zaWRlZCIsbz0hMCk7dmFyIGE9bi5sYXN0Q2hpbGQ7aWYoL2VkaXRvci1wcmV2aWV3LWFjdGl2ZS8udGVzdChhLmNsYXNzTmFtZSkpe2EuY2xhc3NOYW1lPWEuY2xhc3NOYW1lLnJlcGxhY2UoL1xzKmVkaXRvci1wcmV2aWV3LWFjdGl2ZVxzKi9nLCIiKTt2YXIgbD1lLnRvb2xiYXJFbGVtZW50cy5wcmV2aWV3LGM9bi5wcmV2aW91c1NpYmxpbmc7bC5jbGFzc05hbWU9bC5jbGFzc05hbWUucmVwbGFjZSgvXHMqYWN0aXZlXHMqL2csIiIpLGMuY2xhc3NOYW1lPWMuY2xhc3NOYW1lLnJlcGxhY2UoL1xzKmRpc2FibGVkLWZvci1wcmV2aWV3Ki9nLCIiKX12YXIgdT1mdW5jdGlvbigpe3IuaW5uZXJIVE1MPWUub3B0aW9ucy5wcmV2aWV3UmVuZGVyKGUudmFsdWUoKSxyKX07dC5zaWRlQnlTaWRlUmVuZGVyaW5nRnVuY3Rpb258fCh0LnNpZGVCeVNpZGVSZW5kZXJpbmdGdW5jdGlvbj11KSxvPyhyLmlubmVySFRNTD1lLm9wdGlvbnMucHJldmlld1JlbmRlcihlLnZhbHVlKCksciksdC5vbigidXBkYXRlIix0LnNpZGVCeVNpZGVSZW5kZXJpbmdGdW5jdGlvbikpOnQub2ZmKCJ1cGRhdGUiLHQuc2lkZUJ5U2lkZVJlbmRlcmluZ0Z1bmN0aW9uKSx0LnJlZnJlc2goKX1mdW5jdGlvbiBBKGUpe3ZhciB0PWUuY29kZW1pcnJvcixuPXQuZ2V0V3JhcHBlckVsZW1lbnQoKSxyPW4ucHJldmlvdXNTaWJsaW5nLGk9ZS5vcHRpb25zLnRvb2xiYXI/ZS50b29sYmFyRWxlbWVudHMucHJldmlldzohMSxvPW4ubGFzdENoaWxkO28mJi9lZGl0b3ItcHJldmlldy8udGVzdChvLmNsYXNzTmFtZSl8fChvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG8uY2xhc3NOYW1lPSJlZGl0b3ItcHJldmlldyIsbi5hcHBlbmRDaGlsZChvKSksL2VkaXRvci1wcmV2aWV3LWFjdGl2ZS8udGVzdChvLmNsYXNzTmFtZSk/KG8uY2xhc3NOYW1lPW8uY2xhc3NOYW1lLnJlcGxhY2UoL1xzKmVkaXRvci1wcmV2aWV3LWFjdGl2ZVxzKi9nLCIiKSxpJiYoaS5jbGFzc05hbWU9aS5jbGFzc05hbWUucmVwbGFjZSgvXHMqYWN0aXZlXHMqL2csIiIpLHIuY2xhc3NOYW1lPXIuY2xhc3NOYW1lLnJlcGxhY2UoL1xzKmRpc2FibGVkLWZvci1wcmV2aWV3Ki9nLCIiKSkpOihzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5jbGFzc05hbWUrPSIgZWRpdG9yLXByZXZpZXctYWN0aXZlIn0sMSksaSYmKGkuY2xhc3NOYW1lKz0iIGFjdGl2ZSIsci5jbGFzc05hbWUrPSIgZGlzYWJsZWQtZm9yLXByZXZpZXciKSksby5pbm5lckhUTUw9ZS5vcHRpb25zLnByZXZpZXdSZW5kZXIoZS52YWx1ZSgpLG8pO3ZhciBhPXQuZ2V0V3JhcHBlckVsZW1lbnQoKS5uZXh0U2libGluZzsvZWRpdG9yLXByZXZpZXctYWN0aXZlLXNpZGUvLnRlc3QoYS5jbGFzc05hbWUpJiZOKGUpfWZ1bmN0aW9uIEUoZSx0LG4scil7aWYoIS9lZGl0b3ItcHJldmlldy1hY3RpdmUvLnRlc3QoZS5nZXRXcmFwcGVyRWxlbWVudCgpLmxhc3RDaGlsZC5jbGFzc05hbWUpKXt2YXIgaSxvPW5bMF0sYT1uWzFdLGw9ZS5nZXRDdXJzb3IoInN0YXJ0Iikscz1lLmdldEN1cnNvcigiZW5kIik7ciYmKGE9YS5yZXBsYWNlKCIjdXJsIyIscikpLHQ/KGk9ZS5nZXRMaW5lKGwubGluZSksbz1pLnNsaWNlKDAsbC5jaCksYT1pLnNsaWNlKGwuY2gpLGUucmVwbGFjZVJhbmdlKG8rYSx7bGluZTpsLmxpbmUsY2g6MH0pKTooaT1lLmdldFNlbGVjdGlvbigpLGUucmVwbGFjZVNlbGVjdGlvbihvK2krYSksbC5jaCs9by5sZW5ndGgsbCE9PXMmJihzLmNoKz1vLmxlbmd0aCkpLGUuc2V0U2VsZWN0aW9uKGwscyksZS5mb2N1cygpfX1mdW5jdGlvbiBPKGUsdCxuKXtpZighL2VkaXRvci1wcmV2aWV3LWFjdGl2ZS8udGVzdChlLmdldFdyYXBwZXJFbGVtZW50KCkubGFzdENoaWxkLmNsYXNzTmFtZSkpe2Zvcih2YXIgcj1lLmdldEN1cnNvcigic3RhcnQiKSxpPWUuZ2V0Q3Vyc29yKCJlbmQiKSxvPXIubGluZTtvPD1pLmxpbmU7bysrKSFmdW5jdGlvbihyKXt2YXIgaT1lLmdldExpbmUociksbz1pLnNlYXJjaCgvW14jXS8pO2k9dm9pZCAwIT09dD8wPj1vPyJiaWdnZXIiPT10PyIjIyMjIyMgIitpOiIjICIraTo2PT1vJiYic21hbGxlciI9PXQ/aS5zdWJzdHIoNyk6MT09byYmImJpZ2dlciI9PXQ/aS5zdWJzdHIoMik6ImJpZ2dlciI9PXQ/aS5zdWJzdHIoMSk6IiMiK2k6MT09bj8wPj1vPyIjICIraTpvPT1uP2kuc3Vic3RyKG8rMSk6IiMgIitpLnN1YnN0cihvKzEpOjI9PW4/MD49bz8iIyMgIitpOm89PW4/aS5zdWJzdHIobysxKToiIyMgIitpLnN1YnN0cihvKzEpOjA+PW8/IiMjIyAiK2k6bz09bj9pLnN1YnN0cihvKzEpOiIjIyMgIitpLnN1YnN0cihvKzEpLGUucmVwbGFjZVJhbmdlKGkse2xpbmU6cixjaDowfSx7bGluZTpyLGNoOjk5OTk5OTk5OTk5OTk5fSl9KG8pO2UuZm9jdXMoKX19ZnVuY3Rpb24gSShlLHQpe2lmKCEvZWRpdG9yLXByZXZpZXctYWN0aXZlLy50ZXN0KGUuZ2V0V3JhcHBlckVsZW1lbnQoKS5sYXN0Q2hpbGQuY2xhc3NOYW1lKSl7Zm9yKHZhciBuPWwoZSkscj1lLmdldEN1cnNvcigic3RhcnQiKSxpPWUuZ2V0Q3Vyc29yKCJlbmQiKSxvPXtxdW90ZTovXihccyopXD5ccysvLCJ1bm9yZGVyZWQtbGlzdCI6L14oXHMqKShcKnxcLXxcKylccysvLCJvcmRlcmVkLWxpc3QiOi9eKFxzKilcZCtcLlxzKy99LGE9e3F1b3RlOiI+ICIsInVub3JkZXJlZC1saXN0IjoiKiAiLCJvcmRlcmVkLWxpc3QiOiIxLiAifSxzPXIubGluZTtzPD1pLmxpbmU7cysrKSFmdW5jdGlvbihyKXt2YXIgaT1lLmdldExpbmUocik7aT1uW3RdP2kucmVwbGFjZShvW3RdLCIkMSIpOmFbdF0raSxlLnJlcGxhY2VSYW5nZShpLHtsaW5lOnIsY2g6MH0se2xpbmU6cixjaDo5OTk5OTk5OTk5OTk5OX0pfShzKTtlLmZvY3VzKCl9fWZ1bmN0aW9uIFAoZSx0LG4scil7aWYoIS9lZGl0b3ItcHJldmlldy1hY3RpdmUvLnRlc3QoZS5jb2RlbWlycm9yLmdldFdyYXBwZXJFbGVtZW50KCkubGFzdENoaWxkLmNsYXNzTmFtZSkpe3I9InVuZGVmaW5lZCI9PXR5cGVvZiByP246cjt2YXIgaSxvPWUuY29kZW1pcnJvcixhPWwobykscz1uLGM9cix1PW8uZ2V0Q3Vyc29yKCJzdGFydCIpLGY9by5nZXRDdXJzb3IoImVuZCIpO2FbdF0/KGk9by5nZXRMaW5lKHUubGluZSkscz1pLnNsaWNlKDAsdS5jaCksYz1pLnNsaWNlKHUuY2gpLCJib2xkIj09dD8ocz1zLnJlcGxhY2UoLyhcKlwqfF9fKSg/IVtcc1xTXSooXCpcKnxfXykpLywiIiksYz1jLnJlcGxhY2UoLyhcKlwqfF9fKS8sIiIpKToiaXRhbGljIj09dD8ocz1zLnJlcGxhY2UoLyhcKnxfKSg/IVtcc1xTXSooXCp8XykpLywiIiksYz1jLnJlcGxhY2UoLyhcKnxfKS8sIiIpKToic3RyaWtldGhyb3VnaCI9PXQmJihzPXMucmVwbGFjZSgvKFwqXCp8fn4pKD8hW1xzXFNdKihcKlwqfH5+KSkvLCIiKSxjPWMucmVwbGFjZSgvKFwqXCp8fn4pLywiIikpLG8ucmVwbGFjZVJhbmdlKHMrYyx7bGluZTp1LmxpbmUsY2g6MH0se2xpbmU6dS5saW5lLGNoOjk5OTk5OTk5OTk5OTk5fSksImJvbGQiPT10fHwic3RyaWtldGhyb3VnaCI9PXQ/KHUuY2gtPTIsdSE9PWYmJihmLmNoLT0yKSk6Iml0YWxpYyI9PXQmJih1LmNoLT0xLHUhPT1mJiYoZi5jaC09MSkpKTooaT1vLmdldFNlbGVjdGlvbigpLCJib2xkIj09dD8oaT1pLnNwbGl0KCIqKiIpLmpvaW4oIiIpLGk9aS5zcGxpdCgiX18iKS5qb2luKCIiKSk6Iml0YWxpYyI9PXQ/KGk9aS5zcGxpdCgiKiIpLmpvaW4oIiIpLGk9aS5zcGxpdCgiXyIpLmpvaW4oIiIpKToic3RyaWtldGhyb3VnaCI9PXQmJihpPWkuc3BsaXQoIn5+Iikuam9pbigiIikpLG8ucmVwbGFjZVNlbGVjdGlvbihzK2krYyksdS5jaCs9bi5sZW5ndGgsZi5jaD11LmNoK2kubGVuZ3RoKSxvLnNldFNlbGVjdGlvbih1LGYpLG8uZm9jdXMoKX19ZnVuY3Rpb24gUihlKXtpZighL2VkaXRvci1wcmV2aWV3LWFjdGl2ZS8udGVzdChlLmdldFdyYXBwZXJFbGVtZW50KCkubGFzdENoaWxkLmNsYXNzTmFtZSkpZm9yKHZhciB0LG49ZS5nZXRDdXJzb3IoInN0YXJ0Iikscj1lLmdldEN1cnNvcigiZW5kIiksaT1uLmxpbmU7aTw9ci5saW5lO2krKyl0PWUuZ2V0TGluZShpKSx0PXQucmVwbGFjZSgvXlsgXSooWyMgXSt8XCp8XC18Wz4gXSt8WzAtOV0rKC58XCkpKVsgXSovLCIiKSxlLnJlcGxhY2VSYW5nZSh0LHtsaW5lOmksY2g6MH0se2xpbmU6aSxjaDo5OTk5OTk5OTk5OTk5OX0pfWZ1bmN0aW9uIEQoZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYodFtuXWluc3RhbmNlb2YgQXJyYXk/ZVtuXT10W25dLmNvbmNhdChlW25daW5zdGFuY2VvZiBBcnJheT9lW25dOltdKTpudWxsIT09dFtuXSYmIm9iamVjdCI9PXR5cGVvZiB0W25dJiZ0W25dLmNvbnN0cnVjdG9yPT09T2JqZWN0P2Vbbl09RChlW25dfHx7fSx0W25dKTplW25dPXRbbl0pO3JldHVybiBlfWZ1bmN0aW9uIEgoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllPUQoZSxhcmd1bWVudHNbdF0pO3JldHVybiBlfWZ1bmN0aW9uIFcoZSl7dmFyIHQ9L1thLXpBLVowLTlfXHUwMzkyLVx1MDNjOVx1MDQxMC1cdTA0RjldK3xbXHU0RTAwLVx1OUZGRlx1MzQwMC1cdTRkYmZcdWY5MDAtXHVmYWZmXHUzMDQwLVx1MzA5Zlx1YWMwMC1cdWQ3YWZdKy9nLG49ZS5tYXRjaCh0KSxyPTA7aWYobnVsbD09PW4pcmV0dXJuIHI7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspcis9bltpXS5jaGFyQ29kZUF0KDApPj0xOTk2OD9uW2ldLmxlbmd0aDoxO3JldHVybiByfWZ1bmN0aW9uIEIoZSl7ZT1lfHx7fSxlLnBhcmVudD10aGlzO3ZhciB0PSEwO2lmKGUuYXV0b0Rvd25sb2FkRm9udEF3ZXNvbWU9PT0hMSYmKHQ9ITEpLGUuYXV0b0Rvd25sb2FkRm9udEF3ZXNvbWUhPT0hMClmb3IodmFyIG49ZG9jdW1lbnQuc3R5bGVTaGVldHMscj0wO3I8bi5sZW5ndGg7cisrKW5bcl0uaHJlZiYmbltyXS5ocmVmLmluZGV4T2YoIi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLyIpPi0xJiYodD0hMSk7aWYodCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpO2kucmVsPSJzdHlsZXNoZWV0IixpLmhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lL2xhdGVzdC9jc3MvZm9udC1hd2Vzb21lLm1pbi5jc3MiLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoaSl9aWYoZS5lbGVtZW50KXRoaXMuZWxlbWVudD1lLmVsZW1lbnQ7ZWxzZSBpZihudWxsPT09ZS5lbGVtZW50KXJldHVybiB2b2lkIGNvbnNvbGUubG9nKCJTaW1wbGVNREU6IEVycm9yLiBObyBlbGVtZW50IHdhcyBmb3VuZC4iKTtpZih2b2lkIDA9PT1lLnRvb2xiYXIpe2UudG9vbGJhcj1bXTtmb3IodmFyIG8gaW4gSylLLmhhc093blByb3BlcnR5KG8pJiYoLTEhPW8uaW5kZXhPZigic2VwYXJhdG9yLSIpJiZlLnRvb2xiYXIucHVzaCgifCIpLChLW29dWyJkZWZhdWx0Il09PT0hMHx8ZS5zaG93SWNvbnMmJmUuc2hvd0ljb25zLmNvbnN0cnVjdG9yPT09QXJyYXkmJi0xIT1lLnNob3dJY29ucy5pbmRleE9mKG8pKSYmZS50b29sYmFyLnB1c2gobykpfWUuaGFzT3duUHJvcGVydHkoInN0YXR1cyIpfHwoZS5zdGF0dXM9WyJhdXRvc2F2ZSIsImxpbmVzIiwid29yZHMiLCJjdXJzb3IiXSksZS5wcmV2aWV3UmVuZGVyfHwoZS5wcmV2aWV3UmVuZGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcmVudC5tYXJrZG93bihlKX0pLGUucGFyc2luZ0NvbmZpZz1IKHtoaWdobGlnaHRGb3JtYXR0aW5nOiEwfSxlLnBhcnNpbmdDb25maWd8fHt9KSxlLmluc2VydFRleHRzPUgoe30sWCxlLmluc2VydFRleHRzfHx7fSksZS5wcm9tcHRUZXh0cz1aLGUuYmxvY2tTdHlsZXM9SCh7fSxKLGUuYmxvY2tTdHlsZXN8fHt9KSxlLnNob3J0Y3V0cz1IKHt9LEcsZS5zaG9ydGN1dHN8fHt9KSx2b2lkIDAhPWUuYXV0b3NhdmUmJnZvaWQgMCE9ZS5hdXRvc2F2ZS51bmlxdWVfaWQmJiIiIT1lLmF1dG9zYXZlLnVuaXF1ZV9pZCYmKGUuYXV0b3NhdmUudW5pcXVlSWQ9ZS5hdXRvc2F2ZS51bmlxdWVfaWQpLHRoaXMub3B0aW9ucz1lLHRoaXMucmVuZGVyKCksIWUuaW5pdGlhbFZhbHVlfHx0aGlzLm9wdGlvbnMuYXV0b3NhdmUmJnRoaXMub3B0aW9ucy5hdXRvc2F2ZS5mb3VuZFNhdmVkVmFsdWU9PT0hMHx8dGhpcy52YWx1ZShlLmluaXRpYWxWYWx1ZSl9ZnVuY3Rpb24gXygpe2lmKCJvYmplY3QiIT10eXBlb2YgbG9jYWxTdG9yYWdlKXJldHVybiExO3RyeXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgic21kZV9sb2NhbFN0b3JhZ2UiLDEpLGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJzbWRlX2xvY2FsU3RvcmFnZSIpfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEwfXZhciBGPWUoImNvZGVtaXJyb3IiKTtlKCJjb2RlbWlycm9yL2FkZG9uL2VkaXQvY29udGludWVsaXN0LmpzIiksZSgiLi9jb2RlbWlycm9yL3RhYmxpc3QiKSxlKCJjb2RlbWlycm9yL2FkZG9uL2Rpc3BsYXkvZnVsbHNjcmVlbi5qcyIpLGUoImNvZGVtaXJyb3IvbW9kZS9tYXJrZG93bi9tYXJrZG93bi5qcyIpLGUoImNvZGVtaXJyb3IvYWRkb24vbW9kZS9vdmVybGF5LmpzIiksZSgiY29kZW1pcnJvci9hZGRvbi9kaXNwbGF5L3BsYWNlaG9sZGVyLmpzIiksZSgiY29kZW1pcnJvci9hZGRvbi9zZWxlY3Rpb24vbWFyay1zZWxlY3Rpb24uanMiKSxlKCJjb2RlbWlycm9yL21vZGUvZ2ZtL2dmbS5qcyIpLGUoImNvZGVtaXJyb3IvbW9kZS94bWwveG1sLmpzIik7dmFyIHo9ZSgiY29kZW1pcnJvci1zcGVsbC1jaGVja2VyIiksaj1lKCJtYXJrZWQiKSxVPS9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSxxPXt0b2dnbGVCb2xkOmMsdG9nZ2xlSXRhbGljOnUsZHJhd0xpbms6ayx0b2dnbGVIZWFkaW5nU21hbGxlcjpwLHRvZ2dsZUhlYWRpbmdCaWdnZXI6bSxkcmF3SW1hZ2U6Uyx0b2dnbGVCbG9ja3F1b3RlOmQsdG9nZ2xlT3JkZXJlZExpc3Q6Yix0b2dnbGVVbm9yZGVyZWRMaXN0OngsdG9nZ2xlQ29kZUJsb2NrOmgsdG9nZ2xlUHJldmlldzpBLHRvZ2dsZVN0cmlrZXRocm91Z2g6Zix0b2dnbGVIZWFkaW5nMTpnLHRvZ2dsZUhlYWRpbmcyOnYsdG9nZ2xlSGVhZGluZzM6eSxjbGVhbkJsb2NrOncsZHJhd1RhYmxlOkMsZHJhd0hvcml6b250YWxSdWxlOkwsdW5kbzpULHJlZG86TSx0b2dnbGVTaWRlQnlTaWRlOk4sdG9nZ2xlRnVsbFNjcmVlbjpzfSxHPXt0b2dnbGVCb2xkOiJDbWQtQiIsdG9nZ2xlSXRhbGljOiJDbWQtSSIsZHJhd0xpbms6IkNtZC1LIix0b2dnbGVIZWFkaW5nU21hbGxlcjoiQ21kLUgiLHRvZ2dsZUhlYWRpbmdCaWdnZXI6IlNoaWZ0LUNtZC1IIixjbGVhbkJsb2NrOiJDbWQtRSIsZHJhd0ltYWdlOiJDbWQtQWx0LUkiLHRvZ2dsZUJsb2NrcXVvdGU6IkNtZC0nIix0b2dnbGVPcmRlcmVkTGlzdDoiQ21kLUFsdC1MIix0b2dnbGVVbm9yZGVyZWRMaXN0OiJDbWQtTCIsdG9nZ2xlQ29kZUJsb2NrOiJDbWQtQWx0LUMiLHRvZ2dsZVByZXZpZXc6IkNtZC1QIix0b2dnbGVTaWRlQnlTaWRlOiJGOSIsdG9nZ2xlRnVsbFNjcmVlbjoiRjExIn0sWT1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gcSlpZihxW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4gbnVsbH0sJD1mdW5jdGlvbigpe3ZhciBlPSExO3JldHVybiBmdW5jdGlvbih0KXsoLyhhbmRyb2lkfGJiXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2kudGVzdCh0KXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1wtKG58dSl8YzU1XC98Y2FwaXxjY3dhfGNkbVwtfGNlbGx8Y2h0bXxjbGRjfGNtZFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXC01fGdcLW1vfGdvKFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFwtKG18cHx0KXxoZWlcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXC1jfGh0KGMoXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XC18XC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XC8pfGtsb258a3B0IHxrd2NcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XC8oa3xsfHUpfDUwfDU0fFwtW2Etd10pfGxpYnd8bHlueHxtMVwtd3xtM2dhfG01MFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XC1nfHFhXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFwtWzItN118aVwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXC18b298cFwtKXxzZGtcL3xzZShjKFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFwtfHNoYXJ8c2llKFwtfG0pfHNrXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcLXx2XC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcLXx0ZGdcLXx0ZWwoaXxtKXx0aW1cLXx0XC1tb3x0byhwbHxzaCl8dHMoNzB8bVwtfG0zfG01KXx0eFwtOXx1cChcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcLXx5b3VyfHpldG98enRlXC0vaS50ZXN0KHQuc3Vic3RyKDAsNCkpKSYmKGU9ITApOwp9KG5hdmlnYXRvci51c2VyQWdlbnR8fG5hdmlnYXRvci52ZW5kb3J8fHdpbmRvdy5vcGVyYSksZX0sVj0iIixLPXtib2xkOntuYW1lOiJib2xkIixhY3Rpb246YyxjbGFzc05hbWU6ImZhIGZhLWJvbGQiLHRpdGxlOiJCb2xkIiwiZGVmYXVsdCI6ITB9LGl0YWxpYzp7bmFtZToiaXRhbGljIixhY3Rpb246dSxjbGFzc05hbWU6ImZhIGZhLWl0YWxpYyIsdGl0bGU6Ikl0YWxpYyIsImRlZmF1bHQiOiEwfSxzdHJpa2V0aHJvdWdoOntuYW1lOiJzdHJpa2V0aHJvdWdoIixhY3Rpb246ZixjbGFzc05hbWU6ImZhIGZhLXN0cmlrZXRocm91Z2giLHRpdGxlOiJTdHJpa2V0aHJvdWdoIn0saGVhZGluZzp7bmFtZToiaGVhZGluZyIsYWN0aW9uOnAsY2xhc3NOYW1lOiJmYSBmYS1oZWFkZXIiLHRpdGxlOiJIZWFkaW5nIiwiZGVmYXVsdCI6ITB9LCJoZWFkaW5nLXNtYWxsZXIiOntuYW1lOiJoZWFkaW5nLXNtYWxsZXIiLGFjdGlvbjpwLGNsYXNzTmFtZToiZmEgZmEtaGVhZGVyIGZhLWhlYWRlci14IGZhLWhlYWRlci1zbWFsbGVyIix0aXRsZToiU21hbGxlciBIZWFkaW5nIn0sImhlYWRpbmctYmlnZ2VyIjp7bmFtZToiaGVhZGluZy1iaWdnZXIiLGFjdGlvbjptLGNsYXNzTmFtZToiZmEgZmEtaGVhZGVyIGZhLWhlYWRlci14IGZhLWhlYWRlci1iaWdnZXIiLHRpdGxlOiJCaWdnZXIgSGVhZGluZyJ9LCJoZWFkaW5nLTEiOntuYW1lOiJoZWFkaW5nLTEiLGFjdGlvbjpnLGNsYXNzTmFtZToiZmEgZmEtaGVhZGVyIGZhLWhlYWRlci14IGZhLWhlYWRlci0xIix0aXRsZToiQmlnIEhlYWRpbmcifSwiaGVhZGluZy0yIjp7bmFtZToiaGVhZGluZy0yIixhY3Rpb246dixjbGFzc05hbWU6ImZhIGZhLWhlYWRlciBmYS1oZWFkZXIteCBmYS1oZWFkZXItMiIsdGl0bGU6Ik1lZGl1bSBIZWFkaW5nIn0sImhlYWRpbmctMyI6e25hbWU6ImhlYWRpbmctMyIsYWN0aW9uOnksY2xhc3NOYW1lOiJmYSBmYS1oZWFkZXIgZmEtaGVhZGVyLXggZmEtaGVhZGVyLTMiLHRpdGxlOiJTbWFsbCBIZWFkaW5nIn0sInNlcGFyYXRvci0xIjp7bmFtZToic2VwYXJhdG9yLTEifSxjb2RlOntuYW1lOiJjb2RlIixhY3Rpb246aCxjbGFzc05hbWU6ImZhIGZhLWNvZGUiLHRpdGxlOiJDb2RlIn0scXVvdGU6e25hbWU6InF1b3RlIixhY3Rpb246ZCxjbGFzc05hbWU6ImZhIGZhLXF1b3RlLWxlZnQiLHRpdGxlOiJRdW90ZSIsImRlZmF1bHQiOiEwfSwidW5vcmRlcmVkLWxpc3QiOntuYW1lOiJ1bm9yZGVyZWQtbGlzdCIsYWN0aW9uOngsY2xhc3NOYW1lOiJmYSBmYS1saXN0LXVsIix0aXRsZToiR2VuZXJpYyBMaXN0IiwiZGVmYXVsdCI6ITB9LCJvcmRlcmVkLWxpc3QiOntuYW1lOiJvcmRlcmVkLWxpc3QiLGFjdGlvbjpiLGNsYXNzTmFtZToiZmEgZmEtbGlzdC1vbCIsdGl0bGU6Ik51bWJlcmVkIExpc3QiLCJkZWZhdWx0IjohMH0sImNsZWFuLWJsb2NrIjp7bmFtZToiY2xlYW4tYmxvY2siLGFjdGlvbjp3LGNsYXNzTmFtZToiZmEgZmEtZXJhc2VyIGZhLWNsZWFuLWJsb2NrIix0aXRsZToiQ2xlYW4gYmxvY2sifSwic2VwYXJhdG9yLTIiOntuYW1lOiJzZXBhcmF0b3ItMiJ9LGxpbms6e25hbWU6ImxpbmsiLGFjdGlvbjprLGNsYXNzTmFtZToiZmEgZmEtbGluayIsdGl0bGU6IkNyZWF0ZSBMaW5rIiwiZGVmYXVsdCI6ITB9LGltYWdlOntuYW1lOiJpbWFnZSIsYWN0aW9uOlMsY2xhc3NOYW1lOiJmYSBmYS1waWN0dXJlLW8iLHRpdGxlOiJJbnNlcnQgSW1hZ2UiLCJkZWZhdWx0IjohMH0sdGFibGU6e25hbWU6InRhYmxlIixhY3Rpb246QyxjbGFzc05hbWU6ImZhIGZhLXRhYmxlIix0aXRsZToiSW5zZXJ0IFRhYmxlIn0sImhvcml6b250YWwtcnVsZSI6e25hbWU6Imhvcml6b250YWwtcnVsZSIsYWN0aW9uOkwsY2xhc3NOYW1lOiJmYSBmYS1taW51cyIsdGl0bGU6Ikluc2VydCBIb3Jpem9udGFsIExpbmUifSwic2VwYXJhdG9yLTMiOntuYW1lOiJzZXBhcmF0b3ItMyJ9LHByZXZpZXc6e25hbWU6InByZXZpZXciLGFjdGlvbjpBLGNsYXNzTmFtZToiZmEgZmEtZXllIG5vLWRpc2FibGUiLHRpdGxlOiJUb2dnbGUgUHJldmlldyIsImRlZmF1bHQiOiEwfSwic2lkZS1ieS1zaWRlIjp7bmFtZToic2lkZS1ieS1zaWRlIixhY3Rpb246TixjbGFzc05hbWU6ImZhIGZhLWNvbHVtbnMgbm8tZGlzYWJsZSBuby1tb2JpbGUiLHRpdGxlOiJUb2dnbGUgU2lkZSBieSBTaWRlIiwiZGVmYXVsdCI6ITB9LGZ1bGxzY3JlZW46e25hbWU6ImZ1bGxzY3JlZW4iLGFjdGlvbjpzLGNsYXNzTmFtZToiZmEgZmEtYXJyb3dzLWFsdCBuby1kaXNhYmxlIG5vLW1vYmlsZSIsdGl0bGU6IlRvZ2dsZSBGdWxsc2NyZWVuIiwiZGVmYXVsdCI6ITB9LCJzZXBhcmF0b3ItNCI6e25hbWU6InNlcGFyYXRvci00In0sZ3VpZGU6e25hbWU6Imd1aWRlIixhY3Rpb246Imh0dHBzOi8vc2ltcGxlbWRlLmNvbS9tYXJrZG93bi1ndWlkZSIsY2xhc3NOYW1lOiJmYSBmYS1xdWVzdGlvbi1jaXJjbGUiLHRpdGxlOiJNYXJrZG93biBHdWlkZSIsImRlZmF1bHQiOiEwfSwic2VwYXJhdG9yLTUiOntuYW1lOiJzZXBhcmF0b3ItNSJ9LHVuZG86e25hbWU6InVuZG8iLGFjdGlvbjpULGNsYXNzTmFtZToiZmEgZmEtdW5kbyBuby1kaXNhYmxlIix0aXRsZToiVW5kbyJ9LHJlZG86e25hbWU6InJlZG8iLGFjdGlvbjpNLGNsYXNzTmFtZToiZmEgZmEtcmVwZWF0IG5vLWRpc2FibGUiLHRpdGxlOiJSZWRvIn19LFg9e2xpbms6WyJbIiwiXSgjdXJsIykiXSxpbWFnZTpbIiFbXSgiLCIjdXJsIykiXSx0YWJsZTpbIiIsIlxuXG58IENvbHVtbiAxIHwgQ29sdW1uIDIgfCBDb2x1bW4gMyB8XG58IC0tLS0tLS0tIHwgLS0tLS0tLS0gfCAtLS0tLS0tLSB8XG58IFRleHQgICAgIHwgVGV4dCAgICAgfCBUZXh0ICAgICB8XG5cbiJdLGhvcml6b250YWxSdWxlOlsiIiwiXG5cbi0tLS0tXG5cbiJdfSxaPXtsaW5rOiJVUkwgZm9yIHRoZSBsaW5rOiIsaW1hZ2U6IlVSTCBvZiB0aGUgaW1hZ2U6In0sSj17Ym9sZDoiKioiLGNvZGU6ImBgYCIsaXRhbGljOiIqIn07Qi5wcm90b3R5cGUubWFya2Rvd249ZnVuY3Rpb24oZSl7aWYoail7dmFyIHQ9e307cmV0dXJuIHRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLnJlbmRlcmluZ0NvbmZpZyYmdGhpcy5vcHRpb25zLnJlbmRlcmluZ0NvbmZpZy5zaW5nbGVMaW5lQnJlYWtzPT09ITE/dC5icmVha3M9ITE6dC5icmVha3M9ITAsdGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMucmVuZGVyaW5nQ29uZmlnJiZ0aGlzLm9wdGlvbnMucmVuZGVyaW5nQ29uZmlnLmNvZGVTeW50YXhIaWdobGlnaHRpbmc9PT0hMCYmd2luZG93LmhsanMmJih0LmhpZ2hsaWdodD1mdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LmhsanMuaGlnaGxpZ2h0QXV0byhlKS52YWx1ZX0pLGouc2V0T3B0aW9ucyh0KSxqKGUpfX0sQi5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUpe2lmKGV8fChlPXRoaXMuZWxlbWVudHx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRleHRhcmVhIilbMF0pLCF0aGlzLl9yZW5kZXJlZHx8dGhpcy5fcmVuZGVyZWQhPT1lKXt0aGlzLmVsZW1lbnQ9ZTt2YXIgdD10aGlzLm9wdGlvbnMsbj10aGlzLGk9e307Zm9yKHZhciBvIGluIHQuc2hvcnRjdXRzKW51bGwhPT10LnNob3J0Y3V0c1tvXSYmbnVsbCE9PXFbb10mJiFmdW5jdGlvbihlKXtpW3IodC5zaG9ydGN1dHNbZV0pXT1mdW5jdGlvbigpe3FbZV0obil9fShvKTtpLkVudGVyPSJuZXdsaW5lQW5kSW5kZW50Q29udGludWVNYXJrZG93bkxpc3QiLGkuVGFiPSJ0YWJBbmRJbmRlbnRNYXJrZG93bkxpc3QiLGlbIlNoaWZ0LVRhYiJdPSJzaGlmdFRhYkFuZFVuaW5kZW50TWFya2Rvd25MaXN0IixpLkVzYz1mdW5jdGlvbihlKXtlLmdldE9wdGlvbigiZnVsbFNjcmVlbiIpJiZzKG4pfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIixmdW5jdGlvbihlKXtlPWV8fHdpbmRvdy5ldmVudCwyNz09ZS5rZXlDb2RlJiZuLmNvZGVtaXJyb3IuZ2V0T3B0aW9uKCJmdWxsU2NyZWVuIikmJnMobil9LCExKTt2YXIgYSxsO2lmKHQuc3BlbGxDaGVja2VyIT09ITE/KGE9InNwZWxsLWNoZWNrZXIiLGw9dC5wYXJzaW5nQ29uZmlnLGwubmFtZT0iZ2ZtIixsLmdpdEh1YlNwaWNlPSExLHooe2NvZGVNaXJyb3JJbnN0YW5jZTpGfSkpOihhPXQucGFyc2luZ0NvbmZpZyxhLm5hbWU9ImdmbSIsYS5naXRIdWJTcGljZT0hMSksdGhpcy5jb2RlbWlycm9yPUYuZnJvbVRleHRBcmVhKGUse21vZGU6YSxiYWNrZHJvcDpsLHRoZW1lOiJwYXBlciIsdGFiU2l6ZTp2b2lkIDAhPXQudGFiU2l6ZT90LnRhYlNpemU6MixpbmRlbnRVbml0OnZvaWQgMCE9dC50YWJTaXplP3QudGFiU2l6ZToyLGluZGVudFdpdGhUYWJzOnQuaW5kZW50V2l0aFRhYnMhPT0hMSxsaW5lTnVtYmVyczohMSxhdXRvZm9jdXM6dC5hdXRvZm9jdXM9PT0hMCxleHRyYUtleXM6aSxsaW5lV3JhcHBpbmc6dC5saW5lV3JhcHBpbmchPT0hMSxhbGxvd0Ryb3BGaWxlVHlwZXM6WyJ0ZXh0L3BsYWluIl0scGxhY2Vob2xkZXI6dC5wbGFjZWhvbGRlcnx8ZS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIil8fCIiLHN0eWxlU2VsZWN0ZWRUZXh0OnZvaWQgMCE9dC5zdHlsZVNlbGVjdGVkVGV4dD90LnN0eWxlU2VsZWN0ZWRUZXh0OiEwfSksdC5mb3JjZVN5bmM9PT0hMCl7dmFyIGM9dGhpcy5jb2RlbWlycm9yO2Mub24oImNoYW5nZSIsZnVuY3Rpb24oKXtjLnNhdmUoKX0pfXRoaXMuZ3VpPXt9LHQudG9vbGJhciE9PSExJiYodGhpcy5ndWkudG9vbGJhcj10aGlzLmNyZWF0ZVRvb2xiYXIoKSksdC5zdGF0dXMhPT0hMSYmKHRoaXMuZ3VpLnN0YXR1c2Jhcj10aGlzLmNyZWF0ZVN0YXR1c2JhcigpKSx2b2lkIDAhPXQuYXV0b3NhdmUmJnQuYXV0b3NhdmUuZW5hYmxlZD09PSEwJiZ0aGlzLmF1dG9zYXZlKCksdGhpcy5ndWkuc2lkZUJ5U2lkZT10aGlzLmNyZWF0ZVNpZGVCeVNpZGUoKSx0aGlzLl9yZW5kZXJlZD10aGlzLmVsZW1lbnQ7dmFyIHU9dGhpcy5jb2RlbWlycm9yO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt1LnJlZnJlc2goKX0uYmluZCh1KSwwKX19LEIucHJvdG90eXBlLmF1dG9zYXZlPWZ1bmN0aW9uKCl7aWYoXygpKXt2YXIgZT10aGlzO2lmKHZvaWQgMD09dGhpcy5vcHRpb25zLmF1dG9zYXZlLnVuaXF1ZUlkfHwiIj09dGhpcy5vcHRpb25zLmF1dG9zYXZlLnVuaXF1ZUlkKXJldHVybiB2b2lkIGNvbnNvbGUubG9nKCJTaW1wbGVNREU6IFlvdSBtdXN0IHNldCBhIHVuaXF1ZUlkIHRvIHVzZSB0aGUgYXV0b3NhdmUgZmVhdHVyZSIpO251bGwhPWUuZWxlbWVudC5mb3JtJiZ2b2lkIDAhPWUuZWxlbWVudC5mb3JtJiZlLmVsZW1lbnQuZm9ybS5hZGRFdmVudExpc3RlbmVyKCJzdWJtaXQiLGZ1bmN0aW9uKCl7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInNtZGVfIitlLm9wdGlvbnMuYXV0b3NhdmUudW5pcXVlSWQpfSksdGhpcy5vcHRpb25zLmF1dG9zYXZlLmxvYWRlZCE9PSEwJiYoInN0cmluZyI9PXR5cGVvZiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic21kZV8iK3RoaXMub3B0aW9ucy5hdXRvc2F2ZS51bmlxdWVJZCkmJiIiIT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic21kZV8iK3RoaXMub3B0aW9ucy5hdXRvc2F2ZS51bmlxdWVJZCkmJih0aGlzLmNvZGVtaXJyb3Iuc2V0VmFsdWUobG9jYWxTdG9yYWdlLmdldEl0ZW0oInNtZGVfIit0aGlzLm9wdGlvbnMuYXV0b3NhdmUudW5pcXVlSWQpKSx0aGlzLm9wdGlvbnMuYXV0b3NhdmUuZm91bmRTYXZlZFZhbHVlPSEwKSx0aGlzLm9wdGlvbnMuYXV0b3NhdmUubG9hZGVkPSEwKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgic21kZV8iK3RoaXMub3B0aW9ucy5hdXRvc2F2ZS51bmlxdWVJZCxlLnZhbHVlKCkpO3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdXRvc2F2ZWQiKTtpZihudWxsIT10JiZ2b2lkIDAhPXQmJiIiIT10KXt2YXIgbj1uZXcgRGF0ZSxyPW4uZ2V0SG91cnMoKSxpPW4uZ2V0TWludXRlcygpLG89ImFtIixhPXI7YT49MTImJihhPXItMTIsbz0icG0iKSwwPT1hJiYoYT0xMiksaT0xMD5pPyIwIitpOmksdC5pbm5lckhUTUw9IkF1dG9zYXZlZDogIithKyI6IitpKyIgIitvfXRoaXMuYXV0b3NhdmVUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UuYXV0b3NhdmUoKX0sdGhpcy5vcHRpb25zLmF1dG9zYXZlLmRlbGF5fHwxZTQpfWVsc2UgY29uc29sZS5sb2coIlNpbXBsZU1ERTogbG9jYWxTdG9yYWdlIG5vdCBhdmFpbGFibGUsIGNhbm5vdCBhdXRvc2F2ZSIpfSxCLnByb3RvdHlwZS5jbGVhckF1dG9zYXZlZFZhbHVlPWZ1bmN0aW9uKCl7aWYoXygpKXtpZih2b2lkIDA9PXRoaXMub3B0aW9ucy5hdXRvc2F2ZXx8dm9pZCAwPT10aGlzLm9wdGlvbnMuYXV0b3NhdmUudW5pcXVlSWR8fCIiPT10aGlzLm9wdGlvbnMuYXV0b3NhdmUudW5pcXVlSWQpcmV0dXJuIHZvaWQgY29uc29sZS5sb2coIlNpbXBsZU1ERTogWW91IG11c3Qgc2V0IGEgdW5pcXVlSWQgdG8gY2xlYXIgdGhlIGF1dG9zYXZlIHZhbHVlIik7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInNtZGVfIit0aGlzLm9wdGlvbnMuYXV0b3NhdmUudW5pcXVlSWQpfWVsc2UgY29uc29sZS5sb2coIlNpbXBsZU1ERTogbG9jYWxTdG9yYWdlIG5vdCBhdmFpbGFibGUsIGNhbm5vdCBhdXRvc2F2ZSIpfSxCLnByb3RvdHlwZS5jcmVhdGVTaWRlQnlTaWRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb2RlbWlycm9yLHQ9ZS5nZXRXcmFwcGVyRWxlbWVudCgpLG49dC5uZXh0U2libGluZztuJiYvZWRpdG9yLXByZXZpZXctc2lkZS8udGVzdChuLmNsYXNzTmFtZSl8fChuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG4uY2xhc3NOYW1lPSJlZGl0b3ItcHJldmlldy1zaWRlIix0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sdC5uZXh0U2libGluZykpO3ZhciByPSExLGk9ITE7cmV0dXJuIGUub24oInNjcm9sbCIsZnVuY3Rpb24oZSl7aWYocilyZXR1cm4gdm9pZChyPSExKTtpPSEwO3ZhciB0PWUuZ2V0U2Nyb2xsSW5mbygpLmhlaWdodC1lLmdldFNjcm9sbEluZm8oKS5jbGllbnRIZWlnaHQsbz1wYXJzZUZsb2F0KGUuZ2V0U2Nyb2xsSW5mbygpLnRvcCkvdCxhPShuLnNjcm9sbEhlaWdodC1uLmNsaWVudEhlaWdodCkqbztuLnNjcm9sbFRvcD1hfSksbi5vbnNjcm9sbD1mdW5jdGlvbigpe2lmKGkpcmV0dXJuIHZvaWQoaT0hMSk7cj0hMDt2YXIgdD1uLnNjcm9sbEhlaWdodC1uLmNsaWVudEhlaWdodCxvPXBhcnNlRmxvYXQobi5zY3JvbGxUb3ApL3QsYT0oZS5nZXRTY3JvbGxJbmZvKCkuaGVpZ2h0LWUuZ2V0U2Nyb2xsSW5mbygpLmNsaWVudEhlaWdodCkqbztlLnNjcm9sbFRvKDAsYSl9LG59LEIucHJvdG90eXBlLmNyZWF0ZVRvb2xiYXI9ZnVuY3Rpb24oZSl7aWYoZT1lfHx0aGlzLm9wdGlvbnMudG9vbGJhcixlJiYwIT09ZS5sZW5ndGgpe3ZhciB0O2Zvcih0PTA7dDxlLmxlbmd0aDt0Kyspdm9pZCAwIT1LW2VbdF1dJiYoZVt0XT1LW2VbdF1dKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtuLmNsYXNzTmFtZT0iZWRpdG9yLXRvb2xiYXIiO3ZhciByPXRoaXMsYT17fTtmb3Ioci50b29sYmFyPWUsdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKCgiZ3VpZGUiIT1lW3RdLm5hbWV8fHIub3B0aW9ucy50b29sYmFyR3VpZGVJY29uIT09ITEpJiYhKHIub3B0aW9ucy5oaWRlSWNvbnMmJi0xIT1yLm9wdGlvbnMuaGlkZUljb25zLmluZGV4T2YoZVt0XS5uYW1lKXx8KCJmdWxsc2NyZWVuIj09ZVt0XS5uYW1lfHwic2lkZS1ieS1zaWRlIj09ZVt0XS5uYW1lKSYmJCgpKSl7aWYoInwiPT09ZVt0XSl7Zm9yKHZhciBzPSExLGM9dCsxO2M8ZS5sZW5ndGg7YysrKSJ8Ij09PWVbY118fHIub3B0aW9ucy5oaWRlSWNvbnMmJi0xIT1yLm9wdGlvbnMuaGlkZUljb25zLmluZGV4T2YoZVtjXS5uYW1lKXx8KHM9ITApO2lmKCFzKWNvbnRpbnVlfSFmdW5jdGlvbihlKXt2YXIgdDt0PSJ8Ij09PWU/bygpOmkoZSxyLm9wdGlvbnMudG9vbGJhclRpcHMsci5vcHRpb25zLnNob3J0Y3V0cyksZS5hY3Rpb24mJigiZnVuY3Rpb24iPT10eXBlb2YgZS5hY3Rpb24/dC5vbmNsaWNrPWZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxlLmFjdGlvbihyKX06InN0cmluZyI9PXR5cGVvZiBlLmFjdGlvbiYmKHQuaHJlZj1lLmFjdGlvbix0LnRhcmdldD0iX2JsYW5rIikpLGFbZS5uYW1lfHxlXT10LG4uYXBwZW5kQ2hpbGQodCl9KGVbdF0pfXIudG9vbGJhckVsZW1lbnRzPWE7dmFyIHU9dGhpcy5jb2RlbWlycm9yO3Uub24oImN1cnNvckFjdGl2aXR5IixmdW5jdGlvbigpe3ZhciBlPWwodSk7Zm9yKHZhciB0IGluIGEpIWZ1bmN0aW9uKHQpe3ZhciBuPWFbdF07ZVt0XT9uLmNsYXNzTmFtZSs9IiBhY3RpdmUiOiJmdWxsc2NyZWVuIiE9dCYmInNpZGUtYnktc2lkZSIhPXQmJihuLmNsYXNzTmFtZT1uLmNsYXNzTmFtZS5yZXBsYWNlKC9ccyphY3RpdmVccyovZywiIikpfSh0KX0pO3ZhciBmPXUuZ2V0V3JhcHBlckVsZW1lbnQoKTtyZXR1cm4gZi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuLGYpLG59fSxCLnByb3RvdHlwZS5jcmVhdGVTdGF0dXNiYXI9ZnVuY3Rpb24oZSl7ZT1lfHx0aGlzLm9wdGlvbnMuc3RhdHVzO3ZhciB0PXRoaXMub3B0aW9ucyxuPXRoaXMuY29kZW1pcnJvcjtpZihlJiYwIT09ZS5sZW5ndGgpe3ZhciByLGksbyxhPVtdO2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspaWYoaT12b2lkIDAsbz12b2lkIDAsIm9iamVjdCI9PXR5cGVvZiBlW3JdKWEucHVzaCh7Y2xhc3NOYW1lOmVbcl0uY2xhc3NOYW1lLGRlZmF1bHRWYWx1ZTplW3JdLmRlZmF1bHRWYWx1ZSxvblVwZGF0ZTplW3JdLm9uVXBkYXRlfSk7ZWxzZXt2YXIgbD1lW3JdOyJ3b3JkcyI9PT1sPyhvPWZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPVcobi5nZXRWYWx1ZSgpKX0saT1mdW5jdGlvbihlKXtlLmlubmVySFRNTD1XKG4uZ2V0VmFsdWUoKSl9KToibGluZXMiPT09bD8obz1mdW5jdGlvbihlKXtlLmlubmVySFRNTD1uLmxpbmVDb3VudCgpfSxpPWZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPW4ubGluZUNvdW50KCl9KToiY3Vyc29yIj09PWw/KG89ZnVuY3Rpb24oZSl7ZS5pbm5lckhUTUw9IjA6MCJ9LGk9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRDdXJzb3IoKTtlLmlubmVySFRNTD10LmxpbmUrIjoiK3QuY2h9KToiYXV0b3NhdmUiPT09bCYmKG89ZnVuY3Rpb24oZSl7dm9pZCAwIT10LmF1dG9zYXZlJiZ0LmF1dG9zYXZlLmVuYWJsZWQ9PT0hMCYmZS5zZXRBdHRyaWJ1dGUoImlkIiwiYXV0b3NhdmVkIil9KSxhLnB1c2goe2NsYXNzTmFtZTpsLGRlZmF1bHRWYWx1ZTpvLG9uVXBkYXRlOml9KX12YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmb3Iocy5jbGFzc05hbWU9ImVkaXRvci1zdGF0dXNiYXIiLHI9MDtyPGEubGVuZ3RoO3IrKyl7dmFyIGM9YVtyXSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTt1LmNsYXNzTmFtZT1jLmNsYXNzTmFtZSwiZnVuY3Rpb24iPT10eXBlb2YgYy5kZWZhdWx0VmFsdWUmJmMuZGVmYXVsdFZhbHVlKHUpLCJmdW5jdGlvbiI9PXR5cGVvZiBjLm9uVXBkYXRlJiZ0aGlzLmNvZGVtaXJyb3Iub24oInVwZGF0ZSIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt0Lm9uVXBkYXRlKGUpfX0odSxjKSkscy5hcHBlbmRDaGlsZCh1KX12YXIgZj10aGlzLmNvZGVtaXJyb3IuZ2V0V3JhcHBlckVsZW1lbnQoKTtyZXR1cm4gZi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzLGYubmV4dFNpYmxpbmcpLHN9fSxCLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT90aGlzLmNvZGVtaXJyb3IuZ2V0VmFsdWUoKToodGhpcy5jb2RlbWlycm9yLmdldERvYygpLnNldFZhbHVlKGUpLHRoaXMpfSxCLnRvZ2dsZUJvbGQ9YyxCLnRvZ2dsZUl0YWxpYz11LEIudG9nZ2xlU3RyaWtldGhyb3VnaD1mLEIudG9nZ2xlQmxvY2txdW90ZT1kLEIudG9nZ2xlSGVhZGluZ1NtYWxsZXI9cCxCLnRvZ2dsZUhlYWRpbmdCaWdnZXI9bSxCLnRvZ2dsZUhlYWRpbmcxPWcsQi50b2dnbGVIZWFkaW5nMj12LEIudG9nZ2xlSGVhZGluZzM9eSxCLnRvZ2dsZUNvZGVCbG9jaz1oLEIudG9nZ2xlVW5vcmRlcmVkTGlzdD14LEIudG9nZ2xlT3JkZXJlZExpc3Q9YixCLmNsZWFuQmxvY2s9dyxCLmRyYXdMaW5rPWssQi5kcmF3SW1hZ2U9UyxCLmRyYXdUYWJsZT1DLEIuZHJhd0hvcml6b250YWxSdWxlPUwsQi51bmRvPVQsQi5yZWRvPU0sQi50b2dnbGVQcmV2aWV3PUEsQi50b2dnbGVTaWRlQnlTaWRlPU4sQi50b2dnbGVGdWxsU2NyZWVuPXMsQi5wcm90b3R5cGUudG9nZ2xlQm9sZD1mdW5jdGlvbigpe2ModGhpcyl9LEIucHJvdG90eXBlLnRvZ2dsZUl0YWxpYz1mdW5jdGlvbigpe3UodGhpcyl9LEIucHJvdG90eXBlLnRvZ2dsZVN0cmlrZXRocm91Z2g9ZnVuY3Rpb24oKXtmKHRoaXMpfSxCLnByb3RvdHlwZS50b2dnbGVCbG9ja3F1b3RlPWZ1bmN0aW9uKCl7ZCh0aGlzKX0sQi5wcm90b3R5cGUudG9nZ2xlSGVhZGluZ1NtYWxsZXI9ZnVuY3Rpb24oKXtwKHRoaXMpfSxCLnByb3RvdHlwZS50b2dnbGVIZWFkaW5nQmlnZ2VyPWZ1bmN0aW9uKCl7bSh0aGlzKX0sQi5wcm90b3R5cGUudG9nZ2xlSGVhZGluZzE9ZnVuY3Rpb24oKXtnKHRoaXMpfSxCLnByb3RvdHlwZS50b2dnbGVIZWFkaW5nMj1mdW5jdGlvbigpe3YodGhpcyl9LEIucHJvdG90eXBlLnRvZ2dsZUhlYWRpbmczPWZ1bmN0aW9uKCl7eSh0aGlzKX0sQi5wcm90b3R5cGUudG9nZ2xlQ29kZUJsb2NrPWZ1bmN0aW9uKCl7aCh0aGlzKX0sQi5wcm90b3R5cGUudG9nZ2xlVW5vcmRlcmVkTGlzdD1mdW5jdGlvbigpe3godGhpcyl9LEIucHJvdG90eXBlLnRvZ2dsZU9yZGVyZWRMaXN0PWZ1bmN0aW9uKCl7Yih0aGlzKX0sQi5wcm90b3R5cGUuY2xlYW5CbG9jaz1mdW5jdGlvbigpe3codGhpcyl9LEIucHJvdG90eXBlLmRyYXdMaW5rPWZ1bmN0aW9uKCl7ayh0aGlzKX0sQi5wcm90b3R5cGUuZHJhd0ltYWdlPWZ1bmN0aW9uKCl7Uyh0aGlzKX0sQi5wcm90b3R5cGUuZHJhd1RhYmxlPWZ1bmN0aW9uKCl7Qyh0aGlzKX0sQi5wcm90b3R5cGUuZHJhd0hvcml6b250YWxSdWxlPWZ1bmN0aW9uKCl7TCh0aGlzKX0sQi5wcm90b3R5cGUudW5kbz1mdW5jdGlvbigpe1QodGhpcyl9LEIucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oKXtNKHRoaXMpfSxCLnByb3RvdHlwZS50b2dnbGVQcmV2aWV3PWZ1bmN0aW9uKCl7QSh0aGlzKX0sQi5wcm90b3R5cGUudG9nZ2xlU2lkZUJ5U2lkZT1mdW5jdGlvbigpe04odGhpcyl9LEIucHJvdG90eXBlLnRvZ2dsZUZ1bGxTY3JlZW49ZnVuY3Rpb24oKXtzKHRoaXMpfSxCLnByb3RvdHlwZS5pc1ByZXZpZXdBY3RpdmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvZGVtaXJyb3IsdD1lLmdldFdyYXBwZXJFbGVtZW50KCksbj10Lmxhc3RDaGlsZDtyZXR1cm4vZWRpdG9yLXByZXZpZXctYWN0aXZlLy50ZXN0KG4uY2xhc3NOYW1lKX0sQi5wcm90b3R5cGUuaXNTaWRlQnlTaWRlQWN0aXZlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb2RlbWlycm9yLHQ9ZS5nZXRXcmFwcGVyRWxlbWVudCgpLG49dC5uZXh0U2libGluZztyZXR1cm4vZWRpdG9yLXByZXZpZXctYWN0aXZlLXNpZGUvLnRlc3Qobi5jbGFzc05hbWUpfSxCLnByb3RvdHlwZS5pc0Z1bGxzY3JlZW5BY3RpdmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvZGVtaXJyb3I7cmV0dXJuIGUuZ2V0T3B0aW9uKCJmdWxsU2NyZWVuIil9LEIucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb2RlbWlycm9yO3JldHVybiBsKGUpfSxCLnByb3RvdHlwZS50b1RleHRBcmVhPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb2RlbWlycm9yLHQ9ZS5nZXRXcmFwcGVyRWxlbWVudCgpO3QucGFyZW50Tm9kZSYmKHRoaXMuZ3VpLnRvb2xiYXImJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmd1aS50b29sYmFyKSx0aGlzLmd1aS5zdGF0dXNiYXImJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmd1aS5zdGF0dXNiYXIpLHRoaXMuZ3VpLnNpZGVCeVNpZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmd1aS5zaWRlQnlTaWRlKSksZS50b1RleHRBcmVhKCksdGhpcy5hdXRvc2F2ZVRpbWVvdXRJZCYmKGNsZWFyVGltZW91dCh0aGlzLmF1dG9zYXZlVGltZW91dElkKSx0aGlzLmF1dG9zYXZlVGltZW91dElkPXZvaWQgMCx0aGlzLmNsZWFyQXV0b3NhdmVkVmFsdWUoKSl9LHQuZXhwb3J0cz1CfSx7Ii4vY29kZW1pcnJvci90YWJsaXN0IjoxOSxjb2RlbWlycm9yOjEwLCJjb2RlbWlycm9yLXNwZWxsLWNoZWNrZXIiOjQsImNvZGVtaXJyb3IvYWRkb24vZGlzcGxheS9mdWxsc2NyZWVuLmpzIjo1LCJjb2RlbWlycm9yL2FkZG9uL2Rpc3BsYXkvcGxhY2Vob2xkZXIuanMiOjYsImNvZGVtaXJyb3IvYWRkb24vZWRpdC9jb250aW51ZWxpc3QuanMiOjcsImNvZGVtaXJyb3IvYWRkb24vbW9kZS9vdmVybGF5LmpzIjo4LCJjb2RlbWlycm9yL2FkZG9uL3NlbGVjdGlvbi9tYXJrLXNlbGVjdGlvbi5qcyI6OSwiY29kZW1pcnJvci9tb2RlL2dmbS9nZm0uanMiOjExLCJjb2RlbWlycm9yL21vZGUvbWFya2Rvd24vbWFya2Rvd24uanMiOjEyLCJjb2RlbWlycm9yL21vZGUveG1sL3htbC5qcyI6MTQsbWFya2VkOjE3fV19LHt9LFsyMF0pKDIwKX0pOw==');
}


function resource_2e26e3325885ef587bc1b25394826717() {
    return base64_decode('Ly8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnMNCi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRQ0KDQooZnVuY3Rpb24obW9kKSB7DQogICAgaWYgKHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIpIC8vIENvbW1vbkpTDQogICAgICAgIG1vZChyZXF1aXJlKCIuLi8uLi9saWIvY29kZW1pcnJvciIpKTsNCiAgICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EDQogICAgICAgIGRlZmluZShbIi4uLy4uL2xpYi9jb2RlbWlycm9yIl0sIG1vZCk7DQogICAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudg0KICAgICAgICBtb2QoQ29kZU1pcnJvcik7DQp9KShmdW5jdGlvbihDb2RlTWlycm9yKSB7DQogICAgInVzZSBzdHJpY3QiOw0KDQogICAgQ29kZU1pcnJvci5kZWZpbmVPcHRpb24oInJ1bGVycyIsIGZhbHNlLCBmdW5jdGlvbihjbSwgdmFsKSB7DQogICAgICAgIGlmIChjbS5zdGF0ZS5ydWxlckRpdikgew0KICAgICAgICAgICAgY20uZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoY20uc3RhdGUucnVsZXJEaXYpDQogICAgICAgICAgICBjbS5zdGF0ZS5ydWxlckRpdiA9IG51bGwNCiAgICAgICAgICAgIGNtLm9mZigicmVmcmVzaCIsIGRyYXdSdWxlcnMpDQogICAgICAgIH0NCiAgICAgICAgaWYgKHZhbCAmJiB2YWwubGVuZ3RoKSB7DQogICAgICAgICAgICBjbS5zdGF0ZS5ydWxlckRpdiA9IGNtLmRpc3BsYXkubGluZVNwYWNlLmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgY20uZGlzcGxheS5jdXJzb3JEaXYpDQogICAgICAgICAgICBjbS5zdGF0ZS5ydWxlckRpdi5jbGFzc05hbWUgPSAiQ29kZU1pcnJvci1ydWxlcnMiDQogICAgICAgICAgICBkcmF3UnVsZXJzKGNtKQ0KICAgICAgICAgICAgY20ub24oInJlZnJlc2giLCBkcmF3UnVsZXJzKQ0KICAgICAgICB9DQogICAgfSk7DQoNCiAgICBmdW5jdGlvbiBkcmF3UnVsZXJzKGNtKSB7DQogICAgICAgIGNtLnN0YXRlLnJ1bGVyRGl2LnRleHRDb250ZW50ID0gIiINCiAgICAgICAgdmFyIHZhbCA9IGNtLmdldE9wdGlvbigicnVsZXJzIik7DQogICAgICAgIHZhciBjdyA9IGNtLmRlZmF1bHRDaGFyV2lkdGgoKTsNCiAgICAgICAgdmFyIGxlZnQgPSBjbS5jaGFyQ29vcmRzKENvZGVNaXJyb3IuUG9zKGNtLmZpcnN0TGluZSgpLCAwKSwgImRpdiIpLmxlZnQ7DQogICAgICAgIGNtLnN0YXRlLnJ1bGVyRGl2LnN0eWxlLm1pbkhlaWdodCA9IChjbS5kaXNwbGF5LnNjcm9sbGVyLm9mZnNldEhlaWdodCArIDMwKSArICJweCI7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICAgICAgICBlbHQuY2xhc3NOYW1lID0gIkNvZGVNaXJyb3ItcnVsZXIiOw0KICAgICAgICAgICAgdmFyIGNvbCwgY29uZiA9IHZhbFtpXTsNCiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZiA9PSAibnVtYmVyIikgew0KICAgICAgICAgICAgICAgIGNvbCA9IGNvbmY7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGNvbCA9IGNvbmYuY29sdW1uOw0KICAgICAgICAgICAgICAgIGlmIChjb25mLmNsYXNzTmFtZSkgZWx0LmNsYXNzTmFtZSArPSAiICIgKyBjb25mLmNsYXNzTmFtZTsNCiAgICAgICAgICAgICAgICBpZiAoY29uZi5jb2xvcikgZWx0LnN0eWxlLmJvcmRlckNvbG9yID0gY29uZi5jb2xvcjsNCiAgICAgICAgICAgICAgICBpZiAoY29uZi5saW5lU3R5bGUpIGVsdC5zdHlsZS5ib3JkZXJMZWZ0U3R5bGUgPSBjb25mLmxpbmVTdHlsZTsNCiAgICAgICAgICAgICAgICBpZiAoY29uZi53aWR0aCkgZWx0LnN0eWxlLmJvcmRlckxlZnRXaWR0aCA9IGNvbmYud2lkdGg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHQuc3R5bGUubGVmdCA9IChsZWZ0ICsgY29sICogY3cpICsgInB4IjsNCiAgICAgICAgICAgIGNtLnN0YXRlLnJ1bGVyRGl2LmFwcGVuZENoaWxkKGVsdCkNCiAgICAgICAgfQ0KICAgIH0NCn0pOw==');
}


function resource_d05215a841331ea964a203916f1f5e4f() {
    return base64_decode('Ly8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnMNCi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRQ0KDQovLyBUaGlzIGlzIENvZGVNaXJyb3IgKGh0dHA6Ly9jb2RlbWlycm9yLm5ldCksIGEgY29kZSBlZGl0b3INCi8vIGltcGxlbWVudGVkIGluIEphdmFTY3JpcHQgb24gdG9wIG9mIHRoZSBicm93c2VyJ3MgRE9NLg0KLy8NCi8vIFlvdSBjYW4gZmluZCBzb21lIHRlY2huaWNhbCBiYWNrZ3JvdW5kIGZvciBzb21lIG9mIHRoZSBjb2RlIGJlbG93DQovLyBhdCBodHRwOi8vbWFyaWpuaGF2ZXJiZWtlLm5sL2Jsb2cvI2NtLWludGVybmFscyAuDQoNCihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7DQogICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOg0KICAgICAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOg0KICAgICAgICAgICAgKGdsb2JhbC5Db2RlTWlycm9yID0gZmFjdG9yeSgpKTsNCn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnOw0KDQovLyBLbHVkZ2VzIGZvciBidWdzIGFuZCBiZWhhdmlvciBkaWZmZXJlbmNlcyB0aGF0IGNhbid0IGJlIGZlYXR1cmUNCi8vIGRldGVjdGVkIGFyZSBlbmFibGVkIGJhc2VkIG9uIHVzZXJBZ2VudCBldGMgc25pZmZpbmcuDQogICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQNCiAgICB2YXIgcGxhdGZvcm0gPSBuYXZpZ2F0b3IucGxhdGZvcm0NCg0KICAgIHZhciBnZWNrbyA9IC9nZWNrb1wvXGQvaS50ZXN0KHVzZXJBZ2VudCkNCiAgICB2YXIgaWVfdXB0bzEwID0gL01TSUUgXGQvLnRlc3QodXNlckFnZW50KQ0KICAgIHZhciBpZV8xMXVwID0gL1RyaWRlbnRcLyg/Ols3LTldfFxkezIsfSlcLi4qcnY6KFxkKykvLmV4ZWModXNlckFnZW50KQ0KICAgIHZhciBpZSA9IGllX3VwdG8xMCB8fCBpZV8xMXVwDQogICAgdmFyIGllX3ZlcnNpb24gPSBpZSAmJiAoaWVfdXB0bzEwID8gZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IDYgOiBpZV8xMXVwWzFdKQ0KICAgIHZhciB3ZWJraXQgPSAvV2ViS2l0XC8vLnRlc3QodXNlckFnZW50KQ0KICAgIHZhciBxdHdlYmtpdCA9IHdlYmtpdCAmJiAvUXRcL1xkK1wuXGQrLy50ZXN0KHVzZXJBZ2VudCkNCiAgICB2YXIgY2hyb21lID0gL0Nocm9tZVwvLy50ZXN0KHVzZXJBZ2VudCkNCiAgICB2YXIgcHJlc3RvID0gL09wZXJhXC8vLnRlc3QodXNlckFnZW50KQ0KICAgIHZhciBzYWZhcmkgPSAvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvcikNCiAgICB2YXIgbWFjX2dlTW91bnRhaW5MaW9uID0gL01hYyBPUyBYIDFcZFxEKFs4LTldfFxkXGQpXEQvLnRlc3QodXNlckFnZW50KQ0KICAgIHZhciBwaGFudG9tID0gL1BoYW50b21KUy8udGVzdCh1c2VyQWdlbnQpDQoNCiAgICB2YXIgaW9zID0gL0FwcGxlV2ViS2l0Ly50ZXN0KHVzZXJBZ2VudCkgJiYgL01vYmlsZVwvXHcrLy50ZXN0KHVzZXJBZ2VudCkNCi8vIFRoaXMgaXMgd29lZnVsbHkgaW5jb21wbGV0ZS4gU3VnZ2VzdGlvbnMgZm9yIGFsdGVybmF0aXZlIG1ldGhvZHMgd2VsY29tZS4NCiAgICB2YXIgbW9iaWxlID0gaW9zIHx8IC9BbmRyb2lkfHdlYk9TfEJsYWNrQmVycnl8T3BlcmEgTWluaXxPcGVyYSBNb2JpfElFTW9iaWxlL2kudGVzdCh1c2VyQWdlbnQpDQogICAgdmFyIG1hYyA9IGlvcyB8fCAvTWFjLy50ZXN0KHBsYXRmb3JtKQ0KICAgIHZhciBjaHJvbWVPUyA9IC9cYkNyT1NcYi8udGVzdCh1c2VyQWdlbnQpDQogICAgdmFyIHdpbmRvd3MgPSAvd2luL2kudGVzdChwbGF0Zm9ybSkNCg0KICAgIHZhciBwcmVzdG9fdmVyc2lvbiA9IHByZXN0byAmJiB1c2VyQWdlbnQubWF0Y2goL1ZlcnNpb25cLyhcZCpcLlxkKikvKQ0KICAgIGlmIChwcmVzdG9fdmVyc2lvbikgeyBwcmVzdG9fdmVyc2lvbiA9IE51bWJlcihwcmVzdG9fdmVyc2lvblsxXSkgfQ0KICAgIGlmIChwcmVzdG9fdmVyc2lvbiAmJiBwcmVzdG9fdmVyc2lvbiA+PSAxNSkgeyBwcmVzdG8gPSBmYWxzZTsgd2Via2l0ID0gdHJ1ZSB9DQovLyBTb21lIGJyb3dzZXJzIHVzZSB0aGUgd3JvbmcgZXZlbnQgcHJvcGVydGllcyB0byBzaWduYWwgY21kL2N0cmwgb24gT1MgWA0KICAgIHZhciBmbGlwQ3RybENtZCA9IG1hYyAmJiAocXR3ZWJraXQgfHwgcHJlc3RvICYmIChwcmVzdG9fdmVyc2lvbiA9PSBudWxsIHx8IHByZXN0b192ZXJzaW9uIDwgMTIuMTEpKQ0KICAgIHZhciBjYXB0dXJlUmlnaHRDbGljayA9IGdlY2tvIHx8IChpZSAmJiBpZV92ZXJzaW9uID49IDkpDQoNCiAgICBmdW5jdGlvbiBjbGFzc1Rlc3QoY2xzKSB7IHJldHVybiBuZXcgUmVnRXhwKCIoXnxcXHMpIiArIGNscyArICIoPzokfFxccylcXHMqIikgfQ0KDQogICAgdmFyIHJtQ2xhc3MgPSBmdW5jdGlvbihub2RlLCBjbHMpIHsNCiAgICAgICAgdmFyIGN1cnJlbnQgPSBub2RlLmNsYXNzTmFtZQ0KICAgICAgICB2YXIgbWF0Y2ggPSBjbGFzc1Rlc3QoY2xzKS5leGVjKGN1cnJlbnQpDQogICAgICAgIGlmIChtYXRjaCkgew0KICAgICAgICAgICAgdmFyIGFmdGVyID0gY3VycmVudC5zbGljZShtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCkNCiAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gY3VycmVudC5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyAoYWZ0ZXIgPyBtYXRjaFsxXSArIGFmdGVyIDogIiIpDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbihlKSB7DQogICAgICAgIGZvciAodmFyIGNvdW50ID0gZS5jaGlsZE5vZGVzLmxlbmd0aDsgY291bnQgPiAwOyAtLWNvdW50KQ0KICAgICAgICB7IGUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKSB9DQogICAgICAgIHJldHVybiBlDQogICAgfQ0KDQogICAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW5BbmRBZGQocGFyZW50LCBlKSB7DQogICAgICAgIHJldHVybiByZW1vdmVDaGlsZHJlbihwYXJlbnQpLmFwcGVuZENoaWxkKGUpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gZWx0KHRhZywgY29udGVudCwgY2xhc3NOYW1lLCBzdHlsZSkgew0KICAgICAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKQ0KICAgICAgICBpZiAoY2xhc3NOYW1lKSB7IGUuY2xhc3NOYW1lID0gY2xhc3NOYW1lIH0NCiAgICAgICAgaWYgKHN0eWxlKSB7IGUuc3R5bGUuY3NzVGV4dCA9IHN0eWxlIH0NCiAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09ICJzdHJpbmciKSB7IGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY29udGVudCkpIH0NCiAgICAgICAgZWxzZSBpZiAoY29udGVudCkgeyBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRlbnQubGVuZ3RoOyArK2kpIHsgZS5hcHBlbmRDaGlsZChjb250ZW50W2ldKSB9IH0NCiAgICAgICAgcmV0dXJuIGUNCiAgICB9DQoNCiAgICB2YXIgcmFuZ2UNCiAgICBpZiAoZG9jdW1lbnQuY3JlYXRlUmFuZ2UpIHsgcmFuZ2UgPSBmdW5jdGlvbihub2RlLCBzdGFydCwgZW5kLCBlbmROb2RlKSB7DQogICAgICAgIHZhciByID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKQ0KICAgICAgICByLnNldEVuZChlbmROb2RlIHx8IG5vZGUsIGVuZCkNCiAgICAgICAgci5zZXRTdGFydChub2RlLCBzdGFydCkNCiAgICAgICAgcmV0dXJuIHINCiAgICB9IH0NCiAgICBlbHNlIHsgcmFuZ2UgPSBmdW5jdGlvbihub2RlLCBzdGFydCwgZW5kKSB7DQogICAgICAgIHZhciByID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKQ0KICAgICAgICB0cnkgeyByLm1vdmVUb0VsZW1lbnRUZXh0KG5vZGUucGFyZW50Tm9kZSkgfQ0KICAgICAgICBjYXRjaChlKSB7IHJldHVybiByIH0NCiAgICAgICAgci5jb2xsYXBzZSh0cnVlKQ0KICAgICAgICByLm1vdmVFbmQoImNoYXJhY3RlciIsIGVuZCkNCiAgICAgICAgci5tb3ZlU3RhcnQoImNoYXJhY3RlciIsIHN0YXJ0KQ0KICAgICAgICByZXR1cm4gcg0KICAgIH0gfQ0KDQogICAgZnVuY3Rpb24gY29udGFpbnMocGFyZW50LCBjaGlsZCkgew0KICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMykgLy8gQW5kcm9pZCBicm93c2VyIGFsd2F5cyByZXR1cm5zIGZhbHNlIHdoZW4gY2hpbGQgaXMgYSB0ZXh0bm9kZQ0KICAgICAgICB7IGNoaWxkID0gY2hpbGQucGFyZW50Tm9kZSB9DQogICAgICAgIGlmIChwYXJlbnQuY29udGFpbnMpDQogICAgICAgIHsgcmV0dXJuIHBhcmVudC5jb250YWlucyhjaGlsZCkgfQ0KICAgICAgICBkbyB7DQogICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMTEpIHsgY2hpbGQgPSBjaGlsZC5ob3N0IH0NCiAgICAgICAgICAgIGlmIChjaGlsZCA9PSBwYXJlbnQpIHsgcmV0dXJuIHRydWUgfQ0KICAgICAgICB9IHdoaWxlIChjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGUpDQogICAgfQ0KDQogICAgdmFyIGFjdGl2ZUVsdCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQNCiAgICAgICAgd2hpbGUgKGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC5yb290ICYmIGFjdGl2ZUVsZW1lbnQucm9vdC5hY3RpdmVFbGVtZW50KQ0KICAgICAgICB7IGFjdGl2ZUVsZW1lbnQgPSBhY3RpdmVFbGVtZW50LnJvb3QuYWN0aXZlRWxlbWVudCB9DQogICAgICAgIHJldHVybiBhY3RpdmVFbGVtZW50DQogICAgfQ0KLy8gT2xkZXIgdmVyc2lvbnMgb2YgSUUgdGhyb3dzIHVuc3BlY2lmaWVkIGVycm9yIHdoZW4gdG91Y2hpbmcNCi8vIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW4gc29tZSBjYXNlcyAoZHVyaW5nIGxvYWRpbmcsIGluIGlmcmFtZSkNCiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKSB7IGFjdGl2ZUVsdCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB0cnkgeyByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCB9DQogICAgICAgIGNhdGNoKGUpIHsgcmV0dXJuIGRvY3VtZW50LmJvZHkgfQ0KICAgIH0gfQ0KDQogICAgZnVuY3Rpb24gYWRkQ2xhc3Mobm9kZSwgY2xzKSB7DQogICAgICAgIHZhciBjdXJyZW50ID0gbm9kZS5jbGFzc05hbWUNCiAgICAgICAgaWYgKCFjbGFzc1Rlc3QoY2xzKS50ZXN0KGN1cnJlbnQpKSB7IG5vZGUuY2xhc3NOYW1lICs9IChjdXJyZW50ID8gIiAiIDogIiIpICsgY2xzIH0NCiAgICB9DQogICAgZnVuY3Rpb24gam9pbkNsYXNzZXMoYSwgYikgew0KICAgICAgICB2YXIgYXMgPSBhLnNwbGl0KCIgIikNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcy5sZW5ndGg7IGkrKykNCiAgICAgICAgeyBpZiAoYXNbaV0gJiYgIWNsYXNzVGVzdChhc1tpXSkudGVzdChiKSkgeyBiICs9ICIgIiArIGFzW2ldIH0gfQ0KICAgICAgICByZXR1cm4gYg0KICAgIH0NCg0KICAgIHZhciBzZWxlY3RJbnB1dCA9IGZ1bmN0aW9uKG5vZGUpIHsgbm9kZS5zZWxlY3QoKSB9DQogICAgaWYgKGlvcykgLy8gTW9iaWxlIFNhZmFyaSBhcHBhcmVudGx5IGhhcyBhIGJ1ZyB3aGVyZSBzZWxlY3QoKSBpcyBicm9rZW4uDQogICAgeyBzZWxlY3RJbnB1dCA9IGZ1bmN0aW9uKG5vZGUpIHsgbm9kZS5zZWxlY3Rpb25TdGFydCA9IDA7IG5vZGUuc2VsZWN0aW9uRW5kID0gbm9kZS52YWx1ZS5sZW5ndGggfSB9DQogICAgZWxzZSBpZiAoaWUpIC8vIFN1cHByZXNzIG15c3RlcmlvdXMgSUUxMCBlcnJvcnMNCiAgICB7IHNlbGVjdElucHV0ID0gZnVuY3Rpb24obm9kZSkgeyB0cnkgeyBub2RlLnNlbGVjdCgpIH0gY2F0Y2goX2UpIHt9IH0gfQ0KDQogICAgZnVuY3Rpb24gYmluZChmKSB7DQogICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKQ0KICAgICAgICByZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZi5hcHBseShudWxsLCBhcmdzKX0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjb3B5T2JqKG9iaiwgdGFyZ2V0LCBvdmVyd3JpdGUpIHsNCiAgICAgICAgaWYgKCF0YXJnZXQpIHsgdGFyZ2V0ID0ge30gfQ0KICAgICAgICBmb3IgKHZhciBwcm9wIGluIG9iaikNCiAgICAgICAgeyBpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApICYmIChvdmVyd3JpdGUgIT09IGZhbHNlIHx8ICF0YXJnZXQuaGFzT3duUHJvcGVydHkocHJvcCkpKQ0KICAgICAgICB7IHRhcmdldFtwcm9wXSA9IG9ialtwcm9wXSB9IH0NCiAgICAgICAgcmV0dXJuIHRhcmdldA0KICAgIH0NCg0KLy8gQ291bnRzIHRoZSBjb2x1bW4gb2Zmc2V0IGluIGEgc3RyaW5nLCB0YWtpbmcgdGFicyBpbnRvIGFjY291bnQuDQovLyBVc2VkIG1vc3RseSB0byBmaW5kIGluZGVudGF0aW9uLg0KICAgIGZ1bmN0aW9uIGNvdW50Q29sdW1uKHN0cmluZywgZW5kLCB0YWJTaXplLCBzdGFydEluZGV4LCBzdGFydFZhbHVlKSB7DQogICAgICAgIGlmIChlbmQgPT0gbnVsbCkgew0KICAgICAgICAgICAgZW5kID0gc3RyaW5nLnNlYXJjaCgvW15cc1x1MDBhMF0vKQ0KICAgICAgICAgICAgaWYgKGVuZCA9PSAtMSkgeyBlbmQgPSBzdHJpbmcubGVuZ3RoIH0NCiAgICAgICAgfQ0KICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleCB8fCAwLCBuID0gc3RhcnRWYWx1ZSB8fCAwOzspIHsNCiAgICAgICAgICAgIHZhciBuZXh0VGFiID0gc3RyaW5nLmluZGV4T2YoIlx0IiwgaSkNCiAgICAgICAgICAgIGlmIChuZXh0VGFiIDwgMCB8fCBuZXh0VGFiID49IGVuZCkNCiAgICAgICAgICAgIHsgcmV0dXJuIG4gKyAoZW5kIC0gaSkgfQ0KICAgICAgICAgICAgbiArPSBuZXh0VGFiIC0gaQ0KICAgICAgICAgICAgbiArPSB0YWJTaXplIC0gKG4gJSB0YWJTaXplKQ0KICAgICAgICAgICAgaSA9IG5leHRUYWIgKyAxDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBEZWxheWVkKCkge3RoaXMuaWQgPSBudWxsfQ0KICAgIERlbGF5ZWQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG1zLCBmKSB7DQogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmlkKQ0KICAgICAgICB0aGlzLmlkID0gc2V0VGltZW91dChmLCBtcykNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCBlbHQpIHsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7ICsraSkNCiAgICAgICAgeyBpZiAoYXJyYXlbaV0gPT0gZWx0KSB7IHJldHVybiBpIH0gfQ0KICAgICAgICByZXR1cm4gLTENCiAgICB9DQoNCi8vIE51bWJlciBvZiBwaXhlbHMgYWRkZWQgdG8gc2Nyb2xsZXIgYW5kIHNpemVyIHRvIGhpZGUgc2Nyb2xsYmFyDQogICAgdmFyIHNjcm9sbGVyR2FwID0gMzANCg0KLy8gUmV0dXJuZWQgb3IgdGhyb3duIGJ5IHZhcmlvdXMgcHJvdG9jb2xzIHRvIHNpZ25hbCAnSSdtIG5vdA0KLy8gaGFuZGxpbmcgdGhpcycuDQogICAgdmFyIFBhc3MgPSB7dG9TdHJpbmc6IGZ1bmN0aW9uKCl7cmV0dXJuICJDb2RlTWlycm9yLlBhc3MifX0NCg0KLy8gUmV1c2VkIG9wdGlvbiBvYmplY3RzIGZvciBzZXRTZWxlY3Rpb24gJiBmcmllbmRzDQogICAgdmFyIHNlbF9kb250U2Nyb2xsID0ge3Njcm9sbDogZmFsc2V9Ow0KICAgIHZhciBzZWxfbW91c2UgPSB7b3JpZ2luOiAiKm1vdXNlIn07DQogICAgdmFyIHNlbF9tb3ZlID0ge29yaWdpbjogIittb3ZlIn0NCg0KLy8gVGhlIGludmVyc2Ugb2YgY291bnRDb2x1bW4gLS0gZmluZCB0aGUgb2Zmc2V0IHRoYXQgY29ycmVzcG9uZHMgdG8NCi8vIGEgcGFydGljdWxhciBjb2x1bW4uDQogICAgZnVuY3Rpb24gZmluZENvbHVtbihzdHJpbmcsIGdvYWwsIHRhYlNpemUpIHsNCiAgICAgICAgZm9yICh2YXIgcG9zID0gMCwgY29sID0gMDs7KSB7DQogICAgICAgICAgICB2YXIgbmV4dFRhYiA9IHN0cmluZy5pbmRleE9mKCJcdCIsIHBvcykNCiAgICAgICAgICAgIGlmIChuZXh0VGFiID09IC0xKSB7IG5leHRUYWIgPSBzdHJpbmcubGVuZ3RoIH0NCiAgICAgICAgICAgIHZhciBza2lwcGVkID0gbmV4dFRhYiAtIHBvcw0KICAgICAgICAgICAgaWYgKG5leHRUYWIgPT0gc3RyaW5nLmxlbmd0aCB8fCBjb2wgKyBza2lwcGVkID49IGdvYWwpDQogICAgICAgICAgICB7IHJldHVybiBwb3MgKyBNYXRoLm1pbihza2lwcGVkLCBnb2FsIC0gY29sKSB9DQogICAgICAgICAgICBjb2wgKz0gbmV4dFRhYiAtIHBvcw0KICAgICAgICAgICAgY29sICs9IHRhYlNpemUgLSAoY29sICUgdGFiU2l6ZSkNCiAgICAgICAgICAgIHBvcyA9IG5leHRUYWIgKyAxDQogICAgICAgICAgICBpZiAoY29sID49IGdvYWwpIHsgcmV0dXJuIHBvcyB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICB2YXIgc3BhY2VTdHJzID0gWyIiXQ0KICAgIGZ1bmN0aW9uIHNwYWNlU3RyKG4pIHsNCiAgICAgICAgd2hpbGUgKHNwYWNlU3Rycy5sZW5ndGggPD0gbikNCiAgICAgICAgeyBzcGFjZVN0cnMucHVzaChsc3Qoc3BhY2VTdHJzKSArICIgIikgfQ0KICAgICAgICByZXR1cm4gc3BhY2VTdHJzW25dDQogICAgfQ0KDQogICAgZnVuY3Rpb24gbHN0KGFycikgeyByZXR1cm4gYXJyW2Fyci5sZW5ndGgtMV0gfQ0KDQogICAgZnVuY3Rpb24gbWFwKGFycmF5LCBmKSB7DQogICAgICAgIHZhciBvdXQgPSBbXQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7IG91dFtpXSA9IGYoYXJyYXlbaV0sIGkpIH0NCiAgICAgICAgcmV0dXJuIG91dA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGluc2VydFNvcnRlZChhcnJheSwgdmFsdWUsIHNjb3JlKSB7DQogICAgICAgIHZhciBwb3MgPSAwLCBwcmlvcml0eSA9IHNjb3JlKHZhbHVlKQ0KICAgICAgICB3aGlsZSAocG9zIDwgYXJyYXkubGVuZ3RoICYmIHNjb3JlKGFycmF5W3Bvc10pIDw9IHByaW9yaXR5KSB7IHBvcysrIH0NCiAgICAgICAgYXJyYXkuc3BsaWNlKHBvcywgMCwgdmFsdWUpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gbm90aGluZygpIHt9DQoNCiAgICBmdW5jdGlvbiBjcmVhdGVPYmooYmFzZSwgcHJvcHMpIHsNCiAgICAgICAgdmFyIGluc3QNCiAgICAgICAgaWYgKE9iamVjdC5jcmVhdGUpIHsNCiAgICAgICAgICAgIGluc3QgPSBPYmplY3QuY3JlYXRlKGJhc2UpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBub3RoaW5nLnByb3RvdHlwZSA9IGJhc2UNCiAgICAgICAgICAgIGluc3QgPSBuZXcgbm90aGluZygpDQogICAgICAgIH0NCiAgICAgICAgaWYgKHByb3BzKSB7IGNvcHlPYmoocHJvcHMsIGluc3QpIH0NCiAgICAgICAgcmV0dXJuIGluc3QNCiAgICB9DQoNCiAgICB2YXIgbm9uQVNDSUlTaW5nbGVDYXNlV29yZENoYXIgPSAvW1x1MDBkZlx1MDU4N1x1MDU5MC1cdTA1ZjRcdTA2MDAtXHUwNmZmXHUzMDQwLVx1MzA5Zlx1MzBhMC1cdTMwZmZcdTM0MDAtXHU0ZGI1XHU0ZTAwLVx1OWZjY1x1YWMwMC1cdWQ3YWZdLw0KICAgIGZ1bmN0aW9uIGlzV29yZENoYXJCYXNpYyhjaCkgew0KICAgICAgICByZXR1cm4gL1x3Ly50ZXN0KGNoKSB8fCBjaCA+ICJceDgwIiAmJg0KICAgICAgICAgICAgKGNoLnRvVXBwZXJDYXNlKCkgIT0gY2gudG9Mb3dlckNhc2UoKSB8fCBub25BU0NJSVNpbmdsZUNhc2VXb3JkQ2hhci50ZXN0KGNoKSkNCiAgICB9DQogICAgZnVuY3Rpb24gaXNXb3JkQ2hhcihjaCwgaGVscGVyKSB7DQogICAgICAgIGlmICghaGVscGVyKSB7IHJldHVybiBpc1dvcmRDaGFyQmFzaWMoY2gpIH0NCiAgICAgICAgaWYgKGhlbHBlci5zb3VyY2UuaW5kZXhPZigiXFx3IikgPiAtMSAmJiBpc1dvcmRDaGFyQmFzaWMoY2gpKSB7IHJldHVybiB0cnVlIH0NCiAgICAgICAgcmV0dXJuIGhlbHBlci50ZXN0KGNoKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGlzRW1wdHkob2JqKSB7DQogICAgICAgIGZvciAodmFyIG4gaW4gb2JqKSB7IGlmIChvYmouaGFzT3duUHJvcGVydHkobikgJiYgb2JqW25dKSB7IHJldHVybiBmYWxzZSB9IH0NCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICB9DQoNCi8vIEV4dGVuZGluZyB1bmljb2RlIGNoYXJhY3RlcnMuIEEgc2VyaWVzIG9mIGEgbm9uLWV4dGVuZGluZyBjaGFyICsNCi8vIGFueSBudW1iZXIgb2YgZXh0ZW5kaW5nIGNoYXJzIGlzIHRyZWF0ZWQgYXMgYSBzaW5nbGUgdW5pdCBhcyBmYXINCi8vIGFzIGVkaXRpbmcgYW5kIG1lYXN1cmluZyBpcyBjb25jZXJuZWQuIFRoaXMgaXMgbm90IGZ1bGx5IGNvcnJlY3QsDQovLyBzaW5jZSBzb21lIHNjcmlwdHMvZm9udHMvYnJvd3NlcnMgYWxzbyB0cmVhdCBvdGhlciBjb25maWd1cmF0aW9ucw0KLy8gb2YgY29kZSBwb2ludHMgYXMgYSBncm91cC4NCiAgICB2YXIgZXh0ZW5kaW5nQ2hhcnMgPSAvW1x1MDMwMC1cdTAzNmZcdTA0ODMtXHUwNDg5XHUwNTkxLVx1MDViZFx1MDViZlx1MDVjMVx1MDVjMlx1MDVjNFx1MDVjNVx1MDVjN1x1MDYxMC1cdTA2MWFcdTA2NGItXHUwNjVlXHUwNjcwXHUwNmQ2LVx1MDZkY1x1MDZkZS1cdTA2ZTRcdTA2ZTdcdTA2ZThcdTA2ZWEtXHUwNmVkXHUwNzExXHUwNzMwLVx1MDc0YVx1MDdhNi1cdTA3YjBcdTA3ZWItXHUwN2YzXHUwODE2LVx1MDgxOVx1MDgxYi1cdTA4MjNcdTA4MjUtXHUwODI3XHUwODI5LVx1MDgyZFx1MDkwMC1cdTA5MDJcdTA5M2NcdTA5NDEtXHUwOTQ4XHUwOTRkXHUwOTUxLVx1MDk1NVx1MDk2Mlx1MDk2M1x1MDk4MVx1MDliY1x1MDliZVx1MDljMS1cdTA5YzRcdTA5Y2RcdTA5ZDdcdTA5ZTJcdTA5ZTNcdTBhMDFcdTBhMDJcdTBhM2NcdTBhNDFcdTBhNDJcdTBhNDdcdTBhNDhcdTBhNGItXHUwYTRkXHUwYTUxXHUwYTcwXHUwYTcxXHUwYTc1XHUwYTgxXHUwYTgyXHUwYWJjXHUwYWMxLVx1MGFjNVx1MGFjN1x1MGFjOFx1MGFjZFx1MGFlMlx1MGFlM1x1MGIwMVx1MGIzY1x1MGIzZVx1MGIzZlx1MGI0MS1cdTBiNDRcdTBiNGRcdTBiNTZcdTBiNTdcdTBiNjJcdTBiNjNcdTBiODJcdTBiYmVcdTBiYzBcdTBiY2RcdTBiZDdcdTBjM2UtXHUwYzQwXHUwYzQ2LVx1MGM0OFx1MGM0YS1cdTBjNGRcdTBjNTVcdTBjNTZcdTBjNjJcdTBjNjNcdTBjYmNcdTBjYmZcdTBjYzJcdTBjYzZcdTBjY2NcdTBjY2RcdTBjZDVcdTBjZDZcdTBjZTJcdTBjZTNcdTBkM2VcdTBkNDEtXHUwZDQ0XHUwZDRkXHUwZDU3XHUwZDYyXHUwZDYzXHUwZGNhXHUwZGNmXHUwZGQyLVx1MGRkNFx1MGRkNlx1MGRkZlx1MGUzMVx1MGUzNC1cdTBlM2FcdTBlNDctXHUwZTRlXHUwZWIxXHUwZWI0LVx1MGViOVx1MGViYlx1MGViY1x1MGVjOC1cdTBlY2RcdTBmMThcdTBmMTlcdTBmMzVcdTBmMzdcdTBmMzlcdTBmNzEtXHUwZjdlXHUwZjgwLVx1MGY4NFx1MGY4Nlx1MGY4N1x1MGY5MC1cdTBmOTdcdTBmOTktXHUwZmJjXHUwZmM2XHUxMDJkLVx1MTAzMFx1MTAzMi1cdTEwMzdcdTEwMzlcdTEwM2FcdTEwM2RcdTEwM2VcdTEwNThcdTEwNTlcdTEwNWUtXHUxMDYwXHUxMDcxLVx1MTA3NFx1MTA4Mlx1MTA4NVx1MTA4Nlx1MTA4ZFx1MTA5ZFx1MTM1Zlx1MTcxMi1cdTE3MTRcdTE3MzItXHUxNzM0XHUxNzUyXHUxNzUzXHUxNzcyXHUxNzczXHUxN2I3LVx1MTdiZFx1MTdjNlx1MTdjOS1cdTE3ZDNcdTE3ZGRcdTE4MGItXHUxODBkXHUxOGE5XHUxOTIwLVx1MTkyMlx1MTkyN1x1MTkyOFx1MTkzMlx1MTkzOS1cdTE5M2JcdTFhMTdcdTFhMThcdTFhNTZcdTFhNTgtXHUxYTVlXHUxYTYwXHUxYTYyXHUxYTY1LVx1MWE2Y1x1MWE3My1cdTFhN2NcdTFhN2ZcdTFiMDAtXHUxYjAzXHUxYjM0XHUxYjM2LVx1MWIzYVx1MWIzY1x1MWI0Mlx1MWI2Yi1cdTFiNzNcdTFiODBcdTFiODFcdTFiYTItXHUxYmE1XHUxYmE4XHUxYmE5XHUxYzJjLVx1MWMzM1x1MWMzNlx1MWMzN1x1MWNkMC1cdTFjZDJcdTFjZDQtXHUxY2UwXHUxY2UyLVx1MWNlOFx1MWNlZFx1MWRjMC1cdTFkZTZcdTFkZmQtXHUxZGZmXHUyMDBjXHUyMDBkXHUyMGQwLVx1MjBmMFx1MmNlZi1cdTJjZjFcdTJkZTAtXHUyZGZmXHUzMDJhLVx1MzAyZlx1MzA5OVx1MzA5YVx1YTY2Zi1cdWE2NzJcdWE2N2NcdWE2N2RcdWE2ZjBcdWE2ZjFcdWE4MDJcdWE4MDZcdWE4MGJcdWE4MjVcdWE4MjZcdWE4YzRcdWE4ZTAtXHVhOGYxXHVhOTI2LVx1YTkyZFx1YTk0Ny1cdWE5NTFcdWE5ODAtXHVhOTgyXHVhOWIzXHVhOWI2LVx1YTliOVx1YTliY1x1YWEyOS1cdWFhMmVcdWFhMzFcdWFhMzJcdWFhMzVcdWFhMzZcdWFhNDNcdWFhNGNcdWFhYjBcdWFhYjItXHVhYWI0XHVhYWI3XHVhYWI4XHVhYWJlXHVhYWJmXHVhYWMxXHVhYmU1XHVhYmU4XHVhYmVkXHVkYzAwLVx1ZGZmZlx1ZmIxZVx1ZmUwMC1cdWZlMGZcdWZlMjAtXHVmZTI2XHVmZjllXHVmZjlmXS8NCiAgICBmdW5jdGlvbiBpc0V4dGVuZGluZ0NoYXIoY2gpIHsgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCkgPj0gNzY4ICYmIGV4dGVuZGluZ0NoYXJzLnRlc3QoY2gpIH0NCg0KLy8gVGhlIGRpc3BsYXkgaGFuZGxlcyB0aGUgRE9NIGludGVncmF0aW9uLCBib3RoIGZvciBpbnB1dCByZWFkaW5nDQovLyBhbmQgY29udGVudCBkcmF3aW5nLiBJdCBob2xkcyByZWZlcmVuY2VzIHRvIERPTSBub2RlcyBhbmQNCi8vIGRpc3BsYXktcmVsYXRlZCBzdGF0ZS4NCg0KICAgIGZ1bmN0aW9uIERpc3BsYXkocGxhY2UsIGRvYywgaW5wdXQpIHsNCiAgICAgICAgdmFyIGQgPSB0aGlzDQogICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dA0KDQogICAgICAgIC8vIENvdmVycyBib3R0b20tcmlnaHQgc3F1YXJlIHdoZW4gYm90aCBzY3JvbGxiYXJzIGFyZSBwcmVzZW50Lg0KICAgICAgICBkLnNjcm9sbGJhckZpbGxlciA9IGVsdCgiZGl2IiwgbnVsbCwgIkNvZGVNaXJyb3Itc2Nyb2xsYmFyLWZpbGxlciIpDQogICAgICAgIGQuc2Nyb2xsYmFyRmlsbGVyLnNldEF0dHJpYnV0ZSgiY20tbm90LWNvbnRlbnQiLCAidHJ1ZSIpDQogICAgICAgIC8vIENvdmVycyBib3R0b20gb2YgZ3V0dGVyIHdoZW4gY292ZXJHdXR0ZXJOZXh0VG9TY3JvbGxiYXIgaXMgb24NCiAgICAgICAgLy8gYW5kIGggc2Nyb2xsYmFyIGlzIHByZXNlbnQuDQogICAgICAgIGQuZ3V0dGVyRmlsbGVyID0gZWx0KCJkaXYiLCBudWxsLCAiQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyIikNCiAgICAgICAgZC5ndXR0ZXJGaWxsZXIuc2V0QXR0cmlidXRlKCJjbS1ub3QtY29udGVudCIsICJ0cnVlIikNCiAgICAgICAgLy8gV2lsbCBjb250YWluIHRoZSBhY3R1YWwgY29kZSwgcG9zaXRpb25lZCB0byBjb3ZlciB0aGUgdmlld3BvcnQuDQogICAgICAgIGQubGluZURpdiA9IGVsdCgiZGl2IiwgbnVsbCwgIkNvZGVNaXJyb3ItY29kZSIpDQogICAgICAgIC8vIEVsZW1lbnRzIGFyZSBhZGRlZCB0byB0aGVzZSB0byByZXByZXNlbnQgc2VsZWN0aW9uIGFuZCBjdXJzb3JzLg0KICAgICAgICBkLnNlbGVjdGlvbkRpdiA9IGVsdCgiZGl2IiwgbnVsbCwgbnVsbCwgInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMSIpDQogICAgICAgIGQuY3Vyc29yRGl2ID0gZWx0KCJkaXYiLCBudWxsLCAiQ29kZU1pcnJvci1jdXJzb3JzIikNCiAgICAgICAgLy8gQSB2aXNpYmlsaXR5OiBoaWRkZW4gZWxlbWVudCB1c2VkIHRvIGZpbmQgdGhlIHNpemUgb2YgdGhpbmdzLg0KICAgICAgICBkLm1lYXN1cmUgPSBlbHQoImRpdiIsIG51bGwsICJDb2RlTWlycm9yLW1lYXN1cmUiKQ0KICAgICAgICAvLyBXaGVuIGxpbmVzIG91dHNpZGUgb2YgdGhlIHZpZXdwb3J0IGFyZSBtZWFzdXJlZCwgdGhleSBhcmUgZHJhd24gaW4gdGhpcy4NCiAgICAgICAgZC5saW5lTWVhc3VyZSA9IGVsdCgiZGl2IiwgbnVsbCwgIkNvZGVNaXJyb3ItbWVhc3VyZSIpDQogICAgICAgIC8vIFdyYXBzIGV2ZXJ5dGhpbmcgdGhhdCBuZWVkcyB0byBleGlzdCBpbnNpZGUgdGhlIHZlcnRpY2FsbHktcGFkZGVkIGNvb3JkaW5hdGUgc3lzdGVtDQogICAgICAgIGQubGluZVNwYWNlID0gZWx0KCJkaXYiLCBbZC5tZWFzdXJlLCBkLmxpbmVNZWFzdXJlLCBkLnNlbGVjdGlvbkRpdiwgZC5jdXJzb3JEaXYsIGQubGluZURpdl0sDQogICAgICAgICAgICBudWxsLCAicG9zaXRpb246IHJlbGF0aXZlOyBvdXRsaW5lOiBub25lIikNCiAgICAgICAgLy8gTW92ZWQgYXJvdW5kIGl0cyBwYXJlbnQgdG8gY292ZXIgdmlzaWJsZSB2aWV3Lg0KICAgICAgICBkLm1vdmVyID0gZWx0KCJkaXYiLCBbZWx0KCJkaXYiLCBbZC5saW5lU3BhY2VdLCAiQ29kZU1pcnJvci1saW5lcyIpXSwgbnVsbCwgInBvc2l0aW9uOiByZWxhdGl2ZSIpDQogICAgICAgIC8vIFNldCB0byB0aGUgaGVpZ2h0IG9mIHRoZSBkb2N1bWVudCwgYWxsb3dpbmcgc2Nyb2xsaW5nLg0KICAgICAgICBkLnNpemVyID0gZWx0KCJkaXYiLCBbZC5tb3Zlcl0sICJDb2RlTWlycm9yLXNpemVyIikNCiAgICAgICAgZC5zaXplcldpZHRoID0gbnVsbA0KICAgICAgICAvLyBCZWhhdmlvciBvZiBlbHRzIHdpdGggb3ZlcmZsb3c6IGF1dG8gYW5kIHBhZGRpbmcgaXMNCiAgICAgICAgLy8gaW5jb25zaXN0ZW50IGFjcm9zcyBicm93c2Vycy4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGUNCiAgICAgICAgLy8gc2Nyb2xsYWJsZSBhcmVhIGlzIGJpZyBlbm91Z2guDQogICAgICAgIGQuaGVpZ2h0Rm9yY2VyID0gZWx0KCJkaXYiLCBudWxsLCBudWxsLCAicG9zaXRpb246IGFic29sdXRlOyBoZWlnaHQ6ICIgKyBzY3JvbGxlckdhcCArICJweDsgd2lkdGg6IDFweDsiKQ0KICAgICAgICAvLyBXaWxsIGNvbnRhaW4gdGhlIGd1dHRlcnMsIGlmIGFueS4NCiAgICAgICAgZC5ndXR0ZXJzID0gZWx0KCJkaXYiLCBudWxsLCAiQ29kZU1pcnJvci1ndXR0ZXJzIikNCiAgICAgICAgZC5saW5lR3V0dGVyID0gbnVsbA0KICAgICAgICAvLyBBY3R1YWwgc2Nyb2xsYWJsZSBlbGVtZW50Lg0KICAgICAgICBkLnNjcm9sbGVyID0gZWx0KCJkaXYiLCBbZC5zaXplciwgZC5oZWlnaHRGb3JjZXIsIGQuZ3V0dGVyc10sICJDb2RlTWlycm9yLXNjcm9sbCIpDQogICAgICAgIGQuc2Nyb2xsZXIuc2V0QXR0cmlidXRlKCJ0YWJJbmRleCIsICItMSIpDQogICAgICAgIC8vIFRoZSBlbGVtZW50IGluIHdoaWNoIHRoZSBlZGl0b3IgbGl2ZXMuDQogICAgICAgIGQud3JhcHBlciA9IGVsdCgiZGl2IiwgW2Quc2Nyb2xsYmFyRmlsbGVyLCBkLmd1dHRlckZpbGxlciwgZC5zY3JvbGxlcl0sICJDb2RlTWlycm9yIikNCg0KICAgICAgICAvLyBXb3JrIGFyb3VuZCBJRTcgei1pbmRleCBidWcgKG5vdCBwZXJmZWN0LCBoZW5jZSBJRTcgbm90IHJlYWxseSBiZWluZyBzdXBwb3J0ZWQpDQogICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOCkgeyBkLmd1dHRlcnMuc3R5bGUuekluZGV4ID0gLTE7IGQuc2Nyb2xsZXIuc3R5bGUucGFkZGluZ1JpZ2h0ID0gMCB9DQogICAgICAgIGlmICghd2Via2l0ICYmICEoZ2Vja28gJiYgbW9iaWxlKSkgeyBkLnNjcm9sbGVyLmRyYWdnYWJsZSA9IHRydWUgfQ0KDQogICAgICAgIGlmIChwbGFjZSkgew0KICAgICAgICAgICAgaWYgKHBsYWNlLmFwcGVuZENoaWxkKSB7IHBsYWNlLmFwcGVuZENoaWxkKGQud3JhcHBlcikgfQ0KICAgICAgICAgICAgZWxzZSB7IHBsYWNlKGQud3JhcHBlcikgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gQ3VycmVudCByZW5kZXJlZCByYW5nZSAobWF5IGJlIGJpZ2dlciB0aGFuIHRoZSB2aWV3IHdpbmRvdykuDQogICAgICAgIGQudmlld0Zyb20gPSBkLnZpZXdUbyA9IGRvYy5maXJzdA0KICAgICAgICBkLnJlcG9ydGVkVmlld0Zyb20gPSBkLnJlcG9ydGVkVmlld1RvID0gZG9jLmZpcnN0DQogICAgICAgIC8vIEluZm9ybWF0aW9uIGFib3V0IHRoZSByZW5kZXJlZCBsaW5lcy4NCiAgICAgICAgZC52aWV3ID0gW10NCiAgICAgICAgZC5yZW5kZXJlZFZpZXcgPSBudWxsDQogICAgICAgIC8vIEhvbGRzIGluZm8gYWJvdXQgYSBzaW5nbGUgcmVuZGVyZWQgbGluZSB3aGVuIGl0IHdhcyByZW5kZXJlZA0KICAgICAgICAvLyBmb3IgbWVhc3VyZW1lbnQsIHdoaWxlIG5vdCBpbiB2aWV3Lg0KICAgICAgICBkLmV4dGVybmFsTWVhc3VyZWQgPSBudWxsDQogICAgICAgIC8vIEVtcHR5IHNwYWNlIChpbiBwaXhlbHMpIGFib3ZlIHRoZSB2aWV3DQogICAgICAgIGQudmlld09mZnNldCA9IDANCiAgICAgICAgZC5sYXN0V3JhcEhlaWdodCA9IGQubGFzdFdyYXBXaWR0aCA9IDANCiAgICAgICAgZC51cGRhdGVMaW5lTnVtYmVycyA9IG51bGwNCg0KICAgICAgICBkLm5hdGl2ZUJhcldpZHRoID0gZC5iYXJIZWlnaHQgPSBkLmJhcldpZHRoID0gMA0KICAgICAgICBkLnNjcm9sbGJhcnNDbGlwcGVkID0gZmFsc2UNCg0KICAgICAgICAvLyBVc2VkIHRvIG9ubHkgcmVzaXplIHRoZSBsaW5lIG51bWJlciBndXR0ZXIgd2hlbiBuZWNlc3NhcnkgKHdoZW4NCiAgICAgICAgLy8gdGhlIGFtb3VudCBvZiBsaW5lcyBjcm9zc2VzIGEgYm91bmRhcnkgdGhhdCBtYWtlcyBpdHMgd2lkdGggY2hhbmdlKQ0KICAgICAgICBkLmxpbmVOdW1XaWR0aCA9IGQubGluZU51bUlubmVyV2lkdGggPSBkLmxpbmVOdW1DaGFycyA9IG51bGwNCiAgICAgICAgLy8gU2V0IHRvIHRydWUgd2hlbiBhIG5vbi1ob3Jpem9udGFsLXNjcm9sbGluZyBsaW5lIHdpZGdldCBpcw0KICAgICAgICAvLyBhZGRlZC4gQXMgYW4gb3B0aW1pemF0aW9uLCBsaW5lIHdpZGdldCBhbGlnbmluZyBpcyBza2lwcGVkIHdoZW4NCiAgICAgICAgLy8gdGhpcyBpcyBmYWxzZS4NCiAgICAgICAgZC5hbGlnbldpZGdldHMgPSBmYWxzZQ0KDQogICAgICAgIGQuY2FjaGVkQ2hhcldpZHRoID0gZC5jYWNoZWRUZXh0SGVpZ2h0ID0gZC5jYWNoZWRQYWRkaW5nSCA9IG51bGwNCg0KICAgICAgICAvLyBUcmFja3MgdGhlIG1heGltdW0gbGluZSBsZW5ndGggc28gdGhhdCB0aGUgaG9yaXpvbnRhbCBzY3JvbGxiYXINCiAgICAgICAgLy8gY2FuIGJlIGtlcHQgc3RhdGljIHdoZW4gc2Nyb2xsaW5nLg0KICAgICAgICBkLm1heExpbmUgPSBudWxsDQogICAgICAgIGQubWF4TGluZUxlbmd0aCA9IDANCiAgICAgICAgZC5tYXhMaW5lQ2hhbmdlZCA9IGZhbHNlDQoNCiAgICAgICAgLy8gVXNlZCBmb3IgbWVhc3VyaW5nIHdoZWVsIHNjcm9sbGluZyBncmFudWxhcml0eQ0KICAgICAgICBkLndoZWVsRFggPSBkLndoZWVsRFkgPSBkLndoZWVsU3RhcnRYID0gZC53aGVlbFN0YXJ0WSA9IG51bGwNCg0KICAgICAgICAvLyBUcnVlIHdoZW4gc2hpZnQgaXMgaGVsZCBkb3duLg0KICAgICAgICBkLnNoaWZ0ID0gZmFsc2UNCg0KICAgICAgICAvLyBVc2VkIHRvIHRyYWNrIHdoZXRoZXIgYW55dGhpbmcgaGFwcGVuZWQgc2luY2UgdGhlIGNvbnRleHQgbWVudQ0KICAgICAgICAvLyB3YXMgb3BlbmVkLg0KICAgICAgICBkLnNlbEZvckNvbnRleHRNZW51ID0gbnVsbA0KDQogICAgICAgIGQuYWN0aXZlVG91Y2ggPSBudWxsDQoNCiAgICAgICAgaW5wdXQuaW5pdChkKQ0KICAgIH0NCg0KLy8gRmluZCB0aGUgbGluZSBvYmplY3QgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gbGluZSBudW1iZXIuDQogICAgZnVuY3Rpb24gZ2V0TGluZShkb2MsIG4pIHsNCiAgICAgICAgbiAtPSBkb2MuZmlyc3QNCiAgICAgICAgaWYgKG4gPCAwIHx8IG4gPj0gZG9jLnNpemUpIHsgdGhyb3cgbmV3IEVycm9yKCJUaGVyZSBpcyBubyBsaW5lICIgKyAobiArIGRvYy5maXJzdCkgKyAiIGluIHRoZSBkb2N1bWVudC4iKSB9DQogICAgICAgIHZhciBjaHVuayA9IGRvYw0KICAgICAgICB3aGlsZSAoIWNodW5rLmxpbmVzKSB7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDs7ICsraSkgew0KICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNodW5rLmNoaWxkcmVuW2ldLCBzeiA9IGNoaWxkLmNodW5rU2l6ZSgpDQogICAgICAgICAgICAgICAgaWYgKG4gPCBzeikgeyBjaHVuayA9IGNoaWxkOyBicmVhayB9DQogICAgICAgICAgICAgICAgbiAtPSBzeg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBjaHVuay5saW5lc1tuXQ0KICAgIH0NCg0KLy8gR2V0IHRoZSBwYXJ0IG9mIGEgZG9jdW1lbnQgYmV0d2VlbiB0d28gcG9zaXRpb25zLCBhcyBhbiBhcnJheSBvZg0KLy8gc3RyaW5ncy4NCiAgICBmdW5jdGlvbiBnZXRCZXR3ZWVuKGRvYywgc3RhcnQsIGVuZCkgew0KICAgICAgICB2YXIgb3V0ID0gW10sIG4gPSBzdGFydC5saW5lDQogICAgICAgIGRvYy5pdGVyKHN0YXJ0LmxpbmUsIGVuZC5saW5lICsgMSwgZnVuY3Rpb24gKGxpbmUpIHsNCiAgICAgICAgICAgIHZhciB0ZXh0ID0gbGluZS50ZXh0DQogICAgICAgICAgICBpZiAobiA9PSBlbmQubGluZSkgeyB0ZXh0ID0gdGV4dC5zbGljZSgwLCBlbmQuY2gpIH0NCiAgICAgICAgICAgIGlmIChuID09IHN0YXJ0LmxpbmUpIHsgdGV4dCA9IHRleHQuc2xpY2Uoc3RhcnQuY2gpIH0NCiAgICAgICAgICAgIG91dC5wdXNoKHRleHQpDQogICAgICAgICAgICArK24NCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIG91dA0KICAgIH0NCi8vIEdldCB0aGUgbGluZXMgYmV0d2VlbiBmcm9tIGFuZCB0bywgYXMgYXJyYXkgb2Ygc3RyaW5ncy4NCiAgICBmdW5jdGlvbiBnZXRMaW5lcyhkb2MsIGZyb20sIHRvKSB7DQogICAgICAgIHZhciBvdXQgPSBbXQ0KICAgICAgICBkb2MuaXRlcihmcm9tLCB0bywgZnVuY3Rpb24gKGxpbmUpIHsgb3V0LnB1c2gobGluZS50ZXh0KSB9KSAvLyBpdGVyIGFib3J0cyB3aGVuIGNhbGxiYWNrIHJldHVybnMgdHJ1dGh5IHZhbHVlDQogICAgICAgIHJldHVybiBvdXQNCiAgICB9DQoNCi8vIFVwZGF0ZSB0aGUgaGVpZ2h0IG9mIGEgbGluZSwgcHJvcGFnYXRpbmcgdGhlIGhlaWdodCBjaGFuZ2UNCi8vIHVwd2FyZHMgdG8gcGFyZW50IG5vZGVzLg0KICAgIGZ1bmN0aW9uIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgaGVpZ2h0KSB7DQogICAgICAgIHZhciBkaWZmID0gaGVpZ2h0IC0gbGluZS5oZWlnaHQNCiAgICAgICAgaWYgKGRpZmYpIHsgZm9yICh2YXIgbiA9IGxpbmU7IG47IG4gPSBuLnBhcmVudCkgeyBuLmhlaWdodCArPSBkaWZmIH0gfQ0KICAgIH0NCg0KLy8gR2l2ZW4gYSBsaW5lIG9iamVjdCwgZmluZCBpdHMgbGluZSBudW1iZXIgYnkgd2Fsa2luZyB1cCB0aHJvdWdoDQovLyBpdHMgcGFyZW50IGxpbmtzLg0KICAgIGZ1bmN0aW9uIGxpbmVObyhsaW5lKSB7DQogICAgICAgIGlmIChsaW5lLnBhcmVudCA9PSBudWxsKSB7IHJldHVybiBudWxsIH0NCiAgICAgICAgdmFyIGN1ciA9IGxpbmUucGFyZW50LCBubyA9IGluZGV4T2YoY3VyLmxpbmVzLCBsaW5lKQ0KICAgICAgICBmb3IgKHZhciBjaHVuayA9IGN1ci5wYXJlbnQ7IGNodW5rOyBjdXIgPSBjaHVuaywgY2h1bmsgPSBjaHVuay5wYXJlbnQpIHsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOzsgKytpKSB7DQogICAgICAgICAgICAgICAgaWYgKGNodW5rLmNoaWxkcmVuW2ldID09IGN1cikgeyBicmVhayB9DQogICAgICAgICAgICAgICAgbm8gKz0gY2h1bmsuY2hpbGRyZW5baV0uY2h1bmtTaXplKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbm8gKyBjdXIuZmlyc3QNCiAgICB9DQoNCi8vIEZpbmQgdGhlIGxpbmUgYXQgdGhlIGdpdmVuIHZlcnRpY2FsIHBvc2l0aW9uLCB1c2luZyB0aGUgaGVpZ2h0DQovLyBpbmZvcm1hdGlvbiBpbiB0aGUgZG9jdW1lbnQgdHJlZS4NCiAgICBmdW5jdGlvbiBsaW5lQXRIZWlnaHQoY2h1bmssIGgpIHsNCiAgICAgICAgdmFyIG4gPSBjaHVuay5maXJzdA0KICAgICAgICBvdXRlcjogZG8gew0KICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2h1bmsuY2hpbGRyZW4ubGVuZ3RoOyArK2kkMSkgew0KICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNodW5rLmNoaWxkcmVuW2kkMV0sIGNoID0gY2hpbGQuaGVpZ2h0DQogICAgICAgICAgICAgICAgaWYgKGggPCBjaCkgeyBjaHVuayA9IGNoaWxkOyBjb250aW51ZSBvdXRlciB9DQogICAgICAgICAgICAgICAgaCAtPSBjaA0KICAgICAgICAgICAgICAgIG4gKz0gY2hpbGQuY2h1bmtTaXplKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBuDQogICAgICAgIH0gd2hpbGUgKCFjaHVuay5saW5lcykNCiAgICAgICAgdmFyIGkgPSAwDQogICAgICAgIGZvciAoOyBpIDwgY2h1bmsubGluZXMubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciBsaW5lID0gY2h1bmsubGluZXNbaV0sIGxoID0gbGluZS5oZWlnaHQNCiAgICAgICAgICAgIGlmIChoIDwgbGgpIHsgYnJlYWsgfQ0KICAgICAgICAgICAgaCAtPSBsaA0KICAgICAgICB9DQogICAgICAgIHJldHVybiBuICsgaQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGlzTGluZShkb2MsIGwpIHtyZXR1cm4gbCA+PSBkb2MuZmlyc3QgJiYgbCA8IGRvYy5maXJzdCArIGRvYy5zaXplfQ0KDQogICAgZnVuY3Rpb24gbGluZU51bWJlckZvcihvcHRpb25zLCBpKSB7DQogICAgICAgIHJldHVybiBTdHJpbmcob3B0aW9ucy5saW5lTnVtYmVyRm9ybWF0dGVyKGkgKyBvcHRpb25zLmZpcnN0TGluZU51bWJlcikpDQogICAgfQ0KDQovLyBBIFBvcyBpbnN0YW5jZSByZXByZXNlbnRzIGEgcG9zaXRpb24gd2l0aGluIHRoZSB0ZXh0Lg0KICAgIGZ1bmN0aW9uIFBvcyAobGluZSwgY2gpIHsNCiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBvcykpIHsgcmV0dXJuIG5ldyBQb3MobGluZSwgY2gpIH0NCiAgICAgICAgdGhpcy5saW5lID0gbGluZTsgdGhpcy5jaCA9IGNoDQogICAgfQ0KDQovLyBDb21wYXJlIHR3byBwb3NpdGlvbnMsIHJldHVybiAwIGlmIHRoZXkgYXJlIHRoZSBzYW1lLCBhIG5lZ2F0aXZlDQovLyBudW1iZXIgd2hlbiBhIGlzIGxlc3MsIGFuZCBhIHBvc2l0aXZlIG51bWJlciBvdGhlcndpc2UuDQogICAgZnVuY3Rpb24gY21wKGEsIGIpIHsgcmV0dXJuIGEubGluZSAtIGIubGluZSB8fCBhLmNoIC0gYi5jaCB9DQoNCiAgICBmdW5jdGlvbiBjb3B5UG9zKHgpIHtyZXR1cm4gUG9zKHgubGluZSwgeC5jaCl9DQogICAgZnVuY3Rpb24gbWF4UG9zKGEsIGIpIHsgcmV0dXJuIGNtcChhLCBiKSA8IDAgPyBiIDogYSB9DQogICAgZnVuY3Rpb24gbWluUG9zKGEsIGIpIHsgcmV0dXJuIGNtcChhLCBiKSA8IDAgPyBhIDogYiB9DQoNCi8vIE1vc3Qgb2YgdGhlIGV4dGVybmFsIEFQSSBjbGlwcyBnaXZlbiBwb3NpdGlvbnMgdG8gbWFrZSBzdXJlIHRoZXkNCi8vIGFjdHVhbGx5IGV4aXN0IHdpdGhpbiB0aGUgZG9jdW1lbnQuDQogICAgZnVuY3Rpb24gY2xpcExpbmUoZG9jLCBuKSB7cmV0dXJuIE1hdGgubWF4KGRvYy5maXJzdCwgTWF0aC5taW4obiwgZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxKSl9DQogICAgZnVuY3Rpb24gY2xpcFBvcyhkb2MsIHBvcykgew0KICAgICAgICBpZiAocG9zLmxpbmUgPCBkb2MuZmlyc3QpIHsgcmV0dXJuIFBvcyhkb2MuZmlyc3QsIDApIH0NCiAgICAgICAgdmFyIGxhc3QgPSBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDENCiAgICAgICAgaWYgKHBvcy5saW5lID4gbGFzdCkgeyByZXR1cm4gUG9zKGxhc3QsIGdldExpbmUoZG9jLCBsYXN0KS50ZXh0Lmxlbmd0aCkgfQ0KICAgICAgICByZXR1cm4gY2xpcFRvTGVuKHBvcywgZ2V0TGluZShkb2MsIHBvcy5saW5lKS50ZXh0Lmxlbmd0aCkNCiAgICB9DQogICAgZnVuY3Rpb24gY2xpcFRvTGVuKHBvcywgbGluZWxlbikgew0KICAgICAgICB2YXIgY2ggPSBwb3MuY2gNCiAgICAgICAgaWYgKGNoID09IG51bGwgfHwgY2ggPiBsaW5lbGVuKSB7IHJldHVybiBQb3MocG9zLmxpbmUsIGxpbmVsZW4pIH0NCiAgICAgICAgZWxzZSBpZiAoY2ggPCAwKSB7IHJldHVybiBQb3MocG9zLmxpbmUsIDApIH0NCiAgICAgICAgZWxzZSB7IHJldHVybiBwb3MgfQ0KICAgIH0NCiAgICBmdW5jdGlvbiBjbGlwUG9zQXJyYXkoZG9jLCBhcnJheSkgew0KICAgICAgICB2YXIgb3V0ID0gW10NCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgeyBvdXRbaV0gPSBjbGlwUG9zKGRvYywgYXJyYXlbaV0pIH0NCiAgICAgICAgcmV0dXJuIG91dA0KICAgIH0NCg0KLy8gT3B0aW1pemUgc29tZSBjb2RlIHdoZW4gdGhlc2UgZmVhdHVyZXMgYXJlIG5vdCB1c2VkLg0KICAgIHZhciBzYXdSZWFkT25seVNwYW5zID0gZmFsc2U7DQogICAgdmFyIHNhd0NvbGxhcHNlZFNwYW5zID0gZmFsc2UNCg0KICAgIGZ1bmN0aW9uIHNlZVJlYWRPbmx5U3BhbnMoKSB7DQogICAgICAgIHNhd1JlYWRPbmx5U3BhbnMgPSB0cnVlDQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2VlQ29sbGFwc2VkU3BhbnMoKSB7DQogICAgICAgIHNhd0NvbGxhcHNlZFNwYW5zID0gdHJ1ZQ0KICAgIH0NCg0KLy8gVEVYVE1BUktFUiBTUEFOUw0KDQogICAgZnVuY3Rpb24gTWFya2VkU3BhbihtYXJrZXIsIGZyb20sIHRvKSB7DQogICAgICAgIHRoaXMubWFya2VyID0gbWFya2VyDQogICAgICAgIHRoaXMuZnJvbSA9IGZyb207IHRoaXMudG8gPSB0bw0KICAgIH0NCg0KLy8gU2VhcmNoIGFuIGFycmF5IG9mIHNwYW5zIGZvciBhIHNwYW4gbWF0Y2hpbmcgdGhlIGdpdmVuIG1hcmtlci4NCiAgICBmdW5jdGlvbiBnZXRNYXJrZWRTcGFuRm9yKHNwYW5zLCBtYXJrZXIpIHsNCiAgICAgICAgaWYgKHNwYW5zKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciBzcGFuID0gc3BhbnNbaV0NCiAgICAgICAgICAgIGlmIChzcGFuLm1hcmtlciA9PSBtYXJrZXIpIHsgcmV0dXJuIHNwYW4gfQ0KICAgICAgICB9IH0NCiAgICB9DQovLyBSZW1vdmUgYSBzcGFuIGZyb20gYW4gYXJyYXksIHJldHVybmluZyB1bmRlZmluZWQgaWYgbm8gc3BhbnMgYXJlDQovLyBsZWZ0ICh3ZSBkb24ndCBzdG9yZSBhcnJheXMgZm9yIGxpbmVzIHdpdGhvdXQgc3BhbnMpLg0KICAgIGZ1bmN0aW9uIHJlbW92ZU1hcmtlZFNwYW4oc3BhbnMsIHNwYW4pIHsNCiAgICAgICAgdmFyIHINCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSkNCiAgICAgICAgeyBpZiAoc3BhbnNbaV0gIT0gc3BhbikgeyAociB8fCAociA9IFtdKSkucHVzaChzcGFuc1tpXSkgfSB9DQogICAgICAgIHJldHVybiByDQogICAgfQ0KLy8gQWRkIGEgc3BhbiB0byBhIGxpbmUuDQogICAgZnVuY3Rpb24gYWRkTWFya2VkU3BhbihsaW5lLCBzcGFuKSB7DQogICAgICAgIGxpbmUubWFya2VkU3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zID8gbGluZS5tYXJrZWRTcGFucy5jb25jYXQoW3NwYW5dKSA6IFtzcGFuXQ0KICAgICAgICBzcGFuLm1hcmtlci5hdHRhY2hMaW5lKGxpbmUpDQogICAgfQ0KDQovLyBVc2VkIGZvciB0aGUgYWxnb3JpdGhtIHRoYXQgYWRqdXN0cyBtYXJrZXJzIGZvciBhIGNoYW5nZSBpbiB0aGUNCi8vIGRvY3VtZW50LiBUaGVzZSBmdW5jdGlvbnMgY3V0IGFuIGFycmF5IG9mIHNwYW5zIGF0IGEgZ2l2ZW4NCi8vIGNoYXJhY3RlciBwb3NpdGlvbiwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHJlbWFpbmluZyBjaHVua3MgKG9yDQovLyB1bmRlZmluZWQgaWYgbm90aGluZyByZW1haW5zKS4NCiAgICBmdW5jdGlvbiBtYXJrZWRTcGFuc0JlZm9yZShvbGQsIHN0YXJ0Q2gsIGlzSW5zZXJ0KSB7DQogICAgICAgIHZhciBudw0KICAgICAgICBpZiAob2xkKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICB2YXIgc3BhbiA9IG9sZFtpXSwgbWFya2VyID0gc3Bhbi5tYXJrZXINCiAgICAgICAgICAgIHZhciBzdGFydHNCZWZvcmUgPSBzcGFuLmZyb20gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZUxlZnQgPyBzcGFuLmZyb20gPD0gc3RhcnRDaCA6IHNwYW4uZnJvbSA8IHN0YXJ0Q2gpDQogICAgICAgICAgICBpZiAoc3RhcnRzQmVmb3JlIHx8IHNwYW4uZnJvbSA9PSBzdGFydENoICYmIG1hcmtlci50eXBlID09ICJib29rbWFyayIgJiYgKCFpc0luc2VydCB8fCAhc3Bhbi5tYXJrZXIuaW5zZXJ0TGVmdCkpIHsNCiAgICAgICAgICAgICAgICB2YXIgZW5kc0FmdGVyID0gc3Bhbi50byA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlUmlnaHQgPyBzcGFuLnRvID49IHN0YXJ0Q2ggOiBzcGFuLnRvID4gc3RhcnRDaCk7KG53IHx8IChudyA9IFtdKSkucHVzaChuZXcgTWFya2VkU3BhbihtYXJrZXIsIHNwYW4uZnJvbSwgZW5kc0FmdGVyID8gbnVsbCA6IHNwYW4udG8pKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9IH0NCiAgICAgICAgcmV0dXJuIG53DQogICAgfQ0KICAgIGZ1bmN0aW9uIG1hcmtlZFNwYW5zQWZ0ZXIob2xkLCBlbmRDaCwgaXNJbnNlcnQpIHsNCiAgICAgICAgdmFyIG53DQogICAgICAgIGlmIChvbGQpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciBzcGFuID0gb2xkW2ldLCBtYXJrZXIgPSBzcGFuLm1hcmtlcg0KICAgICAgICAgICAgdmFyIGVuZHNBZnRlciA9IHNwYW4udG8gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZVJpZ2h0ID8gc3Bhbi50byA+PSBlbmRDaCA6IHNwYW4udG8gPiBlbmRDaCkNCiAgICAgICAgICAgIGlmIChlbmRzQWZ0ZXIgfHwgc3Bhbi5mcm9tID09IGVuZENoICYmIG1hcmtlci50eXBlID09ICJib29rbWFyayIgJiYgKCFpc0luc2VydCB8fCBzcGFuLm1hcmtlci5pbnNlcnRMZWZ0KSkgew0KICAgICAgICAgICAgICAgIHZhciBzdGFydHNCZWZvcmUgPSBzcGFuLmZyb20gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZUxlZnQgPyBzcGFuLmZyb20gPD0gZW5kQ2ggOiBzcGFuLmZyb20gPCBlbmRDaCk7KG53IHx8IChudyA9IFtdKSkucHVzaChuZXcgTWFya2VkU3BhbihtYXJrZXIsIHN0YXJ0c0JlZm9yZSA/IG51bGwgOiBzcGFuLmZyb20gLSBlbmRDaCwNCiAgICAgICAgICAgICAgICAgICAgc3Bhbi50byA9PSBudWxsID8gbnVsbCA6IHNwYW4udG8gLSBlbmRDaCkpDQogICAgICAgICAgICB9DQogICAgICAgIH0gfQ0KICAgICAgICByZXR1cm4gbncNCiAgICB9DQoNCi8vIEdpdmVuIGEgY2hhbmdlIG9iamVjdCwgY29tcHV0ZSB0aGUgbmV3IHNldCBvZiBtYXJrZXIgc3BhbnMgdGhhdA0KLy8gY292ZXIgdGhlIGxpbmUgaW4gd2hpY2ggdGhlIGNoYW5nZSB0b29rIHBsYWNlLiBSZW1vdmVzIHNwYW5zDQovLyBlbnRpcmVseSB3aXRoaW4gdGhlIGNoYW5nZSwgcmVjb25uZWN0cyBzcGFucyBiZWxvbmdpbmcgdG8gdGhlDQovLyBzYW1lIG1hcmtlciB0aGF0IGFwcGVhciBvbiBib3RoIHNpZGVzIG9mIHRoZSBjaGFuZ2UsIGFuZCBjdXRzIG9mZg0KLy8gc3BhbnMgcGFydGlhbGx5IHdpdGhpbiB0aGUgY2hhbmdlLiBSZXR1cm5zIGFuIGFycmF5IG9mIHNwYW4NCi8vIGFycmF5cyB3aXRoIG9uZSBlbGVtZW50IGZvciBlYWNoIGxpbmUgaW4gKGFmdGVyKSB0aGUgY2hhbmdlLg0KICAgIGZ1bmN0aW9uIHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIHsNCiAgICAgICAgaWYgKGNoYW5nZS5mdWxsKSB7IHJldHVybiBudWxsIH0NCiAgICAgICAgdmFyIG9sZEZpcnN0ID0gaXNMaW5lKGRvYywgY2hhbmdlLmZyb20ubGluZSkgJiYgZ2V0TGluZShkb2MsIGNoYW5nZS5mcm9tLmxpbmUpLm1hcmtlZFNwYW5zDQogICAgICAgIHZhciBvbGRMYXN0ID0gaXNMaW5lKGRvYywgY2hhbmdlLnRvLmxpbmUpICYmIGdldExpbmUoZG9jLCBjaGFuZ2UudG8ubGluZSkubWFya2VkU3BhbnMNCiAgICAgICAgaWYgKCFvbGRGaXJzdCAmJiAhb2xkTGFzdCkgeyByZXR1cm4gbnVsbCB9DQoNCiAgICAgICAgdmFyIHN0YXJ0Q2ggPSBjaGFuZ2UuZnJvbS5jaCwgZW5kQ2ggPSBjaGFuZ2UudG8uY2gsIGlzSW5zZXJ0ID0gY21wKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pID09IDANCiAgICAgICAgLy8gR2V0IHRoZSBzcGFucyB0aGF0ICdzdGljayBvdXQnIG9uIGJvdGggc2lkZXMNCiAgICAgICAgdmFyIGZpcnN0ID0gbWFya2VkU3BhbnNCZWZvcmUob2xkRmlyc3QsIHN0YXJ0Q2gsIGlzSW5zZXJ0KQ0KICAgICAgICB2YXIgbGFzdCA9IG1hcmtlZFNwYW5zQWZ0ZXIob2xkTGFzdCwgZW5kQ2gsIGlzSW5zZXJ0KQ0KDQogICAgICAgIC8vIE5leHQsIG1lcmdlIHRob3NlIHR3byBlbmRzDQogICAgICAgIHZhciBzYW1lTGluZSA9IGNoYW5nZS50ZXh0Lmxlbmd0aCA9PSAxLCBvZmZzZXQgPSBsc3QoY2hhbmdlLnRleHQpLmxlbmd0aCArIChzYW1lTGluZSA/IHN0YXJ0Q2ggOiAwKQ0KICAgICAgICBpZiAoZmlyc3QpIHsNCiAgICAgICAgICAgIC8vIEZpeCB1cCAudG8gcHJvcGVydGllcyBvZiBmaXJzdA0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaXJzdC5sZW5ndGg7ICsraSkgew0KICAgICAgICAgICAgICAgIHZhciBzcGFuID0gZmlyc3RbaV0NCiAgICAgICAgICAgICAgICBpZiAoc3Bhbi50byA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGdldE1hcmtlZFNwYW5Gb3IobGFzdCwgc3Bhbi5tYXJrZXIpDQogICAgICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHsgc3Bhbi50byA9IHN0YXJ0Q2ggfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzYW1lTGluZSkgeyBzcGFuLnRvID0gZm91bmQudG8gPT0gbnVsbCA/IG51bGwgOiBmb3VuZC50byArIG9mZnNldCB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChsYXN0KSB7DQogICAgICAgICAgICAvLyBGaXggdXAgLmZyb20gaW4gbGFzdCAob3IgbW92ZSB0aGVtIGludG8gZmlyc3QgaW4gY2FzZSBvZiBzYW1lTGluZSkNCiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGxhc3QubGVuZ3RoOyArK2kkMSkgew0KICAgICAgICAgICAgICAgIHZhciBzcGFuJDEgPSBsYXN0W2kkMV0NCiAgICAgICAgICAgICAgICBpZiAoc3BhbiQxLnRvICE9IG51bGwpIHsgc3BhbiQxLnRvICs9IG9mZnNldCB9DQogICAgICAgICAgICAgICAgaWYgKHNwYW4kMS5mcm9tID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kJDEgPSBnZXRNYXJrZWRTcGFuRm9yKGZpcnN0LCBzcGFuJDEubWFya2VyKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoIWZvdW5kJDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4kMS5mcm9tID0gb2Zmc2V0DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2FtZUxpbmUpIHsgKGZpcnN0IHx8IChmaXJzdCA9IFtdKSkucHVzaChzcGFuJDEpIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHNwYW4kMS5mcm9tICs9IG9mZnNldA0KICAgICAgICAgICAgICAgICAgICBpZiAoc2FtZUxpbmUpIHsgKGZpcnN0IHx8IChmaXJzdCA9IFtdKSkucHVzaChzcGFuJDEpIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGRpZG4ndCBjcmVhdGUgYW55IHplcm8tbGVuZ3RoIHNwYW5zDQogICAgICAgIGlmIChmaXJzdCkgeyBmaXJzdCA9IGNsZWFyRW1wdHlTcGFucyhmaXJzdCkgfQ0KICAgICAgICBpZiAobGFzdCAmJiBsYXN0ICE9IGZpcnN0KSB7IGxhc3QgPSBjbGVhckVtcHR5U3BhbnMobGFzdCkgfQ0KDQogICAgICAgIHZhciBuZXdNYXJrZXJzID0gW2ZpcnN0XQ0KICAgICAgICBpZiAoIXNhbWVMaW5lKSB7DQogICAgICAgICAgICAvLyBGaWxsIGdhcCB3aXRoIHdob2xlLWxpbmUtc3BhbnMNCiAgICAgICAgICAgIHZhciBnYXAgPSBjaGFuZ2UudGV4dC5sZW5ndGggLSAyLCBnYXBNYXJrZXJzDQogICAgICAgICAgICBpZiAoZ2FwID4gMCAmJiBmaXJzdCkNCiAgICAgICAgICAgIHsgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgZmlyc3QubGVuZ3RoOyArK2kkMikNCiAgICAgICAgICAgIHsgaWYgKGZpcnN0W2kkMl0udG8gPT0gbnVsbCkNCiAgICAgICAgICAgIHsgKGdhcE1hcmtlcnMgfHwgKGdhcE1hcmtlcnMgPSBbXSkpLnB1c2gobmV3IE1hcmtlZFNwYW4oZmlyc3RbaSQyXS5tYXJrZXIsIG51bGwsIG51bGwpKSB9IH0gfQ0KICAgICAgICAgICAgZm9yICh2YXIgaSQzID0gMDsgaSQzIDwgZ2FwOyArK2kkMykNCiAgICAgICAgICAgIHsgbmV3TWFya2Vycy5wdXNoKGdhcE1hcmtlcnMpIH0NCiAgICAgICAgICAgIG5ld01hcmtlcnMucHVzaChsYXN0KQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBuZXdNYXJrZXJzDQogICAgfQ0KDQovLyBSZW1vdmUgc3BhbnMgdGhhdCBhcmUgZW1wdHkgYW5kIGRvbid0IGhhdmUgYSBjbGVhcldoZW5FbXB0eQ0KLy8gb3B0aW9uIG9mIGZhbHNlLg0KICAgIGZ1bmN0aW9uIGNsZWFyRW1wdHlTcGFucyhzcGFucykgew0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICB2YXIgc3BhbiA9IHNwYW5zW2ldDQogICAgICAgICAgICBpZiAoc3Bhbi5mcm9tICE9IG51bGwgJiYgc3Bhbi5mcm9tID09IHNwYW4udG8gJiYgc3Bhbi5tYXJrZXIuY2xlYXJXaGVuRW1wdHkgIT09IGZhbHNlKQ0KICAgICAgICAgICAgeyBzcGFucy5zcGxpY2UoaS0tLCAxKSB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKCFzcGFucy5sZW5ndGgpIHsgcmV0dXJuIG51bGwgfQ0KICAgICAgICByZXR1cm4gc3BhbnMNCiAgICB9DQoNCi8vIFVzZWQgdG8gJ2NsaXAnIG91dCByZWFkT25seSByYW5nZXMgd2hlbiBtYWtpbmcgYSBjaGFuZ2UuDQogICAgZnVuY3Rpb24gcmVtb3ZlUmVhZE9ubHlSYW5nZXMoZG9jLCBmcm9tLCB0bykgew0KICAgICAgICB2YXIgbWFya2VycyA9IG51bGwNCiAgICAgICAgZG9jLml0ZXIoZnJvbS5saW5lLCB0by5saW5lICsgMSwgZnVuY3Rpb24gKGxpbmUpIHsNCiAgICAgICAgICAgIGlmIChsaW5lLm1hcmtlZFNwYW5zKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS5tYXJrZWRTcGFucy5sZW5ndGg7ICsraSkgew0KICAgICAgICAgICAgICAgIHZhciBtYXJrID0gbGluZS5tYXJrZWRTcGFuc1tpXS5tYXJrZXINCiAgICAgICAgICAgICAgICBpZiAobWFyay5yZWFkT25seSAmJiAoIW1hcmtlcnMgfHwgaW5kZXhPZihtYXJrZXJzLCBtYXJrKSA9PSAtMSkpDQogICAgICAgICAgICAgICAgeyAobWFya2VycyB8fCAobWFya2VycyA9IFtdKSkucHVzaChtYXJrKSB9DQogICAgICAgICAgICB9IH0NCiAgICAgICAgfSkNCiAgICAgICAgaWYgKCFtYXJrZXJzKSB7IHJldHVybiBudWxsIH0NCiAgICAgICAgdmFyIHBhcnRzID0gW3tmcm9tOiBmcm9tLCB0bzogdG99XQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciBtayA9IG1hcmtlcnNbaV0sIG0gPSBtay5maW5kKDApDQogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcnRzLmxlbmd0aDsgKytqKSB7DQogICAgICAgICAgICAgICAgdmFyIHAgPSBwYXJ0c1tqXQ0KICAgICAgICAgICAgICAgIGlmIChjbXAocC50bywgbS5mcm9tKSA8IDAgfHwgY21wKHAuZnJvbSwgbS50bykgPiAwKSB7IGNvbnRpbnVlIH0NCiAgICAgICAgICAgICAgICB2YXIgbmV3UGFydHMgPSBbaiwgMV0sIGRmcm9tID0gY21wKHAuZnJvbSwgbS5mcm9tKSwgZHRvID0gY21wKHAudG8sIG0udG8pDQogICAgICAgICAgICAgICAgaWYgKGRmcm9tIDwgMCB8fCAhbWsuaW5jbHVzaXZlTGVmdCAmJiAhZGZyb20pDQogICAgICAgICAgICAgICAgeyBuZXdQYXJ0cy5wdXNoKHtmcm9tOiBwLmZyb20sIHRvOiBtLmZyb219KSB9DQogICAgICAgICAgICAgICAgaWYgKGR0byA+IDAgfHwgIW1rLmluY2x1c2l2ZVJpZ2h0ICYmICFkdG8pDQogICAgICAgICAgICAgICAgeyBuZXdQYXJ0cy5wdXNoKHtmcm9tOiBtLnRvLCB0bzogcC50b30pIH0NCiAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UuYXBwbHkocGFydHMsIG5ld1BhcnRzKQ0KICAgICAgICAgICAgICAgIGogKz0gbmV3UGFydHMubGVuZ3RoIC0gMQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBwYXJ0cw0KICAgIH0NCg0KLy8gQ29ubmVjdCBvciBkaXNjb25uZWN0IHNwYW5zIGZyb20gYSBsaW5lLg0KICAgIGZ1bmN0aW9uIGRldGFjaE1hcmtlZFNwYW5zKGxpbmUpIHsNCiAgICAgICAgdmFyIHNwYW5zID0gbGluZS5tYXJrZWRTcGFucw0KICAgICAgICBpZiAoIXNwYW5zKSB7IHJldHVybiB9DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpDQogICAgICAgIHsgc3BhbnNbaV0ubWFya2VyLmRldGFjaExpbmUobGluZSkgfQ0KICAgICAgICBsaW5lLm1hcmtlZFNwYW5zID0gbnVsbA0KICAgIH0NCiAgICBmdW5jdGlvbiBhdHRhY2hNYXJrZWRTcGFucyhsaW5lLCBzcGFucykgew0KICAgICAgICBpZiAoIXNwYW5zKSB7IHJldHVybiB9DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpDQogICAgICAgIHsgc3BhbnNbaV0ubWFya2VyLmF0dGFjaExpbmUobGluZSkgfQ0KICAgICAgICBsaW5lLm1hcmtlZFNwYW5zID0gc3BhbnMNCiAgICB9DQoNCi8vIEhlbHBlcnMgdXNlZCB3aGVuIGNvbXB1dGluZyB3aGljaCBvdmVybGFwcGluZyBjb2xsYXBzZWQgc3Bhbg0KLy8gY291bnRzIGFzIHRoZSBsYXJnZXIgb25lLg0KICAgIGZ1bmN0aW9uIGV4dHJhTGVmdChtYXJrZXIpIHsgcmV0dXJuIG1hcmtlci5pbmNsdXNpdmVMZWZ0ID8gLTEgOiAwIH0NCiAgICBmdW5jdGlvbiBleHRyYVJpZ2h0KG1hcmtlcikgeyByZXR1cm4gbWFya2VyLmluY2x1c2l2ZVJpZ2h0ID8gMSA6IDAgfQ0KDQovLyBSZXR1cm5zIGEgbnVtYmVyIGluZGljYXRpbmcgd2hpY2ggb2YgdHdvIG92ZXJsYXBwaW5nIGNvbGxhcHNlZA0KLy8gc3BhbnMgaXMgbGFyZ2VyIChhbmQgdGh1cyBpbmNsdWRlcyB0aGUgb3RoZXIpLiBGYWxscyBiYWNrIHRvDQovLyBjb21wYXJpbmcgaWRzIHdoZW4gdGhlIHNwYW5zIGNvdmVyIGV4YWN0bHkgdGhlIHNhbWUgcmFuZ2UuDQogICAgZnVuY3Rpb24gY29tcGFyZUNvbGxhcHNlZE1hcmtlcnMoYSwgYikgew0KICAgICAgICB2YXIgbGVuRGlmZiA9IGEubGluZXMubGVuZ3RoIC0gYi5saW5lcy5sZW5ndGgNCiAgICAgICAgaWYgKGxlbkRpZmYgIT0gMCkgeyByZXR1cm4gbGVuRGlmZiB9DQogICAgICAgIHZhciBhUG9zID0gYS5maW5kKCksIGJQb3MgPSBiLmZpbmQoKQ0KICAgICAgICB2YXIgZnJvbUNtcCA9IGNtcChhUG9zLmZyb20sIGJQb3MuZnJvbSkgfHwgZXh0cmFMZWZ0KGEpIC0gZXh0cmFMZWZ0KGIpDQogICAgICAgIGlmIChmcm9tQ21wKSB7IHJldHVybiAtZnJvbUNtcCB9DQogICAgICAgIHZhciB0b0NtcCA9IGNtcChhUG9zLnRvLCBiUG9zLnRvKSB8fCBleHRyYVJpZ2h0KGEpIC0gZXh0cmFSaWdodChiKQ0KICAgICAgICBpZiAodG9DbXApIHsgcmV0dXJuIHRvQ21wIH0NCiAgICAgICAgcmV0dXJuIGIuaWQgLSBhLmlkDQogICAgfQ0KDQovLyBGaW5kIG91dCB3aGV0aGVyIGEgbGluZSBlbmRzIG9yIHN0YXJ0cyBpbiBhIGNvbGxhcHNlZCBzcGFuLiBJZg0KLy8gc28sIHJldHVybiB0aGUgbWFya2VyIGZvciB0aGF0IHNwYW4uDQogICAgZnVuY3Rpb24gY29sbGFwc2VkU3BhbkF0U2lkZShsaW5lLCBzdGFydCkgew0KICAgICAgICB2YXIgc3BzID0gc2F3Q29sbGFwc2VkU3BhbnMgJiYgbGluZS5tYXJrZWRTcGFucywgZm91bmQNCiAgICAgICAgaWYgKHNwcykgeyBmb3IgKHZhciBzcCA9IHZvaWQgMCwgaSA9IDA7IGkgPCBzcHMubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHNwID0gc3BzW2ldDQogICAgICAgICAgICBpZiAoc3AubWFya2VyLmNvbGxhcHNlZCAmJiAoc3RhcnQgPyBzcC5mcm9tIDogc3AudG8pID09IG51bGwgJiYNCiAgICAgICAgICAgICAgICAoIWZvdW5kIHx8IGNvbXBhcmVDb2xsYXBzZWRNYXJrZXJzKGZvdW5kLCBzcC5tYXJrZXIpIDwgMCkpDQogICAgICAgICAgICB7IGZvdW5kID0gc3AubWFya2VyIH0NCiAgICAgICAgfSB9DQogICAgICAgIHJldHVybiBmb3VuZA0KICAgIH0NCiAgICBmdW5jdGlvbiBjb2xsYXBzZWRTcGFuQXRTdGFydChsaW5lKSB7IHJldHVybiBjb2xsYXBzZWRTcGFuQXRTaWRlKGxpbmUsIHRydWUpIH0NCiAgICBmdW5jdGlvbiBjb2xsYXBzZWRTcGFuQXRFbmQobGluZSkgeyByZXR1cm4gY29sbGFwc2VkU3BhbkF0U2lkZShsaW5lLCBmYWxzZSkgfQ0KDQovLyBUZXN0IHdoZXRoZXIgdGhlcmUgZXhpc3RzIGEgY29sbGFwc2VkIHNwYW4gdGhhdCBwYXJ0aWFsbHkNCi8vIG92ZXJsYXBzIChjb3ZlcnMgdGhlIHN0YXJ0IG9yIGVuZCwgYnV0IG5vdCBib3RoKSBvZiBhIG5ldyBzcGFuLg0KLy8gU3VjaCBvdmVybGFwIGlzIG5vdCBhbGxvd2VkLg0KICAgIGZ1bmN0aW9uIGNvbmZsaWN0aW5nQ29sbGFwc2VkUmFuZ2UoZG9jLCBsaW5lTm8kJDEsIGZyb20sIHRvLCBtYXJrZXIpIHsNCiAgICAgICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbGluZU5vJCQxKQ0KICAgICAgICB2YXIgc3BzID0gc2F3Q29sbGFwc2VkU3BhbnMgJiYgbGluZS5tYXJrZWRTcGFucw0KICAgICAgICBpZiAoc3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgc3BzLmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICB2YXIgc3AgPSBzcHNbaV0NCiAgICAgICAgICAgIGlmICghc3AubWFya2VyLmNvbGxhcHNlZCkgeyBjb250aW51ZSB9DQogICAgICAgICAgICB2YXIgZm91bmQgPSBzcC5tYXJrZXIuZmluZCgwKQ0KICAgICAgICAgICAgdmFyIGZyb21DbXAgPSBjbXAoZm91bmQuZnJvbSwgZnJvbSkgfHwgZXh0cmFMZWZ0KHNwLm1hcmtlcikgLSBleHRyYUxlZnQobWFya2VyKQ0KICAgICAgICAgICAgdmFyIHRvQ21wID0gY21wKGZvdW5kLnRvLCB0bykgfHwgZXh0cmFSaWdodChzcC5tYXJrZXIpIC0gZXh0cmFSaWdodChtYXJrZXIpDQogICAgICAgICAgICBpZiAoZnJvbUNtcCA+PSAwICYmIHRvQ21wIDw9IDAgfHwgZnJvbUNtcCA8PSAwICYmIHRvQ21wID49IDApIHsgY29udGludWUgfQ0KICAgICAgICAgICAgaWYgKGZyb21DbXAgPD0gMCAmJiAoc3AubWFya2VyLmluY2x1c2l2ZVJpZ2h0ICYmIG1hcmtlci5pbmNsdXNpdmVMZWZ0ID8gY21wKGZvdW5kLnRvLCBmcm9tKSA+PSAwIDogY21wKGZvdW5kLnRvLCBmcm9tKSA+IDApIHx8DQogICAgICAgICAgICAgICAgZnJvbUNtcCA+PSAwICYmIChzcC5tYXJrZXIuaW5jbHVzaXZlUmlnaHQgJiYgbWFya2VyLmluY2x1c2l2ZUxlZnQgPyBjbXAoZm91bmQuZnJvbSwgdG8pIDw9IDAgOiBjbXAoZm91bmQuZnJvbSwgdG8pIDwgMCkpDQogICAgICAgICAgICB7IHJldHVybiB0cnVlIH0NCiAgICAgICAgfSB9DQogICAgfQ0KDQovLyBBIHZpc3VhbCBsaW5lIGlzIGEgbGluZSBhcyBkcmF3biBvbiB0aGUgc2NyZWVuLiBGb2xkaW5nLCBmb3INCi8vIGV4YW1wbGUsIGNhbiBjYXVzZSBtdWx0aXBsZSBsb2dpY2FsIGxpbmVzIHRvIGFwcGVhciBvbiB0aGUgc2FtZQ0KLy8gdmlzdWFsIGxpbmUuIFRoaXMgZmluZHMgdGhlIHN0YXJ0IG9mIHRoZSB2aXN1YWwgbGluZSB0aGF0IHRoZQ0KLy8gZ2l2ZW4gbGluZSBpcyBwYXJ0IG9mICh1c3VhbGx5IHRoYXQgaXMgdGhlIGxpbmUgaXRzZWxmKS4NCiAgICBmdW5jdGlvbiB2aXN1YWxMaW5lKGxpbmUpIHsNCiAgICAgICAgdmFyIG1lcmdlZA0KICAgICAgICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0U3RhcnQobGluZSkpDQogICAgICAgIHsgbGluZSA9IG1lcmdlZC5maW5kKC0xLCB0cnVlKS5saW5lIH0NCiAgICAgICAgcmV0dXJuIGxpbmUNCiAgICB9DQoNCi8vIFJldHVybnMgYW4gYXJyYXkgb2YgbG9naWNhbCBsaW5lcyB0aGF0IGNvbnRpbnVlIHRoZSB2aXN1YWwgbGluZQ0KLy8gc3RhcnRlZCBieSB0aGUgYXJndW1lbnQsIG9yIHVuZGVmaW5lZCBpZiB0aGVyZSBhcmUgbm8gc3VjaCBsaW5lcy4NCiAgICBmdW5jdGlvbiB2aXN1YWxMaW5lQ29udGludWVkKGxpbmUpIHsNCiAgICAgICAgdmFyIG1lcmdlZCwgbGluZXMNCiAgICAgICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lKSkgew0KICAgICAgICAgICAgbGluZSA9IG1lcmdlZC5maW5kKDEsIHRydWUpLmxpbmUNCiAgICAgICAgICAgIDsobGluZXMgfHwgKGxpbmVzID0gW10pKS5wdXNoKGxpbmUpDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGxpbmVzDQogICAgfQ0KDQovLyBHZXQgdGhlIGxpbmUgbnVtYmVyIG9mIHRoZSBzdGFydCBvZiB0aGUgdmlzdWFsIGxpbmUgdGhhdCB0aGUNCi8vIGdpdmVuIGxpbmUgbnVtYmVyIGlzIHBhcnQgb2YuDQogICAgZnVuY3Rpb24gdmlzdWFsTGluZU5vKGRvYywgbGluZU4pIHsNCiAgICAgICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbGluZU4pLCB2aXMgPSB2aXN1YWxMaW5lKGxpbmUpDQogICAgICAgIGlmIChsaW5lID09IHZpcykgeyByZXR1cm4gbGluZU4gfQ0KICAgICAgICByZXR1cm4gbGluZU5vKHZpcykNCiAgICB9DQoNCi8vIEdldCB0aGUgbGluZSBudW1iZXIgb2YgdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IHZpc3VhbCBsaW5lIGFmdGVyDQovLyB0aGUgZ2l2ZW4gbGluZS4NCiAgICBmdW5jdGlvbiB2aXN1YWxMaW5lRW5kTm8oZG9jLCBsaW5lTikgew0KICAgICAgICBpZiAobGluZU4gPiBkb2MubGFzdExpbmUoKSkgeyByZXR1cm4gbGluZU4gfQ0KICAgICAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBsaW5lTiksIG1lcmdlZA0KICAgICAgICBpZiAoIWxpbmVJc0hpZGRlbihkb2MsIGxpbmUpKSB7IHJldHVybiBsaW5lTiB9DQogICAgICAgIHdoaWxlIChtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRFbmQobGluZSkpDQogICAgICAgIHsgbGluZSA9IG1lcmdlZC5maW5kKDEsIHRydWUpLmxpbmUgfQ0KICAgICAgICByZXR1cm4gbGluZU5vKGxpbmUpICsgMQ0KICAgIH0NCg0KLy8gQ29tcHV0ZSB3aGV0aGVyIGEgbGluZSBpcyBoaWRkZW4uIExpbmVzIGNvdW50IGFzIGhpZGRlbiB3aGVuIHRoZXkNCi8vIGFyZSBwYXJ0IG9mIGEgdmlzdWFsIGxpbmUgdGhhdCBzdGFydHMgd2l0aCBhbm90aGVyIGxpbmUsIG9yIHdoZW4NCi8vIHRoZXkgYXJlIGVudGlyZWx5IGNvdmVyZWQgYnkgY29sbGFwc2VkLCBub24td2lkZ2V0IHNwYW4uDQogICAgZnVuY3Rpb24gbGluZUlzSGlkZGVuKGRvYywgbGluZSkgew0KICAgICAgICB2YXIgc3BzID0gc2F3Q29sbGFwc2VkU3BhbnMgJiYgbGluZS5tYXJrZWRTcGFucw0KICAgICAgICBpZiAoc3BzKSB7IGZvciAodmFyIHNwID0gdm9pZCAwLCBpID0gMDsgaSA8IHNwcy5sZW5ndGg7ICsraSkgew0KICAgICAgICAgICAgc3AgPSBzcHNbaV0NCiAgICAgICAgICAgIGlmICghc3AubWFya2VyLmNvbGxhcHNlZCkgeyBjb250aW51ZSB9DQogICAgICAgICAgICBpZiAoc3AuZnJvbSA9PSBudWxsKSB7IHJldHVybiB0cnVlIH0NCiAgICAgICAgICAgIGlmIChzcC5tYXJrZXIud2lkZ2V0Tm9kZSkgeyBjb250aW51ZSB9DQogICAgICAgICAgICBpZiAoc3AuZnJvbSA9PSAwICYmIHNwLm1hcmtlci5pbmNsdXNpdmVMZWZ0ICYmIGxpbmVJc0hpZGRlbklubmVyKGRvYywgbGluZSwgc3ApKQ0KICAgICAgICAgICAgeyByZXR1cm4gdHJ1ZSB9DQogICAgICAgIH0gfQ0KICAgIH0NCiAgICBmdW5jdGlvbiBsaW5lSXNIaWRkZW5Jbm5lcihkb2MsIGxpbmUsIHNwYW4pIHsNCiAgICAgICAgaWYgKHNwYW4udG8gPT0gbnVsbCkgew0KICAgICAgICAgICAgdmFyIGVuZCA9IHNwYW4ubWFya2VyLmZpbmQoMSwgdHJ1ZSkNCiAgICAgICAgICAgIHJldHVybiBsaW5lSXNIaWRkZW5Jbm5lcihkb2MsIGVuZC5saW5lLCBnZXRNYXJrZWRTcGFuRm9yKGVuZC5saW5lLm1hcmtlZFNwYW5zLCBzcGFuLm1hcmtlcikpDQogICAgICAgIH0NCiAgICAgICAgaWYgKHNwYW4ubWFya2VyLmluY2x1c2l2ZVJpZ2h0ICYmIHNwYW4udG8gPT0gbGluZS50ZXh0Lmxlbmd0aCkNCiAgICAgICAgeyByZXR1cm4gdHJ1ZSB9DQogICAgICAgIGZvciAodmFyIHNwID0gdm9pZCAwLCBpID0gMDsgaSA8IGxpbmUubWFya2VkU3BhbnMubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHNwID0gbGluZS5tYXJrZWRTcGFuc1tpXQ0KICAgICAgICAgICAgaWYgKHNwLm1hcmtlci5jb2xsYXBzZWQgJiYgIXNwLm1hcmtlci53aWRnZXROb2RlICYmIHNwLmZyb20gPT0gc3Bhbi50byAmJg0KICAgICAgICAgICAgICAgIChzcC50byA9PSBudWxsIHx8IHNwLnRvICE9IHNwYW4uZnJvbSkgJiYNCiAgICAgICAgICAgICAgICAoc3AubWFya2VyLmluY2x1c2l2ZUxlZnQgfHwgc3Bhbi5tYXJrZXIuaW5jbHVzaXZlUmlnaHQpICYmDQogICAgICAgICAgICAgICAgbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBsaW5lLCBzcCkpIHsgcmV0dXJuIHRydWUgfQ0KICAgICAgICB9DQogICAgfQ0KDQovLyBGaW5kIHRoZSBoZWlnaHQgYWJvdmUgdGhlIGdpdmVuIGxpbmUuDQogICAgZnVuY3Rpb24gaGVpZ2h0QXRMaW5lKGxpbmVPYmopIHsNCiAgICAgICAgbGluZU9iaiA9IHZpc3VhbExpbmUobGluZU9iaikNCg0KICAgICAgICB2YXIgaCA9IDAsIGNodW5rID0gbGluZU9iai5wYXJlbnQNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaHVuay5saW5lcy5sZW5ndGg7ICsraSkgew0KICAgICAgICAgICAgdmFyIGxpbmUgPSBjaHVuay5saW5lc1tpXQ0KICAgICAgICAgICAgaWYgKGxpbmUgPT0gbGluZU9iaikgeyBicmVhayB9DQogICAgICAgICAgICBlbHNlIHsgaCArPSBsaW5lLmhlaWdodCB9DQogICAgICAgIH0NCiAgICAgICAgZm9yICh2YXIgcCA9IGNodW5rLnBhcmVudDsgcDsgY2h1bmsgPSBwLCBwID0gY2h1bmsucGFyZW50KSB7DQogICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBwLmNoaWxkcmVuLmxlbmd0aDsgKytpJDEpIHsNCiAgICAgICAgICAgICAgICB2YXIgY3VyID0gcC5jaGlsZHJlbltpJDFdDQogICAgICAgICAgICAgICAgaWYgKGN1ciA9PSBjaHVuaykgeyBicmVhayB9DQogICAgICAgICAgICAgICAgZWxzZSB7IGggKz0gY3VyLmhlaWdodCB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGgNCiAgICB9DQoNCi8vIENvbXB1dGUgdGhlIGNoYXJhY3RlciBsZW5ndGggb2YgYSBsaW5lLCB0YWtpbmcgaW50byBhY2NvdW50DQovLyBjb2xsYXBzZWQgcmFuZ2VzIChzZWUgbWFya1RleHQpIHRoYXQgbWlnaHQgaGlkZSBwYXJ0cywgYW5kIGpvaW4NCi8vIG90aGVyIGxpbmVzIG9udG8gaXQuDQogICAgZnVuY3Rpb24gbGluZUxlbmd0aChsaW5lKSB7DQogICAgICAgIGlmIChsaW5lLmhlaWdodCA9PSAwKSB7IHJldHVybiAwIH0NCiAgICAgICAgdmFyIGxlbiA9IGxpbmUudGV4dC5sZW5ndGgsIG1lcmdlZCwgY3VyID0gbGluZQ0KICAgICAgICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0U3RhcnQoY3VyKSkgew0KICAgICAgICAgICAgdmFyIGZvdW5kID0gbWVyZ2VkLmZpbmQoMCwgdHJ1ZSkNCiAgICAgICAgICAgIGN1ciA9IGZvdW5kLmZyb20ubGluZQ0KICAgICAgICAgICAgbGVuICs9IGZvdW5kLmZyb20uY2ggLSBmb3VuZC50by5jaA0KICAgICAgICB9DQogICAgICAgIGN1ciA9IGxpbmUNCiAgICAgICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChjdXIpKSB7DQogICAgICAgICAgICB2YXIgZm91bmQkMSA9IG1lcmdlZC5maW5kKDAsIHRydWUpDQogICAgICAgICAgICBsZW4gLT0gY3VyLnRleHQubGVuZ3RoIC0gZm91bmQkMS5mcm9tLmNoDQogICAgICAgICAgICBjdXIgPSBmb3VuZCQxLnRvLmxpbmUNCiAgICAgICAgICAgIGxlbiArPSBjdXIudGV4dC5sZW5ndGggLSBmb3VuZCQxLnRvLmNoDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGxlbg0KICAgIH0NCg0KLy8gRmluZCB0aGUgbG9uZ2VzdCBsaW5lIGluIHRoZSBkb2N1bWVudC4NCiAgICBmdW5jdGlvbiBmaW5kTWF4TGluZShjbSkgew0KICAgICAgICB2YXIgZCA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYw0KICAgICAgICBkLm1heExpbmUgPSBnZXRMaW5lKGRvYywgZG9jLmZpcnN0KQ0KICAgICAgICBkLm1heExpbmVMZW5ndGggPSBsaW5lTGVuZ3RoKGQubWF4TGluZSkNCiAgICAgICAgZC5tYXhMaW5lQ2hhbmdlZCA9IHRydWUNCiAgICAgICAgZG9jLml0ZXIoZnVuY3Rpb24gKGxpbmUpIHsNCiAgICAgICAgICAgIHZhciBsZW4gPSBsaW5lTGVuZ3RoKGxpbmUpDQogICAgICAgICAgICBpZiAobGVuID4gZC5tYXhMaW5lTGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgZC5tYXhMaW5lTGVuZ3RoID0gbGVuDQogICAgICAgICAgICAgICAgZC5tYXhMaW5lID0gbGluZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgIH0NCg0KLy8gQklESSBIRUxQRVJTDQoNCiAgICBmdW5jdGlvbiBpdGVyYXRlQmlkaVNlY3Rpb25zKG9yZGVyLCBmcm9tLCB0bywgZikgew0KICAgICAgICBpZiAoIW9yZGVyKSB7IHJldHVybiBmKGZyb20sIHRvLCAibHRyIikgfQ0KICAgICAgICB2YXIgZm91bmQgPSBmYWxzZQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyLmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICB2YXIgcGFydCA9IG9yZGVyW2ldDQogICAgICAgICAgICBpZiAocGFydC5mcm9tIDwgdG8gJiYgcGFydC50byA+IGZyb20gfHwgZnJvbSA9PSB0byAmJiBwYXJ0LnRvID09IGZyb20pIHsNCiAgICAgICAgICAgICAgICBmKE1hdGgubWF4KHBhcnQuZnJvbSwgZnJvbSksIE1hdGgubWluKHBhcnQudG8sIHRvKSwgcGFydC5sZXZlbCA9PSAxID8gInJ0bCIgOiAibHRyIikNCiAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoIWZvdW5kKSB7IGYoZnJvbSwgdG8sICJsdHIiKSB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYmlkaUxlZnQocGFydCkgeyByZXR1cm4gcGFydC5sZXZlbCAlIDIgPyBwYXJ0LnRvIDogcGFydC5mcm9tIH0NCiAgICBmdW5jdGlvbiBiaWRpUmlnaHQocGFydCkgeyByZXR1cm4gcGFydC5sZXZlbCAlIDIgPyBwYXJ0LmZyb20gOiBwYXJ0LnRvIH0NCg0KICAgIGZ1bmN0aW9uIGxpbmVMZWZ0KGxpbmUpIHsgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZSk7IHJldHVybiBvcmRlciA/IGJpZGlMZWZ0KG9yZGVyWzBdKSA6IDAgfQ0KICAgIGZ1bmN0aW9uIGxpbmVSaWdodChsaW5lKSB7DQogICAgICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpDQogICAgICAgIGlmICghb3JkZXIpIHsgcmV0dXJuIGxpbmUudGV4dC5sZW5ndGggfQ0KICAgICAgICByZXR1cm4gYmlkaVJpZ2h0KGxzdChvcmRlcikpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gY29tcGFyZUJpZGlMZXZlbChvcmRlciwgYSwgYikgew0KICAgICAgICB2YXIgbGluZWRpciA9IG9yZGVyWzBdLmxldmVsDQogICAgICAgIGlmIChhID09IGxpbmVkaXIpIHsgcmV0dXJuIHRydWUgfQ0KICAgICAgICBpZiAoYiA9PSBsaW5lZGlyKSB7IHJldHVybiBmYWxzZSB9DQogICAgICAgIHJldHVybiBhIDwgYg0KICAgIH0NCg0KICAgIHZhciBiaWRpT3RoZXIgPSBudWxsDQogICAgZnVuY3Rpb24gZ2V0QmlkaVBhcnRBdChvcmRlciwgcG9zKSB7DQogICAgICAgIHZhciBmb3VuZA0KICAgICAgICBiaWRpT3RoZXIgPSBudWxsDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXIubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciBjdXIgPSBvcmRlcltpXQ0KICAgICAgICAgICAgaWYgKGN1ci5mcm9tIDwgcG9zICYmIGN1ci50byA+IHBvcykgeyByZXR1cm4gaSB9DQogICAgICAgICAgICBpZiAoKGN1ci5mcm9tID09IHBvcyB8fCBjdXIudG8gPT0gcG9zKSkgew0KICAgICAgICAgICAgICAgIGlmIChmb3VuZCA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIGZvdW5kID0gaQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcGFyZUJpZGlMZXZlbChvcmRlciwgY3VyLmxldmVsLCBvcmRlcltmb3VuZF0ubGV2ZWwpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChjdXIuZnJvbSAhPSBjdXIudG8pIHsgYmlkaU90aGVyID0gZm91bmQgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChjdXIuZnJvbSAhPSBjdXIudG8pIHsgYmlkaU90aGVyID0gaSB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZm91bmQNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBtb3ZlSW5MaW5lKGxpbmUsIHBvcywgZGlyLCBieVVuaXQpIHsNCiAgICAgICAgaWYgKCFieVVuaXQpIHsgcmV0dXJuIHBvcyArIGRpciB9DQogICAgICAgIGRvIHsgcG9zICs9IGRpciB9DQogICAgICAgIHdoaWxlIChwb3MgPiAwICYmIGlzRXh0ZW5kaW5nQ2hhcihsaW5lLnRleHQuY2hhckF0KHBvcykpKQ0KICAgICAgICByZXR1cm4gcG9zDQogICAgfQ0KDQovLyBUaGlzIGlzIG5lZWRlZCBpbiBvcmRlciB0byBtb3ZlICd2aXN1YWxseScgdGhyb3VnaCBiaS1kaXJlY3Rpb25hbA0KLy8gdGV4dCAtLSBpLmUuLCBwcmVzc2luZyBsZWZ0IHNob3VsZCBtYWtlIHRoZSBjdXJzb3IgZ28gbGVmdCwgZXZlbg0KLy8gd2hlbiBpbiBSVEwgdGV4dC4gVGhlIHRyaWNreSBwYXJ0IGlzIHRoZSAnanVtcHMnLCB3aGVyZSBSVEwgYW5kDQovLyBMVFIgdGV4dCB0b3VjaCBlYWNoIG90aGVyLiBUaGlzIG9mdGVuIHJlcXVpcmVzIHRoZSBjdXJzb3Igb2Zmc2V0DQovLyB0byBtb3ZlIG1vcmUgdGhhbiBvbmUgdW5pdCwgaW4gb3JkZXIgdG8gdmlzdWFsbHkgbW92ZSBvbmUgdW5pdC4NCiAgICBmdW5jdGlvbiBtb3ZlVmlzdWFsbHkobGluZSwgc3RhcnQsIGRpciwgYnlVbml0KSB7DQogICAgICAgIHZhciBiaWRpID0gZ2V0T3JkZXIobGluZSkNCiAgICAgICAgaWYgKCFiaWRpKSB7IHJldHVybiBtb3ZlTG9naWNhbGx5KGxpbmUsIHN0YXJ0LCBkaXIsIGJ5VW5pdCkgfQ0KICAgICAgICB2YXIgcG9zID0gZ2V0QmlkaVBhcnRBdChiaWRpLCBzdGFydCksIHBhcnQgPSBiaWRpW3Bvc10NCiAgICAgICAgdmFyIHRhcmdldCA9IG1vdmVJbkxpbmUobGluZSwgc3RhcnQsIHBhcnQubGV2ZWwgJSAyID8gLWRpciA6IGRpciwgYnlVbml0KQ0KDQogICAgICAgIGZvciAoOzspIHsNCiAgICAgICAgICAgIGlmICh0YXJnZXQgPiBwYXJ0LmZyb20gJiYgdGFyZ2V0IDwgcGFydC50bykgeyByZXR1cm4gdGFyZ2V0IH0NCiAgICAgICAgICAgIGlmICh0YXJnZXQgPT0gcGFydC5mcm9tIHx8IHRhcmdldCA9PSBwYXJ0LnRvKSB7DQogICAgICAgICAgICAgICAgaWYgKGdldEJpZGlQYXJ0QXQoYmlkaSwgdGFyZ2V0KSA9PSBwb3MpIHsgcmV0dXJuIHRhcmdldCB9DQogICAgICAgICAgICAgICAgcGFydCA9IGJpZGlbcG9zICs9IGRpcl0NCiAgICAgICAgICAgICAgICByZXR1cm4gKGRpciA+IDApID09IHBhcnQubGV2ZWwgJSAyID8gcGFydC50byA6IHBhcnQuZnJvbQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBwYXJ0ID0gYmlkaVtwb3MgKz0gZGlyXQ0KICAgICAgICAgICAgICAgIGlmICghcGFydCkgeyByZXR1cm4gbnVsbCB9DQogICAgICAgICAgICAgICAgaWYgKChkaXIgPiAwKSA9PSBwYXJ0LmxldmVsICUgMikNCiAgICAgICAgICAgICAgICB7IHRhcmdldCA9IG1vdmVJbkxpbmUobGluZSwgcGFydC50bywgLTEsIGJ5VW5pdCkgfQ0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICB7IHRhcmdldCA9IG1vdmVJbkxpbmUobGluZSwgcGFydC5mcm9tLCAxLCBieVVuaXQpIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG1vdmVMb2dpY2FsbHkobGluZSwgc3RhcnQsIGRpciwgYnlVbml0KSB7DQogICAgICAgIHZhciB0YXJnZXQgPSBzdGFydCArIGRpcg0KICAgICAgICBpZiAoYnlVbml0KSB7IHdoaWxlICh0YXJnZXQgPiAwICYmIGlzRXh0ZW5kaW5nQ2hhcihsaW5lLnRleHQuY2hhckF0KHRhcmdldCkpKSB7IHRhcmdldCArPSBkaXIgfSB9DQogICAgICAgIHJldHVybiB0YXJnZXQgPCAwIHx8IHRhcmdldCA+IGxpbmUudGV4dC5sZW5ndGggPyBudWxsIDogdGFyZ2V0DQogICAgfQ0KDQovLyBCaWRpcmVjdGlvbmFsIG9yZGVyaW5nIGFsZ29yaXRobQ0KLy8gU2VlIGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcnRzL3RyOS90cjktMTMuaHRtbCBmb3IgdGhlIGFsZ29yaXRobQ0KLy8gdGhhdCB0aGlzIChwYXJ0aWFsbHkpIGltcGxlbWVudHMuDQoNCi8vIE9uZS1jaGFyIGNvZGVzIHVzZWQgZm9yIGNoYXJhY3RlciB0eXBlczoNCi8vIEwgKEwpOiAgIExlZnQtdG8tUmlnaHQNCi8vIFIgKFIpOiAgIFJpZ2h0LXRvLUxlZnQNCi8vIHIgKEFMKTogIFJpZ2h0LXRvLUxlZnQgQXJhYmljDQovLyAxIChFTik6ICBFdXJvcGVhbiBOdW1iZXINCi8vICsgKEVTKTogIEV1cm9wZWFuIE51bWJlciBTZXBhcmF0b3INCi8vICUgKEVUKTogIEV1cm9wZWFuIE51bWJlciBUZXJtaW5hdG9yDQovLyBuIChBTik6ICBBcmFiaWMgTnVtYmVyDQovLyAsIChDUyk6ICBDb21tb24gTnVtYmVyIFNlcGFyYXRvcg0KLy8gbSAoTlNNKTogTm9uLVNwYWNpbmcgTWFyaw0KLy8gYiAoQk4pOiAgQm91bmRhcnkgTmV1dHJhbA0KLy8gcyAoQik6ICAgUGFyYWdyYXBoIFNlcGFyYXRvcg0KLy8gdCAoUyk6ICAgU2VnbWVudCBTZXBhcmF0b3INCi8vIHcgKFdTKTogIFdoaXRlc3BhY2UNCi8vIE4gKE9OKTogIE90aGVyIE5ldXRyYWxzDQoNCi8vIFJldHVybnMgbnVsbCBpZiBjaGFyYWN0ZXJzIGFyZSBvcmRlcmVkIGFzIHRoZXkgYXBwZWFyDQovLyAobGVmdC10by1yaWdodCksIG9yIGFuIGFycmF5IG9mIHNlY3Rpb25zICh7ZnJvbSwgdG8sIGxldmVsfQ0KLy8gb2JqZWN0cykgaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgb2NjdXIgdmlzdWFsbHkuDQogICAgdmFyIGJpZGlPcmRlcmluZyA9IChmdW5jdGlvbigpIHsNCiAgICAgICAgLy8gQ2hhcmFjdGVyIHR5cGVzIGZvciBjb2RlcG9pbnRzIDAgdG8gMHhmZg0KICAgICAgICB2YXIgbG93VHlwZXMgPSAiYmJiYmJiYmJidHN0d3NiYmJiYmJiYmJiYmJiYnNzc3R3Tk4lJSVOTk5OTk4sTixOMTExMTExMTExMU5OTk5OTk5MTExMTExMTExMTExMTExMTExMTExMTExMTE5OTk5OTkxMTExMTExMTExMTExMTExMTExMTExMTExMTk5OTmJiYmJiYnNiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYixOJSUlJU5OTk5MTk5OTk4lJTExTkxOTk4xTE5OTk5OTExMTExMTExMTExMTExMTExMTExMTExOTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTE4iDQogICAgICAgIC8vIENoYXJhY3RlciB0eXBlcyBmb3IgY29kZXBvaW50cyAweDYwMCB0byAweDZmZg0KICAgICAgICB2YXIgYXJhYmljVHlwZXMgPSAicnJycnJycnJycnJyLHJOTm1tbW1tbXJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJybW1tbW1tbW1tbW1tbW1ycnJycnJybm5ubm5ubm5ubiVubnJycm1ycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycm1tbW1tbW1tbW1tbW1tbW1tbW1ObW1tbSINCiAgICAgICAgZnVuY3Rpb24gY2hhclR5cGUoY29kZSkgew0KICAgICAgICAgICAgaWYgKGNvZGUgPD0gMHhmNykgeyByZXR1cm4gbG93VHlwZXMuY2hhckF0KGNvZGUpIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKDB4NTkwIDw9IGNvZGUgJiYgY29kZSA8PSAweDVmNCkgeyByZXR1cm4gIlIiIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKDB4NjAwIDw9IGNvZGUgJiYgY29kZSA8PSAweDZlZCkgeyByZXR1cm4gYXJhYmljVHlwZXMuY2hhckF0KGNvZGUgLSAweDYwMCkgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoMHg2ZWUgPD0gY29kZSAmJiBjb2RlIDw9IDB4OGFjKSB7IHJldHVybiAiciIgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoMHgyMDAwIDw9IGNvZGUgJiYgY29kZSA8PSAweDIwMGIpIHsgcmV0dXJuICJ3IiB9DQogICAgICAgICAgICBlbHNlIGlmIChjb2RlID09IDB4MjAwYykgeyByZXR1cm4gImIiIH0NCiAgICAgICAgICAgIGVsc2UgeyByZXR1cm4gIkwiIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBiaWRpUkUgPSAvW1x1MDU5MC1cdTA1ZjRcdTA2MDAtXHUwNmZmXHUwNzAwLVx1MDhhY10vDQogICAgICAgIHZhciBpc05ldXRyYWwgPSAvW3N0d05dLywgaXNTdHJvbmcgPSAvW0xScl0vLCBjb3VudHNBc0xlZnQgPSAvW0xiMW5dLywgY291bnRzQXNOdW0gPSAvWzFuXS8NCiAgICAgICAgLy8gQnJvd3NlcnMgc2VlbSB0byBhbHdheXMgdHJlYXQgdGhlIGJvdW5kYXJpZXMgb2YgYmxvY2sgZWxlbWVudHMgYXMgYmVpbmcgTC4NCiAgICAgICAgdmFyIG91dGVyVHlwZSA9ICJMIg0KDQogICAgICAgIGZ1bmN0aW9uIEJpZGlTcGFuKGxldmVsLCBmcm9tLCB0bykgew0KICAgICAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsDQogICAgICAgICAgICB0aGlzLmZyb20gPSBmcm9tOyB0aGlzLnRvID0gdG8NCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBmdW5jdGlvbihzdHIpIHsNCiAgICAgICAgICAgIGlmICghYmlkaVJFLnRlc3Qoc3RyKSkgeyByZXR1cm4gZmFsc2UgfQ0KICAgICAgICAgICAgdmFyIGxlbiA9IHN0ci5sZW5ndGgsIHR5cGVzID0gW10NCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpDQogICAgICAgICAgICB7IHR5cGVzLnB1c2goY2hhclR5cGUoc3RyLmNoYXJDb2RlQXQoaSkpKSB9DQoNCiAgICAgICAgICAgIC8vIFcxLiBFeGFtaW5lIGVhY2ggbm9uLXNwYWNpbmcgbWFyayAoTlNNKSBpbiB0aGUgbGV2ZWwgcnVuLCBhbmQNCiAgICAgICAgICAgIC8vIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgTlNNIHRvIHRoZSB0eXBlIG9mIHRoZSBwcmV2aW91cw0KICAgICAgICAgICAgLy8gY2hhcmFjdGVyLiBJZiB0aGUgTlNNIGlzIGF0IHRoZSBzdGFydCBvZiB0aGUgbGV2ZWwgcnVuLCBpdCB3aWxsDQogICAgICAgICAgICAvLyBnZXQgdGhlIHR5cGUgb2Ygc29yLg0KICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMCwgcHJldiA9IG91dGVyVHlwZTsgaSQxIDwgbGVuOyArK2kkMSkgew0KICAgICAgICAgICAgICAgIHZhciB0eXBlID0gdHlwZXNbaSQxXQ0KICAgICAgICAgICAgICAgIGlmICh0eXBlID09ICJtIikgeyB0eXBlc1tpJDFdID0gcHJldiB9DQogICAgICAgICAgICAgICAgZWxzZSB7IHByZXYgPSB0eXBlIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gVzIuIFNlYXJjaCBiYWNrd2FyZHMgZnJvbSBlYWNoIGluc3RhbmNlIG9mIGEgRXVyb3BlYW4gbnVtYmVyDQogICAgICAgICAgICAvLyB1bnRpbCB0aGUgZmlyc3Qgc3Ryb25nIHR5cGUgKFIsIEwsIEFMLCBvciBzb3IpIGlzIGZvdW5kLiBJZiBhbg0KICAgICAgICAgICAgLy8gQUwgaXMgZm91bmQsIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgRXVyb3BlYW4gbnVtYmVyIHRvIEFyYWJpYw0KICAgICAgICAgICAgLy8gbnVtYmVyLg0KICAgICAgICAgICAgLy8gVzMuIENoYW5nZSBhbGwgQUxzIHRvIFIuDQogICAgICAgICAgICBmb3IgKHZhciBpJDIgPSAwLCBjdXIgPSBvdXRlclR5cGU7IGkkMiA8IGxlbjsgKytpJDIpIHsNCiAgICAgICAgICAgICAgICB2YXIgdHlwZSQxID0gdHlwZXNbaSQyXQ0KICAgICAgICAgICAgICAgIGlmICh0eXBlJDEgPT0gIjEiICYmIGN1ciA9PSAiciIpIHsgdHlwZXNbaSQyXSA9ICJuIiB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNTdHJvbmcudGVzdCh0eXBlJDEpKSB7IGN1ciA9IHR5cGUkMTsgaWYgKHR5cGUkMSA9PSAiciIpIHsgdHlwZXNbaSQyXSA9ICJSIiB9IH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gVzQuIEEgc2luZ2xlIEV1cm9wZWFuIHNlcGFyYXRvciBiZXR3ZWVuIHR3byBFdXJvcGVhbiBudW1iZXJzDQogICAgICAgICAgICAvLyBjaGFuZ2VzIHRvIGEgRXVyb3BlYW4gbnVtYmVyLiBBIHNpbmdsZSBjb21tb24gc2VwYXJhdG9yIGJldHdlZW4NCiAgICAgICAgICAgIC8vIHR3byBudW1iZXJzIG9mIHRoZSBzYW1lIHR5cGUgY2hhbmdlcyB0byB0aGF0IHR5cGUuDQogICAgICAgICAgICBmb3IgKHZhciBpJDMgPSAxLCBwcmV2JDEgPSB0eXBlc1swXTsgaSQzIDwgbGVuIC0gMTsgKytpJDMpIHsNCiAgICAgICAgICAgICAgICB2YXIgdHlwZSQyID0gdHlwZXNbaSQzXQ0KICAgICAgICAgICAgICAgIGlmICh0eXBlJDIgPT0gIisiICYmIHByZXYkMSA9PSAiMSIgJiYgdHlwZXNbaSQzKzFdID09ICIxIikgeyB0eXBlc1tpJDNdID0gIjEiIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlJDIgPT0gIiwiICYmIHByZXYkMSA9PSB0eXBlc1tpJDMrMV0gJiYNCiAgICAgICAgICAgICAgICAgICAgKHByZXYkMSA9PSAiMSIgfHwgcHJldiQxID09ICJuIikpIHsgdHlwZXNbaSQzXSA9IHByZXYkMSB9DQogICAgICAgICAgICAgICAgcHJldiQxID0gdHlwZSQyDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIFc1LiBBIHNlcXVlbmNlIG9mIEV1cm9wZWFuIHRlcm1pbmF0b3JzIGFkamFjZW50IHRvIEV1cm9wZWFuDQogICAgICAgICAgICAvLyBudW1iZXJzIGNoYW5nZXMgdG8gYWxsIEV1cm9wZWFuIG51bWJlcnMuDQogICAgICAgICAgICAvLyBXNi4gT3RoZXJ3aXNlLCBzZXBhcmF0b3JzIGFuZCB0ZXJtaW5hdG9ycyBjaGFuZ2UgdG8gT3RoZXINCiAgICAgICAgICAgIC8vIE5ldXRyYWwuDQogICAgICAgICAgICBmb3IgKHZhciBpJDQgPSAwOyBpJDQgPCBsZW47ICsraSQ0KSB7DQogICAgICAgICAgICAgICAgdmFyIHR5cGUkMyA9IHR5cGVzW2kkNF0NCiAgICAgICAgICAgICAgICBpZiAodHlwZSQzID09ICIsIikgeyB0eXBlc1tpJDRdID0gIk4iIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlJDMgPT0gIiUiKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSB2b2lkIDANCiAgICAgICAgICAgICAgICAgICAgZm9yIChlbmQgPSBpJDQgKyAxOyBlbmQgPCBsZW4gJiYgdHlwZXNbZW5kXSA9PSAiJSI7ICsrZW5kKSB7fQ0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZSA9IChpJDQgJiYgdHlwZXNbaSQ0LTFdID09ICIhIikgfHwgKGVuZCA8IGxlbiAmJiB0eXBlc1tlbmRdID09ICIxIikgPyAiMSIgOiAiTiINCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGkkNDsgaiA8IGVuZDsgKytqKSB7IHR5cGVzW2pdID0gcmVwbGFjZSB9DQogICAgICAgICAgICAgICAgICAgIGkkNCA9IGVuZCAtIDENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIFc3LiBTZWFyY2ggYmFja3dhcmRzIGZyb20gZWFjaCBpbnN0YW5jZSBvZiBhIEV1cm9wZWFuIG51bWJlcg0KICAgICAgICAgICAgLy8gdW50aWwgdGhlIGZpcnN0IHN0cm9uZyB0eXBlIChSLCBMLCBvciBzb3IpIGlzIGZvdW5kLiBJZiBhbiBMIGlzDQogICAgICAgICAgICAvLyBmb3VuZCwgdGhlbiBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIEV1cm9wZWFuIG51bWJlciB0byBMLg0KICAgICAgICAgICAgZm9yICh2YXIgaSQ1ID0gMCwgY3VyJDEgPSBvdXRlclR5cGU7IGkkNSA8IGxlbjsgKytpJDUpIHsNCiAgICAgICAgICAgICAgICB2YXIgdHlwZSQ0ID0gdHlwZXNbaSQ1XQ0KICAgICAgICAgICAgICAgIGlmIChjdXIkMSA9PSAiTCIgJiYgdHlwZSQ0ID09ICIxIikgeyB0eXBlc1tpJDVdID0gIkwiIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1N0cm9uZy50ZXN0KHR5cGUkNCkpIHsgY3VyJDEgPSB0eXBlJDQgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBOMS4gQSBzZXF1ZW5jZSBvZiBuZXV0cmFscyB0YWtlcyB0aGUgZGlyZWN0aW9uIG9mIHRoZQ0KICAgICAgICAgICAgLy8gc3Vycm91bmRpbmcgc3Ryb25nIHRleHQgaWYgdGhlIHRleHQgb24gYm90aCBzaWRlcyBoYXMgdGhlIHNhbWUNCiAgICAgICAgICAgIC8vIGRpcmVjdGlvbi4gRXVyb3BlYW4gYW5kIEFyYWJpYyBudW1iZXJzIGFjdCBhcyBpZiB0aGV5IHdlcmUgUiBpbg0KICAgICAgICAgICAgLy8gdGVybXMgb2YgdGhlaXIgaW5mbHVlbmNlIG9uIG5ldXRyYWxzLiBTdGFydC1vZi1sZXZlbC1ydW4gKHNvcikNCiAgICAgICAgICAgIC8vIGFuZCBlbmQtb2YtbGV2ZWwtcnVuIChlb3IpIGFyZSB1c2VkIGF0IGxldmVsIHJ1biBib3VuZGFyaWVzLg0KICAgICAgICAgICAgLy8gTjIuIEFueSByZW1haW5pbmcgbmV1dHJhbHMgdGFrZSB0aGUgZW1iZWRkaW5nIGRpcmVjdGlvbi4NCiAgICAgICAgICAgIGZvciAodmFyIGkkNiA9IDA7IGkkNiA8IGxlbjsgKytpJDYpIHsNCiAgICAgICAgICAgICAgICBpZiAoaXNOZXV0cmFsLnRlc3QodHlwZXNbaSQ2XSkpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCQxID0gdm9pZCAwDQogICAgICAgICAgICAgICAgICAgIGZvciAoZW5kJDEgPSBpJDYgKyAxOyBlbmQkMSA8IGxlbiAmJiBpc05ldXRyYWwudGVzdCh0eXBlc1tlbmQkMV0pOyArK2VuZCQxKSB7fQ0KICAgICAgICAgICAgICAgICAgICB2YXIgYmVmb3JlID0gKGkkNiA/IHR5cGVzW2kkNi0xXSA6IG91dGVyVHlwZSkgPT0gIkwiDQogICAgICAgICAgICAgICAgICAgIHZhciBhZnRlciA9IChlbmQkMSA8IGxlbiA/IHR5cGVzW2VuZCQxXSA6IG91dGVyVHlwZSkgPT0gIkwiDQogICAgICAgICAgICAgICAgICAgIHZhciByZXBsYWNlJDEgPSBiZWZvcmUgfHwgYWZ0ZXIgPyAiTCIgOiAiUiINCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiQxID0gaSQ2OyBqJDEgPCBlbmQkMTsgKytqJDEpIHsgdHlwZXNbaiQxXSA9IHJlcGxhY2UkMSB9DQogICAgICAgICAgICAgICAgICAgIGkkNiA9IGVuZCQxIC0gMQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gSGVyZSB3ZSBkZXBhcnQgZnJvbSB0aGUgZG9jdW1lbnRlZCBhbGdvcml0aG0sIGluIG9yZGVyIHRvIGF2b2lkDQogICAgICAgICAgICAvLyBidWlsZGluZyB1cCBhbiBhY3R1YWwgbGV2ZWxzIGFycmF5LiBTaW5jZSB0aGVyZSBhcmUgb25seSB0aHJlZQ0KICAgICAgICAgICAgLy8gbGV2ZWxzICgwLCAxLCAyKSBpbiBhbiBpbXBsZW1lbnRhdGlvbiB0aGF0IGRvZXNuJ3QgdGFrZQ0KICAgICAgICAgICAgLy8gZXhwbGljaXQgZW1iZWRkaW5nIGludG8gYWNjb3VudCwgd2UgY2FuIGJ1aWxkIHVwIHRoZSBvcmRlciBvbg0KICAgICAgICAgICAgLy8gdGhlIGZseSwgd2l0aG91dCBmb2xsb3dpbmcgdGhlIGxldmVsLWJhc2VkIGFsZ29yaXRobS4NCiAgICAgICAgICAgIHZhciBvcmRlciA9IFtdLCBtDQogICAgICAgICAgICBmb3IgKHZhciBpJDcgPSAwOyBpJDcgPCBsZW47KSB7DQogICAgICAgICAgICAgICAgaWYgKGNvdW50c0FzTGVmdC50ZXN0KHR5cGVzW2kkN10pKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IGkkNw0KICAgICAgICAgICAgICAgICAgICBmb3IgKCsraSQ3OyBpJDcgPCBsZW4gJiYgY291bnRzQXNMZWZ0LnRlc3QodHlwZXNbaSQ3XSk7ICsraSQ3KSB7fQ0KICAgICAgICAgICAgICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3BhbigwLCBzdGFydCwgaSQ3KSkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gaSQ3LCBhdCA9IG9yZGVyLmxlbmd0aA0KICAgICAgICAgICAgICAgICAgICBmb3IgKCsraSQ3OyBpJDcgPCBsZW4gJiYgdHlwZXNbaSQ3XSAhPSAiTCI7ICsraSQ3KSB7fQ0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqJDIgPSBwb3M7IGokMiA8IGkkNzspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudHNBc051bS50ZXN0KHR5cGVzW2okMl0pKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA8IGokMikgeyBvcmRlci5zcGxpY2UoYXQsIDAsIG5ldyBCaWRpU3BhbigxLCBwb3MsIGokMikpIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnN0YXJ0ID0gaiQyDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICgrK2okMjsgaiQyIDwgaSQ3ICYmIGNvdW50c0FzTnVtLnRlc3QodHlwZXNbaiQyXSk7ICsraiQyKSB7fQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyLnNwbGljZShhdCwgMCwgbmV3IEJpZGlTcGFuKDIsIG5zdGFydCwgaiQyKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBqJDINCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICsraiQyIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAocG9zIDwgaSQ3KSB7IG9yZGVyLnNwbGljZShhdCwgMCwgbmV3IEJpZGlTcGFuKDEsIHBvcywgaSQ3KSkgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChvcmRlclswXS5sZXZlbCA9PSAxICYmIChtID0gc3RyLm1hdGNoKC9eXHMrLykpKSB7DQogICAgICAgICAgICAgICAgb3JkZXJbMF0uZnJvbSA9IG1bMF0ubGVuZ3RoDQogICAgICAgICAgICAgICAgb3JkZXIudW5zaGlmdChuZXcgQmlkaVNwYW4oMCwgMCwgbVswXS5sZW5ndGgpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGxzdChvcmRlcikubGV2ZWwgPT0gMSAmJiAobSA9IHN0ci5tYXRjaCgvXHMrJC8pKSkgew0KICAgICAgICAgICAgICAgIGxzdChvcmRlcikudG8gLT0gbVswXS5sZW5ndGgNCiAgICAgICAgICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3BhbigwLCBsZW4gLSBtWzBdLmxlbmd0aCwgbGVuKSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChvcmRlclswXS5sZXZlbCA9PSAyKQ0KICAgICAgICAgICAgeyBvcmRlci51bnNoaWZ0KG5ldyBCaWRpU3BhbigxLCBvcmRlclswXS50bywgb3JkZXJbMF0udG8pKSB9DQogICAgICAgICAgICBpZiAob3JkZXJbMF0ubGV2ZWwgIT0gbHN0KG9yZGVyKS5sZXZlbCkNCiAgICAgICAgICAgIHsgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4ob3JkZXJbMF0ubGV2ZWwsIGxlbiwgbGVuKSkgfQ0KDQogICAgICAgICAgICByZXR1cm4gb3JkZXINCiAgICAgICAgfQ0KICAgIH0pKCkNCg0KLy8gR2V0IHRoZSBiaWRpIG9yZGVyaW5nIGZvciB0aGUgZ2l2ZW4gbGluZSAoYW5kIGNhY2hlIGl0KS4gUmV0dXJucw0KLy8gZmFsc2UgZm9yIGxpbmVzIHRoYXQgYXJlIGZ1bGx5IGxlZnQtdG8tcmlnaHQsIGFuZCBhbiBhcnJheSBvZg0KLy8gQmlkaVNwYW4gb2JqZWN0cyBvdGhlcndpc2UuDQogICAgZnVuY3Rpb24gZ2V0T3JkZXIobGluZSkgew0KICAgICAgICB2YXIgb3JkZXIgPSBsaW5lLm9yZGVyDQogICAgICAgIGlmIChvcmRlciA9PSBudWxsKSB7IG9yZGVyID0gbGluZS5vcmRlciA9IGJpZGlPcmRlcmluZyhsaW5lLnRleHQpIH0NCiAgICAgICAgcmV0dXJuIG9yZGVyDQogICAgfQ0KDQovLyBFVkVOVCBIQU5ETElORw0KDQovLyBMaWdodHdlaWdodCBldmVudCBmcmFtZXdvcmsuIG9uL29mZiBhbHNvIHdvcmsgb24gRE9NIG5vZGVzLA0KLy8gcmVnaXN0ZXJpbmcgbmF0aXZlIERPTSBoYW5kbGVycy4NCg0KICAgIHZhciBvbiA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUsIGYpIHsNCiAgICAgICAgaWYgKGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcikNCiAgICAgICAgeyBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZiwgZmFsc2UpIH0NCiAgICAgICAgZWxzZSBpZiAoZW1pdHRlci5hdHRhY2hFdmVudCkNCiAgICAgICAgeyBlbWl0dGVyLmF0dGFjaEV2ZW50KCJvbiIgKyB0eXBlLCBmKSB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgdmFyIG1hcCQkMSA9IGVtaXR0ZXIuX2hhbmRsZXJzIHx8IChlbWl0dGVyLl9oYW5kbGVycyA9IHt9KQ0KICAgICAgICAgICAgdmFyIGFyciA9IG1hcCQkMVt0eXBlXSB8fCAobWFwJCQxW3R5cGVdID0gW10pDQogICAgICAgICAgICBhcnIucHVzaChmKQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgdmFyIG5vSGFuZGxlcnMgPSBbXQ0KICAgIGZ1bmN0aW9uIGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUsIGNvcHkpIHsNCiAgICAgICAgdmFyIGFyciA9IGVtaXR0ZXIuX2hhbmRsZXJzICYmIGVtaXR0ZXIuX2hhbmRsZXJzW3R5cGVdDQogICAgICAgIGlmIChjb3B5KSB7IHJldHVybiBhcnIgJiYgYXJyLmxlbmd0aCA+IDAgPyBhcnIuc2xpY2UoKSA6IG5vSGFuZGxlcnMgfQ0KICAgICAgICBlbHNlIHsgcmV0dXJuIGFyciB8fCBub0hhbmRsZXJzIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBvZmYoZW1pdHRlciwgdHlwZSwgZikgew0KICAgICAgICBpZiAoZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKQ0KICAgICAgICB7IGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmLCBmYWxzZSkgfQ0KICAgICAgICBlbHNlIGlmIChlbWl0dGVyLmRldGFjaEV2ZW50KQ0KICAgICAgICB7IGVtaXR0ZXIuZGV0YWNoRXZlbnQoIm9uIiArIHR5cGUsIGYpIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICB2YXIgaGFuZGxlcnMgPSBnZXRIYW5kbGVycyhlbWl0dGVyLCB0eXBlLCBmYWxzZSkNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyArK2kpDQogICAgICAgICAgICB7IGlmIChoYW5kbGVyc1tpXSA9PSBmKSB7IGhhbmRsZXJzLnNwbGljZShpLCAxKTsgYnJlYWsgfSB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzaWduYWwoZW1pdHRlciwgdHlwZSAvKiwgdmFsdWVzLi4uKi8pIHsNCiAgICAgICAgdmFyIGhhbmRsZXJzID0gZ2V0SGFuZGxlcnMoZW1pdHRlciwgdHlwZSwgdHJ1ZSkNCiAgICAgICAgaWYgKCFoYW5kbGVycy5sZW5ndGgpIHsgcmV0dXJuIH0NCiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyArK2kpIHsgaGFuZGxlcnNbaV0uYXBwbHkobnVsbCwgYXJncykgfQ0KICAgIH0NCg0KLy8gVGhlIERPTSBldmVudHMgdGhhdCBDb2RlTWlycm9yIGhhbmRsZXMgY2FuIGJlIG92ZXJyaWRkZW4gYnkNCi8vIHJlZ2lzdGVyaW5nIGEgKG5vbi1ET00pIGhhbmRsZXIgb24gdGhlIGVkaXRvciBmb3IgdGhlIGV2ZW50IG5hbWUsDQovLyBhbmQgcHJldmVudERlZmF1bHQtaW5nIHRoZSBldmVudCBpbiB0aGF0IGhhbmRsZXIuDQogICAgZnVuY3Rpb24gc2lnbmFsRE9NRXZlbnQoY20sIGUsIG92ZXJyaWRlKSB7DQogICAgICAgIGlmICh0eXBlb2YgZSA9PSAic3RyaW5nIikNCiAgICAgICAgeyBlID0ge3R5cGU6IGUsIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHsgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZSB9fSB9DQogICAgICAgIHNpZ25hbChjbSwgb3ZlcnJpZGUgfHwgZS50eXBlLCBjbSwgZSkNCiAgICAgICAgcmV0dXJuIGVfZGVmYXVsdFByZXZlbnRlZChlKSB8fCBlLmNvZGVtaXJyb3JJZ25vcmUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzaWduYWxDdXJzb3JBY3Rpdml0eShjbSkgew0KICAgICAgICB2YXIgYXJyID0gY20uX2hhbmRsZXJzICYmIGNtLl9oYW5kbGVycy5jdXJzb3JBY3Rpdml0eQ0KICAgICAgICBpZiAoIWFycikgeyByZXR1cm4gfQ0KICAgICAgICB2YXIgc2V0ID0gY20uY3VyT3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVycyB8fCAoY20uY3VyT3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVycyA9IFtdKQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkgeyBpZiAoaW5kZXhPZihzZXQsIGFycltpXSkgPT0gLTEpDQogICAgICAgIHsgc2V0LnB1c2goYXJyW2ldKSB9IH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBoYXNIYW5kbGVyKGVtaXR0ZXIsIHR5cGUpIHsNCiAgICAgICAgcmV0dXJuIGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUpLmxlbmd0aCA+IDANCiAgICB9DQoNCi8vIEFkZCBvbiBhbmQgb2ZmIG1ldGhvZHMgdG8gYSBjb25zdHJ1Y3RvcidzIHByb3RvdHlwZSwgdG8gbWFrZQ0KLy8gcmVnaXN0ZXJpbmcgZXZlbnRzIG9uIHN1Y2ggb2JqZWN0cyBtb3JlIGNvbnZlbmllbnQuDQogICAgZnVuY3Rpb24gZXZlbnRNaXhpbihjdG9yKSB7DQogICAgICAgIGN0b3IucHJvdG90eXBlLm9uID0gZnVuY3Rpb24odHlwZSwgZikge29uKHRoaXMsIHR5cGUsIGYpfQ0KICAgICAgICBjdG9yLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbih0eXBlLCBmKSB7b2ZmKHRoaXMsIHR5cGUsIGYpfQ0KICAgIH0NCg0KLy8gRHVlIHRvIHRoZSBmYWN0IHRoYXQgd2Ugc3RpbGwgc3VwcG9ydCBqdXJhc3NpYyBJRSB2ZXJzaW9ucywgc29tZQ0KLy8gY29tcGF0aWJpbGl0eSB3cmFwcGVycyBhcmUgbmVlZGVkLg0KDQogICAgZnVuY3Rpb24gZV9wcmV2ZW50RGVmYXVsdChlKSB7DQogICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7IGUucHJldmVudERlZmF1bHQoKSB9DQogICAgICAgIGVsc2UgeyBlLnJldHVyblZhbHVlID0gZmFsc2UgfQ0KICAgIH0NCiAgICBmdW5jdGlvbiBlX3N0b3BQcm9wYWdhdGlvbihlKSB7DQogICAgICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbikgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0NCiAgICAgICAgZWxzZSB7IGUuY2FuY2VsQnViYmxlID0gdHJ1ZSB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIGVfZGVmYXVsdFByZXZlbnRlZChlKSB7DQogICAgICAgIHJldHVybiBlLmRlZmF1bHRQcmV2ZW50ZWQgIT0gbnVsbCA/IGUuZGVmYXVsdFByZXZlbnRlZCA6IGUucmV0dXJuVmFsdWUgPT0gZmFsc2UNCiAgICB9DQogICAgZnVuY3Rpb24gZV9zdG9wKGUpIHtlX3ByZXZlbnREZWZhdWx0KGUpOyBlX3N0b3BQcm9wYWdhdGlvbihlKX0NCg0KICAgIGZ1bmN0aW9uIGVfdGFyZ2V0KGUpIHtyZXR1cm4gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50fQ0KICAgIGZ1bmN0aW9uIGVfYnV0dG9uKGUpIHsNCiAgICAgICAgdmFyIGIgPSBlLndoaWNoDQogICAgICAgIGlmIChiID09IG51bGwpIHsNCiAgICAgICAgICAgIGlmIChlLmJ1dHRvbiAmIDEpIHsgYiA9IDEgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZS5idXR0b24gJiAyKSB7IGIgPSAzIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGUuYnV0dG9uICYgNCkgeyBiID0gMiB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKG1hYyAmJiBlLmN0cmxLZXkgJiYgYiA9PSAxKSB7IGIgPSAzIH0NCiAgICAgICAgcmV0dXJuIGINCiAgICB9DQoNCi8vIERldGVjdCBkcmFnLWFuZC1kcm9wDQogICAgdmFyIGRyYWdBbmREcm9wID0gZnVuY3Rpb24oKSB7DQogICAgICAgIC8vIFRoZXJlIGlzICpzb21lKiBraW5kIG9mIGRyYWctYW5kLWRyb3Agc3VwcG9ydCBpbiBJRTYtOCwgYnV0IEkNCiAgICAgICAgLy8gY291bGRuJ3QgZ2V0IGl0IHRvIHdvcmsgeWV0Lg0KICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpIHsgcmV0dXJuIGZhbHNlIH0NCiAgICAgICAgdmFyIGRpdiA9IGVsdCgnZGl2JykNCiAgICAgICAgcmV0dXJuICJkcmFnZ2FibGUiIGluIGRpdiB8fCAiZHJhZ0Ryb3AiIGluIGRpdg0KICAgIH0oKQ0KDQogICAgdmFyIHp3c3BTdXBwb3J0ZWQNCiAgICBmdW5jdGlvbiB6ZXJvV2lkdGhFbGVtZW50KG1lYXN1cmUpIHsNCiAgICAgICAgaWYgKHp3c3BTdXBwb3J0ZWQgPT0gbnVsbCkgew0KICAgICAgICAgICAgdmFyIHRlc3QgPSBlbHQoInNwYW4iLCAiXHUyMDBiIikNCiAgICAgICAgICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKG1lYXN1cmUsIGVsdCgic3BhbiIsIFt0ZXN0LCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgieCIpXSkpDQogICAgICAgICAgICBpZiAobWVhc3VyZS5maXJzdENoaWxkLm9mZnNldEhlaWdodCAhPSAwKQ0KICAgICAgICAgICAgeyB6d3NwU3VwcG9ydGVkID0gdGVzdC5vZmZzZXRXaWR0aCA8PSAxICYmIHRlc3Qub2Zmc2V0SGVpZ2h0ID4gMiAmJiAhKGllICYmIGllX3ZlcnNpb24gPCA4KSB9DQogICAgICAgIH0NCiAgICAgICAgdmFyIG5vZGUgPSB6d3NwU3VwcG9ydGVkID8gZWx0KCJzcGFuIiwgIlx1MjAwYiIpIDoNCiAgICAgICAgICAgIGVsdCgic3BhbiIsICJcdTAwYTAiLCBudWxsLCAiZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMXB4OyBtYXJnaW4tcmlnaHQ6IC0xcHgiKQ0KICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgiY20tdGV4dCIsICIiKQ0KICAgICAgICByZXR1cm4gbm9kZQ0KICAgIH0NCg0KLy8gRmVhdHVyZS1kZXRlY3QgSUUncyBjcnVtbXkgY2xpZW50IHJlY3QgcmVwb3J0aW5nIGZvciBiaWRpIHRleHQNCiAgICB2YXIgYmFkQmlkaVJlY3RzDQogICAgZnVuY3Rpb24gaGFzQmFkQmlkaVJlY3RzKG1lYXN1cmUpIHsNCiAgICAgICAgaWYgKGJhZEJpZGlSZWN0cyAhPSBudWxsKSB7IHJldHVybiBiYWRCaWRpUmVjdHMgfQ0KICAgICAgICB2YXIgdHh0ID0gcmVtb3ZlQ2hpbGRyZW5BbmRBZGQobWVhc3VyZSwgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIkFcdTA2MmVBIikpDQogICAgICAgIHZhciByMCA9IHJhbmdlKHR4dCwgMCwgMSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkNCiAgICAgICAgdmFyIHIxID0gcmFuZ2UodHh0LCAxLCAyKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQ0KICAgICAgICByZW1vdmVDaGlsZHJlbihtZWFzdXJlKQ0KICAgICAgICBpZiAoIXIwIHx8IHIwLmxlZnQgPT0gcjAucmlnaHQpIHsgcmV0dXJuIGZhbHNlIH0gLy8gU2FmYXJpIHJldHVybnMgbnVsbCBpbiBzb21lIGNhc2VzICgjMjc4MCkNCiAgICAgICAgcmV0dXJuIGJhZEJpZGlSZWN0cyA9IChyMS5yaWdodCAtIHIwLnJpZ2h0IDwgMykNCiAgICB9DQoNCi8vIFNlZSBpZiAiIi5zcGxpdCBpcyB0aGUgYnJva2VuIElFIHZlcnNpb24sIGlmIHNvLCBwcm92aWRlIGFuDQovLyBhbHRlcm5hdGl2ZSB3YXkgdG8gc3BsaXQgbGluZXMuDQogICAgdmFyIHNwbGl0TGluZXNBdXRvID0gIlxuXG5iIi5zcGxpdCgvXG4vKS5sZW5ndGggIT0gMyA/IGZ1bmN0aW9uIChzdHJpbmcpIHsNCiAgICAgICAgdmFyIHBvcyA9IDAsIHJlc3VsdCA9IFtdLCBsID0gc3RyaW5nLmxlbmd0aA0KICAgICAgICB3aGlsZSAocG9zIDw9IGwpIHsNCiAgICAgICAgICAgIHZhciBubCA9IHN0cmluZy5pbmRleE9mKCJcbiIsIHBvcykNCiAgICAgICAgICAgIGlmIChubCA9PSAtMSkgeyBubCA9IHN0cmluZy5sZW5ndGggfQ0KICAgICAgICAgICAgdmFyIGxpbmUgPSBzdHJpbmcuc2xpY2UocG9zLCBzdHJpbmcuY2hhckF0KG5sIC0gMSkgPT0gIlxyIiA/IG5sIC0gMSA6IG5sKQ0KICAgICAgICAgICAgdmFyIHJ0ID0gbGluZS5pbmRleE9mKCJcciIpDQogICAgICAgICAgICBpZiAocnQgIT0gLTEpIHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsaW5lLnNsaWNlKDAsIHJ0KSkNCiAgICAgICAgICAgICAgICBwb3MgKz0gcnQgKyAxDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxpbmUpDQogICAgICAgICAgICAgICAgcG9zID0gbmwgKyAxDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJlc3VsdA0KICAgIH0gOiBmdW5jdGlvbiAoc3RyaW5nKSB7IHJldHVybiBzdHJpbmcuc3BsaXQoL1xyXG4/fFxuLyk7IH0NCg0KICAgIHZhciBoYXNTZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uID8gZnVuY3Rpb24gKHRlKSB7DQogICAgICAgIHRyeSB7IHJldHVybiB0ZS5zZWxlY3Rpb25TdGFydCAhPSB0ZS5zZWxlY3Rpb25FbmQgfQ0KICAgICAgICBjYXRjaChlKSB7IHJldHVybiBmYWxzZSB9DQogICAgfSA6IGZ1bmN0aW9uICh0ZSkgew0KICAgICAgICB2YXIgcmFuZ2UkJDENCiAgICAgICAgdHJ5IHtyYW5nZSQkMSA9IHRlLm93bmVyRG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCl9DQogICAgICAgIGNhdGNoKGUpIHt9DQogICAgICAgIGlmICghcmFuZ2UkJDEgfHwgcmFuZ2UkJDEucGFyZW50RWxlbWVudCgpICE9IHRlKSB7IHJldHVybiBmYWxzZSB9DQogICAgICAgIHJldHVybiByYW5nZSQkMS5jb21wYXJlRW5kUG9pbnRzKCJTdGFydFRvRW5kIiwgcmFuZ2UkJDEpICE9IDANCiAgICB9DQoNCiAgICB2YXIgaGFzQ29weUV2ZW50ID0gKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIGUgPSBlbHQoImRpdiIpDQogICAgICAgIGlmICgib25jb3B5IiBpbiBlKSB7IHJldHVybiB0cnVlIH0NCiAgICAgICAgZS5zZXRBdHRyaWJ1dGUoIm9uY29weSIsICJyZXR1cm47IikNCiAgICAgICAgcmV0dXJuIHR5cGVvZiBlLm9uY29weSA9PSAiZnVuY3Rpb24iDQogICAgfSkoKQ0KDQogICAgdmFyIGJhZFpvb21lZFJlY3RzID0gbnVsbA0KICAgIGZ1bmN0aW9uIGhhc0JhZFpvb21lZFJlY3RzKG1lYXN1cmUpIHsNCiAgICAgICAgaWYgKGJhZFpvb21lZFJlY3RzICE9IG51bGwpIHsgcmV0dXJuIGJhZFpvb21lZFJlY3RzIH0NCiAgICAgICAgdmFyIG5vZGUgPSByZW1vdmVDaGlsZHJlbkFuZEFkZChtZWFzdXJlLCBlbHQoInNwYW4iLCAieCIpKQ0KICAgICAgICB2YXIgbm9ybWFsID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQ0KICAgICAgICB2YXIgZnJvbVJhbmdlID0gcmFuZ2Uobm9kZSwgMCwgMSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkNCiAgICAgICAgcmV0dXJuIGJhZFpvb21lZFJlY3RzID0gTWF0aC5hYnMobm9ybWFsLmxlZnQgLSBmcm9tUmFuZ2UubGVmdCkgPiAxDQogICAgfQ0KDQovLyBLbm93biBtb2RlcywgYnkgbmFtZSBhbmQgYnkgTUlNRQ0KICAgIHZhciBtb2RlcyA9IHt9Ow0KICAgIHZhciBtaW1lTW9kZXMgPSB7fQ0KDQovLyBFeHRyYSBhcmd1bWVudHMgYXJlIHN0b3JlZCBhcyB0aGUgbW9kZSdzIGRlcGVuZGVuY2llcywgd2hpY2ggaXMNCi8vIHVzZWQgYnkgKGxlZ2FjeSkgbWVjaGFuaXNtcyBsaWtlIGxvYWRtb2RlLmpzIHRvIGF1dG9tYXRpY2FsbHkNCi8vIGxvYWQgYSBtb2RlLiAoUHJlZmVycmVkIG1lY2hhbmlzbSBpcyB0aGUgcmVxdWlyZS9kZWZpbmUgY2FsbHMuKQ0KICAgIGZ1bmN0aW9uIGRlZmluZU1vZGUobmFtZSwgbW9kZSkgew0KICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpDQogICAgICAgIHsgbW9kZS5kZXBlbmRlbmNpZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpIH0NCiAgICAgICAgbW9kZXNbbmFtZV0gPSBtb2RlDQogICAgfQ0KDQogICAgZnVuY3Rpb24gZGVmaW5lTUlNRShtaW1lLCBzcGVjKSB7DQogICAgICAgIG1pbWVNb2Rlc1ttaW1lXSA9IHNwZWMNCiAgICB9DQoNCi8vIEdpdmVuIGEgTUlNRSB0eXBlLCBhIHtuYW1lLCAuLi5vcHRpb25zfSBjb25maWcgb2JqZWN0LCBvciBhIG5hbWUNCi8vIHN0cmluZywgcmV0dXJuIGEgbW9kZSBjb25maWcgb2JqZWN0Lg0KICAgIGZ1bmN0aW9uIHJlc29sdmVNb2RlKHNwZWMpIHsNCiAgICAgICAgaWYgKHR5cGVvZiBzcGVjID09ICJzdHJpbmciICYmIG1pbWVNb2Rlcy5oYXNPd25Qcm9wZXJ0eShzcGVjKSkgew0KICAgICAgICAgICAgc3BlYyA9IG1pbWVNb2Rlc1tzcGVjXQ0KICAgICAgICB9IGVsc2UgaWYgKHNwZWMgJiYgdHlwZW9mIHNwZWMubmFtZSA9PSAic3RyaW5nIiAmJiBtaW1lTW9kZXMuaGFzT3duUHJvcGVydHkoc3BlYy5uYW1lKSkgew0KICAgICAgICAgICAgdmFyIGZvdW5kID0gbWltZU1vZGVzW3NwZWMubmFtZV0NCiAgICAgICAgICAgIGlmICh0eXBlb2YgZm91bmQgPT0gInN0cmluZyIpIHsgZm91bmQgPSB7bmFtZTogZm91bmR9IH0NCiAgICAgICAgICAgIHNwZWMgPSBjcmVhdGVPYmooZm91bmQsIHNwZWMpDQogICAgICAgICAgICBzcGVjLm5hbWUgPSBmb3VuZC5uYW1lDQogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwZWMgPT0gInN0cmluZyIgJiYgL15bXHdcLV0rXC9bXHdcLV0rXCt4bWwkLy50ZXN0KHNwZWMpKSB7DQogICAgICAgICAgICByZXR1cm4gcmVzb2x2ZU1vZGUoImFwcGxpY2F0aW9uL3htbCIpDQogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwZWMgPT0gInN0cmluZyIgJiYgL15bXHdcLV0rXC9bXHdcLV0rXCtqc29uJC8udGVzdChzcGVjKSkgew0KICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVNb2RlKCJhcHBsaWNhdGlvbi9qc29uIikNCiAgICAgICAgfQ0KICAgICAgICBpZiAodHlwZW9mIHNwZWMgPT0gInN0cmluZyIpIHsgcmV0dXJuIHtuYW1lOiBzcGVjfSB9DQogICAgICAgIGVsc2UgeyByZXR1cm4gc3BlYyB8fCB7bmFtZTogIm51bGwifSB9DQogICAgfQ0KDQovLyBHaXZlbiBhIG1vZGUgc3BlYyAoYW55dGhpbmcgdGhhdCByZXNvbHZlTW9kZSBhY2NlcHRzKSwgZmluZCBhbmQNCi8vIGluaXRpYWxpemUgYW4gYWN0dWFsIG1vZGUgb2JqZWN0Lg0KICAgIGZ1bmN0aW9uIGdldE1vZGUob3B0aW9ucywgc3BlYykgew0KICAgICAgICBzcGVjID0gcmVzb2x2ZU1vZGUoc3BlYykNCiAgICAgICAgdmFyIG1mYWN0b3J5ID0gbW9kZXNbc3BlYy5uYW1lXQ0KICAgICAgICBpZiAoIW1mYWN0b3J5KSB7IHJldHVybiBnZXRNb2RlKG9wdGlvbnMsICJ0ZXh0L3BsYWluIikgfQ0KICAgICAgICB2YXIgbW9kZU9iaiA9IG1mYWN0b3J5KG9wdGlvbnMsIHNwZWMpDQogICAgICAgIGlmIChtb2RlRXh0ZW5zaW9ucy5oYXNPd25Qcm9wZXJ0eShzcGVjLm5hbWUpKSB7DQogICAgICAgICAgICB2YXIgZXh0cyA9IG1vZGVFeHRlbnNpb25zW3NwZWMubmFtZV0NCiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gZXh0cykgew0KICAgICAgICAgICAgICAgIGlmICghZXh0cy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgeyBjb250aW51ZSB9DQogICAgICAgICAgICAgICAgaWYgKG1vZGVPYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHsgbW9kZU9ialsiXyIgKyBwcm9wXSA9IG1vZGVPYmpbcHJvcF0gfQ0KICAgICAgICAgICAgICAgIG1vZGVPYmpbcHJvcF0gPSBleHRzW3Byb3BdDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgbW9kZU9iai5uYW1lID0gc3BlYy5uYW1lDQogICAgICAgIGlmIChzcGVjLmhlbHBlclR5cGUpIHsgbW9kZU9iai5oZWxwZXJUeXBlID0gc3BlYy5oZWxwZXJUeXBlIH0NCiAgICAgICAgaWYgKHNwZWMubW9kZVByb3BzKSB7IGZvciAodmFyIHByb3AkMSBpbiBzcGVjLm1vZGVQcm9wcykNCiAgICAgICAgeyBtb2RlT2JqW3Byb3AkMV0gPSBzcGVjLm1vZGVQcm9wc1twcm9wJDFdIH0gfQ0KDQogICAgICAgIHJldHVybiBtb2RlT2JqDQogICAgfQ0KDQovLyBUaGlzIGNhbiBiZSB1c2VkIHRvIGF0dGFjaCBwcm9wZXJ0aWVzIHRvIG1vZGUgb2JqZWN0cyBmcm9tDQovLyBvdXRzaWRlIHRoZSBhY3R1YWwgbW9kZSBkZWZpbml0aW9uLg0KICAgIHZhciBtb2RlRXh0ZW5zaW9ucyA9IHt9DQogICAgZnVuY3Rpb24gZXh0ZW5kTW9kZShtb2RlLCBwcm9wZXJ0aWVzKSB7DQogICAgICAgIHZhciBleHRzID0gbW9kZUV4dGVuc2lvbnMuaGFzT3duUHJvcGVydHkobW9kZSkgPyBtb2RlRXh0ZW5zaW9uc1ttb2RlXSA6IChtb2RlRXh0ZW5zaW9uc1ttb2RlXSA9IHt9KQ0KICAgICAgICBjb3B5T2JqKHByb3BlcnRpZXMsIGV4dHMpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gY29weVN0YXRlKG1vZGUsIHN0YXRlKSB7DQogICAgICAgIGlmIChzdGF0ZSA9PT0gdHJ1ZSkgeyByZXR1cm4gc3RhdGUgfQ0KICAgICAgICBpZiAobW9kZS5jb3B5U3RhdGUpIHsgcmV0dXJuIG1vZGUuY29weVN0YXRlKHN0YXRlKSB9DQogICAgICAgIHZhciBuc3RhdGUgPSB7fQ0KICAgICAgICBmb3IgKHZhciBuIGluIHN0YXRlKSB7DQogICAgICAgICAgICB2YXIgdmFsID0gc3RhdGVbbl0NCiAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBBcnJheSkgeyB2YWwgPSB2YWwuY29uY2F0KFtdKSB9DQogICAgICAgICAgICBuc3RhdGVbbl0gPSB2YWwNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbnN0YXRlDQogICAgfQ0KDQovLyBHaXZlbiBhIG1vZGUgYW5kIGEgc3RhdGUgKGZvciB0aGF0IG1vZGUpLCBmaW5kIHRoZSBpbm5lciBtb2RlIGFuZA0KLy8gc3RhdGUgYXQgdGhlIHBvc2l0aW9uIHRoYXQgdGhlIHN0YXRlIHJlZmVycyB0by4NCiAgICBmdW5jdGlvbiBpbm5lck1vZGUobW9kZSwgc3RhdGUpIHsNCiAgICAgICAgdmFyIGluZm8NCiAgICAgICAgd2hpbGUgKG1vZGUuaW5uZXJNb2RlKSB7DQogICAgICAgICAgICBpbmZvID0gbW9kZS5pbm5lck1vZGUoc3RhdGUpDQogICAgICAgICAgICBpZiAoIWluZm8gfHwgaW5mby5tb2RlID09IG1vZGUpIHsgYnJlYWsgfQ0KICAgICAgICAgICAgc3RhdGUgPSBpbmZvLnN0YXRlDQogICAgICAgICAgICBtb2RlID0gaW5mby5tb2RlDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGluZm8gfHwge21vZGU6IG1vZGUsIHN0YXRlOiBzdGF0ZX0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzdGFydFN0YXRlKG1vZGUsIGExLCBhMikgew0KICAgICAgICByZXR1cm4gbW9kZS5zdGFydFN0YXRlID8gbW9kZS5zdGFydFN0YXRlKGExLCBhMikgOiB0cnVlDQogICAgfQ0KDQovLyBTVFJJTkcgU1RSRUFNDQoNCi8vIEZlZCB0byB0aGUgbW9kZSBwYXJzZXJzLCBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIG1ha2UNCi8vIHBhcnNlcnMgbW9yZSBzdWNjaW5jdC4NCg0KICAgIHZhciBTdHJpbmdTdHJlYW0gPSBmdW5jdGlvbihzdHJpbmcsIHRhYlNpemUpIHsNCiAgICAgICAgdGhpcy5wb3MgPSB0aGlzLnN0YXJ0ID0gMA0KICAgICAgICB0aGlzLnN0cmluZyA9IHN0cmluZw0KICAgICAgICB0aGlzLnRhYlNpemUgPSB0YWJTaXplIHx8IDgNCiAgICAgICAgdGhpcy5sYXN0Q29sdW1uUG9zID0gdGhpcy5sYXN0Q29sdW1uVmFsdWUgPSAwDQogICAgICAgIHRoaXMubGluZVN0YXJ0ID0gMA0KICAgIH0NCg0KICAgIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUgPSB7DQogICAgICAgIGVvbDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMucG9zID49IHRoaXMuc3RyaW5nLmxlbmd0aH0sDQogICAgICAgIHNvbDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMucG9zID09IHRoaXMubGluZVN0YXJ0fSwNCiAgICAgICAgcGVlazogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcykgfHwgdW5kZWZpbmVkfSwNCiAgICAgICAgbmV4dDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBpZiAodGhpcy5wb3MgPCB0aGlzLnN0cmluZy5sZW5ndGgpDQogICAgICAgICAgICB7IHJldHVybiB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MrKykgfQ0KICAgICAgICB9LA0KICAgICAgICBlYXQ6IGZ1bmN0aW9uKG1hdGNoKSB7DQogICAgICAgICAgICB2YXIgY2ggPSB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpDQogICAgICAgICAgICB2YXIgb2sNCiAgICAgICAgICAgIGlmICh0eXBlb2YgbWF0Y2ggPT0gInN0cmluZyIpIHsgb2sgPSBjaCA9PSBtYXRjaCB9DQogICAgICAgICAgICBlbHNlIHsgb2sgPSBjaCAmJiAobWF0Y2gudGVzdCA/IG1hdGNoLnRlc3QoY2gpIDogbWF0Y2goY2gpKSB9DQogICAgICAgICAgICBpZiAob2spIHsrK3RoaXMucG9zOyByZXR1cm4gY2h9DQogICAgICAgIH0sDQogICAgICAgIGVhdFdoaWxlOiBmdW5jdGlvbihtYXRjaCkgew0KICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5wb3MNCiAgICAgICAgICAgIHdoaWxlICh0aGlzLmVhdChtYXRjaCkpe30NCiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvcyA+IHN0YXJ0DQogICAgICAgIH0sDQogICAgICAgIGVhdFNwYWNlOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLnBvcw0KICAgICAgICAgICAgd2hpbGUgKC9bXHNcdTAwYTBdLy50ZXN0KHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcykpKSB7ICsrdGhpcyQxLnBvcyB9DQogICAgICAgICAgICByZXR1cm4gdGhpcy5wb3MgPiBzdGFydA0KICAgICAgICB9LA0KICAgICAgICBza2lwVG9FbmQ6IGZ1bmN0aW9uKCkge3RoaXMucG9zID0gdGhpcy5zdHJpbmcubGVuZ3RofSwNCiAgICAgICAgc2tpcFRvOiBmdW5jdGlvbihjaCkgew0KICAgICAgICAgICAgdmFyIGZvdW5kID0gdGhpcy5zdHJpbmcuaW5kZXhPZihjaCwgdGhpcy5wb3MpDQogICAgICAgICAgICBpZiAoZm91bmQgPiAtMSkge3RoaXMucG9zID0gZm91bmQ7IHJldHVybiB0cnVlfQ0KICAgICAgICB9LA0KICAgICAgICBiYWNrVXA6IGZ1bmN0aW9uKG4pIHt0aGlzLnBvcyAtPSBufSwNCiAgICAgICAgY29sdW1uOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RDb2x1bW5Qb3MgPCB0aGlzLnN0YXJ0KSB7DQogICAgICAgICAgICAgICAgdGhpcy5sYXN0Q29sdW1uVmFsdWUgPSBjb3VudENvbHVtbih0aGlzLnN0cmluZywgdGhpcy5zdGFydCwgdGhpcy50YWJTaXplLCB0aGlzLmxhc3RDb2x1bW5Qb3MsIHRoaXMubGFzdENvbHVtblZhbHVlKQ0KICAgICAgICAgICAgICAgIHRoaXMubGFzdENvbHVtblBvcyA9IHRoaXMuc3RhcnQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0aGlzLmxhc3RDb2x1bW5WYWx1ZSAtICh0aGlzLmxpbmVTdGFydCA/IGNvdW50Q29sdW1uKHRoaXMuc3RyaW5nLCB0aGlzLmxpbmVTdGFydCwgdGhpcy50YWJTaXplKSA6IDApDQogICAgICAgIH0sDQogICAgICAgIGluZGVudGF0aW9uOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiBjb3VudENvbHVtbih0aGlzLnN0cmluZywgbnVsbCwgdGhpcy50YWJTaXplKSAtDQogICAgICAgICAgICAgICAgKHRoaXMubGluZVN0YXJ0ID8gY291bnRDb2x1bW4odGhpcy5zdHJpbmcsIHRoaXMubGluZVN0YXJ0LCB0aGlzLnRhYlNpemUpIDogMCkNCiAgICAgICAgfSwNCiAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uKHBhdHRlcm4sIGNvbnN1bWUsIGNhc2VJbnNlbnNpdGl2ZSkgew0KICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXR0ZXJuID09ICJzdHJpbmciKSB7DQogICAgICAgICAgICAgICAgdmFyIGNhc2VkID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gY2FzZUluc2Vuc2l0aXZlID8gc3RyLnRvTG93ZXJDYXNlKCkgOiBzdHI7IH0NCiAgICAgICAgICAgICAgICB2YXIgc3Vic3RyID0gdGhpcy5zdHJpbmcuc3Vic3RyKHRoaXMucG9zLCBwYXR0ZXJuLmxlbmd0aCkNCiAgICAgICAgICAgICAgICBpZiAoY2FzZWQoc3Vic3RyKSA9PSBjYXNlZChwYXR0ZXJuKSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoY29uc3VtZSAhPT0gZmFsc2UpIHsgdGhpcy5wb3MgKz0gcGF0dGVybi5sZW5ndGggfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gdGhpcy5zdHJpbmcuc2xpY2UodGhpcy5wb3MpLm1hdGNoKHBhdHRlcm4pDQogICAgICAgICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmluZGV4ID4gMCkgeyByZXR1cm4gbnVsbCB9DQogICAgICAgICAgICAgICAgaWYgKG1hdGNoICYmIGNvbnN1bWUgIT09IGZhbHNlKSB7IHRoaXMucG9zICs9IG1hdGNoWzBdLmxlbmd0aCB9DQogICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGN1cnJlbnQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyaW5nLnNsaWNlKHRoaXMuc3RhcnQsIHRoaXMucG9zKX0sDQogICAgICAgIGhpZGVGaXJzdENoYXJzOiBmdW5jdGlvbihuLCBpbm5lcikgew0KICAgICAgICAgICAgdGhpcy5saW5lU3RhcnQgKz0gbg0KICAgICAgICAgICAgdHJ5IHsgcmV0dXJuIGlubmVyKCkgfQ0KICAgICAgICAgICAgZmluYWxseSB7IHRoaXMubGluZVN0YXJ0IC09IG4gfQ0KICAgICAgICB9DQogICAgfQ0KDQovLyBDb21wdXRlIGEgc3R5bGUgYXJyYXkgKGFuIGFycmF5IHN0YXJ0aW5nIHdpdGggYSBtb2RlIGdlbmVyYXRpb24NCi8vIC0tIGZvciBpbnZhbGlkYXRpb24gLS0gZm9sbG93ZWQgYnkgcGFpcnMgb2YgZW5kIHBvc2l0aW9ucyBhbmQNCi8vIHN0eWxlIHN0cmluZ3MpLCB3aGljaCBpcyB1c2VkIHRvIGhpZ2hsaWdodCB0aGUgdG9rZW5zIG9uIHRoZQ0KLy8gbGluZS4NCiAgICBmdW5jdGlvbiBoaWdobGlnaHRMaW5lKGNtLCBsaW5lLCBzdGF0ZSwgZm9yY2VUb0VuZCkgew0KICAgICAgICAvLyBBIHN0eWxlcyBhcnJheSBhbHdheXMgc3RhcnRzIHdpdGggYSBudW1iZXIgaWRlbnRpZnlpbmcgdGhlDQogICAgICAgIC8vIG1vZGUvb3ZlcmxheXMgdGhhdCBpdCBpcyBiYXNlZCBvbiAoZm9yIGVhc3kgaW52YWxpZGF0aW9uKS4NCiAgICAgICAgdmFyIHN0ID0gW2NtLnN0YXRlLm1vZGVHZW5dLCBsaW5lQ2xhc3NlcyA9IHt9DQogICAgICAgIC8vIENvbXB1dGUgdGhlIGJhc2UgYXJyYXkgb2Ygc3R5bGVzDQogICAgICAgIHJ1bk1vZGUoY20sIGxpbmUudGV4dCwgY20uZG9jLm1vZGUsIHN0YXRlLCBmdW5jdGlvbiAoZW5kLCBzdHlsZSkgeyByZXR1cm4gc3QucHVzaChlbmQsIHN0eWxlKTsgfSwNCiAgICAgICAgICAgIGxpbmVDbGFzc2VzLCBmb3JjZVRvRW5kKQ0KDQogICAgICAgIC8vIFJ1biBvdmVybGF5cywgYWRqdXN0IHN0eWxlIGFycmF5Lg0KICAgICAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggbyApIHsNCiAgICAgICAgICAgIHZhciBvdmVybGF5ID0gY20uc3RhdGUub3ZlcmxheXNbb10sIGkgPSAxLCBhdCA9IDANCiAgICAgICAgICAgIHJ1bk1vZGUoY20sIGxpbmUudGV4dCwgb3ZlcmxheS5tb2RlLCB0cnVlLCBmdW5jdGlvbiAoZW5kLCBzdHlsZSkgew0KICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IGkNCiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhlcmUncyBhIHRva2VuIGVuZCBhdCB0aGUgY3VycmVudCBwb3NpdGlvbiwgYW5kIHRoYXQgaSBwb2ludHMgYXQgaXQNCiAgICAgICAgICAgICAgICB3aGlsZSAoYXQgPCBlbmQpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGlfZW5kID0gc3RbaV0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGlfZW5kID4gZW5kKQ0KICAgICAgICAgICAgICAgICAgICB7IHN0LnNwbGljZShpLCAxLCBlbmQsIHN0W2krMV0sIGlfZW5kKSB9DQogICAgICAgICAgICAgICAgICAgIGkgKz0gMg0KICAgICAgICAgICAgICAgICAgICBhdCA9IE1hdGgubWluKGVuZCwgaV9lbmQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICghc3R5bGUpIHsgcmV0dXJuIH0NCiAgICAgICAgICAgICAgICBpZiAob3ZlcmxheS5vcGFxdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgc3Quc3BsaWNlKHN0YXJ0LCBpIC0gc3RhcnQsIGVuZCwgIm92ZXJsYXkgIiArIHN0eWxlKQ0KICAgICAgICAgICAgICAgICAgICBpID0gc3RhcnQgKyAyDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yICg7IHN0YXJ0IDwgaTsgc3RhcnQgKz0gMikgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ciA9IHN0W3N0YXJ0KzFdDQogICAgICAgICAgICAgICAgICAgICAgICBzdFtzdGFydCsxXSA9IChjdXIgPyBjdXIgKyAiICIgOiAiIikgKyAib3ZlcmxheSAiICsgc3R5bGUNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sIGxpbmVDbGFzc2VzKQ0KICAgICAgICB9Ow0KDQogICAgICAgIGZvciAodmFyIG8gPSAwOyBvIDwgY20uc3RhdGUub3ZlcmxheXMubGVuZ3RoOyArK28pIGxvb3AoIG8gKTsNCg0KICAgICAgICByZXR1cm4ge3N0eWxlczogc3QsIGNsYXNzZXM6IGxpbmVDbGFzc2VzLmJnQ2xhc3MgfHwgbGluZUNsYXNzZXMudGV4dENsYXNzID8gbGluZUNsYXNzZXMgOiBudWxsfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldExpbmVTdHlsZXMoY20sIGxpbmUsIHVwZGF0ZUZyb250aWVyKSB7DQogICAgICAgIGlmICghbGluZS5zdHlsZXMgfHwgbGluZS5zdHlsZXNbMF0gIT0gY20uc3RhdGUubW9kZUdlbikgew0KICAgICAgICAgICAgdmFyIHN0YXRlID0gZ2V0U3RhdGVCZWZvcmUoY20sIGxpbmVObyhsaW5lKSkNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBoaWdobGlnaHRMaW5lKGNtLCBsaW5lLCBsaW5lLnRleHQubGVuZ3RoID4gY20ub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGggPyBjb3B5U3RhdGUoY20uZG9jLm1vZGUsIHN0YXRlKSA6IHN0YXRlKQ0KICAgICAgICAgICAgbGluZS5zdGF0ZUFmdGVyID0gc3RhdGUNCiAgICAgICAgICAgIGxpbmUuc3R5bGVzID0gcmVzdWx0LnN0eWxlcw0KICAgICAgICAgICAgaWYgKHJlc3VsdC5jbGFzc2VzKSB7IGxpbmUuc3R5bGVDbGFzc2VzID0gcmVzdWx0LmNsYXNzZXMgfQ0KICAgICAgICAgICAgZWxzZSBpZiAobGluZS5zdHlsZUNsYXNzZXMpIHsgbGluZS5zdHlsZUNsYXNzZXMgPSBudWxsIH0NCiAgICAgICAgICAgIGlmICh1cGRhdGVGcm9udGllciA9PT0gY20uZG9jLmZyb250aWVyKSB7IGNtLmRvYy5mcm9udGllcisrIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbGluZS5zdHlsZXMNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRTdGF0ZUJlZm9yZShjbSwgbiwgcHJlY2lzZSkgew0KICAgICAgICB2YXIgZG9jID0gY20uZG9jLCBkaXNwbGF5ID0gY20uZGlzcGxheQ0KICAgICAgICBpZiAoIWRvYy5tb2RlLnN0YXJ0U3RhdGUpIHsgcmV0dXJuIHRydWUgfQ0KICAgICAgICB2YXIgcG9zID0gZmluZFN0YXJ0TGluZShjbSwgbiwgcHJlY2lzZSksIHN0YXRlID0gcG9zID4gZG9jLmZpcnN0ICYmIGdldExpbmUoZG9jLCBwb3MtMSkuc3RhdGVBZnRlcg0KICAgICAgICBpZiAoIXN0YXRlKSB7IHN0YXRlID0gc3RhcnRTdGF0ZShkb2MubW9kZSkgfQ0KICAgICAgICBlbHNlIHsgc3RhdGUgPSBjb3B5U3RhdGUoZG9jLm1vZGUsIHN0YXRlKSB9DQogICAgICAgIGRvYy5pdGVyKHBvcywgbiwgZnVuY3Rpb24gKGxpbmUpIHsNCiAgICAgICAgICAgIHByb2Nlc3NMaW5lKGNtLCBsaW5lLnRleHQsIHN0YXRlKQ0KICAgICAgICAgICAgdmFyIHNhdmUgPSBwb3MgPT0gbiAtIDEgfHwgcG9zICUgNSA9PSAwIHx8IHBvcyA+PSBkaXNwbGF5LnZpZXdGcm9tICYmIHBvcyA8IGRpc3BsYXkudmlld1RvDQogICAgICAgICAgICBsaW5lLnN0YXRlQWZ0ZXIgPSBzYXZlID8gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSkgOiBudWxsDQogICAgICAgICAgICArK3Bvcw0KICAgICAgICB9KQ0KICAgICAgICBpZiAocHJlY2lzZSkgeyBkb2MuZnJvbnRpZXIgPSBwb3MgfQ0KICAgICAgICByZXR1cm4gc3RhdGUNCiAgICB9DQoNCi8vIExpZ2h0d2VpZ2h0IGZvcm0gb2YgaGlnaGxpZ2h0IC0tIHByb2NlZWQgb3ZlciB0aGlzIGxpbmUgYW5kDQovLyB1cGRhdGUgc3RhdGUsIGJ1dCBkb24ndCBzYXZlIGEgc3R5bGUgYXJyYXkuIFVzZWQgZm9yIGxpbmVzIHRoYXQNCi8vIGFyZW4ndCBjdXJyZW50bHkgdmlzaWJsZS4NCiAgICBmdW5jdGlvbiBwcm9jZXNzTGluZShjbSwgdGV4dCwgc3RhdGUsIHN0YXJ0QXQpIHsNCiAgICAgICAgdmFyIG1vZGUgPSBjbS5kb2MubW9kZQ0KICAgICAgICB2YXIgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbSh0ZXh0LCBjbS5vcHRpb25zLnRhYlNpemUpDQogICAgICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3MgPSBzdGFydEF0IHx8IDANCiAgICAgICAgaWYgKHRleHQgPT0gIiIpIHsgY2FsbEJsYW5rTGluZShtb2RlLCBzdGF0ZSkgfQ0KICAgICAgICB3aGlsZSAoIXN0cmVhbS5lb2woKSkgew0KICAgICAgICAgICAgcmVhZFRva2VuKG1vZGUsIHN0cmVhbSwgc3RhdGUpDQogICAgICAgICAgICBzdHJlYW0uc3RhcnQgPSBzdHJlYW0ucG9zDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjYWxsQmxhbmtMaW5lKG1vZGUsIHN0YXRlKSB7DQogICAgICAgIGlmIChtb2RlLmJsYW5rTGluZSkgeyByZXR1cm4gbW9kZS5ibGFua0xpbmUoc3RhdGUpIH0NCiAgICAgICAgaWYgKCFtb2RlLmlubmVyTW9kZSkgeyByZXR1cm4gfQ0KICAgICAgICB2YXIgaW5uZXIgPSBpbm5lck1vZGUobW9kZSwgc3RhdGUpDQogICAgICAgIGlmIChpbm5lci5tb2RlLmJsYW5rTGluZSkgeyByZXR1cm4gaW5uZXIubW9kZS5ibGFua0xpbmUoaW5uZXIuc3RhdGUpIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiByZWFkVG9rZW4obW9kZSwgc3RyZWFtLCBzdGF0ZSwgaW5uZXIpIHsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7DQogICAgICAgICAgICBpZiAoaW5uZXIpIHsgaW5uZXJbMF0gPSBpbm5lck1vZGUobW9kZSwgc3RhdGUpLm1vZGUgfQ0KICAgICAgICAgICAgdmFyIHN0eWxlID0gbW9kZS50b2tlbihzdHJlYW0sIHN0YXRlKQ0KICAgICAgICAgICAgaWYgKHN0cmVhbS5wb3MgPiBzdHJlYW0uc3RhcnQpIHsgcmV0dXJuIHN0eWxlIH0NCiAgICAgICAgfQ0KICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIk1vZGUgIiArIG1vZGUubmFtZSArICIgZmFpbGVkIHRvIGFkdmFuY2Ugc3RyZWFtLiIpDQogICAgfQ0KDQovLyBVdGlsaXR5IGZvciBnZXRUb2tlbkF0IGFuZCBnZXRMaW5lVG9rZW5zDQogICAgZnVuY3Rpb24gdGFrZVRva2VuKGNtLCBwb3MsIHByZWNpc2UsIGFzQXJyYXkpIHsNCiAgICAgICAgdmFyIGdldE9iaiA9IGZ1bmN0aW9uIChjb3B5KSB7IHJldHVybiAoew0KICAgICAgICAgICAgc3RhcnQ6IHN0cmVhbS5zdGFydCwgZW5kOiBzdHJlYW0ucG9zLA0KICAgICAgICAgICAgc3RyaW5nOiBzdHJlYW0uY3VycmVudCgpLA0KICAgICAgICAgICAgdHlwZTogc3R5bGUgfHwgbnVsbCwNCiAgICAgICAgICAgIHN0YXRlOiBjb3B5ID8gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSkgOiBzdGF0ZQ0KICAgICAgICB9KTsgfQ0KDQogICAgICAgIHZhciBkb2MgPSBjbS5kb2MsIG1vZGUgPSBkb2MubW9kZSwgc3R5bGUNCiAgICAgICAgcG9zID0gY2xpcFBvcyhkb2MsIHBvcykNCiAgICAgICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgcG9zLmxpbmUpLCBzdGF0ZSA9IGdldFN0YXRlQmVmb3JlKGNtLCBwb3MubGluZSwgcHJlY2lzZSkNCiAgICAgICAgdmFyIHN0cmVhbSA9IG5ldyBTdHJpbmdTdHJlYW0obGluZS50ZXh0LCBjbS5vcHRpb25zLnRhYlNpemUpLCB0b2tlbnMNCiAgICAgICAgaWYgKGFzQXJyYXkpIHsgdG9rZW5zID0gW10gfQ0KICAgICAgICB3aGlsZSAoKGFzQXJyYXkgfHwgc3RyZWFtLnBvcyA8IHBvcy5jaCkgJiYgIXN0cmVhbS5lb2woKSkgew0KICAgICAgICAgICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcw0KICAgICAgICAgICAgc3R5bGUgPSByZWFkVG9rZW4obW9kZSwgc3RyZWFtLCBzdGF0ZSkNCiAgICAgICAgICAgIGlmIChhc0FycmF5KSB7IHRva2Vucy5wdXNoKGdldE9iaih0cnVlKSkgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBhc0FycmF5ID8gdG9rZW5zIDogZ2V0T2JqKCkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBleHRyYWN0TGluZUNsYXNzZXModHlwZSwgb3V0cHV0KSB7DQogICAgICAgIGlmICh0eXBlKSB7IGZvciAoOzspIHsNCiAgICAgICAgICAgIHZhciBsaW5lQ2xhc3MgPSB0eXBlLm1hdGNoKC8oPzpefFxzKylsaW5lLShiYWNrZ3JvdW5kLSk/KFxTKykvKQ0KICAgICAgICAgICAgaWYgKCFsaW5lQ2xhc3MpIHsgYnJlYWsgfQ0KICAgICAgICAgICAgdHlwZSA9IHR5cGUuc2xpY2UoMCwgbGluZUNsYXNzLmluZGV4KSArIHR5cGUuc2xpY2UobGluZUNsYXNzLmluZGV4ICsgbGluZUNsYXNzWzBdLmxlbmd0aCkNCiAgICAgICAgICAgIHZhciBwcm9wID0gbGluZUNsYXNzWzFdID8gImJnQ2xhc3MiIDogInRleHRDbGFzcyINCiAgICAgICAgICAgIGlmIChvdXRwdXRbcHJvcF0gPT0gbnVsbCkNCiAgICAgICAgICAgIHsgb3V0cHV0W3Byb3BdID0gbGluZUNsYXNzWzJdIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKCEobmV3IFJlZ0V4cCgiKD86XnxccykiICsgbGluZUNsYXNzWzJdICsgIig/OiR8XHMpIikpLnRlc3Qob3V0cHV0W3Byb3BdKSkNCiAgICAgICAgICAgIHsgb3V0cHV0W3Byb3BdICs9ICIgIiArIGxpbmVDbGFzc1syXSB9DQogICAgICAgIH0gfQ0KICAgICAgICByZXR1cm4gdHlwZQ0KICAgIH0NCg0KLy8gUnVuIHRoZSBnaXZlbiBtb2RlJ3MgcGFyc2VyIG92ZXIgYSBsaW5lLCBjYWxsaW5nIGYgZm9yIGVhY2ggdG9rZW4uDQogICAgZnVuY3Rpb24gcnVuTW9kZShjbSwgdGV4dCwgbW9kZSwgc3RhdGUsIGYsIGxpbmVDbGFzc2VzLCBmb3JjZVRvRW5kKSB7DQogICAgICAgIHZhciBmbGF0dGVuU3BhbnMgPSBtb2RlLmZsYXR0ZW5TcGFucw0KICAgICAgICBpZiAoZmxhdHRlblNwYW5zID09IG51bGwpIHsgZmxhdHRlblNwYW5zID0gY20ub3B0aW9ucy5mbGF0dGVuU3BhbnMgfQ0KICAgICAgICB2YXIgY3VyU3RhcnQgPSAwLCBjdXJTdHlsZSA9IG51bGwNCiAgICAgICAgdmFyIHN0cmVhbSA9IG5ldyBTdHJpbmdTdHJlYW0odGV4dCwgY20ub3B0aW9ucy50YWJTaXplKSwgc3R5bGUNCiAgICAgICAgdmFyIGlubmVyID0gY20ub3B0aW9ucy5hZGRNb2RlQ2xhc3MgJiYgW251bGxdDQogICAgICAgIGlmICh0ZXh0ID09ICIiKSB7IGV4dHJhY3RMaW5lQ2xhc3NlcyhjYWxsQmxhbmtMaW5lKG1vZGUsIHN0YXRlKSwgbGluZUNsYXNzZXMpIH0NCiAgICAgICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHsNCiAgICAgICAgICAgIGlmIChzdHJlYW0ucG9zID4gY20ub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBmbGF0dGVuU3BhbnMgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIGlmIChmb3JjZVRvRW5kKSB7IHByb2Nlc3NMaW5lKGNtLCB0ZXh0LCBzdGF0ZSwgc3RyZWFtLnBvcykgfQ0KICAgICAgICAgICAgICAgIHN0cmVhbS5wb3MgPSB0ZXh0Lmxlbmd0aA0KICAgICAgICAgICAgICAgIHN0eWxlID0gbnVsbA0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBzdHlsZSA9IGV4dHJhY3RMaW5lQ2xhc3NlcyhyZWFkVG9rZW4obW9kZSwgc3RyZWFtLCBzdGF0ZSwgaW5uZXIpLCBsaW5lQ2xhc3NlcykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChpbm5lcikgew0KICAgICAgICAgICAgICAgIHZhciBtTmFtZSA9IGlubmVyWzBdLm5hbWUNCiAgICAgICAgICAgICAgICBpZiAobU5hbWUpIHsgc3R5bGUgPSAibS0iICsgKHN0eWxlID8gbU5hbWUgKyAiICIgKyBzdHlsZSA6IG1OYW1lKSB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoIWZsYXR0ZW5TcGFucyB8fCBjdXJTdHlsZSAhPSBzdHlsZSkgew0KICAgICAgICAgICAgICAgIHdoaWxlIChjdXJTdGFydCA8IHN0cmVhbS5zdGFydCkgew0KICAgICAgICAgICAgICAgICAgICBjdXJTdGFydCA9IE1hdGgubWluKHN0cmVhbS5zdGFydCwgY3VyU3RhcnQgKyA1MDAwKQ0KICAgICAgICAgICAgICAgICAgICBmKGN1clN0YXJ0LCBjdXJTdHlsZSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY3VyU3R5bGUgPSBzdHlsZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcw0KICAgICAgICB9DQogICAgICAgIHdoaWxlIChjdXJTdGFydCA8IHN0cmVhbS5wb3MpIHsNCiAgICAgICAgICAgIC8vIFdlYmtpdCBzZWVtcyB0byByZWZ1c2UgdG8gcmVuZGVyIHRleHQgbm9kZXMgbG9uZ2VyIHRoYW4gNTc0NDQNCiAgICAgICAgICAgIC8vIGNoYXJhY3RlcnMsIGFuZCByZXR1cm5zIGluYWNjdXJhdGUgbWVhc3VyZW1lbnRzIGluIG5vZGVzDQogICAgICAgICAgICAvLyBzdGFydGluZyBhcm91bmQgNTAwMCBjaGFycy4NCiAgICAgICAgICAgIHZhciBwb3MgPSBNYXRoLm1pbihzdHJlYW0ucG9zLCBjdXJTdGFydCArIDUwMDApDQogICAgICAgICAgICBmKHBvcywgY3VyU3R5bGUpDQogICAgICAgICAgICBjdXJTdGFydCA9IHBvcw0KICAgICAgICB9DQogICAgfQ0KDQovLyBGaW5kcyB0aGUgbGluZSB0byBzdGFydCB3aXRoIHdoZW4gc3RhcnRpbmcgYSBwYXJzZS4gVHJpZXMgdG8NCi8vIGZpbmQgYSBsaW5lIHdpdGggYSBzdGF0ZUFmdGVyLCBzbyB0aGF0IGl0IGNhbiBzdGFydCB3aXRoIGENCi8vIHZhbGlkIHN0YXRlLiBJZiB0aGF0IGZhaWxzLCBpdCByZXR1cm5zIHRoZSBsaW5lIHdpdGggdGhlDQovLyBzbWFsbGVzdCBpbmRlbnRhdGlvbiwgd2hpY2ggdGVuZHMgdG8gbmVlZCB0aGUgbGVhc3QgY29udGV4dCB0bw0KLy8gcGFyc2UgY29ycmVjdGx5Lg0KICAgIGZ1bmN0aW9uIGZpbmRTdGFydExpbmUoY20sIG4sIHByZWNpc2UpIHsNCiAgICAgICAgdmFyIG1pbmluZGVudCwgbWlubGluZSwgZG9jID0gY20uZG9jDQogICAgICAgIHZhciBsaW0gPSBwcmVjaXNlID8gLTEgOiBuIC0gKGNtLmRvYy5tb2RlLmlubmVyTW9kZSA/IDEwMDAgOiAxMDApDQogICAgICAgIGZvciAodmFyIHNlYXJjaCA9IG47IHNlYXJjaCA+IGxpbTsgLS1zZWFyY2gpIHsNCiAgICAgICAgICAgIGlmIChzZWFyY2ggPD0gZG9jLmZpcnN0KSB7IHJldHVybiBkb2MuZmlyc3QgfQ0KICAgICAgICAgICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgc2VhcmNoIC0gMSkNCiAgICAgICAgICAgIGlmIChsaW5lLnN0YXRlQWZ0ZXIgJiYgKCFwcmVjaXNlIHx8IHNlYXJjaCA8PSBkb2MuZnJvbnRpZXIpKSB7IHJldHVybiBzZWFyY2ggfQ0KICAgICAgICAgICAgdmFyIGluZGVudGVkID0gY291bnRDb2x1bW4obGluZS50ZXh0LCBudWxsLCBjbS5vcHRpb25zLnRhYlNpemUpDQogICAgICAgICAgICBpZiAobWlubGluZSA9PSBudWxsIHx8IG1pbmluZGVudCA+IGluZGVudGVkKSB7DQogICAgICAgICAgICAgICAgbWlubGluZSA9IHNlYXJjaCAtIDENCiAgICAgICAgICAgICAgICBtaW5pbmRlbnQgPSBpbmRlbnRlZA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBtaW5saW5lDQogICAgfQ0KDQovLyBMSU5FIERBVEEgU1RSVUNUVVJFDQoNCi8vIExpbmUgb2JqZWN0cy4gVGhlc2UgaG9sZCBzdGF0ZSByZWxhdGVkIHRvIGEgbGluZSwgaW5jbHVkaW5nDQovLyBoaWdobGlnaHRpbmcgaW5mbyAodGhlIHN0eWxlcyBhcnJheSkuDQogICAgZnVuY3Rpb24gTGluZSh0ZXh0LCBtYXJrZWRTcGFucywgZXN0aW1hdGVIZWlnaHQpIHsNCiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dA0KICAgICAgICBhdHRhY2hNYXJrZWRTcGFucyh0aGlzLCBtYXJrZWRTcGFucykNCiAgICAgICAgdGhpcy5oZWlnaHQgPSBlc3RpbWF0ZUhlaWdodCA/IGVzdGltYXRlSGVpZ2h0KHRoaXMpIDogMQ0KICAgIH0NCiAgICBldmVudE1peGluKExpbmUpDQogICAgTGluZS5wcm90b3R5cGUubGluZU5vID0gZnVuY3Rpb24oKSB7IHJldHVybiBsaW5lTm8odGhpcykgfQ0KDQovLyBDaGFuZ2UgdGhlIGNvbnRlbnQgKHRleHQsIG1hcmtlcnMpIG9mIGEgbGluZS4gQXV0b21hdGljYWxseQ0KLy8gaW52YWxpZGF0ZXMgY2FjaGVkIGluZm9ybWF0aW9uIGFuZCB0cmllcyB0byByZS1lc3RpbWF0ZSB0aGUNCi8vIGxpbmUncyBoZWlnaHQuDQogICAgZnVuY3Rpb24gdXBkYXRlTGluZShsaW5lLCB0ZXh0LCBtYXJrZWRTcGFucywgZXN0aW1hdGVIZWlnaHQpIHsNCiAgICAgICAgbGluZS50ZXh0ID0gdGV4dA0KICAgICAgICBpZiAobGluZS5zdGF0ZUFmdGVyKSB7IGxpbmUuc3RhdGVBZnRlciA9IG51bGwgfQ0KICAgICAgICBpZiAobGluZS5zdHlsZXMpIHsgbGluZS5zdHlsZXMgPSBudWxsIH0NCiAgICAgICAgaWYgKGxpbmUub3JkZXIgIT0gbnVsbCkgeyBsaW5lLm9yZGVyID0gbnVsbCB9DQogICAgICAgIGRldGFjaE1hcmtlZFNwYW5zKGxpbmUpDQogICAgICAgIGF0dGFjaE1hcmtlZFNwYW5zKGxpbmUsIG1hcmtlZFNwYW5zKQ0KICAgICAgICB2YXIgZXN0SGVpZ2h0ID0gZXN0aW1hdGVIZWlnaHQgPyBlc3RpbWF0ZUhlaWdodChsaW5lKSA6IDENCiAgICAgICAgaWYgKGVzdEhlaWdodCAhPSBsaW5lLmhlaWdodCkgeyB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGVzdEhlaWdodCkgfQ0KICAgIH0NCg0KLy8gRGV0YWNoIGEgbGluZSBmcm9tIHRoZSBkb2N1bWVudCB0cmVlIGFuZCBpdHMgbWFya2Vycy4NCiAgICBmdW5jdGlvbiBjbGVhblVwTGluZShsaW5lKSB7DQogICAgICAgIGxpbmUucGFyZW50ID0gbnVsbA0KICAgICAgICBkZXRhY2hNYXJrZWRTcGFucyhsaW5lKQ0KICAgIH0NCg0KLy8gQ29udmVydCBhIHN0eWxlIGFzIHJldHVybmVkIGJ5IGEgbW9kZSAoZWl0aGVyIG51bGwsIG9yIGEgc3RyaW5nDQovLyBjb250YWluaW5nIG9uZSBvciBtb3JlIHN0eWxlcykgdG8gYSBDU1Mgc3R5bGUuIFRoaXMgaXMgY2FjaGVkLA0KLy8gYW5kIGFsc28gbG9va3MgZm9yIGxpbmUtd2lkZSBzdHlsZXMuDQogICAgdmFyIHN0eWxlVG9DbGFzc0NhY2hlID0ge307DQogICAgdmFyIHN0eWxlVG9DbGFzc0NhY2hlV2l0aE1vZGUgPSB7fQ0KICAgIGZ1bmN0aW9uIGludGVycHJldFRva2VuU3R5bGUoc3R5bGUsIG9wdGlvbnMpIHsNCiAgICAgICAgaWYgKCFzdHlsZSB8fCAvXlxzKiQvLnRlc3Qoc3R5bGUpKSB7IHJldHVybiBudWxsIH0NCiAgICAgICAgdmFyIGNhY2hlID0gb3B0aW9ucy5hZGRNb2RlQ2xhc3MgPyBzdHlsZVRvQ2xhc3NDYWNoZVdpdGhNb2RlIDogc3R5bGVUb0NsYXNzQ2FjaGUNCiAgICAgICAgcmV0dXJuIGNhY2hlW3N0eWxlXSB8fA0KICAgICAgICAgICAgKGNhY2hlW3N0eWxlXSA9IHN0eWxlLnJlcGxhY2UoL1xTKy9nLCAiY20tJCYiKSkNCiAgICB9DQoNCi8vIFJlbmRlciB0aGUgRE9NIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0ZXh0IG9mIGEgbGluZS4gQWxzbyBidWlsZHMNCi8vIHVwIGEgJ2xpbmUgbWFwJywgd2hpY2ggcG9pbnRzIGF0IHRoZSBET00gbm9kZXMgdGhhdCByZXByZXNlbnQNCi8vIHNwZWNpZmljIHN0cmV0Y2hlcyBvZiB0ZXh0LCBhbmQgaXMgdXNlZCBieSB0aGUgbWVhc3VyaW5nIGNvZGUuDQovLyBUaGUgcmV0dXJuZWQgb2JqZWN0IGNvbnRhaW5zIHRoZSBET00gbm9kZSwgdGhpcyBtYXAsIGFuZA0KLy8gaW5mb3JtYXRpb24gYWJvdXQgbGluZS13aWRlIHN0eWxlcyB0aGF0IHdlcmUgc2V0IGJ5IHRoZSBtb2RlLg0KICAgIGZ1bmN0aW9uIGJ1aWxkTGluZUNvbnRlbnQoY20sIGxpbmVWaWV3KSB7DQogICAgICAgIC8vIFRoZSBwYWRkaW5nLXJpZ2h0IGZvcmNlcyB0aGUgZWxlbWVudCB0byBoYXZlIGEgJ2JvcmRlcicsIHdoaWNoDQogICAgICAgIC8vIGlzIG5lZWRlZCBvbiBXZWJraXQgdG8gYmUgYWJsZSB0byBnZXQgbGluZS1sZXZlbCBib3VuZGluZw0KICAgICAgICAvLyByZWN0YW5nbGVzIGZvciBpdCAoaW4gbWVhc3VyZUNoYXIpLg0KICAgICAgICB2YXIgY29udGVudCA9IGVsdCgic3BhbiIsIG51bGwsIG51bGwsIHdlYmtpdCA/ICJwYWRkaW5nLXJpZ2h0OiAuMXB4IiA6IG51bGwpDQogICAgICAgIHZhciBidWlsZGVyID0ge3ByZTogZWx0KCJwcmUiLCBbY29udGVudF0sICJDb2RlTWlycm9yLWxpbmUiKSwgY29udGVudDogY29udGVudCwNCiAgICAgICAgICAgIGNvbDogMCwgcG9zOiAwLCBjbTogY20sDQogICAgICAgICAgICB0cmFpbGluZ1NwYWNlOiBmYWxzZSwNCiAgICAgICAgICAgIHNwbGl0U3BhY2VzOiAoaWUgfHwgd2Via2l0KSAmJiBjbS5nZXRPcHRpb24oImxpbmVXcmFwcGluZyIpfQ0KICAgICAgICBsaW5lVmlldy5tZWFzdXJlID0ge30NCg0KICAgICAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIGxvZ2ljYWwgbGluZXMgdGhhdCBtYWtlIHVwIHRoaXMgdmlzdWFsIGxpbmUuDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IChsaW5lVmlldy5yZXN0ID8gbGluZVZpZXcucmVzdC5sZW5ndGggOiAwKTsgaSsrKSB7DQogICAgICAgICAgICB2YXIgbGluZSA9IGkgPyBsaW5lVmlldy5yZXN0W2kgLSAxXSA6IGxpbmVWaWV3LmxpbmUsIG9yZGVyID0gdm9pZCAwDQogICAgICAgICAgICBidWlsZGVyLnBvcyA9IDANCiAgICAgICAgICAgIGJ1aWxkZXIuYWRkVG9rZW4gPSBidWlsZFRva2VuDQogICAgICAgICAgICAvLyBPcHRpb25hbGx5IHdpcmUgaW4gc29tZSBoYWNrcyBpbnRvIHRoZSB0b2tlbi1yZW5kZXJpbmcNCiAgICAgICAgICAgIC8vIGFsZ29yaXRobSwgdG8gZGVhbCB3aXRoIGJyb3dzZXIgcXVpcmtzLg0KICAgICAgICAgICAgaWYgKGhhc0JhZEJpZGlSZWN0cyhjbS5kaXNwbGF5Lm1lYXN1cmUpICYmIChvcmRlciA9IGdldE9yZGVyKGxpbmUpKSkNCiAgICAgICAgICAgIHsgYnVpbGRlci5hZGRUb2tlbiA9IGJ1aWxkVG9rZW5CYWRCaWRpKGJ1aWxkZXIuYWRkVG9rZW4sIG9yZGVyKSB9DQogICAgICAgICAgICBidWlsZGVyLm1hcCA9IFtdDQogICAgICAgICAgICB2YXIgYWxsb3dGcm9udGllclVwZGF0ZSA9IGxpbmVWaWV3ICE9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCAmJiBsaW5lTm8obGluZSkNCiAgICAgICAgICAgIGluc2VydExpbmVDb250ZW50KGxpbmUsIGJ1aWxkZXIsIGdldExpbmVTdHlsZXMoY20sIGxpbmUsIGFsbG93RnJvbnRpZXJVcGRhdGUpKQ0KICAgICAgICAgICAgaWYgKGxpbmUuc3R5bGVDbGFzc2VzKSB7DQogICAgICAgICAgICAgICAgaWYgKGxpbmUuc3R5bGVDbGFzc2VzLmJnQ2xhc3MpDQogICAgICAgICAgICAgICAgeyBidWlsZGVyLmJnQ2xhc3MgPSBqb2luQ2xhc3NlcyhsaW5lLnN0eWxlQ2xhc3Nlcy5iZ0NsYXNzLCBidWlsZGVyLmJnQ2xhc3MgfHwgIiIpIH0NCiAgICAgICAgICAgICAgICBpZiAobGluZS5zdHlsZUNsYXNzZXMudGV4dENsYXNzKQ0KICAgICAgICAgICAgICAgIHsgYnVpbGRlci50ZXh0Q2xhc3MgPSBqb2luQ2xhc3NlcyhsaW5lLnN0eWxlQ2xhc3Nlcy50ZXh0Q2xhc3MsIGJ1aWxkZXIudGV4dENsYXNzIHx8ICIiKSB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIEVuc3VyZSBhdCBsZWFzdCBhIHNpbmdsZSBub2RlIGlzIHByZXNlbnQsIGZvciBtZWFzdXJpbmcuDQogICAgICAgICAgICBpZiAoYnVpbGRlci5tYXAubGVuZ3RoID09IDApDQogICAgICAgICAgICB7IGJ1aWxkZXIubWFwLnB1c2goMCwgMCwgYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKHplcm9XaWR0aEVsZW1lbnQoY20uZGlzcGxheS5tZWFzdXJlKSkpIH0NCg0KICAgICAgICAgICAgLy8gU3RvcmUgdGhlIG1hcCBhbmQgYSBjYWNoZSBvYmplY3QgZm9yIHRoZSBjdXJyZW50IGxvZ2ljYWwgbGluZQ0KICAgICAgICAgICAgaWYgKGkgPT0gMCkgew0KICAgICAgICAgICAgICAgIGxpbmVWaWV3Lm1lYXN1cmUubWFwID0gYnVpbGRlci5tYXANCiAgICAgICAgICAgICAgICBsaW5lVmlldy5tZWFzdXJlLmNhY2hlID0ge30NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgKGxpbmVWaWV3Lm1lYXN1cmUubWFwcyB8fCAobGluZVZpZXcubWVhc3VyZS5tYXBzID0gW10pKS5wdXNoKGJ1aWxkZXIubWFwKQ0KICAgICAgICAgICAgICAgIDsobGluZVZpZXcubWVhc3VyZS5jYWNoZXMgfHwgKGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzID0gW10pKS5wdXNoKHt9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gU2VlIGlzc3VlICMyOTAxDQogICAgICAgIGlmICh3ZWJraXQpIHsNCiAgICAgICAgICAgIHZhciBsYXN0ID0gYnVpbGRlci5jb250ZW50Lmxhc3RDaGlsZA0KICAgICAgICAgICAgaWYgKC9cYmNtLXRhYlxiLy50ZXN0KGxhc3QuY2xhc3NOYW1lKSB8fCAobGFzdC5xdWVyeVNlbGVjdG9yICYmIGxhc3QucXVlcnlTZWxlY3RvcigiLmNtLXRhYiIpKSkNCiAgICAgICAgICAgIHsgYnVpbGRlci5jb250ZW50LmNsYXNzTmFtZSA9ICJjbS10YWItd3JhcC1oYWNrIiB9DQogICAgICAgIH0NCg0KICAgICAgICBzaWduYWwoY20sICJyZW5kZXJMaW5lIiwgY20sIGxpbmVWaWV3LmxpbmUsIGJ1aWxkZXIucHJlKQ0KICAgICAgICBpZiAoYnVpbGRlci5wcmUuY2xhc3NOYW1lKQ0KICAgICAgICB7IGJ1aWxkZXIudGV4dENsYXNzID0gam9pbkNsYXNzZXMoYnVpbGRlci5wcmUuY2xhc3NOYW1lLCBidWlsZGVyLnRleHRDbGFzcyB8fCAiIikgfQ0KDQogICAgICAgIHJldHVybiBidWlsZGVyDQogICAgfQ0KDQogICAgZnVuY3Rpb24gZGVmYXVsdFNwZWNpYWxDaGFyUGxhY2Vob2xkZXIoY2gpIHsNCiAgICAgICAgdmFyIHRva2VuID0gZWx0KCJzcGFuIiwgIlx1MjAyMiIsICJjbS1pbnZhbGlkY2hhciIpDQogICAgICAgIHRva2VuLnRpdGxlID0gIlxcdSIgKyBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KQ0KICAgICAgICB0b2tlbi5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLCB0b2tlbi50aXRsZSkNCiAgICAgICAgcmV0dXJuIHRva2VuDQogICAgfQ0KDQovLyBCdWlsZCB1cCB0aGUgRE9NIHJlcHJlc2VudGF0aW9uIGZvciBhIHNpbmdsZSB0b2tlbiwgYW5kIGFkZCBpdCB0bw0KLy8gdGhlIGxpbmUgbWFwLiBUYWtlcyBjYXJlIHRvIHJlbmRlciBzcGVjaWFsIGNoYXJhY3RlcnMgc2VwYXJhdGVseS4NCiAgICBmdW5jdGlvbiBidWlsZFRva2VuKGJ1aWxkZXIsIHRleHQsIHN0eWxlLCBzdGFydFN0eWxlLCBlbmRTdHlsZSwgdGl0bGUsIGNzcykgew0KICAgICAgICBpZiAoIXRleHQpIHsgcmV0dXJuIH0NCiAgICAgICAgdmFyIGRpc3BsYXlUZXh0ID0gYnVpbGRlci5zcGxpdFNwYWNlcyA/IHNwbGl0U3BhY2VzKHRleHQsIGJ1aWxkZXIudHJhaWxpbmdTcGFjZSkgOiB0ZXh0DQogICAgICAgIHZhciBzcGVjaWFsID0gYnVpbGRlci5jbS5zdGF0ZS5zcGVjaWFsQ2hhcnMsIG11c3RXcmFwID0gZmFsc2UNCiAgICAgICAgdmFyIGNvbnRlbnQNCiAgICAgICAgaWYgKCFzcGVjaWFsLnRlc3QodGV4dCkpIHsNCiAgICAgICAgICAgIGJ1aWxkZXIuY29sICs9IHRleHQubGVuZ3RoDQogICAgICAgICAgICBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGlzcGxheVRleHQpDQogICAgICAgICAgICBidWlsZGVyLm1hcC5wdXNoKGJ1aWxkZXIucG9zLCBidWlsZGVyLnBvcyArIHRleHQubGVuZ3RoLCBjb250ZW50KQ0KICAgICAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5KSB7IG11c3RXcmFwID0gdHJ1ZSB9DQogICAgICAgICAgICBidWlsZGVyLnBvcyArPSB0ZXh0Lmxlbmd0aA0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKQ0KICAgICAgICAgICAgdmFyIHBvcyA9IDANCiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7DQogICAgICAgICAgICAgICAgc3BlY2lhbC5sYXN0SW5kZXggPSBwb3MNCiAgICAgICAgICAgICAgICB2YXIgbSA9IHNwZWNpYWwuZXhlYyh0ZXh0KQ0KICAgICAgICAgICAgICAgIHZhciBza2lwcGVkID0gbSA/IG0uaW5kZXggLSBwb3MgOiB0ZXh0Lmxlbmd0aCAtIHBvcw0KICAgICAgICAgICAgICAgIGlmIChza2lwcGVkKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0eHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkaXNwbGF5VGV4dC5zbGljZShwb3MsIHBvcyArIHNraXBwZWQpKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpIHsgY29udGVudC5hcHBlbmRDaGlsZChlbHQoInNwYW4iLCBbdHh0XSkpIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7IGNvbnRlbnQuYXBwZW5kQ2hpbGQodHh0KSB9DQogICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIubWFwLnB1c2goYnVpbGRlci5wb3MsIGJ1aWxkZXIucG9zICsgc2tpcHBlZCwgdHh0KQ0KICAgICAgICAgICAgICAgICAgICBidWlsZGVyLmNvbCArPSBza2lwcGVkDQogICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIucG9zICs9IHNraXBwZWQNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCFtKSB7IGJyZWFrIH0NCiAgICAgICAgICAgICAgICBwb3MgKz0gc2tpcHBlZCArIDENCiAgICAgICAgICAgICAgICB2YXIgdHh0JDEgPSB2b2lkIDANCiAgICAgICAgICAgICAgICBpZiAobVswXSA9PSAiXHQiKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0YWJTaXplID0gYnVpbGRlci5jbS5vcHRpb25zLnRhYlNpemUsIHRhYldpZHRoID0gdGFiU2l6ZSAtIGJ1aWxkZXIuY29sICUgdGFiU2l6ZQ0KICAgICAgICAgICAgICAgICAgICB0eHQkMSA9IGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KCJzcGFuIiwgc3BhY2VTdHIodGFiV2lkdGgpLCAiY20tdGFiIikpDQogICAgICAgICAgICAgICAgICAgIHR4dCQxLnNldEF0dHJpYnV0ZSgicm9sZSIsICJwcmVzZW50YXRpb24iKQ0KICAgICAgICAgICAgICAgICAgICB0eHQkMS5zZXRBdHRyaWJ1dGUoImNtLXRleHQiLCAiXHQiKQ0KICAgICAgICAgICAgICAgICAgICBidWlsZGVyLmNvbCArPSB0YWJXaWR0aA0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobVswXSA9PSAiXHIiIHx8IG1bMF0gPT0gIlxuIikgew0KICAgICAgICAgICAgICAgICAgICB0eHQkMSA9IGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KCJzcGFuIiwgbVswXSA9PSAiXHIiID8gIlx1MjQwZCIgOiAiXHUyNDI0IiwgImNtLWludmFsaWRjaGFyIikpDQogICAgICAgICAgICAgICAgICAgIHR4dCQxLnNldEF0dHJpYnV0ZSgiY20tdGV4dCIsIG1bMF0pDQogICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuY29sICs9IDENCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0eHQkMSA9IGJ1aWxkZXIuY20ub3B0aW9ucy5zcGVjaWFsQ2hhclBsYWNlaG9sZGVyKG1bMF0pDQogICAgICAgICAgICAgICAgICAgIHR4dCQxLnNldEF0dHJpYnV0ZSgiY20tdGV4dCIsIG1bMF0pDQogICAgICAgICAgICAgICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgeyBjb250ZW50LmFwcGVuZENoaWxkKGVsdCgic3BhbiIsIFt0eHQkMV0pKSB9DQogICAgICAgICAgICAgICAgICAgIGVsc2UgeyBjb250ZW50LmFwcGVuZENoaWxkKHR4dCQxKSB9DQogICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuY29sICs9IDENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyAxLCB0eHQkMSkNCiAgICAgICAgICAgICAgICBidWlsZGVyLnBvcysrDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgYnVpbGRlci50cmFpbGluZ1NwYWNlID0gZGlzcGxheVRleHQuY2hhckNvZGVBdCh0ZXh0Lmxlbmd0aCAtIDEpID09IDMyDQogICAgICAgIGlmIChzdHlsZSB8fCBzdGFydFN0eWxlIHx8IGVuZFN0eWxlIHx8IG11c3RXcmFwIHx8IGNzcykgew0KICAgICAgICAgICAgdmFyIGZ1bGxTdHlsZSA9IHN0eWxlIHx8ICIiDQogICAgICAgICAgICBpZiAoc3RhcnRTdHlsZSkgeyBmdWxsU3R5bGUgKz0gc3RhcnRTdHlsZSB9DQogICAgICAgICAgICBpZiAoZW5kU3R5bGUpIHsgZnVsbFN0eWxlICs9IGVuZFN0eWxlIH0NCiAgICAgICAgICAgIHZhciB0b2tlbiA9IGVsdCgic3BhbiIsIFtjb250ZW50XSwgZnVsbFN0eWxlLCBjc3MpDQogICAgICAgICAgICBpZiAodGl0bGUpIHsgdG9rZW4udGl0bGUgPSB0aXRsZSB9DQogICAgICAgICAgICByZXR1cm4gYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKHRva2VuKQ0KICAgICAgICB9DQogICAgICAgIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZChjb250ZW50KQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNwbGl0U3BhY2VzKHRleHQsIHRyYWlsaW5nQmVmb3JlKSB7DQogICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDEgJiYgIS8gIC8udGVzdCh0ZXh0KSkgeyByZXR1cm4gdGV4dCB9DQogICAgICAgIHZhciBzcGFjZUJlZm9yZSA9IHRyYWlsaW5nQmVmb3JlLCByZXN1bHQgPSAiIg0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHZhciBjaCA9IHRleHQuY2hhckF0KGkpDQogICAgICAgICAgICBpZiAoY2ggPT0gIiAiICYmIHNwYWNlQmVmb3JlICYmIChpID09IHRleHQubGVuZ3RoIC0gMSB8fCB0ZXh0LmNoYXJDb2RlQXQoaSArIDEpID09IDMyKSkNCiAgICAgICAgICAgIHsgY2ggPSAiXHUwMGEwIiB9DQogICAgICAgICAgICByZXN1bHQgKz0gY2gNCiAgICAgICAgICAgIHNwYWNlQmVmb3JlID0gY2ggPT0gIiAiDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJlc3VsdA0KICAgIH0NCg0KLy8gV29yayBhcm91bmQgbm9uc2Vuc2UgZGltZW5zaW9ucyBiZWluZyByZXBvcnRlZCBmb3Igc3RyZXRjaGVzIG9mDQovLyByaWdodC10by1sZWZ0IHRleHQuDQogICAgZnVuY3Rpb24gYnVpbGRUb2tlbkJhZEJpZGkoaW5uZXIsIG9yZGVyKSB7DQogICAgICAgIHJldHVybiBmdW5jdGlvbiAoYnVpbGRlciwgdGV4dCwgc3R5bGUsIHN0YXJ0U3R5bGUsIGVuZFN0eWxlLCB0aXRsZSwgY3NzKSB7DQogICAgICAgICAgICBzdHlsZSA9IHN0eWxlID8gc3R5bGUgKyAiIGNtLWZvcmNlLWJvcmRlciIgOiAiY20tZm9yY2UtYm9yZGVyIg0KICAgICAgICAgICAgdmFyIHN0YXJ0ID0gYnVpbGRlci5wb3MsIGVuZCA9IHN0YXJ0ICsgdGV4dC5sZW5ndGgNCiAgICAgICAgICAgIGZvciAoOzspIHsNCiAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBwYXJ0IHRoYXQgb3ZlcmxhcHMgd2l0aCB0aGUgc3RhcnQgb2YgdGhpcyB0ZXh0DQogICAgICAgICAgICAgICAgdmFyIHBhcnQgPSB2b2lkIDANCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIHBhcnQgPSBvcmRlcltpXQ0KICAgICAgICAgICAgICAgICAgICBpZiAocGFydC50byA+IHN0YXJ0ICYmIHBhcnQuZnJvbSA8PSBzdGFydCkgeyBicmVhayB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChwYXJ0LnRvID49IGVuZCkgeyByZXR1cm4gaW5uZXIoYnVpbGRlciwgdGV4dCwgc3R5bGUsIHN0YXJ0U3R5bGUsIGVuZFN0eWxlLCB0aXRsZSwgY3NzKSB9DQogICAgICAgICAgICAgICAgaW5uZXIoYnVpbGRlciwgdGV4dC5zbGljZSgwLCBwYXJ0LnRvIC0gc3RhcnQpLCBzdHlsZSwgc3RhcnRTdHlsZSwgbnVsbCwgdGl0bGUsIGNzcykNCiAgICAgICAgICAgICAgICBzdGFydFN0eWxlID0gbnVsbA0KICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKHBhcnQudG8gLSBzdGFydCkNCiAgICAgICAgICAgICAgICBzdGFydCA9IHBhcnQudG8NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGJ1aWxkQ29sbGFwc2VkU3BhbihidWlsZGVyLCBzaXplLCBtYXJrZXIsIGlnbm9yZVdpZGdldCkgew0KICAgICAgICB2YXIgd2lkZ2V0ID0gIWlnbm9yZVdpZGdldCAmJiBtYXJrZXIud2lkZ2V0Tm9kZQ0KICAgICAgICBpZiAod2lkZ2V0KSB7IGJ1aWxkZXIubWFwLnB1c2goYnVpbGRlci5wb3MsIGJ1aWxkZXIucG9zICsgc2l6ZSwgd2lkZ2V0KSB9DQogICAgICAgIGlmICghaWdub3JlV2lkZ2V0ICYmIGJ1aWxkZXIuY20uZGlzcGxheS5pbnB1dC5uZWVkc0NvbnRlbnRBdHRyaWJ1dGUpIHsNCiAgICAgICAgICAgIGlmICghd2lkZ2V0KQ0KICAgICAgICAgICAgeyB3aWRnZXQgPSBidWlsZGVyLmNvbnRlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpKSB9DQogICAgICAgICAgICB3aWRnZXQuc2V0QXR0cmlidXRlKCJjbS1tYXJrZXIiLCBtYXJrZXIuaWQpDQogICAgICAgIH0NCiAgICAgICAgaWYgKHdpZGdldCkgew0KICAgICAgICAgICAgYnVpbGRlci5jbS5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUod2lkZ2V0KQ0KICAgICAgICAgICAgYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKHdpZGdldCkNCiAgICAgICAgfQ0KICAgICAgICBidWlsZGVyLnBvcyArPSBzaXplDQogICAgICAgIGJ1aWxkZXIudHJhaWxpbmdTcGFjZSA9IGZhbHNlDQogICAgfQ0KDQovLyBPdXRwdXRzIGEgbnVtYmVyIG9mIHNwYW5zIHRvIG1ha2UgdXAgYSBsaW5lLCB0YWtpbmcgaGlnaGxpZ2h0aW5nDQovLyBhbmQgbWFya2VkIHRleHQgaW50byBhY2NvdW50Lg0KICAgIGZ1bmN0aW9uIGluc2VydExpbmVDb250ZW50KGxpbmUsIGJ1aWxkZXIsIHN0eWxlcykgew0KICAgICAgICB2YXIgc3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zLCBhbGxUZXh0ID0gbGluZS50ZXh0LCBhdCA9IDANCiAgICAgICAgaWYgKCFzcGFucykgew0KICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMTsgaSQxIDwgc3R5bGVzLmxlbmd0aDsgaSQxKz0yKQ0KICAgICAgICAgICAgeyBidWlsZGVyLmFkZFRva2VuKGJ1aWxkZXIsIGFsbFRleHQuc2xpY2UoYXQsIGF0ID0gc3R5bGVzW2kkMV0pLCBpbnRlcnByZXRUb2tlblN0eWxlKHN0eWxlc1tpJDErMV0sIGJ1aWxkZXIuY20ub3B0aW9ucykpIH0NCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGxlbiA9IGFsbFRleHQubGVuZ3RoLCBwb3MgPSAwLCBpID0gMSwgdGV4dCA9ICIiLCBzdHlsZSwgY3NzDQogICAgICAgIHZhciBuZXh0Q2hhbmdlID0gMCwgc3BhblN0eWxlLCBzcGFuRW5kU3R5bGUsIHNwYW5TdGFydFN0eWxlLCB0aXRsZSwgY29sbGFwc2VkDQogICAgICAgIGZvciAoOzspIHsNCiAgICAgICAgICAgIGlmIChuZXh0Q2hhbmdlID09IHBvcykgeyAvLyBVcGRhdGUgY3VycmVudCBtYXJrZXIgc2V0DQogICAgICAgICAgICAgICAgc3BhblN0eWxlID0gc3BhbkVuZFN0eWxlID0gc3BhblN0YXJ0U3R5bGUgPSB0aXRsZSA9IGNzcyA9ICIiDQogICAgICAgICAgICAgICAgY29sbGFwc2VkID0gbnVsbDsgbmV4dENoYW5nZSA9IEluZmluaXR5DQogICAgICAgICAgICAgICAgdmFyIGZvdW5kQm9va21hcmtzID0gW10sIGVuZFN0eWxlcyA9IHZvaWQgMA0KICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3BhbnMubGVuZ3RoOyArK2opIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNwID0gc3BhbnNbal0sIG0gPSBzcC5tYXJrZXINCiAgICAgICAgICAgICAgICAgICAgaWYgKG0udHlwZSA9PSAiYm9va21hcmsiICYmIHNwLmZyb20gPT0gcG9zICYmIG0ud2lkZ2V0Tm9kZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRCb29rbWFya3MucHVzaChtKQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNwLmZyb20gPD0gcG9zICYmIChzcC50byA9PSBudWxsIHx8IHNwLnRvID4gcG9zIHx8IG0uY29sbGFwc2VkICYmIHNwLnRvID09IHBvcyAmJiBzcC5mcm9tID09IHBvcykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcC50byAhPSBudWxsICYmIHNwLnRvICE9IHBvcyAmJiBuZXh0Q2hhbmdlID4gc3AudG8pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q2hhbmdlID0gc3AudG8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuRW5kU3R5bGUgPSAiIg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0uY2xhc3NOYW1lKSB7IHNwYW5TdHlsZSArPSAiICIgKyBtLmNsYXNzTmFtZSB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobS5jc3MpIHsgY3NzID0gKGNzcyA/IGNzcyArICI7IiA6ICIiKSArIG0uY3NzIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtLnN0YXJ0U3R5bGUgJiYgc3AuZnJvbSA9PSBwb3MpIHsgc3BhblN0YXJ0U3R5bGUgKz0gIiAiICsgbS5zdGFydFN0eWxlIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtLmVuZFN0eWxlICYmIHNwLnRvID09IG5leHRDaGFuZ2UpIHsgKGVuZFN0eWxlcyB8fCAoZW5kU3R5bGVzID0gW10pKS5wdXNoKG0uZW5kU3R5bGUsIHNwLnRvKSB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobS50aXRsZSAmJiAhdGl0bGUpIHsgdGl0bGUgPSBtLnRpdGxlIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtLmNvbGxhcHNlZCAmJiAoIWNvbGxhcHNlZCB8fCBjb21wYXJlQ29sbGFwc2VkTWFya2Vycyhjb2xsYXBzZWQubWFya2VyLCBtKSA8IDApKQ0KICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xsYXBzZWQgPSBzcCB9DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3AuZnJvbSA+IHBvcyAmJiBuZXh0Q2hhbmdlID4gc3AuZnJvbSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmV4dENoYW5nZSA9IHNwLmZyb20NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoZW5kU3R5bGVzKSB7IGZvciAodmFyIGokMSA9IDA7IGokMSA8IGVuZFN0eWxlcy5sZW5ndGg7IGokMSArPSAyKQ0KICAgICAgICAgICAgICAgIHsgaWYgKGVuZFN0eWxlc1tqJDEgKyAxXSA9PSBuZXh0Q2hhbmdlKSB7IHNwYW5FbmRTdHlsZSArPSAiICIgKyBlbmRTdHlsZXNbaiQxXSB9IH0gfQ0KDQogICAgICAgICAgICAgICAgaWYgKCFjb2xsYXBzZWQgfHwgY29sbGFwc2VkLmZyb20gPT0gcG9zKSB7IGZvciAodmFyIGokMiA9IDA7IGokMiA8IGZvdW5kQm9va21hcmtzLmxlbmd0aDsgKytqJDIpDQogICAgICAgICAgICAgICAgeyBidWlsZENvbGxhcHNlZFNwYW4oYnVpbGRlciwgMCwgZm91bmRCb29rbWFya3NbaiQyXSkgfSB9DQogICAgICAgICAgICAgICAgaWYgKGNvbGxhcHNlZCAmJiAoY29sbGFwc2VkLmZyb20gfHwgMCkgPT0gcG9zKSB7DQogICAgICAgICAgICAgICAgICAgIGJ1aWxkQ29sbGFwc2VkU3BhbihidWlsZGVyLCAoY29sbGFwc2VkLnRvID09IG51bGwgPyBsZW4gKyAxIDogY29sbGFwc2VkLnRvKSAtIHBvcywNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxhcHNlZC5tYXJrZXIsIGNvbGxhcHNlZC5mcm9tID09IG51bGwpDQogICAgICAgICAgICAgICAgICAgIGlmIChjb2xsYXBzZWQudG8gPT0gbnVsbCkgeyByZXR1cm4gfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGFwc2VkLnRvID09IHBvcykgeyBjb2xsYXBzZWQgPSBmYWxzZSB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHBvcyA+PSBsZW4pIHsgYnJlYWsgfQ0KDQogICAgICAgICAgICB2YXIgdXB0byA9IE1hdGgubWluKGxlbiwgbmV4dENoYW5nZSkNCiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7DQogICAgICAgICAgICAgICAgaWYgKHRleHQpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZCA9IHBvcyArIHRleHQubGVuZ3RoDQogICAgICAgICAgICAgICAgICAgIGlmICghY29sbGFwc2VkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW5UZXh0ID0gZW5kID4gdXB0byA/IHRleHQuc2xpY2UoMCwgdXB0byAtIHBvcykgOiB0ZXh0DQogICAgICAgICAgICAgICAgICAgICAgICBidWlsZGVyLmFkZFRva2VuKGJ1aWxkZXIsIHRva2VuVGV4dCwgc3R5bGUgPyBzdHlsZSArIHNwYW5TdHlsZSA6IHNwYW5TdHlsZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuU3RhcnRTdHlsZSwgcG9zICsgdG9rZW5UZXh0Lmxlbmd0aCA9PSBuZXh0Q2hhbmdlID8gc3BhbkVuZFN0eWxlIDogIiIsIHRpdGxlLCBjc3MpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCA+PSB1cHRvKSB7dGV4dCA9IHRleHQuc2xpY2UodXB0byAtIHBvcyk7IHBvcyA9IHVwdG87IGJyZWFrfQ0KICAgICAgICAgICAgICAgICAgICBwb3MgPSBlbmQNCiAgICAgICAgICAgICAgICAgICAgc3BhblN0YXJ0U3R5bGUgPSAiIg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0ZXh0ID0gYWxsVGV4dC5zbGljZShhdCwgYXQgPSBzdHlsZXNbaSsrXSkNCiAgICAgICAgICAgICAgICBzdHlsZSA9IGludGVycHJldFRva2VuU3R5bGUoc3R5bGVzW2krK10sIGJ1aWxkZXIuY20ub3B0aW9ucykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KDQovLyBUaGVzZSBvYmplY3RzIGFyZSB1c2VkIHRvIHJlcHJlc2VudCB0aGUgdmlzaWJsZSAoY3VycmVudGx5IGRyYXduKQ0KLy8gcGFydCBvZiB0aGUgZG9jdW1lbnQuIEEgTGluZVZpZXcgbWF5IGNvcnJlc3BvbmQgdG8gbXVsdGlwbGUNCi8vIGxvZ2ljYWwgbGluZXMsIGlmIHRob3NlIGFyZSBjb25uZWN0ZWQgYnkgY29sbGFwc2VkIHJhbmdlcy4NCiAgICBmdW5jdGlvbiBMaW5lVmlldyhkb2MsIGxpbmUsIGxpbmVOKSB7DQogICAgICAgIC8vIFRoZSBzdGFydGluZyBsaW5lDQogICAgICAgIHRoaXMubGluZSA9IGxpbmUNCiAgICAgICAgLy8gQ29udGludWluZyBsaW5lcywgaWYgYW55DQogICAgICAgIHRoaXMucmVzdCA9IHZpc3VhbExpbmVDb250aW51ZWQobGluZSkNCiAgICAgICAgLy8gTnVtYmVyIG9mIGxvZ2ljYWwgbGluZXMgaW4gdGhpcyB2aXN1YWwgbGluZQ0KICAgICAgICB0aGlzLnNpemUgPSB0aGlzLnJlc3QgPyBsaW5lTm8obHN0KHRoaXMucmVzdCkpIC0gbGluZU4gKyAxIDogMQ0KICAgICAgICB0aGlzLm5vZGUgPSB0aGlzLnRleHQgPSBudWxsDQogICAgICAgIHRoaXMuaGlkZGVuID0gbGluZUlzSGlkZGVuKGRvYywgbGluZSkNCiAgICB9DQoNCi8vIENyZWF0ZSBhIHJhbmdlIG9mIExpbmVWaWV3IG9iamVjdHMgZm9yIHRoZSBnaXZlbiBsaW5lcy4NCiAgICBmdW5jdGlvbiBidWlsZFZpZXdBcnJheShjbSwgZnJvbSwgdG8pIHsNCiAgICAgICAgdmFyIGFycmF5ID0gW10sIG5leHRQb3MNCiAgICAgICAgZm9yICh2YXIgcG9zID0gZnJvbTsgcG9zIDwgdG87IHBvcyA9IG5leHRQb3MpIHsNCiAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IExpbmVWaWV3KGNtLmRvYywgZ2V0TGluZShjbS5kb2MsIHBvcyksIHBvcykNCiAgICAgICAgICAgIG5leHRQb3MgPSBwb3MgKyB2aWV3LnNpemUNCiAgICAgICAgICAgIGFycmF5LnB1c2godmlldykNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gYXJyYXkNCiAgICB9DQoNCiAgICB2YXIgb3BlcmF0aW9uR3JvdXAgPSBudWxsDQoNCiAgICBmdW5jdGlvbiBwdXNoT3BlcmF0aW9uKG9wKSB7DQogICAgICAgIGlmIChvcGVyYXRpb25Hcm91cCkgew0KICAgICAgICAgICAgb3BlcmF0aW9uR3JvdXAub3BzLnB1c2gob3ApDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBvcC5vd25zR3JvdXAgPSBvcGVyYXRpb25Hcm91cCA9IHsNCiAgICAgICAgICAgICAgICBvcHM6IFtvcF0sDQogICAgICAgICAgICAgICAgZGVsYXllZENhbGxiYWNrczogW10NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGZpcmVDYWxsYmFja3NGb3JPcHMoZ3JvdXApIHsNCiAgICAgICAgLy8gQ2FsbHMgZGVsYXllZCBjYWxsYmFja3MgYW5kIGN1cnNvckFjdGl2aXR5IGhhbmRsZXJzIHVudGlsIG5vDQogICAgICAgIC8vIG5ldyBvbmVzIGFwcGVhcg0KICAgICAgICB2YXIgY2FsbGJhY2tzID0gZ3JvdXAuZGVsYXllZENhbGxiYWNrcywgaSA9IDANCiAgICAgICAgZG8gew0KICAgICAgICAgICAgZm9yICg7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspDQogICAgICAgICAgICB7IGNhbGxiYWNrc1tpXS5jYWxsKG51bGwpIH0NCiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXAub3BzLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICAgICAgdmFyIG9wID0gZ3JvdXAub3BzW2pdDQogICAgICAgICAgICAgICAgaWYgKG9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMpDQogICAgICAgICAgICAgICAgeyB3aGlsZSAob3AuY3Vyc29yQWN0aXZpdHlDYWxsZWQgPCBvcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzLmxlbmd0aCkNCiAgICAgICAgICAgICAgICB7IG9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnNbb3AuY3Vyc29yQWN0aXZpdHlDYWxsZWQrK10uY2FsbChudWxsLCBvcC5jbSkgfSB9DQogICAgICAgICAgICB9DQogICAgICAgIH0gd2hpbGUgKGkgPCBjYWxsYmFja3MubGVuZ3RoKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGZpbmlzaE9wZXJhdGlvbihvcCwgZW5kQ2IpIHsNCiAgICAgICAgdmFyIGdyb3VwID0gb3Aub3duc0dyb3VwDQogICAgICAgIGlmICghZ3JvdXApIHsgcmV0dXJuIH0NCg0KICAgICAgICB0cnkgeyBmaXJlQ2FsbGJhY2tzRm9yT3BzKGdyb3VwKSB9DQogICAgICAgIGZpbmFsbHkgew0KICAgICAgICAgICAgb3BlcmF0aW9uR3JvdXAgPSBudWxsDQogICAgICAgICAgICBlbmRDYihncm91cCkNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHZhciBvcnBoYW5EZWxheWVkQ2FsbGJhY2tzID0gbnVsbA0KDQovLyBPZnRlbiwgd2Ugd2FudCB0byBzaWduYWwgZXZlbnRzIGF0IGEgcG9pbnQgd2hlcmUgd2UgYXJlIGluIHRoZQ0KLy8gbWlkZGxlIG9mIHNvbWUgd29yaywgYnV0IGRvbid0IHdhbnQgdGhlIGhhbmRsZXIgdG8gc3RhcnQgY2FsbGluZw0KLy8gb3RoZXIgbWV0aG9kcyBvbiB0aGUgZWRpdG9yLCB3aGljaCBtaWdodCBiZSBpbiBhbiBpbmNvbnNpc3RlbnQNCi8vIHN0YXRlIG9yIHNpbXBseSBub3QgZXhwZWN0IGFueSBvdGhlciBldmVudHMgdG8gaGFwcGVuLg0KLy8gc2lnbmFsTGF0ZXIgbG9va3Mgd2hldGhlciB0aGVyZSBhcmUgYW55IGhhbmRsZXJzLCBhbmQgc2NoZWR1bGVzDQovLyB0aGVtIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGxhc3Qgb3BlcmF0aW9uIGVuZHMsIG9yLCBpZiBubw0KLy8gb3BlcmF0aW9uIGlzIGFjdGl2ZSwgd2hlbiBhIHRpbWVvdXQgZmlyZXMuDQogICAgZnVuY3Rpb24gc2lnbmFsTGF0ZXIoZW1pdHRlciwgdHlwZSAvKiwgdmFsdWVzLi4uKi8pIHsNCiAgICAgICAgdmFyIGFyciA9IGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUsIGZhbHNlKQ0KICAgICAgICBpZiAoIWFyci5sZW5ndGgpIHsgcmV0dXJuIH0NCiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpLCBsaXN0DQogICAgICAgIGlmIChvcGVyYXRpb25Hcm91cCkgew0KICAgICAgICAgICAgbGlzdCA9IG9wZXJhdGlvbkdyb3VwLmRlbGF5ZWRDYWxsYmFja3MNCiAgICAgICAgfSBlbHNlIGlmIChvcnBoYW5EZWxheWVkQ2FsbGJhY2tzKSB7DQogICAgICAgICAgICBsaXN0ID0gb3JwaGFuRGVsYXllZENhbGxiYWNrcw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbGlzdCA9IG9ycGhhbkRlbGF5ZWRDYWxsYmFja3MgPSBbXQ0KICAgICAgICAgICAgc2V0VGltZW91dChmaXJlT3JwaGFuRGVsYXllZCwgMCkNCiAgICAgICAgfQ0KICAgICAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggaSApIHsNCiAgICAgICAgICAgIGxpc3QucHVzaChmdW5jdGlvbiAoKSB7IHJldHVybiBhcnJbaV0uYXBwbHkobnVsbCwgYXJncyk7IH0pDQogICAgICAgIH07DQoNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpDQogICAgICAgICAgICBsb29wKCBpICk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZmlyZU9ycGhhbkRlbGF5ZWQoKSB7DQogICAgICAgIHZhciBkZWxheWVkID0gb3JwaGFuRGVsYXllZENhbGxiYWNrcw0KICAgICAgICBvcnBoYW5EZWxheWVkQ2FsbGJhY2tzID0gbnVsbA0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGF5ZWQubGVuZ3RoOyArK2kpIHsgZGVsYXllZFtpXSgpIH0NCiAgICB9DQoNCi8vIFdoZW4gYW4gYXNwZWN0IG9mIGEgbGluZSBjaGFuZ2VzLCBhIHN0cmluZyBpcyBhZGRlZCB0bw0KLy8gbGluZVZpZXcuY2hhbmdlcy4gVGhpcyB1cGRhdGVzIHRoZSByZWxldmFudCBwYXJ0IG9mIHRoZSBsaW5lJ3MNCi8vIERPTSBzdHJ1Y3R1cmUuDQogICAgZnVuY3Rpb24gdXBkYXRlTGluZUZvckNoYW5nZXMoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcykgew0KICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmVWaWV3LmNoYW5nZXMubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgIHZhciB0eXBlID0gbGluZVZpZXcuY2hhbmdlc1tqXQ0KICAgICAgICAgICAgaWYgKHR5cGUgPT0gInRleHQiKSB7IHVwZGF0ZUxpbmVUZXh0KGNtLCBsaW5lVmlldykgfQ0KICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAiZ3V0dGVyIikgeyB1cGRhdGVMaW5lR3V0dGVyKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gImNsYXNzIikgeyB1cGRhdGVMaW5lQ2xhc3NlcyhsaW5lVmlldykgfQ0KICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAid2lkZ2V0IikgeyB1cGRhdGVMaW5lV2lkZ2V0cyhjbSwgbGluZVZpZXcsIGRpbXMpIH0NCiAgICAgICAgfQ0KICAgICAgICBsaW5lVmlldy5jaGFuZ2VzID0gbnVsbA0KICAgIH0NCg0KLy8gTGluZXMgd2l0aCBndXR0ZXIgZWxlbWVudHMsIHdpZGdldHMgb3IgYSBiYWNrZ3JvdW5kIGNsYXNzIG5lZWQgdG8NCi8vIGJlIHdyYXBwZWQsIGFuZCBoYXZlIHRoZSBleHRyYSBlbGVtZW50cyBhZGRlZCB0byB0aGUgd3JhcHBlciBkaXYNCiAgICBmdW5jdGlvbiBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldykgew0KICAgICAgICBpZiAobGluZVZpZXcubm9kZSA9PSBsaW5lVmlldy50ZXh0KSB7DQogICAgICAgICAgICBsaW5lVmlldy5ub2RlID0gZWx0KCJkaXYiLCBudWxsLCBudWxsLCAicG9zaXRpb246IHJlbGF0aXZlIikNCiAgICAgICAgICAgIGlmIChsaW5lVmlldy50ZXh0LnBhcmVudE5vZGUpDQogICAgICAgICAgICB7IGxpbmVWaWV3LnRleHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobGluZVZpZXcubm9kZSwgbGluZVZpZXcudGV4dCkgfQ0KICAgICAgICAgICAgbGluZVZpZXcubm9kZS5hcHBlbmRDaGlsZChsaW5lVmlldy50ZXh0KQ0KICAgICAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA4KSB7IGxpbmVWaWV3Lm5vZGUuc3R5bGUuekluZGV4ID0gMiB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGxpbmVWaWV3Lm5vZGUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB1cGRhdGVMaW5lQmFja2dyb3VuZChsaW5lVmlldykgew0KICAgICAgICB2YXIgY2xzID0gbGluZVZpZXcuYmdDbGFzcyA/IGxpbmVWaWV3LmJnQ2xhc3MgKyAiICIgKyAobGluZVZpZXcubGluZS5iZ0NsYXNzIHx8ICIiKSA6IGxpbmVWaWV3LmxpbmUuYmdDbGFzcw0KICAgICAgICBpZiAoY2xzKSB7IGNscyArPSAiIENvZGVNaXJyb3ItbGluZWJhY2tncm91bmQiIH0NCiAgICAgICAgaWYgKGxpbmVWaWV3LmJhY2tncm91bmQpIHsNCiAgICAgICAgICAgIGlmIChjbHMpIHsgbGluZVZpZXcuYmFja2dyb3VuZC5jbGFzc05hbWUgPSBjbHMgfQ0KICAgICAgICAgICAgZWxzZSB7IGxpbmVWaWV3LmJhY2tncm91bmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsaW5lVmlldy5iYWNrZ3JvdW5kKTsgbGluZVZpZXcuYmFja2dyb3VuZCA9IG51bGwgfQ0KICAgICAgICB9IGVsc2UgaWYgKGNscykgew0KICAgICAgICAgICAgdmFyIHdyYXAgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldykNCiAgICAgICAgICAgIGxpbmVWaWV3LmJhY2tncm91bmQgPSB3cmFwLmluc2VydEJlZm9yZShlbHQoImRpdiIsIG51bGwsIGNscyksIHdyYXAuZmlyc3RDaGlsZCkNCiAgICAgICAgfQ0KICAgIH0NCg0KLy8gV3JhcHBlciBhcm91bmQgYnVpbGRMaW5lQ29udGVudCB3aGljaCB3aWxsIHJldXNlIHRoZSBzdHJ1Y3R1cmUNCi8vIGluIGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCB3aGVuIHBvc3NpYmxlLg0KICAgIGZ1bmN0aW9uIGdldExpbmVDb250ZW50KGNtLCBsaW5lVmlldykgew0KICAgICAgICB2YXIgZXh0ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkDQogICAgICAgIGlmIChleHQgJiYgZXh0LmxpbmUgPT0gbGluZVZpZXcubGluZSkgew0KICAgICAgICAgICAgY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbnVsbA0KICAgICAgICAgICAgbGluZVZpZXcubWVhc3VyZSA9IGV4dC5tZWFzdXJlDQogICAgICAgICAgICByZXR1cm4gZXh0LmJ1aWx0DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGJ1aWxkTGluZUNvbnRlbnQoY20sIGxpbmVWaWV3KQ0KICAgIH0NCg0KLy8gUmVkcmF3IHRoZSBsaW5lJ3MgdGV4dC4gSW50ZXJhY3RzIHdpdGggdGhlIGJhY2tncm91bmQgYW5kIHRleHQNCi8vIGNsYXNzZXMgYmVjYXVzZSB0aGUgbW9kZSBtYXkgb3V0cHV0IHRva2VucyB0aGF0IGluZmx1ZW5jZSB0aGVzZQ0KLy8gY2xhc3Nlcy4NCiAgICBmdW5jdGlvbiB1cGRhdGVMaW5lVGV4dChjbSwgbGluZVZpZXcpIHsNCiAgICAgICAgdmFyIGNscyA9IGxpbmVWaWV3LnRleHQuY2xhc3NOYW1lDQogICAgICAgIHZhciBidWlsdCA9IGdldExpbmVDb250ZW50KGNtLCBsaW5lVmlldykNCiAgICAgICAgaWYgKGxpbmVWaWV3LnRleHQgPT0gbGluZVZpZXcubm9kZSkgeyBsaW5lVmlldy5ub2RlID0gYnVpbHQucHJlIH0NCiAgICAgICAgbGluZVZpZXcudGV4dC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChidWlsdC5wcmUsIGxpbmVWaWV3LnRleHQpDQogICAgICAgIGxpbmVWaWV3LnRleHQgPSBidWlsdC5wcmUNCiAgICAgICAgaWYgKGJ1aWx0LmJnQ2xhc3MgIT0gbGluZVZpZXcuYmdDbGFzcyB8fCBidWlsdC50ZXh0Q2xhc3MgIT0gbGluZVZpZXcudGV4dENsYXNzKSB7DQogICAgICAgICAgICBsaW5lVmlldy5iZ0NsYXNzID0gYnVpbHQuYmdDbGFzcw0KICAgICAgICAgICAgbGluZVZpZXcudGV4dENsYXNzID0gYnVpbHQudGV4dENsYXNzDQogICAgICAgICAgICB1cGRhdGVMaW5lQ2xhc3NlcyhsaW5lVmlldykNCiAgICAgICAgfSBlbHNlIGlmIChjbHMpIHsNCiAgICAgICAgICAgIGxpbmVWaWV3LnRleHQuY2xhc3NOYW1lID0gY2xzDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiB1cGRhdGVMaW5lQ2xhc3NlcyhsaW5lVmlldykgew0KICAgICAgICB1cGRhdGVMaW5lQmFja2dyb3VuZChsaW5lVmlldykNCiAgICAgICAgaWYgKGxpbmVWaWV3LmxpbmUud3JhcENsYXNzKQ0KICAgICAgICB7IGVuc3VyZUxpbmVXcmFwcGVkKGxpbmVWaWV3KS5jbGFzc05hbWUgPSBsaW5lVmlldy5saW5lLndyYXBDbGFzcyB9DQogICAgICAgIGVsc2UgaWYgKGxpbmVWaWV3Lm5vZGUgIT0gbGluZVZpZXcudGV4dCkNCiAgICAgICAgeyBsaW5lVmlldy5ub2RlLmNsYXNzTmFtZSA9ICIiIH0NCiAgICAgICAgdmFyIHRleHRDbGFzcyA9IGxpbmVWaWV3LnRleHRDbGFzcyA/IGxpbmVWaWV3LnRleHRDbGFzcyArICIgIiArIChsaW5lVmlldy5saW5lLnRleHRDbGFzcyB8fCAiIikgOiBsaW5lVmlldy5saW5lLnRleHRDbGFzcw0KICAgICAgICBsaW5lVmlldy50ZXh0LmNsYXNzTmFtZSA9IHRleHRDbGFzcyB8fCAiIg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHVwZGF0ZUxpbmVHdXR0ZXIoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcykgew0KICAgICAgICBpZiAobGluZVZpZXcuZ3V0dGVyKSB7DQogICAgICAgICAgICBsaW5lVmlldy5ub2RlLnJlbW92ZUNoaWxkKGxpbmVWaWV3Lmd1dHRlcikNCiAgICAgICAgICAgIGxpbmVWaWV3Lmd1dHRlciA9IG51bGwNCiAgICAgICAgfQ0KICAgICAgICBpZiAobGluZVZpZXcuZ3V0dGVyQmFja2dyb3VuZCkgew0KICAgICAgICAgICAgbGluZVZpZXcubm9kZS5yZW1vdmVDaGlsZChsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kKQ0KICAgICAgICAgICAgbGluZVZpZXcuZ3V0dGVyQmFja2dyb3VuZCA9IG51bGwNCiAgICAgICAgfQ0KICAgICAgICBpZiAobGluZVZpZXcubGluZS5ndXR0ZXJDbGFzcykgew0KICAgICAgICAgICAgdmFyIHdyYXAgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldykNCiAgICAgICAgICAgIGxpbmVWaWV3Lmd1dHRlckJhY2tncm91bmQgPSBlbHQoImRpdiIsIG51bGwsICJDb2RlTWlycm9yLWd1dHRlci1iYWNrZ3JvdW5kICIgKyBsaW5lVmlldy5saW5lLmd1dHRlckNsYXNzLA0KICAgICAgICAgICAgICAgICgibGVmdDogIiArIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyID8gZGltcy5maXhlZFBvcyA6IC1kaW1zLmd1dHRlclRvdGFsV2lkdGgpICsgInB4OyB3aWR0aDogIiArIChkaW1zLmd1dHRlclRvdGFsV2lkdGgpICsgInB4IikpDQogICAgICAgICAgICB3cmFwLmluc2VydEJlZm9yZShsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kLCBsaW5lVmlldy50ZXh0KQ0KICAgICAgICB9DQogICAgICAgIHZhciBtYXJrZXJzID0gbGluZVZpZXcubGluZS5ndXR0ZXJNYXJrZXJzDQogICAgICAgIGlmIChjbS5vcHRpb25zLmxpbmVOdW1iZXJzIHx8IG1hcmtlcnMpIHsNCiAgICAgICAgICAgIHZhciB3cmFwJDEgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldykNCiAgICAgICAgICAgIHZhciBndXR0ZXJXcmFwID0gbGluZVZpZXcuZ3V0dGVyID0gZWx0KCJkaXYiLCBudWxsLCAiQ29kZU1pcnJvci1ndXR0ZXItd3JhcHBlciIsICgibGVmdDogIiArIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyID8gZGltcy5maXhlZFBvcyA6IC1kaW1zLmd1dHRlclRvdGFsV2lkdGgpICsgInB4IikpDQogICAgICAgICAgICBjbS5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUoZ3V0dGVyV3JhcCkNCiAgICAgICAgICAgIHdyYXAkMS5pbnNlcnRCZWZvcmUoZ3V0dGVyV3JhcCwgbGluZVZpZXcudGV4dCkNCiAgICAgICAgICAgIGlmIChsaW5lVmlldy5saW5lLmd1dHRlckNsYXNzKQ0KICAgICAgICAgICAgeyBndXR0ZXJXcmFwLmNsYXNzTmFtZSArPSAiICIgKyBsaW5lVmlldy5saW5lLmd1dHRlckNsYXNzIH0NCiAgICAgICAgICAgIGlmIChjbS5vcHRpb25zLmxpbmVOdW1iZXJzICYmICghbWFya2VycyB8fCAhbWFya2Vyc1siQ29kZU1pcnJvci1saW5lbnVtYmVycyJdKSkNCiAgICAgICAgICAgIHsgbGluZVZpZXcubGluZU51bWJlciA9IGd1dHRlcldyYXAuYXBwZW5kQ2hpbGQoDQogICAgICAgICAgICAgICAgZWx0KCJkaXYiLCBsaW5lTnVtYmVyRm9yKGNtLm9wdGlvbnMsIGxpbmVOKSwNCiAgICAgICAgICAgICAgICAgICAgIkNvZGVNaXJyb3ItbGluZW51bWJlciBDb2RlTWlycm9yLWd1dHRlci1lbHQiLA0KICAgICAgICAgICAgICAgICAgICAoImxlZnQ6ICIgKyAoZGltcy5ndXR0ZXJMZWZ0WyJDb2RlTWlycm9yLWxpbmVudW1iZXJzIl0pICsgInB4OyB3aWR0aDogIiArIChjbS5kaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoKSArICJweCIpKSkgfQ0KICAgICAgICAgICAgaWYgKG1hcmtlcnMpIHsgZm9yICh2YXIgayA9IDA7IGsgPCBjbS5vcHRpb25zLmd1dHRlcnMubGVuZ3RoOyArK2spIHsNCiAgICAgICAgICAgICAgICB2YXIgaWQgPSBjbS5vcHRpb25zLmd1dHRlcnNba10sIGZvdW5kID0gbWFya2Vycy5oYXNPd25Qcm9wZXJ0eShpZCkgJiYgbWFya2Vyc1tpZF0NCiAgICAgICAgICAgICAgICBpZiAoZm91bmQpDQogICAgICAgICAgICAgICAgeyBndXR0ZXJXcmFwLmFwcGVuZENoaWxkKGVsdCgiZGl2IiwgW2ZvdW5kXSwgIkNvZGVNaXJyb3ItZ3V0dGVyLWVsdCIsDQogICAgICAgICAgICAgICAgICAgICgibGVmdDogIiArIChkaW1zLmd1dHRlckxlZnRbaWRdKSArICJweDsgd2lkdGg6ICIgKyAoZGltcy5ndXR0ZXJXaWR0aFtpZF0pICsgInB4IikpKSB9DQogICAgICAgICAgICB9IH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHVwZGF0ZUxpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcykgew0KICAgICAgICBpZiAobGluZVZpZXcuYWxpZ25hYmxlKSB7IGxpbmVWaWV3LmFsaWduYWJsZSA9IG51bGwgfQ0KICAgICAgICBmb3IgKHZhciBub2RlID0gbGluZVZpZXcubm9kZS5maXJzdENoaWxkLCBuZXh0ID0gdm9pZCAwOyBub2RlOyBub2RlID0gbmV4dCkgew0KICAgICAgICAgICAgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmcNCiAgICAgICAgICAgIGlmIChub2RlLmNsYXNzTmFtZSA9PSAiQ29kZU1pcnJvci1saW5ld2lkZ2V0IikNCiAgICAgICAgICAgIHsgbGluZVZpZXcubm9kZS5yZW1vdmVDaGlsZChub2RlKSB9DQogICAgICAgIH0NCiAgICAgICAgaW5zZXJ0TGluZVdpZGdldHMoY20sIGxpbmVWaWV3LCBkaW1zKQ0KICAgIH0NCg0KLy8gQnVpbGQgYSBsaW5lJ3MgRE9NIHJlcHJlc2VudGF0aW9uIGZyb20gc2NyYXRjaA0KICAgIGZ1bmN0aW9uIGJ1aWxkTGluZUVsZW1lbnQoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcykgew0KICAgICAgICB2YXIgYnVpbHQgPSBnZXRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpDQogICAgICAgIGxpbmVWaWV3LnRleHQgPSBsaW5lVmlldy5ub2RlID0gYnVpbHQucHJlDQogICAgICAgIGlmIChidWlsdC5iZ0NsYXNzKSB7IGxpbmVWaWV3LmJnQ2xhc3MgPSBidWlsdC5iZ0NsYXNzIH0NCiAgICAgICAgaWYgKGJ1aWx0LnRleHRDbGFzcykgeyBsaW5lVmlldy50ZXh0Q2xhc3MgPSBidWlsdC50ZXh0Q2xhc3MgfQ0KDQogICAgICAgIHVwZGF0ZUxpbmVDbGFzc2VzKGxpbmVWaWV3KQ0KICAgICAgICB1cGRhdGVMaW5lR3V0dGVyKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpDQogICAgICAgIGluc2VydExpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcykNCiAgICAgICAgcmV0dXJuIGxpbmVWaWV3Lm5vZGUNCiAgICB9DQoNCi8vIEEgbGluZVZpZXcgbWF5IGNvbnRhaW4gbXVsdGlwbGUgbG9naWNhbCBsaW5lcyAod2hlbiBtZXJnZWQgYnkNCi8vIGNvbGxhcHNlZCBzcGFucykuIFRoZSB3aWRnZXRzIGZvciBhbGwgb2YgdGhlbSBuZWVkIHRvIGJlIGRyYXduLg0KICAgIGZ1bmN0aW9uIGluc2VydExpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcykgew0KICAgICAgICBpbnNlcnRMaW5lV2lkZ2V0c0ZvcihjbSwgbGluZVZpZXcubGluZSwgbGluZVZpZXcsIGRpbXMsIHRydWUpDQogICAgICAgIGlmIChsaW5lVmlldy5yZXN0KSB7IGZvciAodmFyIGkgPSAwOyBpIDwgbGluZVZpZXcucmVzdC5sZW5ndGg7IGkrKykNCiAgICAgICAgeyBpbnNlcnRMaW5lV2lkZ2V0c0ZvcihjbSwgbGluZVZpZXcucmVzdFtpXSwgbGluZVZpZXcsIGRpbXMsIGZhbHNlKSB9IH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBpbnNlcnRMaW5lV2lkZ2V0c0ZvcihjbSwgbGluZSwgbGluZVZpZXcsIGRpbXMsIGFsbG93QWJvdmUpIHsNCiAgICAgICAgaWYgKCFsaW5lLndpZGdldHMpIHsgcmV0dXJuIH0NCiAgICAgICAgdmFyIHdyYXAgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldykNCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHdzID0gbGluZS53aWRnZXRzOyBpIDwgd3MubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciB3aWRnZXQgPSB3c1tpXSwgbm9kZSA9IGVsdCgiZGl2IiwgW3dpZGdldC5ub2RlXSwgIkNvZGVNaXJyb3ItbGluZXdpZGdldCIpDQogICAgICAgICAgICBpZiAoIXdpZGdldC5oYW5kbGVNb3VzZUV2ZW50cykgeyBub2RlLnNldEF0dHJpYnV0ZSgiY20taWdub3JlLWV2ZW50cyIsICJ0cnVlIikgfQ0KICAgICAgICAgICAgcG9zaXRpb25MaW5lV2lkZ2V0KHdpZGdldCwgbm9kZSwgbGluZVZpZXcsIGRpbXMpDQogICAgICAgICAgICBjbS5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUobm9kZSkNCiAgICAgICAgICAgIGlmIChhbGxvd0Fib3ZlICYmIHdpZGdldC5hYm92ZSkNCiAgICAgICAgICAgIHsgd3JhcC5pbnNlcnRCZWZvcmUobm9kZSwgbGluZVZpZXcuZ3V0dGVyIHx8IGxpbmVWaWV3LnRleHQpIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsgd3JhcC5hcHBlbmRDaGlsZChub2RlKSB9DQogICAgICAgICAgICBzaWduYWxMYXRlcih3aWRnZXQsICJyZWRyYXciKQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcG9zaXRpb25MaW5lV2lkZ2V0KHdpZGdldCwgbm9kZSwgbGluZVZpZXcsIGRpbXMpIHsNCiAgICAgICAgaWYgKHdpZGdldC5ub0hTY3JvbGwpIHsNCiAgICAgICAgICAgIChsaW5lVmlldy5hbGlnbmFibGUgfHwgKGxpbmVWaWV3LmFsaWduYWJsZSA9IFtdKSkucHVzaChub2RlKQ0KICAgICAgICAgICAgdmFyIHdpZHRoID0gZGltcy53cmFwcGVyV2lkdGgNCiAgICAgICAgICAgIG5vZGUuc3R5bGUubGVmdCA9IGRpbXMuZml4ZWRQb3MgKyAicHgiDQogICAgICAgICAgICBpZiAoIXdpZGdldC5jb3Zlckd1dHRlcikgew0KICAgICAgICAgICAgICAgIHdpZHRoIC09IGRpbXMuZ3V0dGVyVG90YWxXaWR0aA0KICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUucGFkZGluZ0xlZnQgPSBkaW1zLmd1dHRlclRvdGFsV2lkdGggKyAicHgiDQogICAgICAgICAgICB9DQogICAgICAgICAgICBub2RlLnN0eWxlLndpZHRoID0gd2lkdGggKyAicHgiDQogICAgICAgIH0NCiAgICAgICAgaWYgKHdpZGdldC5jb3Zlckd1dHRlcikgew0KICAgICAgICAgICAgbm9kZS5zdHlsZS56SW5kZXggPSA1DQogICAgICAgICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gInJlbGF0aXZlIg0KICAgICAgICAgICAgaWYgKCF3aWRnZXQubm9IU2Nyb2xsKSB7IG5vZGUuc3R5bGUubWFyZ2luTGVmdCA9IC1kaW1zLmd1dHRlclRvdGFsV2lkdGggKyAicHgiIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHdpZGdldEhlaWdodCh3aWRnZXQpIHsNCiAgICAgICAgaWYgKHdpZGdldC5oZWlnaHQgIT0gbnVsbCkgeyByZXR1cm4gd2lkZ2V0LmhlaWdodCB9DQogICAgICAgIHZhciBjbSA9IHdpZGdldC5kb2MuY20NCiAgICAgICAgaWYgKCFjbSkgeyByZXR1cm4gMCB9DQogICAgICAgIGlmICghY29udGFpbnMoZG9jdW1lbnQuYm9keSwgd2lkZ2V0Lm5vZGUpKSB7DQogICAgICAgICAgICB2YXIgcGFyZW50U3R5bGUgPSAicG9zaXRpb246IHJlbGF0aXZlOyINCiAgICAgICAgICAgIGlmICh3aWRnZXQuY292ZXJHdXR0ZXIpDQogICAgICAgICAgICB7IHBhcmVudFN0eWxlICs9ICJtYXJnaW4tbGVmdDogLSIgKyBjbS5kaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGggKyAicHg7IiB9DQogICAgICAgICAgICBpZiAod2lkZ2V0Lm5vSFNjcm9sbCkNCiAgICAgICAgICAgIHsgcGFyZW50U3R5bGUgKz0gIndpZHRoOiAiICsgY20uZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoICsgInB4OyIgfQ0KICAgICAgICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoY20uZGlzcGxheS5tZWFzdXJlLCBlbHQoImRpdiIsIFt3aWRnZXQubm9kZV0sIG51bGwsIHBhcmVudFN0eWxlKSkNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gd2lkZ2V0LmhlaWdodCA9IHdpZGdldC5ub2RlLnBhcmVudE5vZGUub2Zmc2V0SGVpZ2h0DQogICAgfQ0KDQovLyBSZXR1cm4gdHJ1ZSB3aGVuIHRoZSBnaXZlbiBtb3VzZSBldmVudCBoYXBwZW5lZCBpbiBhIHdpZGdldA0KICAgIGZ1bmN0aW9uIGV2ZW50SW5XaWRnZXQoZGlzcGxheSwgZSkgew0KICAgICAgICBmb3IgKHZhciBuID0gZV90YXJnZXQoZSk7IG4gIT0gZGlzcGxheS53cmFwcGVyOyBuID0gbi5wYXJlbnROb2RlKSB7DQogICAgICAgICAgICBpZiAoIW4gfHwgKG4ubm9kZVR5cGUgPT0gMSAmJiBuLmdldEF0dHJpYnV0ZSgiY20taWdub3JlLWV2ZW50cyIpID09ICJ0cnVlIikgfHwNCiAgICAgICAgICAgICAgICAobi5wYXJlbnROb2RlID09IGRpc3BsYXkuc2l6ZXIgJiYgbiAhPSBkaXNwbGF5Lm1vdmVyKSkNCiAgICAgICAgICAgIHsgcmV0dXJuIHRydWUgfQ0KICAgICAgICB9DQogICAgfQ0KDQovLyBQT1NJVElPTiBNRUFTVVJFTUVOVA0KDQogICAgZnVuY3Rpb24gcGFkZGluZ1RvcChkaXNwbGF5KSB7cmV0dXJuIGRpc3BsYXkubGluZVNwYWNlLm9mZnNldFRvcH0NCiAgICBmdW5jdGlvbiBwYWRkaW5nVmVydChkaXNwbGF5KSB7cmV0dXJuIGRpc3BsYXkubW92ZXIub2Zmc2V0SGVpZ2h0IC0gZGlzcGxheS5saW5lU3BhY2Uub2Zmc2V0SGVpZ2h0fQ0KICAgIGZ1bmN0aW9uIHBhZGRpbmdIKGRpc3BsYXkpIHsNCiAgICAgICAgaWYgKGRpc3BsYXkuY2FjaGVkUGFkZGluZ0gpIHsgcmV0dXJuIGRpc3BsYXkuY2FjaGVkUGFkZGluZ0ggfQ0KICAgICAgICB2YXIgZSA9IHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkubWVhc3VyZSwgZWx0KCJwcmUiLCAieCIpKQ0KICAgICAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpIDogZS5jdXJyZW50U3R5bGUNCiAgICAgICAgdmFyIGRhdGEgPSB7bGVmdDogcGFyc2VJbnQoc3R5bGUucGFkZGluZ0xlZnQpLCByaWdodDogcGFyc2VJbnQoc3R5bGUucGFkZGluZ1JpZ2h0KX0NCiAgICAgICAgaWYgKCFpc05hTihkYXRhLmxlZnQpICYmICFpc05hTihkYXRhLnJpZ2h0KSkgeyBkaXNwbGF5LmNhY2hlZFBhZGRpbmdIID0gZGF0YSB9DQogICAgICAgIHJldHVybiBkYXRhDQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2Nyb2xsR2FwKGNtKSB7IHJldHVybiBzY3JvbGxlckdhcCAtIGNtLmRpc3BsYXkubmF0aXZlQmFyV2lkdGggfQ0KICAgIGZ1bmN0aW9uIGRpc3BsYXlXaWR0aChjbSkgew0KICAgICAgICByZXR1cm4gY20uZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aCAtIHNjcm9sbEdhcChjbSkgLSBjbS5kaXNwbGF5LmJhcldpZHRoDQogICAgfQ0KICAgIGZ1bmN0aW9uIGRpc3BsYXlIZWlnaHQoY20pIHsNCiAgICAgICAgcmV0dXJuIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0IC0gc2Nyb2xsR2FwKGNtKSAtIGNtLmRpc3BsYXkuYmFySGVpZ2h0DQogICAgfQ0KDQovLyBFbnN1cmUgdGhlIGxpbmVWaWV3LndyYXBwaW5nLmhlaWdodHMgYXJyYXkgaXMgcG9wdWxhdGVkLiBUaGlzIGlzDQovLyBhbiBhcnJheSBvZiBib3R0b20gb2Zmc2V0cyBmb3IgdGhlIGxpbmVzIHRoYXQgbWFrZSB1cCBhIGRyYXduDQovLyBsaW5lLiBXaGVuIGxpbmVXcmFwcGluZyBpcyBvbiwgdGhlcmUgbWlnaHQgYmUgbW9yZSB0aGFuIG9uZQ0KLy8gaGVpZ2h0Lg0KICAgIGZ1bmN0aW9uIGVuc3VyZUxpbmVIZWlnaHRzKGNtLCBsaW5lVmlldywgcmVjdCkgew0KICAgICAgICB2YXIgd3JhcHBpbmcgPSBjbS5vcHRpb25zLmxpbmVXcmFwcGluZw0KICAgICAgICB2YXIgY3VyV2lkdGggPSB3cmFwcGluZyAmJiBkaXNwbGF5V2lkdGgoY20pDQogICAgICAgIGlmICghbGluZVZpZXcubWVhc3VyZS5oZWlnaHRzIHx8IHdyYXBwaW5nICYmIGxpbmVWaWV3Lm1lYXN1cmUud2lkdGggIT0gY3VyV2lkdGgpIHsNCiAgICAgICAgICAgIHZhciBoZWlnaHRzID0gbGluZVZpZXcubWVhc3VyZS5oZWlnaHRzID0gW10NCiAgICAgICAgICAgIGlmICh3cmFwcGluZykgew0KICAgICAgICAgICAgICAgIGxpbmVWaWV3Lm1lYXN1cmUud2lkdGggPSBjdXJXaWR0aA0KICAgICAgICAgICAgICAgIHZhciByZWN0cyA9IGxpbmVWaWV3LnRleHQuZmlyc3RDaGlsZC5nZXRDbGllbnRSZWN0cygpDQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWN0cy5sZW5ndGggLSAxOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ciA9IHJlY3RzW2ldLCBuZXh0ID0gcmVjdHNbaSArIDFdDQogICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhjdXIuYm90dG9tIC0gbmV4dC5ib3R0b20pID4gMikNCiAgICAgICAgICAgICAgICAgICAgeyBoZWlnaHRzLnB1c2goKGN1ci5ib3R0b20gKyBuZXh0LnRvcCkgLyAyIC0gcmVjdC50b3ApIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBoZWlnaHRzLnB1c2gocmVjdC5ib3R0b20gLSByZWN0LnRvcCkNCiAgICAgICAgfQ0KICAgIH0NCg0KLy8gRmluZCBhIGxpbmUgbWFwIChtYXBwaW5nIGNoYXJhY3RlciBvZmZzZXRzIHRvIHRleHQgbm9kZXMpIGFuZCBhDQovLyBtZWFzdXJlbWVudCBjYWNoZSBmb3IgdGhlIGdpdmVuIGxpbmUgbnVtYmVyLiAoQSBsaW5lIHZpZXcgbWlnaHQNCi8vIGNvbnRhaW4gbXVsdGlwbGUgbGluZXMgd2hlbiBjb2xsYXBzZWQgcmFuZ2VzIGFyZSBwcmVzZW50LikNCiAgICBmdW5jdGlvbiBtYXBGcm9tTGluZVZpZXcobGluZVZpZXcsIGxpbmUsIGxpbmVOKSB7DQogICAgICAgIGlmIChsaW5lVmlldy5saW5lID09IGxpbmUpDQogICAgICAgIHsgcmV0dXJuIHttYXA6IGxpbmVWaWV3Lm1lYXN1cmUubWFwLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZX0gfQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVWaWV3LnJlc3QubGVuZ3RoOyBpKyspDQogICAgICAgIHsgaWYgKGxpbmVWaWV3LnJlc3RbaV0gPT0gbGluZSkNCiAgICAgICAgeyByZXR1cm4ge21hcDogbGluZVZpZXcubWVhc3VyZS5tYXBzW2ldLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZXNbaV19IH0gfQ0KICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSQxKyspDQogICAgICAgIHsgaWYgKGxpbmVObyhsaW5lVmlldy5yZXN0W2kkMV0pID4gbGluZU4pDQogICAgICAgIHsgcmV0dXJuIHttYXA6IGxpbmVWaWV3Lm1lYXN1cmUubWFwc1tpJDFdLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZXNbaSQxXSwgYmVmb3JlOiB0cnVlfSB9IH0NCiAgICB9DQoNCi8vIFJlbmRlciBhIGxpbmUgaW50byB0aGUgaGlkZGVuIG5vZGUgZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkLiBVc2VkDQovLyB3aGVuIG1lYXN1cmVtZW50IGlzIG5lZWRlZCBmb3IgYSBsaW5lIHRoYXQncyBub3QgaW4gdGhlIHZpZXdwb3J0Lg0KICAgIGZ1bmN0aW9uIHVwZGF0ZUV4dGVybmFsTWVhc3VyZW1lbnQoY20sIGxpbmUpIHsNCiAgICAgICAgbGluZSA9IHZpc3VhbExpbmUobGluZSkNCiAgICAgICAgdmFyIGxpbmVOID0gbGluZU5vKGxpbmUpDQogICAgICAgIHZhciB2aWV3ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbmV3IExpbmVWaWV3KGNtLmRvYywgbGluZSwgbGluZU4pDQogICAgICAgIHZpZXcubGluZU4gPSBsaW5lTg0KICAgICAgICB2YXIgYnVpbHQgPSB2aWV3LmJ1aWx0ID0gYnVpbGRMaW5lQ29udGVudChjbSwgdmlldykNCiAgICAgICAgdmlldy50ZXh0ID0gYnVpbHQucHJlDQogICAgICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGNtLmRpc3BsYXkubGluZU1lYXN1cmUsIGJ1aWx0LnByZSkNCiAgICAgICAgcmV0dXJuIHZpZXcNCiAgICB9DQoNCi8vIEdldCBhIHt0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHR9IGJveCAoaW4gbGluZS1sb2NhbCBjb29yZGluYXRlcykNCi8vIGZvciBhIGdpdmVuIGNoYXJhY3Rlci4NCiAgICBmdW5jdGlvbiBtZWFzdXJlQ2hhcihjbSwgbGluZSwgY2gsIGJpYXMpIHsNCiAgICAgICAgcmV0dXJuIG1lYXN1cmVDaGFyUHJlcGFyZWQoY20sIHByZXBhcmVNZWFzdXJlRm9yTGluZShjbSwgbGluZSksIGNoLCBiaWFzKQ0KICAgIH0NCg0KLy8gRmluZCBhIGxpbmUgdmlldyB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBsaW5lIG51bWJlci4NCiAgICBmdW5jdGlvbiBmaW5kVmlld0ZvckxpbmUoY20sIGxpbmVOKSB7DQogICAgICAgIGlmIChsaW5lTiA+PSBjbS5kaXNwbGF5LnZpZXdGcm9tICYmIGxpbmVOIDwgY20uZGlzcGxheS52aWV3VG8pDQogICAgICAgIHsgcmV0dXJuIGNtLmRpc3BsYXkudmlld1tmaW5kVmlld0luZGV4KGNtLCBsaW5lTildIH0NCiAgICAgICAgdmFyIGV4dCA9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZA0KICAgICAgICBpZiAoZXh0ICYmIGxpbmVOID49IGV4dC5saW5lTiAmJiBsaW5lTiA8IGV4dC5saW5lTiArIGV4dC5zaXplKQ0KICAgICAgICB7IHJldHVybiBleHQgfQ0KICAgIH0NCg0KLy8gTWVhc3VyZW1lbnQgY2FuIGJlIHNwbGl0IGluIHR3byBzdGVwcywgdGhlIHNldC11cCB3b3JrIHRoYXQNCi8vIGFwcGxpZXMgdG8gdGhlIHdob2xlIGxpbmUsIGFuZCB0aGUgbWVhc3VyZW1lbnQgb2YgdGhlIGFjdHVhbA0KLy8gY2hhcmFjdGVyLiBGdW5jdGlvbnMgbGlrZSBjb29yZHNDaGFyLCB0aGF0IG5lZWQgdG8gZG8gYSBsb3Qgb2YNCi8vIG1lYXN1cmVtZW50cyBpbiBhIHJvdywgY2FuIHRodXMgZW5zdXJlIHRoYXQgdGhlIHNldC11cCB3b3JrIGlzDQovLyBvbmx5IGRvbmUgb25jZS4NCiAgICBmdW5jdGlvbiBwcmVwYXJlTWVhc3VyZUZvckxpbmUoY20sIGxpbmUpIHsNCiAgICAgICAgdmFyIGxpbmVOID0gbGluZU5vKGxpbmUpDQogICAgICAgIHZhciB2aWV3ID0gZmluZFZpZXdGb3JMaW5lKGNtLCBsaW5lTikNCiAgICAgICAgaWYgKHZpZXcgJiYgIXZpZXcudGV4dCkgew0KICAgICAgICAgICAgdmlldyA9IG51bGwNCiAgICAgICAgfSBlbHNlIGlmICh2aWV3ICYmIHZpZXcuY2hhbmdlcykgew0KICAgICAgICAgICAgdXBkYXRlTGluZUZvckNoYW5nZXMoY20sIHZpZXcsIGxpbmVOLCBnZXREaW1lbnNpb25zKGNtKSkNCiAgICAgICAgICAgIGNtLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZQ0KICAgICAgICB9DQogICAgICAgIGlmICghdmlldykNCiAgICAgICAgeyB2aWV3ID0gdXBkYXRlRXh0ZXJuYWxNZWFzdXJlbWVudChjbSwgbGluZSkgfQ0KDQogICAgICAgIHZhciBpbmZvID0gbWFwRnJvbUxpbmVWaWV3KHZpZXcsIGxpbmUsIGxpbmVOKQ0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgbGluZTogbGluZSwgdmlldzogdmlldywgcmVjdDogbnVsbCwNCiAgICAgICAgICAgIG1hcDogaW5mby5tYXAsIGNhY2hlOiBpbmZvLmNhY2hlLCBiZWZvcmU6IGluZm8uYmVmb3JlLA0KICAgICAgICAgICAgaGFzSGVpZ2h0czogZmFsc2UNCiAgICAgICAgfQ0KICAgIH0NCg0KLy8gR2l2ZW4gYSBwcmVwYXJlZCBtZWFzdXJlbWVudCBvYmplY3QsIG1lYXN1cmVzIHRoZSBwb3NpdGlvbiBvZiBhbg0KLy8gYWN0dWFsIGNoYXJhY3RlciAob3IgZmV0Y2hlcyBpdCBmcm9tIHRoZSBjYWNoZSkuDQogICAgZnVuY3Rpb24gbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZWQsIGNoLCBiaWFzLCB2YXJIZWlnaHQpIHsNCiAgICAgICAgaWYgKHByZXBhcmVkLmJlZm9yZSkgeyBjaCA9IC0xIH0NCiAgICAgICAgdmFyIGtleSA9IGNoICsgKGJpYXMgfHwgIiIpLCBmb3VuZA0KICAgICAgICBpZiAocHJlcGFyZWQuY2FjaGUuaGFzT3duUHJvcGVydHkoa2V5KSkgew0KICAgICAgICAgICAgZm91bmQgPSBwcmVwYXJlZC5jYWNoZVtrZXldDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZiAoIXByZXBhcmVkLnJlY3QpDQogICAgICAgICAgICB7IHByZXBhcmVkLnJlY3QgPSBwcmVwYXJlZC52aWV3LnRleHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfQ0KICAgICAgICAgICAgaWYgKCFwcmVwYXJlZC5oYXNIZWlnaHRzKSB7DQogICAgICAgICAgICAgICAgZW5zdXJlTGluZUhlaWdodHMoY20sIHByZXBhcmVkLnZpZXcsIHByZXBhcmVkLnJlY3QpDQogICAgICAgICAgICAgICAgcHJlcGFyZWQuaGFzSGVpZ2h0cyA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZvdW5kID0gbWVhc3VyZUNoYXJJbm5lcihjbSwgcHJlcGFyZWQsIGNoLCBiaWFzKQ0KICAgICAgICAgICAgaWYgKCFmb3VuZC5ib2d1cykgeyBwcmVwYXJlZC5jYWNoZVtrZXldID0gZm91bmQgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiB7bGVmdDogZm91bmQubGVmdCwgcmlnaHQ6IGZvdW5kLnJpZ2h0LA0KICAgICAgICAgICAgdG9wOiB2YXJIZWlnaHQgPyBmb3VuZC5ydG9wIDogZm91bmQudG9wLA0KICAgICAgICAgICAgYm90dG9tOiB2YXJIZWlnaHQgPyBmb3VuZC5yYm90dG9tIDogZm91bmQuYm90dG9tfQ0KICAgIH0NCg0KICAgIHZhciBudWxsUmVjdCA9IHtsZWZ0OiAwLCByaWdodDogMCwgdG9wOiAwLCBib3R0b206IDB9DQoNCiAgICBmdW5jdGlvbiBub2RlQW5kT2Zmc2V0SW5MaW5lTWFwKG1hcCQkMSwgY2gsIGJpYXMpIHsNCiAgICAgICAgdmFyIG5vZGUsIHN0YXJ0LCBlbmQsIGNvbGxhcHNlLCBtU3RhcnQsIG1FbmQNCiAgICAgICAgLy8gRmlyc3QsIHNlYXJjaCB0aGUgbGluZSBtYXAgZm9yIHRoZSB0ZXh0IG5vZGUgY29ycmVzcG9uZGluZyB0bywNCiAgICAgICAgLy8gb3IgY2xvc2VzdCB0bywgdGhlIHRhcmdldCBjaGFyYWN0ZXIuDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwJCQxLmxlbmd0aDsgaSArPSAzKSB7DQogICAgICAgICAgICBtU3RhcnQgPSBtYXAkJDFbaV0NCiAgICAgICAgICAgIG1FbmQgPSBtYXAkJDFbaSArIDFdDQogICAgICAgICAgICBpZiAoY2ggPCBtU3RhcnQpIHsNCiAgICAgICAgICAgICAgICBzdGFydCA9IDA7IGVuZCA9IDENCiAgICAgICAgICAgICAgICBjb2xsYXBzZSA9ICJsZWZ0Ig0KICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA8IG1FbmQpIHsNCiAgICAgICAgICAgICAgICBzdGFydCA9IGNoIC0gbVN0YXJ0DQogICAgICAgICAgICAgICAgZW5kID0gc3RhcnQgKyAxDQogICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gbWFwJCQxLmxlbmd0aCAtIDMgfHwgY2ggPT0gbUVuZCAmJiBtYXAkJDFbaSArIDNdID4gY2gpIHsNCiAgICAgICAgICAgICAgICBlbmQgPSBtRW5kIC0gbVN0YXJ0DQogICAgICAgICAgICAgICAgc3RhcnQgPSBlbmQgLSAxDQogICAgICAgICAgICAgICAgaWYgKGNoID49IG1FbmQpIHsgY29sbGFwc2UgPSAicmlnaHQiIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChzdGFydCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgbm9kZSA9IG1hcCQkMVtpICsgMl0NCiAgICAgICAgICAgICAgICBpZiAobVN0YXJ0ID09IG1FbmQgJiYgYmlhcyA9PSAobm9kZS5pbnNlcnRMZWZ0ID8gImxlZnQiIDogInJpZ2h0IikpDQogICAgICAgICAgICAgICAgeyBjb2xsYXBzZSA9IGJpYXMgfQ0KICAgICAgICAgICAgICAgIGlmIChiaWFzID09ICJsZWZ0IiAmJiBzdGFydCA9PSAwKQ0KICAgICAgICAgICAgICAgIHsgd2hpbGUgKGkgJiYgbWFwJCQxW2kgLSAyXSA9PSBtYXAkJDFbaSAtIDNdICYmIG1hcCQkMVtpIC0gMV0uaW5zZXJ0TGVmdCkgew0KICAgICAgICAgICAgICAgICAgICBub2RlID0gbWFwJCQxWyhpIC09IDMpICsgMl0NCiAgICAgICAgICAgICAgICAgICAgY29sbGFwc2UgPSAibGVmdCINCiAgICAgICAgICAgICAgICB9IH0NCiAgICAgICAgICAgICAgICBpZiAoYmlhcyA9PSAicmlnaHQiICYmIHN0YXJ0ID09IG1FbmQgLSBtU3RhcnQpDQogICAgICAgICAgICAgICAgeyB3aGlsZSAoaSA8IG1hcCQkMS5sZW5ndGggLSAzICYmIG1hcCQkMVtpICsgM10gPT0gbWFwJCQxW2kgKyA0XSAmJiAhbWFwJCQxW2kgKyA1XS5pbnNlcnRMZWZ0KSB7DQogICAgICAgICAgICAgICAgICAgIG5vZGUgPSBtYXAkJDFbKGkgKz0gMykgKyAyXQ0KICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZSA9ICJyaWdodCINCiAgICAgICAgICAgICAgICB9IH0NCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiB7bm9kZTogbm9kZSwgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCwgY29sbGFwc2U6IGNvbGxhcHNlLCBjb3ZlclN0YXJ0OiBtU3RhcnQsIGNvdmVyRW5kOiBtRW5kfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFVzZWZ1bFJlY3QocmVjdHMsIGJpYXMpIHsNCiAgICAgICAgdmFyIHJlY3QgPSBudWxsUmVjdA0KICAgICAgICBpZiAoYmlhcyA9PSAibGVmdCIpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCByZWN0cy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgaWYgKChyZWN0ID0gcmVjdHNbaV0pLmxlZnQgIT0gcmVjdC5yaWdodCkgeyBicmVhayB9DQogICAgICAgIH0gfSBlbHNlIHsgZm9yICh2YXIgaSQxID0gcmVjdHMubGVuZ3RoIC0gMTsgaSQxID49IDA7IGkkMS0tKSB7DQogICAgICAgICAgICBpZiAoKHJlY3QgPSByZWN0c1tpJDFdKS5sZWZ0ICE9IHJlY3QucmlnaHQpIHsgYnJlYWsgfQ0KICAgICAgICB9IH0NCiAgICAgICAgcmV0dXJuIHJlY3QNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBtZWFzdXJlQ2hhcklubmVyKGNtLCBwcmVwYXJlZCwgY2gsIGJpYXMpIHsNCiAgICAgICAgdmFyIHBsYWNlID0gbm9kZUFuZE9mZnNldEluTGluZU1hcChwcmVwYXJlZC5tYXAsIGNoLCBiaWFzKQ0KICAgICAgICB2YXIgbm9kZSA9IHBsYWNlLm5vZGUsIHN0YXJ0ID0gcGxhY2Uuc3RhcnQsIGVuZCA9IHBsYWNlLmVuZCwgY29sbGFwc2UgPSBwbGFjZS5jb2xsYXBzZQ0KDQogICAgICAgIHZhciByZWN0DQogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHsgLy8gSWYgaXQgaXMgYSB0ZXh0IG5vZGUsIHVzZSBhIHJhbmdlIHRvIHJldHJpZXZlIHRoZSBjb29yZGluYXRlcy4NCiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IDQ7IGkkMSsrKSB7IC8vIFJldHJ5IGEgbWF4aW11bSBvZiA0IHRpbWVzIHdoZW4gbm9uc2Vuc2UgcmVjdGFuZ2xlcyBhcmUgcmV0dXJuZWQNCiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhcnQgJiYgaXNFeHRlbmRpbmdDaGFyKHByZXBhcmVkLmxpbmUudGV4dC5jaGFyQXQocGxhY2UuY292ZXJTdGFydCArIHN0YXJ0KSkpIHsgLS1zdGFydCB9DQogICAgICAgICAgICAgICAgd2hpbGUgKHBsYWNlLmNvdmVyU3RhcnQgKyBlbmQgPCBwbGFjZS5jb3ZlckVuZCAmJiBpc0V4dGVuZGluZ0NoYXIocHJlcGFyZWQubGluZS50ZXh0LmNoYXJBdChwbGFjZS5jb3ZlclN0YXJ0ICsgZW5kKSkpIHsgKytlbmQgfQ0KICAgICAgICAgICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSAmJiBzdGFydCA9PSAwICYmIGVuZCA9PSBwbGFjZS5jb3ZlckVuZCAtIHBsYWNlLmNvdmVyU3RhcnQpDQogICAgICAgICAgICAgICAgeyByZWN0ID0gbm9kZS5wYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIH0NCiAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgeyByZWN0ID0gZ2V0VXNlZnVsUmVjdChyYW5nZShub2RlLCBzdGFydCwgZW5kKS5nZXRDbGllbnRSZWN0cygpLCBiaWFzKSB9DQogICAgICAgICAgICAgICAgaWYgKHJlY3QubGVmdCB8fCByZWN0LnJpZ2h0IHx8IHN0YXJ0ID09IDApIHsgYnJlYWsgfQ0KICAgICAgICAgICAgICAgIGVuZCA9IHN0YXJ0DQogICAgICAgICAgICAgICAgc3RhcnQgPSBzdGFydCAtIDENCiAgICAgICAgICAgICAgICBjb2xsYXBzZSA9ICJyaWdodCINCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEpIHsgcmVjdCA9IG1heWJlVXBkYXRlUmVjdEZvclpvb21pbmcoY20uZGlzcGxheS5tZWFzdXJlLCByZWN0KSB9DQogICAgICAgIH0gZWxzZSB7IC8vIElmIGl0IGlzIGEgd2lkZ2V0LCBzaW1wbHkgZ2V0IHRoZSBib3ggZm9yIHRoZSB3aG9sZSB3aWRnZXQuDQogICAgICAgICAgICBpZiAoc3RhcnQgPiAwKSB7IGNvbGxhcHNlID0gYmlhcyA9ICJyaWdodCIgfQ0KICAgICAgICAgICAgdmFyIHJlY3RzDQogICAgICAgICAgICBpZiAoY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgJiYgKHJlY3RzID0gbm9kZS5nZXRDbGllbnRSZWN0cygpKS5sZW5ndGggPiAxKQ0KICAgICAgICAgICAgeyByZWN0ID0gcmVjdHNbYmlhcyA9PSAicmlnaHQiID8gcmVjdHMubGVuZ3RoIC0gMSA6IDBdIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSAmJiAhc3RhcnQgJiYgKCFyZWN0IHx8ICFyZWN0LmxlZnQgJiYgIXJlY3QucmlnaHQpKSB7DQogICAgICAgICAgICB2YXIgclNwYW4gPSBub2RlLnBhcmVudE5vZGUuZ2V0Q2xpZW50UmVjdHMoKVswXQ0KICAgICAgICAgICAgaWYgKHJTcGFuKQ0KICAgICAgICAgICAgeyByZWN0ID0ge2xlZnQ6IHJTcGFuLmxlZnQsIHJpZ2h0OiByU3Bhbi5sZWZ0ICsgY2hhcldpZHRoKGNtLmRpc3BsYXkpLCB0b3A6IHJTcGFuLnRvcCwgYm90dG9tOiByU3Bhbi5ib3R0b219IH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsgcmVjdCA9IG51bGxSZWN0IH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBydG9wID0gcmVjdC50b3AgLSBwcmVwYXJlZC5yZWN0LnRvcCwgcmJvdCA9IHJlY3QuYm90dG9tIC0gcHJlcGFyZWQucmVjdC50b3ANCiAgICAgICAgdmFyIG1pZCA9IChydG9wICsgcmJvdCkgLyAyDQogICAgICAgIHZhciBoZWlnaHRzID0gcHJlcGFyZWQudmlldy5tZWFzdXJlLmhlaWdodHMNCiAgICAgICAgdmFyIGkgPSAwDQogICAgICAgIGZvciAoOyBpIDwgaGVpZ2h0cy5sZW5ndGggLSAxOyBpKyspDQogICAgICAgIHsgaWYgKG1pZCA8IGhlaWdodHNbaV0pIHsgYnJlYWsgfSB9DQogICAgICAgIHZhciB0b3AgPSBpID8gaGVpZ2h0c1tpIC0gMV0gOiAwLCBib3QgPSBoZWlnaHRzW2ldDQogICAgICAgIHZhciByZXN1bHQgPSB7bGVmdDogKGNvbGxhcHNlID09ICJyaWdodCIgPyByZWN0LnJpZ2h0IDogcmVjdC5sZWZ0KSAtIHByZXBhcmVkLnJlY3QubGVmdCwNCiAgICAgICAgICAgIHJpZ2h0OiAoY29sbGFwc2UgPT0gImxlZnQiID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodCkgLSBwcmVwYXJlZC5yZWN0LmxlZnQsDQogICAgICAgICAgICB0b3A6IHRvcCwgYm90dG9tOiBib3R9DQogICAgICAgIGlmICghcmVjdC5sZWZ0ICYmICFyZWN0LnJpZ2h0KSB7IHJlc3VsdC5ib2d1cyA9IHRydWUgfQ0KICAgICAgICBpZiAoIWNtLm9wdGlvbnMuc2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZSkgeyByZXN1bHQucnRvcCA9IHJ0b3A7IHJlc3VsdC5yYm90dG9tID0gcmJvdCB9DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdA0KICAgIH0NCg0KLy8gV29yayBhcm91bmQgcHJvYmxlbSB3aXRoIGJvdW5kaW5nIGNsaWVudCByZWN0cyBvbiByYW5nZXMgYmVpbmcNCi8vIHJldHVybmVkIGluY29ycmVjdGx5IHdoZW4gem9vbWVkIG9uIElFMTAgYW5kIGJlbG93Lg0KICAgIGZ1bmN0aW9uIG1heWJlVXBkYXRlUmVjdEZvclpvb21pbmcobWVhc3VyZSwgcmVjdCkgew0KICAgICAgICBpZiAoIXdpbmRvdy5zY3JlZW4gfHwgc2NyZWVuLmxvZ2ljYWxYRFBJID09IG51bGwgfHwNCiAgICAgICAgICAgIHNjcmVlbi5sb2dpY2FsWERQSSA9PSBzY3JlZW4uZGV2aWNlWERQSSB8fCAhaGFzQmFkWm9vbWVkUmVjdHMobWVhc3VyZSkpDQogICAgICAgIHsgcmV0dXJuIHJlY3QgfQ0KICAgICAgICB2YXIgc2NhbGVYID0gc2NyZWVuLmxvZ2ljYWxYRFBJIC8gc2NyZWVuLmRldmljZVhEUEkNCiAgICAgICAgdmFyIHNjYWxlWSA9IHNjcmVlbi5sb2dpY2FsWURQSSAvIHNjcmVlbi5kZXZpY2VZRFBJDQogICAgICAgIHJldHVybiB7bGVmdDogcmVjdC5sZWZ0ICogc2NhbGVYLCByaWdodDogcmVjdC5yaWdodCAqIHNjYWxlWCwNCiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgKiBzY2FsZVksIGJvdHRvbTogcmVjdC5ib3R0b20gKiBzY2FsZVl9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZUZvcihsaW5lVmlldykgew0KICAgICAgICBpZiAobGluZVZpZXcubWVhc3VyZSkgew0KICAgICAgICAgICAgbGluZVZpZXcubWVhc3VyZS5jYWNoZSA9IHt9DQogICAgICAgICAgICBsaW5lVmlldy5tZWFzdXJlLmhlaWdodHMgPSBudWxsDQogICAgICAgICAgICBpZiAobGluZVZpZXcucmVzdCkgeyBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVWaWV3LnJlc3QubGVuZ3RoOyBpKyspDQogICAgICAgICAgICB7IGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzW2ldID0ge30gfSB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlKGNtKSB7DQogICAgICAgIGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlID0gbnVsbA0KICAgICAgICByZW1vdmVDaGlsZHJlbihjbS5kaXNwbGF5LmxpbmVNZWFzdXJlKQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLmRpc3BsYXkudmlldy5sZW5ndGg7IGkrKykNCiAgICAgICAgeyBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlRm9yKGNtLmRpc3BsYXkudmlld1tpXSkgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNsZWFyQ2FjaGVzKGNtKSB7DQogICAgICAgIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGUoY20pDQogICAgICAgIGNtLmRpc3BsYXkuY2FjaGVkQ2hhcldpZHRoID0gY20uZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0ID0gY20uZGlzcGxheS5jYWNoZWRQYWRkaW5nSCA9IG51bGwNCiAgICAgICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgeyBjbS5kaXNwbGF5Lm1heExpbmVDaGFuZ2VkID0gdHJ1ZSB9DQogICAgICAgIGNtLmRpc3BsYXkubGluZU51bUNoYXJzID0gbnVsbA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHBhZ2VTY3JvbGxYKCkgeyByZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keSkuc2Nyb2xsTGVmdCB9DQogICAgZnVuY3Rpb24gcGFnZVNjcm9sbFkoKSB7IHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5KS5zY3JvbGxUb3AgfQ0KDQovLyBDb252ZXJ0cyBhIHt0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHR9IGJveCBmcm9tIGxpbmUtbG9jYWwNCi8vIGNvb3JkaW5hdGVzIGludG8gYW5vdGhlciBjb29yZGluYXRlIHN5c3RlbS4gQ29udGV4dCBtYXkgYmUgb25lIG9mDQovLyAibGluZSIsICJkaXYiIChkaXNwbGF5LmxpbmVEaXYpLCAibG9jYWwiLi9udWxsIChlZGl0b3IpLCAid2luZG93IiwNCi8vIG9yICJwYWdlIi4NCiAgICBmdW5jdGlvbiBpbnRvQ29vcmRTeXN0ZW0oY20sIGxpbmVPYmosIHJlY3QsIGNvbnRleHQpIHsNCiAgICAgICAgaWYgKGxpbmVPYmoud2lkZ2V0cykgeyBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVPYmoud2lkZ2V0cy5sZW5ndGg7ICsraSkgeyBpZiAobGluZU9iai53aWRnZXRzW2ldLmFib3ZlKSB7DQogICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZGdldEhlaWdodChsaW5lT2JqLndpZGdldHNbaV0pDQogICAgICAgICAgICByZWN0LnRvcCArPSBzaXplOyByZWN0LmJvdHRvbSArPSBzaXplDQogICAgICAgIH0gfSB9DQogICAgICAgIGlmIChjb250ZXh0ID09ICJsaW5lIikgeyByZXR1cm4gcmVjdCB9DQogICAgICAgIGlmICghY29udGV4dCkgeyBjb250ZXh0ID0gImxvY2FsIiB9DQogICAgICAgIHZhciB5T2ZmID0gaGVpZ2h0QXRMaW5lKGxpbmVPYmopDQogICAgICAgIGlmIChjb250ZXh0ID09ICJsb2NhbCIpIHsgeU9mZiArPSBwYWRkaW5nVG9wKGNtLmRpc3BsYXkpIH0NCiAgICAgICAgZWxzZSB7IHlPZmYgLT0gY20uZGlzcGxheS52aWV3T2Zmc2V0IH0NCiAgICAgICAgaWYgKGNvbnRleHQgPT0gInBhZ2UiIHx8IGNvbnRleHQgPT0gIndpbmRvdyIpIHsNCiAgICAgICAgICAgIHZhciBsT2ZmID0gY20uZGlzcGxheS5saW5lU3BhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkNCiAgICAgICAgICAgIHlPZmYgKz0gbE9mZi50b3AgKyAoY29udGV4dCA9PSAid2luZG93IiA/IDAgOiBwYWdlU2Nyb2xsWSgpKQ0KICAgICAgICAgICAgdmFyIHhPZmYgPSBsT2ZmLmxlZnQgKyAoY29udGV4dCA9PSAid2luZG93IiA/IDAgOiBwYWdlU2Nyb2xsWCgpKQ0KICAgICAgICAgICAgcmVjdC5sZWZ0ICs9IHhPZmY7IHJlY3QucmlnaHQgKz0geE9mZg0KICAgICAgICB9DQogICAgICAgIHJlY3QudG9wICs9IHlPZmY7IHJlY3QuYm90dG9tICs9IHlPZmYNCiAgICAgICAgcmV0dXJuIHJlY3QNCiAgICB9DQoNCi8vIENvdmVydHMgYSBib3ggZnJvbSAiZGl2IiBjb29yZHMgdG8gYW5vdGhlciBjb29yZGluYXRlIHN5c3RlbS4NCi8vIENvbnRleHQgbWF5IGJlICJ3aW5kb3ciLCAicGFnZSIsICJkaXYiLCBvciAibG9jYWwiLi9udWxsLg0KICAgIGZ1bmN0aW9uIGZyb21Db29yZFN5c3RlbShjbSwgY29vcmRzLCBjb250ZXh0KSB7DQogICAgICAgIGlmIChjb250ZXh0ID09ICJkaXYiKSB7IHJldHVybiBjb29yZHMgfQ0KICAgICAgICB2YXIgbGVmdCA9IGNvb3Jkcy5sZWZ0LCB0b3AgPSBjb29yZHMudG9wDQogICAgICAgIC8vIEZpcnN0IG1vdmUgaW50byAicGFnZSIgY29vcmRpbmF0ZSBzeXN0ZW0NCiAgICAgICAgaWYgKGNvbnRleHQgPT0gInBhZ2UiKSB7DQogICAgICAgICAgICBsZWZ0IC09IHBhZ2VTY3JvbGxYKCkNCiAgICAgICAgICAgIHRvcCAtPSBwYWdlU2Nyb2xsWSgpDQogICAgICAgIH0gZWxzZSBpZiAoY29udGV4dCA9PSAibG9jYWwiIHx8ICFjb250ZXh0KSB7DQogICAgICAgICAgICB2YXIgbG9jYWxCb3ggPSBjbS5kaXNwbGF5LnNpemVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpDQogICAgICAgICAgICBsZWZ0ICs9IGxvY2FsQm94LmxlZnQNCiAgICAgICAgICAgIHRvcCArPSBsb2NhbEJveC50b3ANCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBsaW5lU3BhY2VCb3ggPSBjbS5kaXNwbGF5LmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQ0KICAgICAgICByZXR1cm4ge2xlZnQ6IGxlZnQgLSBsaW5lU3BhY2VCb3gubGVmdCwgdG9wOiB0b3AgLSBsaW5lU3BhY2VCb3gudG9wfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNoYXJDb29yZHMoY20sIHBvcywgY29udGV4dCwgbGluZU9iaiwgYmlhcykgew0KICAgICAgICBpZiAoIWxpbmVPYmopIHsgbGluZU9iaiA9IGdldExpbmUoY20uZG9jLCBwb3MubGluZSkgfQ0KICAgICAgICByZXR1cm4gaW50b0Nvb3JkU3lzdGVtKGNtLCBsaW5lT2JqLCBtZWFzdXJlQ2hhcihjbSwgbGluZU9iaiwgcG9zLmNoLCBiaWFzKSwgY29udGV4dCkNCiAgICB9DQoNCi8vIFJldHVybnMgYSBib3ggZm9yIGEgZ2l2ZW4gY3Vyc29yIHBvc2l0aW9uLCB3aGljaCBtYXkgaGF2ZSBhbg0KLy8gJ290aGVyJyBwcm9wZXJ0eSBjb250YWluaW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kYXJ5IGN1cnNvcg0KLy8gb24gYSBiaWRpIGJvdW5kYXJ5Lg0KICAgIGZ1bmN0aW9uIGN1cnNvckNvb3JkcyhjbSwgcG9zLCBjb250ZXh0LCBsaW5lT2JqLCBwcmVwYXJlZE1lYXN1cmUsIHZhckhlaWdodCkgew0KICAgICAgICBsaW5lT2JqID0gbGluZU9iaiB8fCBnZXRMaW5lKGNtLmRvYywgcG9zLmxpbmUpDQogICAgICAgIGlmICghcHJlcGFyZWRNZWFzdXJlKSB7IHByZXBhcmVkTWVhc3VyZSA9IHByZXBhcmVNZWFzdXJlRm9yTGluZShjbSwgbGluZU9iaikgfQ0KICAgICAgICBmdW5jdGlvbiBnZXQoY2gsIHJpZ2h0KSB7DQogICAgICAgICAgICB2YXIgbSA9IG1lYXN1cmVDaGFyUHJlcGFyZWQoY20sIHByZXBhcmVkTWVhc3VyZSwgY2gsIHJpZ2h0ID8gInJpZ2h0IiA6ICJsZWZ0IiwgdmFySGVpZ2h0KQ0KICAgICAgICAgICAgaWYgKHJpZ2h0KSB7IG0ubGVmdCA9IG0ucmlnaHQ7IH0gZWxzZSB7IG0ucmlnaHQgPSBtLmxlZnQgfQ0KICAgICAgICAgICAgcmV0dXJuIGludG9Db29yZFN5c3RlbShjbSwgbGluZU9iaiwgbSwgY29udGV4dCkNCiAgICAgICAgfQ0KICAgICAgICBmdW5jdGlvbiBnZXRCaWRpKGNoLCBwYXJ0UG9zKSB7DQogICAgICAgICAgICB2YXIgcGFydCA9IG9yZGVyW3BhcnRQb3NdLCByaWdodCA9IHBhcnQubGV2ZWwgJSAyDQogICAgICAgICAgICBpZiAoY2ggPT0gYmlkaUxlZnQocGFydCkgJiYgcGFydFBvcyAmJiBwYXJ0LmxldmVsIDwgb3JkZXJbcGFydFBvcyAtIDFdLmxldmVsKSB7DQogICAgICAgICAgICAgICAgcGFydCA9IG9yZGVyWy0tcGFydFBvc10NCiAgICAgICAgICAgICAgICBjaCA9IGJpZGlSaWdodChwYXJ0KSAtIChwYXJ0LmxldmVsICUgMiA/IDAgOiAxKQ0KICAgICAgICAgICAgICAgIHJpZ2h0ID0gdHJ1ZQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PSBiaWRpUmlnaHQocGFydCkgJiYgcGFydFBvcyA8IG9yZGVyLmxlbmd0aCAtIDEgJiYgcGFydC5sZXZlbCA8IG9yZGVyW3BhcnRQb3MgKyAxXS5sZXZlbCkgew0KICAgICAgICAgICAgICAgIHBhcnQgPSBvcmRlclsrK3BhcnRQb3NdDQogICAgICAgICAgICAgICAgY2ggPSBiaWRpTGVmdChwYXJ0KSAtIHBhcnQubGV2ZWwgJSAyDQogICAgICAgICAgICAgICAgcmlnaHQgPSBmYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHJpZ2h0ICYmIGNoID09IHBhcnQudG8gJiYgY2ggPiBwYXJ0LmZyb20pIHsgcmV0dXJuIGdldChjaCAtIDEpIH0NCiAgICAgICAgICAgIHJldHVybiBnZXQoY2gsIHJpZ2h0KQ0KICAgICAgICB9DQogICAgICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmVPYmopLCBjaCA9IHBvcy5jaA0KICAgICAgICBpZiAoIW9yZGVyKSB7IHJldHVybiBnZXQoY2gpIH0NCiAgICAgICAgdmFyIHBhcnRQb3MgPSBnZXRCaWRpUGFydEF0KG9yZGVyLCBjaCkNCiAgICAgICAgdmFyIHZhbCA9IGdldEJpZGkoY2gsIHBhcnRQb3MpDQogICAgICAgIGlmIChiaWRpT3RoZXIgIT0gbnVsbCkgeyB2YWwub3RoZXIgPSBnZXRCaWRpKGNoLCBiaWRpT3RoZXIpIH0NCiAgICAgICAgcmV0dXJuIHZhbA0KICAgIH0NCg0KLy8gVXNlZCB0byBjaGVhcGx5IGVzdGltYXRlIHRoZSBjb29yZGluYXRlcyBmb3IgYSBwb3NpdGlvbi4gVXNlZCBmb3INCi8vIGludGVybWVkaWF0ZSBzY3JvbGwgdXBkYXRlcy4NCiAgICBmdW5jdGlvbiBlc3RpbWF0ZUNvb3JkcyhjbSwgcG9zKSB7DQogICAgICAgIHZhciBsZWZ0ID0gMA0KICAgICAgICBwb3MgPSBjbGlwUG9zKGNtLmRvYywgcG9zKQ0KICAgICAgICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7IGxlZnQgPSBjaGFyV2lkdGgoY20uZGlzcGxheSkgKiBwb3MuY2ggfQ0KICAgICAgICB2YXIgbGluZU9iaiA9IGdldExpbmUoY20uZG9jLCBwb3MubGluZSkNCiAgICAgICAgdmFyIHRvcCA9IGhlaWdodEF0TGluZShsaW5lT2JqKSArIHBhZGRpbmdUb3AoY20uZGlzcGxheSkNCiAgICAgICAgcmV0dXJuIHtsZWZ0OiBsZWZ0LCByaWdodDogbGVmdCwgdG9wOiB0b3AsIGJvdHRvbTogdG9wICsgbGluZU9iai5oZWlnaHR9DQogICAgfQ0KDQovLyBQb3NpdGlvbnMgcmV0dXJuZWQgYnkgY29vcmRzQ2hhciBjb250YWluIHNvbWUgZXh0cmEgaW5mb3JtYXRpb24uDQovLyB4UmVsIGlzIHRoZSByZWxhdGl2ZSB4IHBvc2l0aW9uIG9mIHRoZSBpbnB1dCBjb29yZGluYXRlcyBjb21wYXJlZA0KLy8gdG8gdGhlIGZvdW5kIHBvc2l0aW9uIChzbyB4UmVsID4gMCBtZWFucyB0aGUgY29vcmRpbmF0ZXMgYXJlIHRvDQovLyB0aGUgcmlnaHQgb2YgdGhlIGNoYXJhY3RlciBwb3NpdGlvbiwgZm9yIGV4YW1wbGUpLiBXaGVuIG91dHNpZGUNCi8vIGlzIHRydWUsIHRoYXQgbWVhbnMgdGhlIGNvb3JkaW5hdGVzIGxpZSBvdXRzaWRlIHRoZSBsaW5lJ3MNCi8vIHZlcnRpY2FsIHJhbmdlLg0KICAgIGZ1bmN0aW9uIFBvc1dpdGhJbmZvKGxpbmUsIGNoLCBvdXRzaWRlLCB4UmVsKSB7DQogICAgICAgIHZhciBwb3MgPSBQb3MobGluZSwgY2gpDQogICAgICAgIHBvcy54UmVsID0geFJlbA0KICAgICAgICBpZiAob3V0c2lkZSkgeyBwb3Mub3V0c2lkZSA9IHRydWUgfQ0KICAgICAgICByZXR1cm4gcG9zDQogICAgfQ0KDQovLyBDb21wdXRlIHRoZSBjaGFyYWN0ZXIgcG9zaXRpb24gY2xvc2VzdCB0byB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXMuDQovLyBJbnB1dCBtdXN0IGJlIGxpbmVTcGFjZS1sb2NhbCAoImRpdiIgY29vcmRpbmF0ZSBzeXN0ZW0pLg0KICAgIGZ1bmN0aW9uIGNvb3Jkc0NoYXIoY20sIHgsIHkpIHsNCiAgICAgICAgdmFyIGRvYyA9IGNtLmRvYw0KICAgICAgICB5ICs9IGNtLmRpc3BsYXkudmlld09mZnNldA0KICAgICAgICBpZiAoeSA8IDApIHsgcmV0dXJuIFBvc1dpdGhJbmZvKGRvYy5maXJzdCwgMCwgdHJ1ZSwgLTEpIH0NCiAgICAgICAgdmFyIGxpbmVOID0gbGluZUF0SGVpZ2h0KGRvYywgeSksIGxhc3QgPSBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDENCiAgICAgICAgaWYgKGxpbmVOID4gbGFzdCkNCiAgICAgICAgeyByZXR1cm4gUG9zV2l0aEluZm8oZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxLCBnZXRMaW5lKGRvYywgbGFzdCkudGV4dC5sZW5ndGgsIHRydWUsIDEpIH0NCiAgICAgICAgaWYgKHggPCAwKSB7IHggPSAwIH0NCg0KICAgICAgICB2YXIgbGluZU9iaiA9IGdldExpbmUoZG9jLCBsaW5lTikNCiAgICAgICAgZm9yICg7Oykgew0KICAgICAgICAgICAgdmFyIGZvdW5kID0gY29vcmRzQ2hhcklubmVyKGNtLCBsaW5lT2JqLCBsaW5lTiwgeCwgeSkNCiAgICAgICAgICAgIHZhciBtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRFbmQobGluZU9iaikNCiAgICAgICAgICAgIHZhciBtZXJnZWRQb3MgPSBtZXJnZWQgJiYgbWVyZ2VkLmZpbmQoMCwgdHJ1ZSkNCiAgICAgICAgICAgIGlmIChtZXJnZWQgJiYgKGZvdW5kLmNoID4gbWVyZ2VkUG9zLmZyb20uY2ggfHwgZm91bmQuY2ggPT0gbWVyZ2VkUG9zLmZyb20uY2ggJiYgZm91bmQueFJlbCA+IDApKQ0KICAgICAgICAgICAgeyBsaW5lTiA9IGxpbmVObyhsaW5lT2JqID0gbWVyZ2VkUG9zLnRvLmxpbmUpIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsgcmV0dXJuIGZvdW5kIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNvb3Jkc0NoYXJJbm5lcihjbSwgbGluZU9iaiwgbGluZU5vJCQxLCB4LCB5KSB7DQogICAgICAgIHZhciBpbm5lck9mZiA9IHkgLSBoZWlnaHRBdExpbmUobGluZU9iaikNCiAgICAgICAgdmFyIHdyb25nTGluZSA9IGZhbHNlLCBhZGp1c3QgPSAyICogY20uZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoDQogICAgICAgIHZhciBwcmVwYXJlZE1lYXN1cmUgPSBwcmVwYXJlTWVhc3VyZUZvckxpbmUoY20sIGxpbmVPYmopDQoNCiAgICAgICAgZnVuY3Rpb24gZ2V0WChjaCkgew0KICAgICAgICAgICAgdmFyIHNwID0gY3Vyc29yQ29vcmRzKGNtLCBQb3MobGluZU5vJCQxLCBjaCksICJsaW5lIiwgbGluZU9iaiwgcHJlcGFyZWRNZWFzdXJlKQ0KICAgICAgICAgICAgd3JvbmdMaW5lID0gdHJ1ZQ0KICAgICAgICAgICAgaWYgKGlubmVyT2ZmID4gc3AuYm90dG9tKSB7IHJldHVybiBzcC5sZWZ0IC0gYWRqdXN0IH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGlubmVyT2ZmIDwgc3AudG9wKSB7IHJldHVybiBzcC5sZWZ0ICsgYWRqdXN0IH0NCiAgICAgICAgICAgIGVsc2UgeyB3cm9uZ0xpbmUgPSBmYWxzZSB9DQogICAgICAgICAgICByZXR1cm4gc3AubGVmdA0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGJpZGkgPSBnZXRPcmRlcihsaW5lT2JqKSwgZGlzdCA9IGxpbmVPYmoudGV4dC5sZW5ndGgNCiAgICAgICAgdmFyIGZyb20gPSBsaW5lTGVmdChsaW5lT2JqKSwgdG8gPSBsaW5lUmlnaHQobGluZU9iaikNCiAgICAgICAgdmFyIGZyb21YID0gZ2V0WChmcm9tKSwgZnJvbU91dHNpZGUgPSB3cm9uZ0xpbmUsIHRvWCA9IGdldFgodG8pLCB0b091dHNpZGUgPSB3cm9uZ0xpbmUNCg0KICAgICAgICBpZiAoeCA+IHRvWCkgeyByZXR1cm4gUG9zV2l0aEluZm8obGluZU5vJCQxLCB0bywgdG9PdXRzaWRlLCAxKSB9DQogICAgICAgIC8vIERvIGEgYmluYXJ5IHNlYXJjaCBiZXR3ZWVuIHRoZXNlIGJvdW5kcy4NCiAgICAgICAgZm9yICg7Oykgew0KICAgICAgICAgICAgaWYgKGJpZGkgPyB0byA9PSBmcm9tIHx8IHRvID09IG1vdmVWaXN1YWxseShsaW5lT2JqLCBmcm9tLCAxKSA6IHRvIC0gZnJvbSA8PSAxKSB7DQogICAgICAgICAgICAgICAgdmFyIGNoID0geCA8IGZyb21YIHx8IHggLSBmcm9tWCA8PSB0b1ggLSB4ID8gZnJvbSA6IHRvDQogICAgICAgICAgICAgICAgdmFyIG91dHNpZGUgPSBjaCA9PSBmcm9tID8gZnJvbU91dHNpZGUgOiB0b091dHNpZGUNCiAgICAgICAgICAgICAgICB2YXIgeERpZmYgPSB4IC0gKGNoID09IGZyb20gPyBmcm9tWCA6IHRvWCkNCiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEga2x1ZGdlIHRvIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgY29vcmRpbmF0ZXMNCiAgICAgICAgICAgICAgICAvLyBhcmUgYWZ0ZXIgYSBsaW5lLXdyYXBwZWQgbGluZS4gV2Ugc2hvdWxkIHJlcGxhY2UgaXQgd2l0aCBhDQogICAgICAgICAgICAgICAgLy8gbW9yZSBnZW5lcmFsIGhhbmRsaW5nIG9mIGN1cnNvciBwb3NpdGlvbnMgYXJvdW5kIGxpbmUNCiAgICAgICAgICAgICAgICAvLyBicmVha3MuIChJc3N1ZSAjNDA3OCkNCiAgICAgICAgICAgICAgICBpZiAodG9PdXRzaWRlICYmICFiaWRpICYmICEvXHMvLnRlc3QobGluZU9iai50ZXh0LmNoYXJBdChjaCkpICYmIHhEaWZmID4gMCAmJg0KICAgICAgICAgICAgICAgICAgICBjaCA8IGxpbmVPYmoudGV4dC5sZW5ndGggJiYgcHJlcGFyZWRNZWFzdXJlLnZpZXcubWVhc3VyZS5oZWlnaHRzLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJTaXplID0gbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZWRNZWFzdXJlLCBjaCwgInJpZ2h0IikNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyT2ZmIDw9IGNoYXJTaXplLmJvdHRvbSAmJiBpbm5lck9mZiA+PSBjaGFyU2l6ZS50b3AgJiYgTWF0aC5hYnMoeCAtIGNoYXJTaXplLnJpZ2h0KSA8IHhEaWZmKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBvdXRzaWRlID0gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoKysNCiAgICAgICAgICAgICAgICAgICAgICAgIHhEaWZmID0geCAtIGNoYXJTaXplLnJpZ2h0DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgd2hpbGUgKGlzRXh0ZW5kaW5nQ2hhcihsaW5lT2JqLnRleHQuY2hhckF0KGNoKSkpIHsgKytjaCB9DQogICAgICAgICAgICAgICAgdmFyIHBvcyA9IFBvc1dpdGhJbmZvKGxpbmVObyQkMSwgY2gsIG91dHNpZGUsIHhEaWZmIDwgLTEgPyAtMSA6IHhEaWZmID4gMSA/IDEgOiAwKQ0KICAgICAgICAgICAgICAgIHJldHVybiBwb3MNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBzdGVwID0gTWF0aC5jZWlsKGRpc3QgLyAyKSwgbWlkZGxlID0gZnJvbSArIHN0ZXANCiAgICAgICAgICAgIGlmIChiaWRpKSB7DQogICAgICAgICAgICAgICAgbWlkZGxlID0gZnJvbQ0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcDsgKytpKSB7IG1pZGRsZSA9IG1vdmVWaXN1YWxseShsaW5lT2JqLCBtaWRkbGUsIDEpIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBtaWRkbGVYID0gZ2V0WChtaWRkbGUpDQogICAgICAgICAgICBpZiAobWlkZGxlWCA+IHgpIHt0byA9IG1pZGRsZTsgdG9YID0gbWlkZGxlWDsgaWYgKHRvT3V0c2lkZSA9IHdyb25nTGluZSkgeyB0b1ggKz0gMTAwMDsgfSBkaXN0ID0gc3RlcH0NCiAgICAgICAgICAgIGVsc2Uge2Zyb20gPSBtaWRkbGU7IGZyb21YID0gbWlkZGxlWDsgZnJvbU91dHNpZGUgPSB3cm9uZ0xpbmU7IGRpc3QgLT0gc3RlcH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHZhciBtZWFzdXJlVGV4dA0KLy8gQ29tcHV0ZSB0aGUgZGVmYXVsdCB0ZXh0IGhlaWdodC4NCiAgICBmdW5jdGlvbiB0ZXh0SGVpZ2h0KGRpc3BsYXkpIHsNCiAgICAgICAgaWYgKGRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodCAhPSBudWxsKSB7IHJldHVybiBkaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQgfQ0KICAgICAgICBpZiAobWVhc3VyZVRleHQgPT0gbnVsbCkgew0KICAgICAgICAgICAgbWVhc3VyZVRleHQgPSBlbHQoInByZSIpDQogICAgICAgICAgICAvLyBNZWFzdXJlIGEgYnVuY2ggb2YgbGluZXMsIGZvciBicm93c2VycyB0aGF0IGNvbXB1dGUNCiAgICAgICAgICAgIC8vIGZyYWN0aW9uYWwgaGVpZ2h0cy4NCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDk7ICsraSkgew0KICAgICAgICAgICAgICAgIG1lYXN1cmVUZXh0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJ4IikpDQogICAgICAgICAgICAgICAgbWVhc3VyZVRleHQuYXBwZW5kQ2hpbGQoZWx0KCJiciIpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbWVhc3VyZVRleHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIngiKSkNCiAgICAgICAgfQ0KICAgICAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChkaXNwbGF5Lm1lYXN1cmUsIG1lYXN1cmVUZXh0KQ0KICAgICAgICB2YXIgaGVpZ2h0ID0gbWVhc3VyZVRleHQub2Zmc2V0SGVpZ2h0IC8gNTANCiAgICAgICAgaWYgKGhlaWdodCA+IDMpIHsgZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0ID0gaGVpZ2h0IH0NCiAgICAgICAgcmVtb3ZlQ2hpbGRyZW4oZGlzcGxheS5tZWFzdXJlKQ0KICAgICAgICByZXR1cm4gaGVpZ2h0IHx8IDENCiAgICB9DQoNCi8vIENvbXB1dGUgdGhlIGRlZmF1bHQgY2hhcmFjdGVyIHdpZHRoLg0KICAgIGZ1bmN0aW9uIGNoYXJXaWR0aChkaXNwbGF5KSB7DQogICAgICAgIGlmIChkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCAhPSBudWxsKSB7IHJldHVybiBkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCB9DQogICAgICAgIHZhciBhbmNob3IgPSBlbHQoInNwYW4iLCAieHh4eHh4eHh4eCIpDQogICAgICAgIHZhciBwcmUgPSBlbHQoInByZSIsIFthbmNob3JdKQ0KICAgICAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChkaXNwbGF5Lm1lYXN1cmUsIHByZSkNCiAgICAgICAgdmFyIHJlY3QgPSBhbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHdpZHRoID0gKHJlY3QucmlnaHQgLSByZWN0LmxlZnQpIC8gMTANCiAgICAgICAgaWYgKHdpZHRoID4gMikgeyBkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCA9IHdpZHRoIH0NCiAgICAgICAgcmV0dXJuIHdpZHRoIHx8IDEwDQogICAgfQ0KDQovLyBEbyBhIGJ1bGstcmVhZCBvZiB0aGUgRE9NIHBvc2l0aW9ucyBhbmQgc2l6ZXMgbmVlZGVkIHRvIGRyYXcgdGhlDQovLyB2aWV3LCBzbyB0aGF0IHdlIGRvbid0IGludGVybGVhdmUgcmVhZGluZyBhbmQgd3JpdGluZyB0byB0aGUgRE9NLg0KICAgIGZ1bmN0aW9uIGdldERpbWVuc2lvbnMoY20pIHsNCiAgICAgICAgdmFyIGQgPSBjbS5kaXNwbGF5LCBsZWZ0ID0ge30sIHdpZHRoID0ge30NCiAgICAgICAgdmFyIGd1dHRlckxlZnQgPSBkLmd1dHRlcnMuY2xpZW50TGVmdA0KICAgICAgICBmb3IgKHZhciBuID0gZC5ndXR0ZXJzLmZpcnN0Q2hpbGQsIGkgPSAwOyBuOyBuID0gbi5uZXh0U2libGluZywgKytpKSB7DQogICAgICAgICAgICBsZWZ0W2NtLm9wdGlvbnMuZ3V0dGVyc1tpXV0gPSBuLm9mZnNldExlZnQgKyBuLmNsaWVudExlZnQgKyBndXR0ZXJMZWZ0DQogICAgICAgICAgICB3aWR0aFtjbS5vcHRpb25zLmd1dHRlcnNbaV1dID0gbi5jbGllbnRXaWR0aA0KICAgICAgICB9DQogICAgICAgIHJldHVybiB7Zml4ZWRQb3M6IGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGQpLA0KICAgICAgICAgICAgZ3V0dGVyVG90YWxXaWR0aDogZC5ndXR0ZXJzLm9mZnNldFdpZHRoLA0KICAgICAgICAgICAgZ3V0dGVyTGVmdDogbGVmdCwNCiAgICAgICAgICAgIGd1dHRlcldpZHRoOiB3aWR0aCwNCiAgICAgICAgICAgIHdyYXBwZXJXaWR0aDogZC53cmFwcGVyLmNsaWVudFdpZHRofQ0KICAgIH0NCg0KLy8gQ29tcHV0ZXMgZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ICsgZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoLA0KLy8gYnV0IHVzaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCB0byBnZXQgYSBzdWItcGl4ZWwtYWNjdXJhdGUNCi8vIHJlc3VsdC4NCiAgICBmdW5jdGlvbiBjb21wZW5zYXRlRm9ySFNjcm9sbChkaXNwbGF5KSB7DQogICAgICAgIHJldHVybiBkaXNwbGF5LnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLSBkaXNwbGF5LnNpemVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQNCiAgICB9DQoNCi8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGVzdGltYXRlcyB0aGUgaGVpZ2h0IG9mIGEgbGluZSwgdG8gdXNlIGFzDQovLyBmaXJzdCBhcHByb3hpbWF0aW9uIHVudGlsIHRoZSBsaW5lIGJlY29tZXMgdmlzaWJsZSAoYW5kIGlzIHRodXMNCi8vIHByb3Blcmx5IG1lYXN1cmFibGUpLg0KICAgIGZ1bmN0aW9uIGVzdGltYXRlSGVpZ2h0KGNtKSB7DQogICAgICAgIHZhciB0aCA9IHRleHRIZWlnaHQoY20uZGlzcGxheSksIHdyYXBwaW5nID0gY20ub3B0aW9ucy5saW5lV3JhcHBpbmcNCiAgICAgICAgdmFyIHBlckxpbmUgPSB3cmFwcGluZyAmJiBNYXRoLm1heCg1LCBjbS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoIC8gY2hhcldpZHRoKGNtLmRpc3BsYXkpIC0gMykNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChsaW5lKSB7DQogICAgICAgICAgICBpZiAobGluZUlzSGlkZGVuKGNtLmRvYywgbGluZSkpIHsgcmV0dXJuIDAgfQ0KDQogICAgICAgICAgICB2YXIgd2lkZ2V0c0hlaWdodCA9IDANCiAgICAgICAgICAgIGlmIChsaW5lLndpZGdldHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLndpZGdldHMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICBpZiAobGluZS53aWRnZXRzW2ldLmhlaWdodCkgeyB3aWRnZXRzSGVpZ2h0ICs9IGxpbmUud2lkZ2V0c1tpXS5oZWlnaHQgfQ0KICAgICAgICAgICAgfSB9DQoNCiAgICAgICAgICAgIGlmICh3cmFwcGluZykNCiAgICAgICAgICAgIHsgcmV0dXJuIHdpZGdldHNIZWlnaHQgKyAoTWF0aC5jZWlsKGxpbmUudGV4dC5sZW5ndGggLyBwZXJMaW5lKSB8fCAxKSAqIHRoIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsgcmV0dXJuIHdpZGdldHNIZWlnaHQgKyB0aCB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBlc3RpbWF0ZUxpbmVIZWlnaHRzKGNtKSB7DQogICAgICAgIHZhciBkb2MgPSBjbS5kb2MsIGVzdCA9IGVzdGltYXRlSGVpZ2h0KGNtKQ0KICAgICAgICBkb2MuaXRlcihmdW5jdGlvbiAobGluZSkgew0KICAgICAgICAgICAgdmFyIGVzdEhlaWdodCA9IGVzdChsaW5lKQ0KICAgICAgICAgICAgaWYgKGVzdEhlaWdodCAhPSBsaW5lLmhlaWdodCkgeyB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGVzdEhlaWdodCkgfQ0KICAgICAgICB9KQ0KICAgIH0NCg0KLy8gR2l2ZW4gYSBtb3VzZSBldmVudCwgZmluZCB0aGUgY29ycmVzcG9uZGluZyBwb3NpdGlvbi4gSWYgbGliZXJhbA0KLy8gaXMgZmFsc2UsIGl0IGNoZWNrcyB3aGV0aGVyIGEgZ3V0dGVyIG9yIHNjcm9sbGJhciB3YXMgY2xpY2tlZCwNCi8vIGFuZCByZXR1cm5zIG51bGwgaWYgaXQgd2FzLiBmb3JSZWN0IGlzIHVzZWQgYnkgcmVjdGFuZ3VsYXINCi8vIHNlbGVjdGlvbnMsIGFuZCB0cmllcyB0byBlc3RpbWF0ZSBhIGNoYXJhY3RlciBwb3NpdGlvbiBldmVuIGZvcg0KLy8gY29vcmRpbmF0ZXMgYmV5b25kIHRoZSByaWdodCBvZiB0aGUgdGV4dC4NCiAgICBmdW5jdGlvbiBwb3NGcm9tTW91c2UoY20sIGUsIGxpYmVyYWwsIGZvclJlY3QpIHsNCiAgICAgICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5DQogICAgICAgIGlmICghbGliZXJhbCAmJiBlX3RhcmdldChlKS5nZXRBdHRyaWJ1dGUoImNtLW5vdC1jb250ZW50IikgPT0gInRydWUiKSB7IHJldHVybiBudWxsIH0NCg0KICAgICAgICB2YXIgeCwgeSwgc3BhY2UgPSBkaXNwbGF5LmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQ0KICAgICAgICAvLyBGYWlscyB1bnByZWRpY3RhYmx5IG9uIElFWzY3XSB3aGVuIG1vdXNlIGlzIGRyYWdnZWQgYXJvdW5kIHF1aWNrbHkuDQogICAgICAgIHRyeSB7IHggPSBlLmNsaWVudFggLSBzcGFjZS5sZWZ0OyB5ID0gZS5jbGllbnRZIC0gc3BhY2UudG9wIH0NCiAgICAgICAgY2F0Y2ggKGUpIHsgcmV0dXJuIG51bGwgfQ0KICAgICAgICB2YXIgY29vcmRzID0gY29vcmRzQ2hhcihjbSwgeCwgeSksIGxpbmUNCiAgICAgICAgaWYgKGZvclJlY3QgJiYgY29vcmRzLnhSZWwgPT0gMSAmJiAobGluZSA9IGdldExpbmUoY20uZG9jLCBjb29yZHMubGluZSkudGV4dCkubGVuZ3RoID09IGNvb3Jkcy5jaCkgew0KICAgICAgICAgICAgdmFyIGNvbERpZmYgPSBjb3VudENvbHVtbihsaW5lLCBsaW5lLmxlbmd0aCwgY20ub3B0aW9ucy50YWJTaXplKSAtIGxpbmUubGVuZ3RoDQogICAgICAgICAgICBjb29yZHMgPSBQb3MoY29vcmRzLmxpbmUsIE1hdGgubWF4KDAsIE1hdGgucm91bmQoKHggLSBwYWRkaW5nSChjbS5kaXNwbGF5KS5sZWZ0KSAvIGNoYXJXaWR0aChjbS5kaXNwbGF5KSkgLSBjb2xEaWZmKSkNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gY29vcmRzDQogICAgfQ0KDQovLyBGaW5kIHRoZSB2aWV3IGVsZW1lbnQgY29ycmVzcG9uZGluZyB0byBhIGdpdmVuIGxpbmUuIFJldHVybiBudWxsDQovLyB3aGVuIHRoZSBsaW5lIGlzbid0IHZpc2libGUuDQogICAgZnVuY3Rpb24gZmluZFZpZXdJbmRleChjbSwgbikgew0KICAgICAgICBpZiAobiA+PSBjbS5kaXNwbGF5LnZpZXdUbykgeyByZXR1cm4gbnVsbCB9DQogICAgICAgIG4gLT0gY20uZGlzcGxheS52aWV3RnJvbQ0KICAgICAgICBpZiAobiA8IDApIHsgcmV0dXJuIG51bGwgfQ0KICAgICAgICB2YXIgdmlldyA9IGNtLmRpc3BsYXkudmlldw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIG4gLT0gdmlld1tpXS5zaXplDQogICAgICAgICAgICBpZiAobiA8IDApIHsgcmV0dXJuIGkgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdXBkYXRlU2VsZWN0aW9uKGNtKSB7DQogICAgICAgIGNtLmRpc3BsYXkuaW5wdXQuc2hvd1NlbGVjdGlvbihjbS5kaXNwbGF5LmlucHV0LnByZXBhcmVTZWxlY3Rpb24oKSkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBwcmVwYXJlU2VsZWN0aW9uKGNtLCBwcmltYXJ5KSB7DQogICAgICAgIHZhciBkb2MgPSBjbS5kb2MsIHJlc3VsdCA9IHt9DQogICAgICAgIHZhciBjdXJGcmFnbWVudCA9IHJlc3VsdC5jdXJzb3JzID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpDQogICAgICAgIHZhciBzZWxGcmFnbWVudCA9IHJlc3VsdC5zZWxlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkNCg0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBpZiAocHJpbWFyeSA9PT0gZmFsc2UgJiYgaSA9PSBkb2Muc2VsLnByaW1JbmRleCkgeyBjb250aW51ZSB9DQogICAgICAgICAgICB2YXIgcmFuZ2UkJDEgPSBkb2Muc2VsLnJhbmdlc1tpXQ0KICAgICAgICAgICAgaWYgKHJhbmdlJCQxLmZyb20oKS5saW5lID49IGNtLmRpc3BsYXkudmlld1RvIHx8IHJhbmdlJCQxLnRvKCkubGluZSA8IGNtLmRpc3BsYXkudmlld0Zyb20pIHsgY29udGludWUgfQ0KICAgICAgICAgICAgdmFyIGNvbGxhcHNlZCA9IHJhbmdlJCQxLmVtcHR5KCkNCiAgICAgICAgICAgIGlmIChjb2xsYXBzZWQgfHwgY20ub3B0aW9ucy5zaG93Q3Vyc29yV2hlblNlbGVjdGluZykNCiAgICAgICAgICAgIHsgZHJhd1NlbGVjdGlvbkN1cnNvcihjbSwgcmFuZ2UkJDEuaGVhZCwgY3VyRnJhZ21lbnQpIH0NCiAgICAgICAgICAgIGlmICghY29sbGFwc2VkKQ0KICAgICAgICAgICAgeyBkcmF3U2VsZWN0aW9uUmFuZ2UoY20sIHJhbmdlJCQxLCBzZWxGcmFnbWVudCkgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiByZXN1bHQNCiAgICB9DQoNCi8vIERyYXdzIGEgY3Vyc29yIGZvciB0aGUgZ2l2ZW4gcmFuZ2UNCiAgICBmdW5jdGlvbiBkcmF3U2VsZWN0aW9uQ3Vyc29yKGNtLCBoZWFkLCBvdXRwdXQpIHsNCiAgICAgICAgdmFyIHBvcyA9IGN1cnNvckNvb3JkcyhjbSwgaGVhZCwgImRpdiIsIG51bGwsIG51bGwsICFjbS5vcHRpb25zLnNpbmdsZUN1cnNvckhlaWdodFBlckxpbmUpDQoNCiAgICAgICAgdmFyIGN1cnNvciA9IG91dHB1dC5hcHBlbmRDaGlsZChlbHQoImRpdiIsICJcdTAwYTAiLCAiQ29kZU1pcnJvci1jdXJzb3IiKSkNCiAgICAgICAgY3Vyc29yLnN0eWxlLmxlZnQgPSBwb3MubGVmdCArICJweCINCiAgICAgICAgY3Vyc29yLnN0eWxlLnRvcCA9IHBvcy50b3AgKyAicHgiDQogICAgICAgIGN1cnNvci5zdHlsZS5oZWlnaHQgPSBNYXRoLm1heCgwLCBwb3MuYm90dG9tIC0gcG9zLnRvcCkgKiBjbS5vcHRpb25zLmN1cnNvckhlaWdodCArICJweCINCg0KICAgICAgICBpZiAocG9zLm90aGVyKSB7DQogICAgICAgICAgICAvLyBTZWNvbmRhcnkgY3Vyc29yLCBzaG93biB3aGVuIG9uIGEgJ2p1bXAnIGluIGJpLWRpcmVjdGlvbmFsIHRleHQNCiAgICAgICAgICAgIHZhciBvdGhlckN1cnNvciA9IG91dHB1dC5hcHBlbmRDaGlsZChlbHQoImRpdiIsICJcdTAwYTAiLCAiQ29kZU1pcnJvci1jdXJzb3IgQ29kZU1pcnJvci1zZWNvbmRhcnljdXJzb3IiKSkNCiAgICAgICAgICAgIG90aGVyQ3Vyc29yLnN0eWxlLmRpc3BsYXkgPSAiIg0KICAgICAgICAgICAgb3RoZXJDdXJzb3Iuc3R5bGUubGVmdCA9IHBvcy5vdGhlci5sZWZ0ICsgInB4Ig0KICAgICAgICAgICAgb3RoZXJDdXJzb3Iuc3R5bGUudG9wID0gcG9zLm90aGVyLnRvcCArICJweCINCiAgICAgICAgICAgIG90aGVyQ3Vyc29yLnN0eWxlLmhlaWdodCA9IChwb3Mub3RoZXIuYm90dG9tIC0gcG9zLm90aGVyLnRvcCkgKiAuODUgKyAicHgiDQogICAgICAgIH0NCiAgICB9DQoNCi8vIERyYXdzIHRoZSBnaXZlbiByYW5nZSBhcyBhIGhpZ2hsaWdodGVkIHNlbGVjdGlvbg0KICAgIGZ1bmN0aW9uIGRyYXdTZWxlY3Rpb25SYW5nZShjbSwgcmFuZ2UkJDEsIG91dHB1dCkgew0KICAgICAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYw0KICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkNCiAgICAgICAgdmFyIHBhZGRpbmcgPSBwYWRkaW5nSChjbS5kaXNwbGF5KSwgbGVmdFNpZGUgPSBwYWRkaW5nLmxlZnQNCiAgICAgICAgdmFyIHJpZ2h0U2lkZSA9IE1hdGgubWF4KGRpc3BsYXkuc2l6ZXJXaWR0aCwgZGlzcGxheVdpZHRoKGNtKSAtIGRpc3BsYXkuc2l6ZXIub2Zmc2V0TGVmdCkgLSBwYWRkaW5nLnJpZ2h0DQoNCiAgICAgICAgZnVuY3Rpb24gYWRkKGxlZnQsIHRvcCwgd2lkdGgsIGJvdHRvbSkgew0KICAgICAgICAgICAgaWYgKHRvcCA8IDApIHsgdG9wID0gMCB9DQogICAgICAgICAgICB0b3AgPSBNYXRoLnJvdW5kKHRvcCkNCiAgICAgICAgICAgIGJvdHRvbSA9IE1hdGgucm91bmQoYm90dG9tKQ0KICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWx0KCJkaXYiLCBudWxsLCAiQ29kZU1pcnJvci1zZWxlY3RlZCIsICgicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAiICsgbGVmdCArICJweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAiICsgdG9wICsgInB4OyB3aWR0aDogIiArICh3aWR0aCA9PSBudWxsID8gcmlnaHRTaWRlIC0gbGVmdCA6IHdpZHRoKSArICJweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAiICsgKGJvdHRvbSAtIHRvcCkgKyAicHgiKSkpDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBkcmF3Rm9yTGluZShsaW5lLCBmcm9tQXJnLCB0b0FyZykgew0KICAgICAgICAgICAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbGluZSkNCiAgICAgICAgICAgIHZhciBsaW5lTGVuID0gbGluZU9iai50ZXh0Lmxlbmd0aA0KICAgICAgICAgICAgdmFyIHN0YXJ0LCBlbmQNCiAgICAgICAgICAgIGZ1bmN0aW9uIGNvb3JkcyhjaCwgYmlhcykgew0KICAgICAgICAgICAgICAgIHJldHVybiBjaGFyQ29vcmRzKGNtLCBQb3MobGluZSwgY2gpLCAiZGl2IiwgbGluZU9iaiwgYmlhcykNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaXRlcmF0ZUJpZGlTZWN0aW9ucyhnZXRPcmRlcihsaW5lT2JqKSwgZnJvbUFyZyB8fCAwLCB0b0FyZyA9PSBudWxsID8gbGluZUxlbiA6IHRvQXJnLCBmdW5jdGlvbiAoZnJvbSwgdG8sIGRpcikgew0KICAgICAgICAgICAgICAgIHZhciBsZWZ0UG9zID0gY29vcmRzKGZyb20sICJsZWZ0IiksIHJpZ2h0UG9zLCBsZWZ0LCByaWdodA0KICAgICAgICAgICAgICAgIGlmIChmcm9tID09IHRvKSB7DQogICAgICAgICAgICAgICAgICAgIHJpZ2h0UG9zID0gbGVmdFBvcw0KICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gcmlnaHQgPSBsZWZ0UG9zLmxlZnQNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICByaWdodFBvcyA9IGNvb3Jkcyh0byAtIDEsICJyaWdodCIpDQogICAgICAgICAgICAgICAgICAgIGlmIChkaXIgPT0gInJ0bCIpIHsgdmFyIHRtcCA9IGxlZnRQb3M7IGxlZnRQb3MgPSByaWdodFBvczsgcmlnaHRQb3MgPSB0bXAgfQ0KICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gbGVmdFBvcy5sZWZ0DQogICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gcmlnaHRQb3MucmlnaHQNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGZyb21BcmcgPT0gbnVsbCAmJiBmcm9tID09IDApIHsgbGVmdCA9IGxlZnRTaWRlIH0NCiAgICAgICAgICAgICAgICBpZiAocmlnaHRQb3MudG9wIC0gbGVmdFBvcy50b3AgPiAzKSB7IC8vIERpZmZlcmVudCBsaW5lcywgZHJhdyB0b3AgcGFydA0KICAgICAgICAgICAgICAgICAgICBhZGQobGVmdCwgbGVmdFBvcy50b3AsIG51bGwsIGxlZnRQb3MuYm90dG9tKQ0KICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gbGVmdFNpZGUNCiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnRQb3MuYm90dG9tIDwgcmlnaHRQb3MudG9wKSB7IGFkZChsZWZ0LCBsZWZ0UG9zLmJvdHRvbSwgbnVsbCwgcmlnaHRQb3MudG9wKSB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICh0b0FyZyA9PSBudWxsICYmIHRvID09IGxpbmVMZW4pIHsgcmlnaHQgPSByaWdodFNpZGUgfQ0KICAgICAgICAgICAgICAgIGlmICghc3RhcnQgfHwgbGVmdFBvcy50b3AgPCBzdGFydC50b3AgfHwgbGVmdFBvcy50b3AgPT0gc3RhcnQudG9wICYmIGxlZnRQb3MubGVmdCA8IHN0YXJ0LmxlZnQpDQogICAgICAgICAgICAgICAgeyBzdGFydCA9IGxlZnRQb3MgfQ0KICAgICAgICAgICAgICAgIGlmICghZW5kIHx8IHJpZ2h0UG9zLmJvdHRvbSA+IGVuZC5ib3R0b20gfHwgcmlnaHRQb3MuYm90dG9tID09IGVuZC5ib3R0b20gJiYgcmlnaHRQb3MucmlnaHQgPiBlbmQucmlnaHQpDQogICAgICAgICAgICAgICAgeyBlbmQgPSByaWdodFBvcyB9DQogICAgICAgICAgICAgICAgaWYgKGxlZnQgPCBsZWZ0U2lkZSArIDEpIHsgbGVmdCA9IGxlZnRTaWRlIH0NCiAgICAgICAgICAgICAgICBhZGQobGVmdCwgcmlnaHRQb3MudG9wLCByaWdodCAtIGxlZnQsIHJpZ2h0UG9zLmJvdHRvbSkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICByZXR1cm4ge3N0YXJ0OiBzdGFydCwgZW5kOiBlbmR9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgc0Zyb20gPSByYW5nZSQkMS5mcm9tKCksIHNUbyA9IHJhbmdlJCQxLnRvKCkNCiAgICAgICAgaWYgKHNGcm9tLmxpbmUgPT0gc1RvLmxpbmUpIHsNCiAgICAgICAgICAgIGRyYXdGb3JMaW5lKHNGcm9tLmxpbmUsIHNGcm9tLmNoLCBzVG8uY2gpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB2YXIgZnJvbUxpbmUgPSBnZXRMaW5lKGRvYywgc0Zyb20ubGluZSksIHRvTGluZSA9IGdldExpbmUoZG9jLCBzVG8ubGluZSkNCiAgICAgICAgICAgIHZhciBzaW5nbGVWTGluZSA9IHZpc3VhbExpbmUoZnJvbUxpbmUpID09IHZpc3VhbExpbmUodG9MaW5lKQ0KICAgICAgICAgICAgdmFyIGxlZnRFbmQgPSBkcmF3Rm9yTGluZShzRnJvbS5saW5lLCBzRnJvbS5jaCwgc2luZ2xlVkxpbmUgPyBmcm9tTGluZS50ZXh0Lmxlbmd0aCArIDEgOiBudWxsKS5lbmQNCiAgICAgICAgICAgIHZhciByaWdodFN0YXJ0ID0gZHJhd0ZvckxpbmUoc1RvLmxpbmUsIHNpbmdsZVZMaW5lID8gMCA6IG51bGwsIHNUby5jaCkuc3RhcnQNCiAgICAgICAgICAgIGlmIChzaW5nbGVWTGluZSkgew0KICAgICAgICAgICAgICAgIGlmIChsZWZ0RW5kLnRvcCA8IHJpZ2h0U3RhcnQudG9wIC0gMikgew0KICAgICAgICAgICAgICAgICAgICBhZGQobGVmdEVuZC5yaWdodCwgbGVmdEVuZC50b3AsIG51bGwsIGxlZnRFbmQuYm90dG9tKQ0KICAgICAgICAgICAgICAgICAgICBhZGQobGVmdFNpZGUsIHJpZ2h0U3RhcnQudG9wLCByaWdodFN0YXJ0LmxlZnQsIHJpZ2h0U3RhcnQuYm90dG9tKQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGFkZChsZWZ0RW5kLnJpZ2h0LCBsZWZ0RW5kLnRvcCwgcmlnaHRTdGFydC5sZWZ0IC0gbGVmdEVuZC5yaWdodCwgbGVmdEVuZC5ib3R0b20pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGxlZnRFbmQuYm90dG9tIDwgcmlnaHRTdGFydC50b3ApDQogICAgICAgICAgICB7IGFkZChsZWZ0U2lkZSwgbGVmdEVuZC5ib3R0b20sIG51bGwsIHJpZ2h0U3RhcnQudG9wKSB9DQogICAgICAgIH0NCg0KICAgICAgICBvdXRwdXQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpDQogICAgfQ0KDQovLyBDdXJzb3ItYmxpbmtpbmcNCiAgICBmdW5jdGlvbiByZXN0YXJ0QmxpbmsoY20pIHsNCiAgICAgICAgaWYgKCFjbS5zdGF0ZS5mb2N1c2VkKSB7IHJldHVybiB9DQogICAgICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheQ0KICAgICAgICBjbGVhckludGVydmFsKGRpc3BsYXkuYmxpbmtlcikNCiAgICAgICAgdmFyIG9uID0gdHJ1ZQ0KICAgICAgICBkaXNwbGF5LmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5ID0gIiINCiAgICAgICAgaWYgKGNtLm9wdGlvbnMuY3Vyc29yQmxpbmtSYXRlID4gMCkNCiAgICAgICAgeyBkaXNwbGF5LmJsaW5rZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHJldHVybiBkaXNwbGF5LmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5ID0gKG9uID0gIW9uKSA/ICIiIDogImhpZGRlbiI7IH0sDQogICAgICAgICAgICBjbS5vcHRpb25zLmN1cnNvckJsaW5rUmF0ZSkgfQ0KICAgICAgICBlbHNlIGlmIChjbS5vcHRpb25zLmN1cnNvckJsaW5rUmF0ZSA8IDApDQogICAgICAgIHsgZGlzcGxheS5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eSA9ICJoaWRkZW4iIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBlbnN1cmVGb2N1cyhjbSkgew0KICAgICAgICBpZiAoIWNtLnN0YXRlLmZvY3VzZWQpIHsgY20uZGlzcGxheS5pbnB1dC5mb2N1cygpOyBvbkZvY3VzKGNtKSB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZGVsYXlCbHVyRXZlbnQoY20pIHsNCiAgICAgICAgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSB0cnVlDQogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBpZiAoY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQpIHsNCiAgICAgICAgICAgIGNtLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50ID0gZmFsc2UNCiAgICAgICAgICAgIG9uQmx1cihjbSkNCiAgICAgICAgfSB9LCAxMDApDQogICAgfQ0KDQogICAgZnVuY3Rpb24gb25Gb2N1cyhjbSwgZSkgew0KICAgICAgICBpZiAoY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQpIHsgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSBmYWxzZSB9DQoNCiAgICAgICAgaWYgKGNtLm9wdGlvbnMucmVhZE9ubHkgPT0gIm5vY3Vyc29yIikgeyByZXR1cm4gfQ0KICAgICAgICBpZiAoIWNtLnN0YXRlLmZvY3VzZWQpIHsNCiAgICAgICAgICAgIHNpZ25hbChjbSwgImZvY3VzIiwgY20sIGUpDQogICAgICAgICAgICBjbS5zdGF0ZS5mb2N1c2VkID0gdHJ1ZQ0KICAgICAgICAgICAgYWRkQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCAiQ29kZU1pcnJvci1mb2N1c2VkIikNCiAgICAgICAgICAgIC8vIFRoaXMgdGVzdCBwcmV2ZW50cyB0aGlzIGZyb20gZmlyaW5nIHdoZW4gYSBjb250ZXh0DQogICAgICAgICAgICAvLyBtZW51IGlzIGNsb3NlZCAoc2luY2UgdGhlIGlucHV0IHJlc2V0IHdvdWxkIGtpbGwgdGhlDQogICAgICAgICAgICAvLyBzZWxlY3QtYWxsIGRldGVjdGlvbiBoYWNrKQ0KICAgICAgICAgICAgaWYgKCFjbS5jdXJPcCAmJiBjbS5kaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ICE9IGNtLmRvYy5zZWwpIHsNCiAgICAgICAgICAgICAgICBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KCkNCiAgICAgICAgICAgICAgICBpZiAod2Via2l0KSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY20uZGlzcGxheS5pbnB1dC5yZXNldCh0cnVlKTsgfSwgMjApIH0gLy8gSXNzdWUgIzE3MzANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQucmVjZWl2ZWRGb2N1cygpDQogICAgICAgIH0NCiAgICAgICAgcmVzdGFydEJsaW5rKGNtKQ0KICAgIH0NCiAgICBmdW5jdGlvbiBvbkJsdXIoY20sIGUpIHsNCiAgICAgICAgaWYgKGNtLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50KSB7IHJldHVybiB9DQoNCiAgICAgICAgaWYgKGNtLnN0YXRlLmZvY3VzZWQpIHsNCiAgICAgICAgICAgIHNpZ25hbChjbSwgImJsdXIiLCBjbSwgZSkNCiAgICAgICAgICAgIGNtLnN0YXRlLmZvY3VzZWQgPSBmYWxzZQ0KICAgICAgICAgICAgcm1DbGFzcyhjbS5kaXNwbGF5LndyYXBwZXIsICJDb2RlTWlycm9yLWZvY3VzZWQiKQ0KICAgICAgICB9DQogICAgICAgIGNsZWFySW50ZXJ2YWwoY20uZGlzcGxheS5ibGlua2VyKQ0KICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgaWYgKCFjbS5zdGF0ZS5mb2N1c2VkKSB7IGNtLmRpc3BsYXkuc2hpZnQgPSBmYWxzZSB9IH0sIDE1MCkNCiAgICB9DQoNCi8vIFJlLWFsaWduIGxpbmUgbnVtYmVycyBhbmQgZ3V0dGVyIG1hcmtzIHRvIGNvbXBlbnNhdGUgZm9yDQovLyBob3Jpem9udGFsIHNjcm9sbGluZy4NCiAgICBmdW5jdGlvbiBhbGlnbkhvcml6b250YWxseShjbSkgew0KICAgICAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIHZpZXcgPSBkaXNwbGF5LnZpZXcNCiAgICAgICAgaWYgKCFkaXNwbGF5LmFsaWduV2lkZ2V0cyAmJiAoIWRpc3BsYXkuZ3V0dGVycy5maXJzdENoaWxkIHx8ICFjbS5vcHRpb25zLmZpeGVkR3V0dGVyKSkgeyByZXR1cm4gfQ0KICAgICAgICB2YXIgY29tcCA9IGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGRpc3BsYXkpIC0gZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ICsgY20uZG9jLnNjcm9sbExlZnQNCiAgICAgICAgdmFyIGd1dHRlclcgPSBkaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGgsIGxlZnQgPSBjb21wICsgInB4Ig0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHsgaWYgKCF2aWV3W2ldLmhpZGRlbikgew0KICAgICAgICAgICAgaWYgKGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIpIHsNCiAgICAgICAgICAgICAgICBpZiAodmlld1tpXS5ndXR0ZXIpDQogICAgICAgICAgICAgICAgeyB2aWV3W2ldLmd1dHRlci5zdHlsZS5sZWZ0ID0gbGVmdCB9DQogICAgICAgICAgICAgICAgaWYgKHZpZXdbaV0uZ3V0dGVyQmFja2dyb3VuZCkNCiAgICAgICAgICAgICAgICB7IHZpZXdbaV0uZ3V0dGVyQmFja2dyb3VuZC5zdHlsZS5sZWZ0ID0gbGVmdCB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgYWxpZ24gPSB2aWV3W2ldLmFsaWduYWJsZQ0KICAgICAgICAgICAgaWYgKGFsaWduKSB7IGZvciAodmFyIGogPSAwOyBqIDwgYWxpZ24ubGVuZ3RoOyBqKyspDQogICAgICAgICAgICB7IGFsaWduW2pdLnN0eWxlLmxlZnQgPSBsZWZ0IH0gfQ0KICAgICAgICB9IH0NCiAgICAgICAgaWYgKGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIpDQogICAgICAgIHsgZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmxlZnQgPSAoY29tcCArIGd1dHRlclcpICsgInB4IiB9DQogICAgfQ0KDQovLyBVc2VkIHRvIGVuc3VyZSB0aGF0IHRoZSBsaW5lIG51bWJlciBndXR0ZXIgaXMgc3RpbGwgdGhlIHJpZ2h0DQovLyBzaXplIGZvciB0aGUgY3VycmVudCBkb2N1bWVudCBzaXplLiBSZXR1cm5zIHRydWUgd2hlbiBhbiB1cGRhdGUNCi8vIGlzIG5lZWRlZC4NCiAgICBmdW5jdGlvbiBtYXliZVVwZGF0ZUxpbmVOdW1iZXJXaWR0aChjbSkgew0KICAgICAgICBpZiAoIWNtLm9wdGlvbnMubGluZU51bWJlcnMpIHsgcmV0dXJuIGZhbHNlIH0NCiAgICAgICAgdmFyIGRvYyA9IGNtLmRvYywgbGFzdCA9IGxpbmVOdW1iZXJGb3IoY20ub3B0aW9ucywgZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxKSwgZGlzcGxheSA9IGNtLmRpc3BsYXkNCiAgICAgICAgaWYgKGxhc3QubGVuZ3RoICE9IGRpc3BsYXkubGluZU51bUNoYXJzKSB7DQogICAgICAgICAgICB2YXIgdGVzdCA9IGRpc3BsYXkubWVhc3VyZS5hcHBlbmRDaGlsZChlbHQoImRpdiIsIFtlbHQoImRpdiIsIGxhc3QpXSwNCiAgICAgICAgICAgICAgICAiQ29kZU1pcnJvci1saW5lbnVtYmVyIENvZGVNaXJyb3ItZ3V0dGVyLWVsdCIpKQ0KICAgICAgICAgICAgdmFyIGlubmVyVyA9IHRlc3QuZmlyc3RDaGlsZC5vZmZzZXRXaWR0aCwgcGFkZGluZyA9IHRlc3Qub2Zmc2V0V2lkdGggLSBpbm5lclcNCiAgICAgICAgICAgIGRpc3BsYXkubGluZUd1dHRlci5zdHlsZS53aWR0aCA9ICIiDQogICAgICAgICAgICBkaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoID0gTWF0aC5tYXgoaW5uZXJXLCBkaXNwbGF5LmxpbmVHdXR0ZXIub2Zmc2V0V2lkdGggLSBwYWRkaW5nKSArIDENCiAgICAgICAgICAgIGRpc3BsYXkubGluZU51bVdpZHRoID0gZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCArIHBhZGRpbmcNCiAgICAgICAgICAgIGRpc3BsYXkubGluZU51bUNoYXJzID0gZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCA/IGxhc3QubGVuZ3RoIDogLTENCiAgICAgICAgICAgIGRpc3BsYXkubGluZUd1dHRlci5zdHlsZS53aWR0aCA9IGRpc3BsYXkubGluZU51bVdpZHRoICsgInB4Ig0KICAgICAgICAgICAgdXBkYXRlR3V0dGVyU3BhY2UoY20pDQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIH0NCg0KLy8gUmVhZCB0aGUgYWN0dWFsIGhlaWdodHMgb2YgdGhlIHJlbmRlcmVkIGxpbmVzLCBhbmQgdXBkYXRlIHRoZWlyDQovLyBzdG9yZWQgaGVpZ2h0cyB0byBtYXRjaC4NCiAgICBmdW5jdGlvbiB1cGRhdGVIZWlnaHRzSW5WaWV3cG9ydChjbSkgew0KICAgICAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXkNCiAgICAgICAgdmFyIHByZXZCb3R0b20gPSBkaXNwbGF5LmxpbmVEaXYub2Zmc2V0VG9wDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzcGxheS52aWV3Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgY3VyID0gZGlzcGxheS52aWV3W2ldLCBoZWlnaHQgPSB2b2lkIDANCiAgICAgICAgICAgIGlmIChjdXIuaGlkZGVuKSB7IGNvbnRpbnVlIH0NCiAgICAgICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOCkgew0KICAgICAgICAgICAgICAgIHZhciBib3QgPSBjdXIubm9kZS5vZmZzZXRUb3AgKyBjdXIubm9kZS5vZmZzZXRIZWlnaHQNCiAgICAgICAgICAgICAgICBoZWlnaHQgPSBib3QgLSBwcmV2Qm90dG9tDQogICAgICAgICAgICAgICAgcHJldkJvdHRvbSA9IGJvdA0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB2YXIgYm94ID0gY3VyLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkNCiAgICAgICAgICAgICAgICBoZWlnaHQgPSBib3guYm90dG9tIC0gYm94LnRvcA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGRpZmYgPSBjdXIubGluZS5oZWlnaHQgLSBoZWlnaHQNCiAgICAgICAgICAgIGlmIChoZWlnaHQgPCAyKSB7IGhlaWdodCA9IHRleHRIZWlnaHQoZGlzcGxheSkgfQ0KICAgICAgICAgICAgaWYgKGRpZmYgPiAuMDAxIHx8IGRpZmYgPCAtLjAwMSkgew0KICAgICAgICAgICAgICAgIHVwZGF0ZUxpbmVIZWlnaHQoY3VyLmxpbmUsIGhlaWdodCkNCiAgICAgICAgICAgICAgICB1cGRhdGVXaWRnZXRIZWlnaHQoY3VyLmxpbmUpDQogICAgICAgICAgICAgICAgaWYgKGN1ci5yZXN0KSB7IGZvciAodmFyIGogPSAwOyBqIDwgY3VyLnJlc3QubGVuZ3RoOyBqKyspDQogICAgICAgICAgICAgICAgeyB1cGRhdGVXaWRnZXRIZWlnaHQoY3VyLnJlc3Rbal0pIH0gfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQovLyBSZWFkIGFuZCBzdG9yZSB0aGUgaGVpZ2h0IG9mIGxpbmUgd2lkZ2V0cyBhc3NvY2lhdGVkIHdpdGggdGhlDQovLyBnaXZlbiBsaW5lLg0KICAgIGZ1bmN0aW9uIHVwZGF0ZVdpZGdldEhlaWdodChsaW5lKSB7DQogICAgICAgIGlmIChsaW5lLndpZGdldHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLndpZGdldHMubGVuZ3RoOyArK2kpDQogICAgICAgIHsgbGluZS53aWRnZXRzW2ldLmhlaWdodCA9IGxpbmUud2lkZ2V0c1tpXS5ub2RlLnBhcmVudE5vZGUub2Zmc2V0SGVpZ2h0IH0gfQ0KICAgIH0NCg0KLy8gQ29tcHV0ZSB0aGUgbGluZXMgdGhhdCBhcmUgdmlzaWJsZSBpbiBhIGdpdmVuIHZpZXdwb3J0IChkZWZhdWx0cw0KLy8gdGhlIHRoZSBjdXJyZW50IHNjcm9sbCBwb3NpdGlvbikuIHZpZXdwb3J0IG1heSBjb250YWluIHRvcCwNCi8vIGhlaWdodCwgYW5kIGVuc3VyZSAoc2VlIG9wLnNjcm9sbFRvUG9zKSBwcm9wZXJ0aWVzLg0KICAgIGZ1bmN0aW9uIHZpc2libGVMaW5lcyhkaXNwbGF5LCBkb2MsIHZpZXdwb3J0KSB7DQogICAgICAgIHZhciB0b3AgPSB2aWV3cG9ydCAmJiB2aWV3cG9ydC50b3AgIT0gbnVsbCA/IE1hdGgubWF4KDAsIHZpZXdwb3J0LnRvcCkgOiBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcA0KICAgICAgICB0b3AgPSBNYXRoLmZsb29yKHRvcCAtIHBhZGRpbmdUb3AoZGlzcGxheSkpDQogICAgICAgIHZhciBib3R0b20gPSB2aWV3cG9ydCAmJiB2aWV3cG9ydC5ib3R0b20gIT0gbnVsbCA/IHZpZXdwb3J0LmJvdHRvbSA6IHRvcCArIGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQNCg0KICAgICAgICB2YXIgZnJvbSA9IGxpbmVBdEhlaWdodChkb2MsIHRvcCksIHRvID0gbGluZUF0SGVpZ2h0KGRvYywgYm90dG9tKQ0KICAgICAgICAvLyBFbnN1cmUgaXMgYSB7ZnJvbToge2xpbmUsIGNofSwgdG86IHtsaW5lLCBjaH19IG9iamVjdCwgYW5kDQogICAgICAgIC8vIGZvcmNlcyB0aG9zZSBsaW5lcyBpbnRvIHRoZSB2aWV3cG9ydCAoaWYgcG9zc2libGUpLg0KICAgICAgICBpZiAodmlld3BvcnQgJiYgdmlld3BvcnQuZW5zdXJlKSB7DQogICAgICAgICAgICB2YXIgZW5zdXJlRnJvbSA9IHZpZXdwb3J0LmVuc3VyZS5mcm9tLmxpbmUsIGVuc3VyZVRvID0gdmlld3BvcnQuZW5zdXJlLnRvLmxpbmUNCiAgICAgICAgICAgIGlmIChlbnN1cmVGcm9tIDwgZnJvbSkgew0KICAgICAgICAgICAgICAgIGZyb20gPSBlbnN1cmVGcm9tDQogICAgICAgICAgICAgICAgdG8gPSBsaW5lQXRIZWlnaHQoZG9jLCBoZWlnaHRBdExpbmUoZ2V0TGluZShkb2MsIGVuc3VyZUZyb20pKSArIGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQpDQogICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGgubWluKGVuc3VyZVRvLCBkb2MubGFzdExpbmUoKSkgPj0gdG8pIHsNCiAgICAgICAgICAgICAgICBmcm9tID0gbGluZUF0SGVpZ2h0KGRvYywgaGVpZ2h0QXRMaW5lKGdldExpbmUoZG9jLCBlbnN1cmVUbykpIC0gZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCkNCiAgICAgICAgICAgICAgICB0byA9IGVuc3VyZVRvDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHtmcm9tOiBmcm9tLCB0bzogTWF0aC5tYXgodG8sIGZyb20gKyAxKX0NCiAgICB9DQoNCi8vIFN5bmMgdGhlIHNjcm9sbGFibGUgYXJlYSBhbmQgc2Nyb2xsYmFycywgZW5zdXJlIHRoZSB2aWV3cG9ydA0KLy8gY292ZXJzIHRoZSB2aXNpYmxlIGFyZWEuDQogICAgZnVuY3Rpb24gc2V0U2Nyb2xsVG9wKGNtLCB2YWwpIHsNCiAgICAgICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxUb3AgLSB2YWwpIDwgMikgeyByZXR1cm4gfQ0KICAgICAgICBjbS5kb2Muc2Nyb2xsVG9wID0gdmFsDQogICAgICAgIGlmICghZ2Vja28pIHsgdXBkYXRlRGlzcGxheVNpbXBsZShjbSwge3RvcDogdmFsfSkgfQ0KICAgICAgICBpZiAoY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AgIT0gdmFsKSB7IGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wID0gdmFsIH0NCiAgICAgICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcCh2YWwpDQogICAgICAgIGlmIChnZWNrbykgeyB1cGRhdGVEaXNwbGF5U2ltcGxlKGNtKSB9DQogICAgICAgIHN0YXJ0V29ya2VyKGNtLCAxMDApDQogICAgfQ0KLy8gU3luYyBzY3JvbGxlciBhbmQgc2Nyb2xsYmFyLCBlbnN1cmUgdGhlIGd1dHRlciBlbGVtZW50cyBhcmUNCi8vIGFsaWduZWQuDQogICAgZnVuY3Rpb24gc2V0U2Nyb2xsTGVmdChjbSwgdmFsLCBpc1Njcm9sbGVyKSB7DQogICAgICAgIGlmIChpc1Njcm9sbGVyID8gdmFsID09IGNtLmRvYy5zY3JvbGxMZWZ0IDogTWF0aC5hYnMoY20uZG9jLnNjcm9sbExlZnQgLSB2YWwpIDwgMikgeyByZXR1cm4gfQ0KICAgICAgICB2YWwgPSBNYXRoLm1pbih2YWwsIGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsV2lkdGggLSBjbS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoKQ0KICAgICAgICBjbS5kb2Muc2Nyb2xsTGVmdCA9IHZhbA0KICAgICAgICBhbGlnbkhvcml6b250YWxseShjbSkNCiAgICAgICAgaWYgKGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCAhPSB2YWwpIHsgY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ID0gdmFsIH0NCiAgICAgICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbExlZnQodmFsKQ0KICAgIH0NCg0KLy8gU2luY2UgdGhlIGRlbHRhIHZhbHVlcyByZXBvcnRlZCBvbiBtb3VzZSB3aGVlbCBldmVudHMgYXJlDQovLyB1bnN0YW5kYXJkaXplZCBiZXR3ZWVuIGJyb3dzZXJzIGFuZCBldmVuIGJyb3dzZXIgdmVyc2lvbnMsIGFuZA0KLy8gZ2VuZXJhbGx5IGhvcnJpYmx5IHVucHJlZGljdGFibGUsIHRoaXMgY29kZSBzdGFydHMgYnkgbWVhc3VyaW5nDQovLyB0aGUgc2Nyb2xsIGVmZmVjdCB0aGF0IHRoZSBmaXJzdCBmZXcgbW91c2Ugd2hlZWwgZXZlbnRzIGhhdmUsDQovLyBhbmQsIGZyb20gdGhhdCwgZGV0ZWN0cyB0aGUgd2F5IGl0IGNhbiBjb252ZXJ0IGRlbHRhcyB0byBwaXhlbA0KLy8gb2Zmc2V0cyBhZnRlcndhcmRzLg0KLy8NCi8vIFRoZSByZWFzb24gd2Ugd2FudCB0byBrbm93IHRoZSBhbW91bnQgYSB3aGVlbCBldmVudCB3aWxsIHNjcm9sbA0KLy8gaXMgdGhhdCBpdCBnaXZlcyB1cyBhIGNoYW5jZSB0byB1cGRhdGUgdGhlIGRpc3BsYXkgYmVmb3JlIHRoZQ0KLy8gYWN0dWFsIHNjcm9sbGluZyBoYXBwZW5zLCByZWR1Y2luZyBmbGlja2VyaW5nLg0KDQogICAgdmFyIHdoZWVsU2FtcGxlcyA9IDA7DQogICAgdmFyIHdoZWVsUGl4ZWxzUGVyVW5pdCA9IG51bGwNCi8vIEZpbGwgaW4gYSBicm93c2VyLWRldGVjdGVkIHN0YXJ0aW5nIHZhbHVlIG9uIGJyb3dzZXJzIHdoZXJlIHdlDQovLyBrbm93IG9uZS4gVGhlc2UgZG9uJ3QgaGF2ZSB0byBiZSBhY2N1cmF0ZSAtLSB0aGUgcmVzdWx0IG9mIHRoZW0NCi8vIGJlaW5nIHdyb25nIHdvdWxkIGp1c3QgYmUgYSBzbGlnaHQgZmxpY2tlciBvbiB0aGUgZmlyc3Qgd2hlZWwNCi8vIHNjcm9sbCAoaWYgaXQgaXMgbGFyZ2UgZW5vdWdoKS4NCiAgICBpZiAoaWUpIHsgd2hlZWxQaXhlbHNQZXJVbml0ID0gLS41MyB9DQogICAgZWxzZSBpZiAoZ2Vja28pIHsgd2hlZWxQaXhlbHNQZXJVbml0ID0gMTUgfQ0KICAgIGVsc2UgaWYgKGNocm9tZSkgeyB3aGVlbFBpeGVsc1BlclVuaXQgPSAtLjcgfQ0KICAgIGVsc2UgaWYgKHNhZmFyaSkgeyB3aGVlbFBpeGVsc1BlclVuaXQgPSAtMS8zIH0NCg0KICAgIGZ1bmN0aW9uIHdoZWVsRXZlbnREZWx0YShlKSB7DQogICAgICAgIHZhciBkeCA9IGUud2hlZWxEZWx0YVgsIGR5ID0gZS53aGVlbERlbHRhWQ0KICAgICAgICBpZiAoZHggPT0gbnVsbCAmJiBlLmRldGFpbCAmJiBlLmF4aXMgPT0gZS5IT1JJWk9OVEFMX0FYSVMpIHsgZHggPSBlLmRldGFpbCB9DQogICAgICAgIGlmIChkeSA9PSBudWxsICYmIGUuZGV0YWlsICYmIGUuYXhpcyA9PSBlLlZFUlRJQ0FMX0FYSVMpIHsgZHkgPSBlLmRldGFpbCB9DQogICAgICAgIGVsc2UgaWYgKGR5ID09IG51bGwpIHsgZHkgPSBlLndoZWVsRGVsdGEgfQ0KICAgICAgICByZXR1cm4ge3g6IGR4LCB5OiBkeX0NCiAgICB9DQogICAgZnVuY3Rpb24gd2hlZWxFdmVudFBpeGVscyhlKSB7DQogICAgICAgIHZhciBkZWx0YSA9IHdoZWVsRXZlbnREZWx0YShlKQ0KICAgICAgICBkZWx0YS54ICo9IHdoZWVsUGl4ZWxzUGVyVW5pdA0KICAgICAgICBkZWx0YS55ICo9IHdoZWVsUGl4ZWxzUGVyVW5pdA0KICAgICAgICByZXR1cm4gZGVsdGENCiAgICB9DQoNCiAgICBmdW5jdGlvbiBvblNjcm9sbFdoZWVsKGNtLCBlKSB7DQogICAgICAgIHZhciBkZWx0YSA9IHdoZWVsRXZlbnREZWx0YShlKSwgZHggPSBkZWx0YS54LCBkeSA9IGRlbHRhLnkNCg0KICAgICAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIHNjcm9sbCA9IGRpc3BsYXkuc2Nyb2xsZXINCiAgICAgICAgLy8gUXVpdCBpZiB0aGVyZSdzIG5vdGhpbmcgdG8gc2Nyb2xsIGhlcmUNCiAgICAgICAgdmFyIGNhblNjcm9sbFggPSBzY3JvbGwuc2Nyb2xsV2lkdGggPiBzY3JvbGwuY2xpZW50V2lkdGgNCiAgICAgICAgdmFyIGNhblNjcm9sbFkgPSBzY3JvbGwuc2Nyb2xsSGVpZ2h0ID4gc2Nyb2xsLmNsaWVudEhlaWdodA0KICAgICAgICBpZiAoIShkeCAmJiBjYW5TY3JvbGxYIHx8IGR5ICYmIGNhblNjcm9sbFkpKSB7IHJldHVybiB9DQoNCiAgICAgICAgLy8gV2Via2l0IGJyb3dzZXJzIG9uIE9TIFggYWJvcnQgbW9tZW50dW0gc2Nyb2xscyB3aGVuIHRoZSB0YXJnZXQNCiAgICAgICAgLy8gb2YgdGhlIHNjcm9sbCBldmVudCBpcyByZW1vdmVkIGZyb20gdGhlIHNjcm9sbGFibGUgZWxlbWVudC4NCiAgICAgICAgLy8gVGhpcyBoYWNrIChzZWUgcmVsYXRlZCBjb2RlIGluIHBhdGNoRGlzcGxheSkgbWFrZXMgc3VyZSB0aGUNCiAgICAgICAgLy8gZWxlbWVudCBpcyBrZXB0IGFyb3VuZC4NCiAgICAgICAgaWYgKGR5ICYmIG1hYyAmJiB3ZWJraXQpIHsNCiAgICAgICAgICAgIG91dGVyOiBmb3IgKHZhciBjdXIgPSBlLnRhcmdldCwgdmlldyA9IGRpc3BsYXkudmlldzsgY3VyICE9IHNjcm9sbDsgY3VyID0gY3VyLnBhcmVudE5vZGUpIHsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHZpZXdbaV0ubm9kZSA9PSBjdXIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkuY3VycmVudFdoZWVsVGFyZ2V0ID0gY3VyDQogICAgICAgICAgICAgICAgICAgICAgICBicmVhayBvdXRlcg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gT24gc29tZSBicm93c2VycywgaG9yaXpvbnRhbCBzY3JvbGxpbmcgd2lsbCBjYXVzZSByZWRyYXdzIHRvDQogICAgICAgIC8vIGhhcHBlbiBiZWZvcmUgdGhlIGd1dHRlciBoYXMgYmVlbiByZWFsaWduZWQsIGNhdXNpbmcgaXQgdG8NCiAgICAgICAgLy8gd3JpZ2dsZSBhcm91bmQgaW4gYSBtb3N0IHVuc2VlbWx5IHdheS4gV2hlbiB3ZSBoYXZlIGFuDQogICAgICAgIC8vIGVzdGltYXRlZCBwaXhlbHMvZGVsdGEgdmFsdWUsIHdlIGp1c3QgaGFuZGxlIGhvcml6b250YWwNCiAgICAgICAgLy8gc2Nyb2xsaW5nIGVudGlyZWx5IGhlcmUuIEl0J2xsIGJlIHNsaWdodGx5IG9mZiBmcm9tIG5hdGl2ZSwgYnV0DQogICAgICAgIC8vIGJldHRlciB0aGFuIGdsaXRjaGluZyBvdXQuDQogICAgICAgIGlmIChkeCAmJiAhZ2Vja28gJiYgIXByZXN0byAmJiB3aGVlbFBpeGVsc1BlclVuaXQgIT0gbnVsbCkgew0KICAgICAgICAgICAgaWYgKGR5ICYmIGNhblNjcm9sbFkpDQogICAgICAgICAgICB7IHNldFNjcm9sbFRvcChjbSwgTWF0aC5tYXgoMCwgTWF0aC5taW4oc2Nyb2xsLnNjcm9sbFRvcCArIGR5ICogd2hlZWxQaXhlbHNQZXJVbml0LCBzY3JvbGwuc2Nyb2xsSGVpZ2h0IC0gc2Nyb2xsLmNsaWVudEhlaWdodCkpKSB9DQogICAgICAgICAgICBzZXRTY3JvbGxMZWZ0KGNtLCBNYXRoLm1heCgwLCBNYXRoLm1pbihzY3JvbGwuc2Nyb2xsTGVmdCArIGR4ICogd2hlZWxQaXhlbHNQZXJVbml0LCBzY3JvbGwuc2Nyb2xsV2lkdGggLSBzY3JvbGwuY2xpZW50V2lkdGgpKSkNCiAgICAgICAgICAgIC8vIE9ubHkgcHJldmVudCBkZWZhdWx0IHNjcm9sbGluZyBpZiB2ZXJ0aWNhbCBzY3JvbGxpbmcgaXMNCiAgICAgICAgICAgIC8vIGFjdHVhbGx5IHBvc3NpYmxlLiBPdGhlcndpc2UsIGl0IGNhdXNlcyB2ZXJ0aWNhbCBzY3JvbGwNCiAgICAgICAgICAgIC8vIGppdHRlciBvbiBPU1ggdHJhY2twYWRzIHdoZW4gZGVsdGFYIGlzIHNtYWxsIGFuZCBkZWx0YVkNCiAgICAgICAgICAgIC8vIGlzIGxhcmdlIChpc3N1ZSAjMzU3OSkNCiAgICAgICAgICAgIGlmICghZHkgfHwgKGR5ICYmIGNhblNjcm9sbFkpKQ0KICAgICAgICAgICAgeyBlX3ByZXZlbnREZWZhdWx0KGUpIH0NCiAgICAgICAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBudWxsIC8vIEFib3J0IG1lYXN1cmVtZW50LCBpZiBpbiBwcm9ncmVzcw0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCg0KICAgICAgICAvLyAnUHJvamVjdCcgdGhlIHZpc2libGUgdmlld3BvcnQgdG8gY292ZXIgdGhlIGFyZWEgdGhhdCBpcyBiZWluZw0KICAgICAgICAvLyBzY3JvbGxlZCBpbnRvIHZpZXcgKGlmIHdlIGtub3cgZW5vdWdoIHRvIGVzdGltYXRlIGl0KS4NCiAgICAgICAgaWYgKGR5ICYmIHdoZWVsUGl4ZWxzUGVyVW5pdCAhPSBudWxsKSB7DQogICAgICAgICAgICB2YXIgcGl4ZWxzID0gZHkgKiB3aGVlbFBpeGVsc1BlclVuaXQNCiAgICAgICAgICAgIHZhciB0b3AgPSBjbS5kb2Muc2Nyb2xsVG9wLCBib3QgPSB0b3AgKyBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0DQogICAgICAgICAgICBpZiAocGl4ZWxzIDwgMCkgeyB0b3AgPSBNYXRoLm1heCgwLCB0b3AgKyBwaXhlbHMgLSA1MCkgfQ0KICAgICAgICAgICAgZWxzZSB7IGJvdCA9IE1hdGgubWluKGNtLmRvYy5oZWlnaHQsIGJvdCArIHBpeGVscyArIDUwKSB9DQogICAgICAgICAgICB1cGRhdGVEaXNwbGF5U2ltcGxlKGNtLCB7dG9wOiB0b3AsIGJvdHRvbTogYm90fSkNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICh3aGVlbFNhbXBsZXMgPCAyMCkgew0KICAgICAgICAgICAgaWYgKGRpc3BsYXkud2hlZWxTdGFydFggPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBzY3JvbGwuc2Nyb2xsTGVmdDsgZGlzcGxheS53aGVlbFN0YXJ0WSA9IHNjcm9sbC5zY3JvbGxUb3ANCiAgICAgICAgICAgICAgICBkaXNwbGF5LndoZWVsRFggPSBkeDsgZGlzcGxheS53aGVlbERZID0gZHkNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkud2hlZWxTdGFydFggPT0gbnVsbCkgeyByZXR1cm4gfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgbW92ZWRYID0gc2Nyb2xsLnNjcm9sbExlZnQgLSBkaXNwbGF5LndoZWVsU3RhcnRYDQogICAgICAgICAgICAgICAgICAgIHZhciBtb3ZlZFkgPSBzY3JvbGwuc2Nyb2xsVG9wIC0gZGlzcGxheS53aGVlbFN0YXJ0WQ0KICAgICAgICAgICAgICAgICAgICB2YXIgc2FtcGxlID0gKG1vdmVkWSAmJiBkaXNwbGF5LndoZWVsRFkgJiYgbW92ZWRZIC8gZGlzcGxheS53aGVlbERZKSB8fA0KICAgICAgICAgICAgICAgICAgICAgICAgKG1vdmVkWCAmJiBkaXNwbGF5LndoZWVsRFggJiYgbW92ZWRYIC8gZGlzcGxheS53aGVlbERYKQ0KICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LndoZWVsU3RhcnRYID0gZGlzcGxheS53aGVlbFN0YXJ0WSA9IG51bGwNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFzYW1wbGUpIHsgcmV0dXJuIH0NCiAgICAgICAgICAgICAgICAgICAgd2hlZWxQaXhlbHNQZXJVbml0ID0gKHdoZWVsUGl4ZWxzUGVyVW5pdCAqIHdoZWVsU2FtcGxlcyArIHNhbXBsZSkgLyAod2hlZWxTYW1wbGVzICsgMSkNCiAgICAgICAgICAgICAgICAgICAgKyt3aGVlbFNhbXBsZXMNCiAgICAgICAgICAgICAgICB9LCAyMDApDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGRpc3BsYXkud2hlZWxEWCArPSBkeDsgZGlzcGxheS53aGVlbERZICs9IGR5DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCi8vIFNDUk9MTEJBUlMNCg0KLy8gUHJlcGFyZSBET00gcmVhZHMgbmVlZGVkIHRvIHVwZGF0ZSB0aGUgc2Nyb2xsYmFycy4gRG9uZSBpbiBvbmUNCi8vIHNob3QgdG8gbWluaW1pemUgdXBkYXRlL21lYXN1cmUgcm91bmR0cmlwcy4NCiAgICBmdW5jdGlvbiBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSkgew0KICAgICAgICB2YXIgZCA9IGNtLmRpc3BsYXksIGd1dHRlclcgPSBkLmd1dHRlcnMub2Zmc2V0V2lkdGgNCiAgICAgICAgdmFyIGRvY0ggPSBNYXRoLnJvdW5kKGNtLmRvYy5oZWlnaHQgKyBwYWRkaW5nVmVydChjbS5kaXNwbGF5KSkNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGNsaWVudEhlaWdodDogZC5zY3JvbGxlci5jbGllbnRIZWlnaHQsDQogICAgICAgICAgICB2aWV3SGVpZ2h0OiBkLndyYXBwZXIuY2xpZW50SGVpZ2h0LA0KICAgICAgICAgICAgc2Nyb2xsV2lkdGg6IGQuc2Nyb2xsZXIuc2Nyb2xsV2lkdGgsIGNsaWVudFdpZHRoOiBkLnNjcm9sbGVyLmNsaWVudFdpZHRoLA0KICAgICAgICAgICAgdmlld1dpZHRoOiBkLndyYXBwZXIuY2xpZW50V2lkdGgsDQogICAgICAgICAgICBiYXJMZWZ0OiBjbS5vcHRpb25zLmZpeGVkR3V0dGVyID8gZ3V0dGVyVyA6IDAsDQogICAgICAgICAgICBkb2NIZWlnaHQ6IGRvY0gsDQogICAgICAgICAgICBzY3JvbGxIZWlnaHQ6IGRvY0ggKyBzY3JvbGxHYXAoY20pICsgZC5iYXJIZWlnaHQsDQogICAgICAgICAgICBuYXRpdmVCYXJXaWR0aDogZC5uYXRpdmVCYXJXaWR0aCwNCiAgICAgICAgICAgIGd1dHRlcldpZHRoOiBndXR0ZXJXDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBOYXRpdmVTY3JvbGxiYXJzKHBsYWNlLCBzY3JvbGwsIGNtKSB7DQogICAgICAgIHRoaXMuY20gPSBjbQ0KICAgICAgICB2YXIgdmVydCA9IHRoaXMudmVydCA9IGVsdCgiZGl2IiwgW2VsdCgiZGl2IiwgbnVsbCwgbnVsbCwgIm1pbi13aWR0aDogMXB4IildLCAiQ29kZU1pcnJvci12c2Nyb2xsYmFyIikNCiAgICAgICAgdmFyIGhvcml6ID0gdGhpcy5ob3JpeiA9IGVsdCgiZGl2IiwgW2VsdCgiZGl2IiwgbnVsbCwgbnVsbCwgImhlaWdodDogMTAwJTsgbWluLWhlaWdodDogMXB4IildLCAiQ29kZU1pcnJvci1oc2Nyb2xsYmFyIikNCiAgICAgICAgcGxhY2UodmVydCk7IHBsYWNlKGhvcml6KQ0KDQogICAgICAgIG9uKHZlcnQsICJzY3JvbGwiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpZiAodmVydC5jbGllbnRIZWlnaHQpIHsgc2Nyb2xsKHZlcnQuc2Nyb2xsVG9wLCAidmVydGljYWwiKSB9DQogICAgICAgIH0pDQogICAgICAgIG9uKGhvcml6LCAic2Nyb2xsIiwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKGhvcml6LmNsaWVudFdpZHRoKSB7IHNjcm9sbChob3Jpei5zY3JvbGxMZWZ0LCAiaG9yaXpvbnRhbCIpIH0NCiAgICAgICAgfSkNCg0KICAgICAgICB0aGlzLmNoZWNrZWRaZXJvV2lkdGggPSBmYWxzZQ0KICAgICAgICAvLyBOZWVkIHRvIHNldCBhIG1pbmltdW0gd2lkdGggdG8gc2VlIHRoZSBzY3JvbGxiYXIgb24gSUU3IChidXQgbXVzdCBub3Qgc2V0IGl0IG9uIElFOCkuDQogICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOCkgeyB0aGlzLmhvcml6LnN0eWxlLm1pbkhlaWdodCA9IHRoaXMudmVydC5zdHlsZS5taW5XaWR0aCA9ICIxOHB4IiB9DQogICAgfQ0KDQogICAgTmF0aXZlU2Nyb2xsYmFycy5wcm90b3R5cGUgPSBjb3B5T2JqKHsNCiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihtZWFzdXJlKSB7DQogICAgICAgICAgICB2YXIgbmVlZHNIID0gbWVhc3VyZS5zY3JvbGxXaWR0aCA+IG1lYXN1cmUuY2xpZW50V2lkdGggKyAxDQogICAgICAgICAgICB2YXIgbmVlZHNWID0gbWVhc3VyZS5zY3JvbGxIZWlnaHQgPiBtZWFzdXJlLmNsaWVudEhlaWdodCArIDENCiAgICAgICAgICAgIHZhciBzV2lkdGggPSBtZWFzdXJlLm5hdGl2ZUJhcldpZHRoDQoNCiAgICAgICAgICAgIGlmIChuZWVkc1YpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnZlcnQuc3R5bGUuZGlzcGxheSA9ICJibG9jayINCiAgICAgICAgICAgICAgICB0aGlzLnZlcnQuc3R5bGUuYm90dG9tID0gbmVlZHNIID8gc1dpZHRoICsgInB4IiA6ICIwIg0KICAgICAgICAgICAgICAgIHZhciB0b3RhbEhlaWdodCA9IG1lYXN1cmUudmlld0hlaWdodCAtIChuZWVkc0ggPyBzV2lkdGggOiAwKQ0KICAgICAgICAgICAgICAgIC8vIEEgYnVnIGluIElFOCBjYW4gY2F1c2UgdGhpcyB2YWx1ZSB0byBiZSBuZWdhdGl2ZSwgc28gZ3VhcmQgaXQuDQogICAgICAgICAgICAgICAgdGhpcy52ZXJ0LmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0ID0NCiAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoMCwgbWVhc3VyZS5zY3JvbGxIZWlnaHQgLSBtZWFzdXJlLmNsaWVudEhlaWdodCArIHRvdGFsSGVpZ2h0KSArICJweCINCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy52ZXJ0LnN0eWxlLmRpc3BsYXkgPSAiIg0KICAgICAgICAgICAgICAgIHRoaXMudmVydC5maXJzdENoaWxkLnN0eWxlLmhlaWdodCA9ICIwIg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAobmVlZHNIKSB7DQogICAgICAgICAgICAgICAgdGhpcy5ob3Jpei5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIg0KICAgICAgICAgICAgICAgIHRoaXMuaG9yaXouc3R5bGUucmlnaHQgPSBuZWVkc1YgPyBzV2lkdGggKyAicHgiIDogIjAiDQogICAgICAgICAgICAgICAgdGhpcy5ob3Jpei5zdHlsZS5sZWZ0ID0gbWVhc3VyZS5iYXJMZWZ0ICsgInB4Ig0KICAgICAgICAgICAgICAgIHZhciB0b3RhbFdpZHRoID0gbWVhc3VyZS52aWV3V2lkdGggLSBtZWFzdXJlLmJhckxlZnQgLSAobmVlZHNWID8gc1dpZHRoIDogMCkNCiAgICAgICAgICAgICAgICB0aGlzLmhvcml6LmZpcnN0Q2hpbGQuc3R5bGUud2lkdGggPQ0KICAgICAgICAgICAgICAgICAgICAobWVhc3VyZS5zY3JvbGxXaWR0aCAtIG1lYXN1cmUuY2xpZW50V2lkdGggKyB0b3RhbFdpZHRoKSArICJweCINCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5ob3Jpei5zdHlsZS5kaXNwbGF5ID0gIiINCiAgICAgICAgICAgICAgICB0aGlzLmhvcml6LmZpcnN0Q2hpbGQuc3R5bGUud2lkdGggPSAiMCINCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrZWRaZXJvV2lkdGggJiYgbWVhc3VyZS5jbGllbnRIZWlnaHQgPiAwKSB7DQogICAgICAgICAgICAgICAgaWYgKHNXaWR0aCA9PSAwKSB7IHRoaXMuemVyb1dpZHRoSGFjaygpIH0NCiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRaZXJvV2lkdGggPSB0cnVlDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiB7cmlnaHQ6IG5lZWRzViA/IHNXaWR0aCA6IDAsIGJvdHRvbTogbmVlZHNIID8gc1dpZHRoIDogMH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0U2Nyb2xsTGVmdDogZnVuY3Rpb24ocG9zKSB7DQogICAgICAgICAgICBpZiAodGhpcy5ob3Jpei5zY3JvbGxMZWZ0ICE9IHBvcykgeyB0aGlzLmhvcml6LnNjcm9sbExlZnQgPSBwb3MgfQ0KICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZUhvcml6KSB7IHRoaXMuZW5hYmxlWmVyb1dpZHRoQmFyKHRoaXMuaG9yaXosIHRoaXMuZGlzYWJsZUhvcml6KSB9DQogICAgICAgIH0sDQogICAgICAgIHNldFNjcm9sbFRvcDogZnVuY3Rpb24ocG9zKSB7DQogICAgICAgICAgICBpZiAodGhpcy52ZXJ0LnNjcm9sbFRvcCAhPSBwb3MpIHsgdGhpcy52ZXJ0LnNjcm9sbFRvcCA9IHBvcyB9DQogICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlVmVydCkgeyB0aGlzLmVuYWJsZVplcm9XaWR0aEJhcih0aGlzLnZlcnQsIHRoaXMuZGlzYWJsZVZlcnQpIH0NCiAgICAgICAgfSwNCiAgICAgICAgemVyb1dpZHRoSGFjazogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB2YXIgdyA9IG1hYyAmJiAhbWFjX2dlTW91bnRhaW5MaW9uID8gIjEycHgiIDogIjE4cHgiDQogICAgICAgICAgICB0aGlzLmhvcml6LnN0eWxlLmhlaWdodCA9IHRoaXMudmVydC5zdHlsZS53aWR0aCA9IHcNCiAgICAgICAgICAgIHRoaXMuaG9yaXouc3R5bGUucG9pbnRlckV2ZW50cyA9IHRoaXMudmVydC5zdHlsZS5wb2ludGVyRXZlbnRzID0gIm5vbmUiDQogICAgICAgICAgICB0aGlzLmRpc2FibGVIb3JpeiA9IG5ldyBEZWxheWVkDQogICAgICAgICAgICB0aGlzLmRpc2FibGVWZXJ0ID0gbmV3IERlbGF5ZWQNCiAgICAgICAgfSwNCiAgICAgICAgZW5hYmxlWmVyb1dpZHRoQmFyOiBmdW5jdGlvbihiYXIsIGRlbGF5KSB7DQogICAgICAgICAgICBiYXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICJhdXRvIg0KICAgICAgICAgICAgZnVuY3Rpb24gbWF5YmVEaXNhYmxlKCkgew0KICAgICAgICAgICAgICAgIC8vIFRvIGZpbmQgb3V0IHdoZXRoZXIgdGhlIHNjcm9sbGJhciBpcyBzdGlsbCB2aXNpYmxlLCB3ZQ0KICAgICAgICAgICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgdGhlIGVsZW1lbnQgdW5kZXIgdGhlIHBpeGVsIGluIHRoZSBib3R0b20NCiAgICAgICAgICAgICAgICAvLyBsZWZ0IGNvcm5lciBvZiB0aGUgc2Nyb2xsYmFyIGJveCBpcyB0aGUgc2Nyb2xsYmFyIGJveA0KICAgICAgICAgICAgICAgIC8vIGl0c2VsZiAod2hlbiB0aGUgYmFyIGlzIHN0aWxsIHZpc2libGUpIG9yIGl0cyBmaWxsZXIgY2hpbGQNCiAgICAgICAgICAgICAgICAvLyAod2hlbiB0aGUgYmFyIGlzIGhpZGRlbikuIElmIGl0IGlzIHN0aWxsIHZpc2libGUsIHdlIGtlZXANCiAgICAgICAgICAgICAgICAvLyBpdCBlbmFibGVkLCBpZiBpdCdzIGhpZGRlbiwgd2UgZGlzYWJsZSBwb2ludGVyIGV2ZW50cy4NCiAgICAgICAgICAgICAgICB2YXIgYm94ID0gYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpDQogICAgICAgICAgICAgICAgdmFyIGVsdCQkMSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoYm94LmxlZnQgKyAxLCBib3guYm90dG9tIC0gMSkNCiAgICAgICAgICAgICAgICBpZiAoZWx0JCQxICE9IGJhcikgeyBiYXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICJub25lIiB9DQogICAgICAgICAgICAgICAgZWxzZSB7IGRlbGF5LnNldCgxMDAwLCBtYXliZURpc2FibGUpIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRlbGF5LnNldCgxMDAwLCBtYXliZURpc2FibGUpDQogICAgICAgIH0sDQogICAgICAgIGNsZWFyOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmhvcml6LnBhcmVudE5vZGUNCiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLmhvcml6KQ0KICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMudmVydCkNCiAgICAgICAgfQ0KICAgIH0sIE5hdGl2ZVNjcm9sbGJhcnMucHJvdG90eXBlKQ0KDQogICAgZnVuY3Rpb24gTnVsbFNjcm9sbGJhcnMoKSB7fQ0KDQogICAgTnVsbFNjcm9sbGJhcnMucHJvdG90eXBlID0gY29weU9iaih7DQogICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7IHJldHVybiB7Ym90dG9tOiAwLCByaWdodDogMH0gfSwNCiAgICAgICAgc2V0U2Nyb2xsTGVmdDogZnVuY3Rpb24oKSB7fSwNCiAgICAgICAgc2V0U2Nyb2xsVG9wOiBmdW5jdGlvbigpIHt9LA0KICAgICAgICBjbGVhcjogZnVuY3Rpb24oKSB7fQ0KICAgIH0sIE51bGxTY3JvbGxiYXJzLnByb3RvdHlwZSkNCg0KICAgIGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbGJhcnMoY20sIG1lYXN1cmUpIHsNCiAgICAgICAgaWYgKCFtZWFzdXJlKSB7IG1lYXN1cmUgPSBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSkgfQ0KICAgICAgICB2YXIgc3RhcnRXaWR0aCA9IGNtLmRpc3BsYXkuYmFyV2lkdGgsIHN0YXJ0SGVpZ2h0ID0gY20uZGlzcGxheS5iYXJIZWlnaHQNCiAgICAgICAgdXBkYXRlU2Nyb2xsYmFyc0lubmVyKGNtLCBtZWFzdXJlKQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQgJiYgc3RhcnRXaWR0aCAhPSBjbS5kaXNwbGF5LmJhcldpZHRoIHx8IHN0YXJ0SGVpZ2h0ICE9IGNtLmRpc3BsYXkuYmFySGVpZ2h0OyBpKyspIHsNCiAgICAgICAgICAgIGlmIChzdGFydFdpZHRoICE9IGNtLmRpc3BsYXkuYmFyV2lkdGggJiYgY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpDQogICAgICAgICAgICB7IHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKSB9DQogICAgICAgICAgICB1cGRhdGVTY3JvbGxiYXJzSW5uZXIoY20sIG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKSkNCiAgICAgICAgICAgIHN0YXJ0V2lkdGggPSBjbS5kaXNwbGF5LmJhcldpZHRoOyBzdGFydEhlaWdodCA9IGNtLmRpc3BsYXkuYmFySGVpZ2h0DQogICAgICAgIH0NCiAgICB9DQoNCi8vIFJlLXN5bmNocm9uaXplIHRoZSBmYWtlIHNjcm9sbGJhcnMgd2l0aCB0aGUgYWN0dWFsIHNpemUgb2YgdGhlDQovLyBjb250ZW50Lg0KICAgIGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbGJhcnNJbm5lcihjbSwgbWVhc3VyZSkgew0KICAgICAgICB2YXIgZCA9IGNtLmRpc3BsYXkNCiAgICAgICAgdmFyIHNpemVzID0gZC5zY3JvbGxiYXJzLnVwZGF0ZShtZWFzdXJlKQ0KDQogICAgICAgIGQuc2l6ZXIuc3R5bGUucGFkZGluZ1JpZ2h0ID0gKGQuYmFyV2lkdGggPSBzaXplcy5yaWdodCkgKyAicHgiDQogICAgICAgIGQuc2l6ZXIuc3R5bGUucGFkZGluZ0JvdHRvbSA9IChkLmJhckhlaWdodCA9IHNpemVzLmJvdHRvbSkgKyAicHgiDQogICAgICAgIGQuaGVpZ2h0Rm9yY2VyLnN0eWxlLmJvcmRlckJvdHRvbSA9IHNpemVzLmJvdHRvbSArICJweCBzb2xpZCB0cmFuc3BhcmVudCINCg0KICAgICAgICBpZiAoc2l6ZXMucmlnaHQgJiYgc2l6ZXMuYm90dG9tKSB7DQogICAgICAgICAgICBkLnNjcm9sbGJhckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIg0KICAgICAgICAgICAgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuaGVpZ2h0ID0gc2l6ZXMuYm90dG9tICsgInB4Ig0KICAgICAgICAgICAgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUud2lkdGggPSBzaXplcy5yaWdodCArICJweCINCiAgICAgICAgfSBlbHNlIHsgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuZGlzcGxheSA9ICIiIH0NCiAgICAgICAgaWYgKHNpemVzLmJvdHRvbSAmJiBjbS5vcHRpb25zLmNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyICYmIGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIpIHsNCiAgICAgICAgICAgIGQuZ3V0dGVyRmlsbGVyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siDQogICAgICAgICAgICBkLmd1dHRlckZpbGxlci5zdHlsZS5oZWlnaHQgPSBzaXplcy5ib3R0b20gKyAicHgiDQogICAgICAgICAgICBkLmd1dHRlckZpbGxlci5zdHlsZS53aWR0aCA9IG1lYXN1cmUuZ3V0dGVyV2lkdGggKyAicHgiDQogICAgICAgIH0gZWxzZSB7IGQuZ3V0dGVyRmlsbGVyLnN0eWxlLmRpc3BsYXkgPSAiIiB9DQogICAgfQ0KDQogICAgdmFyIHNjcm9sbGJhck1vZGVsID0geyJuYXRpdmUiOiBOYXRpdmVTY3JvbGxiYXJzLCAibnVsbCI6IE51bGxTY3JvbGxiYXJzfQ0KDQogICAgZnVuY3Rpb24gaW5pdFNjcm9sbGJhcnMoY20pIHsNCiAgICAgICAgaWYgKGNtLmRpc3BsYXkuc2Nyb2xsYmFycykgew0KICAgICAgICAgICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLmNsZWFyKCkNCiAgICAgICAgICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpDQogICAgICAgICAgICB7IHJtQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGNtLmRpc3BsYXkuc2Nyb2xsYmFycyA9IG5ldyBzY3JvbGxiYXJNb2RlbFtjbS5vcHRpb25zLnNjcm9sbGJhclN0eWxlXShmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgY20uZGlzcGxheS53cmFwcGVyLmluc2VydEJlZm9yZShub2RlLCBjbS5kaXNwbGF5LnNjcm9sbGJhckZpbGxlcikNCiAgICAgICAgICAgIC8vIFByZXZlbnQgY2xpY2tzIGluIHRoZSBzY3JvbGxiYXJzIGZyb20ga2lsbGluZyBmb2N1cw0KICAgICAgICAgICAgb24obm9kZSwgIm1vdXNlZG93biIsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBpZiAoY20uc3RhdGUuZm9jdXNlZCkgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNtLmRpc3BsYXkuaW5wdXQuZm9jdXMoKTsgfSwgMCkgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCJjbS1ub3QtY29udGVudCIsICJ0cnVlIikNCiAgICAgICAgfSwgZnVuY3Rpb24gKHBvcywgYXhpcykgew0KICAgICAgICAgICAgaWYgKGF4aXMgPT0gImhvcml6b250YWwiKSB7IHNldFNjcm9sbExlZnQoY20sIHBvcykgfQ0KICAgICAgICAgICAgZWxzZSB7IHNldFNjcm9sbFRvcChjbSwgcG9zKSB9DQogICAgICAgIH0sIGNtKQ0KICAgICAgICBpZiAoY20uZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzKQ0KICAgICAgICB7IGFkZENsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgY20uZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzKSB9DQogICAgfQ0KDQovLyBTQ1JPTExJTkcgVEhJTkdTIElOVE8gVklFVw0KDQovLyBJZiBhbiBlZGl0b3Igc2l0cyBvbiB0aGUgdG9wIG9yIGJvdHRvbSBvZiB0aGUgd2luZG93LCBwYXJ0aWFsbHkNCi8vIHNjcm9sbGVkIG91dCBvZiB2aWV3LCB0aGlzIGVuc3VyZXMgdGhhdCB0aGUgY3Vyc29yIGlzIHZpc2libGUuDQogICAgZnVuY3Rpb24gbWF5YmVTY3JvbGxXaW5kb3coY20sIGNvb3Jkcykgew0KICAgICAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sICJzY3JvbGxDdXJzb3JJbnRvVmlldyIpKSB7IHJldHVybiB9DQoNCiAgICAgICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBib3ggPSBkaXNwbGF5LnNpemVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBkb1Njcm9sbCA9IG51bGwNCiAgICAgICAgaWYgKGNvb3Jkcy50b3AgKyBib3gudG9wIDwgMCkgeyBkb1Njcm9sbCA9IHRydWUgfQ0KICAgICAgICBlbHNlIGlmIChjb29yZHMuYm90dG9tICsgYm94LnRvcCA+ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkpIHsgZG9TY3JvbGwgPSBmYWxzZSB9DQogICAgICAgIGlmIChkb1Njcm9sbCAhPSBudWxsICYmICFwaGFudG9tKSB7DQogICAgICAgICAgICB2YXIgc2Nyb2xsTm9kZSA9IGVsdCgiZGl2IiwgIlx1MjAwYiIsIG51bGwsICgicG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogIiArIChjb29yZHMudG9wIC0gZGlzcGxheS52aWV3T2Zmc2V0IC0gcGFkZGluZ1RvcChjbS5kaXNwbGF5KSkgKyAicHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAiICsgKGNvb3Jkcy5ib3R0b20gLSBjb29yZHMudG9wICsgc2Nyb2xsR2FwKGNtKSArIGRpc3BsYXkuYmFySGVpZ2h0KSArICJweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAiICsgKGNvb3Jkcy5sZWZ0KSArICJweDsgd2lkdGg6IDJweDsiKSkNCiAgICAgICAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLmFwcGVuZENoaWxkKHNjcm9sbE5vZGUpDQogICAgICAgICAgICBzY3JvbGxOb2RlLnNjcm9sbEludG9WaWV3KGRvU2Nyb2xsKQ0KICAgICAgICAgICAgY20uZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoc2Nyb2xsTm9kZSkNCiAgICAgICAgfQ0KICAgIH0NCg0KLy8gU2Nyb2xsIGEgZ2l2ZW4gcG9zaXRpb24gaW50byB2aWV3IChpbW1lZGlhdGVseSksIHZlcmlmeWluZyB0aGF0DQovLyBpdCBhY3R1YWxseSBiZWNhbWUgdmlzaWJsZSAoYXMgbGluZSBoZWlnaHRzIGFyZSBhY2N1cmF0ZWx5DQovLyBtZWFzdXJlZCwgdGhlIHBvc2l0aW9uIG9mIHNvbWV0aGluZyBtYXkgJ2RyaWZ0JyBkdXJpbmcgZHJhd2luZykuDQogICAgZnVuY3Rpb24gc2Nyb2xsUG9zSW50b1ZpZXcoY20sIHBvcywgZW5kLCBtYXJnaW4pIHsNCiAgICAgICAgaWYgKG1hcmdpbiA9PSBudWxsKSB7IG1hcmdpbiA9IDAgfQ0KICAgICAgICB2YXIgY29vcmRzDQogICAgICAgIGZvciAodmFyIGxpbWl0ID0gMDsgbGltaXQgPCA1OyBsaW1pdCsrKSB7DQogICAgICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlDQogICAgICAgICAgICBjb29yZHMgPSBjdXJzb3JDb29yZHMoY20sIHBvcykNCiAgICAgICAgICAgIHZhciBlbmRDb29yZHMgPSAhZW5kIHx8IGVuZCA9PSBwb3MgPyBjb29yZHMgOiBjdXJzb3JDb29yZHMoY20sIGVuZCkNCiAgICAgICAgICAgIHZhciBzY3JvbGxQb3MgPSBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIE1hdGgubWluKGNvb3Jkcy5sZWZ0LCBlbmRDb29yZHMubGVmdCksDQogICAgICAgICAgICAgICAgTWF0aC5taW4oY29vcmRzLnRvcCwgZW5kQ29vcmRzLnRvcCkgLSBtYXJnaW4sDQogICAgICAgICAgICAgICAgTWF0aC5tYXgoY29vcmRzLmxlZnQsIGVuZENvb3Jkcy5sZWZ0KSwNCiAgICAgICAgICAgICAgICBNYXRoLm1heChjb29yZHMuYm90dG9tLCBlbmRDb29yZHMuYm90dG9tKSArIG1hcmdpbikNCiAgICAgICAgICAgIHZhciBzdGFydFRvcCA9IGNtLmRvYy5zY3JvbGxUb3AsIHN0YXJ0TGVmdCA9IGNtLmRvYy5zY3JvbGxMZWZ0DQogICAgICAgICAgICBpZiAoc2Nyb2xsUG9zLnNjcm9sbFRvcCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgc2V0U2Nyb2xsVG9wKGNtLCBzY3JvbGxQb3Muc2Nyb2xsVG9wKQ0KICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhjbS5kb2Muc2Nyb2xsVG9wIC0gc3RhcnRUb3ApID4gMSkgeyBjaGFuZ2VkID0gdHJ1ZSB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoc2Nyb2xsUG9zLnNjcm9sbExlZnQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHNldFNjcm9sbExlZnQoY20sIHNjcm9sbFBvcy5zY3JvbGxMZWZ0KQ0KICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhjbS5kb2Muc2Nyb2xsTGVmdCAtIHN0YXJ0TGVmdCkgPiAxKSB7IGNoYW5nZWQgPSB0cnVlIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghY2hhbmdlZCkgeyBicmVhayB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGNvb3Jkcw0KICAgIH0NCg0KLy8gU2Nyb2xsIGEgZ2l2ZW4gc2V0IG9mIGNvb3JkaW5hdGVzIGludG8gdmlldyAoaW1tZWRpYXRlbHkpLg0KICAgIGZ1bmN0aW9uIHNjcm9sbEludG9WaWV3KGNtLCB4MSwgeTEsIHgyLCB5Mikgew0KICAgICAgICB2YXIgc2Nyb2xsUG9zID0gY2FsY3VsYXRlU2Nyb2xsUG9zKGNtLCB4MSwgeTEsIHgyLCB5MikNCiAgICAgICAgaWYgKHNjcm9sbFBvcy5zY3JvbGxUb3AgIT0gbnVsbCkgeyBzZXRTY3JvbGxUb3AoY20sIHNjcm9sbFBvcy5zY3JvbGxUb3ApIH0NCiAgICAgICAgaWYgKHNjcm9sbFBvcy5zY3JvbGxMZWZ0ICE9IG51bGwpIHsgc2V0U2Nyb2xsTGVmdChjbSwgc2Nyb2xsUG9zLnNjcm9sbExlZnQpIH0NCiAgICB9DQoNCi8vIENhbGN1bGF0ZSBhIG5ldyBzY3JvbGwgcG9zaXRpb24gbmVlZGVkIHRvIHNjcm9sbCB0aGUgZ2l2ZW4NCi8vIHJlY3RhbmdsZSBpbnRvIHZpZXcuIFJldHVybnMgYW4gb2JqZWN0IHdpdGggc2Nyb2xsVG9wIGFuZA0KLy8gc2Nyb2xsTGVmdCBwcm9wZXJ0aWVzLiBXaGVuIHRoZXNlIGFyZSB1bmRlZmluZWQsIHRoZQ0KLy8gdmVydGljYWwvaG9yaXpvbnRhbCBwb3NpdGlvbiBkb2VzIG5vdCBuZWVkIHRvIGJlIGFkanVzdGVkLg0KICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwgeDEsIHkxLCB4MiwgeTIpIHsNCiAgICAgICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBzbmFwTWFyZ2luID0gdGV4dEhlaWdodChjbS5kaXNwbGF5KQ0KICAgICAgICBpZiAoeTEgPCAwKSB7IHkxID0gMCB9DQogICAgICAgIHZhciBzY3JlZW50b3AgPSBjbS5jdXJPcCAmJiBjbS5jdXJPcC5zY3JvbGxUb3AgIT0gbnVsbCA/IGNtLmN1ck9wLnNjcm9sbFRvcCA6IGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wDQogICAgICAgIHZhciBzY3JlZW4gPSBkaXNwbGF5SGVpZ2h0KGNtKSwgcmVzdWx0ID0ge30NCiAgICAgICAgaWYgKHkyIC0geTEgPiBzY3JlZW4pIHsgeTIgPSB5MSArIHNjcmVlbiB9DQogICAgICAgIHZhciBkb2NCb3R0b20gPSBjbS5kb2MuaGVpZ2h0ICsgcGFkZGluZ1ZlcnQoZGlzcGxheSkNCiAgICAgICAgdmFyIGF0VG9wID0geTEgPCBzbmFwTWFyZ2luLCBhdEJvdHRvbSA9IHkyID4gZG9jQm90dG9tIC0gc25hcE1hcmdpbg0KICAgICAgICBpZiAoeTEgPCBzY3JlZW50b3ApIHsNCiAgICAgICAgICAgIHJlc3VsdC5zY3JvbGxUb3AgPSBhdFRvcCA/IDAgOiB5MQ0KICAgICAgICB9IGVsc2UgaWYgKHkyID4gc2NyZWVudG9wICsgc2NyZWVuKSB7DQogICAgICAgICAgICB2YXIgbmV3VG9wID0gTWF0aC5taW4oeTEsIChhdEJvdHRvbSA/IGRvY0JvdHRvbSA6IHkyKSAtIHNjcmVlbikNCiAgICAgICAgICAgIGlmIChuZXdUb3AgIT0gc2NyZWVudG9wKSB7IHJlc3VsdC5zY3JvbGxUb3AgPSBuZXdUb3AgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHNjcmVlbmxlZnQgPSBjbS5jdXJPcCAmJiBjbS5jdXJPcC5zY3JvbGxMZWZ0ICE9IG51bGwgPyBjbS5jdXJPcC5zY3JvbGxMZWZ0IDogZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0DQogICAgICAgIHZhciBzY3JlZW53ID0gZGlzcGxheVdpZHRoKGNtKSAtIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyID8gZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoIDogMCkNCiAgICAgICAgdmFyIHRvb1dpZGUgPSB4MiAtIHgxID4gc2NyZWVudw0KICAgICAgICBpZiAodG9vV2lkZSkgeyB4MiA9IHgxICsgc2NyZWVudyB9DQogICAgICAgIGlmICh4MSA8IDEwKQ0KICAgICAgICB7IHJlc3VsdC5zY3JvbGxMZWZ0ID0gMCB9DQogICAgICAgIGVsc2UgaWYgKHgxIDwgc2NyZWVubGVmdCkNCiAgICAgICAgeyByZXN1bHQuc2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIHgxIC0gKHRvb1dpZGUgPyAwIDogMTApKSB9DQogICAgICAgIGVsc2UgaWYgKHgyID4gc2NyZWVudyArIHNjcmVlbmxlZnQgLSAzKQ0KICAgICAgICB7IHJlc3VsdC5zY3JvbGxMZWZ0ID0geDIgKyAodG9vV2lkZSA/IDAgOiAxMCkgLSBzY3JlZW53IH0NCiAgICAgICAgcmV0dXJuIHJlc3VsdA0KICAgIH0NCg0KLy8gU3RvcmUgYSByZWxhdGl2ZSBhZGp1c3RtZW50IHRvIHRoZSBzY3JvbGwgcG9zaXRpb24gaW4gdGhlIGN1cnJlbnQNCi8vIG9wZXJhdGlvbiAodG8gYmUgYXBwbGllZCB3aGVuIHRoZSBvcGVyYXRpb24gZmluaXNoZXMpLg0KICAgIGZ1bmN0aW9uIGFkZFRvU2Nyb2xsUG9zKGNtLCBsZWZ0LCB0b3ApIHsNCiAgICAgICAgaWYgKGxlZnQgIT0gbnVsbCB8fCB0b3AgIT0gbnVsbCkgeyByZXNvbHZlU2Nyb2xsVG9Qb3MoY20pIH0NCiAgICAgICAgaWYgKGxlZnQgIT0gbnVsbCkNCiAgICAgICAgeyBjbS5jdXJPcC5zY3JvbGxMZWZ0ID0gKGNtLmN1ck9wLnNjcm9sbExlZnQgPT0gbnVsbCA/IGNtLmRvYy5zY3JvbGxMZWZ0IDogY20uY3VyT3Auc2Nyb2xsTGVmdCkgKyBsZWZ0IH0NCiAgICAgICAgaWYgKHRvcCAhPSBudWxsKQ0KICAgICAgICB7IGNtLmN1ck9wLnNjcm9sbFRvcCA9IChjbS5jdXJPcC5zY3JvbGxUb3AgPT0gbnVsbCA/IGNtLmRvYy5zY3JvbGxUb3AgOiBjbS5jdXJPcC5zY3JvbGxUb3ApICsgdG9wIH0NCiAgICB9DQoNCi8vIE1ha2Ugc3VyZSB0aGF0IGF0IHRoZSBlbmQgb2YgdGhlIG9wZXJhdGlvbiB0aGUgY3VycmVudCBjdXJzb3IgaXMNCi8vIHNob3duLg0KICAgIGZ1bmN0aW9uIGVuc3VyZUN1cnNvclZpc2libGUoY20pIHsNCiAgICAgICAgcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKQ0KICAgICAgICB2YXIgY3VyID0gY20uZ2V0Q3Vyc29yKCksIGZyb20gPSBjdXIsIHRvID0gY3VyDQogICAgICAgIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHsNCiAgICAgICAgICAgIGZyb20gPSBjdXIuY2ggPyBQb3MoY3VyLmxpbmUsIGN1ci5jaCAtIDEpIDogY3VyDQogICAgICAgICAgICB0byA9IFBvcyhjdXIubGluZSwgY3VyLmNoICsgMSkNCiAgICAgICAgfQ0KICAgICAgICBjbS5jdXJPcC5zY3JvbGxUb1BvcyA9IHtmcm9tOiBmcm9tLCB0bzogdG8sIG1hcmdpbjogY20ub3B0aW9ucy5jdXJzb3JTY3JvbGxNYXJnaW4sIGlzQ3Vyc29yOiB0cnVlfQ0KICAgIH0NCg0KLy8gV2hlbiBhbiBvcGVyYXRpb24gaGFzIGl0cyBzY3JvbGxUb1BvcyBwcm9wZXJ0eSBzZXQsIGFuZCBhbm90aGVyDQovLyBzY3JvbGwgYWN0aW9uIGlzIGFwcGxpZWQgYmVmb3JlIHRoZSBlbmQgb2YgdGhlIG9wZXJhdGlvbiwgdGhpcw0KLy8gJ3NpbXVsYXRlcycgc2Nyb2xsaW5nIHRoYXQgcG9zaXRpb24gaW50byB2aWV3IGluIGEgY2hlYXAgd2F5LCBzbw0KLy8gdGhhdCB0aGUgZWZmZWN0IG9mIGludGVybWVkaWF0ZSBzY3JvbGwgY29tbWFuZHMgaXMgbm90IGlnbm9yZWQuDQogICAgZnVuY3Rpb24gcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKSB7DQogICAgICAgIHZhciByYW5nZSQkMSA9IGNtLmN1ck9wLnNjcm9sbFRvUG9zDQogICAgICAgIGlmIChyYW5nZSQkMSkgew0KICAgICAgICAgICAgY20uY3VyT3Auc2Nyb2xsVG9Qb3MgPSBudWxsDQogICAgICAgICAgICB2YXIgZnJvbSA9IGVzdGltYXRlQ29vcmRzKGNtLCByYW5nZSQkMS5mcm9tKSwgdG8gPSBlc3RpbWF0ZUNvb3JkcyhjbSwgcmFuZ2UkJDEudG8pDQogICAgICAgICAgICB2YXIgc1BvcyA9IGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwgTWF0aC5taW4oZnJvbS5sZWZ0LCB0by5sZWZ0KSwNCiAgICAgICAgICAgICAgICBNYXRoLm1pbihmcm9tLnRvcCwgdG8udG9wKSAtIHJhbmdlJCQxLm1hcmdpbiwNCiAgICAgICAgICAgICAgICBNYXRoLm1heChmcm9tLnJpZ2h0LCB0by5yaWdodCksDQogICAgICAgICAgICAgICAgTWF0aC5tYXgoZnJvbS5ib3R0b20sIHRvLmJvdHRvbSkgKyByYW5nZSQkMS5tYXJnaW4pDQogICAgICAgICAgICBjbS5zY3JvbGxUbyhzUG9zLnNjcm9sbExlZnQsIHNQb3Muc2Nyb2xsVG9wKQ0KICAgICAgICB9DQogICAgfQ0KDQovLyBPcGVyYXRpb25zIGFyZSB1c2VkIHRvIHdyYXAgYSBzZXJpZXMgb2YgY2hhbmdlcyB0byB0aGUgZWRpdG9yDQovLyBzdGF0ZSBpbiBzdWNoIGEgd2F5IHRoYXQgZWFjaCBjaGFuZ2Ugd29uJ3QgaGF2ZSB0byB1cGRhdGUgdGhlDQovLyBjdXJzb3IgYW5kIGRpc3BsYXkgKHdoaWNoIHdvdWxkIGJlIGF3a3dhcmQsIHNsb3csIGFuZA0KLy8gZXJyb3ItcHJvbmUpLiBJbnN0ZWFkLCBkaXNwbGF5IHVwZGF0ZXMgYXJlIGJhdGNoZWQgYW5kIHRoZW4gYWxsDQovLyBjb21iaW5lZCBhbmQgZXhlY3V0ZWQgYXQgb25jZS4NCg0KICAgIHZhciBuZXh0T3BJZCA9IDANCi8vIFN0YXJ0IGEgbmV3IG9wZXJhdGlvbi4NCiAgICBmdW5jdGlvbiBzdGFydE9wZXJhdGlvbihjbSkgew0KICAgICAgICBjbS5jdXJPcCA9IHsNCiAgICAgICAgICAgIGNtOiBjbSwNCiAgICAgICAgICAgIHZpZXdDaGFuZ2VkOiBmYWxzZSwgICAgICAvLyBGbGFnIHRoYXQgaW5kaWNhdGVzIHRoYXQgbGluZXMgbWlnaHQgbmVlZCB0byBiZSByZWRyYXduDQogICAgICAgICAgICBzdGFydEhlaWdodDogY20uZG9jLmhlaWdodCwgLy8gVXNlZCB0byBkZXRlY3QgbmVlZCB0byB1cGRhdGUgc2Nyb2xsYmFyDQogICAgICAgICAgICBmb3JjZVVwZGF0ZTogZmFsc2UsICAgICAgLy8gVXNlZCB0byBmb3JjZSBhIHJlZHJhdw0KICAgICAgICAgICAgdXBkYXRlSW5wdXQ6IG51bGwsICAgICAgIC8vIFdoZXRoZXIgdG8gcmVzZXQgdGhlIGlucHV0IHRleHRhcmVhDQogICAgICAgICAgICB0eXBpbmc6IGZhbHNlLCAgICAgICAgICAgLy8gV2hldGhlciB0aGlzIHJlc2V0IHNob3VsZCBiZSBjYXJlZnVsIHRvIGxlYXZlIGV4aXN0aW5nIHRleHQgKGZvciBjb21wb3NpdGluZykNCiAgICAgICAgICAgIGNoYW5nZU9ianM6IG51bGwsICAgICAgICAvLyBBY2N1bXVsYXRlZCBjaGFuZ2VzLCBmb3IgZmlyaW5nIGNoYW5nZSBldmVudHMNCiAgICAgICAgICAgIGN1cnNvckFjdGl2aXR5SGFuZGxlcnM6IG51bGwsIC8vIFNldCBvZiBoYW5kbGVycyB0byBmaXJlIGN1cnNvckFjdGl2aXR5IG9uDQogICAgICAgICAgICBjdXJzb3JBY3Rpdml0eUNhbGxlZDogMCwgLy8gVHJhY2tzIHdoaWNoIGN1cnNvckFjdGl2aXR5IGhhbmRsZXJzIGhhdmUgYmVlbiBjYWxsZWQgYWxyZWFkeQ0KICAgICAgICAgICAgc2VsZWN0aW9uQ2hhbmdlZDogZmFsc2UsIC8vIFdoZXRoZXIgdGhlIHNlbGVjdGlvbiBuZWVkcyB0byBiZSByZWRyYXduDQogICAgICAgICAgICB1cGRhdGVNYXhMaW5lOiBmYWxzZSwgICAgLy8gU2V0IHdoZW4gdGhlIHdpZGVzdCBsaW5lIG5lZWRzIHRvIGJlIGRldGVybWluZWQgYW5ldw0KICAgICAgICAgICAgc2Nyb2xsTGVmdDogbnVsbCwgc2Nyb2xsVG9wOiBudWxsLCAvLyBJbnRlcm1lZGlhdGUgc2Nyb2xsIHBvc2l0aW9uLCBub3QgcHVzaGVkIHRvIERPTSB5ZXQNCiAgICAgICAgICAgIHNjcm9sbFRvUG9zOiBudWxsLCAgICAgICAvLyBVc2VkIHRvIHNjcm9sbCB0byBhIHNwZWNpZmljIHBvc2l0aW9uDQogICAgICAgICAgICBmb2N1czogZmFsc2UsDQogICAgICAgICAgICBpZDogKytuZXh0T3BJZCAgICAgICAgICAgLy8gVW5pcXVlIElEDQogICAgICAgIH0NCiAgICAgICAgcHVzaE9wZXJhdGlvbihjbS5jdXJPcCkNCiAgICB9DQoNCi8vIEZpbmlzaCBhbiBvcGVyYXRpb24sIHVwZGF0aW5nIHRoZSBkaXNwbGF5IGFuZCBzaWduYWxsaW5nIGRlbGF5ZWQgZXZlbnRzDQogICAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uKGNtKSB7DQogICAgICAgIHZhciBvcCA9IGNtLmN1ck9wDQogICAgICAgIGZpbmlzaE9wZXJhdGlvbihvcCwgZnVuY3Rpb24gKGdyb3VwKSB7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3VwLm9wcy5sZW5ndGg7IGkrKykNCiAgICAgICAgICAgIHsgZ3JvdXAub3BzW2ldLmNtLmN1ck9wID0gbnVsbCB9DQogICAgICAgICAgICBlbmRPcGVyYXRpb25zKGdyb3VwKQ0KICAgICAgICB9KQ0KICAgIH0NCg0KLy8gVGhlIERPTSB1cGRhdGVzIGRvbmUgd2hlbiBhbiBvcGVyYXRpb24gZmluaXNoZXMgYXJlIGJhdGNoZWQgc28NCi8vIHRoYXQgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHJlbGF5b3V0cyBhcmUgcmVxdWlyZWQuDQogICAgZnVuY3Rpb24gZW5kT3BlcmF0aW9ucyhncm91cCkgew0KICAgICAgICB2YXIgb3BzID0gZ3JvdXAub3BzDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSAvLyBSZWFkIERPTQ0KICAgICAgICB7IGVuZE9wZXJhdGlvbl9SMShvcHNbaV0pIH0NCiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgb3BzLmxlbmd0aDsgaSQxKyspIC8vIFdyaXRlIERPTSAobWF5YmUpDQogICAgICAgIHsgZW5kT3BlcmF0aW9uX1cxKG9wc1tpJDFdKSB9DQogICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IG9wcy5sZW5ndGg7IGkkMisrKSAvLyBSZWFkIERPTQ0KICAgICAgICB7IGVuZE9wZXJhdGlvbl9SMihvcHNbaSQyXSkgfQ0KICAgICAgICBmb3IgKHZhciBpJDMgPSAwOyBpJDMgPCBvcHMubGVuZ3RoOyBpJDMrKykgLy8gV3JpdGUgRE9NIChtYXliZSkNCiAgICAgICAgeyBlbmRPcGVyYXRpb25fVzIob3BzW2kkM10pIH0NCiAgICAgICAgZm9yICh2YXIgaSQ0ID0gMDsgaSQ0IDwgb3BzLmxlbmd0aDsgaSQ0KyspIC8vIFJlYWQgRE9NDQogICAgICAgIHsgZW5kT3BlcmF0aW9uX2ZpbmlzaChvcHNbaSQ0XSkgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbl9SMShvcCkgew0KICAgICAgICB2YXIgY20gPSBvcC5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXkNCiAgICAgICAgbWF5YmVDbGlwU2Nyb2xsYmFycyhjbSkNCiAgICAgICAgaWYgKG9wLnVwZGF0ZU1heExpbmUpIHsgZmluZE1heExpbmUoY20pIH0NCg0KICAgICAgICBvcC5tdXN0VXBkYXRlID0gb3Audmlld0NoYW5nZWQgfHwgb3AuZm9yY2VVcGRhdGUgfHwgb3Auc2Nyb2xsVG9wICE9IG51bGwgfHwNCiAgICAgICAgICAgIG9wLnNjcm9sbFRvUG9zICYmIChvcC5zY3JvbGxUb1Bvcy5mcm9tLmxpbmUgPCBkaXNwbGF5LnZpZXdGcm9tIHx8DQogICAgICAgICAgICBvcC5zY3JvbGxUb1Bvcy50by5saW5lID49IGRpc3BsYXkudmlld1RvKSB8fA0KICAgICAgICAgICAgZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCAmJiBjbS5vcHRpb25zLmxpbmVXcmFwcGluZw0KICAgICAgICBvcC51cGRhdGUgPSBvcC5tdXN0VXBkYXRlICYmDQogICAgICAgICAgICBuZXcgRGlzcGxheVVwZGF0ZShjbSwgb3AubXVzdFVwZGF0ZSAmJiB7dG9wOiBvcC5zY3JvbGxUb3AsIGVuc3VyZTogb3Auc2Nyb2xsVG9Qb3N9LCBvcC5mb3JjZVVwZGF0ZSkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBlbmRPcGVyYXRpb25fVzEob3ApIHsNCiAgICAgICAgb3AudXBkYXRlZERpc3BsYXkgPSBvcC5tdXN0VXBkYXRlICYmIHVwZGF0ZURpc3BsYXlJZk5lZWRlZChvcC5jbSwgb3AudXBkYXRlKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbl9SMihvcCkgew0KICAgICAgICB2YXIgY20gPSBvcC5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXkNCiAgICAgICAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5KSB7IHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKSB9DQoNCiAgICAgICAgb3AuYmFyTWVhc3VyZSA9IG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKQ0KDQogICAgICAgIC8vIElmIHRoZSBtYXggbGluZSBjaGFuZ2VkIHNpbmNlIGl0IHdhcyBsYXN0IG1lYXN1cmVkLCBtZWFzdXJlIGl0LA0KICAgICAgICAvLyBhbmQgZW5zdXJlIHRoZSBkb2N1bWVudCdzIHdpZHRoIG1hdGNoZXMgaXQuDQogICAgICAgIC8vIHVwZGF0ZURpc3BsYXlfVzIgd2lsbCB1c2UgdGhlc2UgcHJvcGVydGllcyB0byBkbyB0aGUgYWN0dWFsIHJlc2l6aW5nDQogICAgICAgIGlmIChkaXNwbGF5Lm1heExpbmVDaGFuZ2VkICYmICFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgew0KICAgICAgICAgICAgb3AuYWRqdXN0V2lkdGhUbyA9IG1lYXN1cmVDaGFyKGNtLCBkaXNwbGF5Lm1heExpbmUsIGRpc3BsYXkubWF4TGluZS50ZXh0Lmxlbmd0aCkubGVmdCArIDMNCiAgICAgICAgICAgIGNtLmRpc3BsYXkuc2l6ZXJXaWR0aCA9IG9wLmFkanVzdFdpZHRoVG8NCiAgICAgICAgICAgIG9wLmJhck1lYXN1cmUuc2Nyb2xsV2lkdGggPQ0KICAgICAgICAgICAgICAgIE1hdGgubWF4KGRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgsIGRpc3BsYXkuc2l6ZXIub2Zmc2V0TGVmdCArIG9wLmFkanVzdFdpZHRoVG8gKyBzY3JvbGxHYXAoY20pICsgY20uZGlzcGxheS5iYXJXaWR0aCkNCiAgICAgICAgICAgIG9wLm1heFNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCBkaXNwbGF5LnNpemVyLm9mZnNldExlZnQgKyBvcC5hZGp1c3RXaWR0aFRvIC0gZGlzcGxheVdpZHRoKGNtKSkNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChvcC51cGRhdGVkRGlzcGxheSB8fCBvcC5zZWxlY3Rpb25DaGFuZ2VkKQ0KICAgICAgICB7IG9wLnByZXBhcmVkU2VsZWN0aW9uID0gZGlzcGxheS5pbnB1dC5wcmVwYXJlU2VsZWN0aW9uKG9wLmZvY3VzKSB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1cyKG9wKSB7DQogICAgICAgIHZhciBjbSA9IG9wLmNtDQoNCiAgICAgICAgaWYgKG9wLmFkanVzdFdpZHRoVG8gIT0gbnVsbCkgew0KICAgICAgICAgICAgY20uZGlzcGxheS5zaXplci5zdHlsZS5taW5XaWR0aCA9IG9wLmFkanVzdFdpZHRoVG8gKyAicHgiDQogICAgICAgICAgICBpZiAob3AubWF4U2Nyb2xsTGVmdCA8IGNtLmRvYy5zY3JvbGxMZWZ0KQ0KICAgICAgICAgICAgeyBzZXRTY3JvbGxMZWZ0KGNtLCBNYXRoLm1pbihjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQsIG9wLm1heFNjcm9sbExlZnQpLCB0cnVlKSB9DQogICAgICAgICAgICBjbS5kaXNwbGF5Lm1heExpbmVDaGFuZ2VkID0gZmFsc2UNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciB0YWtlRm9jdXMgPSBvcC5mb2N1cyAmJiBvcC5mb2N1cyA9PSBhY3RpdmVFbHQoKSAmJiAoIWRvY3VtZW50Lmhhc0ZvY3VzIHx8IGRvY3VtZW50Lmhhc0ZvY3VzKCkpDQogICAgICAgIGlmIChvcC5wcmVwYXJlZFNlbGVjdGlvbikNCiAgICAgICAgeyBjbS5kaXNwbGF5LmlucHV0LnNob3dTZWxlY3Rpb24ob3AucHJlcGFyZWRTZWxlY3Rpb24sIHRha2VGb2N1cykgfQ0KICAgICAgICBpZiAob3AudXBkYXRlZERpc3BsYXkgfHwgb3Auc3RhcnRIZWlnaHQgIT0gY20uZG9jLmhlaWdodCkNCiAgICAgICAgeyB1cGRhdGVTY3JvbGxiYXJzKGNtLCBvcC5iYXJNZWFzdXJlKSB9DQogICAgICAgIGlmIChvcC51cGRhdGVkRGlzcGxheSkNCiAgICAgICAgeyBzZXREb2N1bWVudEhlaWdodChjbSwgb3AuYmFyTWVhc3VyZSkgfQ0KDQogICAgICAgIGlmIChvcC5zZWxlY3Rpb25DaGFuZ2VkKSB7IHJlc3RhcnRCbGluayhjbSkgfQ0KDQogICAgICAgIGlmIChjbS5zdGF0ZS5mb2N1c2VkICYmIG9wLnVwZGF0ZUlucHV0KQ0KICAgICAgICB7IGNtLmRpc3BsYXkuaW5wdXQucmVzZXQob3AudHlwaW5nKSB9DQogICAgICAgIGlmICh0YWtlRm9jdXMpIHsgZW5zdXJlRm9jdXMob3AuY20pIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBlbmRPcGVyYXRpb25fZmluaXNoKG9wKSB7DQogICAgICAgIHZhciBjbSA9IG9wLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jDQoNCiAgICAgICAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5KSB7IHBvc3RVcGRhdGVEaXNwbGF5KGNtLCBvcC51cGRhdGUpIH0NCg0KICAgICAgICAvLyBBYm9ydCBtb3VzZSB3aGVlbCBkZWx0YSBtZWFzdXJlbWVudCwgd2hlbiBzY3JvbGxpbmcgZXhwbGljaXRseQ0KICAgICAgICBpZiAoZGlzcGxheS53aGVlbFN0YXJ0WCAhPSBudWxsICYmIChvcC5zY3JvbGxUb3AgIT0gbnVsbCB8fCBvcC5zY3JvbGxMZWZ0ICE9IG51bGwgfHwgb3Auc2Nyb2xsVG9Qb3MpKQ0KICAgICAgICB7IGRpc3BsYXkud2hlZWxTdGFydFggPSBkaXNwbGF5LndoZWVsU3RhcnRZID0gbnVsbCB9DQoNCiAgICAgICAgLy8gUHJvcGFnYXRlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8gdGhlIGFjdHVhbCBET00gc2Nyb2xsZXINCiAgICAgICAgaWYgKG9wLnNjcm9sbFRvcCAhPSBudWxsICYmIChkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCAhPSBvcC5zY3JvbGxUb3AgfHwgb3AuZm9yY2VTY3JvbGwpKSB7DQogICAgICAgICAgICBkb2Muc2Nyb2xsVG9wID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS5zY3JvbGxlci5zY3JvbGxIZWlnaHQgLSBkaXNwbGF5LnNjcm9sbGVyLmNsaWVudEhlaWdodCwgb3Auc2Nyb2xsVG9wKSkNCiAgICAgICAgICAgIGRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3AoZG9jLnNjcm9sbFRvcCkNCiAgICAgICAgICAgIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wID0gZG9jLnNjcm9sbFRvcA0KICAgICAgICB9DQogICAgICAgIGlmIChvcC5zY3JvbGxMZWZ0ICE9IG51bGwgJiYgKGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCAhPSBvcC5zY3JvbGxMZWZ0IHx8IG9wLmZvcmNlU2Nyb2xsKSkgew0KICAgICAgICAgICAgZG9jLnNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFdpZHRoIC0gZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aCwgb3Auc2Nyb2xsTGVmdCkpDQogICAgICAgICAgICBkaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsTGVmdChkb2Muc2Nyb2xsTGVmdCkNCiAgICAgICAgICAgIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCA9IGRvYy5zY3JvbGxMZWZ0DQogICAgICAgICAgICBhbGlnbkhvcml6b250YWxseShjbSkNCiAgICAgICAgfQ0KICAgICAgICAvLyBJZiB3ZSBuZWVkIHRvIHNjcm9sbCBhIHNwZWNpZmljIHBvc2l0aW9uIGludG8gdmlldywgZG8gc28uDQogICAgICAgIGlmIChvcC5zY3JvbGxUb1Bvcykgew0KICAgICAgICAgICAgdmFyIGNvb3JkcyA9IHNjcm9sbFBvc0ludG9WaWV3KGNtLCBjbGlwUG9zKGRvYywgb3Auc2Nyb2xsVG9Qb3MuZnJvbSksDQogICAgICAgICAgICAgICAgY2xpcFBvcyhkb2MsIG9wLnNjcm9sbFRvUG9zLnRvKSwgb3Auc2Nyb2xsVG9Qb3MubWFyZ2luKQ0KICAgICAgICAgICAgaWYgKG9wLnNjcm9sbFRvUG9zLmlzQ3Vyc29yICYmIGNtLnN0YXRlLmZvY3VzZWQpIHsgbWF5YmVTY3JvbGxXaW5kb3coY20sIGNvb3JkcykgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRmlyZSBldmVudHMgZm9yIG1hcmtlcnMgdGhhdCBhcmUgaGlkZGVuL3VuaWRkZW4gYnkgZWRpdGluZyBvcg0KICAgICAgICAvLyB1bmRvaW5nDQogICAgICAgIHZhciBoaWRkZW4gPSBvcC5tYXliZUhpZGRlbk1hcmtlcnMsIHVuaGlkZGVuID0gb3AubWF5YmVVbmhpZGRlbk1hcmtlcnMNCiAgICAgICAgaWYgKGhpZGRlbikgeyBmb3IgKHZhciBpID0gMDsgaSA8IGhpZGRlbi5sZW5ndGg7ICsraSkNCiAgICAgICAgeyBpZiAoIWhpZGRlbltpXS5saW5lcy5sZW5ndGgpIHsgc2lnbmFsKGhpZGRlbltpXSwgImhpZGUiKSB9IH0gfQ0KICAgICAgICBpZiAodW5oaWRkZW4pIHsgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdW5oaWRkZW4ubGVuZ3RoOyArK2kkMSkNCiAgICAgICAgeyBpZiAodW5oaWRkZW5baSQxXS5saW5lcy5sZW5ndGgpIHsgc2lnbmFsKHVuaGlkZGVuW2kkMV0sICJ1bmhpZGUiKSB9IH0gfQ0KDQogICAgICAgIGlmIChkaXNwbGF5LndyYXBwZXIub2Zmc2V0SGVpZ2h0KQ0KICAgICAgICB7IGRvYy5zY3JvbGxUb3AgPSBjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCB9DQoNCiAgICAgICAgLy8gRmlyZSBjaGFuZ2UgZXZlbnRzLCBhbmQgZGVsYXllZCBldmVudCBoYW5kbGVycw0KICAgICAgICBpZiAob3AuY2hhbmdlT2JqcykNCiAgICAgICAgeyBzaWduYWwoY20sICJjaGFuZ2VzIiwgY20sIG9wLmNoYW5nZU9ianMpIH0NCiAgICAgICAgaWYgKG9wLnVwZGF0ZSkNCiAgICAgICAgeyBvcC51cGRhdGUuZmluaXNoKCkgfQ0KICAgIH0NCg0KLy8gUnVuIHRoZSBnaXZlbiBmdW5jdGlvbiBpbiBhbiBvcGVyYXRpb24NCiAgICBmdW5jdGlvbiBydW5Jbk9wKGNtLCBmKSB7DQogICAgICAgIGlmIChjbS5jdXJPcCkgeyByZXR1cm4gZigpIH0NCiAgICAgICAgc3RhcnRPcGVyYXRpb24oY20pDQogICAgICAgIHRyeSB7IHJldHVybiBmKCkgfQ0KICAgICAgICBmaW5hbGx5IHsgZW5kT3BlcmF0aW9uKGNtKSB9DQogICAgfQ0KLy8gV3JhcHMgYSBmdW5jdGlvbiBpbiBhbiBvcGVyYXRpb24uIFJldHVybnMgdGhlIHdyYXBwZWQgZnVuY3Rpb24uDQogICAgZnVuY3Rpb24gb3BlcmF0aW9uKGNtLCBmKSB7DQogICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIGlmIChjbS5jdXJPcCkgeyByZXR1cm4gZi5hcHBseShjbSwgYXJndW1lbnRzKSB9DQogICAgICAgICAgICBzdGFydE9wZXJhdGlvbihjbSkNCiAgICAgICAgICAgIHRyeSB7IHJldHVybiBmLmFwcGx5KGNtLCBhcmd1bWVudHMpIH0NCiAgICAgICAgICAgIGZpbmFsbHkgeyBlbmRPcGVyYXRpb24oY20pIH0NCiAgICAgICAgfQ0KICAgIH0NCi8vIFVzZWQgdG8gYWRkIG1ldGhvZHMgdG8gZWRpdG9yIGFuZCBkb2MgaW5zdGFuY2VzLCB3cmFwcGluZyB0aGVtIGluDQovLyBvcGVyYXRpb25zLg0KICAgIGZ1bmN0aW9uIG1ldGhvZE9wKGYpIHsNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuY3VyT3ApIHsgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKSB9DQogICAgICAgICAgICBzdGFydE9wZXJhdGlvbih0aGlzKQ0KICAgICAgICAgICAgdHJ5IHsgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKSB9DQogICAgICAgICAgICBmaW5hbGx5IHsgZW5kT3BlcmF0aW9uKHRoaXMpIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBmdW5jdGlvbiBkb2NNZXRob2RPcChmKSB7DQogICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBjbSA9IHRoaXMuY20NCiAgICAgICAgICAgIGlmICghY20gfHwgY20uY3VyT3ApIHsgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKSB9DQogICAgICAgICAgICBzdGFydE9wZXJhdGlvbihjbSkNCiAgICAgICAgICAgIHRyeSB7IHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfQ0KICAgICAgICAgICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbihjbSkgfQ0KICAgICAgICB9DQogICAgfQ0KDQovLyBVcGRhdGVzIHRoZSBkaXNwbGF5LnZpZXcgZGF0YSBzdHJ1Y3R1cmUgZm9yIGEgZ2l2ZW4gY2hhbmdlIHRvIHRoZQ0KLy8gZG9jdW1lbnQuIEZyb20gYW5kIHRvIGFyZSBpbiBwcmUtY2hhbmdlIGNvb3JkaW5hdGVzLiBMZW5kaWZmIGlzDQovLyB0aGUgYW1vdW50IG9mIGxpbmVzIGFkZGVkIG9yIHN1YnRyYWN0ZWQgYnkgdGhlIGNoYW5nZS4gVGhpcyBpcw0KLy8gdXNlZCBmb3IgY2hhbmdlcyB0aGF0IHNwYW4gbXVsdGlwbGUgbGluZXMsIG9yIGNoYW5nZSB0aGUgd2F5DQovLyBsaW5lcyBhcmUgZGl2aWRlZCBpbnRvIHZpc3VhbCBsaW5lcy4gcmVnTGluZUNoYW5nZSAoYmVsb3cpDQovLyByZWdpc3RlcnMgc2luZ2xlLWxpbmUgY2hhbmdlcy4NCiAgICBmdW5jdGlvbiByZWdDaGFuZ2UoY20sIGZyb20sIHRvLCBsZW5kaWZmKSB7DQogICAgICAgIGlmIChmcm9tID09IG51bGwpIHsgZnJvbSA9IGNtLmRvYy5maXJzdCB9DQogICAgICAgIGlmICh0byA9PSBudWxsKSB7IHRvID0gY20uZG9jLmZpcnN0ICsgY20uZG9jLnNpemUgfQ0KICAgICAgICBpZiAoIWxlbmRpZmYpIHsgbGVuZGlmZiA9IDAgfQ0KDQogICAgICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheQ0KICAgICAgICBpZiAobGVuZGlmZiAmJiB0byA8IGRpc3BsYXkudmlld1RvICYmDQogICAgICAgICAgICAoZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9PSBudWxsIHx8IGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPiBmcm9tKSkNCiAgICAgICAgeyBkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID0gZnJvbSB9DQoNCiAgICAgICAgY20uY3VyT3Audmlld0NoYW5nZWQgPSB0cnVlDQoNCiAgICAgICAgaWYgKGZyb20gPj0gZGlzcGxheS52aWV3VG8pIHsgLy8gQ2hhbmdlIGFmdGVyDQogICAgICAgICAgICBpZiAoc2F3Q29sbGFwc2VkU3BhbnMgJiYgdmlzdWFsTGluZU5vKGNtLmRvYywgZnJvbSkgPCBkaXNwbGF5LnZpZXdUbykNCiAgICAgICAgICAgIHsgcmVzZXRWaWV3KGNtKSB9DQogICAgICAgIH0gZWxzZSBpZiAodG8gPD0gZGlzcGxheS52aWV3RnJvbSkgeyAvLyBDaGFuZ2UgYmVmb3JlDQogICAgICAgICAgICBpZiAoc2F3Q29sbGFwc2VkU3BhbnMgJiYgdmlzdWFsTGluZUVuZE5vKGNtLmRvYywgdG8gKyBsZW5kaWZmKSA+IGRpc3BsYXkudmlld0Zyb20pIHsNCiAgICAgICAgICAgICAgICByZXNldFZpZXcoY20pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGRpc3BsYXkudmlld0Zyb20gKz0gbGVuZGlmZg0KICAgICAgICAgICAgICAgIGRpc3BsYXkudmlld1RvICs9IGxlbmRpZmYNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIGlmIChmcm9tIDw9IGRpc3BsYXkudmlld0Zyb20gJiYgdG8gPj0gZGlzcGxheS52aWV3VG8pIHsgLy8gRnVsbCBvdmVybGFwDQogICAgICAgICAgICByZXNldFZpZXcoY20pDQogICAgICAgIH0gZWxzZSBpZiAoZnJvbSA8PSBkaXNwbGF5LnZpZXdGcm9tKSB7IC8vIFRvcCBvdmVybGFwDQogICAgICAgICAgICB2YXIgY3V0ID0gdmlld0N1dHRpbmdQb2ludChjbSwgdG8sIHRvICsgbGVuZGlmZiwgMSkNCiAgICAgICAgICAgIGlmIChjdXQpIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoY3V0LmluZGV4KQ0KICAgICAgICAgICAgICAgIGRpc3BsYXkudmlld0Zyb20gPSBjdXQubGluZU4NCiAgICAgICAgICAgICAgICBkaXNwbGF5LnZpZXdUbyArPSBsZW5kaWZmDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJlc2V0VmlldyhjbSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIGlmICh0byA+PSBkaXNwbGF5LnZpZXdUbykgeyAvLyBCb3R0b20gb3ZlcmxhcA0KICAgICAgICAgICAgdmFyIGN1dCQxID0gdmlld0N1dHRpbmdQb2ludChjbSwgZnJvbSwgZnJvbSwgLTEpDQogICAgICAgICAgICBpZiAoY3V0JDEpIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoMCwgY3V0JDEuaW5kZXgpDQogICAgICAgICAgICAgICAgZGlzcGxheS52aWV3VG8gPSBjdXQkMS5saW5lTg0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXNldFZpZXcoY20pDQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7IC8vIEdhcCBpbiB0aGUgbWlkZGxlDQogICAgICAgICAgICB2YXIgY3V0VG9wID0gdmlld0N1dHRpbmdQb2ludChjbSwgZnJvbSwgZnJvbSwgLTEpDQogICAgICAgICAgICB2YXIgY3V0Qm90ID0gdmlld0N1dHRpbmdQb2ludChjbSwgdG8sIHRvICsgbGVuZGlmZiwgMSkNCiAgICAgICAgICAgIGlmIChjdXRUb3AgJiYgY3V0Qm90KSB7DQogICAgICAgICAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKDAsIGN1dFRvcC5pbmRleCkNCiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChidWlsZFZpZXdBcnJheShjbSwgY3V0VG9wLmxpbmVOLCBjdXRCb3QubGluZU4pKQ0KICAgICAgICAgICAgICAgICAgICAuY29uY2F0KGRpc3BsYXkudmlldy5zbGljZShjdXRCb3QuaW5kZXgpKQ0KICAgICAgICAgICAgICAgIGRpc3BsYXkudmlld1RvICs9IGxlbmRpZmYNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmVzZXRWaWV3KGNtKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGV4dCA9IGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZA0KICAgICAgICBpZiAoZXh0KSB7DQogICAgICAgICAgICBpZiAodG8gPCBleHQubGluZU4pDQogICAgICAgICAgICB7IGV4dC5saW5lTiArPSBsZW5kaWZmIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGZyb20gPCBleHQubGluZU4gKyBleHQuc2l6ZSkNCiAgICAgICAgICAgIHsgZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbnVsbCB9DQogICAgICAgIH0NCiAgICB9DQoNCi8vIFJlZ2lzdGVyIGEgY2hhbmdlIHRvIGEgc2luZ2xlIGxpbmUuIFR5cGUgbXVzdCBiZSBvbmUgb2YgInRleHQiLA0KLy8gImd1dHRlciIsICJjbGFzcyIsICJ3aWRnZXQiDQogICAgZnVuY3Rpb24gcmVnTGluZUNoYW5nZShjbSwgbGluZSwgdHlwZSkgew0KICAgICAgICBjbS5jdXJPcC52aWV3Q2hhbmdlZCA9IHRydWUNCiAgICAgICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBleHQgPSBjbS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQNCiAgICAgICAgaWYgKGV4dCAmJiBsaW5lID49IGV4dC5saW5lTiAmJiBsaW5lIDwgZXh0LmxpbmVOICsgZXh0LnNpemUpDQogICAgICAgIHsgZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbnVsbCB9DQoNCiAgICAgICAgaWYgKGxpbmUgPCBkaXNwbGF5LnZpZXdGcm9tIHx8IGxpbmUgPj0gZGlzcGxheS52aWV3VG8pIHsgcmV0dXJuIH0NCiAgICAgICAgdmFyIGxpbmVWaWV3ID0gZGlzcGxheS52aWV3W2ZpbmRWaWV3SW5kZXgoY20sIGxpbmUpXQ0KICAgICAgICBpZiAobGluZVZpZXcubm9kZSA9PSBudWxsKSB7IHJldHVybiB9DQogICAgICAgIHZhciBhcnIgPSBsaW5lVmlldy5jaGFuZ2VzIHx8IChsaW5lVmlldy5jaGFuZ2VzID0gW10pDQogICAgICAgIGlmIChpbmRleE9mKGFyciwgdHlwZSkgPT0gLTEpIHsgYXJyLnB1c2godHlwZSkgfQ0KICAgIH0NCg0KLy8gQ2xlYXIgdGhlIHZpZXcuDQogICAgZnVuY3Rpb24gcmVzZXRWaWV3KGNtKSB7DQogICAgICAgIGNtLmRpc3BsYXkudmlld0Zyb20gPSBjbS5kaXNwbGF5LnZpZXdUbyA9IGNtLmRvYy5maXJzdA0KICAgICAgICBjbS5kaXNwbGF5LnZpZXcgPSBbXQ0KICAgICAgICBjbS5kaXNwbGF5LnZpZXdPZmZzZXQgPSAwDQogICAgfQ0KDQogICAgZnVuY3Rpb24gdmlld0N1dHRpbmdQb2ludChjbSwgb2xkTiwgbmV3TiwgZGlyKSB7DQogICAgICAgIHZhciBpbmRleCA9IGZpbmRWaWV3SW5kZXgoY20sIG9sZE4pLCBkaWZmLCB2aWV3ID0gY20uZGlzcGxheS52aWV3DQogICAgICAgIGlmICghc2F3Q29sbGFwc2VkU3BhbnMgfHwgbmV3TiA9PSBjbS5kb2MuZmlyc3QgKyBjbS5kb2Muc2l6ZSkNCiAgICAgICAgeyByZXR1cm4ge2luZGV4OiBpbmRleCwgbGluZU46IG5ld059IH0NCiAgICAgICAgdmFyIG4gPSBjbS5kaXNwbGF5LnZpZXdGcm9tDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kZXg7IGkrKykNCiAgICAgICAgeyBuICs9IHZpZXdbaV0uc2l6ZSB9DQogICAgICAgIGlmIChuICE9IG9sZE4pIHsNCiAgICAgICAgICAgIGlmIChkaXIgPiAwKSB7DQogICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IHZpZXcubGVuZ3RoIC0gMSkgeyByZXR1cm4gbnVsbCB9DQogICAgICAgICAgICAgICAgZGlmZiA9IChuICsgdmlld1tpbmRleF0uc2l6ZSkgLSBvbGRODQogICAgICAgICAgICAgICAgaW5kZXgrKw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBkaWZmID0gbiAtIG9sZE4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG9sZE4gKz0gZGlmZjsgbmV3TiArPSBkaWZmDQogICAgICAgIH0NCiAgICAgICAgd2hpbGUgKHZpc3VhbExpbmVObyhjbS5kb2MsIG5ld04pICE9IG5ld04pIHsNCiAgICAgICAgICAgIGlmIChpbmRleCA9PSAoZGlyIDwgMCA/IDAgOiB2aWV3Lmxlbmd0aCAtIDEpKSB7IHJldHVybiBudWxsIH0NCiAgICAgICAgICAgIG5ld04gKz0gZGlyICogdmlld1tpbmRleCAtIChkaXIgPCAwID8gMSA6IDApXS5zaXplDQogICAgICAgICAgICBpbmRleCArPSBkaXINCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4ge2luZGV4OiBpbmRleCwgbGluZU46IG5ld059DQogICAgfQ0KDQovLyBGb3JjZSB0aGUgdmlldyB0byBjb3ZlciBhIGdpdmVuIHJhbmdlLCBhZGRpbmcgZW1wdHkgdmlldyBlbGVtZW50DQovLyBvciBjbGlwcGluZyBvZmYgZXhpc3Rpbmcgb25lcyBhcyBuZWVkZWQuDQogICAgZnVuY3Rpb24gYWRqdXN0VmlldyhjbSwgZnJvbSwgdG8pIHsNCiAgICAgICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCB2aWV3ID0gZGlzcGxheS52aWV3DQogICAgICAgIGlmICh2aWV3Lmxlbmd0aCA9PSAwIHx8IGZyb20gPj0gZGlzcGxheS52aWV3VG8gfHwgdG8gPD0gZGlzcGxheS52aWV3RnJvbSkgew0KICAgICAgICAgICAgZGlzcGxheS52aWV3ID0gYnVpbGRWaWV3QXJyYXkoY20sIGZyb20sIHRvKQ0KICAgICAgICAgICAgZGlzcGxheS52aWV3RnJvbSA9IGZyb20NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGlmIChkaXNwbGF5LnZpZXdGcm9tID4gZnJvbSkNCiAgICAgICAgICAgIHsgZGlzcGxheS52aWV3ID0gYnVpbGRWaWV3QXJyYXkoY20sIGZyb20sIGRpc3BsYXkudmlld0Zyb20pLmNvbmNhdChkaXNwbGF5LnZpZXcpIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGRpc3BsYXkudmlld0Zyb20gPCBmcm9tKQ0KICAgICAgICAgICAgeyBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoZmluZFZpZXdJbmRleChjbSwgZnJvbSkpIH0NCiAgICAgICAgICAgIGRpc3BsYXkudmlld0Zyb20gPSBmcm9tDQogICAgICAgICAgICBpZiAoZGlzcGxheS52aWV3VG8gPCB0bykNCiAgICAgICAgICAgIHsgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LmNvbmNhdChidWlsZFZpZXdBcnJheShjbSwgZGlzcGxheS52aWV3VG8sIHRvKSkgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZGlzcGxheS52aWV3VG8gPiB0bykNCiAgICAgICAgICAgIHsgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKDAsIGZpbmRWaWV3SW5kZXgoY20sIHRvKSkgfQ0KICAgICAgICB9DQogICAgICAgIGRpc3BsYXkudmlld1RvID0gdG8NCiAgICB9DQoNCi8vIENvdW50IHRoZSBudW1iZXIgb2YgbGluZXMgaW4gdGhlIHZpZXcgd2hvc2UgRE9NIHJlcHJlc2VudGF0aW9uIGlzDQovLyBvdXQgb2YgZGF0ZSAob3Igbm9uZXhpc3RlbnQpLg0KICAgIGZ1bmN0aW9uIGNvdW50RGlydHlWaWV3KGNtKSB7DQogICAgICAgIHZhciB2aWV3ID0gY20uZGlzcGxheS52aWV3LCBkaXJ0eSA9IDANCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgbGluZVZpZXcgPSB2aWV3W2ldDQogICAgICAgICAgICBpZiAoIWxpbmVWaWV3LmhpZGRlbiAmJiAoIWxpbmVWaWV3Lm5vZGUgfHwgbGluZVZpZXcuY2hhbmdlcykpIHsgKytkaXJ0eSB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGRpcnR5DQogICAgfQ0KDQovLyBISUdITElHSFQgV09SS0VSDQoNCiAgICBmdW5jdGlvbiBzdGFydFdvcmtlcihjbSwgdGltZSkgew0KICAgICAgICBpZiAoY20uZG9jLm1vZGUuc3RhcnRTdGF0ZSAmJiBjbS5kb2MuZnJvbnRpZXIgPCBjbS5kaXNwbGF5LnZpZXdUbykNCiAgICAgICAgeyBjbS5zdGF0ZS5oaWdobGlnaHQuc2V0KHRpbWUsIGJpbmQoaGlnaGxpZ2h0V29ya2VyLCBjbSkpIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBoaWdobGlnaHRXb3JrZXIoY20pIHsNCiAgICAgICAgdmFyIGRvYyA9IGNtLmRvYw0KICAgICAgICBpZiAoZG9jLmZyb250aWVyIDwgZG9jLmZpcnN0KSB7IGRvYy5mcm9udGllciA9IGRvYy5maXJzdCB9DQogICAgICAgIGlmIChkb2MuZnJvbnRpZXIgPj0gY20uZGlzcGxheS52aWV3VG8pIHsgcmV0dXJuIH0NCiAgICAgICAgdmFyIGVuZCA9ICtuZXcgRGF0ZSArIGNtLm9wdGlvbnMud29ya1RpbWUNCiAgICAgICAgdmFyIHN0YXRlID0gY29weVN0YXRlKGRvYy5tb2RlLCBnZXRTdGF0ZUJlZm9yZShjbSwgZG9jLmZyb250aWVyKSkNCiAgICAgICAgdmFyIGNoYW5nZWRMaW5lcyA9IFtdDQoNCiAgICAgICAgZG9jLml0ZXIoZG9jLmZyb250aWVyLCBNYXRoLm1pbihkb2MuZmlyc3QgKyBkb2Muc2l6ZSwgY20uZGlzcGxheS52aWV3VG8gKyA1MDApLCBmdW5jdGlvbiAobGluZSkgew0KICAgICAgICAgICAgaWYgKGRvYy5mcm9udGllciA+PSBjbS5kaXNwbGF5LnZpZXdGcm9tKSB7IC8vIFZpc2libGUNCiAgICAgICAgICAgICAgICB2YXIgb2xkU3R5bGVzID0gbGluZS5zdHlsZXMsIHRvb0xvbmcgPSBsaW5lLnRleHQubGVuZ3RoID4gY20ub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGgNCiAgICAgICAgICAgICAgICB2YXIgaGlnaGxpZ2h0ZWQgPSBoaWdobGlnaHRMaW5lKGNtLCBsaW5lLCB0b29Mb25nID8gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSkgOiBzdGF0ZSwgdHJ1ZSkNCiAgICAgICAgICAgICAgICBsaW5lLnN0eWxlcyA9IGhpZ2hsaWdodGVkLnN0eWxlcw0KICAgICAgICAgICAgICAgIHZhciBvbGRDbHMgPSBsaW5lLnN0eWxlQ2xhc3NlcywgbmV3Q2xzID0gaGlnaGxpZ2h0ZWQuY2xhc3Nlcw0KICAgICAgICAgICAgICAgIGlmIChuZXdDbHMpIHsgbGluZS5zdHlsZUNsYXNzZXMgPSBuZXdDbHMgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9sZENscykgeyBsaW5lLnN0eWxlQ2xhc3NlcyA9IG51bGwgfQ0KICAgICAgICAgICAgICAgIHZhciBpc2NoYW5nZSA9ICFvbGRTdHlsZXMgfHwgb2xkU3R5bGVzLmxlbmd0aCAhPSBsaW5lLnN0eWxlcy5sZW5ndGggfHwNCiAgICAgICAgICAgICAgICAgICAgb2xkQ2xzICE9IG5ld0NscyAmJiAoIW9sZENscyB8fCAhbmV3Q2xzIHx8IG9sZENscy5iZ0NsYXNzICE9IG5ld0Nscy5iZ0NsYXNzIHx8IG9sZENscy50ZXh0Q2xhc3MgIT0gbmV3Q2xzLnRleHRDbGFzcykNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgIWlzY2hhbmdlICYmIGkgPCBvbGRTdHlsZXMubGVuZ3RoOyArK2kpIHsgaXNjaGFuZ2UgPSBvbGRTdHlsZXNbaV0gIT0gbGluZS5zdHlsZXNbaV0gfQ0KICAgICAgICAgICAgICAgIGlmIChpc2NoYW5nZSkgeyBjaGFuZ2VkTGluZXMucHVzaChkb2MuZnJvbnRpZXIpIH0NCiAgICAgICAgICAgICAgICBsaW5lLnN0YXRlQWZ0ZXIgPSB0b29Mb25nID8gc3RhdGUgOiBjb3B5U3RhdGUoZG9jLm1vZGUsIHN0YXRlKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAobGluZS50ZXh0Lmxlbmd0aCA8PSBjbS5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aCkNCiAgICAgICAgICAgICAgICB7IHByb2Nlc3NMaW5lKGNtLCBsaW5lLnRleHQsIHN0YXRlKSB9DQogICAgICAgICAgICAgICAgbGluZS5zdGF0ZUFmdGVyID0gZG9jLmZyb250aWVyICUgNSA9PSAwID8gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSkgOiBudWxsDQogICAgICAgICAgICB9DQogICAgICAgICAgICArK2RvYy5mcm9udGllcg0KICAgICAgICAgICAgaWYgKCtuZXcgRGF0ZSA+IGVuZCkgew0KICAgICAgICAgICAgICAgIHN0YXJ0V29ya2VyKGNtLCBjbS5vcHRpb25zLndvcmtEZWxheSkNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICBpZiAoY2hhbmdlZExpbmVzLmxlbmd0aCkgeyBydW5Jbk9wKGNtLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZWRMaW5lcy5sZW5ndGg7IGkrKykNCiAgICAgICAgICAgIHsgcmVnTGluZUNoYW5nZShjbSwgY2hhbmdlZExpbmVzW2ldLCAidGV4dCIpIH0NCiAgICAgICAgfSkgfQ0KICAgIH0NCg0KLy8gRElTUExBWSBEUkFXSU5HDQoNCiAgICBmdW5jdGlvbiBEaXNwbGF5VXBkYXRlKGNtLCB2aWV3cG9ydCwgZm9yY2UpIHsNCiAgICAgICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5DQoNCiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0DQogICAgICAgIC8vIFN0b3JlIHNvbWUgdmFsdWVzIHRoYXQgd2UnbGwgbmVlZCBsYXRlciAoYnV0IGRvbid0IHdhbnQgdG8gZm9yY2UgYSByZWxheW91dCBmb3IpDQogICAgICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGVMaW5lcyhkaXNwbGF5LCBjbS5kb2MsIHZpZXdwb3J0KQ0KICAgICAgICB0aGlzLmVkaXRvcklzSGlkZGVuID0gIWRpc3BsYXkud3JhcHBlci5vZmZzZXRXaWR0aA0KICAgICAgICB0aGlzLndyYXBwZXJIZWlnaHQgPSBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0DQogICAgICAgIHRoaXMud3JhcHBlcldpZHRoID0gZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoDQogICAgICAgIHRoaXMub2xkRGlzcGxheVdpZHRoID0gZGlzcGxheVdpZHRoKGNtKQ0KICAgICAgICB0aGlzLmZvcmNlID0gZm9yY2UNCiAgICAgICAgdGhpcy5kaW1zID0gZ2V0RGltZW5zaW9ucyhjbSkNCiAgICAgICAgdGhpcy5ldmVudHMgPSBbXQ0KICAgIH0NCg0KICAgIERpc3BsYXlVcGRhdGUucHJvdG90eXBlLnNpZ25hbCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHsNCiAgICAgICAgaWYgKGhhc0hhbmRsZXIoZW1pdHRlciwgdHlwZSkpDQogICAgICAgIHsgdGhpcy5ldmVudHMucHVzaChhcmd1bWVudHMpIH0NCiAgICB9DQogICAgRGlzcGxheVVwZGF0ZS5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ldmVudHMubGVuZ3RoOyBpKyspDQogICAgICAgIHsgc2lnbmFsLmFwcGx5KG51bGwsIHRoaXMkMS5ldmVudHNbaV0pIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBtYXliZUNsaXBTY3JvbGxiYXJzKGNtKSB7DQogICAgICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheQ0KICAgICAgICBpZiAoIWRpc3BsYXkuc2Nyb2xsYmFyc0NsaXBwZWQgJiYgZGlzcGxheS5zY3JvbGxlci5vZmZzZXRXaWR0aCkgew0KICAgICAgICAgICAgZGlzcGxheS5uYXRpdmVCYXJXaWR0aCA9IGRpc3BsYXkuc2Nyb2xsZXIub2Zmc2V0V2lkdGggLSBkaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoDQogICAgICAgICAgICBkaXNwbGF5LmhlaWdodEZvcmNlci5zdHlsZS5oZWlnaHQgPSBzY3JvbGxHYXAoY20pICsgInB4Ig0KICAgICAgICAgICAgZGlzcGxheS5zaXplci5zdHlsZS5tYXJnaW5Cb3R0b20gPSAtZGlzcGxheS5uYXRpdmVCYXJXaWR0aCArICJweCINCiAgICAgICAgICAgIGRpc3BsYXkuc2l6ZXIuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCA9IHNjcm9sbEdhcChjbSkgKyAicHgiDQogICAgICAgICAgICBkaXNwbGF5LnNjcm9sbGJhcnNDbGlwcGVkID0gdHJ1ZQ0KICAgICAgICB9DQogICAgfQ0KDQovLyBEb2VzIHRoZSBhY3R1YWwgdXBkYXRpbmcgb2YgdGhlIGxpbmUgZGlzcGxheS4gQmFpbHMgb3V0DQovLyAocmV0dXJuaW5nIGZhbHNlKSB3aGVuIHRoZXJlIGlzIG5vdGhpbmcgdG8gYmUgZG9uZSBhbmQgZm9yY2VkIGlzDQovLyBmYWxzZS4NCiAgICBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5SWZOZWVkZWQoY20sIHVwZGF0ZSkgew0KICAgICAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYw0KDQogICAgICAgIGlmICh1cGRhdGUuZWRpdG9ySXNIaWRkZW4pIHsNCiAgICAgICAgICAgIHJlc2V0VmlldyhjbSkNCiAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gQmFpbCBvdXQgaWYgdGhlIHZpc2libGUgYXJlYSBpcyBhbHJlYWR5IHJlbmRlcmVkIGFuZCBub3RoaW5nIGNoYW5nZWQuDQogICAgICAgIGlmICghdXBkYXRlLmZvcmNlICYmDQogICAgICAgICAgICB1cGRhdGUudmlzaWJsZS5mcm9tID49IGRpc3BsYXkudmlld0Zyb20gJiYgdXBkYXRlLnZpc2libGUudG8gPD0gZGlzcGxheS52aWV3VG8gJiYNCiAgICAgICAgICAgIChkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID09IG51bGwgfHwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA+PSBkaXNwbGF5LnZpZXdUbykgJiYNCiAgICAgICAgICAgIGRpc3BsYXkucmVuZGVyZWRWaWV3ID09IGRpc3BsYXkudmlldyAmJiBjb3VudERpcnR5VmlldyhjbSkgPT0gMCkNCiAgICAgICAgeyByZXR1cm4gZmFsc2UgfQ0KDQogICAgICAgIGlmIChtYXliZVVwZGF0ZUxpbmVOdW1iZXJXaWR0aChjbSkpIHsNCiAgICAgICAgICAgIHJlc2V0VmlldyhjbSkNCiAgICAgICAgICAgIHVwZGF0ZS5kaW1zID0gZ2V0RGltZW5zaW9ucyhjbSkNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIENvbXB1dGUgYSBzdWl0YWJsZSBuZXcgdmlld3BvcnQgKGZyb20gJiB0bykNCiAgICAgICAgdmFyIGVuZCA9IGRvYy5maXJzdCArIGRvYy5zaXplDQogICAgICAgIHZhciBmcm9tID0gTWF0aC5tYXgodXBkYXRlLnZpc2libGUuZnJvbSAtIGNtLm9wdGlvbnMudmlld3BvcnRNYXJnaW4sIGRvYy5maXJzdCkNCiAgICAgICAgdmFyIHRvID0gTWF0aC5taW4oZW5kLCB1cGRhdGUudmlzaWJsZS50byArIGNtLm9wdGlvbnMudmlld3BvcnRNYXJnaW4pDQogICAgICAgIGlmIChkaXNwbGF5LnZpZXdGcm9tIDwgZnJvbSAmJiBmcm9tIC0gZGlzcGxheS52aWV3RnJvbSA8IDIwKSB7IGZyb20gPSBNYXRoLm1heChkb2MuZmlyc3QsIGRpc3BsYXkudmlld0Zyb20pIH0NCiAgICAgICAgaWYgKGRpc3BsYXkudmlld1RvID4gdG8gJiYgZGlzcGxheS52aWV3VG8gLSB0byA8IDIwKSB7IHRvID0gTWF0aC5taW4oZW5kLCBkaXNwbGF5LnZpZXdUbykgfQ0KICAgICAgICBpZiAoc2F3Q29sbGFwc2VkU3BhbnMpIHsNCiAgICAgICAgICAgIGZyb20gPSB2aXN1YWxMaW5lTm8oY20uZG9jLCBmcm9tKQ0KICAgICAgICAgICAgdG8gPSB2aXN1YWxMaW5lRW5kTm8oY20uZG9jLCB0bykNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBkaWZmZXJlbnQgPSBmcm9tICE9IGRpc3BsYXkudmlld0Zyb20gfHwgdG8gIT0gZGlzcGxheS52aWV3VG8gfHwNCiAgICAgICAgICAgIGRpc3BsYXkubGFzdFdyYXBIZWlnaHQgIT0gdXBkYXRlLndyYXBwZXJIZWlnaHQgfHwgZGlzcGxheS5sYXN0V3JhcFdpZHRoICE9IHVwZGF0ZS53cmFwcGVyV2lkdGgNCiAgICAgICAgYWRqdXN0VmlldyhjbSwgZnJvbSwgdG8pDQoNCiAgICAgICAgZGlzcGxheS52aWV3T2Zmc2V0ID0gaGVpZ2h0QXRMaW5lKGdldExpbmUoY20uZG9jLCBkaXNwbGF5LnZpZXdGcm9tKSkNCiAgICAgICAgLy8gUG9zaXRpb24gdGhlIG1vdmVyIGRpdiB0byBhbGlnbiB3aXRoIHRoZSBjdXJyZW50IHNjcm9sbCBwb3NpdGlvbg0KICAgICAgICBjbS5kaXNwbGF5Lm1vdmVyLnN0eWxlLnRvcCA9IGRpc3BsYXkudmlld09mZnNldCArICJweCINCg0KICAgICAgICB2YXIgdG9VcGRhdGUgPSBjb3VudERpcnR5VmlldyhjbSkNCiAgICAgICAgaWYgKCFkaWZmZXJlbnQgJiYgdG9VcGRhdGUgPT0gMCAmJiAhdXBkYXRlLmZvcmNlICYmIGRpc3BsYXkucmVuZGVyZWRWaWV3ID09IGRpc3BsYXkudmlldyAmJg0KICAgICAgICAgICAgKGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPT0gbnVsbCB8fCBkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID49IGRpc3BsYXkudmlld1RvKSkNCiAgICAgICAgeyByZXR1cm4gZmFsc2UgfQ0KDQogICAgICAgIC8vIEZvciBiaWcgY2hhbmdlcywgd2UgaGlkZSB0aGUgZW5jbG9zaW5nIGVsZW1lbnQgZHVyaW5nIHRoZQ0KICAgICAgICAvLyB1cGRhdGUsIHNpbmNlIHRoYXQgc3BlZWRzIHVwIHRoZSBvcGVyYXRpb25zIG9uIG1vc3QgYnJvd3NlcnMuDQogICAgICAgIHZhciBmb2N1c2VkID0gYWN0aXZlRWx0KCkNCiAgICAgICAgaWYgKHRvVXBkYXRlID4gNCkgeyBkaXNwbGF5LmxpbmVEaXYuc3R5bGUuZGlzcGxheSA9ICJub25lIiB9DQogICAgICAgIHBhdGNoRGlzcGxheShjbSwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycywgdXBkYXRlLmRpbXMpDQogICAgICAgIGlmICh0b1VwZGF0ZSA+IDQpIHsgZGlzcGxheS5saW5lRGl2LnN0eWxlLmRpc3BsYXkgPSAiIiB9DQogICAgICAgIGRpc3BsYXkucmVuZGVyZWRWaWV3ID0gZGlzcGxheS52aWV3DQogICAgICAgIC8vIFRoZXJlIG1pZ2h0IGhhdmUgYmVlbiBhIHdpZGdldCB3aXRoIGEgZm9jdXNlZCBlbGVtZW50IHRoYXQgZ290DQogICAgICAgIC8vIGhpZGRlbiBvciB1cGRhdGVkLCBpZiBzbyByZS1mb2N1cyBpdC4NCiAgICAgICAgaWYgKGZvY3VzZWQgJiYgYWN0aXZlRWx0KCkgIT0gZm9jdXNlZCAmJiBmb2N1c2VkLm9mZnNldEhlaWdodCkgeyBmb2N1c2VkLmZvY3VzKCkgfQ0KDQogICAgICAgIC8vIFByZXZlbnQgc2VsZWN0aW9uIGFuZCBjdXJzb3JzIGZyb20gaW50ZXJmZXJpbmcgd2l0aCB0aGUgc2Nyb2xsDQogICAgICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQuDQogICAgICAgIHJlbW92ZUNoaWxkcmVuKGRpc3BsYXkuY3Vyc29yRGl2KQ0KICAgICAgICByZW1vdmVDaGlsZHJlbihkaXNwbGF5LnNlbGVjdGlvbkRpdikNCiAgICAgICAgZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmhlaWdodCA9IGRpc3BsYXkuc2l6ZXIuc3R5bGUubWluSGVpZ2h0ID0gMA0KDQogICAgICAgIGlmIChkaWZmZXJlbnQpIHsNCiAgICAgICAgICAgIGRpc3BsYXkubGFzdFdyYXBIZWlnaHQgPSB1cGRhdGUud3JhcHBlckhlaWdodA0KICAgICAgICAgICAgZGlzcGxheS5sYXN0V3JhcFdpZHRoID0gdXBkYXRlLndyYXBwZXJXaWR0aA0KICAgICAgICAgICAgc3RhcnRXb3JrZXIoY20sIDQwMCkNCiAgICAgICAgfQ0KDQogICAgICAgIGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPSBudWxsDQoNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBwb3N0VXBkYXRlRGlzcGxheShjbSwgdXBkYXRlKSB7DQogICAgICAgIHZhciB2aWV3cG9ydCA9IHVwZGF0ZS52aWV3cG9ydA0KDQogICAgICAgIGZvciAodmFyIGZpcnN0ID0gdHJ1ZTs7IGZpcnN0ID0gZmFsc2UpIHsNCiAgICAgICAgICAgIGlmICghZmlyc3QgfHwgIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nIHx8IHVwZGF0ZS5vbGREaXNwbGF5V2lkdGggPT0gZGlzcGxheVdpZHRoKGNtKSkgew0KICAgICAgICAgICAgICAgIC8vIENsaXAgZm9yY2VkIHZpZXdwb3J0IHRvIGFjdHVhbCBzY3JvbGxhYmxlIGFyZWEuDQogICAgICAgICAgICAgICAgaWYgKHZpZXdwb3J0ICYmIHZpZXdwb3J0LnRvcCAhPSBudWxsKQ0KICAgICAgICAgICAgICAgIHsgdmlld3BvcnQgPSB7dG9wOiBNYXRoLm1pbihjbS5kb2MuaGVpZ2h0ICsgcGFkZGluZ1ZlcnQoY20uZGlzcGxheSkgLSBkaXNwbGF5SGVpZ2h0KGNtKSwgdmlld3BvcnQudG9wKX0gfQ0KICAgICAgICAgICAgICAgIC8vIFVwZGF0ZWQgbGluZSBoZWlnaHRzIG1pZ2h0IHJlc3VsdCBpbiB0aGUgZHJhd24gYXJlYSBub3QNCiAgICAgICAgICAgICAgICAvLyBhY3R1YWxseSBjb3ZlcmluZyB0aGUgdmlld3BvcnQuIEtlZXAgbG9vcGluZyB1bnRpbCBpdCBkb2VzLg0KICAgICAgICAgICAgICAgIHVwZGF0ZS52aXNpYmxlID0gdmlzaWJsZUxpbmVzKGNtLmRpc3BsYXksIGNtLmRvYywgdmlld3BvcnQpDQogICAgICAgICAgICAgICAgaWYgKHVwZGF0ZS52aXNpYmxlLmZyb20gPj0gY20uZGlzcGxheS52aWV3RnJvbSAmJiB1cGRhdGUudmlzaWJsZS50byA8PSBjbS5kaXNwbGF5LnZpZXdUbykNCiAgICAgICAgICAgICAgICB7IGJyZWFrIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghdXBkYXRlRGlzcGxheUlmTmVlZGVkKGNtLCB1cGRhdGUpKSB7IGJyZWFrIH0NCiAgICAgICAgICAgIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKQ0KICAgICAgICAgICAgdmFyIGJhck1lYXN1cmUgPSBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSkNCiAgICAgICAgICAgIHVwZGF0ZVNlbGVjdGlvbihjbSkNCiAgICAgICAgICAgIHVwZGF0ZVNjcm9sbGJhcnMoY20sIGJhck1lYXN1cmUpDQogICAgICAgICAgICBzZXREb2N1bWVudEhlaWdodChjbSwgYmFyTWVhc3VyZSkNCiAgICAgICAgfQ0KDQogICAgICAgIHVwZGF0ZS5zaWduYWwoY20sICJ1cGRhdGUiLCBjbSkNCiAgICAgICAgaWYgKGNtLmRpc3BsYXkudmlld0Zyb20gIT0gY20uZGlzcGxheS5yZXBvcnRlZFZpZXdGcm9tIHx8IGNtLmRpc3BsYXkudmlld1RvICE9IGNtLmRpc3BsYXkucmVwb3J0ZWRWaWV3VG8pIHsNCiAgICAgICAgICAgIHVwZGF0ZS5zaWduYWwoY20sICJ2aWV3cG9ydENoYW5nZSIsIGNtLCBjbS5kaXNwbGF5LnZpZXdGcm9tLCBjbS5kaXNwbGF5LnZpZXdUbykNCiAgICAgICAgICAgIGNtLmRpc3BsYXkucmVwb3J0ZWRWaWV3RnJvbSA9IGNtLmRpc3BsYXkudmlld0Zyb207IGNtLmRpc3BsYXkucmVwb3J0ZWRWaWV3VG8gPSBjbS5kaXNwbGF5LnZpZXdUbw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdXBkYXRlRGlzcGxheVNpbXBsZShjbSwgdmlld3BvcnQpIHsNCiAgICAgICAgdmFyIHVwZGF0ZSA9IG5ldyBEaXNwbGF5VXBkYXRlKGNtLCB2aWV3cG9ydCkNCiAgICAgICAgaWYgKHVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSkgew0KICAgICAgICAgICAgdXBkYXRlSGVpZ2h0c0luVmlld3BvcnQoY20pDQogICAgICAgICAgICBwb3N0VXBkYXRlRGlzcGxheShjbSwgdXBkYXRlKQ0KICAgICAgICAgICAgdmFyIGJhck1lYXN1cmUgPSBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSkNCiAgICAgICAgICAgIHVwZGF0ZVNlbGVjdGlvbihjbSkNCiAgICAgICAgICAgIHVwZGF0ZVNjcm9sbGJhcnMoY20sIGJhck1lYXN1cmUpDQogICAgICAgICAgICBzZXREb2N1bWVudEhlaWdodChjbSwgYmFyTWVhc3VyZSkNCiAgICAgICAgICAgIHVwZGF0ZS5maW5pc2goKQ0KICAgICAgICB9DQogICAgfQ0KDQovLyBTeW5jIHRoZSBhY3R1YWwgZGlzcGxheSBET00gc3RydWN0dXJlIHdpdGggZGlzcGxheS52aWV3LCByZW1vdmluZw0KLy8gbm9kZXMgZm9yIGxpbmVzIHRoYXQgYXJlIG5vIGxvbmdlciBpbiB2aWV3LCBhbmQgY3JlYXRpbmcgdGhlIG9uZXMNCi8vIHRoYXQgYXJlIG5vdCB0aGVyZSB5ZXQsIGFuZCB1cGRhdGluZyB0aGUgb25lcyB0aGF0IGFyZSBvdXQgb2YNCi8vIGRhdGUuDQogICAgZnVuY3Rpb24gcGF0Y2hEaXNwbGF5KGNtLCB1cGRhdGVOdW1iZXJzRnJvbSwgZGltcykgew0KICAgICAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGxpbmVOdW1iZXJzID0gY20ub3B0aW9ucy5saW5lTnVtYmVycw0KICAgICAgICB2YXIgY29udGFpbmVyID0gZGlzcGxheS5saW5lRGl2LCBjdXIgPSBjb250YWluZXIuZmlyc3RDaGlsZA0KDQogICAgICAgIGZ1bmN0aW9uIHJtKG5vZGUpIHsNCiAgICAgICAgICAgIHZhciBuZXh0ID0gbm9kZS5uZXh0U2libGluZw0KICAgICAgICAgICAgLy8gV29ya3MgYXJvdW5kIGEgdGhyb3ctc2Nyb2xsIGJ1ZyBpbiBPUyBYIFdlYmtpdA0KICAgICAgICAgICAgaWYgKHdlYmtpdCAmJiBtYWMgJiYgY20uZGlzcGxheS5jdXJyZW50V2hlZWxUYXJnZXQgPT0gbm9kZSkNCiAgICAgICAgICAgIHsgbm9kZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpIH0NCiAgICAgICAgICAgIHJldHVybiBuZXh0DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgdmlldyA9IGRpc3BsYXkudmlldywgbGluZU4gPSBkaXNwbGF5LnZpZXdGcm9tDQogICAgICAgIC8vIExvb3Agb3ZlciB0aGUgZWxlbWVudHMgaW4gdGhlIHZpZXcsIHN5bmNpbmcgY3VyICh0aGUgRE9NIG5vZGVzDQogICAgICAgIC8vIGluIGRpc3BsYXkubGluZURpdikgd2l0aCB0aGUgdmlldyBhcyB3ZSBnby4NCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgbGluZVZpZXcgPSB2aWV3W2ldDQogICAgICAgICAgICBpZiAobGluZVZpZXcuaGlkZGVuKSB7DQogICAgICAgICAgICB9IGVsc2UgaWYgKCFsaW5lVmlldy5ub2RlIHx8IGxpbmVWaWV3Lm5vZGUucGFyZW50Tm9kZSAhPSBjb250YWluZXIpIHsgLy8gTm90IGRyYXduIHlldA0KICAgICAgICAgICAgICAgIHZhciBub2RlID0gYnVpbGRMaW5lRWxlbWVudChjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKQ0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUobm9kZSwgY3VyKQ0KICAgICAgICAgICAgfSBlbHNlIHsgLy8gQWxyZWFkeSBkcmF3bg0KICAgICAgICAgICAgICAgIHdoaWxlIChjdXIgIT0gbGluZVZpZXcubm9kZSkgeyBjdXIgPSBybShjdXIpIH0NCiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlTnVtYmVyID0gbGluZU51bWJlcnMgJiYgdXBkYXRlTnVtYmVyc0Zyb20gIT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICAgICB1cGRhdGVOdW1iZXJzRnJvbSA8PSBsaW5lTiAmJiBsaW5lVmlldy5saW5lTnVtYmVyDQogICAgICAgICAgICAgICAgaWYgKGxpbmVWaWV3LmNoYW5nZXMpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4T2YobGluZVZpZXcuY2hhbmdlcywgImd1dHRlciIpID4gLTEpIHsgdXBkYXRlTnVtYmVyID0gZmFsc2UgfQ0KICAgICAgICAgICAgICAgICAgICB1cGRhdGVMaW5lRm9yQ2hhbmdlcyhjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAodXBkYXRlTnVtYmVyKSB7DQogICAgICAgICAgICAgICAgICAgIHJlbW92ZUNoaWxkcmVuKGxpbmVWaWV3LmxpbmVOdW1iZXIpDQogICAgICAgICAgICAgICAgICAgIGxpbmVWaWV3LmxpbmVOdW1iZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGluZU51bWJlckZvcihjbS5vcHRpb25zLCBsaW5lTikpKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjdXIgPSBsaW5lVmlldy5ub2RlLm5leHRTaWJsaW5nDQogICAgICAgICAgICB9DQogICAgICAgICAgICBsaW5lTiArPSBsaW5lVmlldy5zaXplDQogICAgICAgIH0NCiAgICAgICAgd2hpbGUgKGN1cikgeyBjdXIgPSBybShjdXIpIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiB1cGRhdGVHdXR0ZXJTcGFjZShjbSkgew0KICAgICAgICB2YXIgd2lkdGggPSBjbS5kaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGgNCiAgICAgICAgY20uZGlzcGxheS5zaXplci5zdHlsZS5tYXJnaW5MZWZ0ID0gd2lkdGggKyAicHgiDQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2V0RG9jdW1lbnRIZWlnaHQoY20sIG1lYXN1cmUpIHsNCiAgICAgICAgY20uZGlzcGxheS5zaXplci5zdHlsZS5taW5IZWlnaHQgPSBtZWFzdXJlLmRvY0hlaWdodCArICJweCINCiAgICAgICAgY20uZGlzcGxheS5oZWlnaHRGb3JjZXIuc3R5bGUudG9wID0gbWVhc3VyZS5kb2NIZWlnaHQgKyAicHgiDQogICAgICAgIGNtLmRpc3BsYXkuZ3V0dGVycy5zdHlsZS5oZWlnaHQgPSAobWVhc3VyZS5kb2NIZWlnaHQgKyBjbS5kaXNwbGF5LmJhckhlaWdodCArIHNjcm9sbEdhcChjbSkpICsgInB4Ig0KICAgIH0NCg0KLy8gUmVidWlsZCB0aGUgZ3V0dGVyIGVsZW1lbnRzLCBlbnN1cmUgdGhlIG1hcmdpbiB0byB0aGUgbGVmdCBvZiB0aGUNCi8vIGNvZGUgbWF0Y2hlcyB0aGVpciB3aWR0aC4NCiAgICBmdW5jdGlvbiB1cGRhdGVHdXR0ZXJzKGNtKSB7DQogICAgICAgIHZhciBndXR0ZXJzID0gY20uZGlzcGxheS5ndXR0ZXJzLCBzcGVjcyA9IGNtLm9wdGlvbnMuZ3V0dGVycw0KICAgICAgICByZW1vdmVDaGlsZHJlbihndXR0ZXJzKQ0KICAgICAgICB2YXIgaSA9IDANCiAgICAgICAgZm9yICg7IGkgPCBzcGVjcy5sZW5ndGg7ICsraSkgew0KICAgICAgICAgICAgdmFyIGd1dHRlckNsYXNzID0gc3BlY3NbaV0NCiAgICAgICAgICAgIHZhciBnRWx0ID0gZ3V0dGVycy5hcHBlbmRDaGlsZChlbHQoImRpdiIsIG51bGwsICJDb2RlTWlycm9yLWd1dHRlciAiICsgZ3V0dGVyQ2xhc3MpKQ0KICAgICAgICAgICAgaWYgKGd1dHRlckNsYXNzID09ICJDb2RlTWlycm9yLWxpbmVudW1iZXJzIikgew0KICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkubGluZUd1dHRlciA9IGdFbHQNCiAgICAgICAgICAgICAgICBnRWx0LnN0eWxlLndpZHRoID0gKGNtLmRpc3BsYXkubGluZU51bVdpZHRoIHx8IDEpICsgInB4Ig0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGd1dHRlcnMuc3R5bGUuZGlzcGxheSA9IGkgPyAiIiA6ICJub25lIg0KICAgICAgICB1cGRhdGVHdXR0ZXJTcGFjZShjbSkNCiAgICB9DQoNCi8vIE1ha2Ugc3VyZSB0aGUgZ3V0dGVycyBvcHRpb25zIGNvbnRhaW5zIHRoZSBlbGVtZW50DQovLyAiQ29kZU1pcnJvci1saW5lbnVtYmVycyIgd2hlbiB0aGUgbGluZU51bWJlcnMgb3B0aW9uIGlzIHRydWUuDQogICAgZnVuY3Rpb24gc2V0R3V0dGVyc0ZvckxpbmVOdW1iZXJzKG9wdGlvbnMpIHsNCiAgICAgICAgdmFyIGZvdW5kID0gaW5kZXhPZihvcHRpb25zLmd1dHRlcnMsICJDb2RlTWlycm9yLWxpbmVudW1iZXJzIikNCiAgICAgICAgaWYgKGZvdW5kID09IC0xICYmIG9wdGlvbnMubGluZU51bWJlcnMpIHsNCiAgICAgICAgICAgIG9wdGlvbnMuZ3V0dGVycyA9IG9wdGlvbnMuZ3V0dGVycy5jb25jYXQoWyJDb2RlTWlycm9yLWxpbmVudW1iZXJzIl0pDQogICAgICAgIH0gZWxzZSBpZiAoZm91bmQgPiAtMSAmJiAhb3B0aW9ucy5saW5lTnVtYmVycykgew0KICAgICAgICAgICAgb3B0aW9ucy5ndXR0ZXJzID0gb3B0aW9ucy5ndXR0ZXJzLnNsaWNlKDApDQogICAgICAgICAgICBvcHRpb25zLmd1dHRlcnMuc3BsaWNlKGZvdW5kLCAxKQ0KICAgICAgICB9DQogICAgfQ0KDQovLyBTZWxlY3Rpb24gb2JqZWN0cyBhcmUgaW1tdXRhYmxlLiBBIG5ldyBvbmUgaXMgY3JlYXRlZCBldmVyeSB0aW1lDQovLyB0aGUgc2VsZWN0aW9uIGNoYW5nZXMuIEEgc2VsZWN0aW9uIGlzIG9uZSBvciBtb3JlIG5vbi1vdmVybGFwcGluZw0KLy8gKGFuZCBub24tdG91Y2hpbmcpIHJhbmdlcywgc29ydGVkLCBhbmQgYW4gaW50ZWdlciB0aGF0IGluZGljYXRlcw0KLy8gd2hpY2ggb25lIGlzIHRoZSBwcmltYXJ5IHNlbGVjdGlvbiAodGhlIG9uZSB0aGF0J3Mgc2Nyb2xsZWQgaW50bw0KLy8gdmlldywgdGhhdCBnZXRDdXJzb3IgcmV0dXJucywgZXRjKS4NCiAgICBmdW5jdGlvbiBTZWxlY3Rpb24ocmFuZ2VzLCBwcmltSW5kZXgpIHsNCiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXMNCiAgICAgICAgdGhpcy5wcmltSW5kZXggPSBwcmltSW5kZXgNCiAgICB9DQoNCiAgICBTZWxlY3Rpb24ucHJvdG90eXBlID0gew0KICAgICAgICBwcmltYXJ5OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucmFuZ2VzW3RoaXMucHJpbUluZGV4XSB9LA0KICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7DQogICAgICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICAgICAgaWYgKG90aGVyID09IHRoaXMpIHsgcmV0dXJuIHRydWUgfQ0KICAgICAgICAgICAgaWYgKG90aGVyLnByaW1JbmRleCAhPSB0aGlzLnByaW1JbmRleCB8fCBvdGhlci5yYW5nZXMubGVuZ3RoICE9IHRoaXMucmFuZ2VzLmxlbmd0aCkgeyByZXR1cm4gZmFsc2UgfQ0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciBoZXJlID0gdGhpcyQxLnJhbmdlc1tpXSwgdGhlcmUgPSBvdGhlci5yYW5nZXNbaV0NCiAgICAgICAgICAgICAgICBpZiAoY21wKGhlcmUuYW5jaG9yLCB0aGVyZS5hbmNob3IpICE9IDAgfHwgY21wKGhlcmUuaGVhZCwgdGhlcmUuaGVhZCkgIT0gMCkgeyByZXR1cm4gZmFsc2UgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfSwNCiAgICAgICAgZGVlcENvcHk6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7DQoNCiAgICAgICAgICAgIHZhciBvdXQgPSBbXQ0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkrKykNCiAgICAgICAgICAgIHsgb3V0W2ldID0gbmV3IFJhbmdlKGNvcHlQb3ModGhpcyQxLnJhbmdlc1tpXS5hbmNob3IpLCBjb3B5UG9zKHRoaXMkMS5yYW5nZXNbaV0uaGVhZCkpIH0NCiAgICAgICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKG91dCwgdGhpcy5wcmltSW5kZXgpDQogICAgICAgIH0sDQogICAgICAgIHNvbWV0aGluZ1NlbGVjdGVkOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSsrKQ0KICAgICAgICAgICAgeyBpZiAoIXRoaXMkMS5yYW5nZXNbaV0uZW1wdHkoKSkgeyByZXR1cm4gdHJ1ZSB9IH0NCiAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9LA0KICAgICAgICBjb250YWluczogZnVuY3Rpb24ocG9zLCBlbmQpIHsNCiAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICBpZiAoIWVuZCkgeyBlbmQgPSBwb3MgfQ0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMkMS5yYW5nZXNbaV0NCiAgICAgICAgICAgICAgICBpZiAoY21wKGVuZCwgcmFuZ2UuZnJvbSgpKSA+PSAwICYmIGNtcChwb3MsIHJhbmdlLnRvKCkpIDw9IDApDQogICAgICAgICAgICAgICAgeyByZXR1cm4gaSB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gLTENCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFJhbmdlKGFuY2hvciwgaGVhZCkgew0KICAgICAgICB0aGlzLmFuY2hvciA9IGFuY2hvcjsgdGhpcy5oZWFkID0gaGVhZA0KICAgIH0NCg0KICAgIFJhbmdlLnByb3RvdHlwZSA9IHsNCiAgICAgICAgZnJvbTogZnVuY3Rpb24oKSB7IHJldHVybiBtaW5Qb3ModGhpcy5hbmNob3IsIHRoaXMuaGVhZCkgfSwNCiAgICAgICAgdG86IGZ1bmN0aW9uKCkgeyByZXR1cm4gbWF4UG9zKHRoaXMuYW5jaG9yLCB0aGlzLmhlYWQpIH0sDQogICAgICAgIGVtcHR5OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmhlYWQubGluZSA9PSB0aGlzLmFuY2hvci5saW5lICYmIHRoaXMuaGVhZC5jaCA9PSB0aGlzLmFuY2hvci5jaA0KICAgICAgICB9DQogICAgfQ0KDQovLyBUYWtlIGFuIHVuc29ydGVkLCBwb3RlbnRpYWxseSBvdmVybGFwcGluZyBzZXQgb2YgcmFuZ2VzLCBhbmQNCi8vIGJ1aWxkIGEgc2VsZWN0aW9uIG91dCBvZiBpdC4gJ0NvbnN1bWVzJyByYW5nZXMgYXJyYXkgKG1vZGlmeWluZw0KLy8gaXQpLg0KICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVNlbGVjdGlvbihyYW5nZXMsIHByaW1JbmRleCkgew0KICAgICAgICB2YXIgcHJpbSA9IHJhbmdlc1twcmltSW5kZXhdDQogICAgICAgIHJhbmdlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBjbXAoYS5mcm9tKCksIGIuZnJvbSgpKTsgfSkNCiAgICAgICAgcHJpbUluZGV4ID0gaW5kZXhPZihyYW5nZXMsIHByaW0pDQogICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgY3VyID0gcmFuZ2VzW2ldLCBwcmV2ID0gcmFuZ2VzW2kgLSAxXQ0KICAgICAgICAgICAgaWYgKGNtcChwcmV2LnRvKCksIGN1ci5mcm9tKCkpID49IDApIHsNCiAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IG1pblBvcyhwcmV2LmZyb20oKSwgY3VyLmZyb20oKSksIHRvID0gbWF4UG9zKHByZXYudG8oKSwgY3VyLnRvKCkpDQogICAgICAgICAgICAgICAgdmFyIGludiA9IHByZXYuZW1wdHkoKSA/IGN1ci5mcm9tKCkgPT0gY3VyLmhlYWQgOiBwcmV2LmZyb20oKSA9PSBwcmV2LmhlYWQNCiAgICAgICAgICAgICAgICBpZiAoaSA8PSBwcmltSW5kZXgpIHsgLS1wcmltSW5kZXggfQ0KICAgICAgICAgICAgICAgIHJhbmdlcy5zcGxpY2UoLS1pLCAyLCBuZXcgUmFuZ2UoaW52ID8gdG8gOiBmcm9tLCBpbnYgPyBmcm9tIDogdG8pKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKHJhbmdlcywgcHJpbUluZGV4KQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNpbXBsZVNlbGVjdGlvbihhbmNob3IsIGhlYWQpIHsNCiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oW25ldyBSYW5nZShhbmNob3IsIGhlYWQgfHwgYW5jaG9yKV0sIDApDQogICAgfQ0KDQovLyBDb21wdXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZW5kIG9mIGEgY2hhbmdlIChpdHMgJ3RvJyBwcm9wZXJ0eQ0KLy8gcmVmZXJzIHRvIHRoZSBwcmUtY2hhbmdlIGVuZCkuDQogICAgZnVuY3Rpb24gY2hhbmdlRW5kKGNoYW5nZSkgew0KICAgICAgICBpZiAoIWNoYW5nZS50ZXh0KSB7IHJldHVybiBjaGFuZ2UudG8gfQ0KICAgICAgICByZXR1cm4gUG9zKGNoYW5nZS5mcm9tLmxpbmUgKyBjaGFuZ2UudGV4dC5sZW5ndGggLSAxLA0KICAgICAgICAgICAgbHN0KGNoYW5nZS50ZXh0KS5sZW5ndGggKyAoY2hhbmdlLnRleHQubGVuZ3RoID09IDEgPyBjaGFuZ2UuZnJvbS5jaCA6IDApKQ0KICAgIH0NCg0KLy8gQWRqdXN0IGEgcG9zaXRpb24gdG8gcmVmZXIgdG8gdGhlIHBvc3QtY2hhbmdlIHBvc2l0aW9uIG9mIHRoZQ0KLy8gc2FtZSB0ZXh0LCBvciB0aGUgZW5kIG9mIHRoZSBjaGFuZ2UgaWYgdGhlIGNoYW5nZSBjb3ZlcnMgaXQuDQogICAgZnVuY3Rpb24gYWRqdXN0Rm9yQ2hhbmdlKHBvcywgY2hhbmdlKSB7DQogICAgICAgIGlmIChjbXAocG9zLCBjaGFuZ2UuZnJvbSkgPCAwKSB7IHJldHVybiBwb3MgfQ0KICAgICAgICBpZiAoY21wKHBvcywgY2hhbmdlLnRvKSA8PSAwKSB7IHJldHVybiBjaGFuZ2VFbmQoY2hhbmdlKSB9DQoNCiAgICAgICAgdmFyIGxpbmUgPSBwb3MubGluZSArIGNoYW5nZS50ZXh0Lmxlbmd0aCAtIChjaGFuZ2UudG8ubGluZSAtIGNoYW5nZS5mcm9tLmxpbmUpIC0gMSwgY2ggPSBwb3MuY2gNCiAgICAgICAgaWYgKHBvcy5saW5lID09IGNoYW5nZS50by5saW5lKSB7IGNoICs9IGNoYW5nZUVuZChjaGFuZ2UpLmNoIC0gY2hhbmdlLnRvLmNoIH0NCiAgICAgICAgcmV0dXJuIFBvcyhsaW5lLCBjaCkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIHsNCiAgICAgICAgdmFyIG91dCA9IFtdDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHZhciByYW5nZSA9IGRvYy5zZWwucmFuZ2VzW2ldDQogICAgICAgICAgICBvdXQucHVzaChuZXcgUmFuZ2UoYWRqdXN0Rm9yQ2hhbmdlKHJhbmdlLmFuY2hvciwgY2hhbmdlKSwNCiAgICAgICAgICAgICAgICBhZGp1c3RGb3JDaGFuZ2UocmFuZ2UuaGVhZCwgY2hhbmdlKSkpDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVNlbGVjdGlvbihvdXQsIGRvYy5zZWwucHJpbUluZGV4KQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG9mZnNldFBvcyhwb3MsIG9sZCwgbncpIHsNCiAgICAgICAgaWYgKHBvcy5saW5lID09IG9sZC5saW5lKQ0KICAgICAgICB7IHJldHVybiBQb3MobncubGluZSwgcG9zLmNoIC0gb2xkLmNoICsgbncuY2gpIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7IHJldHVybiBQb3MobncubGluZSArIChwb3MubGluZSAtIG9sZC5saW5lKSwgcG9zLmNoKSB9DQogICAgfQ0KDQovLyBVc2VkIGJ5IHJlcGxhY2VTZWxlY3Rpb25zIHRvIGFsbG93IG1vdmluZyB0aGUgc2VsZWN0aW9uIHRvIHRoZQ0KLy8gc3RhcnQgb3IgYXJvdW5kIHRoZSByZXBsYWNlZCB0ZXN0LiBIaW50IG1heSBiZSAic3RhcnQiIG9yICJhcm91bmQiLg0KICAgIGZ1bmN0aW9uIGNvbXB1dGVSZXBsYWNlZFNlbChkb2MsIGNoYW5nZXMsIGhpbnQpIHsNCiAgICAgICAgdmFyIG91dCA9IFtdDQogICAgICAgIHZhciBvbGRQcmV2ID0gUG9zKGRvYy5maXJzdCwgMCksIG5ld1ByZXYgPSBvbGRQcmV2DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGNoYW5nZXNbaV0NCiAgICAgICAgICAgIHZhciBmcm9tID0gb2Zmc2V0UG9zKGNoYW5nZS5mcm9tLCBvbGRQcmV2LCBuZXdQcmV2KQ0KICAgICAgICAgICAgdmFyIHRvID0gb2Zmc2V0UG9zKGNoYW5nZUVuZChjaGFuZ2UpLCBvbGRQcmV2LCBuZXdQcmV2KQ0KICAgICAgICAgICAgb2xkUHJldiA9IGNoYW5nZS50bw0KICAgICAgICAgICAgbmV3UHJldiA9IHRvDQogICAgICAgICAgICBpZiAoaGludCA9PSAiYXJvdW5kIikgew0KICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IGRvYy5zZWwucmFuZ2VzW2ldLCBpbnYgPSBjbXAocmFuZ2UuaGVhZCwgcmFuZ2UuYW5jaG9yKSA8IDANCiAgICAgICAgICAgICAgICBvdXRbaV0gPSBuZXcgUmFuZ2UoaW52ID8gdG8gOiBmcm9tLCBpbnYgPyBmcm9tIDogdG8pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG91dFtpXSA9IG5ldyBSYW5nZShmcm9tLCBmcm9tKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKG91dCwgZG9jLnNlbC5wcmltSW5kZXgpDQogICAgfQ0KDQovLyBVc2VkIHRvIGdldCB0aGUgZWRpdG9yIGludG8gYSBjb25zaXN0ZW50IHN0YXRlIGFnYWluIHdoZW4gb3B0aW9ucyBjaGFuZ2UuDQoNCiAgICBmdW5jdGlvbiBsb2FkTW9kZShjbSkgew0KICAgICAgICBjbS5kb2MubW9kZSA9IGdldE1vZGUoY20ub3B0aW9ucywgY20uZG9jLm1vZGVPcHRpb24pDQogICAgICAgIHJlc2V0TW9kZVN0YXRlKGNtKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHJlc2V0TW9kZVN0YXRlKGNtKSB7DQogICAgICAgIGNtLmRvYy5pdGVyKGZ1bmN0aW9uIChsaW5lKSB7DQogICAgICAgICAgICBpZiAobGluZS5zdGF0ZUFmdGVyKSB7IGxpbmUuc3RhdGVBZnRlciA9IG51bGwgfQ0KICAgICAgICAgICAgaWYgKGxpbmUuc3R5bGVzKSB7IGxpbmUuc3R5bGVzID0gbnVsbCB9DQogICAgICAgIH0pDQogICAgICAgIGNtLmRvYy5mcm9udGllciA9IGNtLmRvYy5maXJzdA0KICAgICAgICBzdGFydFdvcmtlcihjbSwgMTAwKQ0KICAgICAgICBjbS5zdGF0ZS5tb2RlR2VuKysNCiAgICAgICAgaWYgKGNtLmN1ck9wKSB7IHJlZ0NoYW5nZShjbSkgfQ0KICAgIH0NCg0KLy8gRE9DVU1FTlQgREFUQSBTVFJVQ1RVUkUNCg0KLy8gQnkgZGVmYXVsdCwgdXBkYXRlcyB0aGF0IHN0YXJ0IGFuZCBlbmQgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmUNCi8vIGFyZSB0cmVhdGVkIHNwZWNpYWxseSwgaW4gb3JkZXIgdG8gbWFrZSB0aGUgYXNzb2NpYXRpb24gb2YgbGluZQ0KLy8gd2lkZ2V0cyBhbmQgbWFya2VyIGVsZW1lbnRzIHdpdGggdGhlIHRleHQgYmVoYXZlIG1vcmUgaW50dWl0aXZlLg0KICAgIGZ1bmN0aW9uIGlzV2hvbGVMaW5lVXBkYXRlKGRvYywgY2hhbmdlKSB7DQogICAgICAgIHJldHVybiBjaGFuZ2UuZnJvbS5jaCA9PSAwICYmIGNoYW5nZS50by5jaCA9PSAwICYmIGxzdChjaGFuZ2UudGV4dCkgPT0gIiIgJiYNCiAgICAgICAgICAgICghZG9jLmNtIHx8IGRvYy5jbS5vcHRpb25zLndob2xlTGluZVVwZGF0ZUJlZm9yZSkNCiAgICB9DQoNCi8vIFBlcmZvcm0gYSBjaGFuZ2Ugb24gdGhlIGRvY3VtZW50IGRhdGEgc3RydWN0dXJlLg0KICAgIGZ1bmN0aW9uIHVwZGF0ZURvYyhkb2MsIGNoYW5nZSwgbWFya2VkU3BhbnMsIGVzdGltYXRlSGVpZ2h0JCQxKSB7DQogICAgICAgIGZ1bmN0aW9uIHNwYW5zRm9yKG4pIHtyZXR1cm4gbWFya2VkU3BhbnMgPyBtYXJrZWRTcGFuc1tuXSA6IG51bGx9DQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZShsaW5lLCB0ZXh0LCBzcGFucykgew0KICAgICAgICAgICAgdXBkYXRlTGluZShsaW5lLCB0ZXh0LCBzcGFucywgZXN0aW1hdGVIZWlnaHQkJDEpDQogICAgICAgICAgICBzaWduYWxMYXRlcihsaW5lLCAiY2hhbmdlIiwgbGluZSwgY2hhbmdlKQ0KICAgICAgICB9DQogICAgICAgIGZ1bmN0aW9uIGxpbmVzRm9yKHN0YXJ0LCBlbmQpIHsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXQ0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpDQogICAgICAgICAgICB7IHJlc3VsdC5wdXNoKG5ldyBMaW5lKHRleHRbaV0sIHNwYW5zRm9yKGkpLCBlc3RpbWF0ZUhlaWdodCQkMSkpIH0NCiAgICAgICAgICAgIHJldHVybiByZXN1bHQNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBmcm9tID0gY2hhbmdlLmZyb20sIHRvID0gY2hhbmdlLnRvLCB0ZXh0ID0gY2hhbmdlLnRleHQNCiAgICAgICAgdmFyIGZpcnN0TGluZSA9IGdldExpbmUoZG9jLCBmcm9tLmxpbmUpLCBsYXN0TGluZSA9IGdldExpbmUoZG9jLCB0by5saW5lKQ0KICAgICAgICB2YXIgbGFzdFRleHQgPSBsc3QodGV4dCksIGxhc3RTcGFucyA9IHNwYW5zRm9yKHRleHQubGVuZ3RoIC0gMSksIG5saW5lcyA9IHRvLmxpbmUgLSBmcm9tLmxpbmUNCg0KICAgICAgICAvLyBBZGp1c3QgdGhlIGxpbmUgc3RydWN0dXJlDQogICAgICAgIGlmIChjaGFuZ2UuZnVsbCkgew0KICAgICAgICAgICAgZG9jLmluc2VydCgwLCBsaW5lc0ZvcigwLCB0ZXh0Lmxlbmd0aCkpDQogICAgICAgICAgICBkb2MucmVtb3ZlKHRleHQubGVuZ3RoLCBkb2Muc2l6ZSAtIHRleHQubGVuZ3RoKQ0KICAgICAgICB9IGVsc2UgaWYgKGlzV2hvbGVMaW5lVXBkYXRlKGRvYywgY2hhbmdlKSkgew0KICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHdob2xlLWxpbmUgcmVwbGFjZS4gVHJlYXRlZCBzcGVjaWFsbHkgdG8gbWFrZQ0KICAgICAgICAgICAgLy8gc3VyZSBsaW5lIG9iamVjdHMgbW92ZSB0aGUgd2F5IHRoZXkgYXJlIHN1cHBvc2VkIHRvLg0KICAgICAgICAgICAgdmFyIGFkZGVkID0gbGluZXNGb3IoMCwgdGV4dC5sZW5ndGggLSAxKQ0KICAgICAgICAgICAgdXBkYXRlKGxhc3RMaW5lLCBsYXN0TGluZS50ZXh0LCBsYXN0U3BhbnMpDQogICAgICAgICAgICBpZiAobmxpbmVzKSB7IGRvYy5yZW1vdmUoZnJvbS5saW5lLCBubGluZXMpIH0NCiAgICAgICAgICAgIGlmIChhZGRlZC5sZW5ndGgpIHsgZG9jLmluc2VydChmcm9tLmxpbmUsIGFkZGVkKSB9DQogICAgICAgIH0gZWxzZSBpZiAoZmlyc3RMaW5lID09IGxhc3RMaW5lKSB7DQogICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMSkgew0KICAgICAgICAgICAgICAgIHVwZGF0ZShmaXJzdExpbmUsIGZpcnN0TGluZS50ZXh0LnNsaWNlKDAsIGZyb20uY2gpICsgbGFzdFRleHQgKyBmaXJzdExpbmUudGV4dC5zbGljZSh0by5jaCksIGxhc3RTcGFucykNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdmFyIGFkZGVkJDEgPSBsaW5lc0ZvcigxLCB0ZXh0Lmxlbmd0aCAtIDEpDQogICAgICAgICAgICAgICAgYWRkZWQkMS5wdXNoKG5ldyBMaW5lKGxhc3RUZXh0ICsgZmlyc3RMaW5lLnRleHQuc2xpY2UodG8uY2gpLCBsYXN0U3BhbnMsIGVzdGltYXRlSGVpZ2h0JCQxKSkNCiAgICAgICAgICAgICAgICB1cGRhdGUoZmlyc3RMaW5lLCBmaXJzdExpbmUudGV4dC5zbGljZSgwLCBmcm9tLmNoKSArIHRleHRbMF0sIHNwYW5zRm9yKDApKQ0KICAgICAgICAgICAgICAgIGRvYy5pbnNlcnQoZnJvbS5saW5lICsgMSwgYWRkZWQkMSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIGlmICh0ZXh0Lmxlbmd0aCA9PSAxKSB7DQogICAgICAgICAgICB1cGRhdGUoZmlyc3RMaW5lLCBmaXJzdExpbmUudGV4dC5zbGljZSgwLCBmcm9tLmNoKSArIHRleHRbMF0gKyBsYXN0TGluZS50ZXh0LnNsaWNlKHRvLmNoKSwgc3BhbnNGb3IoMCkpDQogICAgICAgICAgICBkb2MucmVtb3ZlKGZyb20ubGluZSArIDEsIG5saW5lcykNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHVwZGF0ZShmaXJzdExpbmUsIGZpcnN0TGluZS50ZXh0LnNsaWNlKDAsIGZyb20uY2gpICsgdGV4dFswXSwgc3BhbnNGb3IoMCkpDQogICAgICAgICAgICB1cGRhdGUobGFzdExpbmUsIGxhc3RUZXh0ICsgbGFzdExpbmUudGV4dC5zbGljZSh0by5jaCksIGxhc3RTcGFucykNCiAgICAgICAgICAgIHZhciBhZGRlZCQyID0gbGluZXNGb3IoMSwgdGV4dC5sZW5ndGggLSAxKQ0KICAgICAgICAgICAgaWYgKG5saW5lcyA+IDEpIHsgZG9jLnJlbW92ZShmcm9tLmxpbmUgKyAxLCBubGluZXMgLSAxKSB9DQogICAgICAgICAgICBkb2MuaW5zZXJ0KGZyb20ubGluZSArIDEsIGFkZGVkJDIpDQogICAgICAgIH0NCg0KICAgICAgICBzaWduYWxMYXRlcihkb2MsICJjaGFuZ2UiLCBkb2MsIGNoYW5nZSkNCiAgICB9DQoNCi8vIENhbGwgZiBmb3IgYWxsIGxpbmtlZCBkb2N1bWVudHMuDQogICAgZnVuY3Rpb24gbGlua2VkRG9jcyhkb2MsIGYsIHNoYXJlZEhpc3RPbmx5KSB7DQogICAgICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZShkb2MsIHNraXAsIHNoYXJlZEhpc3QpIHsNCiAgICAgICAgICAgIGlmIChkb2MubGlua2VkKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLmxpbmtlZC5sZW5ndGg7ICsraSkgew0KICAgICAgICAgICAgICAgIHZhciByZWwgPSBkb2MubGlua2VkW2ldDQogICAgICAgICAgICAgICAgaWYgKHJlbC5kb2MgPT0gc2tpcCkgeyBjb250aW51ZSB9DQogICAgICAgICAgICAgICAgdmFyIHNoYXJlZCA9IHNoYXJlZEhpc3QgJiYgcmVsLnNoYXJlZEhpc3QNCiAgICAgICAgICAgICAgICBpZiAoc2hhcmVkSGlzdE9ubHkgJiYgIXNoYXJlZCkgeyBjb250aW51ZSB9DQogICAgICAgICAgICAgICAgZihyZWwuZG9jLCBzaGFyZWQpDQogICAgICAgICAgICAgICAgcHJvcGFnYXRlKHJlbC5kb2MsIGRvYywgc2hhcmVkKQ0KICAgICAgICAgICAgfSB9DQogICAgICAgIH0NCiAgICAgICAgcHJvcGFnYXRlKGRvYywgbnVsbCwgdHJ1ZSkNCiAgICB9DQoNCi8vIEF0dGFjaCBhIGRvY3VtZW50IHRvIGFuIGVkaXRvci4NCiAgICBmdW5jdGlvbiBhdHRhY2hEb2MoY20sIGRvYykgew0KICAgICAgICBpZiAoZG9jLmNtKSB7IHRocm93IG5ldyBFcnJvcigiVGhpcyBkb2N1bWVudCBpcyBhbHJlYWR5IGluIHVzZS4iKSB9DQogICAgICAgIGNtLmRvYyA9IGRvYw0KICAgICAgICBkb2MuY20gPSBjbQ0KICAgICAgICBlc3RpbWF0ZUxpbmVIZWlnaHRzKGNtKQ0KICAgICAgICBsb2FkTW9kZShjbSkNCiAgICAgICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgeyBmaW5kTWF4TGluZShjbSkgfQ0KICAgICAgICBjbS5vcHRpb25zLm1vZGUgPSBkb2MubW9kZU9wdGlvbg0KICAgICAgICByZWdDaGFuZ2UoY20pDQogICAgfQ0KDQogICAgZnVuY3Rpb24gSGlzdG9yeShzdGFydEdlbikgew0KICAgICAgICAvLyBBcnJheXMgb2YgY2hhbmdlIGV2ZW50cyBhbmQgc2VsZWN0aW9ucy4gRG9pbmcgc29tZXRoaW5nIGFkZHMgYW4NCiAgICAgICAgLy8gZXZlbnQgdG8gZG9uZSBhbmQgY2xlYXJzIHVuZG8uIFVuZG9pbmcgbW92ZXMgZXZlbnRzIGZyb20gZG9uZQ0KICAgICAgICAvLyB0byB1bmRvbmUsIHJlZG9pbmcgbW92ZXMgdGhlbSBpbiB0aGUgb3RoZXIgZGlyZWN0aW9uLg0KICAgICAgICB0aGlzLmRvbmUgPSBbXTsgdGhpcy51bmRvbmUgPSBbXQ0KICAgICAgICB0aGlzLnVuZG9EZXB0aCA9IEluZmluaXR5DQogICAgICAgIC8vIFVzZWQgdG8gdHJhY2sgd2hlbiBjaGFuZ2VzIGNhbiBiZSBtZXJnZWQgaW50byBhIHNpbmdsZSB1bmRvDQogICAgICAgIC8vIGV2ZW50DQogICAgICAgIHRoaXMubGFzdE1vZFRpbWUgPSB0aGlzLmxhc3RTZWxUaW1lID0gMA0KICAgICAgICB0aGlzLmxhc3RPcCA9IHRoaXMubGFzdFNlbE9wID0gbnVsbA0KICAgICAgICB0aGlzLmxhc3RPcmlnaW4gPSB0aGlzLmxhc3RTZWxPcmlnaW4gPSBudWxsDQogICAgICAgIC8vIFVzZWQgYnkgdGhlIGlzQ2xlYW4oKSBtZXRob2QNCiAgICAgICAgdGhpcy5nZW5lcmF0aW9uID0gdGhpcy5tYXhHZW5lcmF0aW9uID0gc3RhcnRHZW4gfHwgMQ0KICAgIH0NCg0KLy8gQ3JlYXRlIGEgaGlzdG9yeSBjaGFuZ2UgZXZlbnQgZnJvbSBhbiB1cGRhdGVEb2Mtc3R5bGUgY2hhbmdlDQovLyBvYmplY3QuDQogICAgZnVuY3Rpb24gaGlzdG9yeUNoYW5nZUZyb21DaGFuZ2UoZG9jLCBjaGFuZ2UpIHsNCiAgICAgICAgdmFyIGhpc3RDaGFuZ2UgPSB7ZnJvbTogY29weVBvcyhjaGFuZ2UuZnJvbSksIHRvOiBjaGFuZ2VFbmQoY2hhbmdlKSwgdGV4dDogZ2V0QmV0d2Vlbihkb2MsIGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pfQ0KICAgICAgICBhdHRhY2hMb2NhbFNwYW5zKGRvYywgaGlzdENoYW5nZSwgY2hhbmdlLmZyb20ubGluZSwgY2hhbmdlLnRvLmxpbmUgKyAxKQ0KICAgICAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24gKGRvYykgeyByZXR1cm4gYXR0YWNoTG9jYWxTcGFucyhkb2MsIGhpc3RDaGFuZ2UsIGNoYW5nZS5mcm9tLmxpbmUsIGNoYW5nZS50by5saW5lICsgMSk7IH0sIHRydWUpDQogICAgICAgIHJldHVybiBoaXN0Q2hhbmdlDQogICAgfQ0KDQovLyBQb3AgYWxsIHNlbGVjdGlvbiBldmVudHMgb2ZmIHRoZSBlbmQgb2YgYSBoaXN0b3J5IGFycmF5LiBTdG9wIGF0DQovLyBhIGNoYW5nZSBldmVudC4NCiAgICBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbkV2ZW50cyhhcnJheSkgew0KICAgICAgICB3aGlsZSAoYXJyYXkubGVuZ3RoKSB7DQogICAgICAgICAgICB2YXIgbGFzdCA9IGxzdChhcnJheSkNCiAgICAgICAgICAgIGlmIChsYXN0LnJhbmdlcykgeyBhcnJheS5wb3AoKSB9DQogICAgICAgICAgICBlbHNlIHsgYnJlYWsgfQ0KICAgICAgICB9DQogICAgfQ0KDQovLyBGaW5kIHRoZSB0b3AgY2hhbmdlIGV2ZW50IGluIHRoZSBoaXN0b3J5LiBQb3Agb2ZmIHNlbGVjdGlvbg0KLy8gZXZlbnRzIHRoYXQgYXJlIGluIHRoZSB3YXkuDQogICAgZnVuY3Rpb24gbGFzdENoYW5nZUV2ZW50KGhpc3QsIGZvcmNlKSB7DQogICAgICAgIGlmIChmb3JjZSkgew0KICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb25FdmVudHMoaGlzdC5kb25lKQ0KICAgICAgICAgICAgcmV0dXJuIGxzdChoaXN0LmRvbmUpDQogICAgICAgIH0gZWxzZSBpZiAoaGlzdC5kb25lLmxlbmd0aCAmJiAhbHN0KGhpc3QuZG9uZSkucmFuZ2VzKSB7DQogICAgICAgICAgICByZXR1cm4gbHN0KGhpc3QuZG9uZSkNCiAgICAgICAgfSBlbHNlIGlmIChoaXN0LmRvbmUubGVuZ3RoID4gMSAmJiAhaGlzdC5kb25lW2hpc3QuZG9uZS5sZW5ndGggLSAyXS5yYW5nZXMpIHsNCiAgICAgICAgICAgIGhpc3QuZG9uZS5wb3AoKQ0KICAgICAgICAgICAgcmV0dXJuIGxzdChoaXN0LmRvbmUpDQogICAgICAgIH0NCiAgICB9DQoNCi8vIFJlZ2lzdGVyIGEgY2hhbmdlIGluIHRoZSBoaXN0b3J5LiBNZXJnZXMgY2hhbmdlcyB0aGF0IGFyZSB3aXRoaW4NCi8vIGEgc2luZ2xlIG9wZXJhdGlvbiwgb3IgYXJlIGNsb3NlIHRvZ2V0aGVyIHdpdGggYW4gb3JpZ2luIHRoYXQNCi8vIGFsbG93cyBtZXJnaW5nIChzdGFydGluZyB3aXRoICIrIikgaW50byBhIHNpbmdsZSBldmVudC4NCiAgICBmdW5jdGlvbiBhZGRDaGFuZ2VUb0hpc3RvcnkoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBvcElkKSB7DQogICAgICAgIHZhciBoaXN0ID0gZG9jLmhpc3RvcnkNCiAgICAgICAgaGlzdC51bmRvbmUubGVuZ3RoID0gMA0KICAgICAgICB2YXIgdGltZSA9ICtuZXcgRGF0ZSwgY3VyDQogICAgICAgIHZhciBsYXN0DQoNCiAgICAgICAgaWYgKChoaXN0Lmxhc3RPcCA9PSBvcElkIHx8DQogICAgICAgICAgICBoaXN0Lmxhc3RPcmlnaW4gPT0gY2hhbmdlLm9yaWdpbiAmJiBjaGFuZ2Uub3JpZ2luICYmDQogICAgICAgICAgICAoKGNoYW5nZS5vcmlnaW4uY2hhckF0KDApID09ICIrIiAmJiBkb2MuY20gJiYgaGlzdC5sYXN0TW9kVGltZSA+IHRpbWUgLSBkb2MuY20ub3B0aW9ucy5oaXN0b3J5RXZlbnREZWxheSkgfHwNCiAgICAgICAgICAgIGNoYW5nZS5vcmlnaW4uY2hhckF0KDApID09ICIqIikpICYmDQogICAgICAgICAgICAoY3VyID0gbGFzdENoYW5nZUV2ZW50KGhpc3QsIGhpc3QubGFzdE9wID09IG9wSWQpKSkgew0KICAgICAgICAgICAgLy8gTWVyZ2UgdGhpcyBjaGFuZ2UgaW50byB0aGUgbGFzdCBldmVudA0KICAgICAgICAgICAgbGFzdCA9IGxzdChjdXIuY2hhbmdlcykNCiAgICAgICAgICAgIGlmIChjbXAoY2hhbmdlLmZyb20sIGNoYW5nZS50bykgPT0gMCAmJiBjbXAoY2hhbmdlLmZyb20sIGxhc3QudG8pID09IDApIHsNCiAgICAgICAgICAgICAgICAvLyBPcHRpbWl6ZWQgY2FzZSBmb3Igc2ltcGxlIGluc2VydGlvbiAtLSBkb24ndCB3YW50IHRvIGFkZA0KICAgICAgICAgICAgICAgIC8vIG5ldyBjaGFuZ2VzZXRzIGZvciBldmVyeSBjaGFyYWN0ZXIgdHlwZWQNCiAgICAgICAgICAgICAgICBsYXN0LnRvID0gY2hhbmdlRW5kKGNoYW5nZSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8gQWRkIG5ldyBzdWItZXZlbnQNCiAgICAgICAgICAgICAgICBjdXIuY2hhbmdlcy5wdXNoKGhpc3RvcnlDaGFuZ2VGcm9tQ2hhbmdlKGRvYywgY2hhbmdlKSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vIENhbiBub3QgYmUgbWVyZ2VkLCBzdGFydCBhIG5ldyBldmVudC4NCiAgICAgICAgICAgIHZhciBiZWZvcmUgPSBsc3QoaGlzdC5kb25lKQ0KICAgICAgICAgICAgaWYgKCFiZWZvcmUgfHwgIWJlZm9yZS5yYW5nZXMpDQogICAgICAgICAgICB7IHB1c2hTZWxlY3Rpb25Ub0hpc3RvcnkoZG9jLnNlbCwgaGlzdC5kb25lKSB9DQogICAgICAgICAgICBjdXIgPSB7Y2hhbmdlczogW2hpc3RvcnlDaGFuZ2VGcm9tQ2hhbmdlKGRvYywgY2hhbmdlKV0sDQogICAgICAgICAgICAgICAgZ2VuZXJhdGlvbjogaGlzdC5nZW5lcmF0aW9ufQ0KICAgICAgICAgICAgaGlzdC5kb25lLnB1c2goY3VyKQ0KICAgICAgICAgICAgd2hpbGUgKGhpc3QuZG9uZS5sZW5ndGggPiBoaXN0LnVuZG9EZXB0aCkgew0KICAgICAgICAgICAgICAgIGhpc3QuZG9uZS5zaGlmdCgpDQogICAgICAgICAgICAgICAgaWYgKCFoaXN0LmRvbmVbMF0ucmFuZ2VzKSB7IGhpc3QuZG9uZS5zaGlmdCgpIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBoaXN0LmRvbmUucHVzaChzZWxBZnRlcikNCiAgICAgICAgaGlzdC5nZW5lcmF0aW9uID0gKytoaXN0Lm1heEdlbmVyYXRpb24NCiAgICAgICAgaGlzdC5sYXN0TW9kVGltZSA9IGhpc3QubGFzdFNlbFRpbWUgPSB0aW1lDQogICAgICAgIGhpc3QubGFzdE9wID0gaGlzdC5sYXN0U2VsT3AgPSBvcElkDQogICAgICAgIGhpc3QubGFzdE9yaWdpbiA9IGhpc3QubGFzdFNlbE9yaWdpbiA9IGNoYW5nZS5vcmlnaW4NCg0KICAgICAgICBpZiAoIWxhc3QpIHsgc2lnbmFsKGRvYywgImhpc3RvcnlBZGRlZCIpIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzZWxlY3Rpb25FdmVudENhbkJlTWVyZ2VkKGRvYywgb3JpZ2luLCBwcmV2LCBzZWwpIHsNCiAgICAgICAgdmFyIGNoID0gb3JpZ2luLmNoYXJBdCgwKQ0KICAgICAgICByZXR1cm4gY2ggPT0gIioiIHx8DQogICAgICAgICAgICBjaCA9PSAiKyIgJiYNCiAgICAgICAgICAgIHByZXYucmFuZ2VzLmxlbmd0aCA9PSBzZWwucmFuZ2VzLmxlbmd0aCAmJg0KICAgICAgICAgICAgcHJldi5zb21ldGhpbmdTZWxlY3RlZCgpID09IHNlbC5zb21ldGhpbmdTZWxlY3RlZCgpICYmDQogICAgICAgICAgICBuZXcgRGF0ZSAtIGRvYy5oaXN0b3J5Lmxhc3RTZWxUaW1lIDw9IChkb2MuY20gPyBkb2MuY20ub3B0aW9ucy5oaXN0b3J5RXZlbnREZWxheSA6IDUwMCkNCiAgICB9DQoNCi8vIENhbGxlZCB3aGVuZXZlciB0aGUgc2VsZWN0aW9uIGNoYW5nZXMsIHNldHMgdGhlIG5ldyBzZWxlY3Rpb24gYXMNCi8vIHRoZSBwZW5kaW5nIHNlbGVjdGlvbiBpbiB0aGUgaGlzdG9yeSwgYW5kIHB1c2hlcyB0aGUgb2xkIHBlbmRpbmcNCi8vIHNlbGVjdGlvbiBpbnRvIHRoZSAnZG9uZScgYXJyYXkgd2hlbiBpdCB3YXMgc2lnbmlmaWNhbnRseQ0KLy8gZGlmZmVyZW50IChpbiBudW1iZXIgb2Ygc2VsZWN0ZWQgcmFuZ2VzLCBlbXB0aW5lc3MsIG9yIHRpbWUpLg0KICAgIGZ1bmN0aW9uIGFkZFNlbGVjdGlvblRvSGlzdG9yeShkb2MsIHNlbCwgb3BJZCwgb3B0aW9ucykgew0KICAgICAgICB2YXIgaGlzdCA9IGRvYy5oaXN0b3J5LCBvcmlnaW4gPSBvcHRpb25zICYmIG9wdGlvbnMub3JpZ2luDQoNCiAgICAgICAgLy8gQSBuZXcgZXZlbnQgaXMgc3RhcnRlZCB3aGVuIHRoZSBwcmV2aW91cyBvcmlnaW4gZG9lcyBub3QgbWF0Y2gNCiAgICAgICAgLy8gdGhlIGN1cnJlbnQsIG9yIHRoZSBvcmlnaW5zIGRvbid0IGFsbG93IG1hdGNoaW5nLiBPcmlnaW5zDQogICAgICAgIC8vIHN0YXJ0aW5nIHdpdGggKiBhcmUgYWx3YXlzIG1lcmdlZCwgdGhvc2Ugc3RhcnRpbmcgd2l0aCArIGFyZQ0KICAgICAgICAvLyBtZXJnZWQgd2hlbiBzaW1pbGFyIGFuZCBjbG9zZSB0b2dldGhlciBpbiB0aW1lLg0KICAgICAgICBpZiAob3BJZCA9PSBoaXN0Lmxhc3RTZWxPcCB8fA0KICAgICAgICAgICAgKG9yaWdpbiAmJiBoaXN0Lmxhc3RTZWxPcmlnaW4gPT0gb3JpZ2luICYmDQogICAgICAgICAgICAoaGlzdC5sYXN0TW9kVGltZSA9PSBoaXN0Lmxhc3RTZWxUaW1lICYmIGhpc3QubGFzdE9yaWdpbiA9PSBvcmlnaW4gfHwNCiAgICAgICAgICAgIHNlbGVjdGlvbkV2ZW50Q2FuQmVNZXJnZWQoZG9jLCBvcmlnaW4sIGxzdChoaXN0LmRvbmUpLCBzZWwpKSkpDQogICAgICAgIHsgaGlzdC5kb25lW2hpc3QuZG9uZS5sZW5ndGggLSAxXSA9IHNlbCB9DQogICAgICAgIGVsc2UNCiAgICAgICAgeyBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KHNlbCwgaGlzdC5kb25lKSB9DQoNCiAgICAgICAgaGlzdC5sYXN0U2VsVGltZSA9ICtuZXcgRGF0ZQ0KICAgICAgICBoaXN0Lmxhc3RTZWxPcmlnaW4gPSBvcmlnaW4NCiAgICAgICAgaGlzdC5sYXN0U2VsT3AgPSBvcElkDQogICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuY2xlYXJSZWRvICE9PSBmYWxzZSkNCiAgICAgICAgeyBjbGVhclNlbGVjdGlvbkV2ZW50cyhoaXN0LnVuZG9uZSkgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHB1c2hTZWxlY3Rpb25Ub0hpc3Rvcnkoc2VsLCBkZXN0KSB7DQogICAgICAgIHZhciB0b3AgPSBsc3QoZGVzdCkNCiAgICAgICAgaWYgKCEodG9wICYmIHRvcC5yYW5nZXMgJiYgdG9wLmVxdWFscyhzZWwpKSkNCiAgICAgICAgeyBkZXN0LnB1c2goc2VsKSB9DQogICAgfQ0KDQovLyBVc2VkIHRvIHN0b3JlIG1hcmtlZCBzcGFuIGluZm9ybWF0aW9uIGluIHRoZSBoaXN0b3J5Lg0KICAgIGZ1bmN0aW9uIGF0dGFjaExvY2FsU3BhbnMoZG9jLCBjaGFuZ2UsIGZyb20sIHRvKSB7DQogICAgICAgIHZhciBleGlzdGluZyA9IGNoYW5nZVsic3BhbnNfIiArIGRvYy5pZF0sIG4gPSAwDQogICAgICAgIGRvYy5pdGVyKE1hdGgubWF4KGRvYy5maXJzdCwgZnJvbSksIE1hdGgubWluKGRvYy5maXJzdCArIGRvYy5zaXplLCB0byksIGZ1bmN0aW9uIChsaW5lKSB7DQogICAgICAgICAgICBpZiAobGluZS5tYXJrZWRTcGFucykNCiAgICAgICAgICAgIHsgKGV4aXN0aW5nIHx8IChleGlzdGluZyA9IGNoYW5nZVsic3BhbnNfIiArIGRvYy5pZF0gPSB7fSkpW25dID0gbGluZS5tYXJrZWRTcGFucyB9DQogICAgICAgICAgICArK24NCiAgICAgICAgfSkNCiAgICB9DQoNCi8vIFdoZW4gdW4vcmUtZG9pbmcgcmVzdG9yZXMgdGV4dCBjb250YWluaW5nIG1hcmtlZCBzcGFucywgdGhvc2UNCi8vIHRoYXQgaGF2ZSBiZWVuIGV4cGxpY2l0bHkgY2xlYXJlZCBzaG91bGQgbm90IGJlIHJlc3RvcmVkLg0KICAgIGZ1bmN0aW9uIHJlbW92ZUNsZWFyZWRTcGFucyhzcGFucykgew0KICAgICAgICBpZiAoIXNwYW5zKSB7IHJldHVybiBudWxsIH0NCiAgICAgICAgdmFyIG91dA0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICBpZiAoc3BhbnNbaV0ubWFya2VyLmV4cGxpY2l0bHlDbGVhcmVkKSB7IGlmICghb3V0KSB7IG91dCA9IHNwYW5zLnNsaWNlKDAsIGkpIH0gfQ0KICAgICAgICAgICAgZWxzZSBpZiAob3V0KSB7IG91dC5wdXNoKHNwYW5zW2ldKSB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuICFvdXQgPyBzcGFucyA6IG91dC5sZW5ndGggPyBvdXQgOiBudWxsDQogICAgfQ0KDQovLyBSZXRyaWV2ZSBhbmQgZmlsdGVyIHRoZSBvbGQgbWFya2VkIHNwYW5zIHN0b3JlZCBpbiBhIGNoYW5nZSBldmVudC4NCiAgICBmdW5jdGlvbiBnZXRPbGRTcGFucyhkb2MsIGNoYW5nZSkgew0KICAgICAgICB2YXIgZm91bmQgPSBjaGFuZ2VbInNwYW5zXyIgKyBkb2MuaWRdDQogICAgICAgIGlmICghZm91bmQpIHsgcmV0dXJuIG51bGwgfQ0KICAgICAgICB2YXIgbncgPSBbXQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZS50ZXh0Lmxlbmd0aDsgKytpKQ0KICAgICAgICB7IG53LnB1c2gocmVtb3ZlQ2xlYXJlZFNwYW5zKGZvdW5kW2ldKSkgfQ0KICAgICAgICByZXR1cm4gbncNCiAgICB9DQoNCi8vIFVzZWQgZm9yIHVuL3JlLWRvaW5nIGNoYW5nZXMgZnJvbSB0aGUgaGlzdG9yeS4gQ29tYmluZXMgdGhlDQovLyByZXN1bHQgb2YgY29tcHV0aW5nIHRoZSBleGlzdGluZyBzcGFucyB3aXRoIHRoZSBzZXQgb2Ygc3BhbnMgdGhhdA0KLy8gZXhpc3RlZCBpbiB0aGUgaGlzdG9yeSAoc28gdGhhdCBkZWxldGluZyBhcm91bmQgYSBzcGFuIGFuZCB0aGVuDQovLyB1bmRvaW5nIGJyaW5ncyBiYWNrIHRoZSBzcGFuKS4NCiAgICBmdW5jdGlvbiBtZXJnZU9sZFNwYW5zKGRvYywgY2hhbmdlKSB7DQogICAgICAgIHZhciBvbGQgPSBnZXRPbGRTcGFucyhkb2MsIGNoYW5nZSkNCiAgICAgICAgdmFyIHN0cmV0Y2hlZCA9IHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpDQogICAgICAgIGlmICghb2xkKSB7IHJldHVybiBzdHJldGNoZWQgfQ0KICAgICAgICBpZiAoIXN0cmV0Y2hlZCkgeyByZXR1cm4gb2xkIH0NCg0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7ICsraSkgew0KICAgICAgICAgICAgdmFyIG9sZEN1ciA9IG9sZFtpXSwgc3RyZXRjaEN1ciA9IHN0cmV0Y2hlZFtpXQ0KICAgICAgICAgICAgaWYgKG9sZEN1ciAmJiBzdHJldGNoQ3VyKSB7DQogICAgICAgICAgICAgICAgc3BhbnM6IGZvciAodmFyIGogPSAwOyBqIDwgc3RyZXRjaEN1ci5sZW5ndGg7ICsraikgew0KICAgICAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IHN0cmV0Y2hDdXJbal0NCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBvbGRDdXIubGVuZ3RoOyArK2spDQogICAgICAgICAgICAgICAgICAgIHsgaWYgKG9sZEN1cltrXS5tYXJrZXIgPT0gc3Bhbi5tYXJrZXIpIHsgY29udGludWUgc3BhbnMgfSB9DQogICAgICAgICAgICAgICAgICAgIG9sZEN1ci5wdXNoKHNwYW4pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJldGNoQ3VyKSB7DQogICAgICAgICAgICAgICAgb2xkW2ldID0gc3RyZXRjaEN1cg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBvbGQNCiAgICB9DQoNCi8vIFVzZWQgYm90aCB0byBwcm92aWRlIGEgSlNPTi1zYWZlIG9iamVjdCBpbiAuZ2V0SGlzdG9yeSwgYW5kLCB3aGVuDQovLyBkZXRhY2hpbmcgYSBkb2N1bWVudCwgdG8gc3BsaXQgdGhlIGhpc3RvcnkgaW4gdHdvDQogICAgZnVuY3Rpb24gY29weUhpc3RvcnlBcnJheShldmVudHMsIG5ld0dyb3VwLCBpbnN0YW50aWF0ZVNlbCkgew0KICAgICAgICB2YXIgY29weSA9IFtdDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV0NCiAgICAgICAgICAgIGlmIChldmVudC5yYW5nZXMpIHsNCiAgICAgICAgICAgICAgICBjb3B5LnB1c2goaW5zdGFudGlhdGVTZWwgPyBTZWxlY3Rpb24ucHJvdG90eXBlLmRlZXBDb3B5LmNhbGwoZXZlbnQpIDogZXZlbnQpDQogICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBjaGFuZ2VzID0gZXZlbnQuY2hhbmdlcywgbmV3Q2hhbmdlcyA9IFtdDQogICAgICAgICAgICBjb3B5LnB1c2goe2NoYW5nZXM6IG5ld0NoYW5nZXN9KQ0KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFuZ2VzLmxlbmd0aDsgKytqKSB7DQogICAgICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGNoYW5nZXNbal0sIG0gPSB2b2lkIDANCiAgICAgICAgICAgICAgICBuZXdDaGFuZ2VzLnB1c2goe2Zyb206IGNoYW5nZS5mcm9tLCB0bzogY2hhbmdlLnRvLCB0ZXh0OiBjaGFuZ2UudGV4dH0pDQogICAgICAgICAgICAgICAgaWYgKG5ld0dyb3VwKSB7IGZvciAodmFyIHByb3AgaW4gY2hhbmdlKSB7IGlmIChtID0gcHJvcC5tYXRjaCgvXnNwYW5zXyhcZCspJC8pKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChpbmRleE9mKG5ld0dyb3VwLCBOdW1iZXIobVsxXSkpID4gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxzdChuZXdDaGFuZ2VzKVtwcm9wXSA9IGNoYW5nZVtwcm9wXQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNoYW5nZVtwcm9wXQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSB9IH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gY29weQ0KICAgIH0NCg0KLy8gVGhlICdzY3JvbGwnIHBhcmFtZXRlciBnaXZlbiB0byBtYW55IG9mIHRoZXNlIGluZGljYXRlZCB3aGV0aGVyDQovLyB0aGUgbmV3IGN1cnNvciBwb3NpdGlvbiBzaG91bGQgYmUgc2Nyb2xsZWQgaW50byB2aWV3IGFmdGVyDQovLyBtb2RpZnlpbmcgdGhlIHNlbGVjdGlvbi4NCg0KLy8gSWYgc2hpZnQgaXMgaGVsZCBvciB0aGUgZXh0ZW5kIGZsYWcgaXMgc2V0LCBleHRlbmRzIGEgcmFuZ2UgdG8NCi8vIGluY2x1ZGUgYSBnaXZlbiBwb3NpdGlvbiAoYW5kIG9wdGlvbmFsbHkgYSBzZWNvbmQgcG9zaXRpb24pLg0KLy8gT3RoZXJ3aXNlLCBzaW1wbHkgcmV0dXJucyB0aGUgcmFuZ2UgYmV0d2VlbiB0aGUgZ2l2ZW4gcG9zaXRpb25zLg0KLy8gVXNlZCBmb3IgY3Vyc29yIG1vdGlvbiBhbmQgc3VjaC4NCiAgICBmdW5jdGlvbiBleHRlbmRSYW5nZShkb2MsIHJhbmdlLCBoZWFkLCBvdGhlcikgew0KICAgICAgICBpZiAoZG9jLmNtICYmIGRvYy5jbS5kaXNwbGF5LnNoaWZ0IHx8IGRvYy5leHRlbmQpIHsNCiAgICAgICAgICAgIHZhciBhbmNob3IgPSByYW5nZS5hbmNob3INCiAgICAgICAgICAgIGlmIChvdGhlcikgew0KICAgICAgICAgICAgICAgIHZhciBwb3NCZWZvcmUgPSBjbXAoaGVhZCwgYW5jaG9yKSA8IDANCiAgICAgICAgICAgICAgICBpZiAocG9zQmVmb3JlICE9IChjbXAob3RoZXIsIGFuY2hvcikgPCAwKSkgew0KICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBoZWFkDQogICAgICAgICAgICAgICAgICAgIGhlYWQgPSBvdGhlcg0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zQmVmb3JlICE9IChjbXAoaGVhZCwgb3RoZXIpIDwgMCkpIHsNCiAgICAgICAgICAgICAgICAgICAgaGVhZCA9IG90aGVyDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShhbmNob3IsIGhlYWQpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKG90aGVyIHx8IGhlYWQsIGhlYWQpDQogICAgICAgIH0NCiAgICB9DQoNCi8vIEV4dGVuZCB0aGUgcHJpbWFyeSBzZWxlY3Rpb24gcmFuZ2UsIGRpc2NhcmQgdGhlIHJlc3QuDQogICAgZnVuY3Rpb24gZXh0ZW5kU2VsZWN0aW9uKGRvYywgaGVhZCwgb3RoZXIsIG9wdGlvbnMpIHsNCiAgICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbmV3IFNlbGVjdGlvbihbZXh0ZW5kUmFuZ2UoZG9jLCBkb2Muc2VsLnByaW1hcnkoKSwgaGVhZCwgb3RoZXIpXSwgMCksIG9wdGlvbnMpDQogICAgfQ0KDQovLyBFeHRlbmQgYWxsIHNlbGVjdGlvbnMgKHBvcyBpcyBhbiBhcnJheSBvZiBzZWxlY3Rpb25zIHdpdGggbGVuZ3RoDQovLyBlcXVhbCB0aGUgbnVtYmVyIG9mIHNlbGVjdGlvbnMpDQogICAgZnVuY3Rpb24gZXh0ZW5kU2VsZWN0aW9ucyhkb2MsIGhlYWRzLCBvcHRpb25zKSB7DQogICAgICAgIHZhciBvdXQgPSBbXQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKQ0KICAgICAgICB7IG91dFtpXSA9IGV4dGVuZFJhbmdlKGRvYywgZG9jLnNlbC5yYW5nZXNbaV0sIGhlYWRzW2ldLCBudWxsKSB9DQogICAgICAgIHZhciBuZXdTZWwgPSBub3JtYWxpemVTZWxlY3Rpb24ob3V0LCBkb2Muc2VsLnByaW1JbmRleCkNCiAgICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbmV3U2VsLCBvcHRpb25zKQ0KICAgIH0NCg0KLy8gVXBkYXRlcyBhIHNpbmdsZSByYW5nZSBpbiB0aGUgc2VsZWN0aW9uLg0KICAgIGZ1bmN0aW9uIHJlcGxhY2VPbmVTZWxlY3Rpb24oZG9jLCBpLCByYW5nZSwgb3B0aW9ucykgew0KICAgICAgICB2YXIgcmFuZ2VzID0gZG9jLnNlbC5yYW5nZXMuc2xpY2UoMCkNCiAgICAgICAgcmFuZ2VzW2ldID0gcmFuZ2UNCiAgICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKHJhbmdlcywgZG9jLnNlbC5wcmltSW5kZXgpLCBvcHRpb25zKQ0KICAgIH0NCg0KLy8gUmVzZXQgdGhlIHNlbGVjdGlvbiB0byBhIHNpbmdsZSByYW5nZS4NCiAgICBmdW5jdGlvbiBzZXRTaW1wbGVTZWxlY3Rpb24oZG9jLCBhbmNob3IsIGhlYWQsIG9wdGlvbnMpIHsNCiAgICAgICAgc2V0U2VsZWN0aW9uKGRvYywgc2ltcGxlU2VsZWN0aW9uKGFuY2hvciwgaGVhZCksIG9wdGlvbnMpDQogICAgfQ0KDQovLyBHaXZlIGJlZm9yZVNlbGVjdGlvbkNoYW5nZSBoYW5kbGVycyBhIGNoYW5nZSB0byBpbmZsdWVuY2UgYQ0KLy8gc2VsZWN0aW9uIHVwZGF0ZS4NCiAgICBmdW5jdGlvbiBmaWx0ZXJTZWxlY3Rpb25DaGFuZ2UoZG9jLCBzZWwsIG9wdGlvbnMpIHsNCiAgICAgICAgdmFyIG9iaiA9IHsNCiAgICAgICAgICAgIHJhbmdlczogc2VsLnJhbmdlcywNCiAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24ocmFuZ2VzKSB7DQogICAgICAgICAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7DQoNCiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlcyA9IFtdDQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspDQogICAgICAgICAgICAgICAgeyB0aGlzJDEucmFuZ2VzW2ldID0gbmV3IFJhbmdlKGNsaXBQb3MoZG9jLCByYW5nZXNbaV0uYW5jaG9yKSwNCiAgICAgICAgICAgICAgICAgICAgY2xpcFBvcyhkb2MsIHJhbmdlc1tpXS5oZWFkKSkgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIG9yaWdpbjogb3B0aW9ucyAmJiBvcHRpb25zLm9yaWdpbg0KICAgICAgICB9DQogICAgICAgIHNpZ25hbChkb2MsICJiZWZvcmVTZWxlY3Rpb25DaGFuZ2UiLCBkb2MsIG9iaikNCiAgICAgICAgaWYgKGRvYy5jbSkgeyBzaWduYWwoZG9jLmNtLCAiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlIiwgZG9jLmNtLCBvYmopIH0NCiAgICAgICAgaWYgKG9iai5yYW5nZXMgIT0gc2VsLnJhbmdlcykgeyByZXR1cm4gbm9ybWFsaXplU2VsZWN0aW9uKG9iai5yYW5nZXMsIG9iai5yYW5nZXMubGVuZ3RoIC0gMSkgfQ0KICAgICAgICBlbHNlIHsgcmV0dXJuIHNlbCB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uUmVwbGFjZUhpc3RvcnkoZG9jLCBzZWwsIG9wdGlvbnMpIHsNCiAgICAgICAgdmFyIGRvbmUgPSBkb2MuaGlzdG9yeS5kb25lLCBsYXN0ID0gbHN0KGRvbmUpDQogICAgICAgIGlmIChsYXN0ICYmIGxhc3QucmFuZ2VzKSB7DQogICAgICAgICAgICBkb25lW2RvbmUubGVuZ3RoIC0gMV0gPSBzZWwNCiAgICAgICAgICAgIHNldFNlbGVjdGlvbk5vVW5kbyhkb2MsIHNlbCwgb3B0aW9ucykNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHNldFNlbGVjdGlvbihkb2MsIHNlbCwgb3B0aW9ucykNCiAgICAgICAgfQ0KICAgIH0NCg0KLy8gU2V0IGEgbmV3IHNlbGVjdGlvbi4NCiAgICBmdW5jdGlvbiBzZXRTZWxlY3Rpb24oZG9jLCBzZWwsIG9wdGlvbnMpIHsNCiAgICAgICAgc2V0U2VsZWN0aW9uTm9VbmRvKGRvYywgc2VsLCBvcHRpb25zKQ0KICAgICAgICBhZGRTZWxlY3Rpb25Ub0hpc3RvcnkoZG9jLCBkb2Muc2VsLCBkb2MuY20gPyBkb2MuY20uY3VyT3AuaWQgOiBOYU4sIG9wdGlvbnMpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uTm9VbmRvKGRvYywgc2VsLCBvcHRpb25zKSB7DQogICAgICAgIGlmIChoYXNIYW5kbGVyKGRvYywgImJlZm9yZVNlbGVjdGlvbkNoYW5nZSIpIHx8IGRvYy5jbSAmJiBoYXNIYW5kbGVyKGRvYy5jbSwgImJlZm9yZVNlbGVjdGlvbkNoYW5nZSIpKQ0KICAgICAgICB7IHNlbCA9IGZpbHRlclNlbGVjdGlvbkNoYW5nZShkb2MsIHNlbCwgb3B0aW9ucykgfQ0KDQogICAgICAgIHZhciBiaWFzID0gb3B0aW9ucyAmJiBvcHRpb25zLmJpYXMgfHwNCiAgICAgICAgICAgIChjbXAoc2VsLnByaW1hcnkoKS5oZWFkLCBkb2Muc2VsLnByaW1hcnkoKS5oZWFkKSA8IDAgPyAtMSA6IDEpDQogICAgICAgIHNldFNlbGVjdGlvbklubmVyKGRvYywgc2tpcEF0b21pY0luU2VsZWN0aW9uKGRvYywgc2VsLCBiaWFzLCB0cnVlKSkNCg0KICAgICAgICBpZiAoIShvcHRpb25zICYmIG9wdGlvbnMuc2Nyb2xsID09PSBmYWxzZSkgJiYgZG9jLmNtKQ0KICAgICAgICB7IGVuc3VyZUN1cnNvclZpc2libGUoZG9jLmNtKSB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uSW5uZXIoZG9jLCBzZWwpIHsNCiAgICAgICAgaWYgKHNlbC5lcXVhbHMoZG9jLnNlbCkpIHsgcmV0dXJuIH0NCg0KICAgICAgICBkb2Muc2VsID0gc2VsDQoNCiAgICAgICAgaWYgKGRvYy5jbSkgew0KICAgICAgICAgICAgZG9jLmNtLmN1ck9wLnVwZGF0ZUlucHV0ID0gZG9jLmNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlDQogICAgICAgICAgICBzaWduYWxDdXJzb3JBY3Rpdml0eShkb2MuY20pDQogICAgICAgIH0NCiAgICAgICAgc2lnbmFsTGF0ZXIoZG9jLCAiY3Vyc29yQWN0aXZpdHkiLCBkb2MpDQogICAgfQ0KDQovLyBWZXJpZnkgdGhhdCB0aGUgc2VsZWN0aW9uIGRvZXMgbm90IHBhcnRpYWxseSBzZWxlY3QgYW55IGF0b21pYw0KLy8gbWFya2VkIHJhbmdlcy4NCiAgICBmdW5jdGlvbiByZUNoZWNrU2VsZWN0aW9uKGRvYykgew0KICAgICAgICBzZXRTZWxlY3Rpb25Jbm5lcihkb2MsIHNraXBBdG9taWNJblNlbGVjdGlvbihkb2MsIGRvYy5zZWwsIG51bGwsIGZhbHNlKSwgc2VsX2RvbnRTY3JvbGwpDQogICAgfQ0KDQovLyBSZXR1cm4gYSBzZWxlY3Rpb24gdGhhdCBkb2VzIG5vdCBwYXJ0aWFsbHkgc2VsZWN0IGFueSBhdG9taWMNCi8vIHJhbmdlcy4NCiAgICBmdW5jdGlvbiBza2lwQXRvbWljSW5TZWxlY3Rpb24oZG9jLCBzZWwsIGJpYXMsIG1heUNsZWFyKSB7DQogICAgICAgIHZhciBvdXQNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWwucmFuZ2VzW2ldDQogICAgICAgICAgICB2YXIgb2xkID0gc2VsLnJhbmdlcy5sZW5ndGggPT0gZG9jLnNlbC5yYW5nZXMubGVuZ3RoICYmIGRvYy5zZWwucmFuZ2VzW2ldDQogICAgICAgICAgICB2YXIgbmV3QW5jaG9yID0gc2tpcEF0b21pYyhkb2MsIHJhbmdlLmFuY2hvciwgb2xkICYmIG9sZC5hbmNob3IsIGJpYXMsIG1heUNsZWFyKQ0KICAgICAgICAgICAgdmFyIG5ld0hlYWQgPSBza2lwQXRvbWljKGRvYywgcmFuZ2UuaGVhZCwgb2xkICYmIG9sZC5oZWFkLCBiaWFzLCBtYXlDbGVhcikNCiAgICAgICAgICAgIGlmIChvdXQgfHwgbmV3QW5jaG9yICE9IHJhbmdlLmFuY2hvciB8fCBuZXdIZWFkICE9IHJhbmdlLmhlYWQpIHsNCiAgICAgICAgICAgICAgICBpZiAoIW91dCkgeyBvdXQgPSBzZWwucmFuZ2VzLnNsaWNlKDAsIGkpIH0NCiAgICAgICAgICAgICAgICBvdXRbaV0gPSBuZXcgUmFuZ2UobmV3QW5jaG9yLCBuZXdIZWFkKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBvdXQgPyBub3JtYWxpemVTZWxlY3Rpb24ob3V0LCBzZWwucHJpbUluZGV4KSA6IHNlbA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNraXBBdG9taWNJbm5lcihkb2MsIHBvcywgb2xkUG9zLCBkaXIsIG1heUNsZWFyKSB7DQogICAgICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIHBvcy5saW5lKQ0KICAgICAgICBpZiAobGluZS5tYXJrZWRTcGFucykgeyBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmUubWFya2VkU3BhbnMubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciBzcCA9IGxpbmUubWFya2VkU3BhbnNbaV0sIG0gPSBzcC5tYXJrZXINCiAgICAgICAgICAgIGlmICgoc3AuZnJvbSA9PSBudWxsIHx8IChtLmluY2x1c2l2ZUxlZnQgPyBzcC5mcm9tIDw9IHBvcy5jaCA6IHNwLmZyb20gPCBwb3MuY2gpKSAmJg0KICAgICAgICAgICAgICAgIChzcC50byA9PSBudWxsIHx8IChtLmluY2x1c2l2ZVJpZ2h0ID8gc3AudG8gPj0gcG9zLmNoIDogc3AudG8gPiBwb3MuY2gpKSkgew0KICAgICAgICAgICAgICAgIGlmIChtYXlDbGVhcikgew0KICAgICAgICAgICAgICAgICAgICBzaWduYWwobSwgImJlZm9yZUN1cnNvckVudGVyIikNCiAgICAgICAgICAgICAgICAgICAgaWYgKG0uZXhwbGljaXRseUNsZWFyZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGluZS5tYXJrZWRTcGFucykgeyBicmVhayB9DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHstLWk7IGNvbnRpbnVlfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICghbS5hdG9taWMpIHsgY29udGludWUgfQ0KDQogICAgICAgICAgICAgICAgaWYgKG9sZFBvcykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbmVhciA9IG0uZmluZChkaXIgPCAwID8gMSA6IC0xKSwgZGlmZiA9IHZvaWQgMA0KICAgICAgICAgICAgICAgICAgICBpZiAoZGlyIDwgMCA/IG0uaW5jbHVzaXZlUmlnaHQgOiBtLmluY2x1c2l2ZUxlZnQpDQogICAgICAgICAgICAgICAgICAgIHsgbmVhciA9IG1vdmVQb3MoZG9jLCBuZWFyLCAtZGlyLCBuZWFyICYmIG5lYXIubGluZSA9PSBwb3MubGluZSA/IGxpbmUgOiBudWxsKSB9DQogICAgICAgICAgICAgICAgICAgIGlmIChuZWFyICYmIG5lYXIubGluZSA9PSBwb3MubGluZSAmJiAoZGlmZiA9IGNtcChuZWFyLCBvbGRQb3MpKSAmJiAoZGlyIDwgMCA/IGRpZmYgPCAwIDogZGlmZiA+IDApKQ0KICAgICAgICAgICAgICAgICAgICB7IHJldHVybiBza2lwQXRvbWljSW5uZXIoZG9jLCBuZWFyLCBwb3MsIGRpciwgbWF5Q2xlYXIpIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB2YXIgZmFyID0gbS5maW5kKGRpciA8IDAgPyAtMSA6IDEpDQogICAgICAgICAgICAgICAgaWYgKGRpciA8IDAgPyBtLmluY2x1c2l2ZUxlZnQgOiBtLmluY2x1c2l2ZVJpZ2h0KQ0KICAgICAgICAgICAgICAgIHsgZmFyID0gbW92ZVBvcyhkb2MsIGZhciwgZGlyLCBmYXIubGluZSA9PSBwb3MubGluZSA/IGxpbmUgOiBudWxsKSB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhciA/IHNraXBBdG9taWNJbm5lcihkb2MsIGZhciwgcG9zLCBkaXIsIG1heUNsZWFyKSA6IG51bGwNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSB9DQogICAgICAgIHJldHVybiBwb3MNCiAgICB9DQoNCi8vIEVuc3VyZSBhIGdpdmVuIHBvc2l0aW9uIGlzIG5vdCBpbnNpZGUgYW4gYXRvbWljIHJhbmdlLg0KICAgIGZ1bmN0aW9uIHNraXBBdG9taWMoZG9jLCBwb3MsIG9sZFBvcywgYmlhcywgbWF5Q2xlYXIpIHsNCiAgICAgICAgdmFyIGRpciA9IGJpYXMgfHwgMQ0KICAgICAgICB2YXIgZm91bmQgPSBza2lwQXRvbWljSW5uZXIoZG9jLCBwb3MsIG9sZFBvcywgZGlyLCBtYXlDbGVhcikgfHwNCiAgICAgICAgICAgICghbWF5Q2xlYXIgJiYgc2tpcEF0b21pY0lubmVyKGRvYywgcG9zLCBvbGRQb3MsIGRpciwgdHJ1ZSkpIHx8DQogICAgICAgICAgICBza2lwQXRvbWljSW5uZXIoZG9jLCBwb3MsIG9sZFBvcywgLWRpciwgbWF5Q2xlYXIpIHx8DQogICAgICAgICAgICAoIW1heUNsZWFyICYmIHNraXBBdG9taWNJbm5lcihkb2MsIHBvcywgb2xkUG9zLCAtZGlyLCB0cnVlKSkNCiAgICAgICAgaWYgKCFmb3VuZCkgew0KICAgICAgICAgICAgZG9jLmNhbnRFZGl0ID0gdHJ1ZQ0KICAgICAgICAgICAgcmV0dXJuIFBvcyhkb2MuZmlyc3QsIDApDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZvdW5kDQogICAgfQ0KDQogICAgZnVuY3Rpb24gbW92ZVBvcyhkb2MsIHBvcywgZGlyLCBsaW5lKSB7DQogICAgICAgIGlmIChkaXIgPCAwICYmIHBvcy5jaCA9PSAwKSB7DQogICAgICAgICAgICBpZiAocG9zLmxpbmUgPiBkb2MuZmlyc3QpIHsgcmV0dXJuIGNsaXBQb3MoZG9jLCBQb3MocG9zLmxpbmUgLSAxKSkgfQ0KICAgICAgICAgICAgZWxzZSB7IHJldHVybiBudWxsIH0NCiAgICAgICAgfSBlbHNlIGlmIChkaXIgPiAwICYmIHBvcy5jaCA9PSAobGluZSB8fCBnZXRMaW5lKGRvYywgcG9zLmxpbmUpKS50ZXh0Lmxlbmd0aCkgew0KICAgICAgICAgICAgaWYgKHBvcy5saW5lIDwgZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxKSB7IHJldHVybiBQb3MocG9zLmxpbmUgKyAxLCAwKSB9DQogICAgICAgICAgICBlbHNlIHsgcmV0dXJuIG51bGwgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIG5ldyBQb3MocG9zLmxpbmUsIHBvcy5jaCArIGRpcikNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNlbGVjdEFsbChjbSkgew0KICAgICAgICBjbS5zZXRTZWxlY3Rpb24oUG9zKGNtLmZpcnN0TGluZSgpLCAwKSwgUG9zKGNtLmxhc3RMaW5lKCkpLCBzZWxfZG9udFNjcm9sbCkNCiAgICB9DQoNCi8vIFVQREFUSU5HDQoNCi8vIEFsbG93ICJiZWZvcmVDaGFuZ2UiIGV2ZW50IGhhbmRsZXJzIHRvIGluZmx1ZW5jZSBhIGNoYW5nZQ0KICAgIGZ1bmN0aW9uIGZpbHRlckNoYW5nZShkb2MsIGNoYW5nZSwgdXBkYXRlKSB7DQogICAgICAgIHZhciBvYmogPSB7DQogICAgICAgICAgICBjYW5jZWxlZDogZmFsc2UsDQogICAgICAgICAgICBmcm9tOiBjaGFuZ2UuZnJvbSwNCiAgICAgICAgICAgIHRvOiBjaGFuZ2UudG8sDQogICAgICAgICAgICB0ZXh0OiBjaGFuZ2UudGV4dCwNCiAgICAgICAgICAgIG9yaWdpbjogY2hhbmdlLm9yaWdpbiwNCiAgICAgICAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gb2JqLmNhbmNlbGVkID0gdHJ1ZTsgfQ0KICAgICAgICB9DQogICAgICAgIGlmICh1cGRhdGUpIHsgb2JqLnVwZGF0ZSA9IGZ1bmN0aW9uIChmcm9tLCB0bywgdGV4dCwgb3JpZ2luKSB7DQogICAgICAgICAgICBpZiAoZnJvbSkgeyBvYmouZnJvbSA9IGNsaXBQb3MoZG9jLCBmcm9tKSB9DQogICAgICAgICAgICBpZiAodG8pIHsgb2JqLnRvID0gY2xpcFBvcyhkb2MsIHRvKSB9DQogICAgICAgICAgICBpZiAodGV4dCkgeyBvYmoudGV4dCA9IHRleHQgfQ0KICAgICAgICAgICAgaWYgKG9yaWdpbiAhPT0gdW5kZWZpbmVkKSB7IG9iai5vcmlnaW4gPSBvcmlnaW4gfQ0KICAgICAgICB9IH0NCiAgICAgICAgc2lnbmFsKGRvYywgImJlZm9yZUNoYW5nZSIsIGRvYywgb2JqKQ0KICAgICAgICBpZiAoZG9jLmNtKSB7IHNpZ25hbChkb2MuY20sICJiZWZvcmVDaGFuZ2UiLCBkb2MuY20sIG9iaikgfQ0KDQogICAgICAgIGlmIChvYmouY2FuY2VsZWQpIHsgcmV0dXJuIG51bGwgfQ0KICAgICAgICByZXR1cm4ge2Zyb206IG9iai5mcm9tLCB0bzogb2JqLnRvLCB0ZXh0OiBvYmoudGV4dCwgb3JpZ2luOiBvYmoub3JpZ2lufQ0KICAgIH0NCg0KLy8gQXBwbHkgYSBjaGFuZ2UgdG8gYSBkb2N1bWVudCwgYW5kIGFkZCBpdCB0byB0aGUgZG9jdW1lbnQncw0KLy8gaGlzdG9yeSwgYW5kIHByb3BhZ2F0aW5nIGl0IHRvIGFsbCBsaW5rZWQgZG9jdW1lbnRzLg0KICAgIGZ1bmN0aW9uIG1ha2VDaGFuZ2UoZG9jLCBjaGFuZ2UsIGlnbm9yZVJlYWRPbmx5KSB7DQogICAgICAgIGlmIChkb2MuY20pIHsNCiAgICAgICAgICAgIGlmICghZG9jLmNtLmN1ck9wKSB7IHJldHVybiBvcGVyYXRpb24oZG9jLmNtLCBtYWtlQ2hhbmdlKShkb2MsIGNoYW5nZSwgaWdub3JlUmVhZE9ubHkpIH0NCiAgICAgICAgICAgIGlmIChkb2MuY20uc3RhdGUuc3VwcHJlc3NFZGl0cykgeyByZXR1cm4gfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGhhc0hhbmRsZXIoZG9jLCAiYmVmb3JlQ2hhbmdlIikgfHwgZG9jLmNtICYmIGhhc0hhbmRsZXIoZG9jLmNtLCAiYmVmb3JlQ2hhbmdlIikpIHsNCiAgICAgICAgICAgIGNoYW5nZSA9IGZpbHRlckNoYW5nZShkb2MsIGNoYW5nZSwgdHJ1ZSkNCiAgICAgICAgICAgIGlmICghY2hhbmdlKSB7IHJldHVybiB9DQogICAgICAgIH0NCg0KICAgICAgICAvLyBQb3NzaWJseSBzcGxpdCBvciBzdXBwcmVzcyB0aGUgdXBkYXRlIGJhc2VkIG9uIHRoZSBwcmVzZW5jZQ0KICAgICAgICAvLyBvZiByZWFkLW9ubHkgc3BhbnMgaW4gaXRzIHJhbmdlLg0KICAgICAgICB2YXIgc3BsaXQgPSBzYXdSZWFkT25seVNwYW5zICYmICFpZ25vcmVSZWFkT25seSAmJiByZW1vdmVSZWFkT25seVJhbmdlcyhkb2MsIGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pDQogICAgICAgIGlmIChzcGxpdCkgew0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IHNwbGl0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKQ0KICAgICAgICAgICAgeyBtYWtlQ2hhbmdlSW5uZXIoZG9jLCB7ZnJvbTogc3BsaXRbaV0uZnJvbSwgdG86IHNwbGl0W2ldLnRvLCB0ZXh0OiBpID8gWyIiXSA6IGNoYW5nZS50ZXh0fSkgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbWFrZUNoYW5nZUlubmVyKGRvYywgY2hhbmdlKQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gbWFrZUNoYW5nZUlubmVyKGRvYywgY2hhbmdlKSB7DQogICAgICAgIGlmIChjaGFuZ2UudGV4dC5sZW5ndGggPT0gMSAmJiBjaGFuZ2UudGV4dFswXSA9PSAiIiAmJiBjbXAoY2hhbmdlLmZyb20sIGNoYW5nZS50bykgPT0gMCkgeyByZXR1cm4gfQ0KICAgICAgICB2YXIgc2VsQWZ0ZXIgPSBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpDQogICAgICAgIGFkZENoYW5nZVRvSGlzdG9yeShkb2MsIGNoYW5nZSwgc2VsQWZ0ZXIsIGRvYy5jbSA/IGRvYy5jbS5jdXJPcC5pZCA6IE5hTikNCg0KICAgICAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBzZWxBZnRlciwgc3RyZXRjaFNwYW5zT3ZlckNoYW5nZShkb2MsIGNoYW5nZSkpDQogICAgICAgIHZhciByZWJhc2VkID0gW10NCg0KICAgICAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24gKGRvYywgc2hhcmVkSGlzdCkgew0KICAgICAgICAgICAgaWYgKCFzaGFyZWRIaXN0ICYmIGluZGV4T2YocmViYXNlZCwgZG9jLmhpc3RvcnkpID09IC0xKSB7DQogICAgICAgICAgICAgICAgcmViYXNlSGlzdChkb2MuaGlzdG9yeSwgY2hhbmdlKQ0KICAgICAgICAgICAgICAgIHJlYmFzZWQucHVzaChkb2MuaGlzdG9yeSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG1ha2VDaGFuZ2VTaW5nbGVEb2MoZG9jLCBjaGFuZ2UsIG51bGwsIHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpKQ0KICAgICAgICB9KQ0KICAgIH0NCg0KLy8gUmV2ZXJ0IGEgY2hhbmdlIHN0b3JlZCBpbiBhIGRvY3VtZW50J3MgaGlzdG9yeS4NCiAgICBmdW5jdGlvbiBtYWtlQ2hhbmdlRnJvbUhpc3RvcnkoZG9jLCB0eXBlLCBhbGxvd1NlbGVjdGlvbk9ubHkpIHsNCiAgICAgICAgaWYgKGRvYy5jbSAmJiBkb2MuY20uc3RhdGUuc3VwcHJlc3NFZGl0cyAmJiAhYWxsb3dTZWxlY3Rpb25Pbmx5KSB7IHJldHVybiB9DQoNCiAgICAgICAgdmFyIGhpc3QgPSBkb2MuaGlzdG9yeSwgZXZlbnQsIHNlbEFmdGVyID0gZG9jLnNlbA0KICAgICAgICB2YXIgc291cmNlID0gdHlwZSA9PSAidW5kbyIgPyBoaXN0LmRvbmUgOiBoaXN0LnVuZG9uZSwgZGVzdCA9IHR5cGUgPT0gInVuZG8iID8gaGlzdC51bmRvbmUgOiBoaXN0LmRvbmUNCg0KICAgICAgICAvLyBWZXJpZnkgdGhhdCB0aGVyZSBpcyBhIHVzZWFibGUgZXZlbnQgKHNvIHRoYXQgY3RybC16IHdvbid0DQogICAgICAgIC8vIG5lZWRsZXNzbHkgY2xlYXIgc2VsZWN0aW9uIGV2ZW50cykNCiAgICAgICAgdmFyIGkgPSAwDQogICAgICAgIGZvciAoOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBldmVudCA9IHNvdXJjZVtpXQ0KICAgICAgICAgICAgaWYgKGFsbG93U2VsZWN0aW9uT25seSA/IGV2ZW50LnJhbmdlcyAmJiAhZXZlbnQuZXF1YWxzKGRvYy5zZWwpIDogIWV2ZW50LnJhbmdlcykNCiAgICAgICAgICAgIHsgYnJlYWsgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChpID09IHNvdXJjZS5sZW5ndGgpIHsgcmV0dXJuIH0NCiAgICAgICAgaGlzdC5sYXN0T3JpZ2luID0gaGlzdC5sYXN0U2VsT3JpZ2luID0gbnVsbA0KDQogICAgICAgIGZvciAoOzspIHsNCiAgICAgICAgICAgIGV2ZW50ID0gc291cmNlLnBvcCgpDQogICAgICAgICAgICBpZiAoZXZlbnQucmFuZ2VzKSB7DQogICAgICAgICAgICAgICAgcHVzaFNlbGVjdGlvblRvSGlzdG9yeShldmVudCwgZGVzdCkNCiAgICAgICAgICAgICAgICBpZiAoYWxsb3dTZWxlY3Rpb25Pbmx5ICYmICFldmVudC5lcXVhbHMoZG9jLnNlbCkpIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0aW9uKGRvYywgZXZlbnQsIHtjbGVhclJlZG86IGZhbHNlfSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHNlbEFmdGVyID0gZXZlbnQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgeyBicmVhayB9DQogICAgICAgIH0NCg0KICAgICAgICAvLyBCdWlsZCB1cCBhIHJldmVyc2UgY2hhbmdlIG9iamVjdCB0byBhZGQgdG8gdGhlIG9wcG9zaXRlIGhpc3RvcnkNCiAgICAgICAgLy8gc3RhY2sgKHJlZG8gd2hlbiB1bmRvaW5nLCBhbmQgdmljZSB2ZXJzYSkuDQogICAgICAgIHZhciBhbnRpQ2hhbmdlcyA9IFtdDQogICAgICAgIHB1c2hTZWxlY3Rpb25Ub0hpc3Rvcnkoc2VsQWZ0ZXIsIGRlc3QpDQogICAgICAgIGRlc3QucHVzaCh7Y2hhbmdlczogYW50aUNoYW5nZXMsIGdlbmVyYXRpb246IGhpc3QuZ2VuZXJhdGlvbn0pDQogICAgICAgIGhpc3QuZ2VuZXJhdGlvbiA9IGV2ZW50LmdlbmVyYXRpb24gfHwgKytoaXN0Lm1heEdlbmVyYXRpb24NCg0KICAgICAgICB2YXIgZmlsdGVyID0gaGFzSGFuZGxlcihkb2MsICJiZWZvcmVDaGFuZ2UiKSB8fCBkb2MuY20gJiYgaGFzSGFuZGxlcihkb2MuY20sICJiZWZvcmVDaGFuZ2UiKQ0KDQogICAgICAgIHZhciBsb29wID0gZnVuY3Rpb24gKCBpICkgew0KICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGV2ZW50LmNoYW5nZXNbaV0NCiAgICAgICAgICAgIGNoYW5nZS5vcmlnaW4gPSB0eXBlDQogICAgICAgICAgICBpZiAoZmlsdGVyICYmICFmaWx0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UsIGZhbHNlKSkgew0KICAgICAgICAgICAgICAgIHNvdXJjZS5sZW5ndGggPSAwDQogICAgICAgICAgICAgICAgcmV0dXJuIHt9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGFudGlDaGFuZ2VzLnB1c2goaGlzdG9yeUNoYW5nZUZyb21DaGFuZ2UoZG9jLCBjaGFuZ2UpKQ0KDQogICAgICAgICAgICB2YXIgYWZ0ZXIgPSBpID8gY29tcHV0ZVNlbEFmdGVyQ2hhbmdlKGRvYywgY2hhbmdlKSA6IGxzdChzb3VyY2UpDQogICAgICAgICAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBhZnRlciwgbWVyZ2VPbGRTcGFucyhkb2MsIGNoYW5nZSkpDQogICAgICAgICAgICBpZiAoIWkgJiYgZG9jLmNtKSB7IGRvYy5jbS5zY3JvbGxJbnRvVmlldyh7ZnJvbTogY2hhbmdlLmZyb20sIHRvOiBjaGFuZ2VFbmQoY2hhbmdlKX0pIH0NCiAgICAgICAgICAgIHZhciByZWJhc2VkID0gW10NCg0KICAgICAgICAgICAgLy8gUHJvcGFnYXRlIHRvIHRoZSBsaW5rZWQgZG9jdW1lbnRzDQogICAgICAgICAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24gKGRvYywgc2hhcmVkSGlzdCkgew0KICAgICAgICAgICAgICAgIGlmICghc2hhcmVkSGlzdCAmJiBpbmRleE9mKHJlYmFzZWQsIGRvYy5oaXN0b3J5KSA9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICByZWJhc2VIaXN0KGRvYy5oaXN0b3J5LCBjaGFuZ2UpDQogICAgICAgICAgICAgICAgICAgIHJlYmFzZWQucHVzaChkb2MuaGlzdG9yeSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbWFrZUNoYW5nZVNpbmdsZURvYyhkb2MsIGNoYW5nZSwgbnVsbCwgbWVyZ2VPbGRTcGFucyhkb2MsIGNoYW5nZSkpDQogICAgICAgICAgICB9KQ0KICAgICAgICB9Ow0KDQogICAgICAgIGZvciAodmFyIGkkMSA9IGV2ZW50LmNoYW5nZXMubGVuZ3RoIC0gMTsgaSQxID49IDA7IC0taSQxKSB7DQogICAgICAgICAgICB2YXIgcmV0dXJuZWQgPSBsb29wKCBpJDEgKTsNCg0KICAgICAgICAgICAgaWYgKCByZXR1cm5lZCApIHJldHVybiByZXR1cm5lZC52Ow0KICAgICAgICB9DQogICAgfQ0KDQovLyBTdWItdmlld3MgbmVlZCB0aGVpciBsaW5lIG51bWJlcnMgc2hpZnRlZCB3aGVuIHRleHQgaXMgYWRkZWQNCi8vIGFib3ZlIG9yIGJlbG93IHRoZW0gaW4gdGhlIHBhcmVudCBkb2N1bWVudC4NCiAgICBmdW5jdGlvbiBzaGlmdERvYyhkb2MsIGRpc3RhbmNlKSB7DQogICAgICAgIGlmIChkaXN0YW5jZSA9PSAwKSB7IHJldHVybiB9DQogICAgICAgIGRvYy5maXJzdCArPSBkaXN0YW5jZQ0KICAgICAgICBkb2Muc2VsID0gbmV3IFNlbGVjdGlvbihtYXAoZG9jLnNlbC5yYW5nZXMsIGZ1bmN0aW9uIChyYW5nZSkgeyByZXR1cm4gbmV3IFJhbmdlKA0KICAgICAgICAgICAgUG9zKHJhbmdlLmFuY2hvci5saW5lICsgZGlzdGFuY2UsIHJhbmdlLmFuY2hvci5jaCksDQogICAgICAgICAgICBQb3MocmFuZ2UuaGVhZC5saW5lICsgZGlzdGFuY2UsIHJhbmdlLmhlYWQuY2gpDQogICAgICAgICk7IH0pLCBkb2Muc2VsLnByaW1JbmRleCkNCiAgICAgICAgaWYgKGRvYy5jbSkgew0KICAgICAgICAgICAgcmVnQ2hhbmdlKGRvYy5jbSwgZG9jLmZpcnN0LCBkb2MuZmlyc3QgLSBkaXN0YW5jZSwgZGlzdGFuY2UpDQogICAgICAgICAgICBmb3IgKHZhciBkID0gZG9jLmNtLmRpc3BsYXksIGwgPSBkLnZpZXdGcm9tOyBsIDwgZC52aWV3VG87IGwrKykNCiAgICAgICAgICAgIHsgcmVnTGluZUNoYW5nZShkb2MuY20sIGwsICJndXR0ZXIiKSB9DQogICAgICAgIH0NCiAgICB9DQoNCi8vIE1vcmUgbG93ZXItbGV2ZWwgY2hhbmdlIGZ1bmN0aW9uLCBoYW5kbGluZyBvbmx5IGEgc2luZ2xlIGRvY3VtZW50DQovLyAobm90IGxpbmtlZCBvbmVzKS4NCiAgICBmdW5jdGlvbiBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBzZWxBZnRlciwgc3BhbnMpIHsNCiAgICAgICAgaWYgKGRvYy5jbSAmJiAhZG9jLmNtLmN1ck9wKQ0KICAgICAgICB7IHJldHVybiBvcGVyYXRpb24oZG9jLmNtLCBtYWtlQ2hhbmdlU2luZ2xlRG9jKShkb2MsIGNoYW5nZSwgc2VsQWZ0ZXIsIHNwYW5zKSB9DQoNCiAgICAgICAgaWYgKGNoYW5nZS50by5saW5lIDwgZG9jLmZpcnN0KSB7DQogICAgICAgICAgICBzaGlmdERvYyhkb2MsIGNoYW5nZS50ZXh0Lmxlbmd0aCAtIDEgLSAoY2hhbmdlLnRvLmxpbmUgLSBjaGFuZ2UuZnJvbS5saW5lKSkNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICAgIGlmIChjaGFuZ2UuZnJvbS5saW5lID4gZG9jLmxhc3RMaW5lKCkpIHsgcmV0dXJuIH0NCg0KICAgICAgICAvLyBDbGlwIHRoZSBjaGFuZ2UgdG8gdGhlIHNpemUgb2YgdGhpcyBkb2MNCiAgICAgICAgaWYgKGNoYW5nZS5mcm9tLmxpbmUgPCBkb2MuZmlyc3QpIHsNCiAgICAgICAgICAgIHZhciBzaGlmdCA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtIDEgLSAoZG9jLmZpcnN0IC0gY2hhbmdlLmZyb20ubGluZSkNCiAgICAgICAgICAgIHNoaWZ0RG9jKGRvYywgc2hpZnQpDQogICAgICAgICAgICBjaGFuZ2UgPSB7ZnJvbTogUG9zKGRvYy5maXJzdCwgMCksIHRvOiBQb3MoY2hhbmdlLnRvLmxpbmUgKyBzaGlmdCwgY2hhbmdlLnRvLmNoKSwNCiAgICAgICAgICAgICAgICB0ZXh0OiBbbHN0KGNoYW5nZS50ZXh0KV0sIG9yaWdpbjogY2hhbmdlLm9yaWdpbn0NCiAgICAgICAgfQ0KICAgICAgICB2YXIgbGFzdCA9IGRvYy5sYXN0TGluZSgpDQogICAgICAgIGlmIChjaGFuZ2UudG8ubGluZSA+IGxhc3QpIHsNCiAgICAgICAgICAgIGNoYW5nZSA9IHtmcm9tOiBjaGFuZ2UuZnJvbSwgdG86IFBvcyhsYXN0LCBnZXRMaW5lKGRvYywgbGFzdCkudGV4dC5sZW5ndGgpLA0KICAgICAgICAgICAgICAgIHRleHQ6IFtjaGFuZ2UudGV4dFswXV0sIG9yaWdpbjogY2hhbmdlLm9yaWdpbn0NCiAgICAgICAgfQ0KDQogICAgICAgIGNoYW5nZS5yZW1vdmVkID0gZ2V0QmV0d2Vlbihkb2MsIGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pDQoNCiAgICAgICAgaWYgKCFzZWxBZnRlcikgeyBzZWxBZnRlciA9IGNvbXB1dGVTZWxBZnRlckNoYW5nZShkb2MsIGNoYW5nZSkgfQ0KICAgICAgICBpZiAoZG9jLmNtKSB7IG1ha2VDaGFuZ2VTaW5nbGVEb2NJbkVkaXRvcihkb2MuY20sIGNoYW5nZSwgc3BhbnMpIH0NCiAgICAgICAgZWxzZSB7IHVwZGF0ZURvYyhkb2MsIGNoYW5nZSwgc3BhbnMpIH0NCiAgICAgICAgc2V0U2VsZWN0aW9uTm9VbmRvKGRvYywgc2VsQWZ0ZXIsIHNlbF9kb250U2Nyb2xsKQ0KICAgIH0NCg0KLy8gSGFuZGxlIHRoZSBpbnRlcmFjdGlvbiBvZiBhIGNoYW5nZSB0byBhIGRvY3VtZW50IHdpdGggdGhlIGVkaXRvcg0KLy8gdGhhdCB0aGlzIGRvY3VtZW50IGlzIHBhcnQgb2YuDQogICAgZnVuY3Rpb24gbWFrZUNoYW5nZVNpbmdsZURvY0luRWRpdG9yKGNtLCBjaGFuZ2UsIHNwYW5zKSB7DQogICAgICAgIHZhciBkb2MgPSBjbS5kb2MsIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBmcm9tID0gY2hhbmdlLmZyb20sIHRvID0gY2hhbmdlLnRvDQoNCiAgICAgICAgdmFyIHJlY29tcHV0ZU1heExlbmd0aCA9IGZhbHNlLCBjaGVja1dpZHRoU3RhcnQgPSBmcm9tLmxpbmUNCiAgICAgICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgew0KICAgICAgICAgICAgY2hlY2tXaWR0aFN0YXJ0ID0gbGluZU5vKHZpc3VhbExpbmUoZ2V0TGluZShkb2MsIGZyb20ubGluZSkpKQ0KICAgICAgICAgICAgZG9jLml0ZXIoY2hlY2tXaWR0aFN0YXJ0LCB0by5saW5lICsgMSwgZnVuY3Rpb24gKGxpbmUpIHsNCiAgICAgICAgICAgICAgICBpZiAobGluZSA9PSBkaXNwbGF5Lm1heExpbmUpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVjb21wdXRlTWF4TGVuZ3RoID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCg0KICAgICAgICBpZiAoZG9jLnNlbC5jb250YWlucyhjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKSA+IC0xKQ0KICAgICAgICB7IHNpZ25hbEN1cnNvckFjdGl2aXR5KGNtKSB9DQoNCiAgICAgICAgdXBkYXRlRG9jKGRvYywgY2hhbmdlLCBzcGFucywgZXN0aW1hdGVIZWlnaHQoY20pKQ0KDQogICAgICAgIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHsNCiAgICAgICAgICAgIGRvYy5pdGVyKGNoZWNrV2lkdGhTdGFydCwgZnJvbS5saW5lICsgY2hhbmdlLnRleHQubGVuZ3RoLCBmdW5jdGlvbiAobGluZSkgew0KICAgICAgICAgICAgICAgIHZhciBsZW4gPSBsaW5lTGVuZ3RoKGxpbmUpDQogICAgICAgICAgICAgICAgaWYgKGxlbiA+IGRpc3BsYXkubWF4TGluZUxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Lm1heExpbmUgPSBsaW5lDQogICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubWF4TGluZUxlbmd0aCA9IGxlbg0KICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Lm1heExpbmVDaGFuZ2VkID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICByZWNvbXB1dGVNYXhMZW5ndGggPSBmYWxzZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICBpZiAocmVjb21wdXRlTWF4TGVuZ3RoKSB7IGNtLmN1ck9wLnVwZGF0ZU1heExpbmUgPSB0cnVlIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEFkanVzdCBmcm9udGllciwgc2NoZWR1bGUgd29ya2VyDQogICAgICAgIGRvYy5mcm9udGllciA9IE1hdGgubWluKGRvYy5mcm9udGllciwgZnJvbS5saW5lKQ0KICAgICAgICBzdGFydFdvcmtlcihjbSwgNDAwKQ0KDQogICAgICAgIHZhciBsZW5kaWZmID0gY2hhbmdlLnRleHQubGVuZ3RoIC0gKHRvLmxpbmUgLSBmcm9tLmxpbmUpIC0gMQ0KICAgICAgICAvLyBSZW1lbWJlciB0aGF0IHRoZXNlIGxpbmVzIGNoYW5nZWQsIGZvciB1cGRhdGluZyB0aGUgZGlzcGxheQ0KICAgICAgICBpZiAoY2hhbmdlLmZ1bGwpDQogICAgICAgIHsgcmVnQ2hhbmdlKGNtKSB9DQogICAgICAgIGVsc2UgaWYgKGZyb20ubGluZSA9PSB0by5saW5lICYmIGNoYW5nZS50ZXh0Lmxlbmd0aCA9PSAxICYmICFpc1dob2xlTGluZVVwZGF0ZShjbS5kb2MsIGNoYW5nZSkpDQogICAgICAgIHsgcmVnTGluZUNoYW5nZShjbSwgZnJvbS5saW5lLCAidGV4dCIpIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7IHJlZ0NoYW5nZShjbSwgZnJvbS5saW5lLCB0by5saW5lICsgMSwgbGVuZGlmZikgfQ0KDQogICAgICAgIHZhciBjaGFuZ2VzSGFuZGxlciA9IGhhc0hhbmRsZXIoY20sICJjaGFuZ2VzIiksIGNoYW5nZUhhbmRsZXIgPSBoYXNIYW5kbGVyKGNtLCAiY2hhbmdlIikNCiAgICAgICAgaWYgKGNoYW5nZUhhbmRsZXIgfHwgY2hhbmdlc0hhbmRsZXIpIHsNCiAgICAgICAgICAgIHZhciBvYmogPSB7DQogICAgICAgICAgICAgICAgZnJvbTogZnJvbSwgdG86IHRvLA0KICAgICAgICAgICAgICAgIHRleHQ6IGNoYW5nZS50ZXh0LA0KICAgICAgICAgICAgICAgIHJlbW92ZWQ6IGNoYW5nZS5yZW1vdmVkLA0KICAgICAgICAgICAgICAgIG9yaWdpbjogY2hhbmdlLm9yaWdpbg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGNoYW5nZUhhbmRsZXIpIHsgc2lnbmFsTGF0ZXIoY20sICJjaGFuZ2UiLCBjbSwgb2JqKSB9DQogICAgICAgICAgICBpZiAoY2hhbmdlc0hhbmRsZXIpIHsgKGNtLmN1ck9wLmNoYW5nZU9ianMgfHwgKGNtLmN1ck9wLmNoYW5nZU9ianMgPSBbXSkpLnB1c2gob2JqKSB9DQogICAgICAgIH0NCiAgICAgICAgY20uZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSA9IG51bGwNCiAgICB9DQoNCiAgICBmdW5jdGlvbiByZXBsYWNlUmFuZ2UoZG9jLCBjb2RlLCBmcm9tLCB0bywgb3JpZ2luKSB7DQogICAgICAgIGlmICghdG8pIHsgdG8gPSBmcm9tIH0NCiAgICAgICAgaWYgKGNtcCh0bywgZnJvbSkgPCAwKSB7IHZhciB0bXAgPSB0bzsgdG8gPSBmcm9tOyBmcm9tID0gdG1wIH0NCiAgICAgICAgaWYgKHR5cGVvZiBjb2RlID09ICJzdHJpbmciKSB7IGNvZGUgPSBkb2Muc3BsaXRMaW5lcyhjb2RlKSB9DQogICAgICAgIG1ha2VDaGFuZ2UoZG9jLCB7ZnJvbTogZnJvbSwgdG86IHRvLCB0ZXh0OiBjb2RlLCBvcmlnaW46IG9yaWdpbn0pDQogICAgfQ0KDQovLyBSZWJhc2luZy9yZXNldHRpbmcgaGlzdG9yeSB0byBkZWFsIHdpdGggZXh0ZXJuYWxseS1zb3VyY2VkIGNoYW5nZXMNCg0KICAgIGZ1bmN0aW9uIHJlYmFzZUhpc3RTZWxTaW5nbGUocG9zLCBmcm9tLCB0bywgZGlmZikgew0KICAgICAgICBpZiAodG8gPCBwb3MubGluZSkgew0KICAgICAgICAgICAgcG9zLmxpbmUgKz0gZGlmZg0KICAgICAgICB9IGVsc2UgaWYgKGZyb20gPCBwb3MubGluZSkgew0KICAgICAgICAgICAgcG9zLmxpbmUgPSBmcm9tDQogICAgICAgICAgICBwb3MuY2ggPSAwDQogICAgICAgIH0NCiAgICB9DQoNCi8vIFRyaWVzIHRvIHJlYmFzZSBhbiBhcnJheSBvZiBoaXN0b3J5IGV2ZW50cyBnaXZlbiBhIGNoYW5nZSBpbiB0aGUNCi8vIGRvY3VtZW50LiBJZiB0aGUgY2hhbmdlIHRvdWNoZXMgdGhlIHNhbWUgbGluZXMgYXMgdGhlIGV2ZW50LCB0aGUNCi8vIGV2ZW50LCBhbmQgZXZlcnl0aGluZyAnYmVoaW5kJyBpdCwgaXMgZGlzY2FyZGVkLiBJZiB0aGUgY2hhbmdlIGlzDQovLyBiZWZvcmUgdGhlIGV2ZW50LCB0aGUgZXZlbnQncyBwb3NpdGlvbnMgYXJlIHVwZGF0ZWQuIFVzZXMgYQ0KLy8gY29weS1vbi13cml0ZSBzY2hlbWUgZm9yIHRoZSBwb3NpdGlvbnMsIHRvIGF2b2lkIGhhdmluZyB0bw0KLy8gcmVhbGxvY2F0ZSB0aGVtIGFsbCBvbiBldmVyeSByZWJhc2UsIGJ1dCBhbHNvIGF2b2lkIHByb2JsZW1zIHdpdGgNCi8vIHNoYXJlZCBwb3NpdGlvbiBvYmplY3RzIGJlaW5nIHVuc2FmZWx5IHVwZGF0ZWQuDQogICAgZnVuY3Rpb24gcmViYXNlSGlzdEFycmF5KGFycmF5LCBmcm9tLCB0bywgZGlmZikgew0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICB2YXIgc3ViID0gYXJyYXlbaV0sIG9rID0gdHJ1ZQ0KICAgICAgICAgICAgaWYgKHN1Yi5yYW5nZXMpIHsNCiAgICAgICAgICAgICAgICBpZiAoIXN1Yi5jb3BpZWQpIHsgc3ViID0gYXJyYXlbaV0gPSBzdWIuZGVlcENvcHkoKTsgc3ViLmNvcGllZCA9IHRydWUgfQ0KICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3ViLnJhbmdlcy5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgICAgICAgICByZWJhc2VIaXN0U2VsU2luZ2xlKHN1Yi5yYW5nZXNbal0uYW5jaG9yLCBmcm9tLCB0bywgZGlmZikNCiAgICAgICAgICAgICAgICAgICAgcmViYXNlSGlzdFNlbFNpbmdsZShzdWIucmFuZ2VzW2pdLmhlYWQsIGZyb20sIHRvLCBkaWZmKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yICh2YXIgaiQxID0gMDsgaiQxIDwgc3ViLmNoYW5nZXMubGVuZ3RoOyArK2okMSkgew0KICAgICAgICAgICAgICAgIHZhciBjdXIgPSBzdWIuY2hhbmdlc1tqJDFdDQogICAgICAgICAgICAgICAgaWYgKHRvIDwgY3VyLmZyb20ubGluZSkgew0KICAgICAgICAgICAgICAgICAgICBjdXIuZnJvbSA9IFBvcyhjdXIuZnJvbS5saW5lICsgZGlmZiwgY3VyLmZyb20uY2gpDQogICAgICAgICAgICAgICAgICAgIGN1ci50byA9IFBvcyhjdXIudG8ubGluZSArIGRpZmYsIGN1ci50by5jaCkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZyb20gPD0gY3VyLnRvLmxpbmUpIHsNCiAgICAgICAgICAgICAgICAgICAgb2sgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghb2spIHsNCiAgICAgICAgICAgICAgICBhcnJheS5zcGxpY2UoMCwgaSArIDEpDQogICAgICAgICAgICAgICAgaSA9IDANCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHJlYmFzZUhpc3QoaGlzdCwgY2hhbmdlKSB7DQogICAgICAgIHZhciBmcm9tID0gY2hhbmdlLmZyb20ubGluZSwgdG8gPSBjaGFuZ2UudG8ubGluZSwgZGlmZiA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtICh0byAtIGZyb20pIC0gMQ0KICAgICAgICByZWJhc2VIaXN0QXJyYXkoaGlzdC5kb25lLCBmcm9tLCB0bywgZGlmZikNCiAgICAgICAgcmViYXNlSGlzdEFycmF5KGhpc3QudW5kb25lLCBmcm9tLCB0bywgZGlmZikNCiAgICB9DQoNCi8vIFV0aWxpdHkgZm9yIGFwcGx5aW5nIGEgY2hhbmdlIHRvIGEgbGluZSBieSBoYW5kbGUgb3IgbnVtYmVyLA0KLy8gcmV0dXJuaW5nIHRoZSBudW1iZXIgYW5kIG9wdGlvbmFsbHkgcmVnaXN0ZXJpbmcgdGhlIGxpbmUgYXMNCi8vIGNoYW5nZWQuDQogICAgZnVuY3Rpb24gY2hhbmdlTGluZShkb2MsIGhhbmRsZSwgY2hhbmdlVHlwZSwgb3ApIHsNCiAgICAgICAgdmFyIG5vID0gaGFuZGxlLCBsaW5lID0gaGFuZGxlDQogICAgICAgIGlmICh0eXBlb2YgaGFuZGxlID09ICJudW1iZXIiKSB7IGxpbmUgPSBnZXRMaW5lKGRvYywgY2xpcExpbmUoZG9jLCBoYW5kbGUpKSB9DQogICAgICAgIGVsc2UgeyBubyA9IGxpbmVObyhoYW5kbGUpIH0NCiAgICAgICAgaWYgKG5vID09IG51bGwpIHsgcmV0dXJuIG51bGwgfQ0KICAgICAgICBpZiAob3AobGluZSwgbm8pICYmIGRvYy5jbSkgeyByZWdMaW5lQ2hhbmdlKGRvYy5jbSwgbm8sIGNoYW5nZVR5cGUpIH0NCiAgICAgICAgcmV0dXJuIGxpbmUNCiAgICB9DQoNCi8vIFRoZSBkb2N1bWVudCBpcyByZXByZXNlbnRlZCBhcyBhIEJUcmVlIGNvbnNpc3Rpbmcgb2YgbGVhdmVzLCB3aXRoDQovLyBjaHVuayBvZiBsaW5lcyBpbiB0aGVtLCBhbmQgYnJhbmNoZXMsIHdpdGggdXAgdG8gdGVuIGxlYXZlcyBvcg0KLy8gb3RoZXIgYnJhbmNoIG5vZGVzIGJlbG93IHRoZW0uIFRoZSB0b3Agbm9kZSBpcyBhbHdheXMgYSBicmFuY2gNCi8vIG5vZGUsIGFuZCBpcyB0aGUgZG9jdW1lbnQgb2JqZWN0IGl0c2VsZiAobWVhbmluZyBpdCBoYXMNCi8vIGFkZGl0aW9uYWwgbWV0aG9kcyBhbmQgcHJvcGVydGllcykuDQovLw0KLy8gQWxsIG5vZGVzIGhhdmUgcGFyZW50IGxpbmtzLiBUaGUgdHJlZSBpcyB1c2VkIGJvdGggdG8gZ28gZnJvbQ0KLy8gbGluZSBudW1iZXJzIHRvIGxpbmUgb2JqZWN0cywgYW5kIHRvIGdvIGZyb20gb2JqZWN0cyB0byBudW1iZXJzLg0KLy8gSXQgYWxzbyBpbmRleGVzIGJ5IGhlaWdodCwgYW5kIGlzIHVzZWQgdG8gY29udmVydCBiZXR3ZWVuIGhlaWdodA0KLy8gYW5kIGxpbmUgb2JqZWN0LCBhbmQgdG8gZmluZCB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBkb2N1bWVudC4NCi8vDQovLyBTZWUgYWxzbyBodHRwOi8vbWFyaWpuaGF2ZXJiZWtlLm5sL2Jsb2cvY29kZW1pcnJvci1saW5lLXRyZWUuaHRtbA0KDQogICAgZnVuY3Rpb24gTGVhZkNodW5rKGxpbmVzKSB7DQogICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgIHRoaXMubGluZXMgPSBsaW5lcw0KICAgICAgICB0aGlzLnBhcmVudCA9IG51bGwNCiAgICAgICAgdmFyIGhlaWdodCA9IDANCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkgew0KICAgICAgICAgICAgbGluZXNbaV0ucGFyZW50ID0gdGhpcyQxDQogICAgICAgICAgICBoZWlnaHQgKz0gbGluZXNbaV0uaGVpZ2h0DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQNCiAgICB9DQoNCiAgICBMZWFmQ2h1bmsucHJvdG90eXBlID0gew0KICAgICAgICBjaHVua1NpemU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5saW5lcy5sZW5ndGggfSwNCiAgICAgICAgLy8gUmVtb3ZlIHRoZSBuIGxpbmVzIGF0IG9mZnNldCAnYXQnLg0KICAgICAgICByZW1vdmVJbm5lcjogZnVuY3Rpb24oYXQsIG4pIHsNCiAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICBmb3IgKHZhciBpID0gYXQsIGUgPSBhdCArIG47IGkgPCBlOyArK2kpIHsNCiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IHRoaXMkMS5saW5lc1tpXQ0KICAgICAgICAgICAgICAgIHRoaXMkMS5oZWlnaHQgLT0gbGluZS5oZWlnaHQNCiAgICAgICAgICAgICAgICBjbGVhblVwTGluZShsaW5lKQ0KICAgICAgICAgICAgICAgIHNpZ25hbExhdGVyKGxpbmUsICJkZWxldGUiKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5saW5lcy5zcGxpY2UoYXQsIG4pDQogICAgICAgIH0sDQogICAgICAgIC8vIEhlbHBlciB1c2VkIHRvIGNvbGxhcHNlIGEgc21hbGwgYnJhbmNoIGludG8gYSBzaW5nbGUgbGVhZi4NCiAgICAgICAgY29sbGFwc2U6IGZ1bmN0aW9uKGxpbmVzKSB7DQogICAgICAgICAgICBsaW5lcy5wdXNoLmFwcGx5KGxpbmVzLCB0aGlzLmxpbmVzKQ0KICAgICAgICB9LA0KICAgICAgICAvLyBJbnNlcnQgdGhlIGdpdmVuIGFycmF5IG9mIGxpbmVzIGF0IG9mZnNldCAnYXQnLCBjb3VudCB0aGVtIGFzDQogICAgICAgIC8vIGhhdmluZyB0aGUgZ2l2ZW4gaGVpZ2h0Lg0KICAgICAgICBpbnNlcnRJbm5lcjogZnVuY3Rpb24oYXQsIGxpbmVzLCBoZWlnaHQpIHsNCiAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICB0aGlzLmhlaWdodCArPSBoZWlnaHQNCiAgICAgICAgICAgIHRoaXMubGluZXMgPSB0aGlzLmxpbmVzLnNsaWNlKDAsIGF0KS5jb25jYXQobGluZXMpLmNvbmNhdCh0aGlzLmxpbmVzLnNsaWNlKGF0KSkNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHsgbGluZXNbaV0ucGFyZW50ID0gdGhpcyQxIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8gVXNlZCB0byBpdGVyYXRlIG92ZXIgYSBwYXJ0IG9mIHRoZSB0cmVlLg0KICAgICAgICBpdGVyTjogZnVuY3Rpb24oYXQsIG4sIG9wKSB7DQogICAgICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICAgICAgZm9yICh2YXIgZSA9IGF0ICsgbjsgYXQgPCBlOyArK2F0KQ0KICAgICAgICAgICAgeyBpZiAob3AodGhpcyQxLmxpbmVzW2F0XSkpIHsgcmV0dXJuIHRydWUgfSB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBCcmFuY2hDaHVuayhjaGlsZHJlbikgew0KICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW4NCiAgICAgICAgdmFyIHNpemUgPSAwLCBoZWlnaHQgPSAwDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciBjaCA9IGNoaWxkcmVuW2ldDQogICAgICAgICAgICBzaXplICs9IGNoLmNodW5rU2l6ZSgpOyBoZWlnaHQgKz0gY2guaGVpZ2h0DQogICAgICAgICAgICBjaC5wYXJlbnQgPSB0aGlzJDENCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnNpemUgPSBzaXplDQogICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0DQogICAgICAgIHRoaXMucGFyZW50ID0gbnVsbA0KICAgIH0NCg0KICAgIEJyYW5jaENodW5rLnByb3RvdHlwZSA9IHsNCiAgICAgICAgY2h1bmtTaXplOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuc2l6ZSB9LA0KICAgICAgICByZW1vdmVJbm5lcjogZnVuY3Rpb24oYXQsIG4pIHsNCiAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICB0aGlzLnNpemUgLT0gbg0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcyQxLmNoaWxkcmVuW2ldLCBzeiA9IGNoaWxkLmNodW5rU2l6ZSgpDQogICAgICAgICAgICAgICAgaWYgKGF0IDwgc3opIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHJtID0gTWF0aC5taW4obiwgc3ogLSBhdCksIG9sZEhlaWdodCA9IGNoaWxkLmhlaWdodA0KICAgICAgICAgICAgICAgICAgICBjaGlsZC5yZW1vdmVJbm5lcihhdCwgcm0pDQogICAgICAgICAgICAgICAgICAgIHRoaXMkMS5oZWlnaHQgLT0gb2xkSGVpZ2h0IC0gY2hpbGQuaGVpZ2h0DQogICAgICAgICAgICAgICAgICAgIGlmIChzeiA9PSBybSkgeyB0aGlzJDEuY2hpbGRyZW4uc3BsaWNlKGktLSwgMSk7IGNoaWxkLnBhcmVudCA9IG51bGwgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoKG4gLT0gcm0pID09IDApIHsgYnJlYWsgfQ0KICAgICAgICAgICAgICAgICAgICBhdCA9IDANCiAgICAgICAgICAgICAgICB9IGVsc2UgeyBhdCAtPSBzeiB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBJZiB0aGUgcmVzdWx0IGlzIHNtYWxsZXIgdGhhbiAyNSBsaW5lcywgZW5zdXJlIHRoYXQgaXQgaXMgYQ0KICAgICAgICAgICAgLy8gc2luZ2xlIGxlYWYgbm9kZS4NCiAgICAgICAgICAgIGlmICh0aGlzLnNpemUgLSBuIDwgMjUgJiYNCiAgICAgICAgICAgICAgICAodGhpcy5jaGlsZHJlbi5sZW5ndGggPiAxIHx8ICEodGhpcy5jaGlsZHJlblswXSBpbnN0YW5jZW9mIExlYWZDaHVuaykpKSB7DQogICAgICAgICAgICAgICAgdmFyIGxpbmVzID0gW10NCiAgICAgICAgICAgICAgICB0aGlzLmNvbGxhcHNlKGxpbmVzKQ0KICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbbmV3IExlYWZDaHVuayhsaW5lcyldDQogICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlblswXS5wYXJlbnQgPSB0aGlzDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNvbGxhcHNlOiBmdW5jdGlvbihsaW5lcykgew0KICAgICAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7DQoNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkgeyB0aGlzJDEuY2hpbGRyZW5baV0uY29sbGFwc2UobGluZXMpIH0NCiAgICAgICAgfSwNCiAgICAgICAgaW5zZXJ0SW5uZXI6IGZ1bmN0aW9uKGF0LCBsaW5lcywgaGVpZ2h0KSB7DQogICAgICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICAgICAgdGhpcy5zaXplICs9IGxpbmVzLmxlbmd0aA0KICAgICAgICAgICAgdGhpcy5oZWlnaHQgKz0gaGVpZ2h0DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzJDEuY2hpbGRyZW5baV0sIHN6ID0gY2hpbGQuY2h1bmtTaXplKCkNCiAgICAgICAgICAgICAgICBpZiAoYXQgPD0gc3opIHsNCiAgICAgICAgICAgICAgICAgICAgY2hpbGQuaW5zZXJ0SW5uZXIoYXQsIGxpbmVzLCBoZWlnaHQpDQogICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5saW5lcyAmJiBjaGlsZC5saW5lcy5sZW5ndGggPiA1MCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG8gYXZvaWQgbWVtb3J5IHRocmFzaGluZyB3aGVuIGNoaWxkLmxpbmVzIGlzIGh1Z2UgKGUuZy4gZmlyc3QgdmlldyBvZiBhIGxhcmdlIGZpbGUpLCBpdCdzIG5ldmVyIHNwbGljZWQuDQogICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnN0ZWFkLCBzbWFsbCBzbGljZXMgYXJlIHRha2VuLiBUaGV5J3JlIHRha2VuIGluIG9yZGVyIGJlY2F1c2Ugc2VxdWVudGlhbCBtZW1vcnkgYWNjZXNzZXMgYXJlIGZhc3Rlc3QuDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nID0gY2hpbGQubGluZXMubGVuZ3RoICUgMjUgKyAyNQ0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcG9zID0gcmVtYWluaW5nOyBwb3MgPCBjaGlsZC5saW5lcy5sZW5ndGg7KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlYWYgPSBuZXcgTGVhZkNodW5rKGNoaWxkLmxpbmVzLnNsaWNlKHBvcywgcG9zICs9IDI1KSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5oZWlnaHQgLT0gbGVhZi5oZWlnaHQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzJDEuY2hpbGRyZW4uc3BsaWNlKCsraSwgMCwgbGVhZikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWFmLnBhcmVudCA9IHRoaXMkMQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQubGluZXMgPSBjaGlsZC5saW5lcy5zbGljZSgwLCByZW1haW5pbmcpDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzJDEubWF5YmVTcGlsbCgpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgYXQgLT0gc3oNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8gV2hlbiBhIG5vZGUgaGFzIGdyb3duLCBjaGVjayB3aGV0aGVyIGl0IHNob3VsZCBiZSBzcGxpdC4NCiAgICAgICAgbWF5YmVTcGlsbDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPD0gMTApIHsgcmV0dXJuIH0NCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMNCiAgICAgICAgICAgIGRvIHsNCiAgICAgICAgICAgICAgICB2YXIgc3BpbGxlZCA9IG1lLmNoaWxkcmVuLnNwbGljZShtZS5jaGlsZHJlbi5sZW5ndGggLSA1LCA1KQ0KICAgICAgICAgICAgICAgIHZhciBzaWJsaW5nID0gbmV3IEJyYW5jaENodW5rKHNwaWxsZWQpDQogICAgICAgICAgICAgICAgaWYgKCFtZS5wYXJlbnQpIHsgLy8gQmVjb21lIHRoZSBwYXJlbnQgbm9kZQ0KICAgICAgICAgICAgICAgICAgICB2YXIgY29weSA9IG5ldyBCcmFuY2hDaHVuayhtZS5jaGlsZHJlbikNCiAgICAgICAgICAgICAgICAgICAgY29weS5wYXJlbnQgPSBtZQ0KICAgICAgICAgICAgICAgICAgICBtZS5jaGlsZHJlbiA9IFtjb3B5LCBzaWJsaW5nXQ0KICAgICAgICAgICAgICAgICAgICBtZSA9IGNvcHkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBtZS5zaXplIC09IHNpYmxpbmcuc2l6ZQ0KICAgICAgICAgICAgICAgICAgICBtZS5oZWlnaHQgLT0gc2libGluZy5oZWlnaHQNCiAgICAgICAgICAgICAgICAgICAgdmFyIG15SW5kZXggPSBpbmRleE9mKG1lLnBhcmVudC5jaGlsZHJlbiwgbWUpDQogICAgICAgICAgICAgICAgICAgIG1lLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UobXlJbmRleCArIDEsIDAsIHNpYmxpbmcpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHNpYmxpbmcucGFyZW50ID0gbWUucGFyZW50DQogICAgICAgICAgICB9IHdoaWxlIChtZS5jaGlsZHJlbi5sZW5ndGggPiAxMCkNCiAgICAgICAgICAgIG1lLnBhcmVudC5tYXliZVNwaWxsKCkNCiAgICAgICAgfSwNCiAgICAgICAgaXRlck46IGZ1bmN0aW9uKGF0LCBuLCBvcCkgew0KICAgICAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7DQoNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkgew0KICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMkMS5jaGlsZHJlbltpXSwgc3ogPSBjaGlsZC5jaHVua1NpemUoKQ0KICAgICAgICAgICAgICAgIGlmIChhdCA8IHN6KSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB1c2VkID0gTWF0aC5taW4obiwgc3ogLSBhdCkNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLml0ZXJOKGF0LCB1c2VkLCBvcCkpIHsgcmV0dXJuIHRydWUgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoKG4gLT0gdXNlZCkgPT0gMCkgeyBicmVhayB9DQogICAgICAgICAgICAgICAgICAgIGF0ID0gMA0KICAgICAgICAgICAgICAgIH0gZWxzZSB7IGF0IC09IHN6IH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KLy8gTGluZSB3aWRnZXRzIGFyZSBibG9jayBlbGVtZW50cyBkaXNwbGF5ZWQgYWJvdmUgb3IgYmVsb3cgYSBsaW5lLg0KDQogICAgZnVuY3Rpb24gTGluZVdpZGdldChkb2MsIG5vZGUsIG9wdGlvbnMpIHsNCiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7DQoNCiAgICAgICAgaWYgKG9wdGlvbnMpIHsgZm9yICh2YXIgb3B0IGluIG9wdGlvbnMpIHsgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0KSkNCiAgICAgICAgeyB0aGlzJDFbb3B0XSA9IG9wdGlvbnNbb3B0XSB9IH0gfQ0KICAgICAgICB0aGlzLmRvYyA9IGRvYw0KICAgICAgICB0aGlzLm5vZGUgPSBub2RlDQogICAgfQ0KICAgIGV2ZW50TWl4aW4oTGluZVdpZGdldCkNCg0KICAgIGZ1bmN0aW9uIGFkanVzdFNjcm9sbFdoZW5BYm92ZVZpc2libGUoY20sIGxpbmUsIGRpZmYpIHsNCiAgICAgICAgaWYgKGhlaWdodEF0TGluZShsaW5lKSA8ICgoY20uY3VyT3AgJiYgY20uY3VyT3Auc2Nyb2xsVG9wKSB8fCBjbS5kb2Muc2Nyb2xsVG9wKSkNCiAgICAgICAgeyBhZGRUb1Njcm9sbFBvcyhjbSwgbnVsbCwgZGlmZikgfQ0KICAgIH0NCg0KICAgIExpbmVXaWRnZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgIHZhciBjbSA9IHRoaXMuZG9jLmNtLCB3cyA9IHRoaXMubGluZS53aWRnZXRzLCBsaW5lID0gdGhpcy5saW5lLCBubyA9IGxpbmVObyhsaW5lKQ0KICAgICAgICBpZiAobm8gPT0gbnVsbCB8fCAhd3MpIHsgcmV0dXJuIH0NCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3cy5sZW5ndGg7ICsraSkgeyBpZiAod3NbaV0gPT0gdGhpcyQxKSB7IHdzLnNwbGljZShpLS0sIDEpIH0gfQ0KICAgICAgICBpZiAoIXdzLmxlbmd0aCkgeyBsaW5lLndpZGdldHMgPSBudWxsIH0NCiAgICAgICAgdmFyIGhlaWdodCA9IHdpZGdldEhlaWdodCh0aGlzKQ0KICAgICAgICB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIE1hdGgubWF4KDAsIGxpbmUuaGVpZ2h0IC0gaGVpZ2h0KSkNCiAgICAgICAgaWYgKGNtKSB7IHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGFkanVzdFNjcm9sbFdoZW5BYm92ZVZpc2libGUoY20sIGxpbmUsIC1oZWlnaHQpDQogICAgICAgICAgICByZWdMaW5lQ2hhbmdlKGNtLCBubywgIndpZGdldCIpDQogICAgICAgIH0pIH0NCiAgICB9DQogICAgTGluZVdpZGdldC5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgb2xkSCA9IHRoaXMuaGVpZ2h0LCBjbSA9IHRoaXMuZG9jLmNtLCBsaW5lID0gdGhpcy5saW5lDQogICAgICAgIHRoaXMuaGVpZ2h0ID0gbnVsbA0KICAgICAgICB2YXIgZGlmZiA9IHdpZGdldEhlaWdodCh0aGlzKSAtIG9sZEgNCiAgICAgICAgaWYgKCFkaWZmKSB7IHJldHVybiB9DQogICAgICAgIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgbGluZS5oZWlnaHQgKyBkaWZmKQ0KICAgICAgICBpZiAoY20pIHsgcnVuSW5PcChjbSwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgY20uY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlDQogICAgICAgICAgICBhZGp1c3RTY3JvbGxXaGVuQWJvdmVWaXNpYmxlKGNtLCBsaW5lLCBkaWZmKQ0KICAgICAgICB9KSB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYWRkTGluZVdpZGdldChkb2MsIGhhbmRsZSwgbm9kZSwgb3B0aW9ucykgew0KICAgICAgICB2YXIgd2lkZ2V0ID0gbmV3IExpbmVXaWRnZXQoZG9jLCBub2RlLCBvcHRpb25zKQ0KICAgICAgICB2YXIgY20gPSBkb2MuY20NCiAgICAgICAgaWYgKGNtICYmIHdpZGdldC5ub0hTY3JvbGwpIHsgY20uZGlzcGxheS5hbGlnbldpZGdldHMgPSB0cnVlIH0NCiAgICAgICAgY2hhbmdlTGluZShkb2MsIGhhbmRsZSwgIndpZGdldCIsIGZ1bmN0aW9uIChsaW5lKSB7DQogICAgICAgICAgICB2YXIgd2lkZ2V0cyA9IGxpbmUud2lkZ2V0cyB8fCAobGluZS53aWRnZXRzID0gW10pDQogICAgICAgICAgICBpZiAod2lkZ2V0Lmluc2VydEF0ID09IG51bGwpIHsgd2lkZ2V0cy5wdXNoKHdpZGdldCkgfQ0KICAgICAgICAgICAgZWxzZSB7IHdpZGdldHMuc3BsaWNlKE1hdGgubWluKHdpZGdldHMubGVuZ3RoIC0gMSwgTWF0aC5tYXgoMCwgd2lkZ2V0Lmluc2VydEF0KSksIDAsIHdpZGdldCkgfQ0KICAgICAgICAgICAgd2lkZ2V0LmxpbmUgPSBsaW5lDQogICAgICAgICAgICBpZiAoY20gJiYgIWxpbmVJc0hpZGRlbihkb2MsIGxpbmUpKSB7DQogICAgICAgICAgICAgICAgdmFyIGFib3ZlVmlzaWJsZSA9IGhlaWdodEF0TGluZShsaW5lKSA8IGRvYy5zY3JvbGxUb3ANCiAgICAgICAgICAgICAgICB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGxpbmUuaGVpZ2h0ICsgd2lkZ2V0SGVpZ2h0KHdpZGdldCkpDQogICAgICAgICAgICAgICAgaWYgKGFib3ZlVmlzaWJsZSkgeyBhZGRUb1Njcm9sbFBvcyhjbSwgbnVsbCwgd2lkZ2V0LmhlaWdodCkgfQ0KICAgICAgICAgICAgICAgIGNtLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIHdpZGdldA0KICAgIH0NCg0KLy8gVEVYVE1BUktFUlMNCg0KLy8gQ3JlYXRlZCB3aXRoIG1hcmtUZXh0IGFuZCBzZXRCb29rbWFyayBtZXRob2RzLiBBIFRleHRNYXJrZXIgaXMgYQ0KLy8gaGFuZGxlIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2xlYXIgb3IgZmluZCBhIG1hcmtlZCBwb3NpdGlvbiBpbiB0aGUNCi8vIGRvY3VtZW50LiBMaW5lIG9iamVjdHMgaG9sZCBhcnJheXMgKG1hcmtlZFNwYW5zKSBjb250YWluaW5nDQovLyB7ZnJvbSwgdG8sIG1hcmtlcn0gb2JqZWN0IHBvaW50aW5nIHRvIHN1Y2ggbWFya2VyIG9iamVjdHMsIGFuZA0KLy8gaW5kaWNhdGluZyB0aGF0IHN1Y2ggYSBtYXJrZXIgaXMgcHJlc2VudCBvbiB0aGF0IGxpbmUuIE11bHRpcGxlDQovLyBsaW5lcyBtYXkgcG9pbnQgdG8gdGhlIHNhbWUgbWFya2VyIHdoZW4gaXQgc3BhbnMgYWNyb3NzIGxpbmVzLg0KLy8gVGhlIHNwYW5zIHdpbGwgaGF2ZSBudWxsIGZvciB0aGVpciBmcm9tL3RvIHByb3BlcnRpZXMgd2hlbiB0aGUNCi8vIG1hcmtlciBjb250aW51ZXMgYmV5b25kIHRoZSBzdGFydC9lbmQgb2YgdGhlIGxpbmUuIE1hcmtlcnMgaGF2ZQ0KLy8gbGlua3MgYmFjayB0byB0aGUgbGluZXMgdGhleSBjdXJyZW50bHkgdG91Y2guDQoNCi8vIENvbGxhcHNlZCBtYXJrZXJzIGhhdmUgdW5pcXVlIGlkcywgaW4gb3JkZXIgdG8gYmUgYWJsZSB0byBvcmRlcg0KLy8gdGhlbSwgd2hpY2ggaXMgbmVlZGVkIGZvciB1bmlxdWVseSBkZXRlcm1pbmluZyBhbiBvdXRlciBtYXJrZXINCi8vIHdoZW4gdGhleSBvdmVybGFwICh0aGV5IG1heSBuZXN0LCBidXQgbm90IHBhcnRpYWxseSBvdmVybGFwKS4NCiAgICB2YXIgbmV4dE1hcmtlcklkID0gMA0KDQogICAgZnVuY3Rpb24gVGV4dE1hcmtlcihkb2MsIHR5cGUpIHsNCiAgICAgICAgdGhpcy5saW5lcyA9IFtdDQogICAgICAgIHRoaXMudHlwZSA9IHR5cGUNCiAgICAgICAgdGhpcy5kb2MgPSBkb2MNCiAgICAgICAgdGhpcy5pZCA9ICsrbmV4dE1hcmtlcklkDQogICAgfQ0KICAgIGV2ZW50TWl4aW4oVGV4dE1hcmtlcikNCg0KLy8gQ2xlYXIgdGhlIG1hcmtlci4NCiAgICBUZXh0TWFya2VyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICBpZiAodGhpcy5leHBsaWNpdGx5Q2xlYXJlZCkgeyByZXR1cm4gfQ0KICAgICAgICB2YXIgY20gPSB0aGlzLmRvYy5jbSwgd2l0aE9wID0gY20gJiYgIWNtLmN1ck9wDQogICAgICAgIGlmICh3aXRoT3ApIHsgc3RhcnRPcGVyYXRpb24oY20pIH0NCiAgICAgICAgaWYgKGhhc0hhbmRsZXIodGhpcywgImNsZWFyIikpIHsNCiAgICAgICAgICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZCgpDQogICAgICAgICAgICBpZiAoZm91bmQpIHsgc2lnbmFsTGF0ZXIodGhpcywgImNsZWFyIiwgZm91bmQuZnJvbSwgZm91bmQudG8pIH0NCiAgICAgICAgfQ0KICAgICAgICB2YXIgbWluID0gbnVsbCwgbWF4ID0gbnVsbA0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGluZXMubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgIHZhciBsaW5lID0gdGhpcyQxLmxpbmVzW2ldDQogICAgICAgICAgICB2YXIgc3BhbiA9IGdldE1hcmtlZFNwYW5Gb3IobGluZS5tYXJrZWRTcGFucywgdGhpcyQxKQ0KICAgICAgICAgICAgaWYgKGNtICYmICF0aGlzJDEuY29sbGFwc2VkKSB7IHJlZ0xpbmVDaGFuZ2UoY20sIGxpbmVObyhsaW5lKSwgInRleHQiKSB9DQogICAgICAgICAgICBlbHNlIGlmIChjbSkgew0KICAgICAgICAgICAgICAgIGlmIChzcGFuLnRvICE9IG51bGwpIHsgbWF4ID0gbGluZU5vKGxpbmUpIH0NCiAgICAgICAgICAgICAgICBpZiAoc3Bhbi5mcm9tICE9IG51bGwpIHsgbWluID0gbGluZU5vKGxpbmUpIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxpbmUubWFya2VkU3BhbnMgPSByZW1vdmVNYXJrZWRTcGFuKGxpbmUubWFya2VkU3BhbnMsIHNwYW4pDQogICAgICAgICAgICBpZiAoc3Bhbi5mcm9tID09IG51bGwgJiYgdGhpcyQxLmNvbGxhcHNlZCAmJiAhbGluZUlzSGlkZGVuKHRoaXMkMS5kb2MsIGxpbmUpICYmIGNtKQ0KICAgICAgICAgICAgeyB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIHRleHRIZWlnaHQoY20uZGlzcGxheSkpIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoY20gJiYgdGhpcy5jb2xsYXBzZWQgJiYgIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7IGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMubGluZXMubGVuZ3RoOyArK2kkMSkgew0KICAgICAgICAgICAgdmFyIHZpc3VhbCA9IHZpc3VhbExpbmUodGhpcyQxLmxpbmVzW2kkMV0pLCBsZW4gPSBsaW5lTGVuZ3RoKHZpc3VhbCkNCiAgICAgICAgICAgIGlmIChsZW4gPiBjbS5kaXNwbGF5Lm1heExpbmVMZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBjbS5kaXNwbGF5Lm1heExpbmUgPSB2aXN1YWwNCiAgICAgICAgICAgICAgICBjbS5kaXNwbGF5Lm1heExpbmVMZW5ndGggPSBsZW4NCiAgICAgICAgICAgICAgICBjbS5kaXNwbGF5Lm1heExpbmVDaGFuZ2VkID0gdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9IH0NCg0KICAgICAgICBpZiAobWluICE9IG51bGwgJiYgY20gJiYgdGhpcy5jb2xsYXBzZWQpIHsgcmVnQ2hhbmdlKGNtLCBtaW4sIG1heCArIDEpIH0NCiAgICAgICAgdGhpcy5saW5lcy5sZW5ndGggPSAwDQogICAgICAgIHRoaXMuZXhwbGljaXRseUNsZWFyZWQgPSB0cnVlDQogICAgICAgIGlmICh0aGlzLmF0b21pYyAmJiB0aGlzLmRvYy5jYW50RWRpdCkgew0KICAgICAgICAgICAgdGhpcy5kb2MuY2FudEVkaXQgPSBmYWxzZQ0KICAgICAgICAgICAgaWYgKGNtKSB7IHJlQ2hlY2tTZWxlY3Rpb24oY20uZG9jKSB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKGNtKSB7IHNpZ25hbExhdGVyKGNtLCAibWFya2VyQ2xlYXJlZCIsIGNtLCB0aGlzKSB9DQogICAgICAgIGlmICh3aXRoT3ApIHsgZW5kT3BlcmF0aW9uKGNtKSB9DQogICAgICAgIGlmICh0aGlzLnBhcmVudCkgeyB0aGlzLnBhcmVudC5jbGVhcigpIH0NCiAgICB9DQoNCi8vIEZpbmQgdGhlIHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIgaW4gdGhlIGRvY3VtZW50LiBSZXR1cm5zIGEge2Zyb20sDQovLyB0b30gb2JqZWN0IGJ5IGRlZmF1bHQuIFNpZGUgY2FuIGJlIHBhc3NlZCB0byBnZXQgYSBzcGVjaWZpYyBzaWRlDQovLyAtLSAwIChib3RoKSwgLTEgKGxlZnQpLCBvciAxIChyaWdodCkuIFdoZW4gbGluZU9iaiBpcyB0cnVlLCB0aGUNCi8vIFBvcyBvYmplY3RzIHJldHVybmVkIGNvbnRhaW4gYSBsaW5lIG9iamVjdCwgcmF0aGVyIHRoYW4gYSBsaW5lDQovLyBudW1iZXIgKHVzZWQgdG8gcHJldmVudCBsb29raW5nIHVwIHRoZSBzYW1lIGxpbmUgdHdpY2UpLg0KICAgIFRleHRNYXJrZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihzaWRlLCBsaW5lT2JqKSB7DQogICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgIGlmIChzaWRlID09IG51bGwgJiYgdGhpcy50eXBlID09ICJib29rbWFyayIpIHsgc2lkZSA9IDEgfQ0KICAgICAgICB2YXIgZnJvbSwgdG8NCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICB2YXIgbGluZSA9IHRoaXMkMS5saW5lc1tpXQ0KICAgICAgICAgICAgdmFyIHNwYW4gPSBnZXRNYXJrZWRTcGFuRm9yKGxpbmUubWFya2VkU3BhbnMsIHRoaXMkMSkNCiAgICAgICAgICAgIGlmIChzcGFuLmZyb20gIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGZyb20gPSBQb3MobGluZU9iaiA/IGxpbmUgOiBsaW5lTm8obGluZSksIHNwYW4uZnJvbSkNCiAgICAgICAgICAgICAgICBpZiAoc2lkZSA9PSAtMSkgeyByZXR1cm4gZnJvbSB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoc3Bhbi50byAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdG8gPSBQb3MobGluZU9iaiA/IGxpbmUgOiBsaW5lTm8obGluZSksIHNwYW4udG8pDQogICAgICAgICAgICAgICAgaWYgKHNpZGUgPT0gMSkgeyByZXR1cm4gdG8gfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmcm9tICYmIHtmcm9tOiBmcm9tLCB0bzogdG99DQogICAgfQ0KDQovLyBTaWduYWxzIHRoYXQgdGhlIG1hcmtlcidzIHdpZGdldCBjaGFuZ2VkLCBhbmQgc3Vycm91bmRpbmcgbGF5b3V0DQovLyBzaG91bGQgYmUgcmVjb21wdXRlZC4NCiAgICBUZXh0TWFya2VyLnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHZhciBwb3MgPSB0aGlzLmZpbmQoLTEsIHRydWUpLCB3aWRnZXQgPSB0aGlzLCBjbSA9IHRoaXMuZG9jLmNtDQogICAgICAgIGlmICghcG9zIHx8ICFjbSkgeyByZXR1cm4gfQ0KICAgICAgICBydW5Jbk9wKGNtLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgbGluZSA9IHBvcy5saW5lLCBsaW5lTiA9IGxpbmVObyhwb3MubGluZSkNCiAgICAgICAgICAgIHZhciB2aWV3ID0gZmluZFZpZXdGb3JMaW5lKGNtLCBsaW5lTikNCiAgICAgICAgICAgIGlmICh2aWV3KSB7DQogICAgICAgICAgICAgICAgY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZUZvcih2aWV3KQ0KICAgICAgICAgICAgICAgIGNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSBjbS5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNtLmN1ck9wLnVwZGF0ZU1heExpbmUgPSB0cnVlDQogICAgICAgICAgICBpZiAoIWxpbmVJc0hpZGRlbih3aWRnZXQuZG9jLCBsaW5lKSAmJiB3aWRnZXQuaGVpZ2h0ICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB2YXIgb2xkSGVpZ2h0ID0gd2lkZ2V0LmhlaWdodA0KICAgICAgICAgICAgICAgIHdpZGdldC5oZWlnaHQgPSBudWxsDQogICAgICAgICAgICAgICAgdmFyIGRIZWlnaHQgPSB3aWRnZXRIZWlnaHQod2lkZ2V0KSAtIG9sZEhlaWdodA0KICAgICAgICAgICAgICAgIGlmIChkSGVpZ2h0KQ0KICAgICAgICAgICAgICAgIHsgdXBkYXRlTGluZUhlaWdodChsaW5lLCBsaW5lLmhlaWdodCArIGRIZWlnaHQpIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICB9DQoNCiAgICBUZXh0TWFya2VyLnByb3RvdHlwZS5hdHRhY2hMaW5lID0gZnVuY3Rpb24obGluZSkgew0KICAgICAgICBpZiAoIXRoaXMubGluZXMubGVuZ3RoICYmIHRoaXMuZG9jLmNtKSB7DQogICAgICAgICAgICB2YXIgb3AgPSB0aGlzLmRvYy5jbS5jdXJPcA0KICAgICAgICAgICAgaWYgKCFvcC5tYXliZUhpZGRlbk1hcmtlcnMgfHwgaW5kZXhPZihvcC5tYXliZUhpZGRlbk1hcmtlcnMsIHRoaXMpID09IC0xKQ0KICAgICAgICAgICAgeyAob3AubWF5YmVVbmhpZGRlbk1hcmtlcnMgfHwgKG9wLm1heWJlVW5oaWRkZW5NYXJrZXJzID0gW10pKS5wdXNoKHRoaXMpIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmxpbmVzLnB1c2gobGluZSkNCiAgICB9DQogICAgVGV4dE1hcmtlci5wcm90b3R5cGUuZGV0YWNoTGluZSA9IGZ1bmN0aW9uKGxpbmUpIHsNCiAgICAgICAgdGhpcy5saW5lcy5zcGxpY2UoaW5kZXhPZih0aGlzLmxpbmVzLCBsaW5lKSwgMSkNCiAgICAgICAgaWYgKCF0aGlzLmxpbmVzLmxlbmd0aCAmJiB0aGlzLmRvYy5jbSkgew0KICAgICAgICAgICAgdmFyIG9wID0gdGhpcy5kb2MuY20uY3VyT3A7KG9wLm1heWJlSGlkZGVuTWFya2VycyB8fCAob3AubWF5YmVIaWRkZW5NYXJrZXJzID0gW10pKS5wdXNoKHRoaXMpDQogICAgICAgIH0NCiAgICB9DQoNCi8vIENyZWF0ZSBhIG1hcmtlciwgd2lyZSBpdCB1cCB0byB0aGUgcmlnaHQgbGluZXMsIGFuZA0KICAgIGZ1bmN0aW9uIG1hcmtUZXh0KGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpIHsNCiAgICAgICAgLy8gU2hhcmVkIG1hcmtlcnMgKGFjcm9zcyBsaW5rZWQgZG9jdW1lbnRzKSBhcmUgaGFuZGxlZCBzZXBhcmF0ZWx5DQogICAgICAgIC8vIChtYXJrVGV4dFNoYXJlZCB3aWxsIGNhbGwgb3V0IHRvIHRoaXMgYWdhaW4sIG9uY2UgcGVyDQogICAgICAgIC8vIGRvY3VtZW50KS4NCiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5zaGFyZWQpIHsgcmV0dXJuIG1hcmtUZXh0U2hhcmVkKGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpIH0NCiAgICAgICAgLy8gRW5zdXJlIHdlIGFyZSBpbiBhbiBvcGVyYXRpb24uDQogICAgICAgIGlmIChkb2MuY20gJiYgIWRvYy5jbS5jdXJPcCkgeyByZXR1cm4gb3BlcmF0aW9uKGRvYy5jbSwgbWFya1RleHQpKGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpIH0NCg0KICAgICAgICB2YXIgbWFya2VyID0gbmV3IFRleHRNYXJrZXIoZG9jLCB0eXBlKSwgZGlmZiA9IGNtcChmcm9tLCB0bykNCiAgICAgICAgaWYgKG9wdGlvbnMpIHsgY29weU9iaihvcHRpb25zLCBtYXJrZXIsIGZhbHNlKSB9DQogICAgICAgIC8vIERvbid0IGNvbm5lY3QgZW1wdHkgbWFya2VycyB1bmxlc3MgY2xlYXJXaGVuRW1wdHkgaXMgZmFsc2UNCiAgICAgICAgaWYgKGRpZmYgPiAwIHx8IGRpZmYgPT0gMCAmJiBtYXJrZXIuY2xlYXJXaGVuRW1wdHkgIT09IGZhbHNlKQ0KICAgICAgICB7IHJldHVybiBtYXJrZXIgfQ0KICAgICAgICBpZiAobWFya2VyLnJlcGxhY2VkV2l0aCkgew0KICAgICAgICAgICAgLy8gU2hvd2luZyB1cCBhcyBhIHdpZGdldCBpbXBsaWVzIGNvbGxhcHNlZCAod2lkZ2V0IHJlcGxhY2VzIHRleHQpDQogICAgICAgICAgICBtYXJrZXIuY29sbGFwc2VkID0gdHJ1ZQ0KICAgICAgICAgICAgbWFya2VyLndpZGdldE5vZGUgPSBlbHQoInNwYW4iLCBbbWFya2VyLnJlcGxhY2VkV2l0aF0sICJDb2RlTWlycm9yLXdpZGdldCIpDQogICAgICAgICAgICBpZiAoIW9wdGlvbnMuaGFuZGxlTW91c2VFdmVudHMpIHsgbWFya2VyLndpZGdldE5vZGUuc2V0QXR0cmlidXRlKCJjbS1pZ25vcmUtZXZlbnRzIiwgInRydWUiKSB9DQogICAgICAgICAgICBpZiAob3B0aW9ucy5pbnNlcnRMZWZ0KSB7IG1hcmtlci53aWRnZXROb2RlLmluc2VydExlZnQgPSB0cnVlIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAobWFya2VyLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgaWYgKGNvbmZsaWN0aW5nQ29sbGFwc2VkUmFuZ2UoZG9jLCBmcm9tLmxpbmUsIGZyb20sIHRvLCBtYXJrZXIpIHx8DQogICAgICAgICAgICAgICAgZnJvbS5saW5lICE9IHRvLmxpbmUgJiYgY29uZmxpY3RpbmdDb2xsYXBzZWRSYW5nZShkb2MsIHRvLmxpbmUsIGZyb20sIHRvLCBtYXJrZXIpKQ0KICAgICAgICAgICAgeyB0aHJvdyBuZXcgRXJyb3IoIkluc2VydGluZyBjb2xsYXBzZWQgbWFya2VyIHBhcnRpYWxseSBvdmVybGFwcGluZyBhbiBleGlzdGluZyBvbmUiKSB9DQogICAgICAgICAgICBzZWVDb2xsYXBzZWRTcGFucygpDQogICAgICAgIH0NCg0KICAgICAgICBpZiAobWFya2VyLmFkZFRvSGlzdG9yeSkNCiAgICAgICAgeyBhZGRDaGFuZ2VUb0hpc3RvcnkoZG9jLCB7ZnJvbTogZnJvbSwgdG86IHRvLCBvcmlnaW46ICJtYXJrVGV4dCJ9LCBkb2Muc2VsLCBOYU4pIH0NCg0KICAgICAgICB2YXIgY3VyTGluZSA9IGZyb20ubGluZSwgY20gPSBkb2MuY20sIHVwZGF0ZU1heExpbmUNCiAgICAgICAgZG9jLml0ZXIoY3VyTGluZSwgdG8ubGluZSArIDEsIGZ1bmN0aW9uIChsaW5lKSB7DQogICAgICAgICAgICBpZiAoY20gJiYgbWFya2VyLmNvbGxhcHNlZCAmJiAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgJiYgdmlzdWFsTGluZShsaW5lKSA9PSBjbS5kaXNwbGF5Lm1heExpbmUpDQogICAgICAgICAgICB7IHVwZGF0ZU1heExpbmUgPSB0cnVlIH0NCiAgICAgICAgICAgIGlmIChtYXJrZXIuY29sbGFwc2VkICYmIGN1ckxpbmUgIT0gZnJvbS5saW5lKSB7IHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgMCkgfQ0KICAgICAgICAgICAgYWRkTWFya2VkU3BhbihsaW5lLCBuZXcgTWFya2VkU3BhbihtYXJrZXIsDQogICAgICAgICAgICAgICAgY3VyTGluZSA9PSBmcm9tLmxpbmUgPyBmcm9tLmNoIDogbnVsbCwNCiAgICAgICAgICAgICAgICBjdXJMaW5lID09IHRvLmxpbmUgPyB0by5jaCA6IG51bGwpKQ0KICAgICAgICAgICAgKytjdXJMaW5lDQogICAgICAgIH0pDQogICAgICAgIC8vIGxpbmVJc0hpZGRlbiBkZXBlbmRzIG9uIHRoZSBwcmVzZW5jZSBvZiB0aGUgc3BhbnMsIHNvIG5lZWRzIGEgc2Vjb25kIHBhc3MNCiAgICAgICAgaWYgKG1hcmtlci5jb2xsYXBzZWQpIHsgZG9jLml0ZXIoZnJvbS5saW5lLCB0by5saW5lICsgMSwgZnVuY3Rpb24gKGxpbmUpIHsNCiAgICAgICAgICAgIGlmIChsaW5lSXNIaWRkZW4oZG9jLCBsaW5lKSkgeyB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIDApIH0NCiAgICAgICAgfSkgfQ0KDQogICAgICAgIGlmIChtYXJrZXIuY2xlYXJPbkVudGVyKSB7IG9uKG1hcmtlciwgImJlZm9yZUN1cnNvckVudGVyIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gbWFya2VyLmNsZWFyKCk7IH0pIH0NCg0KICAgICAgICBpZiAobWFya2VyLnJlYWRPbmx5KSB7DQogICAgICAgICAgICBzZWVSZWFkT25seVNwYW5zKCkNCiAgICAgICAgICAgIGlmIChkb2MuaGlzdG9yeS5kb25lLmxlbmd0aCB8fCBkb2MuaGlzdG9yeS51bmRvbmUubGVuZ3RoKQ0KICAgICAgICAgICAgeyBkb2MuY2xlYXJIaXN0b3J5KCkgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChtYXJrZXIuY29sbGFwc2VkKSB7DQogICAgICAgICAgICBtYXJrZXIuaWQgPSArK25leHRNYXJrZXJJZA0KICAgICAgICAgICAgbWFya2VyLmF0b21pYyA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgICBpZiAoY20pIHsNCiAgICAgICAgICAgIC8vIFN5bmMgZWRpdG9yIHN0YXRlDQogICAgICAgICAgICBpZiAodXBkYXRlTWF4TGluZSkgeyBjbS5jdXJPcC51cGRhdGVNYXhMaW5lID0gdHJ1ZSB9DQogICAgICAgICAgICBpZiAobWFya2VyLmNvbGxhcHNlZCkNCiAgICAgICAgICAgIHsgcmVnQ2hhbmdlKGNtLCBmcm9tLmxpbmUsIHRvLmxpbmUgKyAxKSB9DQogICAgICAgICAgICBlbHNlIGlmIChtYXJrZXIuY2xhc3NOYW1lIHx8IG1hcmtlci50aXRsZSB8fCBtYXJrZXIuc3RhcnRTdHlsZSB8fCBtYXJrZXIuZW5kU3R5bGUgfHwgbWFya2VyLmNzcykNCiAgICAgICAgICAgIHsgZm9yICh2YXIgaSA9IGZyb20ubGluZTsgaSA8PSB0by5saW5lOyBpKyspIHsgcmVnTGluZUNoYW5nZShjbSwgaSwgInRleHQiKSB9IH0NCiAgICAgICAgICAgIGlmIChtYXJrZXIuYXRvbWljKSB7IHJlQ2hlY2tTZWxlY3Rpb24oY20uZG9jKSB9DQogICAgICAgICAgICBzaWduYWxMYXRlcihjbSwgIm1hcmtlckFkZGVkIiwgY20sIG1hcmtlcikNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbWFya2VyDQogICAgfQ0KDQovLyBTSEFSRUQgVEVYVE1BUktFUlMNCg0KLy8gQSBzaGFyZWQgbWFya2VyIHNwYW5zIG11bHRpcGxlIGxpbmtlZCBkb2N1bWVudHMuIEl0IGlzDQovLyBpbXBsZW1lbnRlZCBhcyBhIG1ldGEtbWFya2VyLW9iamVjdCBjb250cm9sbGluZyBtdWx0aXBsZSBub3JtYWwNCi8vIG1hcmtlcnMuDQogICAgZnVuY3Rpb24gU2hhcmVkVGV4dE1hcmtlcihtYXJrZXJzLCBwcmltYXJ5KSB7DQogICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgIHRoaXMubWFya2VycyA9IG1hcmtlcnMNCiAgICAgICAgdGhpcy5wcmltYXJ5ID0gcHJpbWFyeQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyArK2kpDQogICAgICAgIHsgbWFya2Vyc1tpXS5wYXJlbnQgPSB0aGlzJDEgfQ0KICAgIH0NCiAgICBldmVudE1peGluKFNoYXJlZFRleHRNYXJrZXIpDQoNCiAgICBTaGFyZWRUZXh0TWFya2VyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICBpZiAodGhpcy5leHBsaWNpdGx5Q2xlYXJlZCkgeyByZXR1cm4gfQ0KICAgICAgICB0aGlzLmV4cGxpY2l0bHlDbGVhcmVkID0gdHJ1ZQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7ICsraSkNCiAgICAgICAgeyB0aGlzJDEubWFya2Vyc1tpXS5jbGVhcigpIH0NCiAgICAgICAgc2lnbmFsTGF0ZXIodGhpcywgImNsZWFyIikNCiAgICB9DQogICAgU2hhcmVkVGV4dE1hcmtlci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKHNpZGUsIGxpbmVPYmopIHsNCiAgICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeS5maW5kKHNpZGUsIGxpbmVPYmopDQogICAgfQ0KDQogICAgZnVuY3Rpb24gbWFya1RleHRTaGFyZWQoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSkgew0KICAgICAgICBvcHRpb25zID0gY29weU9iaihvcHRpb25zKQ0KICAgICAgICBvcHRpb25zLnNoYXJlZCA9IGZhbHNlDQogICAgICAgIHZhciBtYXJrZXJzID0gW21hcmtUZXh0KGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpXSwgcHJpbWFyeSA9IG1hcmtlcnNbMF0NCiAgICAgICAgdmFyIHdpZGdldCA9IG9wdGlvbnMud2lkZ2V0Tm9kZQ0KICAgICAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24gKGRvYykgew0KICAgICAgICAgICAgaWYgKHdpZGdldCkgeyBvcHRpb25zLndpZGdldE5vZGUgPSB3aWRnZXQuY2xvbmVOb2RlKHRydWUpIH0NCiAgICAgICAgICAgIG1hcmtlcnMucHVzaChtYXJrVGV4dChkb2MsIGNsaXBQb3MoZG9jLCBmcm9tKSwgY2xpcFBvcyhkb2MsIHRvKSwgb3B0aW9ucywgdHlwZSkpDQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5saW5rZWQubGVuZ3RoOyArK2kpDQogICAgICAgICAgICB7IGlmIChkb2MubGlua2VkW2ldLmlzUGFyZW50KSB7IHJldHVybiB9IH0NCiAgICAgICAgICAgIHByaW1hcnkgPSBsc3QobWFya2VycykNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIG5ldyBTaGFyZWRUZXh0TWFya2VyKG1hcmtlcnMsIHByaW1hcnkpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gZmluZFNoYXJlZE1hcmtlcnMoZG9jKSB7DQogICAgICAgIHJldHVybiBkb2MuZmluZE1hcmtzKFBvcyhkb2MuZmlyc3QsIDApLCBkb2MuY2xpcFBvcyhQb3MoZG9jLmxhc3RMaW5lKCkpKSwgZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ucGFyZW50OyB9KQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNvcHlTaGFyZWRNYXJrZXJzKGRvYywgbWFya2Vycykgew0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2ldLCBwb3MgPSBtYXJrZXIuZmluZCgpDQogICAgICAgICAgICB2YXIgbUZyb20gPSBkb2MuY2xpcFBvcyhwb3MuZnJvbSksIG1UbyA9IGRvYy5jbGlwUG9zKHBvcy50bykNCiAgICAgICAgICAgIGlmIChjbXAobUZyb20sIG1UbykpIHsNCiAgICAgICAgICAgICAgICB2YXIgc3ViTWFyayA9IG1hcmtUZXh0KGRvYywgbUZyb20sIG1UbywgbWFya2VyLnByaW1hcnksIG1hcmtlci5wcmltYXJ5LnR5cGUpDQogICAgICAgICAgICAgICAgbWFya2VyLm1hcmtlcnMucHVzaChzdWJNYXJrKQ0KICAgICAgICAgICAgICAgIHN1Yk1hcmsucGFyZW50ID0gbWFya2VyDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkZXRhY2hTaGFyZWRNYXJrZXJzKG1hcmtlcnMpIHsNCiAgICAgICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGkgKSB7DQogICAgICAgICAgICB2YXIgbWFya2VyID0gbWFya2Vyc1tpXSwgbGlua2VkID0gW21hcmtlci5wcmltYXJ5LmRvY10NCiAgICAgICAgICAgIGxpbmtlZERvY3MobWFya2VyLnByaW1hcnkuZG9jLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gbGlua2VkLnB1c2goZCk7IH0pDQogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hcmtlci5tYXJrZXJzLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICAgICAgdmFyIHN1Yk1hcmtlciA9IG1hcmtlci5tYXJrZXJzW2pdDQogICAgICAgICAgICAgICAgaWYgKGluZGV4T2YobGlua2VkLCBzdWJNYXJrZXIuZG9jKSA9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICBzdWJNYXJrZXIucGFyZW50ID0gbnVsbA0KICAgICAgICAgICAgICAgICAgICBtYXJrZXIubWFya2Vycy5zcGxpY2Uoai0tLCAxKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCg0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIGxvb3AoIGkgKTsNCiAgICB9DQoNCiAgICB2YXIgbmV4dERvY0lkID0gMA0KICAgIHZhciBEb2MgPSBmdW5jdGlvbih0ZXh0LCBtb2RlLCBmaXJzdExpbmUsIGxpbmVTZXApIHsNCiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIERvYykpIHsgcmV0dXJuIG5ldyBEb2ModGV4dCwgbW9kZSwgZmlyc3RMaW5lLCBsaW5lU2VwKSB9DQogICAgICAgIGlmIChmaXJzdExpbmUgPT0gbnVsbCkgeyBmaXJzdExpbmUgPSAwIH0NCg0KICAgICAgICBCcmFuY2hDaHVuay5jYWxsKHRoaXMsIFtuZXcgTGVhZkNodW5rKFtuZXcgTGluZSgiIiwgbnVsbCldKV0pDQogICAgICAgIHRoaXMuZmlyc3QgPSBmaXJzdExpbmUNCiAgICAgICAgdGhpcy5zY3JvbGxUb3AgPSB0aGlzLnNjcm9sbExlZnQgPSAwDQogICAgICAgIHRoaXMuY2FudEVkaXQgPSBmYWxzZQ0KICAgICAgICB0aGlzLmNsZWFuR2VuZXJhdGlvbiA9IDENCiAgICAgICAgdGhpcy5mcm9udGllciA9IGZpcnN0TGluZQ0KICAgICAgICB2YXIgc3RhcnQgPSBQb3MoZmlyc3RMaW5lLCAwKQ0KICAgICAgICB0aGlzLnNlbCA9IHNpbXBsZVNlbGVjdGlvbihzdGFydCkNCiAgICAgICAgdGhpcy5oaXN0b3J5ID0gbmV3IEhpc3RvcnkobnVsbCkNCiAgICAgICAgdGhpcy5pZCA9ICsrbmV4dERvY0lkDQogICAgICAgIHRoaXMubW9kZU9wdGlvbiA9IG1vZGUNCiAgICAgICAgdGhpcy5saW5lU2VwID0gbGluZVNlcA0KICAgICAgICB0aGlzLmV4dGVuZCA9IGZhbHNlDQoNCiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09ICJzdHJpbmciKSB7IHRleHQgPSB0aGlzLnNwbGl0TGluZXModGV4dCkgfQ0KICAgICAgICB1cGRhdGVEb2ModGhpcywge2Zyb206IHN0YXJ0LCB0bzogc3RhcnQsIHRleHQ6IHRleHR9KQ0KICAgICAgICBzZXRTZWxlY3Rpb24odGhpcywgc2ltcGxlU2VsZWN0aW9uKHN0YXJ0KSwgc2VsX2RvbnRTY3JvbGwpDQogICAgfQ0KDQogICAgRG9jLnByb3RvdHlwZSA9IGNyZWF0ZU9iaihCcmFuY2hDaHVuay5wcm90b3R5cGUsIHsNCiAgICAgICAgY29uc3RydWN0b3I6IERvYywNCiAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBkb2N1bWVudC4gU3VwcG9ydHMgdHdvIGZvcm1zIC0tIHdpdGggb25seSBvbmUNCiAgICAgICAgLy8gYXJndW1lbnQsIGl0IGNhbGxzIHRoYXQgZm9yIGVhY2ggbGluZSBpbiB0aGUgZG9jdW1lbnQuIFdpdGgNCiAgICAgICAgLy8gdGhyZWUsIGl0IGl0ZXJhdGVzIG92ZXIgdGhlIHJhbmdlIGdpdmVuIGJ5IHRoZSBmaXJzdCB0d28gKHdpdGgNCiAgICAgICAgLy8gdGhlIHNlY29uZCBiZWluZyBub24taW5jbHVzaXZlKS4NCiAgICAgICAgaXRlcjogZnVuY3Rpb24oZnJvbSwgdG8sIG9wKSB7DQogICAgICAgICAgICBpZiAob3ApIHsgdGhpcy5pdGVyTihmcm9tIC0gdGhpcy5maXJzdCwgdG8gLSBmcm9tLCBvcCkgfQ0KICAgICAgICAgICAgZWxzZSB7IHRoaXMuaXRlck4odGhpcy5maXJzdCwgdGhpcy5maXJzdCArIHRoaXMuc2l6ZSwgZnJvbSkgfQ0KICAgICAgICB9LA0KDQogICAgICAgIC8vIE5vbi1wdWJsaWMgaW50ZXJmYWNlIGZvciBhZGRpbmcgYW5kIHJlbW92aW5nIGxpbmVzLg0KICAgICAgICBpbnNlcnQ6IGZ1bmN0aW9uKGF0LCBsaW5lcykgew0KICAgICAgICAgICAgdmFyIGhlaWdodCA9IDANCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHsgaGVpZ2h0ICs9IGxpbmVzW2ldLmhlaWdodCB9DQogICAgICAgICAgICB0aGlzLmluc2VydElubmVyKGF0IC0gdGhpcy5maXJzdCwgbGluZXMsIGhlaWdodCkNCiAgICAgICAgfSwNCiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihhdCwgbikgeyB0aGlzLnJlbW92ZUlubmVyKGF0IC0gdGhpcy5maXJzdCwgbikgfSwNCg0KICAgICAgICAvLyBGcm9tIGhlcmUsIHRoZSBtZXRob2RzIGFyZSBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLiBNb3N0DQogICAgICAgIC8vIGFyZSBhbHNvIGF2YWlsYWJsZSBmcm9tIENvZGVNaXJyb3IgKGVkaXRvcikgaW5zdGFuY2VzLg0KDQogICAgICAgIGdldFZhbHVlOiBmdW5jdGlvbihsaW5lU2VwKSB7DQogICAgICAgICAgICB2YXIgbGluZXMgPSBnZXRMaW5lcyh0aGlzLCB0aGlzLmZpcnN0LCB0aGlzLmZpcnN0ICsgdGhpcy5zaXplKQ0KICAgICAgICAgICAgaWYgKGxpbmVTZXAgPT09IGZhbHNlKSB7IHJldHVybiBsaW5lcyB9DQogICAgICAgICAgICByZXR1cm4gbGluZXMuam9pbihsaW5lU2VwIHx8IHRoaXMubGluZVNlcGFyYXRvcigpKQ0KICAgICAgICB9LA0KICAgICAgICBzZXRWYWx1ZTogZG9jTWV0aG9kT3AoZnVuY3Rpb24oY29kZSkgew0KICAgICAgICAgICAgdmFyIHRvcCA9IFBvcyh0aGlzLmZpcnN0LCAwKSwgbGFzdCA9IHRoaXMuZmlyc3QgKyB0aGlzLnNpemUgLSAxDQogICAgICAgICAgICBtYWtlQ2hhbmdlKHRoaXMsIHtmcm9tOiB0b3AsIHRvOiBQb3MobGFzdCwgZ2V0TGluZSh0aGlzLCBsYXN0KS50ZXh0Lmxlbmd0aCksDQogICAgICAgICAgICAgICAgdGV4dDogdGhpcy5zcGxpdExpbmVzKGNvZGUpLCBvcmlnaW46ICJzZXRWYWx1ZSIsIGZ1bGw6IHRydWV9LCB0cnVlKQ0KICAgICAgICAgICAgc2V0U2VsZWN0aW9uKHRoaXMsIHNpbXBsZVNlbGVjdGlvbih0b3ApKQ0KICAgICAgICB9KSwNCiAgICAgICAgcmVwbGFjZVJhbmdlOiBmdW5jdGlvbihjb2RlLCBmcm9tLCB0bywgb3JpZ2luKSB7DQogICAgICAgICAgICBmcm9tID0gY2xpcFBvcyh0aGlzLCBmcm9tKQ0KICAgICAgICAgICAgdG8gPSB0byA/IGNsaXBQb3ModGhpcywgdG8pIDogZnJvbQ0KICAgICAgICAgICAgcmVwbGFjZVJhbmdlKHRoaXMsIGNvZGUsIGZyb20sIHRvLCBvcmlnaW4pDQogICAgICAgIH0sDQogICAgICAgIGdldFJhbmdlOiBmdW5jdGlvbihmcm9tLCB0bywgbGluZVNlcCkgew0KICAgICAgICAgICAgdmFyIGxpbmVzID0gZ2V0QmV0d2Vlbih0aGlzLCBjbGlwUG9zKHRoaXMsIGZyb20pLCBjbGlwUG9zKHRoaXMsIHRvKSkNCiAgICAgICAgICAgIGlmIChsaW5lU2VwID09PSBmYWxzZSkgeyByZXR1cm4gbGluZXMgfQ0KICAgICAgICAgICAgcmV0dXJuIGxpbmVzLmpvaW4obGluZVNlcCB8fCB0aGlzLmxpbmVTZXBhcmF0b3IoKSkNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRMaW5lOiBmdW5jdGlvbihsaW5lKSB7dmFyIGwgPSB0aGlzLmdldExpbmVIYW5kbGUobGluZSk7IHJldHVybiBsICYmIGwudGV4dH0sDQoNCiAgICAgICAgZ2V0TGluZUhhbmRsZTogZnVuY3Rpb24obGluZSkge2lmIChpc0xpbmUodGhpcywgbGluZSkpIHsgcmV0dXJuIGdldExpbmUodGhpcywgbGluZSkgfX0sDQogICAgICAgIGdldExpbmVOdW1iZXI6IGZ1bmN0aW9uKGxpbmUpIHtyZXR1cm4gbGluZU5vKGxpbmUpfSwNCg0KICAgICAgICBnZXRMaW5lSGFuZGxlVmlzdWFsU3RhcnQ6IGZ1bmN0aW9uKGxpbmUpIHsNCiAgICAgICAgICAgIGlmICh0eXBlb2YgbGluZSA9PSAibnVtYmVyIikgeyBsaW5lID0gZ2V0TGluZSh0aGlzLCBsaW5lKSB9DQogICAgICAgICAgICByZXR1cm4gdmlzdWFsTGluZShsaW5lKQ0KICAgICAgICB9LA0KDQogICAgICAgIGxpbmVDb3VudDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuc2l6ZX0sDQogICAgICAgIGZpcnN0TGluZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZmlyc3R9LA0KICAgICAgICBsYXN0TGluZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZmlyc3QgKyB0aGlzLnNpemUgLSAxfSwNCg0KICAgICAgICBjbGlwUG9zOiBmdW5jdGlvbihwb3MpIHtyZXR1cm4gY2xpcFBvcyh0aGlzLCBwb3MpfSwNCg0KICAgICAgICBnZXRDdXJzb3I6IGZ1bmN0aW9uKHN0YXJ0KSB7DQogICAgICAgICAgICB2YXIgcmFuZ2UkJDEgPSB0aGlzLnNlbC5wcmltYXJ5KCksIHBvcw0KICAgICAgICAgICAgaWYgKHN0YXJ0ID09IG51bGwgfHwgc3RhcnQgPT0gImhlYWQiKSB7IHBvcyA9IHJhbmdlJCQxLmhlYWQgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoc3RhcnQgPT0gImFuY2hvciIpIHsgcG9zID0gcmFuZ2UkJDEuYW5jaG9yIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0ID09ICJlbmQiIHx8IHN0YXJ0ID09ICJ0byIgfHwgc3RhcnQgPT09IGZhbHNlKSB7IHBvcyA9IHJhbmdlJCQxLnRvKCkgfQ0KICAgICAgICAgICAgZWxzZSB7IHBvcyA9IHJhbmdlJCQxLmZyb20oKSB9DQogICAgICAgICAgICByZXR1cm4gcG9zDQogICAgICAgIH0sDQogICAgICAgIGxpc3RTZWxlY3Rpb25zOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuc2VsLnJhbmdlcyB9LA0KICAgICAgICBzb21ldGhpbmdTZWxlY3RlZDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCl9LA0KDQogICAgICAgIHNldEN1cnNvcjogZG9jTWV0aG9kT3AoZnVuY3Rpb24obGluZSwgY2gsIG9wdGlvbnMpIHsNCiAgICAgICAgICAgIHNldFNpbXBsZVNlbGVjdGlvbih0aGlzLCBjbGlwUG9zKHRoaXMsIHR5cGVvZiBsaW5lID09ICJudW1iZXIiID8gUG9zKGxpbmUsIGNoIHx8IDApIDogbGluZSksIG51bGwsIG9wdGlvbnMpDQogICAgICAgIH0pLA0KICAgICAgICBzZXRTZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGFuY2hvciwgaGVhZCwgb3B0aW9ucykgew0KICAgICAgICAgICAgc2V0U2ltcGxlU2VsZWN0aW9uKHRoaXMsIGNsaXBQb3ModGhpcywgYW5jaG9yKSwgY2xpcFBvcyh0aGlzLCBoZWFkIHx8IGFuY2hvciksIG9wdGlvbnMpDQogICAgICAgIH0pLA0KICAgICAgICBleHRlbmRTZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhlYWQsIG90aGVyLCBvcHRpb25zKSB7DQogICAgICAgICAgICBleHRlbmRTZWxlY3Rpb24odGhpcywgY2xpcFBvcyh0aGlzLCBoZWFkKSwgb3RoZXIgJiYgY2xpcFBvcyh0aGlzLCBvdGhlciksIG9wdGlvbnMpDQogICAgICAgIH0pLA0KICAgICAgICBleHRlbmRTZWxlY3Rpb25zOiBkb2NNZXRob2RPcChmdW5jdGlvbihoZWFkcywgb3B0aW9ucykgew0KICAgICAgICAgICAgZXh0ZW5kU2VsZWN0aW9ucyh0aGlzLCBjbGlwUG9zQXJyYXkodGhpcywgaGVhZHMpLCBvcHRpb25zKQ0KICAgICAgICB9KSwNCiAgICAgICAgZXh0ZW5kU2VsZWN0aW9uc0J5OiBkb2NNZXRob2RPcChmdW5jdGlvbihmLCBvcHRpb25zKSB7DQogICAgICAgICAgICB2YXIgaGVhZHMgPSBtYXAodGhpcy5zZWwucmFuZ2VzLCBmKQ0KICAgICAgICAgICAgZXh0ZW5kU2VsZWN0aW9ucyh0aGlzLCBjbGlwUG9zQXJyYXkodGhpcywgaGVhZHMpLCBvcHRpb25zKQ0KICAgICAgICB9KSwNCiAgICAgICAgc2V0U2VsZWN0aW9uczogZG9jTWV0aG9kT3AoZnVuY3Rpb24ocmFuZ2VzLCBwcmltYXJ5LCBvcHRpb25zKSB7DQogICAgICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICAgICAgaWYgKCFyYW5nZXMubGVuZ3RoKSB7IHJldHVybiB9DQogICAgICAgICAgICB2YXIgb3V0ID0gW10NCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKQ0KICAgICAgICAgICAgeyBvdXRbaV0gPSBuZXcgUmFuZ2UoY2xpcFBvcyh0aGlzJDEsIHJhbmdlc1tpXS5hbmNob3IpLA0KICAgICAgICAgICAgICAgIGNsaXBQb3ModGhpcyQxLCByYW5nZXNbaV0uaGVhZCkpIH0NCiAgICAgICAgICAgIGlmIChwcmltYXJ5ID09IG51bGwpIHsgcHJpbWFyeSA9IE1hdGgubWluKHJhbmdlcy5sZW5ndGggLSAxLCB0aGlzLnNlbC5wcmltSW5kZXgpIH0NCiAgICAgICAgICAgIHNldFNlbGVjdGlvbih0aGlzLCBub3JtYWxpemVTZWxlY3Rpb24ob3V0LCBwcmltYXJ5KSwgb3B0aW9ucykNCiAgICAgICAgfSksDQogICAgICAgIGFkZFNlbGVjdGlvbjogZG9jTWV0aG9kT3AoZnVuY3Rpb24oYW5jaG9yLCBoZWFkLCBvcHRpb25zKSB7DQogICAgICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5zZWwucmFuZ2VzLnNsaWNlKDApDQogICAgICAgICAgICByYW5nZXMucHVzaChuZXcgUmFuZ2UoY2xpcFBvcyh0aGlzLCBhbmNob3IpLCBjbGlwUG9zKHRoaXMsIGhlYWQgfHwgYW5jaG9yKSkpDQogICAgICAgICAgICBzZXRTZWxlY3Rpb24odGhpcywgbm9ybWFsaXplU2VsZWN0aW9uKHJhbmdlcywgcmFuZ2VzLmxlbmd0aCAtIDEpLCBvcHRpb25zKQ0KICAgICAgICB9KSwNCg0KICAgICAgICBnZXRTZWxlY3Rpb246IGZ1bmN0aW9uKGxpbmVTZXApIHsNCiAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5zZWwucmFuZ2VzLCBsaW5lcw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICB2YXIgc2VsID0gZ2V0QmV0d2Vlbih0aGlzJDEsIHJhbmdlc1tpXS5mcm9tKCksIHJhbmdlc1tpXS50bygpKQ0KICAgICAgICAgICAgICAgIGxpbmVzID0gbGluZXMgPyBsaW5lcy5jb25jYXQoc2VsKSA6IHNlbA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGxpbmVTZXAgPT09IGZhbHNlKSB7IHJldHVybiBsaW5lcyB9DQogICAgICAgICAgICBlbHNlIHsgcmV0dXJuIGxpbmVzLmpvaW4obGluZVNlcCB8fCB0aGlzLmxpbmVTZXBhcmF0b3IoKSkgfQ0KICAgICAgICB9LA0KICAgICAgICBnZXRTZWxlY3Rpb25zOiBmdW5jdGlvbihsaW5lU2VwKSB7DQogICAgICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICAgICAgdmFyIHBhcnRzID0gW10sIHJhbmdlcyA9IHRoaXMuc2VsLnJhbmdlcw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICB2YXIgc2VsID0gZ2V0QmV0d2Vlbih0aGlzJDEsIHJhbmdlc1tpXS5mcm9tKCksIHJhbmdlc1tpXS50bygpKQ0KICAgICAgICAgICAgICAgIGlmIChsaW5lU2VwICE9PSBmYWxzZSkgeyBzZWwgPSBzZWwuam9pbihsaW5lU2VwIHx8IHRoaXMkMS5saW5lU2VwYXJhdG9yKCkpIH0NCiAgICAgICAgICAgICAgICBwYXJ0c1tpXSA9IHNlbA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHBhcnRzDQogICAgICAgIH0sDQogICAgICAgIHJlcGxhY2VTZWxlY3Rpb246IGZ1bmN0aW9uKGNvZGUsIGNvbGxhcHNlLCBvcmlnaW4pIHsNCiAgICAgICAgICAgIHZhciBkdXAgPSBbXQ0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspDQogICAgICAgICAgICB7IGR1cFtpXSA9IGNvZGUgfQ0KICAgICAgICAgICAgdGhpcy5yZXBsYWNlU2VsZWN0aW9ucyhkdXAsIGNvbGxhcHNlLCBvcmlnaW4gfHwgIitpbnB1dCIpDQogICAgICAgIH0sDQogICAgICAgIHJlcGxhY2VTZWxlY3Rpb25zOiBkb2NNZXRob2RPcChmdW5jdGlvbihjb2RlLCBjb2xsYXBzZSwgb3JpZ2luKSB7DQogICAgICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICAgICAgdmFyIGNoYW5nZXMgPSBbXSwgc2VsID0gdGhpcy5zZWwNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciByYW5nZSQkMSA9IHNlbC5yYW5nZXNbaV0NCiAgICAgICAgICAgICAgICBjaGFuZ2VzW2ldID0ge2Zyb206IHJhbmdlJCQxLmZyb20oKSwgdG86IHJhbmdlJCQxLnRvKCksIHRleHQ6IHRoaXMkMS5zcGxpdExpbmVzKGNvZGVbaV0pLCBvcmlnaW46IG9yaWdpbn0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBuZXdTZWwgPSBjb2xsYXBzZSAmJiBjb2xsYXBzZSAhPSAiZW5kIiAmJiBjb21wdXRlUmVwbGFjZWRTZWwodGhpcywgY2hhbmdlcywgY29sbGFwc2UpDQogICAgICAgICAgICBmb3IgKHZhciBpJDEgPSBjaGFuZ2VzLmxlbmd0aCAtIDE7IGkkMSA+PSAwOyBpJDEtLSkNCiAgICAgICAgICAgIHsgbWFrZUNoYW5nZSh0aGlzJDEsIGNoYW5nZXNbaSQxXSkgfQ0KICAgICAgICAgICAgaWYgKG5ld1NlbCkgeyBzZXRTZWxlY3Rpb25SZXBsYWNlSGlzdG9yeSh0aGlzLCBuZXdTZWwpIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY20pIHsgZW5zdXJlQ3Vyc29yVmlzaWJsZSh0aGlzLmNtKSB9DQogICAgICAgIH0pLA0KICAgICAgICB1bmRvOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgInVuZG8iKX0pLA0KICAgICAgICByZWRvOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgInJlZG8iKX0pLA0KICAgICAgICB1bmRvU2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgInVuZG8iLCB0cnVlKX0pLA0KICAgICAgICByZWRvU2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgInJlZG8iLCB0cnVlKX0pLA0KDQogICAgICAgIHNldEV4dGVuZGluZzogZnVuY3Rpb24odmFsKSB7dGhpcy5leHRlbmQgPSB2YWx9LA0KICAgICAgICBnZXRFeHRlbmRpbmc6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmV4dGVuZH0sDQoNCiAgICAgICAgaGlzdG9yeVNpemU6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyIGhpc3QgPSB0aGlzLmhpc3RvcnksIGRvbmUgPSAwLCB1bmRvbmUgPSAwDQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhpc3QuZG9uZS5sZW5ndGg7IGkrKykgeyBpZiAoIWhpc3QuZG9uZVtpXS5yYW5nZXMpIHsgKytkb25lIH0gfQ0KICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgaGlzdC51bmRvbmUubGVuZ3RoOyBpJDErKykgeyBpZiAoIWhpc3QudW5kb25lW2kkMV0ucmFuZ2VzKSB7ICsrdW5kb25lIH0gfQ0KICAgICAgICAgICAgcmV0dXJuIHt1bmRvOiBkb25lLCByZWRvOiB1bmRvbmV9DQogICAgICAgIH0sDQogICAgICAgIGNsZWFySGlzdG9yeTogZnVuY3Rpb24oKSB7dGhpcy5oaXN0b3J5ID0gbmV3IEhpc3RvcnkodGhpcy5oaXN0b3J5Lm1heEdlbmVyYXRpb24pfSwNCg0KICAgICAgICBtYXJrQ2xlYW46IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdGhpcy5jbGVhbkdlbmVyYXRpb24gPSB0aGlzLmNoYW5nZUdlbmVyYXRpb24odHJ1ZSkNCiAgICAgICAgfSwNCiAgICAgICAgY2hhbmdlR2VuZXJhdGlvbjogZnVuY3Rpb24oZm9yY2VTcGxpdCkgew0KICAgICAgICAgICAgaWYgKGZvcmNlU3BsaXQpDQogICAgICAgICAgICB7IHRoaXMuaGlzdG9yeS5sYXN0T3AgPSB0aGlzLmhpc3RvcnkubGFzdFNlbE9wID0gdGhpcy5oaXN0b3J5Lmxhc3RPcmlnaW4gPSBudWxsIH0NCiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpc3RvcnkuZ2VuZXJhdGlvbg0KICAgICAgICB9LA0KICAgICAgICBpc0NsZWFuOiBmdW5jdGlvbiAoZ2VuKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5oaXN0b3J5LmdlbmVyYXRpb24gPT0gKGdlbiB8fCB0aGlzLmNsZWFuR2VuZXJhdGlvbikNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRIaXN0b3J5OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiB7ZG9uZTogY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkuZG9uZSksDQogICAgICAgICAgICAgICAgdW5kb25lOiBjb3B5SGlzdG9yeUFycmF5KHRoaXMuaGlzdG9yeS51bmRvbmUpfQ0KICAgICAgICB9LA0KICAgICAgICBzZXRIaXN0b3J5OiBmdW5jdGlvbihoaXN0RGF0YSkgew0KICAgICAgICAgICAgdmFyIGhpc3QgPSB0aGlzLmhpc3RvcnkgPSBuZXcgSGlzdG9yeSh0aGlzLmhpc3RvcnkubWF4R2VuZXJhdGlvbikNCiAgICAgICAgICAgIGhpc3QuZG9uZSA9IGNvcHlIaXN0b3J5QXJyYXkoaGlzdERhdGEuZG9uZS5zbGljZSgwKSwgbnVsbCwgdHJ1ZSkNCiAgICAgICAgICAgIGhpc3QudW5kb25lID0gY29weUhpc3RvcnlBcnJheShoaXN0RGF0YS51bmRvbmUuc2xpY2UoMCksIG51bGwsIHRydWUpDQogICAgICAgIH0sDQoNCiAgICAgICAgYWRkTGluZUNsYXNzOiBkb2NNZXRob2RPcChmdW5jdGlvbihoYW5kbGUsIHdoZXJlLCBjbHMpIHsNCiAgICAgICAgICAgIHJldHVybiBjaGFuZ2VMaW5lKHRoaXMsIGhhbmRsZSwgd2hlcmUgPT0gImd1dHRlciIgPyAiZ3V0dGVyIiA6ICJjbGFzcyIsIGZ1bmN0aW9uIChsaW5lKSB7DQogICAgICAgICAgICAgICAgdmFyIHByb3AgPSB3aGVyZSA9PSAidGV4dCIgPyAidGV4dENsYXNzIg0KICAgICAgICAgICAgICAgICAgICA6IHdoZXJlID09ICJiYWNrZ3JvdW5kIiA/ICJiZ0NsYXNzIg0KICAgICAgICAgICAgICAgICAgICA6IHdoZXJlID09ICJndXR0ZXIiID8gImd1dHRlckNsYXNzIiA6ICJ3cmFwQ2xhc3MiDQogICAgICAgICAgICAgICAgaWYgKCFsaW5lW3Byb3BdKSB7IGxpbmVbcHJvcF0gPSBjbHMgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNsYXNzVGVzdChjbHMpLnRlc3QobGluZVtwcm9wXSkpIHsgcmV0dXJuIGZhbHNlIH0NCiAgICAgICAgICAgICAgICBlbHNlIHsgbGluZVtwcm9wXSArPSAiICIgKyBjbHMgfQ0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICB9KQ0KICAgICAgICB9KSwNCiAgICAgICAgcmVtb3ZlTGluZUNsYXNzOiBkb2NNZXRob2RPcChmdW5jdGlvbihoYW5kbGUsIHdoZXJlLCBjbHMpIHsNCiAgICAgICAgICAgIHJldHVybiBjaGFuZ2VMaW5lKHRoaXMsIGhhbmRsZSwgd2hlcmUgPT0gImd1dHRlciIgPyAiZ3V0dGVyIiA6ICJjbGFzcyIsIGZ1bmN0aW9uIChsaW5lKSB7DQogICAgICAgICAgICAgICAgdmFyIHByb3AgPSB3aGVyZSA9PSAidGV4dCIgPyAidGV4dENsYXNzIg0KICAgICAgICAgICAgICAgICAgICA6IHdoZXJlID09ICJiYWNrZ3JvdW5kIiA/ICJiZ0NsYXNzIg0KICAgICAgICAgICAgICAgICAgICA6IHdoZXJlID09ICJndXR0ZXIiID8gImd1dHRlckNsYXNzIiA6ICJ3cmFwQ2xhc3MiDQogICAgICAgICAgICAgICAgdmFyIGN1ciA9IGxpbmVbcHJvcF0NCiAgICAgICAgICAgICAgICBpZiAoIWN1cikgeyByZXR1cm4gZmFsc2UgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNscyA9PSBudWxsKSB7IGxpbmVbcHJvcF0gPSBudWxsIH0NCiAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gY3VyLm1hdGNoKGNsYXNzVGVzdChjbHMpKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7IHJldHVybiBmYWxzZSB9DQogICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBmb3VuZC5pbmRleCArIGZvdW5kWzBdLmxlbmd0aA0KICAgICAgICAgICAgICAgICAgICBsaW5lW3Byb3BdID0gY3VyLnNsaWNlKDAsIGZvdW5kLmluZGV4KSArICghZm91bmQuaW5kZXggfHwgZW5kID09IGN1ci5sZW5ndGggPyAiIiA6ICIgIikgKyBjdXIuc2xpY2UoZW5kKSB8fCBudWxsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICB9KQ0KICAgICAgICB9KSwNCg0KICAgICAgICBhZGRMaW5lV2lkZ2V0OiBkb2NNZXRob2RPcChmdW5jdGlvbihoYW5kbGUsIG5vZGUsIG9wdGlvbnMpIHsNCiAgICAgICAgICAgIHJldHVybiBhZGRMaW5lV2lkZ2V0KHRoaXMsIGhhbmRsZSwgbm9kZSwgb3B0aW9ucykNCiAgICAgICAgfSksDQogICAgICAgIHJlbW92ZUxpbmVXaWRnZXQ6IGZ1bmN0aW9uKHdpZGdldCkgeyB3aWRnZXQuY2xlYXIoKSB9LA0KDQogICAgICAgIG1hcmtUZXh0OiBmdW5jdGlvbihmcm9tLCB0bywgb3B0aW9ucykgew0KICAgICAgICAgICAgcmV0dXJuIG1hcmtUZXh0KHRoaXMsIGNsaXBQb3ModGhpcywgZnJvbSksIGNsaXBQb3ModGhpcywgdG8pLCBvcHRpb25zLCBvcHRpb25zICYmIG9wdGlvbnMudHlwZSB8fCAicmFuZ2UiKQ0KICAgICAgICB9LA0KICAgICAgICBzZXRCb29rbWFyazogZnVuY3Rpb24ocG9zLCBvcHRpb25zKSB7DQogICAgICAgICAgICB2YXIgcmVhbE9wdHMgPSB7cmVwbGFjZWRXaXRoOiBvcHRpb25zICYmIChvcHRpb25zLm5vZGVUeXBlID09IG51bGwgPyBvcHRpb25zLndpZGdldCA6IG9wdGlvbnMpLA0KICAgICAgICAgICAgICAgIGluc2VydExlZnQ6IG9wdGlvbnMgJiYgb3B0aW9ucy5pbnNlcnRMZWZ0LA0KICAgICAgICAgICAgICAgIGNsZWFyV2hlbkVtcHR5OiBmYWxzZSwgc2hhcmVkOiBvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkLA0KICAgICAgICAgICAgICAgIGhhbmRsZU1vdXNlRXZlbnRzOiBvcHRpb25zICYmIG9wdGlvbnMuaGFuZGxlTW91c2VFdmVudHN9DQogICAgICAgICAgICBwb3MgPSBjbGlwUG9zKHRoaXMsIHBvcykNCiAgICAgICAgICAgIHJldHVybiBtYXJrVGV4dCh0aGlzLCBwb3MsIHBvcywgcmVhbE9wdHMsICJib29rbWFyayIpDQogICAgICAgIH0sDQogICAgICAgIGZpbmRNYXJrc0F0OiBmdW5jdGlvbihwb3MpIHsNCiAgICAgICAgICAgIHBvcyA9IGNsaXBQb3ModGhpcywgcG9zKQ0KICAgICAgICAgICAgdmFyIG1hcmtlcnMgPSBbXSwgc3BhbnMgPSBnZXRMaW5lKHRoaXMsIHBvcy5saW5lKS5tYXJrZWRTcGFucw0KICAgICAgICAgICAgaWYgKHNwYW5zKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IHNwYW5zW2ldDQogICAgICAgICAgICAgICAgaWYgKChzcGFuLmZyb20gPT0gbnVsbCB8fCBzcGFuLmZyb20gPD0gcG9zLmNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAoc3Bhbi50byA9PSBudWxsIHx8IHNwYW4udG8gPj0gcG9zLmNoKSkNCiAgICAgICAgICAgICAgICB7IG1hcmtlcnMucHVzaChzcGFuLm1hcmtlci5wYXJlbnQgfHwgc3Bhbi5tYXJrZXIpIH0NCiAgICAgICAgICAgIH0gfQ0KICAgICAgICAgICAgcmV0dXJuIG1hcmtlcnMNCiAgICAgICAgfSwNCiAgICAgICAgZmluZE1hcmtzOiBmdW5jdGlvbihmcm9tLCB0bywgZmlsdGVyKSB7DQogICAgICAgICAgICBmcm9tID0gY2xpcFBvcyh0aGlzLCBmcm9tKTsgdG8gPSBjbGlwUG9zKHRoaXMsIHRvKQ0KICAgICAgICAgICAgdmFyIGZvdW5kID0gW10sIGxpbmVObyQkMSA9IGZyb20ubGluZQ0KICAgICAgICAgICAgdGhpcy5pdGVyKGZyb20ubGluZSwgdG8ubGluZSArIDEsIGZ1bmN0aW9uIChsaW5lKSB7DQogICAgICAgICAgICAgICAgdmFyIHNwYW5zID0gbGluZS5tYXJrZWRTcGFucw0KICAgICAgICAgICAgICAgIGlmIChzcGFucykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBzcGFuID0gc3BhbnNbaV0NCiAgICAgICAgICAgICAgICAgICAgaWYgKCEoc3Bhbi50byAhPSBudWxsICYmIGxpbmVObyQkMSA9PSBmcm9tLmxpbmUgJiYgZnJvbS5jaCA+PSBzcGFuLnRvIHx8DQogICAgICAgICAgICAgICAgICAgICAgICBzcGFuLmZyb20gPT0gbnVsbCAmJiBsaW5lTm8kJDEgIT0gZnJvbS5saW5lIHx8DQogICAgICAgICAgICAgICAgICAgICAgICBzcGFuLmZyb20gIT0gbnVsbCAmJiBsaW5lTm8kJDEgPT0gdG8ubGluZSAmJiBzcGFuLmZyb20gPj0gdG8uY2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoIWZpbHRlciB8fCBmaWx0ZXIoc3Bhbi5tYXJrZXIpKSkNCiAgICAgICAgICAgICAgICAgICAgeyBmb3VuZC5wdXNoKHNwYW4ubWFya2VyLnBhcmVudCB8fCBzcGFuLm1hcmtlcikgfQ0KICAgICAgICAgICAgICAgIH0gfQ0KICAgICAgICAgICAgICAgICsrbGluZU5vJCQxDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgcmV0dXJuIGZvdW5kDQogICAgICAgIH0sDQogICAgICAgIGdldEFsbE1hcmtzOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBtYXJrZXJzID0gW10NCiAgICAgICAgICAgIHRoaXMuaXRlcihmdW5jdGlvbiAobGluZSkgew0KICAgICAgICAgICAgICAgIHZhciBzcHMgPSBsaW5lLm1hcmtlZFNwYW5zDQogICAgICAgICAgICAgICAgaWYgKHNwcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHNwcy5sZW5ndGg7ICsraSkNCiAgICAgICAgICAgICAgICB7IGlmIChzcHNbaV0uZnJvbSAhPSBudWxsKSB7IG1hcmtlcnMucHVzaChzcHNbaV0ubWFya2VyKSB9IH0gfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHJldHVybiBtYXJrZXJzDQogICAgICAgIH0sDQoNCiAgICAgICAgcG9zRnJvbUluZGV4OiBmdW5jdGlvbihvZmYpIHsNCiAgICAgICAgICAgIHZhciBjaCwgbGluZU5vJCQxID0gdGhpcy5maXJzdCwgc2VwU2l6ZSA9IHRoaXMubGluZVNlcGFyYXRvcigpLmxlbmd0aA0KICAgICAgICAgICAgdGhpcy5pdGVyKGZ1bmN0aW9uIChsaW5lKSB7DQogICAgICAgICAgICAgICAgdmFyIHN6ID0gbGluZS50ZXh0Lmxlbmd0aCArIHNlcFNpemUNCiAgICAgICAgICAgICAgICBpZiAoc3ogPiBvZmYpIHsgY2ggPSBvZmY7IHJldHVybiB0cnVlIH0NCiAgICAgICAgICAgICAgICBvZmYgLT0gc3oNCiAgICAgICAgICAgICAgICArK2xpbmVObyQkMQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHJldHVybiBjbGlwUG9zKHRoaXMsIFBvcyhsaW5lTm8kJDEsIGNoKSkNCiAgICAgICAgfSwNCiAgICAgICAgaW5kZXhGcm9tUG9zOiBmdW5jdGlvbiAoY29vcmRzKSB7DQogICAgICAgICAgICBjb29yZHMgPSBjbGlwUG9zKHRoaXMsIGNvb3JkcykNCiAgICAgICAgICAgIHZhciBpbmRleCA9IGNvb3Jkcy5jaA0KICAgICAgICAgICAgaWYgKGNvb3Jkcy5saW5lIDwgdGhpcy5maXJzdCB8fCBjb29yZHMuY2ggPCAwKSB7IHJldHVybiAwIH0NCiAgICAgICAgICAgIHZhciBzZXBTaXplID0gdGhpcy5saW5lU2VwYXJhdG9yKCkubGVuZ3RoDQogICAgICAgICAgICB0aGlzLml0ZXIodGhpcy5maXJzdCwgY29vcmRzLmxpbmUsIGZ1bmN0aW9uIChsaW5lKSB7IC8vIGl0ZXIgYWJvcnRzIHdoZW4gY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZQ0KICAgICAgICAgICAgICAgIGluZGV4ICs9IGxpbmUudGV4dC5sZW5ndGggKyBzZXBTaXplDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgcmV0dXJuIGluZGV4DQogICAgICAgIH0sDQoNCiAgICAgICAgY29weTogZnVuY3Rpb24oY29weUhpc3RvcnkpIHsNCiAgICAgICAgICAgIHZhciBkb2MgPSBuZXcgRG9jKGdldExpbmVzKHRoaXMsIHRoaXMuZmlyc3QsIHRoaXMuZmlyc3QgKyB0aGlzLnNpemUpLA0KICAgICAgICAgICAgICAgIHRoaXMubW9kZU9wdGlvbiwgdGhpcy5maXJzdCwgdGhpcy5saW5lU2VwKQ0KICAgICAgICAgICAgZG9jLnNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsVG9wOyBkb2Muc2Nyb2xsTGVmdCA9IHRoaXMuc2Nyb2xsTGVmdA0KICAgICAgICAgICAgZG9jLnNlbCA9IHRoaXMuc2VsDQogICAgICAgICAgICBkb2MuZXh0ZW5kID0gZmFsc2UNCiAgICAgICAgICAgIGlmIChjb3B5SGlzdG9yeSkgew0KICAgICAgICAgICAgICAgIGRvYy5oaXN0b3J5LnVuZG9EZXB0aCA9IHRoaXMuaGlzdG9yeS51bmRvRGVwdGgNCiAgICAgICAgICAgICAgICBkb2Muc2V0SGlzdG9yeSh0aGlzLmdldEhpc3RvcnkoKSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBkb2MNCiAgICAgICAgfSwNCg0KICAgICAgICBsaW5rZWREb2M6IGZ1bmN0aW9uKG9wdGlvbnMpIHsNCiAgICAgICAgICAgIGlmICghb3B0aW9ucykgeyBvcHRpb25zID0ge30gfQ0KICAgICAgICAgICAgdmFyIGZyb20gPSB0aGlzLmZpcnN0LCB0byA9IHRoaXMuZmlyc3QgKyB0aGlzLnNpemUNCiAgICAgICAgICAgIGlmIChvcHRpb25zLmZyb20gIT0gbnVsbCAmJiBvcHRpb25zLmZyb20gPiBmcm9tKSB7IGZyb20gPSBvcHRpb25zLmZyb20gfQ0KICAgICAgICAgICAgaWYgKG9wdGlvbnMudG8gIT0gbnVsbCAmJiBvcHRpb25zLnRvIDwgdG8pIHsgdG8gPSBvcHRpb25zLnRvIH0NCiAgICAgICAgICAgIHZhciBjb3B5ID0gbmV3IERvYyhnZXRMaW5lcyh0aGlzLCBmcm9tLCB0byksIG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGVPcHRpb24sIGZyb20sIHRoaXMubGluZVNlcCkNCiAgICAgICAgICAgIGlmIChvcHRpb25zLnNoYXJlZEhpc3QpIHsgY29weS5oaXN0b3J5ID0gdGhpcy5oaXN0b3J5DQogICAgICAgICAgICA7IH0odGhpcy5saW5rZWQgfHwgKHRoaXMubGlua2VkID0gW10pKS5wdXNoKHtkb2M6IGNvcHksIHNoYXJlZEhpc3Q6IG9wdGlvbnMuc2hhcmVkSGlzdH0pDQogICAgICAgICAgICBjb3B5LmxpbmtlZCA9IFt7ZG9jOiB0aGlzLCBpc1BhcmVudDogdHJ1ZSwgc2hhcmVkSGlzdDogb3B0aW9ucy5zaGFyZWRIaXN0fV0NCiAgICAgICAgICAgIGNvcHlTaGFyZWRNYXJrZXJzKGNvcHksIGZpbmRTaGFyZWRNYXJrZXJzKHRoaXMpKQ0KICAgICAgICAgICAgcmV0dXJuIGNvcHkNCiAgICAgICAgfSwNCiAgICAgICAgdW5saW5rRG9jOiBmdW5jdGlvbihvdGhlcikgew0KICAgICAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7DQoNCiAgICAgICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIENvZGVNaXJyb3IkMSkgeyBvdGhlciA9IG90aGVyLmRvYyB9DQogICAgICAgICAgICBpZiAodGhpcy5saW5rZWQpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmtlZC5sZW5ndGg7ICsraSkgew0KICAgICAgICAgICAgICAgIHZhciBsaW5rID0gdGhpcyQxLmxpbmtlZFtpXQ0KICAgICAgICAgICAgICAgIGlmIChsaW5rLmRvYyAhPSBvdGhlcikgeyBjb250aW51ZSB9DQogICAgICAgICAgICAgICAgdGhpcyQxLmxpbmtlZC5zcGxpY2UoaSwgMSkNCiAgICAgICAgICAgICAgICBvdGhlci51bmxpbmtEb2ModGhpcyQxKQ0KICAgICAgICAgICAgICAgIGRldGFjaFNoYXJlZE1hcmtlcnMoZmluZFNoYXJlZE1hcmtlcnModGhpcyQxKSkNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgfSB9DQogICAgICAgICAgICAvLyBJZiB0aGUgaGlzdG9yaWVzIHdlcmUgc2hhcmVkLCBzcGxpdCB0aGVtIGFnYWluDQogICAgICAgICAgICBpZiAob3RoZXIuaGlzdG9yeSA9PSB0aGlzLmhpc3RvcnkpIHsNCiAgICAgICAgICAgICAgICB2YXIgc3BsaXRJZHMgPSBbb3RoZXIuaWRdDQogICAgICAgICAgICAgICAgbGlua2VkRG9jcyhvdGhlciwgZnVuY3Rpb24gKGRvYykgeyByZXR1cm4gc3BsaXRJZHMucHVzaChkb2MuaWQpOyB9LCB0cnVlKQ0KICAgICAgICAgICAgICAgIG90aGVyLmhpc3RvcnkgPSBuZXcgSGlzdG9yeShudWxsKQ0KICAgICAgICAgICAgICAgIG90aGVyLmhpc3RvcnkuZG9uZSA9IGNvcHlIaXN0b3J5QXJyYXkodGhpcy5oaXN0b3J5LmRvbmUsIHNwbGl0SWRzKQ0KICAgICAgICAgICAgICAgIG90aGVyLmhpc3RvcnkudW5kb25lID0gY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkudW5kb25lLCBzcGxpdElkcykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgaXRlckxpbmtlZERvY3M6IGZ1bmN0aW9uKGYpIHtsaW5rZWREb2NzKHRoaXMsIGYpfSwNCg0KICAgICAgICBnZXRNb2RlOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5tb2RlfSwNCiAgICAgICAgZ2V0RWRpdG9yOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5jbX0sDQoNCiAgICAgICAgc3BsaXRMaW5lczogZnVuY3Rpb24oc3RyKSB7DQogICAgICAgICAgICBpZiAodGhpcy5saW5lU2VwKSB7IHJldHVybiBzdHIuc3BsaXQodGhpcy5saW5lU2VwKSB9DQogICAgICAgICAgICByZXR1cm4gc3BsaXRMaW5lc0F1dG8oc3RyKQ0KICAgICAgICB9LA0KICAgICAgICBsaW5lU2VwYXJhdG9yOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMubGluZVNlcCB8fCAiXG4iIH0NCiAgICB9KQ0KDQovLyBQdWJsaWMgYWxpYXMuDQogICAgRG9jLnByb3RvdHlwZS5lYWNoTGluZSA9IERvYy5wcm90b3R5cGUuaXRlcg0KDQovLyBLbHVkZ2UgdG8gd29yayBhcm91bmQgc3RyYW5nZSBJRSBiZWhhdmlvciB3aGVyZSBpdCdsbCBzb21ldGltZXMNCi8vIHJlLWZpcmUgYSBzZXJpZXMgb2YgZHJhZy1yZWxhdGVkIGV2ZW50cyByaWdodCBhZnRlciB0aGUgZHJvcCAoIzE1NTEpDQogICAgdmFyIGxhc3REcm9wID0gMA0KDQogICAgZnVuY3Rpb24gb25Ecm9wKGUpIHsNCiAgICAgICAgdmFyIGNtID0gdGhpcw0KICAgICAgICBjbGVhckRyYWdDdXJzb3IoY20pDQogICAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkgfHwgZXZlbnRJbldpZGdldChjbS5kaXNwbGF5LCBlKSkNCiAgICAgICAgeyByZXR1cm4gfQ0KICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUpDQogICAgICAgIGlmIChpZSkgeyBsYXN0RHJvcCA9ICtuZXcgRGF0ZSB9DQogICAgICAgIHZhciBwb3MgPSBwb3NGcm9tTW91c2UoY20sIGUsIHRydWUpLCBmaWxlcyA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzDQogICAgICAgIGlmICghcG9zIHx8IGNtLmlzUmVhZE9ubHkoKSkgeyByZXR1cm4gfQ0KICAgICAgICAvLyBNaWdodCBiZSBhIGZpbGUgZHJvcCwgaW4gd2hpY2ggY2FzZSB3ZSBzaW1wbHkgZXh0cmFjdCB0aGUgdGV4dA0KICAgICAgICAvLyBhbmQgaW5zZXJ0IGl0Lg0KICAgICAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlKSB7DQogICAgICAgICAgICB2YXIgbiA9IGZpbGVzLmxlbmd0aCwgdGV4dCA9IEFycmF5KG4pLCByZWFkID0gMA0KICAgICAgICAgICAgdmFyIGxvYWRGaWxlID0gZnVuY3Rpb24gKGZpbGUsIGkpIHsNCiAgICAgICAgICAgICAgICBpZiAoY20ub3B0aW9ucy5hbGxvd0Ryb3BGaWxlVHlwZXMgJiYNCiAgICAgICAgICAgICAgICAgICAgaW5kZXhPZihjbS5vcHRpb25zLmFsbG93RHJvcEZpbGVUeXBlcywgZmlsZS50eXBlKSA9PSAtMSkNCiAgICAgICAgICAgICAgICB7IHJldHVybiB9DQoNCiAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXINCiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gb3BlcmF0aW9uKGNtLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVhZGVyLnJlc3VsdA0KICAgICAgICAgICAgICAgICAgICBpZiAoL1tceDAwLVx4MDhceDBlLVx4MWZdezJ9Ly50ZXN0KGNvbnRlbnQpKSB7IGNvbnRlbnQgPSAiIiB9DQogICAgICAgICAgICAgICAgICAgIHRleHRbaV0gPSBjb250ZW50DQogICAgICAgICAgICAgICAgICAgIGlmICgrK3JlYWQgPT0gbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gY2xpcFBvcyhjbS5kb2MsIHBvcykNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFuZ2UgPSB7ZnJvbTogcG9zLCB0bzogcG9zLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNtLmRvYy5zcGxpdExpbmVzKHRleHQuam9pbihjbS5kb2MubGluZVNlcGFyYXRvcigpKSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiAicGFzdGUifQ0KICAgICAgICAgICAgICAgICAgICAgICAgbWFrZUNoYW5nZShjbS5kb2MsIGNoYW5nZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGlvblJlcGxhY2VIaXN0b3J5KGNtLmRvYywgc2ltcGxlU2VsZWN0aW9uKHBvcywgY2hhbmdlRW5kKGNoYW5nZSkpKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpIHsgbG9hZEZpbGUoZmlsZXNbaV0sIGkpIH0NCiAgICAgICAgfSBlbHNlIHsgLy8gTm9ybWFsIGRyb3ANCiAgICAgICAgICAgIC8vIERvbid0IGRvIGEgcmVwbGFjZSBpZiB0aGUgZHJvcCBoYXBwZW5lZCBpbnNpZGUgb2YgdGhlIHNlbGVjdGVkIHRleHQuDQogICAgICAgICAgICBpZiAoY20uc3RhdGUuZHJhZ2dpbmdUZXh0ICYmIGNtLmRvYy5zZWwuY29udGFpbnMocG9zKSA+IC0xKSB7DQogICAgICAgICAgICAgICAgY20uc3RhdGUuZHJhZ2dpbmdUZXh0KGUpDQogICAgICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBlZGl0b3IgaXMgcmUtZm9jdXNlZA0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY20uZGlzcGxheS5pbnB1dC5mb2N1cygpOyB9LCAyMCkNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdmFyIHRleHQkMSA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoIlRleHQiKQ0KICAgICAgICAgICAgICAgIGlmICh0ZXh0JDEpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkDQogICAgICAgICAgICAgICAgICAgIGlmIChjbS5zdGF0ZS5kcmFnZ2luZ1RleHQgJiYgIWNtLnN0YXRlLmRyYWdnaW5nVGV4dC5jb3B5KQ0KICAgICAgICAgICAgICAgICAgICB7IHNlbGVjdGVkID0gY20ubGlzdFNlbGVjdGlvbnMoKSB9DQogICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGlvbk5vVW5kbyhjbS5kb2MsIHNpbXBsZVNlbGVjdGlvbihwb3MsIHBvcykpDQogICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZCkgeyBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBzZWxlY3RlZC5sZW5ndGg7ICsraSQxKQ0KICAgICAgICAgICAgICAgICAgICB7IHJlcGxhY2VSYW5nZShjbS5kb2MsICIiLCBzZWxlY3RlZFtpJDFdLmFuY2hvciwgc2VsZWN0ZWRbaSQxXS5oZWFkLCAiZHJhZyIpIH0gfQ0KICAgICAgICAgICAgICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKHRleHQkMSwgImFyb3VuZCIsICJwYXN0ZSIpDQogICAgICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQuZm9jdXMoKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoKGUpe30NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGNtLCBlKSB7DQogICAgICAgIGlmIChpZSAmJiAoIWNtLnN0YXRlLmRyYWdnaW5nVGV4dCB8fCArbmV3IERhdGUgLSBsYXN0RHJvcCA8IDEwMCkpIHsgZV9zdG9wKGUpOyByZXR1cm4gfQ0KICAgICAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGV2ZW50SW5XaWRnZXQoY20uZGlzcGxheSwgZSkpIHsgcmV0dXJuIH0NCg0KICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCJUZXh0IiwgY20uZ2V0U2VsZWN0aW9uKCkpDQogICAgICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAiY29weU1vdmUiDQoNCiAgICAgICAgLy8gVXNlIGR1bW15IGltYWdlIGluc3RlYWQgb2YgZGVmYXVsdCBicm93c2VycyBpbWFnZS4NCiAgICAgICAgLy8gUmVjZW50IFNhZmFyaSAofjYuMC4yKSBoYXZlIGEgdGVuZGVuY3kgdG8gc2VnZmF1bHQgd2hlbiB0aGlzIGhhcHBlbnMsIHNvIHdlIGRvbid0IGRvIGl0IHRoZXJlLg0KICAgICAgICBpZiAoZS5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlICYmICFzYWZhcmkpIHsNCiAgICAgICAgICAgIHZhciBpbWcgPSBlbHQoImltZyIsIG51bGwsIG51bGwsICJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IDA7IHRvcDogMDsiKQ0KICAgICAgICAgICAgaW1nLnNyYyA9ICJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PSINCiAgICAgICAgICAgIGlmIChwcmVzdG8pIHsNCiAgICAgICAgICAgICAgICBpbWcud2lkdGggPSBpbWcuaGVpZ2h0ID0gMQ0KICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkud3JhcHBlci5hcHBlbmRDaGlsZChpbWcpDQogICAgICAgICAgICAgICAgLy8gRm9yY2UgYSByZWxheW91dCwgb3IgT3BlcmEgd29uJ3QgdXNlIG91ciBpbWFnZSBmb3Igc29tZSBvYnNjdXJlIHJlYXNvbg0KICAgICAgICAgICAgICAgIGltZy5fdG9wID0gaW1nLm9mZnNldFRvcA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKGltZywgMCwgMCkNCiAgICAgICAgICAgIGlmIChwcmVzdG8pIHsgaW1nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaW1nKSB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBvbkRyYWdPdmVyKGNtLCBlKSB7DQogICAgICAgIHZhciBwb3MgPSBwb3NGcm9tTW91c2UoY20sIGUpDQogICAgICAgIGlmICghcG9zKSB7IHJldHVybiB9DQogICAgICAgIHZhciBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpDQogICAgICAgIGRyYXdTZWxlY3Rpb25DdXJzb3IoY20sIHBvcywgZnJhZykNCiAgICAgICAgaWYgKCFjbS5kaXNwbGF5LmRyYWdDdXJzb3IpIHsNCiAgICAgICAgICAgIGNtLmRpc3BsYXkuZHJhZ0N1cnNvciA9IGVsdCgiZGl2IiwgbnVsbCwgIkNvZGVNaXJyb3ItY3Vyc29ycyBDb2RlTWlycm9yLWRyYWdjdXJzb3JzIikNCiAgICAgICAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLmluc2VydEJlZm9yZShjbS5kaXNwbGF5LmRyYWdDdXJzb3IsIGNtLmRpc3BsYXkuY3Vyc29yRGl2KQ0KICAgICAgICB9DQogICAgICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGNtLmRpc3BsYXkuZHJhZ0N1cnNvciwgZnJhZykNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjbGVhckRyYWdDdXJzb3IoY20pIHsNCiAgICAgICAgaWYgKGNtLmRpc3BsYXkuZHJhZ0N1cnNvcikgew0KICAgICAgICAgICAgY20uZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoY20uZGlzcGxheS5kcmFnQ3Vyc29yKQ0KICAgICAgICAgICAgY20uZGlzcGxheS5kcmFnQ3Vyc29yID0gbnVsbA0KICAgICAgICB9DQogICAgfQ0KDQovLyBUaGVzZSBtdXN0IGJlIGhhbmRsZWQgY2FyZWZ1bGx5LCBiZWNhdXNlIG5haXZlbHkgcmVnaXN0ZXJpbmcgYQ0KLy8gaGFuZGxlciBmb3IgZWFjaCBlZGl0b3Igd2lsbCBjYXVzZSB0aGUgZWRpdG9ycyB0byBuZXZlciBiZQ0KLy8gZ2FyYmFnZSBjb2xsZWN0ZWQuDQoNCiAgICBmdW5jdGlvbiBmb3JFYWNoQ29kZU1pcnJvcihmKSB7DQogICAgICAgIGlmICghZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSB7IHJldHVybiB9DQogICAgICAgIHZhciBieUNsYXNzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJDb2RlTWlycm9yIikNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBieUNsYXNzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgY20gPSBieUNsYXNzW2ldLkNvZGVNaXJyb3INCiAgICAgICAgICAgIGlmIChjbSkgeyBmKGNtKSB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICB2YXIgZ2xvYmFsc1JlZ2lzdGVyZWQgPSBmYWxzZQ0KICAgIGZ1bmN0aW9uIGVuc3VyZUdsb2JhbEhhbmRsZXJzKCkgew0KICAgICAgICBpZiAoZ2xvYmFsc1JlZ2lzdGVyZWQpIHsgcmV0dXJuIH0NCiAgICAgICAgcmVnaXN0ZXJHbG9iYWxIYW5kbGVycygpDQogICAgICAgIGdsb2JhbHNSZWdpc3RlcmVkID0gdHJ1ZQ0KICAgIH0NCiAgICBmdW5jdGlvbiByZWdpc3Rlckdsb2JhbEhhbmRsZXJzKCkgew0KICAgICAgICAvLyBXaGVuIHRoZSB3aW5kb3cgcmVzaXplcywgd2UgbmVlZCB0byByZWZyZXNoIGFjdGl2ZSBlZGl0b3JzLg0KICAgICAgICB2YXIgcmVzaXplVGltZXINCiAgICAgICAgb24od2luZG93LCAicmVzaXplIiwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKHJlc2l6ZVRpbWVyID09IG51bGwpIHsgcmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICByZXNpemVUaW1lciA9IG51bGwNCiAgICAgICAgICAgICAgICBmb3JFYWNoQ29kZU1pcnJvcihvblJlc2l6ZSkNCiAgICAgICAgICAgIH0sIDEwMCkgfQ0KICAgICAgICB9KQ0KICAgICAgICAvLyBXaGVuIHRoZSB3aW5kb3cgbG9zZXMgZm9jdXMsIHdlIHdhbnQgdG8gc2hvdyB0aGUgZWRpdG9yIGFzIGJsdXJyZWQNCiAgICAgICAgb24od2luZG93LCAiYmx1ciIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZvckVhY2hDb2RlTWlycm9yKG9uQmx1cik7IH0pDQogICAgfQ0KLy8gQ2FsbGVkIHdoZW4gdGhlIHdpbmRvdyByZXNpemVzDQogICAgZnVuY3Rpb24gb25SZXNpemUoY20pIHsNCiAgICAgICAgdmFyIGQgPSBjbS5kaXNwbGF5DQogICAgICAgIGlmIChkLmxhc3RXcmFwSGVpZ2h0ID09IGQud3JhcHBlci5jbGllbnRIZWlnaHQgJiYgZC5sYXN0V3JhcFdpZHRoID09IGQud3JhcHBlci5jbGllbnRXaWR0aCkNCiAgICAgICAgeyByZXR1cm4gfQ0KICAgICAgICAvLyBNaWdodCBiZSBhIHRleHQgc2NhbGluZyBvcGVyYXRpb24sIGNsZWFyIHNpemUgY2FjaGVzLg0KICAgICAgICBkLmNhY2hlZENoYXJXaWR0aCA9IGQuY2FjaGVkVGV4dEhlaWdodCA9IGQuY2FjaGVkUGFkZGluZ0ggPSBudWxsDQogICAgICAgIGQuc2Nyb2xsYmFyc0NsaXBwZWQgPSBmYWxzZQ0KICAgICAgICBjbS5zZXRTaXplKCkNCiAgICB9DQoNCiAgICB2YXIga2V5TmFtZXMgPSB7DQogICAgICAgIDM6ICJFbnRlciIsIDg6ICJCYWNrc3BhY2UiLCA5OiAiVGFiIiwgMTM6ICJFbnRlciIsIDE2OiAiU2hpZnQiLCAxNzogIkN0cmwiLCAxODogIkFsdCIsDQogICAgICAgIDE5OiAiUGF1c2UiLCAyMDogIkNhcHNMb2NrIiwgMjc6ICJFc2MiLCAzMjogIlNwYWNlIiwgMzM6ICJQYWdlVXAiLCAzNDogIlBhZ2VEb3duIiwgMzU6ICJFbmQiLA0KICAgICAgICAzNjogIkhvbWUiLCAzNzogIkxlZnQiLCAzODogIlVwIiwgMzk6ICJSaWdodCIsIDQwOiAiRG93biIsIDQ0OiAiUHJpbnRTY3JuIiwgNDU6ICJJbnNlcnQiLA0KICAgICAgICA0NjogIkRlbGV0ZSIsIDU5OiAiOyIsIDYxOiAiPSIsIDkxOiAiTW9kIiwgOTI6ICJNb2QiLCA5MzogIk1vZCIsDQogICAgICAgIDEwNjogIioiLCAxMDc6ICI9IiwgMTA5OiAiLSIsIDExMDogIi4iLCAxMTE6ICIvIiwgMTI3OiAiRGVsZXRlIiwNCiAgICAgICAgMTczOiAiLSIsIDE4NjogIjsiLCAxODc6ICI9IiwgMTg4OiAiLCIsIDE4OTogIi0iLCAxOTA6ICIuIiwgMTkxOiAiLyIsIDE5MjogImAiLCAyMTk6ICJbIiwgMjIwOiAiXFwiLA0KICAgICAgICAyMjE6ICJdIiwgMjIyOiAiJyIsIDYzMjMyOiAiVXAiLCA2MzIzMzogIkRvd24iLCA2MzIzNDogIkxlZnQiLCA2MzIzNTogIlJpZ2h0IiwgNjMyNzI6ICJEZWxldGUiLA0KICAgICAgICA2MzI3MzogIkhvbWUiLCA2MzI3NTogIkVuZCIsIDYzMjc2OiAiUGFnZVVwIiwgNjMyNzc6ICJQYWdlRG93biIsIDYzMzAyOiAiSW5zZXJ0Ig0KICAgIH0NCg0KLy8gTnVtYmVyIGtleXMNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHsga2V5TmFtZXNbaSArIDQ4XSA9IGtleU5hbWVzW2kgKyA5Nl0gPSBTdHJpbmcoaSkgfQ0KLy8gQWxwaGFiZXRpYyBrZXlzDQogICAgZm9yICh2YXIgaSQxID0gNjU7IGkkMSA8PSA5MDsgaSQxKyspIHsga2V5TmFtZXNbaSQxXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSQxKSB9DQovLyBGdW5jdGlvbiBrZXlzDQogICAgZm9yICh2YXIgaSQyID0gMTsgaSQyIDw9IDEyOyBpJDIrKykgeyBrZXlOYW1lc1tpJDIgKyAxMTFdID0ga2V5TmFtZXNbaSQyICsgNjMyMzVdID0gIkYiICsgaSQyIH0NCg0KICAgIHZhciBrZXlNYXAgPSB7fQ0KDQogICAga2V5TWFwLmJhc2ljID0gew0KICAgICAgICAiTGVmdCI6ICJnb0NoYXJMZWZ0IiwgIlJpZ2h0IjogImdvQ2hhclJpZ2h0IiwgIlVwIjogImdvTGluZVVwIiwgIkRvd24iOiAiZ29MaW5lRG93biIsDQogICAgICAgICJFbmQiOiAiZ29MaW5lRW5kIiwgIkhvbWUiOiAiZ29MaW5lU3RhcnRTbWFydCIsICJQYWdlVXAiOiAiZ29QYWdlVXAiLCAiUGFnZURvd24iOiAiZ29QYWdlRG93biIsDQogICAgICAgICJEZWxldGUiOiAiZGVsQ2hhckFmdGVyIiwgIkJhY2tzcGFjZSI6ICJkZWxDaGFyQmVmb3JlIiwgIlNoaWZ0LUJhY2tzcGFjZSI6ICJkZWxDaGFyQmVmb3JlIiwNCiAgICAgICAgIlRhYiI6ICJkZWZhdWx0VGFiIiwgIlNoaWZ0LVRhYiI6ICJpbmRlbnRBdXRvIiwNCiAgICAgICAgIkVudGVyIjogIm5ld2xpbmVBbmRJbmRlbnQiLCAiSW5zZXJ0IjogInRvZ2dsZU92ZXJ3cml0ZSIsDQogICAgICAgICJFc2MiOiAic2luZ2xlU2VsZWN0aW9uIg0KICAgIH0NCi8vIE5vdGUgdGhhdCB0aGUgc2F2ZSBhbmQgZmluZC1yZWxhdGVkIGNvbW1hbmRzIGFyZW4ndCBkZWZpbmVkIGJ5DQovLyBkZWZhdWx0LiBVc2VyIGNvZGUgb3IgYWRkb25zIGNhbiBkZWZpbmUgdGhlbS4gVW5rbm93biBjb21tYW5kcw0KLy8gYXJlIHNpbXBseSBpZ25vcmVkLg0KICAgIGtleU1hcC5wY0RlZmF1bHQgPSB7DQogICAgICAgICJDdHJsLUEiOiAic2VsZWN0QWxsIiwgIkN0cmwtRCI6ICJkZWxldGVMaW5lIiwgIkN0cmwtWiI6ICJ1bmRvIiwgIlNoaWZ0LUN0cmwtWiI6ICJyZWRvIiwgIkN0cmwtWSI6ICJyZWRvIiwNCiAgICAgICAgIkN0cmwtSG9tZSI6ICJnb0RvY1N0YXJ0IiwgIkN0cmwtRW5kIjogImdvRG9jRW5kIiwgIkN0cmwtVXAiOiAiZ29MaW5lVXAiLCAiQ3RybC1Eb3duIjogImdvTGluZURvd24iLA0KICAgICAgICAiQ3RybC1MZWZ0IjogImdvR3JvdXBMZWZ0IiwgIkN0cmwtUmlnaHQiOiAiZ29Hcm91cFJpZ2h0IiwgIkFsdC1MZWZ0IjogImdvTGluZVN0YXJ0IiwgIkFsdC1SaWdodCI6ICJnb0xpbmVFbmQiLA0KICAgICAgICAiQ3RybC1CYWNrc3BhY2UiOiAiZGVsR3JvdXBCZWZvcmUiLCAiQ3RybC1EZWxldGUiOiAiZGVsR3JvdXBBZnRlciIsICJDdHJsLVMiOiAic2F2ZSIsICJDdHJsLUYiOiAiZmluZCIsDQogICAgICAgICJDdHJsLUciOiAiZmluZE5leHQiLCAiU2hpZnQtQ3RybC1HIjogImZpbmRQcmV2IiwgIlNoaWZ0LUN0cmwtRiI6ICJyZXBsYWNlIiwgIlNoaWZ0LUN0cmwtUiI6ICJyZXBsYWNlQWxsIiwNCiAgICAgICAgIkN0cmwtWyI6ICJpbmRlbnRMZXNzIiwgIkN0cmwtXSI6ICJpbmRlbnRNb3JlIiwNCiAgICAgICAgIkN0cmwtVSI6ICJ1bmRvU2VsZWN0aW9uIiwgIlNoaWZ0LUN0cmwtVSI6ICJyZWRvU2VsZWN0aW9uIiwgIkFsdC1VIjogInJlZG9TZWxlY3Rpb24iLA0KICAgICAgICBmYWxsdGhyb3VnaDogImJhc2ljIg0KICAgIH0NCi8vIFZlcnkgYmFzaWMgcmVhZGxpbmUvZW1hY3Mtc3R5bGUgYmluZGluZ3MsIHdoaWNoIGFyZSBzdGFuZGFyZCBvbiBNYWMuDQogICAga2V5TWFwLmVtYWNzeSA9IHsNCiAgICAgICAgIkN0cmwtRiI6ICJnb0NoYXJSaWdodCIsICJDdHJsLUIiOiAiZ29DaGFyTGVmdCIsICJDdHJsLVAiOiAiZ29MaW5lVXAiLCAiQ3RybC1OIjogImdvTGluZURvd24iLA0KICAgICAgICAiQWx0LUYiOiAiZ29Xb3JkUmlnaHQiLCAiQWx0LUIiOiAiZ29Xb3JkTGVmdCIsICJDdHJsLUEiOiAiZ29MaW5lU3RhcnQiLCAiQ3RybC1FIjogImdvTGluZUVuZCIsDQogICAgICAgICJDdHJsLVYiOiAiZ29QYWdlRG93biIsICJTaGlmdC1DdHJsLVYiOiAiZ29QYWdlVXAiLCAiQ3RybC1EIjogImRlbENoYXJBZnRlciIsICJDdHJsLUgiOiAiZGVsQ2hhckJlZm9yZSIsDQogICAgICAgICJBbHQtRCI6ICJkZWxXb3JkQWZ0ZXIiLCAiQWx0LUJhY2tzcGFjZSI6ICJkZWxXb3JkQmVmb3JlIiwgIkN0cmwtSyI6ICJraWxsTGluZSIsICJDdHJsLVQiOiAidHJhbnNwb3NlQ2hhcnMiLA0KICAgICAgICAiQ3RybC1PIjogIm9wZW5MaW5lIg0KICAgIH0NCiAgICBrZXlNYXAubWFjRGVmYXVsdCA9IHsNCiAgICAgICAgIkNtZC1BIjogInNlbGVjdEFsbCIsICJDbWQtRCI6ICJkZWxldGVMaW5lIiwgIkNtZC1aIjogInVuZG8iLCAiU2hpZnQtQ21kLVoiOiAicmVkbyIsICJDbWQtWSI6ICJyZWRvIiwNCiAgICAgICAgIkNtZC1Ib21lIjogImdvRG9jU3RhcnQiLCAiQ21kLVVwIjogImdvRG9jU3RhcnQiLCAiQ21kLUVuZCI6ICJnb0RvY0VuZCIsICJDbWQtRG93biI6ICJnb0RvY0VuZCIsICJBbHQtTGVmdCI6ICJnb0dyb3VwTGVmdCIsDQogICAgICAgICJBbHQtUmlnaHQiOiAiZ29Hcm91cFJpZ2h0IiwgIkNtZC1MZWZ0IjogImdvTGluZUxlZnQiLCAiQ21kLVJpZ2h0IjogImdvTGluZVJpZ2h0IiwgIkFsdC1CYWNrc3BhY2UiOiAiZGVsR3JvdXBCZWZvcmUiLA0KICAgICAgICAiQ3RybC1BbHQtQmFja3NwYWNlIjogImRlbEdyb3VwQWZ0ZXIiLCAiQWx0LURlbGV0ZSI6ICJkZWxHcm91cEFmdGVyIiwgIkNtZC1TIjogInNhdmUiLCAiQ21kLUYiOiAiZmluZCIsDQogICAgICAgICJDbWQtRyI6ICJmaW5kTmV4dCIsICJTaGlmdC1DbWQtRyI6ICJmaW5kUHJldiIsICJDbWQtQWx0LUYiOiAicmVwbGFjZSIsICJTaGlmdC1DbWQtQWx0LUYiOiAicmVwbGFjZUFsbCIsDQogICAgICAgICJDbWQtWyI6ICJpbmRlbnRMZXNzIiwgIkNtZC1dIjogImluZGVudE1vcmUiLCAiQ21kLUJhY2tzcGFjZSI6ICJkZWxXcmFwcGVkTGluZUxlZnQiLCAiQ21kLURlbGV0ZSI6ICJkZWxXcmFwcGVkTGluZVJpZ2h0IiwNCiAgICAgICAgIkNtZC1VIjogInVuZG9TZWxlY3Rpb24iLCAiU2hpZnQtQ21kLVUiOiAicmVkb1NlbGVjdGlvbiIsICJDdHJsLVVwIjogImdvRG9jU3RhcnQiLCAiQ3RybC1Eb3duIjogImdvRG9jRW5kIiwNCiAgICAgICAgZmFsbHRocm91Z2g6IFsiYmFzaWMiLCAiZW1hY3N5Il0NCiAgICB9DQogICAga2V5TWFwWyJkZWZhdWx0Il0gPSBtYWMgPyBrZXlNYXAubWFjRGVmYXVsdCA6IGtleU1hcC5wY0RlZmF1bHQNCg0KLy8gS0VZTUFQIERJU1BBVENIDQoNCiAgICBmdW5jdGlvbiBub3JtYWxpemVLZXlOYW1lKG5hbWUpIHsNCiAgICAgICAgdmFyIHBhcnRzID0gbmFtZS5zcGxpdCgvLSg/ISQpLykNCiAgICAgICAgbmFtZSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdDQogICAgICAgIHZhciBhbHQsIGN0cmwsIHNoaWZ0LCBjbWQNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHsNCiAgICAgICAgICAgIHZhciBtb2QgPSBwYXJ0c1tpXQ0KICAgICAgICAgICAgaWYgKC9eKGNtZHxtZXRhfG0pJC9pLnRlc3QobW9kKSkgeyBjbWQgPSB0cnVlIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKC9eYShsdCk/JC9pLnRlc3QobW9kKSkgeyBhbHQgPSB0cnVlIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKC9eKGN8Y3RybHxjb250cm9sKSQvaS50ZXN0KG1vZCkpIHsgY3RybCA9IHRydWUgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoL15zKGhpZnQpPyQvaS50ZXN0KG1vZCkpIHsgc2hpZnQgPSB0cnVlIH0NCiAgICAgICAgICAgIGVsc2UgeyB0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiAiICsgbW9kKSB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKGFsdCkgeyBuYW1lID0gIkFsdC0iICsgbmFtZSB9DQogICAgICAgIGlmIChjdHJsKSB7IG5hbWUgPSAiQ3RybC0iICsgbmFtZSB9DQogICAgICAgIGlmIChjbWQpIHsgbmFtZSA9ICJDbWQtIiArIG5hbWUgfQ0KICAgICAgICBpZiAoc2hpZnQpIHsgbmFtZSA9ICJTaGlmdC0iICsgbmFtZSB9DQogICAgICAgIHJldHVybiBuYW1lDQogICAgfQ0KDQovLyBUaGlzIGlzIGEga2x1ZGdlIHRvIGtlZXAga2V5bWFwcyBtb3N0bHkgd29ya2luZyBhcyByYXcgb2JqZWN0cw0KLy8gKGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KSB3aGlsZSBhdCB0aGUgc2FtZSB0aW1lIHN1cHBvcnQgZmVhdHVyZXMNCi8vIGxpa2Ugbm9ybWFsaXphdGlvbiBhbmQgbXVsdGktc3Ryb2tlIGtleSBiaW5kaW5ncy4gSXQgY29tcGlsZXMgYQ0KLy8gbmV3IG5vcm1hbGl6ZWQga2V5bWFwLCBhbmQgdGhlbiB1cGRhdGVzIHRoZSBvbGQgb2JqZWN0IHRvIHJlZmxlY3QNCi8vIHRoaXMuDQogICAgZnVuY3Rpb24gbm9ybWFsaXplS2V5TWFwKGtleW1hcCkgew0KICAgICAgICB2YXIgY29weSA9IHt9DQogICAgICAgIGZvciAodmFyIGtleW5hbWUgaW4ga2V5bWFwKSB7IGlmIChrZXltYXAuaGFzT3duUHJvcGVydHkoa2V5bmFtZSkpIHsNCiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGtleW1hcFtrZXluYW1lXQ0KICAgICAgICAgICAgaWYgKC9eKG5hbWV8ZmFsbHRocm91Z2h8KGRlfGF0KXRhY2gpJC8udGVzdChrZXluYW1lKSkgeyBjb250aW51ZSB9DQogICAgICAgICAgICBpZiAodmFsdWUgPT0gIi4uLiIpIHsgZGVsZXRlIGtleW1hcFtrZXluYW1lXTsgY29udGludWUgfQ0KDQogICAgICAgICAgICB2YXIga2V5cyA9IG1hcChrZXluYW1lLnNwbGl0KCIgIiksIG5vcm1hbGl6ZUtleU5hbWUpDQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdm9pZCAwLCBuYW1lID0gdm9pZCAwDQogICAgICAgICAgICAgICAgaWYgKGkgPT0ga2V5cy5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgICAgIG5hbWUgPSBrZXlzLmpvaW4oIiAiKQ0KICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWx1ZQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIG5hbWUgPSBrZXlzLnNsaWNlKDAsIGkgKyAxKS5qb2luKCIgIikNCiAgICAgICAgICAgICAgICAgICAgdmFsID0gIi4uLiINCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIHByZXYgPSBjb3B5W25hbWVdDQogICAgICAgICAgICAgICAgaWYgKCFwcmV2KSB7IGNvcHlbbmFtZV0gPSB2YWwgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByZXYgIT0gdmFsKSB7IHRocm93IG5ldyBFcnJvcigiSW5jb25zaXN0ZW50IGJpbmRpbmdzIGZvciAiICsgbmFtZSkgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZGVsZXRlIGtleW1hcFtrZXluYW1lXQ0KICAgICAgICB9IH0NCiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBjb3B5KSB7IGtleW1hcFtwcm9wXSA9IGNvcHlbcHJvcF0gfQ0KICAgICAgICByZXR1cm4ga2V5bWFwDQogICAgfQ0KDQogICAgZnVuY3Rpb24gbG9va3VwS2V5KGtleSwgbWFwJCQxLCBoYW5kbGUsIGNvbnRleHQpIHsNCiAgICAgICAgbWFwJCQxID0gZ2V0S2V5TWFwKG1hcCQkMSkNCiAgICAgICAgdmFyIGZvdW5kID0gbWFwJCQxLmNhbGwgPyBtYXAkJDEuY2FsbChrZXksIGNvbnRleHQpIDogbWFwJCQxW2tleV0NCiAgICAgICAgaWYgKGZvdW5kID09PSBmYWxzZSkgeyByZXR1cm4gIm5vdGhpbmciIH0NCiAgICAgICAgaWYgKGZvdW5kID09PSAiLi4uIikgeyByZXR1cm4gIm11bHRpIiB9DQogICAgICAgIGlmIChmb3VuZCAhPSBudWxsICYmIGhhbmRsZShmb3VuZCkpIHsgcmV0dXJuICJoYW5kbGVkIiB9DQoNCiAgICAgICAgaWYgKG1hcCQkMS5mYWxsdGhyb3VnaCkgew0KICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChtYXAkJDEuZmFsbHRocm91Z2gpICE9ICJbb2JqZWN0IEFycmF5XSIpDQogICAgICAgICAgICB7IHJldHVybiBsb29rdXBLZXkoa2V5LCBtYXAkJDEuZmFsbHRocm91Z2gsIGhhbmRsZSwgY29udGV4dCkgfQ0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXAkJDEuZmFsbHRocm91Z2gubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9va3VwS2V5KGtleSwgbWFwJCQxLmZhbGx0aHJvdWdoW2ldLCBoYW5kbGUsIGNvbnRleHQpDQogICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkgeyByZXR1cm4gcmVzdWx0IH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KLy8gTW9kaWZpZXIga2V5IHByZXNzZXMgZG9uJ3QgY291bnQgYXMgJ3JlYWwnIGtleSBwcmVzc2VzIGZvciB0aGUNCi8vIHB1cnBvc2Ugb2Yga2V5bWFwIGZhbGx0aHJvdWdoLg0KICAgIGZ1bmN0aW9uIGlzTW9kaWZpZXJLZXkodmFsdWUpIHsNCiAgICAgICAgdmFyIG5hbWUgPSB0eXBlb2YgdmFsdWUgPT0gInN0cmluZyIgPyB2YWx1ZSA6IGtleU5hbWVzW3ZhbHVlLmtleUNvZGVdDQogICAgICAgIHJldHVybiBuYW1lID09ICJDdHJsIiB8fCBuYW1lID09ICJBbHQiIHx8IG5hbWUgPT0gIlNoaWZ0IiB8fCBuYW1lID09ICJNb2QiDQogICAgfQ0KDQovLyBMb29rIHVwIHRoZSBuYW1lIG9mIGEga2V5IGFzIGluZGljYXRlZCBieSBhbiBldmVudCBvYmplY3QuDQogICAgZnVuY3Rpb24ga2V5TmFtZShldmVudCwgbm9TaGlmdCkgew0KICAgICAgICBpZiAocHJlc3RvICYmIGV2ZW50LmtleUNvZGUgPT0gMzQgJiYgZXZlbnRbImNoYXIiXSkgeyByZXR1cm4gZmFsc2UgfQ0KICAgICAgICB2YXIgYmFzZSA9IGtleU5hbWVzW2V2ZW50LmtleUNvZGVdLCBuYW1lID0gYmFzZQ0KICAgICAgICBpZiAobmFtZSA9PSBudWxsIHx8IGV2ZW50LmFsdEdyYXBoS2V5KSB7IHJldHVybiBmYWxzZSB9DQogICAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgYmFzZSAhPSAiQWx0IikgeyBuYW1lID0gIkFsdC0iICsgbmFtZSB9DQogICAgICAgIGlmICgoZmxpcEN0cmxDbWQgPyBldmVudC5tZXRhS2V5IDogZXZlbnQuY3RybEtleSkgJiYgYmFzZSAhPSAiQ3RybCIpIHsgbmFtZSA9ICJDdHJsLSIgKyBuYW1lIH0NCiAgICAgICAgaWYgKChmbGlwQ3RybENtZCA/IGV2ZW50LmN0cmxLZXkgOiBldmVudC5tZXRhS2V5KSAmJiBiYXNlICE9ICJDbWQiKSB7IG5hbWUgPSAiQ21kLSIgKyBuYW1lIH0NCiAgICAgICAgaWYgKCFub1NoaWZ0ICYmIGV2ZW50LnNoaWZ0S2V5ICYmIGJhc2UgIT0gIlNoaWZ0IikgeyBuYW1lID0gIlNoaWZ0LSIgKyBuYW1lIH0NCiAgICAgICAgcmV0dXJuIG5hbWUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRLZXlNYXAodmFsKSB7DQogICAgICAgIHJldHVybiB0eXBlb2YgdmFsID09ICJzdHJpbmciID8ga2V5TWFwW3ZhbF0gOiB2YWwNCiAgICB9DQoNCi8vIEhlbHBlciBmb3IgZGVsZXRpbmcgdGV4dCBuZWFyIHRoZSBzZWxlY3Rpb24ocyksIHVzZWQgdG8gaW1wbGVtZW50DQovLyBiYWNrc3BhY2UsIGRlbGV0ZSwgYW5kIHNpbWlsYXIgZnVuY3Rpb25hbGl0eS4NCiAgICBmdW5jdGlvbiBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBjb21wdXRlKSB7DQogICAgICAgIHZhciByYW5nZXMgPSBjbS5kb2Muc2VsLnJhbmdlcywga2lsbCA9IFtdDQogICAgICAgIC8vIEJ1aWxkIHVwIGEgc2V0IG9mIHJhbmdlcyB0byBraWxsIGZpcnN0LCBtZXJnaW5nIG92ZXJsYXBwaW5nDQogICAgICAgIC8vIHJhbmdlcy4NCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHZhciB0b0tpbGwgPSBjb21wdXRlKHJhbmdlc1tpXSkNCiAgICAgICAgICAgIHdoaWxlIChraWxsLmxlbmd0aCAmJiBjbXAodG9LaWxsLmZyb20sIGxzdChraWxsKS50bykgPD0gMCkgew0KICAgICAgICAgICAgICAgIHZhciByZXBsYWNlZCA9IGtpbGwucG9wKCkNCiAgICAgICAgICAgICAgICBpZiAoY21wKHJlcGxhY2VkLmZyb20sIHRvS2lsbC5mcm9tKSA8IDApIHsNCiAgICAgICAgICAgICAgICAgICAgdG9LaWxsLmZyb20gPSByZXBsYWNlZC5mcm9tDQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAga2lsbC5wdXNoKHRvS2lsbCkNCiAgICAgICAgfQ0KICAgICAgICAvLyBOZXh0LCByZW1vdmUgdGhvc2UgYWN0dWFsIHJhbmdlcy4NCiAgICAgICAgcnVuSW5PcChjbSwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IGtpbGwubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pDQogICAgICAgICAgICB7IHJlcGxhY2VSYW5nZShjbS5kb2MsICIiLCBraWxsW2ldLmZyb20sIGtpbGxbaV0udG8sICIrZGVsZXRlIikgfQ0KICAgICAgICAgICAgZW5zdXJlQ3Vyc29yVmlzaWJsZShjbSkNCiAgICAgICAgfSkNCiAgICB9DQoNCi8vIENvbW1hbmRzIGFyZSBwYXJhbWV0ZXItbGVzcyBhY3Rpb25zIHRoYXQgY2FuIGJlIHBlcmZvcm1lZCBvbiBhbg0KLy8gZWRpdG9yLCBtb3N0bHkgdXNlZCBmb3Iga2V5YmluZGluZ3MuDQogICAgdmFyIGNvbW1hbmRzID0gew0KICAgICAgICBzZWxlY3RBbGw6IHNlbGVjdEFsbCwNCiAgICAgICAgc2luZ2xlU2VsZWN0aW9uOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnNldFNlbGVjdGlvbihjbS5nZXRDdXJzb3IoImFuY2hvciIpLCBjbS5nZXRDdXJzb3IoImhlYWQiKSwgc2VsX2RvbnRTY3JvbGwpOyB9LA0KICAgICAgICBraWxsTGluZTogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBmdW5jdGlvbiAocmFuZ2UpIHsNCiAgICAgICAgICAgIGlmIChyYW5nZS5lbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgdmFyIGxlbiA9IGdldExpbmUoY20uZG9jLCByYW5nZS5oZWFkLmxpbmUpLnRleHQubGVuZ3RoDQogICAgICAgICAgICAgICAgaWYgKHJhbmdlLmhlYWQuY2ggPT0gbGVuICYmIHJhbmdlLmhlYWQubGluZSA8IGNtLmxhc3RMaW5lKCkpDQogICAgICAgICAgICAgICAgeyByZXR1cm4ge2Zyb206IHJhbmdlLmhlYWQsIHRvOiBQb3MocmFuZ2UuaGVhZC5saW5lICsgMSwgMCl9IH0NCiAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgeyByZXR1cm4ge2Zyb206IHJhbmdlLmhlYWQsIHRvOiBQb3MocmFuZ2UuaGVhZC5saW5lLCBsZW4pfSB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiB7ZnJvbTogcmFuZ2UuZnJvbSgpLCB0bzogcmFuZ2UudG8oKX0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7IH0sDQogICAgICAgIGRlbGV0ZUxpbmU6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24gKHJhbmdlKSB7IHJldHVybiAoew0KICAgICAgICAgICAgZnJvbTogUG9zKHJhbmdlLmZyb20oKS5saW5lLCAwKSwNCiAgICAgICAgICAgIHRvOiBjbGlwUG9zKGNtLmRvYywgUG9zKHJhbmdlLnRvKCkubGluZSArIDEsIDApKQ0KICAgICAgICB9KTsgfSk7IH0sDQogICAgICAgIGRlbExpbmVMZWZ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGZ1bmN0aW9uIChyYW5nZSkgeyByZXR1cm4gKHsNCiAgICAgICAgICAgIGZyb206IFBvcyhyYW5nZS5mcm9tKCkubGluZSwgMCksIHRvOiByYW5nZS5mcm9tKCkNCiAgICAgICAgfSk7IH0pOyB9LA0KICAgICAgICBkZWxXcmFwcGVkTGluZUxlZnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24gKHJhbmdlKSB7DQogICAgICAgICAgICB2YXIgdG9wID0gY20uY2hhckNvb3JkcyhyYW5nZS5oZWFkLCAiZGl2IikudG9wICsgNQ0KICAgICAgICAgICAgdmFyIGxlZnRQb3MgPSBjbS5jb29yZHNDaGFyKHtsZWZ0OiAwLCB0b3A6IHRvcH0sICJkaXYiKQ0KICAgICAgICAgICAgcmV0dXJuIHtmcm9tOiBsZWZ0UG9zLCB0bzogcmFuZ2UuZnJvbSgpfQ0KICAgICAgICB9KTsgfSwNCiAgICAgICAgZGVsV3JhcHBlZExpbmVSaWdodDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBmdW5jdGlvbiAocmFuZ2UpIHsNCiAgICAgICAgICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsICJkaXYiKS50b3AgKyA1DQogICAgICAgICAgICB2YXIgcmlnaHRQb3MgPSBjbS5jb29yZHNDaGFyKHtsZWZ0OiBjbS5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGggKyAxMDAsIHRvcDogdG9wfSwgImRpdiIpDQogICAgICAgICAgICByZXR1cm4ge2Zyb206IHJhbmdlLmZyb20oKSwgdG86IHJpZ2h0UG9zIH0NCiAgICAgICAgfSk7IH0sDQogICAgICAgIHVuZG86IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20udW5kbygpOyB9LA0KICAgICAgICByZWRvOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnJlZG8oKTsgfSwNCiAgICAgICAgdW5kb1NlbGVjdGlvbjogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS51bmRvU2VsZWN0aW9uKCk7IH0sDQogICAgICAgIHJlZG9TZWxlY3Rpb246IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ucmVkb1NlbGVjdGlvbigpOyB9LA0KICAgICAgICBnb0RvY1N0YXJ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmV4dGVuZFNlbGVjdGlvbihQb3MoY20uZmlyc3RMaW5lKCksIDApKTsgfSwNCiAgICAgICAgZ29Eb2NFbmQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uZXh0ZW5kU2VsZWN0aW9uKFBvcyhjbS5sYXN0TGluZSgpKSk7IH0sDQogICAgICAgIGdvTGluZVN0YXJ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbiAocmFuZ2UpIHsgcmV0dXJuIGxpbmVTdGFydChjbSwgcmFuZ2UuaGVhZC5saW5lKTsgfSwNCiAgICAgICAgICAgIHtvcmlnaW46ICIrbW92ZSIsIGJpYXM6IDF9DQogICAgICAgICk7IH0sDQogICAgICAgIGdvTGluZVN0YXJ0U21hcnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uIChyYW5nZSkgeyByZXR1cm4gbGluZVN0YXJ0U21hcnQoY20sIHJhbmdlLmhlYWQpOyB9LA0KICAgICAgICAgICAge29yaWdpbjogIittb3ZlIiwgYmlhczogMX0NCiAgICAgICAgKTsgfSwNCiAgICAgICAgZ29MaW5lRW5kOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbiAocmFuZ2UpIHsgcmV0dXJuIGxpbmVFbmQoY20sIHJhbmdlLmhlYWQubGluZSk7IH0sDQogICAgICAgICAgICB7b3JpZ2luOiAiK21vdmUiLCBiaWFzOiAtMX0NCiAgICAgICAgKTsgfSwNCiAgICAgICAgZ29MaW5lUmlnaHQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uIChyYW5nZSkgew0KICAgICAgICAgICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgImRpdiIpLnRvcCArIDUNCiAgICAgICAgICAgIHJldHVybiBjbS5jb29yZHNDaGFyKHtsZWZ0OiBjbS5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGggKyAxMDAsIHRvcDogdG9wfSwgImRpdiIpDQogICAgICAgIH0sIHNlbF9tb3ZlKTsgfSwNCiAgICAgICAgZ29MaW5lTGVmdDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24gKHJhbmdlKSB7DQogICAgICAgICAgICB2YXIgdG9wID0gY20uY2hhckNvb3JkcyhyYW5nZS5oZWFkLCAiZGl2IikudG9wICsgNQ0KICAgICAgICAgICAgcmV0dXJuIGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IDAsIHRvcDogdG9wfSwgImRpdiIpDQogICAgICAgIH0sIHNlbF9tb3ZlKTsgfSwNCiAgICAgICAgZ29MaW5lTGVmdFNtYXJ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbiAocmFuZ2UpIHsNCiAgICAgICAgICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsICJkaXYiKS50b3AgKyA1DQogICAgICAgICAgICB2YXIgcG9zID0gY20uY29vcmRzQ2hhcih7bGVmdDogMCwgdG9wOiB0b3B9LCAiZGl2IikNCiAgICAgICAgICAgIGlmIChwb3MuY2ggPCBjbS5nZXRMaW5lKHBvcy5saW5lKS5zZWFyY2goL1xTLykpIHsgcmV0dXJuIGxpbmVTdGFydFNtYXJ0KGNtLCByYW5nZS5oZWFkKSB9DQogICAgICAgICAgICByZXR1cm4gcG9zDQogICAgICAgIH0sIHNlbF9tb3ZlKTsgfSwNCiAgICAgICAgZ29MaW5lVXA6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZVYoLTEsICJsaW5lIik7IH0sDQogICAgICAgIGdvTGluZURvd246IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZVYoMSwgImxpbmUiKTsgfSwNCiAgICAgICAgZ29QYWdlVXA6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZVYoLTEsICJwYWdlIik7IH0sDQogICAgICAgIGdvUGFnZURvd246IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZVYoMSwgInBhZ2UiKTsgfSwNCiAgICAgICAgZ29DaGFyTGVmdDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5tb3ZlSCgtMSwgImNoYXIiKTsgfSwNCiAgICAgICAgZ29DaGFyUmlnaHQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZUgoMSwgImNoYXIiKTsgfSwNCiAgICAgICAgZ29Db2x1bW5MZWZ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLm1vdmVIKC0xLCAiY29sdW1uIik7IH0sDQogICAgICAgIGdvQ29sdW1uUmlnaHQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZUgoMSwgImNvbHVtbiIpOyB9LA0KICAgICAgICBnb1dvcmRMZWZ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLm1vdmVIKC0xLCAid29yZCIpOyB9LA0KICAgICAgICBnb0dyb3VwUmlnaHQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZUgoMSwgImdyb3VwIik7IH0sDQogICAgICAgIGdvR3JvdXBMZWZ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLm1vdmVIKC0xLCAiZ3JvdXAiKTsgfSwNCiAgICAgICAgZ29Xb3JkUmlnaHQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZUgoMSwgIndvcmQiKTsgfSwNCiAgICAgICAgZGVsQ2hhckJlZm9yZTogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5kZWxldGVIKC0xLCAiY2hhciIpOyB9LA0KICAgICAgICBkZWxDaGFyQWZ0ZXI6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uZGVsZXRlSCgxLCAiY2hhciIpOyB9LA0KICAgICAgICBkZWxXb3JkQmVmb3JlOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmRlbGV0ZUgoLTEsICJ3b3JkIik7IH0sDQogICAgICAgIGRlbFdvcmRBZnRlcjogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5kZWxldGVIKDEsICJ3b3JkIik7IH0sDQogICAgICAgIGRlbEdyb3VwQmVmb3JlOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmRlbGV0ZUgoLTEsICJncm91cCIpOyB9LA0KICAgICAgICBkZWxHcm91cEFmdGVyOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmRlbGV0ZUgoMSwgImdyb3VwIik7IH0sDQogICAgICAgIGluZGVudEF1dG86IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uaW5kZW50U2VsZWN0aW9uKCJzbWFydCIpOyB9LA0KICAgICAgICBpbmRlbnRNb3JlOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmluZGVudFNlbGVjdGlvbigiYWRkIik7IH0sDQogICAgICAgIGluZGVudExlc3M6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uaW5kZW50U2VsZWN0aW9uKCJzdWJ0cmFjdCIpOyB9LA0KICAgICAgICBpbnNlcnRUYWI6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ucmVwbGFjZVNlbGVjdGlvbigiXHQiKTsgfSwNCiAgICAgICAgaW5zZXJ0U29mdFRhYjogZnVuY3Rpb24gKGNtKSB7DQogICAgICAgICAgICB2YXIgc3BhY2VzID0gW10sIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCksIHRhYlNpemUgPSBjbS5vcHRpb25zLnRhYlNpemUNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgdmFyIHBvcyA9IHJhbmdlc1tpXS5mcm9tKCkNCiAgICAgICAgICAgICAgICB2YXIgY29sID0gY291bnRDb2x1bW4oY20uZ2V0TGluZShwb3MubGluZSksIHBvcy5jaCwgdGFiU2l6ZSkNCiAgICAgICAgICAgICAgICBzcGFjZXMucHVzaChzcGFjZVN0cih0YWJTaXplIC0gY29sICUgdGFiU2l6ZSkpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9ucyhzcGFjZXMpDQogICAgICAgIH0sDQogICAgICAgIGRlZmF1bHRUYWI6IGZ1bmN0aW9uIChjbSkgew0KICAgICAgICAgICAgaWYgKGNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHsgY20uaW5kZW50U2VsZWN0aW9uKCJhZGQiKSB9DQogICAgICAgICAgICBlbHNlIHsgY20uZXhlY0NvbW1hbmQoImluc2VydFRhYiIpIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8gU3dhcCB0aGUgdHdvIGNoYXJzIGxlZnQgYW5kIHJpZ2h0IG9mIGVhY2ggc2VsZWN0aW9uJ3MgaGVhZC4NCiAgICAgICAgLy8gTW92ZSBjdXJzb3IgYmVoaW5kIHRoZSB0d28gc3dhcHBlZCBjaGFyYWN0ZXJzIGFmdGVyd2FyZHMuDQogICAgICAgIC8vDQogICAgICAgIC8vIERvZXNuJ3QgY29uc2lkZXIgbGluZSBmZWVkcyBhIGNoYXJhY3Rlci4NCiAgICAgICAgLy8gRG9lc24ndCBzY2FuIG1vcmUgdGhhbiBvbmUgbGluZSBhYm92ZSB0byBmaW5kIGEgY2hhcmFjdGVyLg0KICAgICAgICAvLyBEb2Vzbid0IGRvIGFueXRoaW5nIG9uIGFuIGVtcHR5IGxpbmUuDQogICAgICAgIC8vIERvZXNuJ3QgZG8gYW55dGhpbmcgd2l0aCBub24tZW1wdHkgc2VsZWN0aW9ucy4NCiAgICAgICAgdHJhbnNwb3NlQ2hhcnM6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gcnVuSW5PcChjbSwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCksIG5ld1NlbCA9IFtdDQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIGlmICghcmFuZ2VzW2ldLmVtcHR5KCkpIHsgY29udGludWUgfQ0KICAgICAgICAgICAgICAgIHZhciBjdXIgPSByYW5nZXNbaV0uaGVhZCwgbGluZSA9IGdldExpbmUoY20uZG9jLCBjdXIubGluZSkudGV4dA0KICAgICAgICAgICAgICAgIGlmIChsaW5lKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChjdXIuY2ggPT0gbGluZS5sZW5ndGgpIHsgY3VyID0gbmV3IFBvcyhjdXIubGluZSwgY3VyLmNoIC0gMSkgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoY3VyLmNoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY3VyID0gbmV3IFBvcyhjdXIubGluZSwgY3VyLmNoICsgMSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNtLnJlcGxhY2VSYW5nZShsaW5lLmNoYXJBdChjdXIuY2ggLSAxKSArIGxpbmUuY2hhckF0KGN1ci5jaCAtIDIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvcyhjdXIubGluZSwgY3VyLmNoIC0gMiksIGN1ciwgIit0cmFuc3Bvc2UiKQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1ci5saW5lID4gY20uZG9jLmZpcnN0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJldiA9IGdldExpbmUoY20uZG9jLCBjdXIubGluZSAtIDEpLnRleHQNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyID0gbmV3IFBvcyhjdXIubGluZSwgMSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UobGluZS5jaGFyQXQoMCkgKyBjbS5kb2MubGluZVNlcGFyYXRvcigpICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5jaGFyQXQocHJldi5sZW5ndGggLSAxKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zKGN1ci5saW5lIC0gMSwgcHJldi5sZW5ndGggLSAxKSwgY3VyLCAiK3RyYW5zcG9zZSIpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbmV3U2VsLnB1c2gobmV3IFJhbmdlKGN1ciwgY3VyKSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNtLnNldFNlbGVjdGlvbnMobmV3U2VsKQ0KICAgICAgICB9KTsgfSwNCiAgICAgICAgbmV3bGluZUFuZEluZGVudDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBydW5Jbk9wKGNtLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgc2VscyA9IGNtLmxpc3RTZWxlY3Rpb25zKCkNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzZWxzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKQ0KICAgICAgICAgICAgeyBjbS5yZXBsYWNlUmFuZ2UoY20uZG9jLmxpbmVTZXBhcmF0b3IoKSwgc2Vsc1tpXS5hbmNob3IsIHNlbHNbaV0uaGVhZCwgIitpbnB1dCIpIH0NCiAgICAgICAgICAgIHNlbHMgPSBjbS5saXN0U2VsZWN0aW9ucygpDQogICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBzZWxzLmxlbmd0aDsgaSQxKyspDQogICAgICAgICAgICB7IGNtLmluZGVudExpbmUoc2Vsc1tpJDFdLmZyb20oKS5saW5lLCBudWxsLCB0cnVlKSB9DQogICAgICAgICAgICBlbnN1cmVDdXJzb3JWaXNpYmxlKGNtKQ0KICAgICAgICB9KTsgfSwNCiAgICAgICAgb3BlbkxpbmU6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ucmVwbGFjZVNlbGVjdGlvbigiXG4iLCAic3RhcnQiKTsgfSwNCiAgICAgICAgdG9nZ2xlT3ZlcndyaXRlOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnRvZ2dsZU92ZXJ3cml0ZSgpOyB9DQogICAgfQ0KDQoNCiAgICBmdW5jdGlvbiBsaW5lU3RhcnQoY20sIGxpbmVOKSB7DQogICAgICAgIHZhciBsaW5lID0gZ2V0TGluZShjbS5kb2MsIGxpbmVOKQ0KICAgICAgICB2YXIgdmlzdWFsID0gdmlzdWFsTGluZShsaW5lKQ0KICAgICAgICBpZiAodmlzdWFsICE9IGxpbmUpIHsgbGluZU4gPSBsaW5lTm8odmlzdWFsKSB9DQogICAgICAgIHZhciBvcmRlciA9IGdldE9yZGVyKHZpc3VhbCkNCiAgICAgICAgdmFyIGNoID0gIW9yZGVyID8gMCA6IG9yZGVyWzBdLmxldmVsICUgMiA/IGxpbmVSaWdodCh2aXN1YWwpIDogbGluZUxlZnQodmlzdWFsKQ0KICAgICAgICByZXR1cm4gUG9zKGxpbmVOLCBjaCkNCiAgICB9DQogICAgZnVuY3Rpb24gbGluZUVuZChjbSwgbGluZU4pIHsNCiAgICAgICAgdmFyIG1lcmdlZCwgbGluZSA9IGdldExpbmUoY20uZG9jLCBsaW5lTikNCiAgICAgICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lKSkgew0KICAgICAgICAgICAgbGluZSA9IG1lcmdlZC5maW5kKDEsIHRydWUpLmxpbmUNCiAgICAgICAgICAgIGxpbmVOID0gbnVsbA0KICAgICAgICB9DQogICAgICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpDQogICAgICAgIHZhciBjaCA9ICFvcmRlciA/IGxpbmUudGV4dC5sZW5ndGggOiBvcmRlclswXS5sZXZlbCAlIDIgPyBsaW5lTGVmdChsaW5lKSA6IGxpbmVSaWdodChsaW5lKQ0KICAgICAgICByZXR1cm4gUG9zKGxpbmVOID09IG51bGwgPyBsaW5lTm8obGluZSkgOiBsaW5lTiwgY2gpDQogICAgfQ0KICAgIGZ1bmN0aW9uIGxpbmVTdGFydFNtYXJ0KGNtLCBwb3MpIHsNCiAgICAgICAgdmFyIHN0YXJ0ID0gbGluZVN0YXJ0KGNtLCBwb3MubGluZSkNCiAgICAgICAgdmFyIGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgc3RhcnQubGluZSkNCiAgICAgICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZSkNCiAgICAgICAgaWYgKCFvcmRlciB8fCBvcmRlclswXS5sZXZlbCA9PSAwKSB7DQogICAgICAgICAgICB2YXIgZmlyc3ROb25XUyA9IE1hdGgubWF4KDAsIGxpbmUudGV4dC5zZWFyY2goL1xTLykpDQogICAgICAgICAgICB2YXIgaW5XUyA9IHBvcy5saW5lID09IHN0YXJ0LmxpbmUgJiYgcG9zLmNoIDw9IGZpcnN0Tm9uV1MgJiYgcG9zLmNoDQogICAgICAgICAgICByZXR1cm4gUG9zKHN0YXJ0LmxpbmUsIGluV1MgPyAwIDogZmlyc3ROb25XUykNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gc3RhcnQNCiAgICB9DQoNCi8vIFJ1biBhIGhhbmRsZXIgdGhhdCB3YXMgYm91bmQgdG8gYSBrZXkuDQogICAgZnVuY3Rpb24gZG9IYW5kbGVCaW5kaW5nKGNtLCBib3VuZCwgZHJvcFNoaWZ0KSB7DQogICAgICAgIGlmICh0eXBlb2YgYm91bmQgPT0gInN0cmluZyIpIHsNCiAgICAgICAgICAgIGJvdW5kID0gY29tbWFuZHNbYm91bmRdDQogICAgICAgICAgICBpZiAoIWJvdW5kKSB7IHJldHVybiBmYWxzZSB9DQogICAgICAgIH0NCiAgICAgICAgLy8gRW5zdXJlIHByZXZpb3VzIGlucHV0IGhhcyBiZWVuIHJlYWQsIHNvIHRoYXQgdGhlIGhhbmRsZXIgc2VlcyBhDQogICAgICAgIC8vIGNvbnNpc3RlbnQgdmlldyBvZiB0aGUgZG9jdW1lbnQNCiAgICAgICAgY20uZGlzcGxheS5pbnB1dC5lbnN1cmVQb2xsZWQoKQ0KICAgICAgICB2YXIgcHJldlNoaWZ0ID0gY20uZGlzcGxheS5zaGlmdCwgZG9uZSA9IGZhbHNlDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZiAoY20uaXNSZWFkT25seSgpKSB7IGNtLnN0YXRlLnN1cHByZXNzRWRpdHMgPSB0cnVlIH0NCiAgICAgICAgICAgIGlmIChkcm9wU2hpZnQpIHsgY20uZGlzcGxheS5zaGlmdCA9IGZhbHNlIH0NCiAgICAgICAgICAgIGRvbmUgPSBib3VuZChjbSkgIT0gUGFzcw0KICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgY20uZGlzcGxheS5zaGlmdCA9IHByZXZTaGlmdA0KICAgICAgICAgICAgY20uc3RhdGUuc3VwcHJlc3NFZGl0cyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGRvbmUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBsb29rdXBLZXlGb3JFZGl0b3IoY20sIG5hbWUsIGhhbmRsZSkgew0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLnN0YXRlLmtleU1hcHMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBsb29rdXBLZXkobmFtZSwgY20uc3RhdGUua2V5TWFwc1tpXSwgaGFuZGxlLCBjbSkNCiAgICAgICAgICAgIGlmIChyZXN1bHQpIHsgcmV0dXJuIHJlc3VsdCB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIChjbS5vcHRpb25zLmV4dHJhS2V5cyAmJiBsb29rdXBLZXkobmFtZSwgY20ub3B0aW9ucy5leHRyYUtleXMsIGhhbmRsZSwgY20pKQ0KICAgICAgICAgICAgfHwgbG9va3VwS2V5KG5hbWUsIGNtLm9wdGlvbnMua2V5TWFwLCBoYW5kbGUsIGNtKQ0KICAgIH0NCg0KICAgIHZhciBzdG9wU2VxID0gbmV3IERlbGF5ZWQNCiAgICBmdW5jdGlvbiBkaXNwYXRjaEtleShjbSwgbmFtZSwgZSwgaGFuZGxlKSB7DQogICAgICAgIHZhciBzZXEgPSBjbS5zdGF0ZS5rZXlTZXENCiAgICAgICAgaWYgKHNlcSkgew0KICAgICAgICAgICAgaWYgKGlzTW9kaWZpZXJLZXkobmFtZSkpIHsgcmV0dXJuICJoYW5kbGVkIiB9DQogICAgICAgICAgICBzdG9wU2VxLnNldCg1MCwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGlmIChjbS5zdGF0ZS5rZXlTZXEgPT0gc2VxKSB7DQogICAgICAgICAgICAgICAgICAgIGNtLnN0YXRlLmtleVNlcSA9IG51bGwNCiAgICAgICAgICAgICAgICAgICAgY20uZGlzcGxheS5pbnB1dC5yZXNldCgpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIG5hbWUgPSBzZXEgKyAiICIgKyBuYW1lDQogICAgICAgIH0NCiAgICAgICAgdmFyIHJlc3VsdCA9IGxvb2t1cEtleUZvckVkaXRvcihjbSwgbmFtZSwgaGFuZGxlKQ0KDQogICAgICAgIGlmIChyZXN1bHQgPT0gIm11bHRpIikNCiAgICAgICAgeyBjbS5zdGF0ZS5rZXlTZXEgPSBuYW1lIH0NCiAgICAgICAgaWYgKHJlc3VsdCA9PSAiaGFuZGxlZCIpDQogICAgICAgIHsgc2lnbmFsTGF0ZXIoY20sICJrZXlIYW5kbGVkIiwgY20sIG5hbWUsIGUpIH0NCg0KICAgICAgICBpZiAocmVzdWx0ID09ICJoYW5kbGVkIiB8fCByZXN1bHQgPT0gIm11bHRpIikgew0KICAgICAgICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKQ0KICAgICAgICAgICAgcmVzdGFydEJsaW5rKGNtKQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHNlcSAmJiAhcmVzdWx0ICYmIC9cJyQvLnRlc3QobmFtZSkpIHsNCiAgICAgICAgICAgIGVfcHJldmVudERlZmF1bHQoZSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuICEhcmVzdWx0DQogICAgfQ0KDQovLyBIYW5kbGUgYSBrZXkgZnJvbSB0aGUga2V5ZG93biBldmVudC4NCiAgICBmdW5jdGlvbiBoYW5kbGVLZXlCaW5kaW5nKGNtLCBlKSB7DQogICAgICAgIHZhciBuYW1lID0ga2V5TmFtZShlLCB0cnVlKQ0KICAgICAgICBpZiAoIW5hbWUpIHsgcmV0dXJuIGZhbHNlIH0NCg0KICAgICAgICBpZiAoZS5zaGlmdEtleSAmJiAhY20uc3RhdGUua2V5U2VxKSB7DQogICAgICAgICAgICAvLyBGaXJzdCB0cnkgdG8gcmVzb2x2ZSBmdWxsIG5hbWUgKGluY2x1ZGluZyAnU2hpZnQtJykuIEZhaWxpbmcNCiAgICAgICAgICAgIC8vIHRoYXQsIHNlZSBpZiB0aGVyZSBpcyBhIGN1cnNvci1tb3Rpb24gY29tbWFuZCAoc3RhcnRpbmcgd2l0aA0KICAgICAgICAgICAgLy8gJ2dvJykgYm91bmQgdG8gdGhlIGtleW5hbWUgd2l0aG91dCAnU2hpZnQtJy4NCiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaEtleShjbSwgIlNoaWZ0LSIgKyBuYW1lLCBlLCBmdW5jdGlvbiAoYikgeyByZXR1cm4gZG9IYW5kbGVCaW5kaW5nKGNtLCBiLCB0cnVlKTsgfSkNCiAgICAgICAgICAgICAgICB8fCBkaXNwYXRjaEtleShjbSwgbmFtZSwgZSwgZnVuY3Rpb24gKGIpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09ICJzdHJpbmciID8gL15nb1tBLVpdLy50ZXN0KGIpIDogYi5tb3Rpb24pDQogICAgICAgICAgICAgICAgICAgIHsgcmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYikgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2hLZXkoY20sIG5hbWUsIGUsIGZ1bmN0aW9uIChiKSB7IHJldHVybiBkb0hhbmRsZUJpbmRpbmcoY20sIGIpOyB9KQ0KICAgICAgICB9DQogICAgfQ0KDQovLyBIYW5kbGUgYSBrZXkgZnJvbSB0aGUga2V5cHJlc3MgZXZlbnQNCiAgICBmdW5jdGlvbiBoYW5kbGVDaGFyQmluZGluZyhjbSwgZSwgY2gpIHsNCiAgICAgICAgcmV0dXJuIGRpc3BhdGNoS2V5KGNtLCAiJyIgKyBjaCArICInIiwgZSwgZnVuY3Rpb24gKGIpIHsgcmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYiwgdHJ1ZSk7IH0pDQogICAgfQ0KDQogICAgdmFyIGxhc3RTdG9wcGVkS2V5ID0gbnVsbA0KICAgIGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7DQogICAgICAgIHZhciBjbSA9IHRoaXMNCiAgICAgICAgY20uY3VyT3AuZm9jdXMgPSBhY3RpdmVFbHQoKQ0KICAgICAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpKSB7IHJldHVybiB9DQogICAgICAgIC8vIElFIGRvZXMgc3RyYW5nZSB0aGluZ3Mgd2l0aCBlc2NhcGUuDQogICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEgJiYgZS5rZXlDb2RlID09IDI3KSB7IGUucmV0dXJuVmFsdWUgPSBmYWxzZSB9DQogICAgICAgIHZhciBjb2RlID0gZS5rZXlDb2RlDQogICAgICAgIGNtLmRpc3BsYXkuc2hpZnQgPSBjb2RlID09IDE2IHx8IGUuc2hpZnRLZXkNCiAgICAgICAgdmFyIGhhbmRsZWQgPSBoYW5kbGVLZXlCaW5kaW5nKGNtLCBlKQ0KICAgICAgICBpZiAocHJlc3RvKSB7DQogICAgICAgICAgICBsYXN0U3RvcHBlZEtleSA9IGhhbmRsZWQgPyBjb2RlIDogbnVsbA0KICAgICAgICAgICAgLy8gT3BlcmEgaGFzIG5vIGN1dCBldmVudC4uLiB3ZSB0cnkgdG8gYXQgbGVhc3QgY2F0Y2ggdGhlIGtleSBjb21ibw0KICAgICAgICAgICAgaWYgKCFoYW5kbGVkICYmIGNvZGUgPT0gODggJiYgIWhhc0NvcHlFdmVudCAmJiAobWFjID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5KSkNCiAgICAgICAgICAgIHsgY20ucmVwbGFjZVNlbGVjdGlvbigiIiwgbnVsbCwgImN1dCIpIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFR1cm4gbW91c2UgaW50byBjcm9zc2hhaXIgd2hlbiBBbHQgaXMgaGVsZCBvbiBNYWMuDQogICAgICAgIGlmIChjb2RlID09IDE4ICYmICEvXGJDb2RlTWlycm9yLWNyb3NzaGFpclxiLy50ZXN0KGNtLmRpc3BsYXkubGluZURpdi5jbGFzc05hbWUpKQ0KICAgICAgICB7IHNob3dDcm9zc0hhaXIoY20pIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzaG93Q3Jvc3NIYWlyKGNtKSB7DQogICAgICAgIHZhciBsaW5lRGl2ID0gY20uZGlzcGxheS5saW5lRGl2DQogICAgICAgIGFkZENsYXNzKGxpbmVEaXYsICJDb2RlTWlycm9yLWNyb3NzaGFpciIpDQoNCiAgICAgICAgZnVuY3Rpb24gdXAoZSkgew0KICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxOCB8fCAhZS5hbHRLZXkpIHsNCiAgICAgICAgICAgICAgICBybUNsYXNzKGxpbmVEaXYsICJDb2RlTWlycm9yLWNyb3NzaGFpciIpDQogICAgICAgICAgICAgICAgb2ZmKGRvY3VtZW50LCAia2V5dXAiLCB1cCkNCiAgICAgICAgICAgICAgICBvZmYoZG9jdW1lbnQsICJtb3VzZW92ZXIiLCB1cCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBvbihkb2N1bWVudCwgImtleXVwIiwgdXApDQogICAgICAgIG9uKGRvY3VtZW50LCAibW91c2VvdmVyIiwgdXApDQogICAgfQ0KDQogICAgZnVuY3Rpb24gb25LZXlVcChlKSB7DQogICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTYpIHsgdGhpcy5kb2Muc2VsLnNoaWZ0ID0gZmFsc2UgfQ0KICAgICAgICBzaWduYWxET01FdmVudCh0aGlzLCBlKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG9uS2V5UHJlc3MoZSkgew0KICAgICAgICB2YXIgY20gPSB0aGlzDQogICAgICAgIGlmIChldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpIHx8IHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBlLmN0cmxLZXkgJiYgIWUuYWx0S2V5IHx8IG1hYyAmJiBlLm1ldGFLZXkpIHsgcmV0dXJuIH0NCiAgICAgICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGUsIGNoYXJDb2RlID0gZS5jaGFyQ29kZQ0KICAgICAgICBpZiAocHJlc3RvICYmIGtleUNvZGUgPT0gbGFzdFN0b3BwZWRLZXkpIHtsYXN0U3RvcHBlZEtleSA9IG51bGw7IGVfcHJldmVudERlZmF1bHQoZSk7IHJldHVybn0NCiAgICAgICAgaWYgKChwcmVzdG8gJiYgKCFlLndoaWNoIHx8IGUud2hpY2ggPCAxMCkpICYmIGhhbmRsZUtleUJpbmRpbmcoY20sIGUpKSB7IHJldHVybiB9DQogICAgICAgIHZhciBjaCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUgPT0gbnVsbCA/IGtleUNvZGUgOiBjaGFyQ29kZSkNCiAgICAgICAgLy8gU29tZSBicm93c2VycyBmaXJlIGtleXByZXNzIGV2ZW50cyBmb3IgYmFja3NwYWNlDQogICAgICAgIGlmIChjaCA9PSAiXHgwOCIpIHsgcmV0dXJuIH0NCiAgICAgICAgaWYgKGhhbmRsZUNoYXJCaW5kaW5nKGNtLCBlLCBjaCkpIHsgcmV0dXJuIH0NCiAgICAgICAgY20uZGlzcGxheS5pbnB1dC5vbktleVByZXNzKGUpDQogICAgfQ0KDQovLyBBIG1vdXNlIGRvd24gY2FuIGJlIGEgc2luZ2xlIGNsaWNrLCBkb3VibGUgY2xpY2ssIHRyaXBsZSBjbGljaywNCi8vIHN0YXJ0IG9mIHNlbGVjdGlvbiBkcmFnLCBzdGFydCBvZiB0ZXh0IGRyYWcsIG5ldyBjdXJzb3INCi8vIChjdHJsLWNsaWNrKSwgcmVjdGFuZ2xlIGRyYWcgKGFsdC1kcmFnKSwgb3IgeHdpbg0KLy8gbWlkZGxlLWNsaWNrLXBhc3RlLiBPciBpdCBtaWdodCBiZSBhIGNsaWNrIG9uIHNvbWV0aGluZyB3ZSBzaG91bGQNCi8vIG5vdCBpbnRlcmZlcmUgd2l0aCwgc3VjaCBhcyBhIHNjcm9sbGJhciBvciB3aWRnZXQuDQogICAgZnVuY3Rpb24gb25Nb3VzZURvd24oZSkgew0KICAgICAgICB2YXIgY20gPSB0aGlzLCBkaXNwbGF5ID0gY20uZGlzcGxheQ0KICAgICAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGRpc3BsYXkuYWN0aXZlVG91Y2ggJiYgZGlzcGxheS5pbnB1dC5zdXBwb3J0c1RvdWNoKCkpIHsgcmV0dXJuIH0NCiAgICAgICAgZGlzcGxheS5zaGlmdCA9IGUuc2hpZnRLZXkNCg0KICAgICAgICBpZiAoZXZlbnRJbldpZGdldChkaXNwbGF5LCBlKSkgew0KICAgICAgICAgICAgaWYgKCF3ZWJraXQpIHsNCiAgICAgICAgICAgICAgICAvLyBCcmllZmx5IHR1cm4gb2ZmIGRyYWdnYWJpbGl0eSwgdG8gYWxsb3cgd2lkZ2V0cyB0byBkbw0KICAgICAgICAgICAgICAgIC8vIG5vcm1hbCBkcmFnZ2luZyB0aGluZ3MuDQogICAgICAgICAgICAgICAgZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSB0cnVlOyB9LCAxMDApDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgICBpZiAoY2xpY2tJbkd1dHRlcihjbSwgZSkpIHsgcmV0dXJuIH0NCiAgICAgICAgdmFyIHN0YXJ0ID0gcG9zRnJvbU1vdXNlKGNtLCBlKQ0KICAgICAgICB3aW5kb3cuZm9jdXMoKQ0KDQogICAgICAgIHN3aXRjaCAoZV9idXR0b24oZSkpIHsNCiAgICAgICAgICAgIGNhc2UgMToNCiAgICAgICAgICAgICAgICAvLyAjMzI2MTogbWFrZSBzdXJlLCB0aGF0IHdlJ3JlIG5vdCBzdGFydGluZyBhIHNlY29uZCBzZWxlY3Rpb24NCiAgICAgICAgICAgICAgICBpZiAoY20uc3RhdGUuc2VsZWN0aW5nVGV4dCkNCiAgICAgICAgICAgICAgICB7IGNtLnN0YXRlLnNlbGVjdGluZ1RleHQoZSkgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0KQ0KICAgICAgICAgICAgICAgIHsgbGVmdEJ1dHRvbkRvd24oY20sIGUsIHN0YXJ0KSB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoZV90YXJnZXQoZSkgPT0gZGlzcGxheS5zY3JvbGxlcikNCiAgICAgICAgICAgICAgICB7IGVfcHJldmVudERlZmF1bHQoZSkgfQ0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBjYXNlIDI6DQogICAgICAgICAgICAgICAgaWYgKHdlYmtpdCkgeyBjbS5zdGF0ZS5sYXN0TWlkZGxlRG93biA9ICtuZXcgRGF0ZSB9DQogICAgICAgICAgICAgICAgaWYgKHN0YXJ0KSB7IGV4dGVuZFNlbGVjdGlvbihjbS5kb2MsIHN0YXJ0KSB9DQogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBkaXNwbGF5LmlucHV0LmZvY3VzKCk7IH0sIDIwKQ0KICAgICAgICAgICAgICAgIGVfcHJldmVudERlZmF1bHQoZSkNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAzOg0KICAgICAgICAgICAgICAgIGlmIChjYXB0dXJlUmlnaHRDbGljaykgeyBvbkNvbnRleHRNZW51KGNtLCBlKSB9DQogICAgICAgICAgICAgICAgZWxzZSB7IGRlbGF5Qmx1ckV2ZW50KGNtKSB9DQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHZhciBsYXN0Q2xpY2s7DQogICAgdmFyIGxhc3REb3VibGVDbGljaw0KICAgIGZ1bmN0aW9uIGxlZnRCdXR0b25Eb3duKGNtLCBlLCBzdGFydCkgew0KICAgICAgICBpZiAoaWUpIHsgc2V0VGltZW91dChiaW5kKGVuc3VyZUZvY3VzLCBjbSksIDApIH0NCiAgICAgICAgZWxzZSB7IGNtLmN1ck9wLmZvY3VzID0gYWN0aXZlRWx0KCkgfQ0KDQogICAgICAgIHZhciBub3cgPSArbmV3IERhdGUsIHR5cGUNCiAgICAgICAgaWYgKGxhc3REb3VibGVDbGljayAmJiBsYXN0RG91YmxlQ2xpY2sudGltZSA+IG5vdyAtIDQwMCAmJiBjbXAobGFzdERvdWJsZUNsaWNrLnBvcywgc3RhcnQpID09IDApIHsNCiAgICAgICAgICAgIHR5cGUgPSAidHJpcGxlIg0KICAgICAgICB9IGVsc2UgaWYgKGxhc3RDbGljayAmJiBsYXN0Q2xpY2sudGltZSA+IG5vdyAtIDQwMCAmJiBjbXAobGFzdENsaWNrLnBvcywgc3RhcnQpID09IDApIHsNCiAgICAgICAgICAgIHR5cGUgPSAiZG91YmxlIg0KICAgICAgICAgICAgbGFzdERvdWJsZUNsaWNrID0ge3RpbWU6IG5vdywgcG9zOiBzdGFydH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHR5cGUgPSAic2luZ2xlIg0KICAgICAgICAgICAgbGFzdENsaWNrID0ge3RpbWU6IG5vdywgcG9zOiBzdGFydH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBzZWwgPSBjbS5kb2Muc2VsLCBtb2RpZmllciA9IG1hYyA/IGUubWV0YUtleSA6IGUuY3RybEtleSwgY29udGFpbmVkDQogICAgICAgIGlmIChjbS5vcHRpb25zLmRyYWdEcm9wICYmIGRyYWdBbmREcm9wICYmICFjbS5pc1JlYWRPbmx5KCkgJiYNCiAgICAgICAgICAgIHR5cGUgPT0gInNpbmdsZSIgJiYgKGNvbnRhaW5lZCA9IHNlbC5jb250YWlucyhzdGFydCkpID4gLTEgJiYNCiAgICAgICAgICAgIChjbXAoKGNvbnRhaW5lZCA9IHNlbC5yYW5nZXNbY29udGFpbmVkXSkuZnJvbSgpLCBzdGFydCkgPCAwIHx8IHN0YXJ0LnhSZWwgPiAwKSAmJg0KICAgICAgICAgICAgKGNtcChjb250YWluZWQudG8oKSwgc3RhcnQpID4gMCB8fCBzdGFydC54UmVsIDwgMCkpDQogICAgICAgIHsgbGVmdEJ1dHRvblN0YXJ0RHJhZyhjbSwgZSwgc3RhcnQsIG1vZGlmaWVyKSB9DQogICAgICAgIGVsc2UNCiAgICAgICAgeyBsZWZ0QnV0dG9uU2VsZWN0KGNtLCBlLCBzdGFydCwgdHlwZSwgbW9kaWZpZXIpIH0NCiAgICB9DQoNCi8vIFN0YXJ0IGEgdGV4dCBkcmFnLiBXaGVuIGl0IGVuZHMsIHNlZSBpZiBhbnkgZHJhZ2dpbmcgYWN0dWFsbHkNCi8vIGhhcHBlbiwgYW5kIHRyZWF0IGFzIGEgY2xpY2sgaWYgaXQgZGlkbid0Lg0KICAgIGZ1bmN0aW9uIGxlZnRCdXR0b25TdGFydERyYWcoY20sIGUsIHN0YXJ0LCBtb2RpZmllcikgew0KICAgICAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIHN0YXJ0VGltZSA9ICtuZXcgRGF0ZQ0KICAgICAgICB2YXIgZHJhZ0VuZCA9IG9wZXJhdGlvbihjbSwgZnVuY3Rpb24gKGUyKSB7DQogICAgICAgICAgICBpZiAod2Via2l0KSB7IGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gZmFsc2UgfQ0KICAgICAgICAgICAgY20uc3RhdGUuZHJhZ2dpbmdUZXh0ID0gZmFsc2UNCiAgICAgICAgICAgIG9mZihkb2N1bWVudCwgIm1vdXNldXAiLCBkcmFnRW5kKQ0KICAgICAgICAgICAgb2ZmKGRpc3BsYXkuc2Nyb2xsZXIsICJkcm9wIiwgZHJhZ0VuZCkNCiAgICAgICAgICAgIGlmIChNYXRoLmFicyhlLmNsaWVudFggLSBlMi5jbGllbnRYKSArIE1hdGguYWJzKGUuY2xpZW50WSAtIGUyLmNsaWVudFkpIDwgMTApIHsNCiAgICAgICAgICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUyKQ0KICAgICAgICAgICAgICAgIGlmICghbW9kaWZpZXIgJiYgK25ldyBEYXRlIC0gMjAwIDwgc3RhcnRUaW1lKQ0KICAgICAgICAgICAgICAgIHsgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgc3RhcnQpIH0NCiAgICAgICAgICAgICAgICAvLyBXb3JrIGFyb3VuZCB1bmV4cGxhaW5hYmxlIGZvY3VzIHByb2JsZW0gaW4gSUU5ICgjMjEyNykgYW5kIENocm9tZSAoIzMwODEpDQogICAgICAgICAgICAgICAgaWYgKHdlYmtpdCB8fCBpZSAmJiBpZV92ZXJzaW9uID09IDkpDQogICAgICAgICAgICAgICAgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtkb2N1bWVudC5ib2R5LmZvY3VzKCk7IGRpc3BsYXkuaW5wdXQuZm9jdXMoKX0sIDIwKSB9DQogICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHsgZGlzcGxheS5pbnB1dC5mb2N1cygpIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLy8gTGV0IHRoZSBkcmFnIGhhbmRsZXIgaGFuZGxlIHRoaXMuDQogICAgICAgIGlmICh3ZWJraXQpIHsgZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSB0cnVlIH0NCiAgICAgICAgY20uc3RhdGUuZHJhZ2dpbmdUZXh0ID0gZHJhZ0VuZA0KICAgICAgICBkcmFnRW5kLmNvcHkgPSBtYWMgPyBlLmFsdEtleSA6IGUuY3RybEtleQ0KICAgICAgICAvLyBJRSdzIGFwcHJvYWNoIHRvIGRyYWdnYWJsZQ0KICAgICAgICBpZiAoZGlzcGxheS5zY3JvbGxlci5kcmFnRHJvcCkgeyBkaXNwbGF5LnNjcm9sbGVyLmRyYWdEcm9wKCkgfQ0KICAgICAgICBvbihkb2N1bWVudCwgIm1vdXNldXAiLCBkcmFnRW5kKQ0KICAgICAgICBvbihkaXNwbGF5LnNjcm9sbGVyLCAiZHJvcCIsIGRyYWdFbmQpDQogICAgfQ0KDQovLyBOb3JtYWwgc2VsZWN0aW9uLCBhcyBvcHBvc2VkIHRvIHRleHQgZHJhZ2dpbmcuDQogICAgZnVuY3Rpb24gbGVmdEJ1dHRvblNlbGVjdChjbSwgZSwgc3RhcnQsIHR5cGUsIGFkZE5ldykgew0KICAgICAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYw0KICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUpDQoNCiAgICAgICAgdmFyIG91clJhbmdlLCBvdXJJbmRleCwgc3RhcnRTZWwgPSBkb2Muc2VsLCByYW5nZXMgPSBzdGFydFNlbC5yYW5nZXMNCiAgICAgICAgaWYgKGFkZE5ldyAmJiAhZS5zaGlmdEtleSkgew0KICAgICAgICAgICAgb3VySW5kZXggPSBkb2Muc2VsLmNvbnRhaW5zKHN0YXJ0KQ0KICAgICAgICAgICAgaWYgKG91ckluZGV4ID4gLTEpDQogICAgICAgICAgICB7IG91clJhbmdlID0gcmFuZ2VzW291ckluZGV4XSB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICB7IG91clJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0LCBzdGFydCkgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgb3VyUmFuZ2UgPSBkb2Muc2VsLnByaW1hcnkoKQ0KICAgICAgICAgICAgb3VySW5kZXggPSBkb2Muc2VsLnByaW1JbmRleA0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGNocm9tZU9TID8gZS5zaGlmdEtleSAmJiBlLm1ldGFLZXkgOiBlLmFsdEtleSkgew0KICAgICAgICAgICAgdHlwZSA9ICJyZWN0Ig0KICAgICAgICAgICAgaWYgKCFhZGROZXcpIHsgb3VyUmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIHN0YXJ0KSB9DQogICAgICAgICAgICBzdGFydCA9IHBvc0Zyb21Nb3VzZShjbSwgZSwgdHJ1ZSwgdHJ1ZSkNCiAgICAgICAgICAgIG91ckluZGV4ID0gLTENCiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJkb3VibGUiKSB7DQogICAgICAgICAgICB2YXIgd29yZCA9IGNtLmZpbmRXb3JkQXQoc3RhcnQpDQogICAgICAgICAgICBpZiAoY20uZGlzcGxheS5zaGlmdCB8fCBkb2MuZXh0ZW5kKQ0KICAgICAgICAgICAgeyBvdXJSYW5nZSA9IGV4dGVuZFJhbmdlKGRvYywgb3VyUmFuZ2UsIHdvcmQuYW5jaG9yLCB3b3JkLmhlYWQpIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsgb3VyUmFuZ2UgPSB3b3JkIH0NCiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJ0cmlwbGUiKSB7DQogICAgICAgICAgICB2YXIgbGluZSA9IG5ldyBSYW5nZShQb3Moc3RhcnQubGluZSwgMCksIGNsaXBQb3MoZG9jLCBQb3Moc3RhcnQubGluZSArIDEsIDApKSkNCiAgICAgICAgICAgIGlmIChjbS5kaXNwbGF5LnNoaWZ0IHx8IGRvYy5leHRlbmQpDQogICAgICAgICAgICB7IG91clJhbmdlID0gZXh0ZW5kUmFuZ2UoZG9jLCBvdXJSYW5nZSwgbGluZS5hbmNob3IsIGxpbmUuaGVhZCkgfQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgeyBvdXJSYW5nZSA9IGxpbmUgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgb3VyUmFuZ2UgPSBleHRlbmRSYW5nZShkb2MsIG91clJhbmdlLCBzdGFydCkNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICghYWRkTmV3KSB7DQogICAgICAgICAgICBvdXJJbmRleCA9IDANCiAgICAgICAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5ldyBTZWxlY3Rpb24oW291clJhbmdlXSwgMCksIHNlbF9tb3VzZSkNCiAgICAgICAgICAgIHN0YXJ0U2VsID0gZG9jLnNlbA0KICAgICAgICB9IGVsc2UgaWYgKG91ckluZGV4ID09IC0xKSB7DQogICAgICAgICAgICBvdXJJbmRleCA9IHJhbmdlcy5sZW5ndGgNCiAgICAgICAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5vcm1hbGl6ZVNlbGVjdGlvbihyYW5nZXMuY29uY2F0KFtvdXJSYW5nZV0pLCBvdXJJbmRleCksDQogICAgICAgICAgICAgICAge3Njcm9sbDogZmFsc2UsIG9yaWdpbjogIiptb3VzZSJ9KQ0KICAgICAgICB9IGVsc2UgaWYgKHJhbmdlcy5sZW5ndGggPiAxICYmIHJhbmdlc1tvdXJJbmRleF0uZW1wdHkoKSAmJiB0eXBlID09ICJzaW5nbGUiICYmICFlLnNoaWZ0S2V5KSB7DQogICAgICAgICAgICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLnNsaWNlKDAsIG91ckluZGV4KS5jb25jYXQocmFuZ2VzLnNsaWNlKG91ckluZGV4ICsgMSkpLCAwKSwNCiAgICAgICAgICAgICAgICB7c2Nyb2xsOiBmYWxzZSwgb3JpZ2luOiAiKm1vdXNlIn0pDQogICAgICAgICAgICBzdGFydFNlbCA9IGRvYy5zZWwNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJlcGxhY2VPbmVTZWxlY3Rpb24oZG9jLCBvdXJJbmRleCwgb3VyUmFuZ2UsIHNlbF9tb3VzZSkNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBsYXN0UG9zID0gc3RhcnQNCiAgICAgICAgZnVuY3Rpb24gZXh0ZW5kVG8ocG9zKSB7DQogICAgICAgICAgICBpZiAoY21wKGxhc3RQb3MsIHBvcykgPT0gMCkgeyByZXR1cm4gfQ0KICAgICAgICAgICAgbGFzdFBvcyA9IHBvcw0KDQogICAgICAgICAgICBpZiAodHlwZSA9PSAicmVjdCIpIHsNCiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VzID0gW10sIHRhYlNpemUgPSBjbS5vcHRpb25zLnRhYlNpemUNCiAgICAgICAgICAgICAgICB2YXIgc3RhcnRDb2wgPSBjb3VudENvbHVtbihnZXRMaW5lKGRvYywgc3RhcnQubGluZSkudGV4dCwgc3RhcnQuY2gsIHRhYlNpemUpDQogICAgICAgICAgICAgICAgdmFyIHBvc0NvbCA9IGNvdW50Q29sdW1uKGdldExpbmUoZG9jLCBwb3MubGluZSkudGV4dCwgcG9zLmNoLCB0YWJTaXplKQ0KICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gTWF0aC5taW4oc3RhcnRDb2wsIHBvc0NvbCksIHJpZ2h0ID0gTWF0aC5tYXgoc3RhcnRDb2wsIHBvc0NvbCkNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBsaW5lID0gTWF0aC5taW4oc3RhcnQubGluZSwgcG9zLmxpbmUpLCBlbmQgPSBNYXRoLm1pbihjbS5sYXN0TGluZSgpLCBNYXRoLm1heChzdGFydC5saW5lLCBwb3MubGluZSkpOw0KICAgICAgICAgICAgICAgICAgICAgbGluZSA8PSBlbmQ7IGxpbmUrKykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGdldExpbmUoZG9jLCBsaW5lKS50ZXh0LCBsZWZ0UG9zID0gZmluZENvbHVtbih0ZXh0LCBsZWZ0LCB0YWJTaXplKQ0KICAgICAgICAgICAgICAgICAgICBpZiAobGVmdCA9PSByaWdodCkNCiAgICAgICAgICAgICAgICAgICAgeyByYW5nZXMucHVzaChuZXcgUmFuZ2UoUG9zKGxpbmUsIGxlZnRQb3MpLCBQb3MobGluZSwgbGVmdFBvcykpKSB9DQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQubGVuZ3RoID4gbGVmdFBvcykNCiAgICAgICAgICAgICAgICAgICAgeyByYW5nZXMucHVzaChuZXcgUmFuZ2UoUG9zKGxpbmUsIGxlZnRQb3MpLCBQb3MobGluZSwgZmluZENvbHVtbih0ZXh0LCByaWdodCwgdGFiU2l6ZSkpKSkgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpIHsgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKHN0YXJ0LCBzdGFydCkpIH0NCiAgICAgICAgICAgICAgICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24oc3RhcnRTZWwucmFuZ2VzLnNsaWNlKDAsIG91ckluZGV4KS5jb25jYXQocmFuZ2VzKSwgb3VySW5kZXgpLA0KICAgICAgICAgICAgICAgICAgICB7b3JpZ2luOiAiKm1vdXNlIiwgc2Nyb2xsOiBmYWxzZX0pDQogICAgICAgICAgICAgICAgY20uc2Nyb2xsSW50b1ZpZXcocG9zKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB2YXIgb2xkUmFuZ2UgPSBvdXJSYW5nZQ0KICAgICAgICAgICAgICAgIHZhciBhbmNob3IgPSBvbGRSYW5nZS5hbmNob3IsIGhlYWQgPSBwb3MNCiAgICAgICAgICAgICAgICBpZiAodHlwZSAhPSAic2luZ2xlIikgew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UkJDENCiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gImRvdWJsZSIpDQogICAgICAgICAgICAgICAgICAgIHsgcmFuZ2UkJDEgPSBjbS5maW5kV29yZEF0KHBvcykgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIHsgcmFuZ2UkJDEgPSBuZXcgUmFuZ2UoUG9zKHBvcy5saW5lLCAwKSwgY2xpcFBvcyhkb2MsIFBvcyhwb3MubGluZSArIDEsIDApKSkgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoY21wKHJhbmdlJCQxLmFuY2hvciwgYW5jaG9yKSA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWQgPSByYW5nZSQkMS5oZWFkDQogICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBtaW5Qb3Mob2xkUmFuZ2UuZnJvbSgpLCByYW5nZSQkMS5hbmNob3IpDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBoZWFkID0gcmFuZ2UkJDEuYW5jaG9yDQogICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBtYXhQb3Mob2xkUmFuZ2UudG8oKSwgcmFuZ2UkJDEuaGVhZCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VzJDEgPSBzdGFydFNlbC5yYW5nZXMuc2xpY2UoMCkNCiAgICAgICAgICAgICAgICByYW5nZXMkMVtvdXJJbmRleF0gPSBuZXcgUmFuZ2UoY2xpcFBvcyhkb2MsIGFuY2hvciksIGhlYWQpDQogICAgICAgICAgICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKHJhbmdlcyQxLCBvdXJJbmRleCksIHNlbF9tb3VzZSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBlZGl0b3JTaXplID0gZGlzcGxheS53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpDQogICAgICAgIC8vIFVzZWQgdG8gZW5zdXJlIHRpbWVvdXQgcmUtdHJpZXMgZG9uJ3QgZmlyZSB3aGVuIGFub3RoZXIgZXh0ZW5kDQogICAgICAgIC8vIGhhcHBlbmVkIGluIHRoZSBtZWFudGltZSAoY2xlYXJUaW1lb3V0IGlzbid0IHJlbGlhYmxlIC0tIGF0DQogICAgICAgIC8vIGxlYXN0IG9uIENocm9tZSwgdGhlIHRpbWVvdXRzIHN0aWxsIGhhcHBlbiBldmVuIHdoZW4gY2xlYXJlZCwNCiAgICAgICAgLy8gaWYgdGhlIGNsZWFyIGhhcHBlbnMgYWZ0ZXIgdGhlaXIgc2NoZWR1bGVkIGZpcmluZyB0aW1lKS4NCiAgICAgICAgdmFyIGNvdW50ZXIgPSAwDQoNCiAgICAgICAgZnVuY3Rpb24gZXh0ZW5kKGUpIHsNCiAgICAgICAgICAgIHZhciBjdXJDb3VudCA9ICsrY291bnRlcg0KICAgICAgICAgICAgdmFyIGN1ciA9IHBvc0Zyb21Nb3VzZShjbSwgZSwgdHJ1ZSwgdHlwZSA9PSAicmVjdCIpDQogICAgICAgICAgICBpZiAoIWN1cikgeyByZXR1cm4gfQ0KICAgICAgICAgICAgaWYgKGNtcChjdXIsIGxhc3RQb3MpICE9IDApIHsNCiAgICAgICAgICAgICAgICBjbS5jdXJPcC5mb2N1cyA9IGFjdGl2ZUVsdCgpDQogICAgICAgICAgICAgICAgZXh0ZW5kVG8oY3VyKQ0KICAgICAgICAgICAgICAgIHZhciB2aXNpYmxlID0gdmlzaWJsZUxpbmVzKGRpc3BsYXksIGRvYykNCiAgICAgICAgICAgICAgICBpZiAoY3VyLmxpbmUgPj0gdmlzaWJsZS50byB8fCBjdXIubGluZSA8IHZpc2libGUuZnJvbSkNCiAgICAgICAgICAgICAgICB7IHNldFRpbWVvdXQob3BlcmF0aW9uKGNtLCBmdW5jdGlvbiAoKSB7aWYgKGNvdW50ZXIgPT0gY3VyQ291bnQpIHsgZXh0ZW5kKGUpIH19KSwgMTUwKSB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHZhciBvdXRzaWRlID0gZS5jbGllbnRZIDwgZWRpdG9yU2l6ZS50b3AgPyAtMjAgOiBlLmNsaWVudFkgPiBlZGl0b3JTaXplLmJvdHRvbSA/IDIwIDogMA0KICAgICAgICAgICAgICAgIGlmIChvdXRzaWRlKSB7IHNldFRpbWVvdXQob3BlcmF0aW9uKGNtLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyICE9IGN1ckNvdW50KSB7IHJldHVybiB9DQogICAgICAgICAgICAgICAgICAgIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wICs9IG91dHNpZGUNCiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKGUpDQogICAgICAgICAgICAgICAgfSksIDUwKSB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBkb25lKGUpIHsNCiAgICAgICAgICAgIGNtLnN0YXRlLnNlbGVjdGluZ1RleHQgPSBmYWxzZQ0KICAgICAgICAgICAgY291bnRlciA9IEluZmluaXR5DQogICAgICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUpDQogICAgICAgICAgICBkaXNwbGF5LmlucHV0LmZvY3VzKCkNCiAgICAgICAgICAgIG9mZihkb2N1bWVudCwgIm1vdXNlbW92ZSIsIG1vdmUpDQogICAgICAgICAgICBvZmYoZG9jdW1lbnQsICJtb3VzZXVwIiwgdXApDQogICAgICAgICAgICBkb2MuaGlzdG9yeS5sYXN0U2VsT3JpZ2luID0gbnVsbA0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG1vdmUgPSBvcGVyYXRpb24oY20sIGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICBpZiAoIWVfYnV0dG9uKGUpKSB7IGRvbmUoZSkgfQ0KICAgICAgICAgICAgZWxzZSB7IGV4dGVuZChlKSB9DQogICAgICAgIH0pDQogICAgICAgIHZhciB1cCA9IG9wZXJhdGlvbihjbSwgZG9uZSkNCiAgICAgICAgY20uc3RhdGUuc2VsZWN0aW5nVGV4dCA9IHVwDQogICAgICAgIG9uKGRvY3VtZW50LCAibW91c2Vtb3ZlIiwgbW92ZSkNCiAgICAgICAgb24oZG9jdW1lbnQsICJtb3VzZXVwIiwgdXApDQogICAgfQ0KDQoNCi8vIERldGVybWluZXMgd2hldGhlciBhbiBldmVudCBoYXBwZW5lZCBpbiB0aGUgZ3V0dGVyLCBhbmQgZmlyZXMgdGhlDQovLyBoYW5kbGVycyBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgZXZlbnQuDQogICAgZnVuY3Rpb24gZ3V0dGVyRXZlbnQoY20sIGUsIHR5cGUsIHByZXZlbnQpIHsNCiAgICAgICAgdmFyIG1YLCBtWQ0KICAgICAgICB0cnkgeyBtWCA9IGUuY2xpZW50WDsgbVkgPSBlLmNsaWVudFkgfQ0KICAgICAgICBjYXRjaChlKSB7IHJldHVybiBmYWxzZSB9DQogICAgICAgIGlmIChtWCA+PSBNYXRoLmZsb29yKGNtLmRpc3BsYXkuZ3V0dGVycy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCkpIHsgcmV0dXJuIGZhbHNlIH0NCiAgICAgICAgaWYgKHByZXZlbnQpIHsgZV9wcmV2ZW50RGVmYXVsdChlKSB9DQoNCiAgICAgICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5DQogICAgICAgIHZhciBsaW5lQm94ID0gZGlzcGxheS5saW5lRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpDQoNCiAgICAgICAgaWYgKG1ZID4gbGluZUJveC5ib3R0b20gfHwgIWhhc0hhbmRsZXIoY20sIHR5cGUpKSB7IHJldHVybiBlX2RlZmF1bHRQcmV2ZW50ZWQoZSkgfQ0KICAgICAgICBtWSAtPSBsaW5lQm94LnRvcCAtIGRpc3BsYXkudmlld09mZnNldA0KDQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY20ub3B0aW9ucy5ndXR0ZXJzLmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICB2YXIgZyA9IGRpc3BsYXkuZ3V0dGVycy5jaGlsZE5vZGVzW2ldDQogICAgICAgICAgICBpZiAoZyAmJiBnLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0ID49IG1YKSB7DQogICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBsaW5lQXRIZWlnaHQoY20uZG9jLCBtWSkNCiAgICAgICAgICAgICAgICB2YXIgZ3V0dGVyID0gY20ub3B0aW9ucy5ndXR0ZXJzW2ldDQogICAgICAgICAgICAgICAgc2lnbmFsKGNtLCB0eXBlLCBjbSwgbGluZSwgZ3V0dGVyLCBlKQ0KICAgICAgICAgICAgICAgIHJldHVybiBlX2RlZmF1bHRQcmV2ZW50ZWQoZSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNsaWNrSW5HdXR0ZXIoY20sIGUpIHsNCiAgICAgICAgcmV0dXJuIGd1dHRlckV2ZW50KGNtLCBlLCAiZ3V0dGVyQ2xpY2siLCB0cnVlKQ0KICAgIH0NCg0KLy8gQ09OVEVYVCBNRU5VIEhBTkRMSU5HDQoNCi8vIFRvIG1ha2UgdGhlIGNvbnRleHQgbWVudSB3b3JrLCB3ZSBuZWVkIHRvIGJyaWVmbHkgdW5oaWRlIHRoZQ0KLy8gdGV4dGFyZWEgKG1ha2luZyBpdCBhcyB1bm9idHJ1c2l2ZSBhcyBwb3NzaWJsZSkgdG8gbGV0IHRoZQ0KLy8gcmlnaHQtY2xpY2sgdGFrZSBlZmZlY3Qgb24gaXQuDQogICAgZnVuY3Rpb24gb25Db250ZXh0TWVudShjbSwgZSkgew0KICAgICAgICBpZiAoZXZlbnRJbldpZGdldChjbS5kaXNwbGF5LCBlKSB8fCBjb250ZXh0TWVudUluR3V0dGVyKGNtLCBlKSkgeyByZXR1cm4gfQ0KICAgICAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUsICJjb250ZXh0bWVudSIpKSB7IHJldHVybiB9DQogICAgICAgIGNtLmRpc3BsYXkuaW5wdXQub25Db250ZXh0TWVudShlKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNvbnRleHRNZW51SW5HdXR0ZXIoY20sIGUpIHsNCiAgICAgICAgaWYgKCFoYXNIYW5kbGVyKGNtLCAiZ3V0dGVyQ29udGV4dE1lbnUiKSkgeyByZXR1cm4gZmFsc2UgfQ0KICAgICAgICByZXR1cm4gZ3V0dGVyRXZlbnQoY20sIGUsICJndXR0ZXJDb250ZXh0TWVudSIsIGZhbHNlKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRoZW1lQ2hhbmdlZChjbSkgew0KICAgICAgICBjbS5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lID0gY20uZGlzcGxheS53cmFwcGVyLmNsYXNzTmFtZS5yZXBsYWNlKC9ccypjbS1zLVxTKy9nLCAiIikgKw0KICAgICAgICAgICAgY20ub3B0aW9ucy50aGVtZS5yZXBsYWNlKC8oXnxccylccyovZywgIiBjbS1zLSIpDQogICAgICAgIGNsZWFyQ2FjaGVzKGNtKQ0KICAgIH0NCg0KICAgIHZhciBJbml0ID0ge3RvU3RyaW5nOiBmdW5jdGlvbigpe3JldHVybiAiQ29kZU1pcnJvci5Jbml0In19DQoNCiAgICB2YXIgZGVmYXVsdHMgPSB7fQ0KICAgIHZhciBvcHRpb25IYW5kbGVycyA9IHt9DQoNCiAgICBmdW5jdGlvbiBkZWZpbmVPcHRpb25zKENvZGVNaXJyb3IpIHsNCiAgICAgICAgdmFyIG9wdGlvbkhhbmRsZXJzID0gQ29kZU1pcnJvci5vcHRpb25IYW5kbGVycw0KDQogICAgICAgIGZ1bmN0aW9uIG9wdGlvbihuYW1lLCBkZWZsdCwgaGFuZGxlLCBub3RPbkluaXQpIHsNCiAgICAgICAgICAgIENvZGVNaXJyb3IuZGVmYXVsdHNbbmFtZV0gPSBkZWZsdA0KICAgICAgICAgICAgaWYgKGhhbmRsZSkgeyBvcHRpb25IYW5kbGVyc1tuYW1lXSA9DQogICAgICAgICAgICAgICAgbm90T25Jbml0ID8gZnVuY3Rpb24gKGNtLCB2YWwsIG9sZCkge2lmIChvbGQgIT0gSW5pdCkgeyBoYW5kbGUoY20sIHZhbCwgb2xkKSB9fSA6IGhhbmRsZSB9DQogICAgICAgIH0NCg0KICAgICAgICBDb2RlTWlycm9yLmRlZmluZU9wdGlvbiA9IG9wdGlvbg0KDQogICAgICAgIC8vIFBhc3NlZCB0byBvcHRpb24gaGFuZGxlcnMgd2hlbiB0aGVyZSBpcyBubyBvbGQgdmFsdWUuDQogICAgICAgIENvZGVNaXJyb3IuSW5pdCA9IEluaXQNCg0KICAgICAgICAvLyBUaGVzZSB0d28gYXJlLCBvbiBpbml0LCBjYWxsZWQgZnJvbSB0aGUgY29uc3RydWN0b3IgYmVjYXVzZSB0aGV5DQogICAgICAgIC8vIGhhdmUgdG8gYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIHRoZSBlZGl0b3IgY2FuIHN0YXJ0IGF0IGFsbC4NCiAgICAgICAgb3B0aW9uKCJ2YWx1ZSIsICIiLCBmdW5jdGlvbiAoY20sIHZhbCkgeyByZXR1cm4gY20uc2V0VmFsdWUodmFsKTsgfSwgdHJ1ZSkNCiAgICAgICAgb3B0aW9uKCJtb2RlIiwgbnVsbCwgZnVuY3Rpb24gKGNtLCB2YWwpIHsNCiAgICAgICAgICAgIGNtLmRvYy5tb2RlT3B0aW9uID0gdmFsDQogICAgICAgICAgICBsb2FkTW9kZShjbSkNCiAgICAgICAgfSwgdHJ1ZSkNCg0KICAgICAgICBvcHRpb24oImluZGVudFVuaXQiLCAyLCBsb2FkTW9kZSwgdHJ1ZSkNCiAgICAgICAgb3B0aW9uKCJpbmRlbnRXaXRoVGFicyIsIGZhbHNlKQ0KICAgICAgICBvcHRpb24oInNtYXJ0SW5kZW50IiwgdHJ1ZSkNCiAgICAgICAgb3B0aW9uKCJ0YWJTaXplIiwgNCwgZnVuY3Rpb24gKGNtKSB7DQogICAgICAgICAgICByZXNldE1vZGVTdGF0ZShjbSkNCiAgICAgICAgICAgIGNsZWFyQ2FjaGVzKGNtKQ0KICAgICAgICAgICAgcmVnQ2hhbmdlKGNtKQ0KICAgICAgICB9LCB0cnVlKQ0KICAgICAgICBvcHRpb24oImxpbmVTZXBhcmF0b3IiLCBudWxsLCBmdW5jdGlvbiAoY20sIHZhbCkgew0KICAgICAgICAgICAgY20uZG9jLmxpbmVTZXAgPSB2YWwNCiAgICAgICAgICAgIGlmICghdmFsKSB7IHJldHVybiB9DQogICAgICAgICAgICB2YXIgbmV3QnJlYWtzID0gW10sIGxpbmVObyA9IGNtLmRvYy5maXJzdA0KICAgICAgICAgICAgY20uZG9jLml0ZXIoZnVuY3Rpb24gKGxpbmUpIHsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBwb3MgPSAwOzspIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gbGluZS50ZXh0LmluZGV4T2YodmFsLCBwb3MpDQogICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCA9PSAtMSkgeyBicmVhayB9DQogICAgICAgICAgICAgICAgICAgIHBvcyA9IGZvdW5kICsgdmFsLmxlbmd0aA0KICAgICAgICAgICAgICAgICAgICBuZXdCcmVha3MucHVzaChQb3MobGluZU5vLCBmb3VuZCkpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGxpbmVObysrDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IG5ld0JyZWFrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkNCiAgICAgICAgICAgIHsgcmVwbGFjZVJhbmdlKGNtLmRvYywgdmFsLCBuZXdCcmVha3NbaV0sIFBvcyhuZXdCcmVha3NbaV0ubGluZSwgbmV3QnJlYWtzW2ldLmNoICsgdmFsLmxlbmd0aCkpIH0NCiAgICAgICAgfSkNCiAgICAgICAgb3B0aW9uKCJzcGVjaWFsQ2hhcnMiLCAvW1x1MDAwMC1cdTAwMWZcdTAwN2ZcdTAwYWRcdTIwMGItXHUyMDBmXHUyMDI4XHUyMDI5XHVmZWZmXS9nLCBmdW5jdGlvbiAoY20sIHZhbCwgb2xkKSB7DQogICAgICAgICAgICBjbS5zdGF0ZS5zcGVjaWFsQ2hhcnMgPSBuZXcgUmVnRXhwKHZhbC5zb3VyY2UgKyAodmFsLnRlc3QoIlx0IikgPyAiIiA6ICJ8XHQiKSwgImciKQ0KICAgICAgICAgICAgaWYgKG9sZCAhPSBJbml0KSB7IGNtLnJlZnJlc2goKSB9DQogICAgICAgIH0pDQogICAgICAgIG9wdGlvbigic3BlY2lhbENoYXJQbGFjZWhvbGRlciIsIGRlZmF1bHRTcGVjaWFsQ2hhclBsYWNlaG9sZGVyLCBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnJlZnJlc2goKTsgfSwgdHJ1ZSkNCiAgICAgICAgb3B0aW9uKCJlbGVjdHJpY0NoYXJzIiwgdHJ1ZSkNCiAgICAgICAgb3B0aW9uKCJpbnB1dFN0eWxlIiwgbW9iaWxlID8gImNvbnRlbnRlZGl0YWJsZSIgOiAidGV4dGFyZWEiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoImlucHV0U3R5bGUgY2FuIG5vdCAoeWV0KSBiZSBjaGFuZ2VkIGluIGEgcnVubmluZyBlZGl0b3IiKSAvLyBGSVhNRQ0KICAgICAgICB9LCB0cnVlKQ0KICAgICAgICBvcHRpb24oInNwZWxsY2hlY2siLCBmYWxzZSwgZnVuY3Rpb24gKGNtLCB2YWwpIHsgcmV0dXJuIGNtLmdldElucHV0RmllbGQoKS5zcGVsbGNoZWNrID0gdmFsOyB9LCB0cnVlKQ0KICAgICAgICBvcHRpb24oInJ0bE1vdmVWaXN1YWxseSIsICF3aW5kb3dzKQ0KICAgICAgICBvcHRpb24oIndob2xlTGluZVVwZGF0ZUJlZm9yZSIsIHRydWUpDQoNCiAgICAgICAgb3B0aW9uKCJ0aGVtZSIsICJkZWZhdWx0IiwgZnVuY3Rpb24gKGNtKSB7DQogICAgICAgICAgICB0aGVtZUNoYW5nZWQoY20pDQogICAgICAgICAgICBndXR0ZXJzQ2hhbmdlZChjbSkNCiAgICAgICAgfSwgdHJ1ZSkNCiAgICAgICAgb3B0aW9uKCJrZXlNYXAiLCAiZGVmYXVsdCIsIGZ1bmN0aW9uIChjbSwgdmFsLCBvbGQpIHsNCiAgICAgICAgICAgIHZhciBuZXh0ID0gZ2V0S2V5TWFwKHZhbCkNCiAgICAgICAgICAgIHZhciBwcmV2ID0gb2xkICE9IEluaXQgJiYgZ2V0S2V5TWFwKG9sZCkNCiAgICAgICAgICAgIGlmIChwcmV2ICYmIHByZXYuZGV0YWNoKSB7IHByZXYuZGV0YWNoKGNtLCBuZXh0KSB9DQogICAgICAgICAgICBpZiAobmV4dC5hdHRhY2gpIHsgbmV4dC5hdHRhY2goY20sIHByZXYgfHwgbnVsbCkgfQ0KICAgICAgICB9KQ0KICAgICAgICBvcHRpb24oImV4dHJhS2V5cyIsIG51bGwpDQoNCiAgICAgICAgb3B0aW9uKCJsaW5lV3JhcHBpbmciLCBmYWxzZSwgd3JhcHBpbmdDaGFuZ2VkLCB0cnVlKQ0KICAgICAgICBvcHRpb24oImd1dHRlcnMiLCBbXSwgZnVuY3Rpb24gKGNtKSB7DQogICAgICAgICAgICBzZXRHdXR0ZXJzRm9yTGluZU51bWJlcnMoY20ub3B0aW9ucykNCiAgICAgICAgICAgIGd1dHRlcnNDaGFuZ2VkKGNtKQ0KICAgICAgICB9LCB0cnVlKQ0KICAgICAgICBvcHRpb24oImZpeGVkR3V0dGVyIiwgdHJ1ZSwgZnVuY3Rpb24gKGNtLCB2YWwpIHsNCiAgICAgICAgICAgIGNtLmRpc3BsYXkuZ3V0dGVycy5zdHlsZS5sZWZ0ID0gdmFsID8gY29tcGVuc2F0ZUZvckhTY3JvbGwoY20uZGlzcGxheSkgKyAicHgiIDogIjAiDQogICAgICAgICAgICBjbS5yZWZyZXNoKCkNCiAgICAgICAgfSwgdHJ1ZSkNCiAgICAgICAgb3B0aW9uKCJjb3Zlckd1dHRlck5leHRUb1Njcm9sbGJhciIsIGZhbHNlLCBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIHVwZGF0ZVNjcm9sbGJhcnMoY20pOyB9LCB0cnVlKQ0KICAgICAgICBvcHRpb24oInNjcm9sbGJhclN0eWxlIiwgIm5hdGl2ZSIsIGZ1bmN0aW9uIChjbSkgew0KICAgICAgICAgICAgaW5pdFNjcm9sbGJhcnMoY20pDQogICAgICAgICAgICB1cGRhdGVTY3JvbGxiYXJzKGNtKQ0KICAgICAgICAgICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcChjbS5kb2Muc2Nyb2xsVG9wKQ0KICAgICAgICAgICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbExlZnQoY20uZG9jLnNjcm9sbExlZnQpDQogICAgICAgIH0sIHRydWUpDQogICAgICAgIG9wdGlvbigibGluZU51bWJlcnMiLCBmYWxzZSwgZnVuY3Rpb24gKGNtKSB7DQogICAgICAgICAgICBzZXRHdXR0ZXJzRm9yTGluZU51bWJlcnMoY20ub3B0aW9ucykNCiAgICAgICAgICAgIGd1dHRlcnNDaGFuZ2VkKGNtKQ0KICAgICAgICB9LCB0cnVlKQ0KICAgICAgICBvcHRpb24oImZpcnN0TGluZU51bWJlciIsIDEsIGd1dHRlcnNDaGFuZ2VkLCB0cnVlKQ0KICAgICAgICBvcHRpb24oImxpbmVOdW1iZXJGb3JtYXR0ZXIiLCBmdW5jdGlvbiAoaW50ZWdlcikgeyByZXR1cm4gaW50ZWdlcjsgfSwgZ3V0dGVyc0NoYW5nZWQsIHRydWUpDQogICAgICAgIG9wdGlvbigic2hvd0N1cnNvcldoZW5TZWxlY3RpbmciLCBmYWxzZSwgdXBkYXRlU2VsZWN0aW9uLCB0cnVlKQ0KDQogICAgICAgIG9wdGlvbigicmVzZXRTZWxlY3Rpb25PbkNvbnRleHRNZW51IiwgdHJ1ZSkNCiAgICAgICAgb3B0aW9uKCJsaW5lV2lzZUNvcHlDdXQiLCB0cnVlKQ0KDQogICAgICAgIG9wdGlvbigicmVhZE9ubHkiLCBmYWxzZSwgZnVuY3Rpb24gKGNtLCB2YWwpIHsNCiAgICAgICAgICAgIGlmICh2YWwgPT0gIm5vY3Vyc29yIikgew0KICAgICAgICAgICAgICAgIG9uQmx1cihjbSkNCiAgICAgICAgICAgICAgICBjbS5kaXNwbGF5LmlucHV0LmJsdXIoKQ0KICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkuZGlzYWJsZWQgPSB0cnVlDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkuZGlzYWJsZWQgPSBmYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY20uZGlzcGxheS5pbnB1dC5yZWFkT25seUNoYW5nZWQodmFsKQ0KICAgICAgICB9KQ0KICAgICAgICBvcHRpb24oImRpc2FibGVJbnB1dCIsIGZhbHNlLCBmdW5jdGlvbiAoY20sIHZhbCkge2lmICghdmFsKSB7IGNtLmRpc3BsYXkuaW5wdXQucmVzZXQoKSB9fSwgdHJ1ZSkNCiAgICAgICAgb3B0aW9uKCJkcmFnRHJvcCIsIHRydWUsIGRyYWdEcm9wQ2hhbmdlZCkNCiAgICAgICAgb3B0aW9uKCJhbGxvd0Ryb3BGaWxlVHlwZXMiLCBudWxsKQ0KDQogICAgICAgIG9wdGlvbigiY3Vyc29yQmxpbmtSYXRlIiwgNTMwKQ0KICAgICAgICBvcHRpb24oImN1cnNvclNjcm9sbE1hcmdpbiIsIDApDQogICAgICAgIG9wdGlvbigiY3Vyc29ySGVpZ2h0IiwgMSwgdXBkYXRlU2VsZWN0aW9uLCB0cnVlKQ0KICAgICAgICBvcHRpb24oInNpbmdsZUN1cnNvckhlaWdodFBlckxpbmUiLCB0cnVlLCB1cGRhdGVTZWxlY3Rpb24sIHRydWUpDQogICAgICAgIG9wdGlvbigid29ya1RpbWUiLCAxMDApDQogICAgICAgIG9wdGlvbigid29ya0RlbGF5IiwgMTAwKQ0KICAgICAgICBvcHRpb24oImZsYXR0ZW5TcGFucyIsIHRydWUsIHJlc2V0TW9kZVN0YXRlLCB0cnVlKQ0KICAgICAgICBvcHRpb24oImFkZE1vZGVDbGFzcyIsIGZhbHNlLCByZXNldE1vZGVTdGF0ZSwgdHJ1ZSkNCiAgICAgICAgb3B0aW9uKCJwb2xsSW50ZXJ2YWwiLCAxMDApDQogICAgICAgIG9wdGlvbigidW5kb0RlcHRoIiwgMjAwLCBmdW5jdGlvbiAoY20sIHZhbCkgeyByZXR1cm4gY20uZG9jLmhpc3RvcnkudW5kb0RlcHRoID0gdmFsOyB9KQ0KICAgICAgICBvcHRpb24oImhpc3RvcnlFdmVudERlbGF5IiwgMTI1MCkNCiAgICAgICAgb3B0aW9uKCJ2aWV3cG9ydE1hcmdpbiIsIDEwLCBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnJlZnJlc2goKTsgfSwgdHJ1ZSkNCiAgICAgICAgb3B0aW9uKCJtYXhIaWdobGlnaHRMZW5ndGgiLCAxMDAwMCwgcmVzZXRNb2RlU3RhdGUsIHRydWUpDQogICAgICAgIG9wdGlvbigibW92ZUlucHV0V2l0aEN1cnNvciIsIHRydWUsIGZ1bmN0aW9uIChjbSwgdmFsKSB7DQogICAgICAgICAgICBpZiAoIXZhbCkgeyBjbS5kaXNwbGF5LmlucHV0LnJlc2V0UG9zaXRpb24oKSB9DQogICAgICAgIH0pDQoNCiAgICAgICAgb3B0aW9uKCJ0YWJpbmRleCIsIG51bGwsIGZ1bmN0aW9uIChjbSwgdmFsKSB7IHJldHVybiBjbS5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCkudGFiSW5kZXggPSB2YWwgfHwgIiI7IH0pDQogICAgICAgIG9wdGlvbigiYXV0b2ZvY3VzIiwgbnVsbCkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBndXR0ZXJzQ2hhbmdlZChjbSkgew0KICAgICAgICB1cGRhdGVHdXR0ZXJzKGNtKQ0KICAgICAgICByZWdDaGFuZ2UoY20pDQogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gYWxpZ25Ib3Jpem9udGFsbHkoY20pOyB9LCAyMCkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkcmFnRHJvcENoYW5nZWQoY20sIHZhbHVlLCBvbGQpIHsNCiAgICAgICAgdmFyIHdhc09uID0gb2xkICYmIG9sZCAhPSBJbml0DQogICAgICAgIGlmICghdmFsdWUgIT0gIXdhc09uKSB7DQogICAgICAgICAgICB2YXIgZnVuY3MgPSBjbS5kaXNwbGF5LmRyYWdGdW5jdGlvbnMNCiAgICAgICAgICAgIHZhciB0b2dnbGUgPSB2YWx1ZSA/IG9uIDogb2ZmDQogICAgICAgICAgICB0b2dnbGUoY20uZGlzcGxheS5zY3JvbGxlciwgImRyYWdzdGFydCIsIGZ1bmNzLnN0YXJ0KQ0KICAgICAgICAgICAgdG9nZ2xlKGNtLmRpc3BsYXkuc2Nyb2xsZXIsICJkcmFnZW50ZXIiLCBmdW5jcy5lbnRlcikNCiAgICAgICAgICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCAiZHJhZ292ZXIiLCBmdW5jcy5vdmVyKQ0KICAgICAgICAgICAgdG9nZ2xlKGNtLmRpc3BsYXkuc2Nyb2xsZXIsICJkcmFnbGVhdmUiLCBmdW5jcy5sZWF2ZSkNCiAgICAgICAgICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCAiZHJvcCIsIGZ1bmNzLmRyb3ApDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiB3cmFwcGluZ0NoYW5nZWQoY20pIHsNCiAgICAgICAgaWYgKGNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7DQogICAgICAgICAgICBhZGRDbGFzcyhjbS5kaXNwbGF5LndyYXBwZXIsICJDb2RlTWlycm9yLXdyYXAiKQ0KICAgICAgICAgICAgY20uZGlzcGxheS5zaXplci5zdHlsZS5taW5XaWR0aCA9ICIiDQogICAgICAgICAgICBjbS5kaXNwbGF5LnNpemVyV2lkdGggPSBudWxsDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBybUNsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgIkNvZGVNaXJyb3Itd3JhcCIpDQogICAgICAgICAgICBmaW5kTWF4TGluZShjbSkNCiAgICAgICAgfQ0KICAgICAgICBlc3RpbWF0ZUxpbmVIZWlnaHRzKGNtKQ0KICAgICAgICByZWdDaGFuZ2UoY20pDQogICAgICAgIGNsZWFyQ2FjaGVzKGNtKQ0KICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVwZGF0ZVNjcm9sbGJhcnMoY20pOyB9LCAxMDApDQogICAgfQ0KDQovLyBBIENvZGVNaXJyb3IgaW5zdGFuY2UgcmVwcmVzZW50cyBhbiBlZGl0b3IuIFRoaXMgaXMgdGhlIG9iamVjdA0KLy8gdGhhdCB1c2VyIGNvZGUgaXMgdXN1YWxseSBkZWFsaW5nIHdpdGguDQoNCiAgICBmdW5jdGlvbiBDb2RlTWlycm9yJDEocGxhY2UsIG9wdGlvbnMpIHsNCiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7DQoNCiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvZGVNaXJyb3IkMSkpIHsgcmV0dXJuIG5ldyBDb2RlTWlycm9yJDEocGxhY2UsIG9wdGlvbnMpIH0NCg0KICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zID0gb3B0aW9ucyA/IGNvcHlPYmoob3B0aW9ucykgOiB7fQ0KICAgICAgICAvLyBEZXRlcm1pbmUgZWZmZWN0aXZlIG9wdGlvbnMgYmFzZWQgb24gZ2l2ZW4gdmFsdWVzIGFuZCBkZWZhdWx0cy4NCiAgICAgICAgY29weU9iaihkZWZhdWx0cywgb3B0aW9ucywgZmFsc2UpDQogICAgICAgIHNldEd1dHRlcnNGb3JMaW5lTnVtYmVycyhvcHRpb25zKQ0KDQogICAgICAgIHZhciBkb2MgPSBvcHRpb25zLnZhbHVlDQogICAgICAgIGlmICh0eXBlb2YgZG9jID09ICJzdHJpbmciKSB7IGRvYyA9IG5ldyBEb2MoZG9jLCBvcHRpb25zLm1vZGUsIG51bGwsIG9wdGlvbnMubGluZVNlcGFyYXRvcikgfQ0KICAgICAgICB0aGlzLmRvYyA9IGRvYw0KDQogICAgICAgIHZhciBpbnB1dCA9IG5ldyBDb2RlTWlycm9yJDEuaW5wdXRTdHlsZXNbb3B0aW9ucy5pbnB1dFN0eWxlXSh0aGlzKQ0KICAgICAgICB2YXIgZGlzcGxheSA9IHRoaXMuZGlzcGxheSA9IG5ldyBEaXNwbGF5KHBsYWNlLCBkb2MsIGlucHV0KQ0KICAgICAgICBkaXNwbGF5LndyYXBwZXIuQ29kZU1pcnJvciA9IHRoaXMNCiAgICAgICAgdXBkYXRlR3V0dGVycyh0aGlzKQ0KICAgICAgICB0aGVtZUNoYW5nZWQodGhpcykNCiAgICAgICAgaWYgKG9wdGlvbnMubGluZVdyYXBwaW5nKQ0KICAgICAgICB7IHRoaXMuZGlzcGxheS53cmFwcGVyLmNsYXNzTmFtZSArPSAiIENvZGVNaXJyb3Itd3JhcCIgfQ0KICAgICAgICBpZiAob3B0aW9ucy5hdXRvZm9jdXMgJiYgIW1vYmlsZSkgeyBkaXNwbGF5LmlucHV0LmZvY3VzKCkgfQ0KICAgICAgICBpbml0U2Nyb2xsYmFycyh0aGlzKQ0KDQogICAgICAgIHRoaXMuc3RhdGUgPSB7DQogICAgICAgICAgICBrZXlNYXBzOiBbXSwgIC8vIHN0b3JlcyBtYXBzIGFkZGVkIGJ5IGFkZEtleU1hcA0KICAgICAgICAgICAgb3ZlcmxheXM6IFtdLCAvLyBoaWdobGlnaHRpbmcgb3ZlcmxheXMsIGFzIGFkZGVkIGJ5IGFkZE92ZXJsYXkNCiAgICAgICAgICAgIG1vZGVHZW46IDAsICAgLy8gYnVtcGVkIHdoZW4gbW9kZS9vdmVybGF5IGNoYW5nZXMsIHVzZWQgdG8gaW52YWxpZGF0ZSBoaWdobGlnaHRpbmcgaW5mbw0KICAgICAgICAgICAgb3ZlcndyaXRlOiBmYWxzZSwNCiAgICAgICAgICAgIGRlbGF5aW5nQmx1ckV2ZW50OiBmYWxzZSwNCiAgICAgICAgICAgIGZvY3VzZWQ6IGZhbHNlLA0KICAgICAgICAgICAgc3VwcHJlc3NFZGl0czogZmFsc2UsIC8vIHVzZWQgdG8gZGlzYWJsZSBlZGl0aW5nIGR1cmluZyBrZXkgaGFuZGxlcnMgd2hlbiBpbiByZWFkT25seSBtb2RlDQogICAgICAgICAgICBwYXN0ZUluY29taW5nOiBmYWxzZSwgY3V0SW5jb21pbmc6IGZhbHNlLCAvLyBoZWxwIHJlY29nbml6ZSBwYXN0ZS9jdXQgZWRpdHMgaW4gaW5wdXQucG9sbA0KICAgICAgICAgICAgc2VsZWN0aW5nVGV4dDogZmFsc2UsDQogICAgICAgICAgICBkcmFnZ2luZ1RleHQ6IGZhbHNlLA0KICAgICAgICAgICAgaGlnaGxpZ2h0OiBuZXcgRGVsYXllZCgpLCAvLyBzdG9yZXMgaGlnaGxpZ2h0IHdvcmtlciB0aW1lb3V0DQogICAgICAgICAgICBrZXlTZXE6IG51bGwsICAvLyBVbmZpbmlzaGVkIGtleSBzZXF1ZW5jZQ0KICAgICAgICAgICAgc3BlY2lhbENoYXJzOiBudWxsDQogICAgICAgIH0NCg0KICAgICAgICAvLyBPdmVycmlkZSBtYWdpYyB0ZXh0YXJlYSBjb250ZW50IHJlc3RvcmUgdGhhdCBJRSBzb21ldGltZXMgZG9lcw0KICAgICAgICAvLyBvbiBvdXIgaGlkZGVuIHRleHRhcmVhIG9uIHJlbG9hZA0KICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcyQxLmRpc3BsYXkuaW5wdXQucmVzZXQodHJ1ZSk7IH0sIDIwKSB9DQoNCiAgICAgICAgcmVnaXN0ZXJFdmVudEhhbmRsZXJzKHRoaXMpDQogICAgICAgIGVuc3VyZUdsb2JhbEhhbmRsZXJzKCkNCg0KICAgICAgICBzdGFydE9wZXJhdGlvbih0aGlzKQ0KICAgICAgICB0aGlzLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZQ0KICAgICAgICBhdHRhY2hEb2ModGhpcywgZG9jKQ0KDQogICAgICAgIGlmICgob3B0aW9ucy5hdXRvZm9jdXMgJiYgIW1vYmlsZSkgfHwgdGhpcy5oYXNGb2N1cygpKQ0KICAgICAgICB7IHNldFRpbWVvdXQoYmluZChvbkZvY3VzLCB0aGlzKSwgMjApIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7IG9uQmx1cih0aGlzKSB9DQoNCiAgICAgICAgZm9yICh2YXIgb3B0IGluIG9wdGlvbkhhbmRsZXJzKSB7IGlmIChvcHRpb25IYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShvcHQpKQ0KICAgICAgICB7IG9wdGlvbkhhbmRsZXJzW29wdF0odGhpcyQxLCBvcHRpb25zW29wdF0sIEluaXQpIH0gfQ0KICAgICAgICBtYXliZVVwZGF0ZUxpbmVOdW1iZXJXaWR0aCh0aGlzKQ0KICAgICAgICBpZiAob3B0aW9ucy5maW5pc2hJbml0KSB7IG9wdGlvbnMuZmluaXNoSW5pdCh0aGlzKSB9DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdEhvb2tzLmxlbmd0aDsgKytpKSB7IGluaXRIb29rc1tpXSh0aGlzJDEpIH0NCiAgICAgICAgZW5kT3BlcmF0aW9uKHRoaXMpDQogICAgICAgIC8vIFN1cHByZXNzIG9wdGltaXplbGVnaWJpbGl0eSBpbiBXZWJraXQsIHNpbmNlIGl0IGJyZWFrcyB0ZXh0DQogICAgICAgIC8vIG1lYXN1cmluZyBvbiBsaW5lIHdyYXBwaW5nIGJvdW5kYXJpZXMuDQogICAgICAgIGlmICh3ZWJraXQgJiYgb3B0aW9ucy5saW5lV3JhcHBpbmcgJiYNCiAgICAgICAgICAgIGdldENvbXB1dGVkU3R5bGUoZGlzcGxheS5saW5lRGl2KS50ZXh0UmVuZGVyaW5nID09ICJvcHRpbWl6ZWxlZ2liaWxpdHkiKQ0KICAgICAgICB7IGRpc3BsYXkubGluZURpdi5zdHlsZS50ZXh0UmVuZGVyaW5nID0gImF1dG8iIH0NCiAgICB9DQoNCi8vIFRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gb3B0aW9ucy4NCiAgICBDb2RlTWlycm9yJDEuZGVmYXVsdHMgPSBkZWZhdWx0cw0KLy8gRnVuY3Rpb25zIHRvIHJ1biB3aGVuIG9wdGlvbnMgYXJlIGNoYW5nZWQuDQogICAgQ29kZU1pcnJvciQxLm9wdGlvbkhhbmRsZXJzID0gb3B0aW9uSGFuZGxlcnMNCg0KLy8gQXR0YWNoIHRoZSBuZWNlc3NhcnkgZXZlbnQgaGFuZGxlcnMgd2hlbiBpbml0aWFsaXppbmcgdGhlIGVkaXRvcg0KICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRIYW5kbGVycyhjbSkgew0KICAgICAgICB2YXIgZCA9IGNtLmRpc3BsYXkNCiAgICAgICAgb24oZC5zY3JvbGxlciwgIm1vdXNlZG93biIsIG9wZXJhdGlvbihjbSwgb25Nb3VzZURvd24pKQ0KICAgICAgICAvLyBPbGRlciBJRSdzIHdpbGwgbm90IGZpcmUgYSBzZWNvbmQgbW91c2Vkb3duIGZvciBhIGRvdWJsZSBjbGljaw0KICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKQ0KICAgICAgICB7IG9uKGQuc2Nyb2xsZXIsICJkYmxjbGljayIsIG9wZXJhdGlvbihjbSwgZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkpIHsgcmV0dXJuIH0NCiAgICAgICAgICAgIHZhciBwb3MgPSBwb3NGcm9tTW91c2UoY20sIGUpDQogICAgICAgICAgICBpZiAoIXBvcyB8fCBjbGlja0luR3V0dGVyKGNtLCBlKSB8fCBldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpKSB7IHJldHVybiB9DQogICAgICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUpDQogICAgICAgICAgICB2YXIgd29yZCA9IGNtLmZpbmRXb3JkQXQocG9zKQ0KICAgICAgICAgICAgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgd29yZC5hbmNob3IsIHdvcmQuaGVhZCkNCiAgICAgICAgfSkpIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7IG9uKGQuc2Nyb2xsZXIsICJkYmxjbGljayIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBzaWduYWxET01FdmVudChjbSwgZSkgfHwgZV9wcmV2ZW50RGVmYXVsdChlKTsgfSkgfQ0KICAgICAgICAvLyBTb21lIGJyb3dzZXJzIGZpcmUgY29udGV4dG1lbnUgKmFmdGVyKiBvcGVuaW5nIHRoZSBtZW51LCBhdA0KICAgICAgICAvLyB3aGljaCBwb2ludCB3ZSBjYW4ndCBtZXNzIHdpdGggaXQgYW55bW9yZS4gQ29udGV4dCBtZW51IGlzDQogICAgICAgIC8vIGhhbmRsZWQgaW4gb25Nb3VzZURvd24gZm9yIHRoZXNlIGJyb3dzZXJzLg0KICAgICAgICBpZiAoIWNhcHR1cmVSaWdodENsaWNrKSB7IG9uKGQuc2Nyb2xsZXIsICJjb250ZXh0bWVudSIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBvbkNvbnRleHRNZW51KGNtLCBlKTsgfSkgfQ0KDQogICAgICAgIC8vIFVzZWQgdG8gc3VwcHJlc3MgbW91c2UgZXZlbnQgaGFuZGxpbmcgd2hlbiBhIHRvdWNoIGhhcHBlbnMNCiAgICAgICAgdmFyIHRvdWNoRmluaXNoZWQsIHByZXZUb3VjaCA9IHtlbmQ6IDB9DQogICAgICAgIGZ1bmN0aW9uIGZpbmlzaFRvdWNoKCkgew0KICAgICAgICAgICAgaWYgKGQuYWN0aXZlVG91Y2gpIHsNCiAgICAgICAgICAgICAgICB0b3VjaEZpbmlzaGVkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBkLmFjdGl2ZVRvdWNoID0gbnVsbDsgfSwgMTAwMCkNCiAgICAgICAgICAgICAgICBwcmV2VG91Y2ggPSBkLmFjdGl2ZVRvdWNoDQogICAgICAgICAgICAgICAgcHJldlRvdWNoLmVuZCA9ICtuZXcgRGF0ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGZ1bmN0aW9uIGlzTW91c2VMaWtlVG91Y2hFdmVudChlKSB7DQogICAgICAgICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCAhPSAxKSB7IHJldHVybiBmYWxzZSB9DQogICAgICAgICAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF0NCiAgICAgICAgICAgIHJldHVybiB0b3VjaC5yYWRpdXNYIDw9IDEgJiYgdG91Y2gucmFkaXVzWSA8PSAxDQogICAgICAgIH0NCiAgICAgICAgZnVuY3Rpb24gZmFyQXdheSh0b3VjaCwgb3RoZXIpIHsNCiAgICAgICAgICAgIGlmIChvdGhlci5sZWZ0ID09IG51bGwpIHsgcmV0dXJuIHRydWUgfQ0KICAgICAgICAgICAgdmFyIGR4ID0gb3RoZXIubGVmdCAtIHRvdWNoLmxlZnQsIGR5ID0gb3RoZXIudG9wIC0gdG91Y2gudG9wDQogICAgICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPiAyMCAqIDIwDQogICAgICAgIH0NCiAgICAgICAgb24oZC5zY3JvbGxlciwgInRvdWNoc3RhcnQiLCBmdW5jdGlvbiAoZSkgew0KICAgICAgICAgICAgaWYgKCFzaWduYWxET01FdmVudChjbSwgZSkgJiYgIWlzTW91c2VMaWtlVG91Y2hFdmVudChlKSkgew0KICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0b3VjaEZpbmlzaGVkKQ0KICAgICAgICAgICAgICAgIHZhciBub3cgPSArbmV3IERhdGUNCiAgICAgICAgICAgICAgICBkLmFjdGl2ZVRvdWNoID0ge3N0YXJ0OiBub3csIG1vdmVkOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgcHJldjogbm93IC0gcHJldlRvdWNoLmVuZCA8PSAzMDAgPyBwcmV2VG91Y2ggOiBudWxsfQ0KICAgICAgICAgICAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgZC5hY3RpdmVUb3VjaC5sZWZ0ID0gZS50b3VjaGVzWzBdLnBhZ2VYDQogICAgICAgICAgICAgICAgICAgIGQuYWN0aXZlVG91Y2gudG9wID0gZS50b3VjaGVzWzBdLnBhZ2VZDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICBvbihkLnNjcm9sbGVyLCAidG91Y2htb3ZlIiwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKGQuYWN0aXZlVG91Y2gpIHsgZC5hY3RpdmVUb3VjaC5tb3ZlZCA9IHRydWUgfQ0KICAgICAgICB9KQ0KICAgICAgICBvbihkLnNjcm9sbGVyLCAidG91Y2hlbmQiLCBmdW5jdGlvbiAoZSkgew0KICAgICAgICAgICAgdmFyIHRvdWNoID0gZC5hY3RpdmVUb3VjaA0KICAgICAgICAgICAgaWYgKHRvdWNoICYmICFldmVudEluV2lkZ2V0KGQsIGUpICYmIHRvdWNoLmxlZnQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICF0b3VjaC5tb3ZlZCAmJiBuZXcgRGF0ZSAtIHRvdWNoLnN0YXJ0IDwgMzAwKSB7DQogICAgICAgICAgICAgICAgdmFyIHBvcyA9IGNtLmNvb3Jkc0NoYXIoZC5hY3RpdmVUb3VjaCwgInBhZ2UiKSwgcmFuZ2UNCiAgICAgICAgICAgICAgICBpZiAoIXRvdWNoLnByZXYgfHwgZmFyQXdheSh0b3VjaCwgdG91Y2gucHJldikpIC8vIFNpbmdsZSB0YXANCiAgICAgICAgICAgICAgICB7IHJhbmdlID0gbmV3IFJhbmdlKHBvcywgcG9zKSB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRvdWNoLnByZXYucHJldiB8fCBmYXJBd2F5KHRvdWNoLCB0b3VjaC5wcmV2LnByZXYpKSAvLyBEb3VibGUgdGFwDQogICAgICAgICAgICAgICAgeyByYW5nZSA9IGNtLmZpbmRXb3JkQXQocG9zKSB9DQogICAgICAgICAgICAgICAgZWxzZSAvLyBUcmlwbGUgdGFwDQogICAgICAgICAgICAgICAgeyByYW5nZSA9IG5ldyBSYW5nZShQb3MocG9zLmxpbmUsIDApLCBjbGlwUG9zKGNtLmRvYywgUG9zKHBvcy5saW5lICsgMSwgMCkpKSB9DQogICAgICAgICAgICAgICAgY20uc2V0U2VsZWN0aW9uKHJhbmdlLmFuY2hvciwgcmFuZ2UuaGVhZCkNCiAgICAgICAgICAgICAgICBjbS5mb2N1cygpDQogICAgICAgICAgICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZmluaXNoVG91Y2goKQ0KICAgICAgICB9KQ0KICAgICAgICBvbihkLnNjcm9sbGVyLCAidG91Y2hjYW5jZWwiLCBmaW5pc2hUb3VjaCkNCg0KICAgICAgICAvLyBTeW5jIHNjcm9sbGluZyBiZXR3ZWVuIGZha2Ugc2Nyb2xsYmFycyBhbmQgcmVhbCBzY3JvbGxhYmxlDQogICAgICAgIC8vIGFyZWEsIGVuc3VyZSB2aWV3cG9ydCBpcyB1cGRhdGVkIHdoZW4gc2Nyb2xsaW5nLg0KICAgICAgICBvbihkLnNjcm9sbGVyLCAic2Nyb2xsIiwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKGQuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0KSB7DQogICAgICAgICAgICAgICAgc2V0U2Nyb2xsVG9wKGNtLCBkLnNjcm9sbGVyLnNjcm9sbFRvcCkNCiAgICAgICAgICAgICAgICBzZXRTY3JvbGxMZWZ0KGNtLCBkLnNjcm9sbGVyLnNjcm9sbExlZnQsIHRydWUpDQogICAgICAgICAgICAgICAgc2lnbmFsKGNtLCAic2Nyb2xsIiwgY20pDQogICAgICAgICAgICB9DQogICAgICAgIH0pDQoNCiAgICAgICAgLy8gTGlzdGVuIHRvIHdoZWVsIGV2ZW50cyBpbiBvcmRlciB0byB0cnkgYW5kIHVwZGF0ZSB0aGUgdmlld3BvcnQgb24gdGltZS4NCiAgICAgICAgb24oZC5zY3JvbGxlciwgIm1vdXNld2hlZWwiLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gb25TY3JvbGxXaGVlbChjbSwgZSk7IH0pDQogICAgICAgIG9uKGQuc2Nyb2xsZXIsICJET01Nb3VzZVNjcm9sbCIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBvblNjcm9sbFdoZWVsKGNtLCBlKTsgfSkNCg0KICAgICAgICAvLyBQcmV2ZW50IHdyYXBwZXIgZnJvbSBldmVyIHNjcm9sbGluZw0KICAgICAgICBvbihkLndyYXBwZXIsICJzY3JvbGwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkLndyYXBwZXIuc2Nyb2xsVG9wID0gZC53cmFwcGVyLnNjcm9sbExlZnQgPSAwOyB9KQ0KDQogICAgICAgIGQuZHJhZ0Z1bmN0aW9ucyA9IHsNCiAgICAgICAgICAgIGVudGVyOiBmdW5jdGlvbiAoZSkge2lmICghc2lnbmFsRE9NRXZlbnQoY20sIGUpKSB7IGVfc3RvcChlKSB9fSwNCiAgICAgICAgICAgIG92ZXI6IGZ1bmN0aW9uIChlKSB7aWYgKCFzaWduYWxET01FdmVudChjbSwgZSkpIHsgb25EcmFnT3ZlcihjbSwgZSk7IGVfc3RvcChlKSB9fSwNCiAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gb25EcmFnU3RhcnQoY20sIGUpOyB9LA0KICAgICAgICAgICAgZHJvcDogb3BlcmF0aW9uKGNtLCBvbkRyb3ApLA0KICAgICAgICAgICAgbGVhdmU6IGZ1bmN0aW9uIChlKSB7aWYgKCFzaWduYWxET01FdmVudChjbSwgZSkpIHsgY2xlYXJEcmFnQ3Vyc29yKGNtKSB9fQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGlucCA9IGQuaW5wdXQuZ2V0RmllbGQoKQ0KICAgICAgICBvbihpbnAsICJrZXl1cCIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBvbktleVVwLmNhbGwoY20sIGUpOyB9KQ0KICAgICAgICBvbihpbnAsICJrZXlkb3duIiwgb3BlcmF0aW9uKGNtLCBvbktleURvd24pKQ0KICAgICAgICBvbihpbnAsICJrZXlwcmVzcyIsIG9wZXJhdGlvbihjbSwgb25LZXlQcmVzcykpDQogICAgICAgIG9uKGlucCwgImZvY3VzIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG9uRm9jdXMoY20sIGUpOyB9KQ0KICAgICAgICBvbihpbnAsICJibHVyIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG9uQmx1cihjbSwgZSk7IH0pDQogICAgfQ0KDQogICAgdmFyIGluaXRIb29rcyA9IFtdDQogICAgQ29kZU1pcnJvciQxLmRlZmluZUluaXRIb29rID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGluaXRIb29rcy5wdXNoKGYpOyB9DQoNCi8vIEluZGVudCB0aGUgZ2l2ZW4gbGluZS4gVGhlIGhvdyBwYXJhbWV0ZXIgY2FuIGJlICJzbWFydCIsDQovLyAiYWRkIi9udWxsLCAic3VidHJhY3QiLCBvciAicHJldiIuIFdoZW4gYWdncmVzc2l2ZSBpcyBmYWxzZQ0KLy8gKHR5cGljYWxseSBzZXQgdG8gdHJ1ZSBmb3IgZm9yY2VkIHNpbmdsZS1saW5lIGluZGVudHMpLCBlbXB0eQ0KLy8gbGluZXMgYXJlIG5vdCBpbmRlbnRlZCwgYW5kIHBsYWNlcyB3aGVyZSB0aGUgbW9kZSByZXR1cm5zIFBhc3MNCi8vIGFyZSBsZWZ0IGFsb25lLg0KICAgIGZ1bmN0aW9uIGluZGVudExpbmUoY20sIG4sIGhvdywgYWdncmVzc2l2ZSkgew0KICAgICAgICB2YXIgZG9jID0gY20uZG9jLCBzdGF0ZQ0KICAgICAgICBpZiAoaG93ID09IG51bGwpIHsgaG93ID0gImFkZCIgfQ0KICAgICAgICBpZiAoaG93ID09ICJzbWFydCIpIHsNCiAgICAgICAgICAgIC8vIEZhbGwgYmFjayB0byAicHJldiIgd2hlbiB0aGUgbW9kZSBkb2Vzbid0IGhhdmUgYW4gaW5kZW50YXRpb24NCiAgICAgICAgICAgIC8vIG1ldGhvZC4NCiAgICAgICAgICAgIGlmICghZG9jLm1vZGUuaW5kZW50KSB7IGhvdyA9ICJwcmV2IiB9DQogICAgICAgICAgICBlbHNlIHsgc3RhdGUgPSBnZXRTdGF0ZUJlZm9yZShjbSwgbikgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHRhYlNpemUgPSBjbS5vcHRpb25zLnRhYlNpemUNCiAgICAgICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbiksIGN1clNwYWNlID0gY291bnRDb2x1bW4obGluZS50ZXh0LCBudWxsLCB0YWJTaXplKQ0KICAgICAgICBpZiAobGluZS5zdGF0ZUFmdGVyKSB7IGxpbmUuc3RhdGVBZnRlciA9IG51bGwgfQ0KICAgICAgICB2YXIgY3VyU3BhY2VTdHJpbmcgPSBsaW5lLnRleHQubWF0Y2goL15ccyovKVswXSwgaW5kZW50YXRpb24NCiAgICAgICAgaWYgKCFhZ2dyZXNzaXZlICYmICEvXFMvLnRlc3QobGluZS50ZXh0KSkgew0KICAgICAgICAgICAgaW5kZW50YXRpb24gPSAwDQogICAgICAgICAgICBob3cgPSAibm90Ig0KICAgICAgICB9IGVsc2UgaWYgKGhvdyA9PSAic21hcnQiKSB7DQogICAgICAgICAgICBpbmRlbnRhdGlvbiA9IGRvYy5tb2RlLmluZGVudChzdGF0ZSwgbGluZS50ZXh0LnNsaWNlKGN1clNwYWNlU3RyaW5nLmxlbmd0aCksIGxpbmUudGV4dCkNCiAgICAgICAgICAgIGlmIChpbmRlbnRhdGlvbiA9PSBQYXNzIHx8IGluZGVudGF0aW9uID4gMTUwKSB7DQogICAgICAgICAgICAgICAgaWYgKCFhZ2dyZXNzaXZlKSB7IHJldHVybiB9DQogICAgICAgICAgICAgICAgaG93ID0gInByZXYiDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKGhvdyA9PSAicHJldiIpIHsNCiAgICAgICAgICAgIGlmIChuID4gZG9jLmZpcnN0KSB7IGluZGVudGF0aW9uID0gY291bnRDb2x1bW4oZ2V0TGluZShkb2MsIG4tMSkudGV4dCwgbnVsbCwgdGFiU2l6ZSkgfQ0KICAgICAgICAgICAgZWxzZSB7IGluZGVudGF0aW9uID0gMCB9DQogICAgICAgIH0gZWxzZSBpZiAoaG93ID09ICJhZGQiKSB7DQogICAgICAgICAgICBpbmRlbnRhdGlvbiA9IGN1clNwYWNlICsgY20ub3B0aW9ucy5pbmRlbnRVbml0DQogICAgICAgIH0gZWxzZSBpZiAoaG93ID09ICJzdWJ0cmFjdCIpIHsNCiAgICAgICAgICAgIGluZGVudGF0aW9uID0gY3VyU3BhY2UgLSBjbS5vcHRpb25zLmluZGVudFVuaXQNCiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaG93ID09ICJudW1iZXIiKSB7DQogICAgICAgICAgICBpbmRlbnRhdGlvbiA9IGN1clNwYWNlICsgaG93DQogICAgICAgIH0NCiAgICAgICAgaW5kZW50YXRpb24gPSBNYXRoLm1heCgwLCBpbmRlbnRhdGlvbikNCg0KICAgICAgICB2YXIgaW5kZW50U3RyaW5nID0gIiIsIHBvcyA9IDANCiAgICAgICAgaWYgKGNtLm9wdGlvbnMuaW5kZW50V2l0aFRhYnMpDQogICAgICAgIHsgZm9yICh2YXIgaSA9IE1hdGguZmxvb3IoaW5kZW50YXRpb24gLyB0YWJTaXplKTsgaTsgLS1pKSB7cG9zICs9IHRhYlNpemU7IGluZGVudFN0cmluZyArPSAiXHQifSB9DQogICAgICAgIGlmIChwb3MgPCBpbmRlbnRhdGlvbikgeyBpbmRlbnRTdHJpbmcgKz0gc3BhY2VTdHIoaW5kZW50YXRpb24gLSBwb3MpIH0NCg0KICAgICAgICBpZiAoaW5kZW50U3RyaW5nICE9IGN1clNwYWNlU3RyaW5nKSB7DQogICAgICAgICAgICByZXBsYWNlUmFuZ2UoZG9jLCBpbmRlbnRTdHJpbmcsIFBvcyhuLCAwKSwgUG9zKG4sIGN1clNwYWNlU3RyaW5nLmxlbmd0aCksICIraW5wdXQiKQ0KICAgICAgICAgICAgbGluZS5zdGF0ZUFmdGVyID0gbnVsbA0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0LCBpZiB0aGUgY3Vyc29yIHdhcyBpbiB0aGUgd2hpdGVzcGFjZSBhdCB0aGUgc3RhcnQNCiAgICAgICAgICAgIC8vIG9mIHRoZSBsaW5lLCBpdCBpcyBtb3ZlZCB0byB0aGUgZW5kIG9mIHRoYXQgc3BhY2UuDQogICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkkMSsrKSB7DQogICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gZG9jLnNlbC5yYW5nZXNbaSQxXQ0KICAgICAgICAgICAgICAgIGlmIChyYW5nZS5oZWFkLmxpbmUgPT0gbiAmJiByYW5nZS5oZWFkLmNoIDwgY3VyU3BhY2VTdHJpbmcubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBwb3MkMSA9IFBvcyhuLCBjdXJTcGFjZVN0cmluZy5sZW5ndGgpDQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VPbmVTZWxlY3Rpb24oZG9jLCBpJDEsIG5ldyBSYW5nZShwb3MkMSwgcG9zJDEpKQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KLy8gVGhpcyB3aWxsIGJlIHNldCB0byBhIHtsaW5lV2lzZTogYm9vbCwgdGV4dDogW3N0cmluZ119IG9iamVjdCwgc28NCi8vIHRoYXQsIHdoZW4gcGFzdGluZywgd2Uga25vdyB3aGF0IGtpbmQgb2Ygc2VsZWN0aW9ucyB0aGUgY29waWVkDQovLyB0ZXh0IHdhcyBtYWRlIG91dCBvZi4NCiAgICB2YXIgbGFzdENvcGllZCA9IG51bGwNCg0KICAgIGZ1bmN0aW9uIHNldExhc3RDb3BpZWQobmV3TGFzdENvcGllZCkgew0KICAgICAgICBsYXN0Q29waWVkID0gbmV3TGFzdENvcGllZA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGFwcGx5VGV4dElucHV0KGNtLCBpbnNlcnRlZCwgZGVsZXRlZCwgc2VsLCBvcmlnaW4pIHsNCiAgICAgICAgdmFyIGRvYyA9IGNtLmRvYw0KICAgICAgICBjbS5kaXNwbGF5LnNoaWZ0ID0gZmFsc2UNCiAgICAgICAgaWYgKCFzZWwpIHsgc2VsID0gZG9jLnNlbCB9DQoNCiAgICAgICAgdmFyIHBhc3RlID0gY20uc3RhdGUucGFzdGVJbmNvbWluZyB8fCBvcmlnaW4gPT0gInBhc3RlIg0KICAgICAgICB2YXIgdGV4dExpbmVzID0gZG9jLnNwbGl0TGluZXMoaW5zZXJ0ZWQpLCBtdWx0aVBhc3RlID0gbnVsbA0KICAgICAgICAvLyBXaGVuIHBhc2luZyBOIGxpbmVzIGludG8gTiBzZWxlY3Rpb25zLCBpbnNlcnQgb25lIGxpbmUgcGVyIHNlbGVjdGlvbg0KICAgICAgICBpZiAocGFzdGUgJiYgc2VsLnJhbmdlcy5sZW5ndGggPiAxKSB7DQogICAgICAgICAgICBpZiAobGFzdENvcGllZCAmJiBsYXN0Q29waWVkLnRleHQuam9pbigiXG4iKSA9PSBpbnNlcnRlZCkgew0KICAgICAgICAgICAgICAgIGlmIChzZWwucmFuZ2VzLmxlbmd0aCAlIGxhc3RDb3BpZWQudGV4dC5sZW5ndGggPT0gMCkgew0KICAgICAgICAgICAgICAgICAgICBtdWx0aVBhc3RlID0gW10NCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0Q29waWVkLnRleHQubGVuZ3RoOyBpKyspDQogICAgICAgICAgICAgICAgICAgIHsgbXVsdGlQYXN0ZS5wdXNoKGRvYy5zcGxpdExpbmVzKGxhc3RDb3BpZWQudGV4dFtpXSkpIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKHRleHRMaW5lcy5sZW5ndGggPT0gc2VsLnJhbmdlcy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBtdWx0aVBhc3RlID0gbWFwKHRleHRMaW5lcywgZnVuY3Rpb24gKGwpIHsgcmV0dXJuIFtsXTsgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciB1cGRhdGVJbnB1dA0KICAgICAgICAvLyBOb3JtYWwgYmVoYXZpb3IgaXMgdG8gaW5zZXJ0IHRoZSBuZXcgdGV4dCBpbnRvIGV2ZXJ5IHNlbGVjdGlvbg0KICAgICAgICBmb3IgKHZhciBpJDEgPSBzZWwucmFuZ2VzLmxlbmd0aCAtIDE7IGkkMSA+PSAwOyBpJDEtLSkgew0KICAgICAgICAgICAgdmFyIHJhbmdlJCQxID0gc2VsLnJhbmdlc1tpJDFdDQogICAgICAgICAgICB2YXIgZnJvbSA9IHJhbmdlJCQxLmZyb20oKSwgdG8gPSByYW5nZSQkMS50bygpDQogICAgICAgICAgICBpZiAocmFuZ2UkJDEuZW1wdHkoKSkgew0KICAgICAgICAgICAgICAgIGlmIChkZWxldGVkICYmIGRlbGV0ZWQgPiAwKSAvLyBIYW5kbGUgZGVsZXRpb24NCiAgICAgICAgICAgICAgICB7IGZyb20gPSBQb3MoZnJvbS5saW5lLCBmcm9tLmNoIC0gZGVsZXRlZCkgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNtLnN0YXRlLm92ZXJ3cml0ZSAmJiAhcGFzdGUpIC8vIEhhbmRsZSBvdmVyd3JpdGUNCiAgICAgICAgICAgICAgICB7IHRvID0gUG9zKHRvLmxpbmUsIE1hdGgubWluKGdldExpbmUoZG9jLCB0by5saW5lKS50ZXh0Lmxlbmd0aCwgdG8uY2ggKyBsc3QodGV4dExpbmVzKS5sZW5ndGgpKSB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAobGFzdENvcGllZCAmJiBsYXN0Q29waWVkLmxpbmVXaXNlICYmIGxhc3RDb3BpZWQudGV4dC5qb2luKCJcbiIpID09IGluc2VydGVkKQ0KICAgICAgICAgICAgICAgIHsgZnJvbSA9IHRvID0gUG9zKGZyb20ubGluZSwgMCkgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdXBkYXRlSW5wdXQgPSBjbS5jdXJPcC51cGRhdGVJbnB1dA0KICAgICAgICAgICAgdmFyIGNoYW5nZUV2ZW50ID0ge2Zyb206IGZyb20sIHRvOiB0bywgdGV4dDogbXVsdGlQYXN0ZSA/IG11bHRpUGFzdGVbaSQxICUgbXVsdGlQYXN0ZS5sZW5ndGhdIDogdGV4dExpbmVzLA0KICAgICAgICAgICAgICAgIG9yaWdpbjogb3JpZ2luIHx8IChwYXN0ZSA/ICJwYXN0ZSIgOiBjbS5zdGF0ZS5jdXRJbmNvbWluZyA/ICJjdXQiIDogIitpbnB1dCIpfQ0KICAgICAgICAgICAgbWFrZUNoYW5nZShjbS5kb2MsIGNoYW5nZUV2ZW50KQ0KICAgICAgICAgICAgc2lnbmFsTGF0ZXIoY20sICJpbnB1dFJlYWQiLCBjbSwgY2hhbmdlRXZlbnQpDQogICAgICAgIH0NCiAgICAgICAgaWYgKGluc2VydGVkICYmICFwYXN0ZSkNCiAgICAgICAgeyB0cmlnZ2VyRWxlY3RyaWMoY20sIGluc2VydGVkKSB9DQoNCiAgICAgICAgZW5zdXJlQ3Vyc29yVmlzaWJsZShjbSkNCiAgICAgICAgY20uY3VyT3AudXBkYXRlSW5wdXQgPSB1cGRhdGVJbnB1dA0KICAgICAgICBjbS5jdXJPcC50eXBpbmcgPSB0cnVlDQogICAgICAgIGNtLnN0YXRlLnBhc3RlSW5jb21pbmcgPSBjbS5zdGF0ZS5jdXRJbmNvbWluZyA9IGZhbHNlDQogICAgfQ0KDQogICAgZnVuY3Rpb24gaGFuZGxlUGFzdGUoZSwgY20pIHsNCiAgICAgICAgdmFyIHBhc3RlZCA9IGUuY2xpcGJvYXJkRGF0YSAmJiBlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgiVGV4dCIpDQogICAgICAgIGlmIChwYXN0ZWQpIHsNCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKQ0KICAgICAgICAgICAgaWYgKCFjbS5pc1JlYWRPbmx5KCkgJiYgIWNtLm9wdGlvbnMuZGlzYWJsZUlucHV0KQ0KICAgICAgICAgICAgeyBydW5Jbk9wKGNtLCBmdW5jdGlvbiAoKSB7IHJldHVybiBhcHBseVRleHRJbnB1dChjbSwgcGFzdGVkLCAwLCBudWxsLCAicGFzdGUiKTsgfSkgfQ0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRyaWdnZXJFbGVjdHJpYyhjbSwgaW5zZXJ0ZWQpIHsNCiAgICAgICAgLy8gV2hlbiBhbiAnZWxlY3RyaWMnIGNoYXJhY3RlciBpcyBpbnNlcnRlZCwgaW1tZWRpYXRlbHkgdHJpZ2dlciBhIHJlaW5kZW50DQogICAgICAgIGlmICghY20ub3B0aW9ucy5lbGVjdHJpY0NoYXJzIHx8ICFjbS5vcHRpb25zLnNtYXJ0SW5kZW50KSB7IHJldHVybiB9DQogICAgICAgIHZhciBzZWwgPSBjbS5kb2Muc2VsDQoNCiAgICAgICAgZm9yICh2YXIgaSA9IHNlbC5yYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsNCiAgICAgICAgICAgIHZhciByYW5nZSQkMSA9IHNlbC5yYW5nZXNbaV0NCiAgICAgICAgICAgIGlmIChyYW5nZSQkMS5oZWFkLmNoID4gMTAwIHx8IChpICYmIHNlbC5yYW5nZXNbaSAtIDFdLmhlYWQubGluZSA9PSByYW5nZSQkMS5oZWFkLmxpbmUpKSB7IGNvbnRpbnVlIH0NCiAgICAgICAgICAgIHZhciBtb2RlID0gY20uZ2V0TW9kZUF0KHJhbmdlJCQxLmhlYWQpDQogICAgICAgICAgICB2YXIgaW5kZW50ZWQgPSBmYWxzZQ0KICAgICAgICAgICAgaWYgKG1vZGUuZWxlY3RyaWNDaGFycykgew0KICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW9kZS5lbGVjdHJpY0NoYXJzLmxlbmd0aDsgaisrKQ0KICAgICAgICAgICAgICAgIHsgaWYgKGluc2VydGVkLmluZGV4T2YobW9kZS5lbGVjdHJpY0NoYXJzLmNoYXJBdChqKSkgPiAtMSkgew0KICAgICAgICAgICAgICAgICAgICBpbmRlbnRlZCA9IGluZGVudExpbmUoY20sIHJhbmdlJCQxLmhlYWQubGluZSwgInNtYXJ0IikNCiAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICB9IH0NCiAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZS5lbGVjdHJpY0lucHV0KSB7DQogICAgICAgICAgICAgICAgaWYgKG1vZGUuZWxlY3RyaWNJbnB1dC50ZXN0KGdldExpbmUoY20uZG9jLCByYW5nZSQkMS5oZWFkLmxpbmUpLnRleHQuc2xpY2UoMCwgcmFuZ2UkJDEuaGVhZC5jaCkpKQ0KICAgICAgICAgICAgICAgIHsgaW5kZW50ZWQgPSBpbmRlbnRMaW5lKGNtLCByYW5nZSQkMS5oZWFkLmxpbmUsICJzbWFydCIpIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChpbmRlbnRlZCkgeyBzaWduYWxMYXRlcihjbSwgImVsZWN0cmljSW5wdXQiLCBjbSwgcmFuZ2UkJDEuaGVhZC5saW5lKSB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjb3B5YWJsZVJhbmdlcyhjbSkgew0KICAgICAgICB2YXIgdGV4dCA9IFtdLCByYW5nZXMgPSBbXQ0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLmRvYy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgbGluZSA9IGNtLmRvYy5zZWwucmFuZ2VzW2ldLmhlYWQubGluZQ0KICAgICAgICAgICAgdmFyIGxpbmVSYW5nZSA9IHthbmNob3I6IFBvcyhsaW5lLCAwKSwgaGVhZDogUG9zKGxpbmUgKyAxLCAwKX0NCiAgICAgICAgICAgIHJhbmdlcy5wdXNoKGxpbmVSYW5nZSkNCiAgICAgICAgICAgIHRleHQucHVzaChjbS5nZXRSYW5nZShsaW5lUmFuZ2UuYW5jaG9yLCBsaW5lUmFuZ2UuaGVhZCkpDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHt0ZXh0OiB0ZXh0LCByYW5nZXM6IHJhbmdlc30NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkaXNhYmxlQnJvd3Nlck1hZ2ljKGZpZWxkLCBzcGVsbGNoZWNrKSB7DQogICAgICAgIGZpZWxkLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCAib2ZmIikNCiAgICAgICAgZmllbGQuc2V0QXR0cmlidXRlKCJhdXRvY2FwaXRhbGl6ZSIsICJvZmYiKQ0KICAgICAgICBmaWVsZC5zZXRBdHRyaWJ1dGUoInNwZWxsY2hlY2siLCAhIXNwZWxsY2hlY2spDQogICAgfQ0KDQogICAgZnVuY3Rpb24gaGlkZGVuVGV4dGFyZWEoKSB7DQogICAgICAgIHZhciB0ZSA9IGVsdCgidGV4dGFyZWEiLCBudWxsLCBudWxsLCAicG9zaXRpb246IGFic29sdXRlOyBib3R0b206IC0xZW07IHBhZGRpbmc6IDA7IHdpZHRoOiAxcHg7IGhlaWdodDogMWVtOyBvdXRsaW5lOiBub25lIikNCiAgICAgICAgdmFyIGRpdiA9IGVsdCgiZGl2IiwgW3RlXSwgbnVsbCwgIm92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IDNweDsgaGVpZ2h0OiAwcHg7IikNCiAgICAgICAgLy8gVGhlIHRleHRhcmVhIGlzIGtlcHQgcG9zaXRpb25lZCBuZWFyIHRoZSBjdXJzb3IgdG8gcHJldmVudCB0aGUNCiAgICAgICAgLy8gZmFjdCB0aGF0IGl0J2xsIGJlIHNjcm9sbGVkIGludG8gdmlldyBvbiBpbnB1dCBmcm9tIHNjcm9sbGluZw0KICAgICAgICAvLyBvdXIgZmFrZSBjdXJzb3Igb3V0IG9mIHZpZXcuIE9uIHdlYmtpdCwgd2hlbiB3cmFwPW9mZiwgcGFzdGUgaXMNCiAgICAgICAgLy8gdmVyeSBzbG93LiBTbyBtYWtlIHRoZSBhcmVhIHdpZGUgaW5zdGVhZC4NCiAgICAgICAgaWYgKHdlYmtpdCkgeyB0ZS5zdHlsZS53aWR0aCA9ICIxMDAwcHgiIH0NCiAgICAgICAgZWxzZSB7IHRlLnNldEF0dHJpYnV0ZSgid3JhcCIsICJvZmYiKSB9DQogICAgICAgIC8vIElmIGJvcmRlcjogMDsgLS0gaU9TIGZhaWxzIHRvIG9wZW4ga2V5Ym9hcmQgKGlzc3VlICMxMjg3KQ0KICAgICAgICBpZiAoaW9zKSB7IHRlLnN0eWxlLmJvcmRlciA9ICIxcHggc29saWQgYmxhY2siIH0NCiAgICAgICAgZGlzYWJsZUJyb3dzZXJNYWdpYyh0ZSkNCiAgICAgICAgcmV0dXJuIGRpdg0KICAgIH0NCg0KLy8gVGhlIHB1YmxpY2x5IHZpc2libGUgQVBJLiBOb3RlIHRoYXQgbWV0aG9kT3AoZikgbWVhbnMNCi8vICd3cmFwIGYgaW4gYW4gb3BlcmF0aW9uLCBwZXJmb3JtZWQgb24gaXRzIGB0aGlzYCBwYXJhbWV0ZXInLg0KDQovLyBUaGlzIGlzIG5vdCB0aGUgY29tcGxldGUgc2V0IG9mIGVkaXRvciBtZXRob2RzLiBNb3N0IG9mIHRoZQ0KLy8gbWV0aG9kcyBkZWZpbmVkIG9uIHRoZSBEb2MgdHlwZSBhcmUgYWxzbyBpbmplY3RlZCBpbnRvDQovLyBDb2RlTWlycm9yLnByb3RvdHlwZSwgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGFuZA0KLy8gY29udmVuaWVuY2UuDQoNCiAgICB2YXIgYWRkRWRpdG9yTWV0aG9kcyA9IGZ1bmN0aW9uKENvZGVNaXJyb3IpIHsNCiAgICAgICAgdmFyIG9wdGlvbkhhbmRsZXJzID0gQ29kZU1pcnJvci5vcHRpb25IYW5kbGVycw0KDQogICAgICAgIHZhciBoZWxwZXJzID0gQ29kZU1pcnJvci5oZWxwZXJzID0ge30NCg0KICAgICAgICBDb2RlTWlycm9yLnByb3RvdHlwZSA9IHsNCiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBDb2RlTWlycm9yLA0KICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uKCl7d2luZG93LmZvY3VzKCk7IHRoaXMuZGlzcGxheS5pbnB1dC5mb2N1cygpfSwNCg0KICAgICAgICAgICAgc2V0T3B0aW9uOiBmdW5jdGlvbihvcHRpb24sIHZhbHVlKSB7DQogICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsIG9sZCA9IG9wdGlvbnNbb3B0aW9uXQ0KICAgICAgICAgICAgICAgIGlmIChvcHRpb25zW29wdGlvbl0gPT0gdmFsdWUgJiYgb3B0aW9uICE9ICJtb2RlIikgeyByZXR1cm4gfQ0KICAgICAgICAgICAgICAgIG9wdGlvbnNbb3B0aW9uXSA9IHZhbHVlDQogICAgICAgICAgICAgICAgaWYgKG9wdGlvbkhhbmRsZXJzLmhhc093blByb3BlcnR5KG9wdGlvbikpDQogICAgICAgICAgICAgICAgeyBvcGVyYXRpb24odGhpcywgb3B0aW9uSGFuZGxlcnNbb3B0aW9uXSkodGhpcywgdmFsdWUsIG9sZCkgfQ0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgZ2V0T3B0aW9uOiBmdW5jdGlvbihvcHRpb24pIHtyZXR1cm4gdGhpcy5vcHRpb25zW29wdGlvbl19LA0KICAgICAgICAgICAgZ2V0RG9jOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5kb2N9LA0KDQogICAgICAgICAgICBhZGRLZXlNYXA6IGZ1bmN0aW9uKG1hcCQkMSwgYm90dG9tKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5rZXlNYXBzW2JvdHRvbSA/ICJwdXNoIiA6ICJ1bnNoaWZ0Il0oZ2V0S2V5TWFwKG1hcCQkMSkpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcmVtb3ZlS2V5TWFwOiBmdW5jdGlvbihtYXAkJDEpIHsNCiAgICAgICAgICAgICAgICB2YXIgbWFwcyA9IHRoaXMuc3RhdGUua2V5TWFwcw0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwcy5sZW5ndGg7ICsraSkNCiAgICAgICAgICAgICAgICB7IGlmIChtYXBzW2ldID09IG1hcCQkMSB8fCBtYXBzW2ldLm5hbWUgPT0gbWFwJCQxKSB7DQogICAgICAgICAgICAgICAgICAgIG1hcHMuc3BsaWNlKGksIDEpDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICAgICAgfSB9DQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICBhZGRPdmVybGF5OiBtZXRob2RPcChmdW5jdGlvbihzcGVjLCBvcHRpb25zKSB7DQogICAgICAgICAgICAgICAgdmFyIG1vZGUgPSBzcGVjLnRva2VuID8gc3BlYyA6IENvZGVNaXJyb3IuZ2V0TW9kZSh0aGlzLm9wdGlvbnMsIHNwZWMpDQogICAgICAgICAgICAgICAgaWYgKG1vZGUuc3RhcnRTdGF0ZSkgeyB0aHJvdyBuZXcgRXJyb3IoIk92ZXJsYXlzIG1heSBub3QgYmUgc3RhdGVmdWwuIikgfQ0KICAgICAgICAgICAgICAgIGluc2VydFNvcnRlZCh0aGlzLnN0YXRlLm92ZXJsYXlzLA0KICAgICAgICAgICAgICAgICAgICB7bW9kZTogbW9kZSwgbW9kZVNwZWM6IHNwZWMsIG9wYXF1ZTogb3B0aW9ucyAmJiBvcHRpb25zLm9wYXF1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiAob3B0aW9ucyAmJiBvcHRpb25zLnByaW9yaXR5KSB8fCAwfSwNCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKG92ZXJsYXkpIHsgcmV0dXJuIG92ZXJsYXkucHJpb3JpdHk7IH0pDQogICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5tb2RlR2VuKysNCiAgICAgICAgICAgICAgICByZWdDaGFuZ2UodGhpcykNCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgcmVtb3ZlT3ZlcmxheTogbWV0aG9kT3AoZnVuY3Rpb24oc3BlYykgew0KICAgICAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICAgICAgdmFyIG92ZXJsYXlzID0gdGhpcy5zdGF0ZS5vdmVybGF5cw0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3ZlcmxheXMubGVuZ3RoOyArK2kpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ciA9IG92ZXJsYXlzW2ldLm1vZGVTcGVjDQogICAgICAgICAgICAgICAgICAgIGlmIChjdXIgPT0gc3BlYyB8fCB0eXBlb2Ygc3BlYyA9PSAic3RyaW5nIiAmJiBjdXIubmFtZSA9PSBzcGVjKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5cy5zcGxpY2UoaSwgMSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMkMS5zdGF0ZS5tb2RlR2VuKysNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ0NoYW5nZSh0aGlzJDEpDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLA0KDQogICAgICAgICAgICBpbmRlbnRMaW5lOiBtZXRob2RPcChmdW5jdGlvbihuLCBkaXIsIGFnZ3Jlc3NpdmUpIHsNCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRpciAhPSAic3RyaW5nIiAmJiB0eXBlb2YgZGlyICE9ICJudW1iZXIiKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChkaXIgPT0gbnVsbCkgeyBkaXIgPSB0aGlzLm9wdGlvbnMuc21hcnRJbmRlbnQgPyAic21hcnQiIDogInByZXYiIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7IGRpciA9IGRpciA/ICJhZGQiIDogInN1YnRyYWN0IiB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChpc0xpbmUodGhpcy5kb2MsIG4pKSB7IGluZGVudExpbmUodGhpcywgbiwgZGlyLCBhZ2dyZXNzaXZlKSB9DQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIGluZGVudFNlbGVjdGlvbjogbWV0aG9kT3AoZnVuY3Rpb24oaG93KSB7DQogICAgICAgICAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7DQoNCiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5kb2Muc2VsLnJhbmdlcywgZW5kID0gLTENCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UkJDEgPSByYW5nZXNbaV0NCiAgICAgICAgICAgICAgICAgICAgaWYgKCFyYW5nZSQkMS5lbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IHJhbmdlJCQxLmZyb20oKSwgdG8gPSByYW5nZSQkMS50bygpDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBNYXRoLm1heChlbmQsIGZyb20ubGluZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IE1hdGgubWluKHRoaXMkMS5sYXN0TGluZSgpLCB0by5saW5lIC0gKHRvLmNoID8gMCA6IDEpKSArIDENCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBzdGFydDsgaiA8IGVuZDsgKytqKQ0KICAgICAgICAgICAgICAgICAgICAgICAgeyBpbmRlbnRMaW5lKHRoaXMkMSwgaiwgaG93KSB9DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3UmFuZ2VzID0gdGhpcyQxLmRvYy5zZWwucmFuZ2VzDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJvbS5jaCA9PSAwICYmIHJhbmdlcy5sZW5ndGggPT0gbmV3UmFuZ2VzLmxlbmd0aCAmJiBuZXdSYW5nZXNbaV0uZnJvbSgpLmNoID4gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgcmVwbGFjZU9uZVNlbGVjdGlvbih0aGlzJDEuZG9jLCBpLCBuZXcgUmFuZ2UoZnJvbSwgbmV3UmFuZ2VzW2ldLnRvKCkpLCBzZWxfZG9udFNjcm9sbCkgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmdlJCQxLmhlYWQubGluZSA+IGVuZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaW5kZW50TGluZSh0aGlzJDEsIHJhbmdlJCQxLmhlYWQubGluZSwgaG93LCB0cnVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gcmFuZ2UkJDEuaGVhZC5saW5lDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSB0aGlzJDEuZG9jLnNlbC5wcmltSW5kZXgpIHsgZW5zdXJlQ3Vyc29yVmlzaWJsZSh0aGlzJDEpIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLA0KDQogICAgICAgICAgICAvLyBGZXRjaCB0aGUgcGFyc2VyIHRva2VuIGZvciBhIGdpdmVuIGNoYXJhY3Rlci4gVXNlZnVsIGZvciBoYWNrcw0KICAgICAgICAgICAgLy8gdGhhdCB3YW50IHRvIGluc3BlY3QgdGhlIG1vZGUgc3RhdGUgKHNheSwgZm9yIGNvbXBsZXRpb24pLg0KICAgICAgICAgICAgZ2V0VG9rZW5BdDogZnVuY3Rpb24ocG9zLCBwcmVjaXNlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRha2VUb2tlbih0aGlzLCBwb3MsIHByZWNpc2UpDQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICBnZXRMaW5lVG9rZW5zOiBmdW5jdGlvbihsaW5lLCBwcmVjaXNlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRha2VUb2tlbih0aGlzLCBQb3MobGluZSksIHByZWNpc2UsIHRydWUpDQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICBnZXRUb2tlblR5cGVBdDogZnVuY3Rpb24ocG9zKSB7DQogICAgICAgICAgICAgICAgcG9zID0gY2xpcFBvcyh0aGlzLmRvYywgcG9zKQ0KICAgICAgICAgICAgICAgIHZhciBzdHlsZXMgPSBnZXRMaW5lU3R5bGVzKHRoaXMsIGdldExpbmUodGhpcy5kb2MsIHBvcy5saW5lKSkNCiAgICAgICAgICAgICAgICB2YXIgYmVmb3JlID0gMCwgYWZ0ZXIgPSAoc3R5bGVzLmxlbmd0aCAtIDEpIC8gMiwgY2ggPSBwb3MuY2gNCiAgICAgICAgICAgICAgICB2YXIgdHlwZQ0KICAgICAgICAgICAgICAgIGlmIChjaCA9PSAwKSB7IHR5cGUgPSBzdHlsZXNbMl0gfQ0KICAgICAgICAgICAgICAgIGVsc2UgeyBmb3IgKDs7KSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBtaWQgPSAoYmVmb3JlICsgYWZ0ZXIpID4+IDENCiAgICAgICAgICAgICAgICAgICAgaWYgKChtaWQgPyBzdHlsZXNbbWlkICogMiAtIDFdIDogMCkgPj0gY2gpIHsgYWZ0ZXIgPSBtaWQgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdHlsZXNbbWlkICogMiArIDFdIDwgY2gpIHsgYmVmb3JlID0gbWlkICsgMSB9DQogICAgICAgICAgICAgICAgICAgIGVsc2UgeyB0eXBlID0gc3R5bGVzW21pZCAqIDIgKyAyXTsgYnJlYWsgfQ0KICAgICAgICAgICAgICAgIH0gfQ0KICAgICAgICAgICAgICAgIHZhciBjdXQgPSB0eXBlID8gdHlwZS5pbmRleE9mKCJvdmVybGF5ICIpIDogLTENCiAgICAgICAgICAgICAgICByZXR1cm4gY3V0IDwgMCA/IHR5cGUgOiBjdXQgPT0gMCA/IG51bGwgOiB0eXBlLnNsaWNlKDAsIGN1dCAtIDEpDQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICBnZXRNb2RlQXQ6IGZ1bmN0aW9uKHBvcykgew0KICAgICAgICAgICAgICAgIHZhciBtb2RlID0gdGhpcy5kb2MubW9kZQ0KICAgICAgICAgICAgICAgIGlmICghbW9kZS5pbm5lck1vZGUpIHsgcmV0dXJuIG1vZGUgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBDb2RlTWlycm9yLmlubmVyTW9kZShtb2RlLCB0aGlzLmdldFRva2VuQXQocG9zKS5zdGF0ZSkubW9kZQ0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgZ2V0SGVscGVyOiBmdW5jdGlvbihwb3MsIHR5cGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRIZWxwZXJzKHBvcywgdHlwZSlbMF0NCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIGdldEhlbHBlcnM6IGZ1bmN0aW9uKHBvcywgdHlwZSkgew0KICAgICAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gW10NCiAgICAgICAgICAgICAgICBpZiAoIWhlbHBlcnMuaGFzT3duUHJvcGVydHkodHlwZSkpIHsgcmV0dXJuIGZvdW5kIH0NCiAgICAgICAgICAgICAgICB2YXIgaGVscCA9IGhlbHBlcnNbdHlwZV0sIG1vZGUgPSB0aGlzLmdldE1vZGVBdChwb3MpDQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2RlW3R5cGVdID09ICJzdHJpbmciKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChoZWxwW21vZGVbdHlwZV1dKSB7IGZvdW5kLnB1c2goaGVscFttb2RlW3R5cGVdXSkgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZVt0eXBlXSkgew0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZGVbdHlwZV0ubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBoZWxwW21vZGVbdHlwZV1baV1dDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsKSB7IGZvdW5kLnB1c2godmFsKSB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGUuaGVscGVyVHlwZSAmJiBoZWxwW21vZGUuaGVscGVyVHlwZV0pIHsNCiAgICAgICAgICAgICAgICAgICAgZm91bmQucHVzaChoZWxwW21vZGUuaGVscGVyVHlwZV0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoZWxwW21vZGUubmFtZV0pIHsNCiAgICAgICAgICAgICAgICAgICAgZm91bmQucHVzaChoZWxwW21vZGUubmFtZV0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGhlbHAuX2dsb2JhbC5sZW5ndGg7IGkkMSsrKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBjdXIgPSBoZWxwLl9nbG9iYWxbaSQxXQ0KICAgICAgICAgICAgICAgICAgICBpZiAoY3VyLnByZWQobW9kZSwgdGhpcyQxKSAmJiBpbmRleE9mKGZvdW5kLCBjdXIudmFsKSA9PSAtMSkNCiAgICAgICAgICAgICAgICAgICAgeyBmb3VuZC5wdXNoKGN1ci52YWwpIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kDQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICBnZXRTdGF0ZUFmdGVyOiBmdW5jdGlvbihsaW5lLCBwcmVjaXNlKSB7DQogICAgICAgICAgICAgICAgdmFyIGRvYyA9IHRoaXMuZG9jDQogICAgICAgICAgICAgICAgbGluZSA9IGNsaXBMaW5lKGRvYywgbGluZSA9PSBudWxsID8gZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxOiBsaW5lKQ0KICAgICAgICAgICAgICAgIHJldHVybiBnZXRTdGF0ZUJlZm9yZSh0aGlzLCBsaW5lICsgMSwgcHJlY2lzZSkNCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIGN1cnNvckNvb3JkczogZnVuY3Rpb24oc3RhcnQsIG1vZGUpIHsNCiAgICAgICAgICAgICAgICB2YXIgcG9zLCByYW5nZSQkMSA9IHRoaXMuZG9jLnNlbC5wcmltYXJ5KCkNCiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPT0gbnVsbCkgeyBwb3MgPSByYW5nZSQkMS5oZWFkIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgPT0gIm9iamVjdCIpIHsgcG9zID0gY2xpcFBvcyh0aGlzLmRvYywgc3RhcnQpIH0NCiAgICAgICAgICAgICAgICBlbHNlIHsgcG9zID0gc3RhcnQgPyByYW5nZSQkMS5mcm9tKCkgOiByYW5nZSQkMS50bygpIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yQ29vcmRzKHRoaXMsIHBvcywgbW9kZSB8fCAicGFnZSIpDQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICBjaGFyQ29vcmRzOiBmdW5jdGlvbihwb3MsIG1vZGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gY2hhckNvb3Jkcyh0aGlzLCBjbGlwUG9zKHRoaXMuZG9jLCBwb3MpLCBtb2RlIHx8ICJwYWdlIikNCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIGNvb3Jkc0NoYXI6IGZ1bmN0aW9uKGNvb3JkcywgbW9kZSkgew0KICAgICAgICAgICAgICAgIGNvb3JkcyA9IGZyb21Db29yZFN5c3RlbSh0aGlzLCBjb29yZHMsIG1vZGUgfHwgInBhZ2UiKQ0KICAgICAgICAgICAgICAgIHJldHVybiBjb29yZHNDaGFyKHRoaXMsIGNvb3Jkcy5sZWZ0LCBjb29yZHMudG9wKQ0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgbGluZUF0SGVpZ2h0OiBmdW5jdGlvbihoZWlnaHQsIG1vZGUpIHsNCiAgICAgICAgICAgICAgICBoZWlnaHQgPSBmcm9tQ29vcmRTeXN0ZW0odGhpcywge3RvcDogaGVpZ2h0LCBsZWZ0OiAwfSwgbW9kZSB8fCAicGFnZSIpLnRvcA0KICAgICAgICAgICAgICAgIHJldHVybiBsaW5lQXRIZWlnaHQodGhpcy5kb2MsIGhlaWdodCArIHRoaXMuZGlzcGxheS52aWV3T2Zmc2V0KQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGhlaWdodEF0TGluZTogZnVuY3Rpb24obGluZSwgbW9kZSkgew0KICAgICAgICAgICAgICAgIHZhciBlbmQgPSBmYWxzZSwgbGluZU9iag0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGluZSA9PSAibnVtYmVyIikgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdCA9IHRoaXMuZG9jLmZpcnN0ICsgdGhpcy5kb2Muc2l6ZSAtIDENCiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUgPCB0aGlzLmRvYy5maXJzdCkgeyBsaW5lID0gdGhpcy5kb2MuZmlyc3QgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChsaW5lID4gbGFzdCkgeyBsaW5lID0gbGFzdDsgZW5kID0gdHJ1ZSB9DQogICAgICAgICAgICAgICAgICAgIGxpbmVPYmogPSBnZXRMaW5lKHRoaXMuZG9jLCBsaW5lKQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGxpbmVPYmogPSBsaW5lDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBpbnRvQ29vcmRTeXN0ZW0odGhpcywgbGluZU9iaiwge3RvcDogMCwgbGVmdDogMH0sIG1vZGUgfHwgInBhZ2UiKS50b3AgKw0KICAgICAgICAgICAgICAgICAgICAoZW5kID8gdGhpcy5kb2MuaGVpZ2h0IC0gaGVpZ2h0QXRMaW5lKGxpbmVPYmopIDogMCkNCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIGRlZmF1bHRUZXh0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRleHRIZWlnaHQodGhpcy5kaXNwbGF5KSB9LA0KICAgICAgICAgICAgZGVmYXVsdENoYXJXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBjaGFyV2lkdGgodGhpcy5kaXNwbGF5KSB9LA0KDQogICAgICAgICAgICBzZXRHdXR0ZXJNYXJrZXI6IG1ldGhvZE9wKGZ1bmN0aW9uKGxpbmUsIGd1dHRlcklELCB2YWx1ZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2VMaW5lKHRoaXMuZG9jLCBsaW5lLCAiZ3V0dGVyIiwgZnVuY3Rpb24gKGxpbmUpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlcnMgPSBsaW5lLmd1dHRlck1hcmtlcnMgfHwgKGxpbmUuZ3V0dGVyTWFya2VycyA9IHt9KQ0KICAgICAgICAgICAgICAgICAgICBtYXJrZXJzW2d1dHRlcklEXSA9IHZhbHVlDQogICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUgJiYgaXNFbXB0eShtYXJrZXJzKSkgeyBsaW5lLmd1dHRlck1hcmtlcnMgPSBudWxsIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSksDQoNCiAgICAgICAgICAgIGNsZWFyR3V0dGVyOiBtZXRob2RPcChmdW5jdGlvbihndXR0ZXJJRCkgew0KICAgICAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICAgICAgdmFyIGRvYyA9IHRoaXMuZG9jLCBpID0gZG9jLmZpcnN0DQogICAgICAgICAgICAgICAgZG9jLml0ZXIoZnVuY3Rpb24gKGxpbmUpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUuZ3V0dGVyTWFya2VycyAmJiBsaW5lLmd1dHRlck1hcmtlcnNbZ3V0dGVySURdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsaW5lLmd1dHRlck1hcmtlcnNbZ3V0dGVySURdID0gbnVsbA0KICAgICAgICAgICAgICAgICAgICAgICAgcmVnTGluZUNoYW5nZSh0aGlzJDEsIGksICJndXR0ZXIiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRW1wdHkobGluZS5ndXR0ZXJNYXJrZXJzKSkgeyBsaW5lLmd1dHRlck1hcmtlcnMgPSBudWxsIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICArK2kNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSksDQoNCiAgICAgICAgICAgIGxpbmVJbmZvOiBmdW5jdGlvbihsaW5lKSB7DQogICAgICAgICAgICAgICAgdmFyIG4NCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxpbmUgPT0gIm51bWJlciIpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0xpbmUodGhpcy5kb2MsIGxpbmUpKSB7IHJldHVybiBudWxsIH0NCiAgICAgICAgICAgICAgICAgICAgbiA9IGxpbmUNCiAgICAgICAgICAgICAgICAgICAgbGluZSA9IGdldExpbmUodGhpcy5kb2MsIGxpbmUpDQogICAgICAgICAgICAgICAgICAgIGlmICghbGluZSkgeyByZXR1cm4gbnVsbCB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgbiA9IGxpbmVObyhsaW5lKQ0KICAgICAgICAgICAgICAgICAgICBpZiAobiA9PSBudWxsKSB7IHJldHVybiBudWxsIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHtsaW5lOiBuLCBoYW5kbGU6IGxpbmUsIHRleHQ6IGxpbmUudGV4dCwgZ3V0dGVyTWFya2VyczogbGluZS5ndXR0ZXJNYXJrZXJzLA0KICAgICAgICAgICAgICAgICAgICB0ZXh0Q2xhc3M6IGxpbmUudGV4dENsYXNzLCBiZ0NsYXNzOiBsaW5lLmJnQ2xhc3MsIHdyYXBDbGFzczogbGluZS53cmFwQ2xhc3MsDQogICAgICAgICAgICAgICAgICAgIHdpZGdldHM6IGxpbmUud2lkZ2V0c30NCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIGdldFZpZXdwb3J0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHtmcm9tOiB0aGlzLmRpc3BsYXkudmlld0Zyb20sIHRvOiB0aGlzLmRpc3BsYXkudmlld1RvfX0sDQoNCiAgICAgICAgICAgIGFkZFdpZGdldDogZnVuY3Rpb24ocG9zLCBub2RlLCBzY3JvbGwsIHZlcnQsIGhvcml6KSB7DQogICAgICAgICAgICAgICAgdmFyIGRpc3BsYXkgPSB0aGlzLmRpc3BsYXkNCiAgICAgICAgICAgICAgICBwb3MgPSBjdXJzb3JDb29yZHModGhpcywgY2xpcFBvcyh0aGlzLmRvYywgcG9zKSkNCiAgICAgICAgICAgICAgICB2YXIgdG9wID0gcG9zLmJvdHRvbSwgbGVmdCA9IHBvcy5sZWZ0DQogICAgICAgICAgICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSINCiAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgiY20taWdub3JlLWV2ZW50cyIsICJ0cnVlIikNCiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShub2RlKQ0KICAgICAgICAgICAgICAgIGRpc3BsYXkuc2l6ZXIuYXBwZW5kQ2hpbGQobm9kZSkNCiAgICAgICAgICAgICAgICBpZiAodmVydCA9PSAib3ZlciIpIHsNCiAgICAgICAgICAgICAgICAgICAgdG9wID0gcG9zLnRvcA0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmVydCA9PSAiYWJvdmUiIHx8IHZlcnQgPT0gIm5lYXIiKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB2c3BhY2UgPSBNYXRoLm1heChkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0LCB0aGlzLmRvYy5oZWlnaHQpLA0KICAgICAgICAgICAgICAgICAgICAgICAgaHNwYWNlID0gTWF0aC5tYXgoZGlzcGxheS5zaXplci5jbGllbnRXaWR0aCwgZGlzcGxheS5saW5lU3BhY2UuY2xpZW50V2lkdGgpDQogICAgICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gcG9zaXRpb25pbmcgYWJvdmUgKGlmIHNwZWNpZmllZCBhbmQgcG9zc2libGUpOyBvdGhlcndpc2UgZGVmYXVsdCB0byBwb3NpdGlvbmluZyBiZWxvdw0KICAgICAgICAgICAgICAgICAgICBpZiAoKHZlcnQgPT0gJ2Fib3ZlJyB8fCBwb3MuYm90dG9tICsgbm9kZS5vZmZzZXRIZWlnaHQgPiB2c3BhY2UpICYmIHBvcy50b3AgPiBub2RlLm9mZnNldEhlaWdodCkNCiAgICAgICAgICAgICAgICAgICAgeyB0b3AgPSBwb3MudG9wIC0gbm9kZS5vZmZzZXRIZWlnaHQgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwb3MuYm90dG9tICsgbm9kZS5vZmZzZXRIZWlnaHQgPD0gdnNwYWNlKQ0KICAgICAgICAgICAgICAgICAgICB7IHRvcCA9IHBvcy5ib3R0b20gfQ0KICAgICAgICAgICAgICAgICAgICBpZiAobGVmdCArIG5vZGUub2Zmc2V0V2lkdGggPiBoc3BhY2UpDQogICAgICAgICAgICAgICAgICAgIHsgbGVmdCA9IGhzcGFjZSAtIG5vZGUub2Zmc2V0V2lkdGggfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBub2RlLnN0eWxlLnRvcCA9IHRvcCArICJweCINCiAgICAgICAgICAgICAgICBub2RlLnN0eWxlLmxlZnQgPSBub2RlLnN0eWxlLnJpZ2h0ID0gIiINCiAgICAgICAgICAgICAgICBpZiAoaG9yaXogPT0gInJpZ2h0Iikgew0KICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gZGlzcGxheS5zaXplci5jbGllbnRXaWR0aCAtIG5vZGUub2Zmc2V0V2lkdGgNCiAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZS5yaWdodCA9ICIwcHgiDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGhvcml6ID09ICJsZWZ0IikgeyBsZWZ0ID0gMCB9DQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhvcml6ID09ICJtaWRkbGUiKSB7IGxlZnQgPSAoZGlzcGxheS5zaXplci5jbGllbnRXaWR0aCAtIG5vZGUub2Zmc2V0V2lkdGgpIC8gMiB9DQogICAgICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUubGVmdCA9IGxlZnQgKyAicHgiDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChzY3JvbGwpDQogICAgICAgICAgICAgICAgeyBzY3JvbGxJbnRvVmlldyh0aGlzLCBsZWZ0LCB0b3AsIGxlZnQgKyBub2RlLm9mZnNldFdpZHRoLCB0b3AgKyBub2RlLm9mZnNldEhlaWdodCkgfQ0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgdHJpZ2dlck9uS2V5RG93bjogbWV0aG9kT3Aob25LZXlEb3duKSwNCiAgICAgICAgICAgIHRyaWdnZXJPbktleVByZXNzOiBtZXRob2RPcChvbktleVByZXNzKSwNCiAgICAgICAgICAgIHRyaWdnZXJPbktleVVwOiBvbktleVVwLA0KDQogICAgICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24oY21kKSB7DQogICAgICAgICAgICAgICAgaWYgKGNvbW1hbmRzLmhhc093blByb3BlcnR5KGNtZCkpDQogICAgICAgICAgICAgICAgeyByZXR1cm4gY29tbWFuZHNbY21kXS5jYWxsKG51bGwsIHRoaXMpIH0NCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIHRyaWdnZXJFbGVjdHJpYzogbWV0aG9kT3AoZnVuY3Rpb24odGV4dCkgeyB0cmlnZ2VyRWxlY3RyaWModGhpcywgdGV4dCkgfSksDQoNCiAgICAgICAgICAgIGZpbmRQb3NIOiBmdW5jdGlvbihmcm9tLCBhbW91bnQsIHVuaXQsIHZpc3VhbGx5KSB7DQogICAgICAgICAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7DQoNCiAgICAgICAgICAgICAgICB2YXIgZGlyID0gMQ0KICAgICAgICAgICAgICAgIGlmIChhbW91bnQgPCAwKSB7IGRpciA9IC0xOyBhbW91bnQgPSAtYW1vdW50IH0NCiAgICAgICAgICAgICAgICB2YXIgY3VyID0gY2xpcFBvcyh0aGlzLmRvYywgZnJvbSkNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7DQogICAgICAgICAgICAgICAgICAgIGN1ciA9IGZpbmRQb3NIKHRoaXMkMS5kb2MsIGN1ciwgZGlyLCB1bml0LCB2aXN1YWxseSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5oaXRTaWRlKSB7IGJyZWFrIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGN1cg0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgbW92ZUg6IG1ldGhvZE9wKGZ1bmN0aW9uKGRpciwgdW5pdCkgew0KICAgICAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICAgICAgdGhpcy5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24gKHJhbmdlJCQxKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzJDEuZGlzcGxheS5zaGlmdCB8fCB0aGlzJDEuZG9jLmV4dGVuZCB8fCByYW5nZSQkMS5lbXB0eSgpKQ0KICAgICAgICAgICAgICAgICAgICB7IHJldHVybiBmaW5kUG9zSCh0aGlzJDEuZG9jLCByYW5nZSQkMS5oZWFkLCBkaXIsIHVuaXQsIHRoaXMkMS5vcHRpb25zLnJ0bE1vdmVWaXN1YWxseSkgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIHsgcmV0dXJuIGRpciA8IDAgPyByYW5nZSQkMS5mcm9tKCkgOiByYW5nZSQkMS50bygpIH0NCiAgICAgICAgICAgICAgICB9LCBzZWxfbW92ZSkNCiAgICAgICAgICAgIH0pLA0KDQogICAgICAgICAgICBkZWxldGVIOiBtZXRob2RPcChmdW5jdGlvbihkaXIsIHVuaXQpIHsNCiAgICAgICAgICAgICAgICB2YXIgc2VsID0gdGhpcy5kb2Muc2VsLCBkb2MgPSB0aGlzLmRvYw0KICAgICAgICAgICAgICAgIGlmIChzZWwuc29tZXRoaW5nU2VsZWN0ZWQoKSkNCiAgICAgICAgICAgICAgICB7IGRvYy5yZXBsYWNlU2VsZWN0aW9uKCIiLCBudWxsLCAiK2RlbGV0ZSIpIH0NCiAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgeyBkZWxldGVOZWFyU2VsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uIChyYW5nZSQkMSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXIgPSBmaW5kUG9zSChkb2MsIHJhbmdlJCQxLmhlYWQsIGRpciwgdW5pdCwgZmFsc2UpDQogICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXIgPCAwID8ge2Zyb206IG90aGVyLCB0bzogcmFuZ2UkJDEuaGVhZH0gOiB7ZnJvbTogcmFuZ2UkJDEuaGVhZCwgdG86IG90aGVyfQ0KICAgICAgICAgICAgICAgIH0pIH0NCiAgICAgICAgICAgIH0pLA0KDQogICAgICAgICAgICBmaW5kUG9zVjogZnVuY3Rpb24oZnJvbSwgYW1vdW50LCB1bml0LCBnb2FsQ29sdW1uKSB7DQogICAgICAgICAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7DQoNCiAgICAgICAgICAgICAgICB2YXIgZGlyID0gMSwgeCA9IGdvYWxDb2x1bW4NCiAgICAgICAgICAgICAgICBpZiAoYW1vdW50IDwgMCkgeyBkaXIgPSAtMTsgYW1vdW50ID0gLWFtb3VudCB9DQogICAgICAgICAgICAgICAgdmFyIGN1ciA9IGNsaXBQb3ModGhpcy5kb2MsIGZyb20pDQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmRzID0gY3Vyc29yQ29vcmRzKHRoaXMkMSwgY3VyLCAiZGl2IikNCiAgICAgICAgICAgICAgICAgICAgaWYgKHggPT0gbnVsbCkgeyB4ID0gY29vcmRzLmxlZnQgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsgY29vcmRzLmxlZnQgPSB4IH0NCiAgICAgICAgICAgICAgICAgICAgY3VyID0gZmluZFBvc1YodGhpcyQxLCBjb29yZHMsIGRpciwgdW5pdCkNCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5oaXRTaWRlKSB7IGJyZWFrIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGN1cg0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgbW92ZVY6IG1ldGhvZE9wKGZ1bmN0aW9uKGRpciwgdW5pdCkgew0KICAgICAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICAgICAgdmFyIGRvYyA9IHRoaXMuZG9jLCBnb2FscyA9IFtdDQogICAgICAgICAgICAgICAgdmFyIGNvbGxhcHNlID0gIXRoaXMuZGlzcGxheS5zaGlmdCAmJiAhZG9jLmV4dGVuZCAmJiBkb2Muc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCkNCiAgICAgICAgICAgICAgICBkb2MuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uIChyYW5nZSQkMSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGFwc2UpDQogICAgICAgICAgICAgICAgICAgIHsgcmV0dXJuIGRpciA8IDAgPyByYW5nZSQkMS5mcm9tKCkgOiByYW5nZSQkMS50bygpIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWRQb3MgPSBjdXJzb3JDb29yZHModGhpcyQxLCByYW5nZSQkMS5oZWFkLCAiZGl2IikNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlJCQxLmdvYWxDb2x1bW4gIT0gbnVsbCkgeyBoZWFkUG9zLmxlZnQgPSByYW5nZSQkMS5nb2FsQ29sdW1uIH0NCiAgICAgICAgICAgICAgICAgICAgZ29hbHMucHVzaChoZWFkUG9zLmxlZnQpDQogICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBmaW5kUG9zVih0aGlzJDEsIGhlYWRQb3MsIGRpciwgdW5pdCkNCiAgICAgICAgICAgICAgICAgICAgaWYgKHVuaXQgPT0gInBhZ2UiICYmIHJhbmdlJCQxID09IGRvYy5zZWwucHJpbWFyeSgpKQ0KICAgICAgICAgICAgICAgICAgICB7IGFkZFRvU2Nyb2xsUG9zKHRoaXMkMSwgbnVsbCwgY2hhckNvb3Jkcyh0aGlzJDEsIHBvcywgImRpdiIpLnRvcCAtIGhlYWRQb3MudG9wKSB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3MNCiAgICAgICAgICAgICAgICB9LCBzZWxfbW92ZSkNCiAgICAgICAgICAgICAgICBpZiAoZ29hbHMubGVuZ3RoKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspDQogICAgICAgICAgICAgICAgeyBkb2Muc2VsLnJhbmdlc1tpXS5nb2FsQ29sdW1uID0gZ29hbHNbaV0gfSB9DQogICAgICAgICAgICB9KSwNCg0KICAgICAgICAgICAgLy8gRmluZCB0aGUgd29yZCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gKGFzIHJldHVybmVkIGJ5IGNvb3Jkc0NoYXIpLg0KICAgICAgICAgICAgZmluZFdvcmRBdDogZnVuY3Rpb24ocG9zKSB7DQogICAgICAgICAgICAgICAgdmFyIGRvYyA9IHRoaXMuZG9jLCBsaW5lID0gZ2V0TGluZShkb2MsIHBvcy5saW5lKS50ZXh0DQogICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcG9zLmNoLCBlbmQgPSBwb3MuY2gNCiAgICAgICAgICAgICAgICBpZiAobGluZSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgaGVscGVyID0gdGhpcy5nZXRIZWxwZXIocG9zLCAid29yZENoYXJzIikNCiAgICAgICAgICAgICAgICAgICAgaWYgKChwb3MueFJlbCA8IDAgfHwgZW5kID09IGxpbmUubGVuZ3RoKSAmJiBzdGFydCkgeyAtLXN0YXJ0OyB9IGVsc2UgeyArK2VuZCB9DQogICAgICAgICAgICAgICAgICAgIHZhciBzdGFydENoYXIgPSBsaW5lLmNoYXJBdChzdGFydCkNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrID0gaXNXb3JkQ2hhcihzdGFydENoYXIsIGhlbHBlcikNCiAgICAgICAgICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKGNoKSB7IHJldHVybiBpc1dvcmRDaGFyKGNoLCBoZWxwZXIpOyB9DQogICAgICAgICAgICAgICAgICAgICAgICA6IC9ccy8udGVzdChzdGFydENoYXIpID8gZnVuY3Rpb24gKGNoKSB7IHJldHVybiAvXHMvLnRlc3QoY2gpOyB9DQogICAgICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChjaCkgeyByZXR1cm4gKCEvXHMvLnRlc3QoY2gpICYmICFpc1dvcmRDaGFyKGNoKSk7IH0NCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YXJ0ID4gMCAmJiBjaGVjayhsaW5lLmNoYXJBdChzdGFydCAtIDEpKSkgeyAtLXN0YXJ0IH0NCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGVuZCA8IGxpbmUubGVuZ3RoICYmIGNoZWNrKGxpbmUuY2hhckF0KGVuZCkpKSB7ICsrZW5kIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShQb3MocG9zLmxpbmUsIHN0YXJ0KSwgUG9zKHBvcy5saW5lLCBlbmQpKQ0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgdG9nZ2xlT3ZlcndyaXRlOiBmdW5jdGlvbih2YWx1ZSkgew0KICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHZhbHVlID09IHRoaXMuc3RhdGUub3ZlcndyaXRlKSB7IHJldHVybiB9DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUub3ZlcndyaXRlID0gIXRoaXMuc3RhdGUub3ZlcndyaXRlKQ0KICAgICAgICAgICAgICAgIHsgYWRkQ2xhc3ModGhpcy5kaXNwbGF5LmN1cnNvckRpdiwgIkNvZGVNaXJyb3Itb3ZlcndyaXRlIikgfQ0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICB7IHJtQ2xhc3ModGhpcy5kaXNwbGF5LmN1cnNvckRpdiwgIkNvZGVNaXJyb3Itb3ZlcndyaXRlIikgfQ0KDQogICAgICAgICAgICAgICAgc2lnbmFsKHRoaXMsICJvdmVyd3JpdGVUb2dnbGUiLCB0aGlzLCB0aGlzLnN0YXRlLm92ZXJ3cml0ZSkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBoYXNGb2N1czogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRpc3BsYXkuaW5wdXQuZ2V0RmllbGQoKSA9PSBhY3RpdmVFbHQoKSB9LA0KICAgICAgICAgICAgaXNSZWFkT25seTogZnVuY3Rpb24oKSB7IHJldHVybiAhISh0aGlzLm9wdGlvbnMucmVhZE9ubHkgfHwgdGhpcy5kb2MuY2FudEVkaXQpIH0sDQoNCiAgICAgICAgICAgIHNjcm9sbFRvOiBtZXRob2RPcChmdW5jdGlvbih4LCB5KSB7DQogICAgICAgICAgICAgICAgaWYgKHggIT0gbnVsbCB8fCB5ICE9IG51bGwpIHsgcmVzb2x2ZVNjcm9sbFRvUG9zKHRoaXMpIH0NCiAgICAgICAgICAgICAgICBpZiAoeCAhPSBudWxsKSB7IHRoaXMuY3VyT3Auc2Nyb2xsTGVmdCA9IHggfQ0KICAgICAgICAgICAgICAgIGlmICh5ICE9IG51bGwpIHsgdGhpcy5jdXJPcC5zY3JvbGxUb3AgPSB5IH0NCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgZ2V0U2Nyb2xsSW5mbzogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgdmFyIHNjcm9sbGVyID0gdGhpcy5kaXNwbGF5LnNjcm9sbGVyDQogICAgICAgICAgICAgICAgcmV0dXJuIHtsZWZ0OiBzY3JvbGxlci5zY3JvbGxMZWZ0LCB0b3A6IHNjcm9sbGVyLnNjcm9sbFRvcCwNCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBzY3JvbGxlci5zY3JvbGxIZWlnaHQgLSBzY3JvbGxHYXAodGhpcykgLSB0aGlzLmRpc3BsYXkuYmFySGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogc2Nyb2xsZXIuc2Nyb2xsV2lkdGggLSBzY3JvbGxHYXAodGhpcykgLSB0aGlzLmRpc3BsYXkuYmFyV2lkdGgsDQogICAgICAgICAgICAgICAgICAgIGNsaWVudEhlaWdodDogZGlzcGxheUhlaWdodCh0aGlzKSwgY2xpZW50V2lkdGg6IGRpc3BsYXlXaWR0aCh0aGlzKX0NCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIHNjcm9sbEludG9WaWV3OiBtZXRob2RPcChmdW5jdGlvbihyYW5nZSQkMSwgbWFyZ2luKSB7DQogICAgICAgICAgICAgICAgaWYgKHJhbmdlJCQxID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2UkJDEgPSB7ZnJvbTogdGhpcy5kb2Muc2VsLnByaW1hcnkoKS5oZWFkLCB0bzogbnVsbH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmdpbiA9PSBudWxsKSB7IG1hcmdpbiA9IHRoaXMub3B0aW9ucy5jdXJzb3JTY3JvbGxNYXJnaW4gfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJhbmdlJCQxID09ICJudW1iZXIiKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlJCQxID0ge2Zyb206IFBvcyhyYW5nZSQkMSwgMCksIHRvOiBudWxsfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UkJDEuZnJvbSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlJCQxID0ge2Zyb206IHJhbmdlJCQxLCB0bzogbnVsbH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCFyYW5nZSQkMS50bykgeyByYW5nZSQkMS50byA9IHJhbmdlJCQxLmZyb20gfQ0KICAgICAgICAgICAgICAgIHJhbmdlJCQxLm1hcmdpbiA9IG1hcmdpbiB8fCAwDQoNCiAgICAgICAgICAgICAgICBpZiAocmFuZ2UkJDEuZnJvbS5saW5lICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVNjcm9sbFRvUG9zKHRoaXMpDQogICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyT3Auc2Nyb2xsVG9Qb3MgPSByYW5nZSQkMQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBzUG9zID0gY2FsY3VsYXRlU2Nyb2xsUG9zKHRoaXMsIE1hdGgubWluKHJhbmdlJCQxLmZyb20ubGVmdCwgcmFuZ2UkJDEudG8ubGVmdCksDQogICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihyYW5nZSQkMS5mcm9tLnRvcCwgcmFuZ2UkJDEudG8udG9wKSAtIHJhbmdlJCQxLm1hcmdpbiwNCiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHJhbmdlJCQxLmZyb20ucmlnaHQsIHJhbmdlJCQxLnRvLnJpZ2h0KSwNCiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHJhbmdlJCQxLmZyb20uYm90dG9tLCByYW5nZSQkMS50by5ib3R0b20pICsgcmFuZ2UkJDEubWFyZ2luKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHNQb3Muc2Nyb2xsTGVmdCwgc1Bvcy5zY3JvbGxUb3ApDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSksDQoNCiAgICAgICAgICAgIHNldFNpemU6IG1ldGhvZE9wKGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsNCiAgICAgICAgICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICAgICAgICAgIHZhciBpbnRlcnByZXQgPSBmdW5jdGlvbiAodmFsKSB7IHJldHVybiB0eXBlb2YgdmFsID09ICJudW1iZXIiIHx8IC9eXGQrJC8udGVzdChTdHJpbmcodmFsKSkgPyB2YWwgKyAicHgiIDogdmFsOyB9DQogICAgICAgICAgICAgICAgaWYgKHdpZHRoICE9IG51bGwpIHsgdGhpcy5kaXNwbGF5LndyYXBwZXIuc3R5bGUud2lkdGggPSBpbnRlcnByZXQod2lkdGgpIH0NCiAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0ICE9IG51bGwpIHsgdGhpcy5kaXNwbGF5LndyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gaW50ZXJwcmV0KGhlaWdodCkgfQ0KICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7IGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGUodGhpcykgfQ0KICAgICAgICAgICAgICAgIHZhciBsaW5lTm8kJDEgPSB0aGlzLmRpc3BsYXkudmlld0Zyb20NCiAgICAgICAgICAgICAgICB0aGlzLmRvYy5pdGVyKGxpbmVObyQkMSwgdGhpcy5kaXNwbGF5LnZpZXdUbywgZnVuY3Rpb24gKGxpbmUpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUud2lkZ2V0cykgeyBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmUud2lkZ2V0cy5sZW5ndGg7IGkrKykNCiAgICAgICAgICAgICAgICAgICAgeyBpZiAobGluZS53aWRnZXRzW2ldLm5vSFNjcm9sbCkgeyByZWdMaW5lQ2hhbmdlKHRoaXMkMSwgbGluZU5vJCQxLCAid2lkZ2V0Iik7IGJyZWFrIH0gfSB9DQogICAgICAgICAgICAgICAgICAgICsrbGluZU5vJCQxDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIHNpZ25hbCh0aGlzLCAicmVmcmVzaCIsIHRoaXMpDQogICAgICAgICAgICB9KSwNCg0KICAgICAgICAgICAgb3BlcmF0aW9uOiBmdW5jdGlvbihmKXtyZXR1cm4gcnVuSW5PcCh0aGlzLCBmKX0sDQoNCiAgICAgICAgICAgIHJlZnJlc2g6IG1ldGhvZE9wKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHZhciBvbGRIZWlnaHQgPSB0aGlzLmRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodA0KICAgICAgICAgICAgICAgIHJlZ0NoYW5nZSh0aGlzKQ0KICAgICAgICAgICAgICAgIHRoaXMuY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlDQogICAgICAgICAgICAgICAgY2xlYXJDYWNoZXModGhpcykNCiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHRoaXMuZG9jLnNjcm9sbExlZnQsIHRoaXMuZG9jLnNjcm9sbFRvcCkNCiAgICAgICAgICAgICAgICB1cGRhdGVHdXR0ZXJTcGFjZSh0aGlzKQ0KICAgICAgICAgICAgICAgIGlmIChvbGRIZWlnaHQgPT0gbnVsbCB8fCBNYXRoLmFicyhvbGRIZWlnaHQgLSB0ZXh0SGVpZ2h0KHRoaXMuZGlzcGxheSkpID4gLjUpDQogICAgICAgICAgICAgICAgeyBlc3RpbWF0ZUxpbmVIZWlnaHRzKHRoaXMpIH0NCiAgICAgICAgICAgICAgICBzaWduYWwodGhpcywgInJlZnJlc2giLCB0aGlzKQ0KICAgICAgICAgICAgfSksDQoNCiAgICAgICAgICAgIHN3YXBEb2M6IG1ldGhvZE9wKGZ1bmN0aW9uKGRvYykgew0KICAgICAgICAgICAgICAgIHZhciBvbGQgPSB0aGlzLmRvYw0KICAgICAgICAgICAgICAgIG9sZC5jbSA9IG51bGwNCiAgICAgICAgICAgICAgICBhdHRhY2hEb2ModGhpcywgZG9jKQ0KICAgICAgICAgICAgICAgIGNsZWFyQ2FjaGVzKHRoaXMpDQogICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmlucHV0LnJlc2V0KCkNCiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKGRvYy5zY3JvbGxMZWZ0LCBkb2Muc2Nyb2xsVG9wKQ0KICAgICAgICAgICAgICAgIHRoaXMuY3VyT3AuZm9yY2VTY3JvbGwgPSB0cnVlDQogICAgICAgICAgICAgICAgc2lnbmFsTGF0ZXIodGhpcywgInN3YXBEb2MiLCB0aGlzLCBvbGQpDQogICAgICAgICAgICAgICAgcmV0dXJuIG9sZA0KICAgICAgICAgICAgfSksDQoNCiAgICAgICAgICAgIGdldElucHV0RmllbGQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5pbnB1dC5nZXRGaWVsZCgpfSwNCiAgICAgICAgICAgIGdldFdyYXBwZXJFbGVtZW50OiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkud3JhcHBlcn0sDQogICAgICAgICAgICBnZXRTY3JvbGxlckVsZW1lbnQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5zY3JvbGxlcn0sDQogICAgICAgICAgICBnZXRHdXR0ZXJFbGVtZW50OiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuZ3V0dGVyc30NCiAgICAgICAgfQ0KICAgICAgICBldmVudE1peGluKENvZGVNaXJyb3IpDQoNCiAgICAgICAgQ29kZU1pcnJvci5yZWdpc3RlckhlbHBlciA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHZhbHVlKSB7DQogICAgICAgICAgICBpZiAoIWhlbHBlcnMuaGFzT3duUHJvcGVydHkodHlwZSkpIHsgaGVscGVyc1t0eXBlXSA9IENvZGVNaXJyb3JbdHlwZV0gPSB7X2dsb2JhbDogW119IH0NCiAgICAgICAgICAgIGhlbHBlcnNbdHlwZV1bbmFtZV0gPSB2YWx1ZQ0KICAgICAgICB9DQogICAgICAgIENvZGVNaXJyb3IucmVnaXN0ZXJHbG9iYWxIZWxwZXIgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBwcmVkaWNhdGUsIHZhbHVlKSB7DQogICAgICAgICAgICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKHR5cGUsIG5hbWUsIHZhbHVlKQ0KICAgICAgICAgICAgaGVscGVyc1t0eXBlXS5fZ2xvYmFsLnB1c2goe3ByZWQ6IHByZWRpY2F0ZSwgdmFsOiB2YWx1ZX0pDQogICAgICAgIH0NCiAgICB9DQoNCi8vIFVzZWQgZm9yIGhvcml6b250YWwgcmVsYXRpdmUgbW90aW9uLiBEaXIgaXMgLTEgb3IgMSAobGVmdCBvcg0KLy8gcmlnaHQpLCB1bml0IGNhbiBiZSAiY2hhciIsICJjb2x1bW4iIChsaWtlIGNoYXIsIGJ1dCBkb2Vzbid0DQovLyBjcm9zcyBsaW5lIGJvdW5kYXJpZXMpLCAid29yZCIgKGFjcm9zcyBuZXh0IHdvcmQpLCBvciAiZ3JvdXAiICh0bw0KLy8gdGhlIHN0YXJ0IG9mIG5leHQgZ3JvdXAgb2Ygd29yZCBvciBub24td29yZC1ub24td2hpdGVzcGFjZQ0KLy8gY2hhcnMpLiBUaGUgdmlzdWFsbHkgcGFyYW0gY29udHJvbHMgd2hldGhlciwgaW4gcmlnaHQtdG8tbGVmdA0KLy8gdGV4dCwgZGlyZWN0aW9uIDEgbWVhbnMgdG8gbW92ZSB0b3dhcmRzIHRoZSBuZXh0IGluZGV4IGluIHRoZQ0KLy8gc3RyaW5nLCBvciB0b3dhcmRzIHRoZSBjaGFyYWN0ZXIgdG8gdGhlIHJpZ2h0IG9mIHRoZSBjdXJyZW50DQovLyBwb3NpdGlvbi4gVGhlIHJlc3VsdGluZyBwb3NpdGlvbiB3aWxsIGhhdmUgYSBoaXRTaWRlPXRydWUNCi8vIHByb3BlcnR5IGlmIGl0IHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuDQogICAgZnVuY3Rpb24gZmluZFBvc0goZG9jLCBwb3MsIGRpciwgdW5pdCwgdmlzdWFsbHkpIHsNCiAgICAgICAgdmFyIGxpbmUgPSBwb3MubGluZSwgY2ggPSBwb3MuY2gsIG9yaWdEaXIgPSBkaXINCiAgICAgICAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbGluZSkNCiAgICAgICAgZnVuY3Rpb24gZmluZE5leHRMaW5lKCkgew0KICAgICAgICAgICAgdmFyIGwgPSBsaW5lICsgZGlyDQogICAgICAgICAgICBpZiAobCA8IGRvYy5maXJzdCB8fCBsID49IGRvYy5maXJzdCArIGRvYy5zaXplKSB7IHJldHVybiBmYWxzZSB9DQogICAgICAgICAgICBsaW5lID0gbA0KICAgICAgICAgICAgcmV0dXJuIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbCkNCiAgICAgICAgfQ0KICAgICAgICBmdW5jdGlvbiBtb3ZlT25jZShib3VuZFRvTGluZSkgew0KICAgICAgICAgICAgdmFyIG5leHQgPSAodmlzdWFsbHkgPyBtb3ZlVmlzdWFsbHkgOiBtb3ZlTG9naWNhbGx5KShsaW5lT2JqLCBjaCwgZGlyLCB0cnVlKQ0KICAgICAgICAgICAgaWYgKG5leHQgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGlmICghYm91bmRUb0xpbmUgJiYgZmluZE5leHRMaW5lKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHZpc3VhbGx5KSB7IGNoID0gKGRpciA8IDAgPyBsaW5lUmlnaHQgOiBsaW5lTGVmdCkobGluZU9iaikgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsgY2ggPSBkaXIgPCAwID8gbGluZU9iai50ZXh0Lmxlbmd0aCA6IDAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZSB9DQogICAgICAgICAgICB9IGVsc2UgeyBjaCA9IG5leHQgfQ0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICh1bml0ID09ICJjaGFyIikgew0KICAgICAgICAgICAgbW92ZU9uY2UoKQ0KICAgICAgICB9IGVsc2UgaWYgKHVuaXQgPT0gImNvbHVtbiIpIHsNCiAgICAgICAgICAgIG1vdmVPbmNlKHRydWUpDQogICAgICAgIH0gZWxzZSBpZiAodW5pdCA9PSAid29yZCIgfHwgdW5pdCA9PSAiZ3JvdXAiKSB7DQogICAgICAgICAgICB2YXIgc2F3VHlwZSA9IG51bGwsIGdyb3VwID0gdW5pdCA9PSAiZ3JvdXAiDQogICAgICAgICAgICB2YXIgaGVscGVyID0gZG9jLmNtICYmIGRvYy5jbS5nZXRIZWxwZXIocG9zLCAid29yZENoYXJzIikNCiAgICAgICAgICAgIGZvciAodmFyIGZpcnN0ID0gdHJ1ZTs7IGZpcnN0ID0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICBpZiAoZGlyIDwgMCAmJiAhbW92ZU9uY2UoIWZpcnN0KSkgeyBicmVhayB9DQogICAgICAgICAgICAgICAgdmFyIGN1ciA9IGxpbmVPYmoudGV4dC5jaGFyQXQoY2gpIHx8ICJcbiINCiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGlzV29yZENoYXIoY3VyLCBoZWxwZXIpID8gInciDQogICAgICAgICAgICAgICAgICAgIDogZ3JvdXAgJiYgY3VyID09ICJcbiIgPyAibiINCiAgICAgICAgICAgICAgICAgICAgOiAhZ3JvdXAgfHwgL1xzLy50ZXN0KGN1cikgPyBudWxsDQogICAgICAgICAgICAgICAgICAgIDogInAiDQogICAgICAgICAgICAgICAgaWYgKGdyb3VwICYmICFmaXJzdCAmJiAhdHlwZSkgeyB0eXBlID0gInMiIH0NCiAgICAgICAgICAgICAgICBpZiAoc2F3VHlwZSAmJiBzYXdUeXBlICE9IHR5cGUpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRpciA8IDApIHtkaXIgPSAxOyBtb3ZlT25jZSgpfQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmICh0eXBlKSB7IHNhd1R5cGUgPSB0eXBlIH0NCiAgICAgICAgICAgICAgICBpZiAoZGlyID4gMCAmJiAhbW92ZU9uY2UoIWZpcnN0KSkgeyBicmVhayB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdmFyIHJlc3VsdCA9IHNraXBBdG9taWMoZG9jLCBQb3MobGluZSwgY2gpLCBwb3MsIG9yaWdEaXIsIHRydWUpDQogICAgICAgIGlmICghY21wKHBvcywgcmVzdWx0KSkgeyByZXN1bHQuaGl0U2lkZSA9IHRydWUgfQ0KICAgICAgICByZXR1cm4gcmVzdWx0DQogICAgfQ0KDQovLyBGb3IgcmVsYXRpdmUgdmVydGljYWwgbW92ZW1lbnQuIERpciBtYXkgYmUgLTEgb3IgMS4gVW5pdCBjYW4gYmUNCi8vICJwYWdlIiBvciAibGluZSIuIFRoZSByZXN1bHRpbmcgcG9zaXRpb24gd2lsbCBoYXZlIGEgaGl0U2lkZT10cnVlDQovLyBwcm9wZXJ0eSBpZiBpdCByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50Lg0KICAgIGZ1bmN0aW9uIGZpbmRQb3NWKGNtLCBwb3MsIGRpciwgdW5pdCkgew0KICAgICAgICB2YXIgZG9jID0gY20uZG9jLCB4ID0gcG9zLmxlZnQsIHkNCiAgICAgICAgaWYgKHVuaXQgPT0gInBhZ2UiKSB7DQogICAgICAgICAgICB2YXIgcGFnZVNpemUgPSBNYXRoLm1pbihjbS5kaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkNCiAgICAgICAgICAgIHZhciBtb3ZlQW1vdW50ID0gTWF0aC5tYXgocGFnZVNpemUgLSAuNSAqIHRleHRIZWlnaHQoY20uZGlzcGxheSksIDMpDQogICAgICAgICAgICB5ID0gKGRpciA+IDAgPyBwb3MuYm90dG9tIDogcG9zLnRvcCkgKyBkaXIgKiBtb3ZlQW1vdW50DQoNCiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09ICJsaW5lIikgew0KICAgICAgICAgICAgeSA9IGRpciA+IDAgPyBwb3MuYm90dG9tICsgMyA6IHBvcy50b3AgLSAzDQogICAgICAgIH0NCiAgICAgICAgdmFyIHRhcmdldA0KICAgICAgICBmb3IgKDs7KSB7DQogICAgICAgICAgICB0YXJnZXQgPSBjb29yZHNDaGFyKGNtLCB4LCB5KQ0KICAgICAgICAgICAgaWYgKCF0YXJnZXQub3V0c2lkZSkgeyBicmVhayB9DQogICAgICAgICAgICBpZiAoZGlyIDwgMCA/IHkgPD0gMCA6IHkgPj0gZG9jLmhlaWdodCkgeyB0YXJnZXQuaGl0U2lkZSA9IHRydWU7IGJyZWFrIH0NCiAgICAgICAgICAgIHkgKz0gZGlyICogNQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiB0YXJnZXQNCiAgICB9DQoNCi8vIENPTlRFTlRFRElUQUJMRSBJTlBVVCBTVFlMRQ0KDQogICAgZnVuY3Rpb24gQ29udGVudEVkaXRhYmxlSW5wdXQoY20pIHsNCiAgICAgICAgdGhpcy5jbSA9IGNtDQogICAgICAgIHRoaXMubGFzdEFuY2hvck5vZGUgPSB0aGlzLmxhc3RBbmNob3JPZmZzZXQgPSB0aGlzLmxhc3RGb2N1c05vZGUgPSB0aGlzLmxhc3RGb2N1c09mZnNldCA9IG51bGwNCiAgICAgICAgdGhpcy5wb2xsaW5nID0gbmV3IERlbGF5ZWQoKQ0KICAgICAgICB0aGlzLmdyYWNlUGVyaW9kID0gZmFsc2UNCiAgICB9DQoNCiAgICBDb250ZW50RWRpdGFibGVJbnB1dC5wcm90b3R5cGUgPSBjb3B5T2JqKHsNCiAgICAgICAgaW5pdDogZnVuY3Rpb24oZGlzcGxheSkgew0KICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgY20gPSBpbnB1dC5jbQ0KICAgICAgICAgICAgdmFyIGRpdiA9IGlucHV0LmRpdiA9IGRpc3BsYXkubGluZURpdg0KICAgICAgICAgICAgZGlzYWJsZUJyb3dzZXJNYWdpYyhkaXYsIGNtLm9wdGlvbnMuc3BlbGxjaGVjaykNCg0KICAgICAgICAgICAgb24oZGl2LCAicGFzdGUiLCBmdW5jdGlvbiAoZSkgew0KICAgICAgICAgICAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkgfHwgaGFuZGxlUGFzdGUoZSwgY20pKSB7IHJldHVybiB9DQogICAgICAgICAgICAgICAgLy8gSUUgZG9lc24ndCBmaXJlIGlucHV0IGV2ZW50cywgc28gd2Ugc2NoZWR1bGUgYSByZWFkIGZvciB0aGUgcGFzdGVkIGNvbnRlbnQgaW4gdGhpcyB3YXkNCiAgICAgICAgICAgICAgICBpZiAoaWVfdmVyc2lvbiA8PSAxMSkgeyBzZXRUaW1lb3V0KG9wZXJhdGlvbihjbSwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0LnBvbGxDb250ZW50KCkpIHsgcmVnQ2hhbmdlKGNtKSB9DQogICAgICAgICAgICAgICAgfSksIDIwKSB9DQogICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICBvbihkaXYsICJjb21wb3NpdGlvbnN0YXJ0IiwgZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YQ0KICAgICAgICAgICAgICAgIGlucHV0LmNvbXBvc2luZyA9IHtzZWw6IGNtLmRvYy5zZWwsIGRhdGE6IGRhdGEsIHN0YXJ0RGF0YTogZGF0YX0NCiAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHsgcmV0dXJuIH0NCiAgICAgICAgICAgICAgICB2YXIgcHJpbSA9IGNtLmRvYy5zZWwucHJpbWFyeSgpDQogICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBjbS5nZXRMaW5lKHByaW0uaGVhZC5saW5lKQ0KICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGxpbmUuaW5kZXhPZihkYXRhLCBNYXRoLm1heCgwLCBwcmltLmhlYWQuY2ggLSBkYXRhLmxlbmd0aCkpDQogICAgICAgICAgICAgICAgaWYgKGZvdW5kID4gLTEgJiYgZm91bmQgPD0gcHJpbS5oZWFkLmNoKQ0KICAgICAgICAgICAgICAgIHsgaW5wdXQuY29tcG9zaW5nLnNlbCA9IHNpbXBsZVNlbGVjdGlvbihQb3MocHJpbS5oZWFkLmxpbmUsIGZvdW5kKSwNCiAgICAgICAgICAgICAgICAgICAgUG9zKHByaW0uaGVhZC5saW5lLCBmb3VuZCArIGRhdGEubGVuZ3RoKSkgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIG9uKGRpdiwgImNvbXBvc2l0aW9udXBkYXRlIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGlucHV0LmNvbXBvc2luZy5kYXRhID0gZS5kYXRhOyB9KQ0KICAgICAgICAgICAgb24oZGl2LCAiY29tcG9zaXRpb25lbmQiLCBmdW5jdGlvbiAoZSkgew0KICAgICAgICAgICAgICAgIHZhciBvdXJzID0gaW5wdXQuY29tcG9zaW5nDQogICAgICAgICAgICAgICAgaWYgKCFvdXJzKSB7IHJldHVybiB9DQogICAgICAgICAgICAgICAgaWYgKGUuZGF0YSAhPSBvdXJzLnN0YXJ0RGF0YSAmJiAhL1x1MjAwYi8udGVzdChlLmRhdGEpKQ0KICAgICAgICAgICAgICAgIHsgb3Vycy5kYXRhID0gZS5kYXRhIH0NCiAgICAgICAgICAgICAgICAvLyBOZWVkIGEgc21hbGwgZGVsYXkgdG8gcHJldmVudCBvdGhlciBjb2RlIChpbnB1dCBldmVudCwNCiAgICAgICAgICAgICAgICAvLyBzZWxlY3Rpb24gcG9sbGluZykgZnJvbSBkb2luZyBkYW1hZ2Ugd2hlbiBmaXJlZCByaWdodCBhZnRlcg0KICAgICAgICAgICAgICAgIC8vIGNvbXBvc2l0aW9uZW5kLg0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoIW91cnMuaGFuZGxlZCkNCiAgICAgICAgICAgICAgICAgICAgeyBpbnB1dC5hcHBseUNvbXBvc2l0aW9uKG91cnMpIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNvbXBvc2luZyA9PSBvdXJzKQ0KICAgICAgICAgICAgICAgICAgICB7IGlucHV0LmNvbXBvc2luZyA9IG51bGwgfQ0KICAgICAgICAgICAgICAgIH0sIDUwKQ0KICAgICAgICAgICAgfSkNCg0KICAgICAgICAgICAgb24oZGl2LCAidG91Y2hzdGFydCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlucHV0LmZvcmNlQ29tcG9zaXRpb25FbmQoKTsgfSkNCg0KICAgICAgICAgICAgb24oZGl2LCAiaW5wdXQiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgaWYgKGlucHV0LmNvbXBvc2luZykgeyByZXR1cm4gfQ0KICAgICAgICAgICAgICAgIGlmIChjbS5pc1JlYWRPbmx5KCkgfHwgIWlucHV0LnBvbGxDb250ZW50KCkpDQogICAgICAgICAgICAgICAgeyBydW5Jbk9wKGlucHV0LmNtLCBmdW5jdGlvbiAoKSB7IHJldHVybiByZWdDaGFuZ2UoY20pOyB9KSB9DQogICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBvbkNvcHlDdXQoZSkgew0KICAgICAgICAgICAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkpIHsgcmV0dXJuIH0NCiAgICAgICAgICAgICAgICBpZiAoY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkgew0KICAgICAgICAgICAgICAgICAgICBzZXRMYXN0Q29waWVkKHtsaW5lV2lzZTogZmFsc2UsIHRleHQ6IGNtLmdldFNlbGVjdGlvbnMoKX0pDQogICAgICAgICAgICAgICAgICAgIGlmIChlLnR5cGUgPT0gImN1dCIpIHsgY20ucmVwbGFjZVNlbGVjdGlvbigiIiwgbnVsbCwgImN1dCIpIH0NCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFjbS5vcHRpb25zLmxpbmVXaXNlQ29weUN1dCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2VzID0gY29weWFibGVSYW5nZXMoY20pDQogICAgICAgICAgICAgICAgICAgIHNldExhc3RDb3BpZWQoe2xpbmVXaXNlOiB0cnVlLCB0ZXh0OiByYW5nZXMudGV4dH0pDQogICAgICAgICAgICAgICAgICAgIGlmIChlLnR5cGUgPT0gImN1dCIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNtLm9wZXJhdGlvbihmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY20uc2V0U2VsZWN0aW9ucyhyYW5nZXMucmFuZ2VzLCAwLCBzZWxfZG9udFNjcm9sbCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKCIiLCBudWxsLCAiY3V0IikNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGUuY2xpcGJvYXJkRGF0YSkgew0KICAgICAgICAgICAgICAgICAgICBlLmNsaXBib2FyZERhdGEuY2xlYXJEYXRhKCkNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBsYXN0Q29waWVkLnRleHQuam9pbigiXG4iKQ0KICAgICAgICAgICAgICAgICAgICAvLyBpT1MgZXhwb3NlcyB0aGUgY2xpcGJvYXJkIEFQSSwgYnV0IHNlZW1zIHRvIGRpc2NhcmQgY29udGVudCBpbnNlcnRlZCBpbnRvIGl0DQogICAgICAgICAgICAgICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCJUZXh0IiwgY29udGVudCkNCiAgICAgICAgICAgICAgICAgICAgaWYgKGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCJUZXh0IikgPT0gY29udGVudCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyBPbGQtZmFzaGlvbmVkIGJyaWVmbHktZm9jdXMtYS10ZXh0YXJlYSBoYWNrDQogICAgICAgICAgICAgICAgdmFyIGtsdWRnZSA9IGhpZGRlblRleHRhcmVhKCksIHRlID0ga2x1ZGdlLmZpcnN0Q2hpbGQNCiAgICAgICAgICAgICAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5pbnNlcnRCZWZvcmUoa2x1ZGdlLCBjbS5kaXNwbGF5LmxpbmVTcGFjZS5maXJzdENoaWxkKQ0KICAgICAgICAgICAgICAgIHRlLnZhbHVlID0gbGFzdENvcGllZC50ZXh0LmpvaW4oIlxuIikNCiAgICAgICAgICAgICAgICB2YXIgaGFkRm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50DQogICAgICAgICAgICAgICAgc2VsZWN0SW5wdXQodGUpDQogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLnJlbW92ZUNoaWxkKGtsdWRnZSkNCiAgICAgICAgICAgICAgICAgICAgaGFkRm9jdXMuZm9jdXMoKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoaGFkRm9jdXMgPT0gZGl2KSB7IGlucHV0LnNob3dQcmltYXJ5U2VsZWN0aW9uKCkgfQ0KICAgICAgICAgICAgICAgIH0sIDUwKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgb24oZGl2LCAiY29weSIsIG9uQ29weUN1dCkNCiAgICAgICAgICAgIG9uKGRpdiwgImN1dCIsIG9uQ29weUN1dCkNCiAgICAgICAgfSwNCg0KICAgICAgICBwcmVwYXJlU2VsZWN0aW9uOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwcmVwYXJlU2VsZWN0aW9uKHRoaXMuY20sIGZhbHNlKQ0KICAgICAgICAgICAgcmVzdWx0LmZvY3VzID0gdGhpcy5jbS5zdGF0ZS5mb2N1c2VkDQogICAgICAgICAgICByZXR1cm4gcmVzdWx0DQogICAgICAgIH0sDQoNCiAgICAgICAgc2hvd1NlbGVjdGlvbjogZnVuY3Rpb24oaW5mbywgdGFrZUZvY3VzKSB7DQogICAgICAgICAgICBpZiAoIWluZm8gfHwgIXRoaXMuY20uZGlzcGxheS52aWV3Lmxlbmd0aCkgeyByZXR1cm4gfQ0KICAgICAgICAgICAgaWYgKGluZm8uZm9jdXMgfHwgdGFrZUZvY3VzKSB7IHRoaXMuc2hvd1ByaW1hcnlTZWxlY3Rpb24oKSB9DQogICAgICAgICAgICB0aGlzLnNob3dNdWx0aXBsZVNlbGVjdGlvbnMoaW5mbykNCiAgICAgICAgfSwNCg0KICAgICAgICBzaG93UHJpbWFyeVNlbGVjdGlvbjogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpLCBwcmltID0gdGhpcy5jbS5kb2Muc2VsLnByaW1hcnkoKQ0KICAgICAgICAgICAgdmFyIGN1ckFuY2hvciA9IGRvbVRvUG9zKHRoaXMuY20sIHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KQ0KICAgICAgICAgICAgdmFyIGN1ckZvY3VzID0gZG9tVG9Qb3ModGhpcy5jbSwgc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KQ0KICAgICAgICAgICAgaWYgKGN1ckFuY2hvciAmJiAhY3VyQW5jaG9yLmJhZCAmJiBjdXJGb2N1cyAmJiAhY3VyRm9jdXMuYmFkICYmDQogICAgICAgICAgICAgICAgY21wKG1pblBvcyhjdXJBbmNob3IsIGN1ckZvY3VzKSwgcHJpbS5mcm9tKCkpID09IDAgJiYNCiAgICAgICAgICAgICAgICBjbXAobWF4UG9zKGN1ckFuY2hvciwgY3VyRm9jdXMpLCBwcmltLnRvKCkpID09IDApDQogICAgICAgICAgICB7IHJldHVybiB9DQoNCiAgICAgICAgICAgIHZhciBzdGFydCA9IHBvc1RvRE9NKHRoaXMuY20sIHByaW0uZnJvbSgpKQ0KICAgICAgICAgICAgdmFyIGVuZCA9IHBvc1RvRE9NKHRoaXMuY20sIHByaW0udG8oKSkNCiAgICAgICAgICAgIGlmICghc3RhcnQgJiYgIWVuZCkgeyByZXR1cm4gfQ0KDQogICAgICAgICAgICB2YXIgdmlldyA9IHRoaXMuY20uZGlzcGxheS52aWV3DQogICAgICAgICAgICB2YXIgb2xkID0gc2VsLnJhbmdlQ291bnQgJiYgc2VsLmdldFJhbmdlQXQoMCkNCiAgICAgICAgICAgIGlmICghc3RhcnQpIHsNCiAgICAgICAgICAgICAgICBzdGFydCA9IHtub2RlOiB2aWV3WzBdLm1lYXN1cmUubWFwWzJdLCBvZmZzZXQ6IDB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKCFlbmQpIHsgLy8gRklYTUUgZGFuZ2Vyb3VzbHkgaGFja3kNCiAgICAgICAgICAgICAgICB2YXIgbWVhc3VyZSA9IHZpZXdbdmlldy5sZW5ndGggLSAxXS5tZWFzdXJlDQogICAgICAgICAgICAgICAgdmFyIG1hcCQkMSA9IG1lYXN1cmUubWFwcyA/IG1lYXN1cmUubWFwc1ttZWFzdXJlLm1hcHMubGVuZ3RoIC0gMV0gOiBtZWFzdXJlLm1hcA0KICAgICAgICAgICAgICAgIGVuZCA9IHtub2RlOiBtYXAkJDFbbWFwJCQxLmxlbmd0aCAtIDFdLCBvZmZzZXQ6IG1hcCQkMVttYXAkJDEubGVuZ3RoIC0gMl0gLSBtYXAkJDFbbWFwJCQxLmxlbmd0aCAtIDNdfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgcm5nDQogICAgICAgICAgICB0cnkgeyBybmcgPSByYW5nZShzdGFydC5ub2RlLCBzdGFydC5vZmZzZXQsIGVuZC5vZmZzZXQsIGVuZC5ub2RlKSB9DQogICAgICAgICAgICBjYXRjaChlKSB7fSAvLyBPdXIgbW9kZWwgb2YgdGhlIERPTSBtaWdodCBiZSBvdXRkYXRlZCwgaW4gd2hpY2ggY2FzZSB0aGUgcmFuZ2Ugd2UgdHJ5IHRvIHNldCBjYW4gYmUgaW1wb3NzaWJsZQ0KICAgICAgICAgICAgaWYgKHJuZykgew0KICAgICAgICAgICAgICAgIGlmICghZ2Vja28gJiYgdGhpcy5jbS5zdGF0ZS5mb2N1c2VkKSB7DQogICAgICAgICAgICAgICAgICAgIHNlbC5jb2xsYXBzZShzdGFydC5ub2RlLCBzdGFydC5vZmZzZXQpDQogICAgICAgICAgICAgICAgICAgIGlmICghcm5nLmNvbGxhcHNlZCkgeyBzZWwuYWRkUmFuZ2Uocm5nKSB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpDQogICAgICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShybmcpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChvbGQgJiYgc2VsLmFuY2hvck5vZGUgPT0gbnVsbCkgeyBzZWwuYWRkUmFuZ2Uob2xkKSB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoZ2Vja28pIHsgdGhpcy5zdGFydEdyYWNlUGVyaW9kKCkgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5yZW1lbWJlclNlbGVjdGlvbigpDQogICAgICAgIH0sDQoNCiAgICAgICAgc3RhcnRHcmFjZVBlcmlvZDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZ3JhY2VQZXJpb2QpDQogICAgICAgICAgICB0aGlzLmdyYWNlUGVyaW9kID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdGhpcyQxLmdyYWNlUGVyaW9kID0gZmFsc2UNCiAgICAgICAgICAgICAgICBpZiAodGhpcyQxLnNlbGVjdGlvbkNoYW5nZWQoKSkNCiAgICAgICAgICAgICAgICB7IHRoaXMkMS5jbS5vcGVyYXRpb24oZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcyQxLmNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlOyB9KSB9DQogICAgICAgICAgICB9LCAyMCkNCiAgICAgICAgfSwNCg0KICAgICAgICBzaG93TXVsdGlwbGVTZWxlY3Rpb25zOiBmdW5jdGlvbihpbmZvKSB7DQogICAgICAgICAgICByZW1vdmVDaGlsZHJlbkFuZEFkZCh0aGlzLmNtLmRpc3BsYXkuY3Vyc29yRGl2LCBpbmZvLmN1cnNvcnMpDQogICAgICAgICAgICByZW1vdmVDaGlsZHJlbkFuZEFkZCh0aGlzLmNtLmRpc3BsYXkuc2VsZWN0aW9uRGl2LCBpbmZvLnNlbGVjdGlvbikNCiAgICAgICAgfSwNCg0KICAgICAgICByZW1lbWJlclNlbGVjdGlvbjogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpDQogICAgICAgICAgICB0aGlzLmxhc3RBbmNob3JOb2RlID0gc2VsLmFuY2hvck5vZGU7IHRoaXMubGFzdEFuY2hvck9mZnNldCA9IHNlbC5hbmNob3JPZmZzZXQNCiAgICAgICAgICAgIHRoaXMubGFzdEZvY3VzTm9kZSA9IHNlbC5mb2N1c05vZGU7IHRoaXMubGFzdEZvY3VzT2Zmc2V0ID0gc2VsLmZvY3VzT2Zmc2V0DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VsZWN0aW9uSW5FZGl0b3I6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKQ0KICAgICAgICAgICAgaWYgKCFzZWwucmFuZ2VDb3VudCkgeyByZXR1cm4gZmFsc2UgfQ0KICAgICAgICAgICAgdmFyIG5vZGUgPSBzZWwuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcg0KICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5zKHRoaXMuZGl2LCBub2RlKQ0KICAgICAgICB9LA0KDQogICAgICAgIGZvY3VzOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmNtLm9wdGlvbnMucmVhZE9ubHkgIT0gIm5vY3Vyc29yIikgeyB0aGlzLmRpdi5mb2N1cygpIH0NCiAgICAgICAgfSwNCiAgICAgICAgYmx1cjogZnVuY3Rpb24oKSB7IHRoaXMuZGl2LmJsdXIoKSB9LA0KICAgICAgICBnZXRGaWVsZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRpdiB9LA0KDQogICAgICAgIHN1cHBvcnRzVG91Y2g6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZSB9LA0KDQogICAgICAgIHJlY2VpdmVkRm9jdXM6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcw0KICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSkNCiAgICAgICAgICAgIHsgdGhpcy5wb2xsU2VsZWN0aW9uKCkgfQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgeyBydW5Jbk9wKHRoaXMuY20sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlucHV0LmNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlOyB9KSB9DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIHBvbGwoKSB7DQogICAgICAgICAgICAgICAgaWYgKGlucHV0LmNtLnN0YXRlLmZvY3VzZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgaW5wdXQucG9sbFNlbGVjdGlvbigpDQogICAgICAgICAgICAgICAgICAgIGlucHV0LnBvbGxpbmcuc2V0KGlucHV0LmNtLm9wdGlvbnMucG9sbEludGVydmFsLCBwb2xsKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMucG9sbGluZy5zZXQodGhpcy5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCwgcG9sbCkNCiAgICAgICAgfSwNCg0KICAgICAgICBzZWxlY3Rpb25DaGFuZ2VkOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkNCiAgICAgICAgICAgIHJldHVybiBzZWwuYW5jaG9yTm9kZSAhPSB0aGlzLmxhc3RBbmNob3JOb2RlIHx8IHNlbC5hbmNob3JPZmZzZXQgIT0gdGhpcy5sYXN0QW5jaG9yT2Zmc2V0IHx8DQogICAgICAgICAgICAgICAgc2VsLmZvY3VzTm9kZSAhPSB0aGlzLmxhc3RGb2N1c05vZGUgfHwgc2VsLmZvY3VzT2Zmc2V0ICE9IHRoaXMubGFzdEZvY3VzT2Zmc2V0DQogICAgICAgIH0sDQoNCiAgICAgICAgcG9sbFNlbGVjdGlvbjogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBpZiAoIXRoaXMuY29tcG9zaW5nICYmICF0aGlzLmdyYWNlUGVyaW9kICYmIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCgpKSB7DQogICAgICAgICAgICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSwgY20gPSB0aGlzLmNtDQogICAgICAgICAgICAgICAgdGhpcy5yZW1lbWJlclNlbGVjdGlvbigpDQogICAgICAgICAgICAgICAgdmFyIGFuY2hvciA9IGRvbVRvUG9zKGNtLCBzZWwuYW5jaG9yTm9kZSwgc2VsLmFuY2hvck9mZnNldCkNCiAgICAgICAgICAgICAgICB2YXIgaGVhZCA9IGRvbVRvUG9zKGNtLCBzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQpDQogICAgICAgICAgICAgICAgaWYgKGFuY2hvciAmJiBoZWFkKSB7IHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0aW9uKGNtLmRvYywgc2ltcGxlU2VsZWN0aW9uKGFuY2hvciwgaGVhZCksIHNlbF9kb250U2Nyb2xsKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoYW5jaG9yLmJhZCB8fCBoZWFkLmJhZCkgeyBjbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZSB9DQogICAgICAgICAgICAgICAgfSkgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQogICAgICAgIHBvbGxDb250ZW50OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBjbSA9IHRoaXMuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBzZWwgPSBjbS5kb2Muc2VsLnByaW1hcnkoKQ0KICAgICAgICAgICAgdmFyIGZyb20gPSBzZWwuZnJvbSgpLCB0byA9IHNlbC50bygpDQogICAgICAgICAgICBpZiAoZnJvbS5saW5lIDwgZGlzcGxheS52aWV3RnJvbSB8fCB0by5saW5lID4gZGlzcGxheS52aWV3VG8gLSAxKSB7IHJldHVybiBmYWxzZSB9DQoNCiAgICAgICAgICAgIHZhciBmcm9tSW5kZXgsIGZyb21MaW5lLCBmcm9tTm9kZQ0KICAgICAgICAgICAgaWYgKGZyb20ubGluZSA9PSBkaXNwbGF5LnZpZXdGcm9tIHx8IChmcm9tSW5kZXggPSBmaW5kVmlld0luZGV4KGNtLCBmcm9tLmxpbmUpKSA9PSAwKSB7DQogICAgICAgICAgICAgICAgZnJvbUxpbmUgPSBsaW5lTm8oZGlzcGxheS52aWV3WzBdLmxpbmUpDQogICAgICAgICAgICAgICAgZnJvbU5vZGUgPSBkaXNwbGF5LnZpZXdbMF0ubm9kZQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBmcm9tTGluZSA9IGxpbmVObyhkaXNwbGF5LnZpZXdbZnJvbUluZGV4XS5saW5lKQ0KICAgICAgICAgICAgICAgIGZyb21Ob2RlID0gZGlzcGxheS52aWV3W2Zyb21JbmRleCAtIDFdLm5vZGUubmV4dFNpYmxpbmcNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciB0b0luZGV4ID0gZmluZFZpZXdJbmRleChjbSwgdG8ubGluZSkNCiAgICAgICAgICAgIHZhciB0b0xpbmUsIHRvTm9kZQ0KICAgICAgICAgICAgaWYgKHRvSW5kZXggPT0gZGlzcGxheS52aWV3Lmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICB0b0xpbmUgPSBkaXNwbGF5LnZpZXdUbyAtIDENCiAgICAgICAgICAgICAgICB0b05vZGUgPSBkaXNwbGF5LmxpbmVEaXYubGFzdENoaWxkDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRvTGluZSA9IGxpbmVObyhkaXNwbGF5LnZpZXdbdG9JbmRleCArIDFdLmxpbmUpIC0gMQ0KICAgICAgICAgICAgICAgIHRvTm9kZSA9IGRpc3BsYXkudmlld1t0b0luZGV4ICsgMV0ubm9kZS5wcmV2aW91c1NpYmxpbmcNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIG5ld1RleHQgPSBjbS5kb2Muc3BsaXRMaW5lcyhkb21UZXh0QmV0d2VlbihjbSwgZnJvbU5vZGUsIHRvTm9kZSwgZnJvbUxpbmUsIHRvTGluZSkpDQogICAgICAgICAgICB2YXIgb2xkVGV4dCA9IGdldEJldHdlZW4oY20uZG9jLCBQb3MoZnJvbUxpbmUsIDApLCBQb3ModG9MaW5lLCBnZXRMaW5lKGNtLmRvYywgdG9MaW5lKS50ZXh0Lmxlbmd0aCkpDQogICAgICAgICAgICB3aGlsZSAobmV3VGV4dC5sZW5ndGggPiAxICYmIG9sZFRleHQubGVuZ3RoID4gMSkgew0KICAgICAgICAgICAgICAgIGlmIChsc3QobmV3VGV4dCkgPT0gbHN0KG9sZFRleHQpKSB7IG5ld1RleHQucG9wKCk7IG9sZFRleHQucG9wKCk7IHRvTGluZS0tIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdUZXh0WzBdID09IG9sZFRleHRbMF0pIHsgbmV3VGV4dC5zaGlmdCgpOyBvbGRUZXh0LnNoaWZ0KCk7IGZyb21MaW5lKysgfQ0KICAgICAgICAgICAgICAgIGVsc2UgeyBicmVhayB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHZhciBjdXRGcm9udCA9IDAsIGN1dEVuZCA9IDANCiAgICAgICAgICAgIHZhciBuZXdUb3AgPSBuZXdUZXh0WzBdLCBvbGRUb3AgPSBvbGRUZXh0WzBdLCBtYXhDdXRGcm9udCA9IE1hdGgubWluKG5ld1RvcC5sZW5ndGgsIG9sZFRvcC5sZW5ndGgpDQogICAgICAgICAgICB3aGlsZSAoY3V0RnJvbnQgPCBtYXhDdXRGcm9udCAmJiBuZXdUb3AuY2hhckNvZGVBdChjdXRGcm9udCkgPT0gb2xkVG9wLmNoYXJDb2RlQXQoY3V0RnJvbnQpKQ0KICAgICAgICAgICAgeyArK2N1dEZyb250IH0NCiAgICAgICAgICAgIHZhciBuZXdCb3QgPSBsc3QobmV3VGV4dCksIG9sZEJvdCA9IGxzdChvbGRUZXh0KQ0KICAgICAgICAgICAgdmFyIG1heEN1dEVuZCA9IE1hdGgubWluKG5ld0JvdC5sZW5ndGggLSAobmV3VGV4dC5sZW5ndGggPT0gMSA/IGN1dEZyb250IDogMCksDQogICAgICAgICAgICAgICAgb2xkQm90Lmxlbmd0aCAtIChvbGRUZXh0Lmxlbmd0aCA9PSAxID8gY3V0RnJvbnQgOiAwKSkNCiAgICAgICAgICAgIHdoaWxlIChjdXRFbmQgPCBtYXhDdXRFbmQgJiYNCiAgICAgICAgICAgIG5ld0JvdC5jaGFyQ29kZUF0KG5ld0JvdC5sZW5ndGggLSBjdXRFbmQgLSAxKSA9PSBvbGRCb3QuY2hhckNvZGVBdChvbGRCb3QubGVuZ3RoIC0gY3V0RW5kIC0gMSkpDQogICAgICAgICAgICB7ICsrY3V0RW5kIH0NCg0KICAgICAgICAgICAgbmV3VGV4dFtuZXdUZXh0Lmxlbmd0aCAtIDFdID0gbmV3Qm90LnNsaWNlKDAsIG5ld0JvdC5sZW5ndGggLSBjdXRFbmQpDQogICAgICAgICAgICBuZXdUZXh0WzBdID0gbmV3VGV4dFswXS5zbGljZShjdXRGcm9udCkNCg0KICAgICAgICAgICAgdmFyIGNoRnJvbSA9IFBvcyhmcm9tTGluZSwgY3V0RnJvbnQpDQogICAgICAgICAgICB2YXIgY2hUbyA9IFBvcyh0b0xpbmUsIG9sZFRleHQubGVuZ3RoID8gbHN0KG9sZFRleHQpLmxlbmd0aCAtIGN1dEVuZCA6IDApDQogICAgICAgICAgICBpZiAobmV3VGV4dC5sZW5ndGggPiAxIHx8IG5ld1RleHRbMF0gfHwgY21wKGNoRnJvbSwgY2hUbykpIHsNCiAgICAgICAgICAgICAgICByZXBsYWNlUmFuZ2UoY20uZG9jLCBuZXdUZXh0LCBjaEZyb20sIGNoVG8sICIraW5wdXQiKQ0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgZW5zdXJlUG9sbGVkOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHRoaXMuZm9yY2VDb21wb3NpdGlvbkVuZCgpDQogICAgICAgIH0sDQogICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHRoaXMuZm9yY2VDb21wb3NpdGlvbkVuZCgpDQogICAgICAgIH0sDQogICAgICAgIGZvcmNlQ29tcG9zaXRpb25FbmQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgaWYgKCF0aGlzLmNvbXBvc2luZyB8fCB0aGlzLmNvbXBvc2luZy5oYW5kbGVkKSB7IHJldHVybiB9DQogICAgICAgICAgICB0aGlzLmFwcGx5Q29tcG9zaXRpb24odGhpcy5jb21wb3NpbmcpDQogICAgICAgICAgICB0aGlzLmNvbXBvc2luZy5oYW5kbGVkID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5kaXYuYmx1cigpDQogICAgICAgICAgICB0aGlzLmRpdi5mb2N1cygpDQogICAgICAgIH0sDQogICAgICAgIGFwcGx5Q29tcG9zaXRpb246IGZ1bmN0aW9uKGNvbXBvc2luZykgew0KICAgICAgICAgICAgaWYgKHRoaXMuY20uaXNSZWFkT25seSgpKQ0KICAgICAgICAgICAgeyBvcGVyYXRpb24odGhpcy5jbSwgcmVnQ2hhbmdlKSh0aGlzLmNtKSB9DQogICAgICAgICAgICBlbHNlIGlmIChjb21wb3NpbmcuZGF0YSAmJiBjb21wb3NpbmcuZGF0YSAhPSBjb21wb3Npbmcuc3RhcnREYXRhKQ0KICAgICAgICAgICAgeyBvcGVyYXRpb24odGhpcy5jbSwgYXBwbHlUZXh0SW5wdXQpKHRoaXMuY20sIGNvbXBvc2luZy5kYXRhLCAwLCBjb21wb3Npbmcuc2VsKSB9DQogICAgICAgIH0sDQoNCiAgICAgICAgc2V0VW5lZGl0YWJsZTogZnVuY3Rpb24obm9kZSkgew0KICAgICAgICAgICAgbm9kZS5jb250ZW50RWRpdGFibGUgPSAiZmFsc2UiDQogICAgICAgIH0sDQoNCiAgICAgICAgb25LZXlQcmVzczogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpDQogICAgICAgICAgICBpZiAoIXRoaXMuY20uaXNSZWFkT25seSgpKQ0KICAgICAgICAgICAgeyBvcGVyYXRpb24odGhpcy5jbSwgYXBwbHlUZXh0SW5wdXQpKHRoaXMuY20sIFN0cmluZy5mcm9tQ2hhckNvZGUoZS5jaGFyQ29kZSA9PSBudWxsID8gZS5rZXlDb2RlIDogZS5jaGFyQ29kZSksIDApIH0NCiAgICAgICAgfSwNCg0KICAgICAgICByZWFkT25seUNoYW5nZWQ6IGZ1bmN0aW9uKHZhbCkgew0KICAgICAgICAgICAgdGhpcy5kaXYuY29udGVudEVkaXRhYmxlID0gU3RyaW5nKHZhbCAhPSAibm9jdXJzb3IiKQ0KICAgICAgICB9LA0KDQogICAgICAgIG9uQ29udGV4dE1lbnU6IG5vdGhpbmcsDQogICAgICAgIHJlc2V0UG9zaXRpb246IG5vdGhpbmcsDQoNCiAgICAgICAgbmVlZHNDb250ZW50QXR0cmlidXRlOiB0cnVlDQogICAgfSwgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlKQ0KDQogICAgZnVuY3Rpb24gcG9zVG9ET00oY20sIHBvcykgew0KICAgICAgICB2YXIgdmlldyA9IGZpbmRWaWV3Rm9yTGluZShjbSwgcG9zLmxpbmUpDQogICAgICAgIGlmICghdmlldyB8fCB2aWV3LmhpZGRlbikgeyByZXR1cm4gbnVsbCB9DQogICAgICAgIHZhciBsaW5lID0gZ2V0TGluZShjbS5kb2MsIHBvcy5saW5lKQ0KICAgICAgICB2YXIgaW5mbyA9IG1hcEZyb21MaW5lVmlldyh2aWV3LCBsaW5lLCBwb3MubGluZSkNCg0KICAgICAgICB2YXIgb3JkZXIgPSBnZXRPcmRlcihsaW5lKSwgc2lkZSA9ICJsZWZ0Ig0KICAgICAgICBpZiAob3JkZXIpIHsNCiAgICAgICAgICAgIHZhciBwYXJ0UG9zID0gZ2V0QmlkaVBhcnRBdChvcmRlciwgcG9zLmNoKQ0KICAgICAgICAgICAgc2lkZSA9IHBhcnRQb3MgJSAyID8gInJpZ2h0IiA6ICJsZWZ0Ig0KICAgICAgICB9DQogICAgICAgIHZhciByZXN1bHQgPSBub2RlQW5kT2Zmc2V0SW5MaW5lTWFwKGluZm8ubWFwLCBwb3MuY2gsIHNpZGUpDQogICAgICAgIHJlc3VsdC5vZmZzZXQgPSByZXN1bHQuY29sbGFwc2UgPT0gInJpZ2h0IiA/IHJlc3VsdC5lbmQgOiByZXN1bHQuc3RhcnQNCiAgICAgICAgcmV0dXJuIHJlc3VsdA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGJhZFBvcyhwb3MsIGJhZCkgeyBpZiAoYmFkKSB7IHBvcy5iYWQgPSB0cnVlOyB9IHJldHVybiBwb3MgfQ0KDQogICAgZnVuY3Rpb24gZG9tVGV4dEJldHdlZW4oY20sIGZyb20sIHRvLCBmcm9tTGluZSwgdG9MaW5lKSB7DQogICAgICAgIHZhciB0ZXh0ID0gIiIsIGNsb3NpbmcgPSBmYWxzZSwgbGluZVNlcCA9IGNtLmRvYy5saW5lU2VwYXJhdG9yKCkNCiAgICAgICAgZnVuY3Rpb24gcmVjb2duaXplTWFya2VyKGlkKSB7IHJldHVybiBmdW5jdGlvbiAobWFya2VyKSB7IHJldHVybiBtYXJrZXIuaWQgPT0gaWQ7IH0gfQ0KICAgICAgICBmdW5jdGlvbiB3YWxrKG5vZGUpIHsNCiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHsNCiAgICAgICAgICAgICAgICB2YXIgY21UZXh0ID0gbm9kZS5nZXRBdHRyaWJ1dGUoImNtLXRleHQiKQ0KICAgICAgICAgICAgICAgIGlmIChjbVRleHQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoY21UZXh0ID09ICIiKSB7IGNtVGV4dCA9IG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSgvXHUyMDBiL2csICIiKSB9DQogICAgICAgICAgICAgICAgICAgIHRleHQgKz0gY21UZXh0DQogICAgICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgbWFya2VySUQgPSBub2RlLmdldEF0dHJpYnV0ZSgiY20tbWFya2VyIiksIHJhbmdlJCQxDQogICAgICAgICAgICAgICAgaWYgKG1hcmtlcklEKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGNtLmZpbmRNYXJrcyhQb3MoZnJvbUxpbmUsIDApLCBQb3ModG9MaW5lICsgMSwgMCksIHJlY29nbml6ZU1hcmtlcigrbWFya2VySUQpKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmQubGVuZ3RoICYmIChyYW5nZSQkMSA9IGZvdW5kWzBdLmZpbmQoKSkpDQogICAgICAgICAgICAgICAgICAgIHsgdGV4dCArPSBnZXRCZXR3ZWVuKGNtLmRvYywgcmFuZ2UkJDEuZnJvbSwgcmFuZ2UkJDEudG8pLmpvaW4obGluZVNlcCkgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKSA9PSAiZmFsc2UiKSB7IHJldHVybiB9DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspDQogICAgICAgICAgICAgICAgeyB3YWxrKG5vZGUuY2hpbGROb2Rlc1tpXSkgfQ0KICAgICAgICAgICAgICAgIGlmICgvXihwcmV8ZGl2fHApJC9pLnRlc3Qobm9kZS5ub2RlTmFtZSkpDQogICAgICAgICAgICAgICAgeyBjbG9zaW5nID0gdHJ1ZSB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykgew0KICAgICAgICAgICAgICAgIHZhciB2YWwgPSBub2RlLm5vZGVWYWx1ZQ0KICAgICAgICAgICAgICAgIGlmICghdmFsKSB7IHJldHVybiB9DQogICAgICAgICAgICAgICAgaWYgKGNsb3NpbmcpIHsNCiAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBsaW5lU2VwDQogICAgICAgICAgICAgICAgICAgIGNsb3NpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0ZXh0ICs9IHZhbA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGZvciAoOzspIHsNCiAgICAgICAgICAgIHdhbGsoZnJvbSkNCiAgICAgICAgICAgIGlmIChmcm9tID09IHRvKSB7IGJyZWFrIH0NCiAgICAgICAgICAgIGZyb20gPSBmcm9tLm5leHRTaWJsaW5nDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRleHQNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkb21Ub1BvcyhjbSwgbm9kZSwgb2Zmc2V0KSB7DQogICAgICAgIHZhciBsaW5lTm9kZQ0KICAgICAgICBpZiAobm9kZSA9PSBjbS5kaXNwbGF5LmxpbmVEaXYpIHsNCiAgICAgICAgICAgIGxpbmVOb2RlID0gY20uZGlzcGxheS5saW5lRGl2LmNoaWxkTm9kZXNbb2Zmc2V0XQ0KICAgICAgICAgICAgaWYgKCFsaW5lTm9kZSkgeyByZXR1cm4gYmFkUG9zKGNtLmNsaXBQb3MoUG9zKGNtLmRpc3BsYXkudmlld1RvIC0gMSkpLCB0cnVlKSB9DQogICAgICAgICAgICBub2RlID0gbnVsbDsgb2Zmc2V0ID0gMA0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgZm9yIChsaW5lTm9kZSA9IG5vZGU7OyBsaW5lTm9kZSA9IGxpbmVOb2RlLnBhcmVudE5vZGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoIWxpbmVOb2RlIHx8IGxpbmVOb2RlID09IGNtLmRpc3BsYXkubGluZURpdikgeyByZXR1cm4gbnVsbCB9DQogICAgICAgICAgICAgICAgaWYgKGxpbmVOb2RlLnBhcmVudE5vZGUgJiYgbGluZU5vZGUucGFyZW50Tm9kZSA9PSBjbS5kaXNwbGF5LmxpbmVEaXYpIHsgYnJlYWsgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY20uZGlzcGxheS52aWV3Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgbGluZVZpZXcgPSBjbS5kaXNwbGF5LnZpZXdbaV0NCiAgICAgICAgICAgIGlmIChsaW5lVmlldy5ub2RlID09IGxpbmVOb2RlKQ0KICAgICAgICAgICAgeyByZXR1cm4gbG9jYXRlTm9kZUluTGluZVZpZXcobGluZVZpZXcsIG5vZGUsIG9mZnNldCkgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gbG9jYXRlTm9kZUluTGluZVZpZXcobGluZVZpZXcsIG5vZGUsIG9mZnNldCkgew0KICAgICAgICB2YXIgd3JhcHBlciA9IGxpbmVWaWV3LnRleHQuZmlyc3RDaGlsZCwgYmFkID0gZmFsc2UNCiAgICAgICAgaWYgKCFub2RlIHx8ICFjb250YWlucyh3cmFwcGVyLCBub2RlKSkgeyByZXR1cm4gYmFkUG9zKFBvcyhsaW5lTm8obGluZVZpZXcubGluZSksIDApLCB0cnVlKSB9DQogICAgICAgIGlmIChub2RlID09IHdyYXBwZXIpIHsNCiAgICAgICAgICAgIGJhZCA9IHRydWUNCiAgICAgICAgICAgIG5vZGUgPSB3cmFwcGVyLmNoaWxkTm9kZXNbb2Zmc2V0XQ0KICAgICAgICAgICAgb2Zmc2V0ID0gMA0KICAgICAgICAgICAgaWYgKCFub2RlKSB7DQogICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBsaW5lVmlldy5yZXN0ID8gbHN0KGxpbmVWaWV3LnJlc3QpIDogbGluZVZpZXcubGluZQ0KICAgICAgICAgICAgICAgIHJldHVybiBiYWRQb3MoUG9zKGxpbmVObyhsaW5lKSwgbGluZS50ZXh0Lmxlbmd0aCksIGJhZCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciB0ZXh0Tm9kZSA9IG5vZGUubm9kZVR5cGUgPT0gMyA/IG5vZGUgOiBudWxsLCB0b3BOb2RlID0gbm9kZQ0KICAgICAgICBpZiAoIXRleHROb2RlICYmIG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPT0gMSAmJiBub2RlLmZpcnN0Q2hpbGQubm9kZVR5cGUgPT0gMykgew0KICAgICAgICAgICAgdGV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQNCiAgICAgICAgICAgIGlmIChvZmZzZXQpIHsgb2Zmc2V0ID0gdGV4dE5vZGUubm9kZVZhbHVlLmxlbmd0aCB9DQogICAgICAgIH0NCiAgICAgICAgd2hpbGUgKHRvcE5vZGUucGFyZW50Tm9kZSAhPSB3cmFwcGVyKSB7IHRvcE5vZGUgPSB0b3BOb2RlLnBhcmVudE5vZGUgfQ0KICAgICAgICB2YXIgbWVhc3VyZSA9IGxpbmVWaWV3Lm1lYXN1cmUsIG1hcHMgPSBtZWFzdXJlLm1hcHMNCg0KICAgICAgICBmdW5jdGlvbiBmaW5kKHRleHROb2RlLCB0b3BOb2RlLCBvZmZzZXQpIHsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAtMTsgaSA8IChtYXBzID8gbWFwcy5sZW5ndGggOiAwKTsgaSsrKSB7DQogICAgICAgICAgICAgICAgdmFyIG1hcCQkMSA9IGkgPCAwID8gbWVhc3VyZS5tYXAgOiBtYXBzW2ldDQogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXAkJDEubGVuZ3RoOyBqICs9IDMpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ck5vZGUgPSBtYXAkJDFbaiArIDJdDQogICAgICAgICAgICAgICAgICAgIGlmIChjdXJOb2RlID09IHRleHROb2RlIHx8IGN1ck5vZGUgPT0gdG9wTm9kZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBsaW5lTm8oaSA8IDAgPyBsaW5lVmlldy5saW5lIDogbGluZVZpZXcucmVzdFtpXSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaCA9IG1hcCQkMVtqXSArIG9mZnNldA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA8IDAgfHwgY3VyTm9kZSAhPSB0ZXh0Tm9kZSkgeyBjaCA9IG1hcCQkMVtqICsgKG9mZnNldCA/IDEgOiAwKV0gfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBvcyhsaW5lLCBjaCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB2YXIgZm91bmQgPSBmaW5kKHRleHROb2RlLCB0b3BOb2RlLCBvZmZzZXQpDQogICAgICAgIGlmIChmb3VuZCkgeyByZXR1cm4gYmFkUG9zKGZvdW5kLCBiYWQpIH0NCg0KICAgICAgICAvLyBGSVhNRSB0aGlzIGlzIGFsbCByZWFsbHkgc2hha3kuIG1pZ2h0IGhhbmRsZSB0aGUgZmV3IGNhc2VzIGl0IG5lZWRzIHRvIGhhbmRsZSwgYnV0IGxpa2VseSB0byBjYXVzZSBwcm9ibGVtcw0KICAgICAgICBmb3IgKHZhciBhZnRlciA9IHRvcE5vZGUubmV4dFNpYmxpbmcsIGRpc3QgPSB0ZXh0Tm9kZSA/IHRleHROb2RlLm5vZGVWYWx1ZS5sZW5ndGggLSBvZmZzZXQgOiAwOyBhZnRlcjsgYWZ0ZXIgPSBhZnRlci5uZXh0U2libGluZykgew0KICAgICAgICAgICAgZm91bmQgPSBmaW5kKGFmdGVyLCBhZnRlci5maXJzdENoaWxkLCAwKQ0KICAgICAgICAgICAgaWYgKGZvdW5kKQ0KICAgICAgICAgICAgeyByZXR1cm4gYmFkUG9zKFBvcyhmb3VuZC5saW5lLCBmb3VuZC5jaCAtIGRpc3QpLCBiYWQpIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsgZGlzdCArPSBhZnRlci50ZXh0Q29udGVudC5sZW5ndGggfQ0KICAgICAgICB9DQogICAgICAgIGZvciAodmFyIGJlZm9yZSA9IHRvcE5vZGUucHJldmlvdXNTaWJsaW5nLCBkaXN0JDEgPSBvZmZzZXQ7IGJlZm9yZTsgYmVmb3JlID0gYmVmb3JlLnByZXZpb3VzU2libGluZykgew0KICAgICAgICAgICAgZm91bmQgPSBmaW5kKGJlZm9yZSwgYmVmb3JlLmZpcnN0Q2hpbGQsIC0xKQ0KICAgICAgICAgICAgaWYgKGZvdW5kKQ0KICAgICAgICAgICAgeyByZXR1cm4gYmFkUG9zKFBvcyhmb3VuZC5saW5lLCBmb3VuZC5jaCArIGRpc3QkMSksIGJhZCkgfQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgeyBkaXN0JDEgKz0gYmVmb3JlLnRleHRDb250ZW50Lmxlbmd0aCB9DQogICAgICAgIH0NCiAgICB9DQoNCi8vIFRFWFRBUkVBIElOUFVUIFNUWUxFDQoNCiAgICBmdW5jdGlvbiBUZXh0YXJlYUlucHV0KGNtKSB7DQogICAgICAgIHRoaXMuY20gPSBjbQ0KICAgICAgICAvLyBTZWUgaW5wdXQucG9sbCBhbmQgaW5wdXQucmVzZXQNCiAgICAgICAgdGhpcy5wcmV2SW5wdXQgPSAiIg0KDQogICAgICAgIC8vIEZsYWcgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB3ZSBleHBlY3QgaW5wdXQgdG8gYXBwZWFyIHJlYWwgc29vbg0KICAgICAgICAvLyBub3cgKGFmdGVyIHNvbWUgZXZlbnQgbGlrZSAna2V5cHJlc3MnIG9yICdpbnB1dCcpIGFuZCBhcmUNCiAgICAgICAgLy8gcG9sbGluZyBpbnRlbnNpdmVseS4NCiAgICAgICAgdGhpcy5wb2xsaW5nRmFzdCA9IGZhbHNlDQogICAgICAgIC8vIFNlbGYtcmVzZXR0aW5nIHRpbWVvdXQgZm9yIHRoZSBwb2xsZXINCiAgICAgICAgdGhpcy5wb2xsaW5nID0gbmV3IERlbGF5ZWQoKQ0KICAgICAgICAvLyBUcmFja3Mgd2hlbiBpbnB1dC5yZXNldCBoYXMgcHVudGVkIHRvIGp1c3QgcHV0dGluZyBhIHNob3J0DQogICAgICAgIC8vIHN0cmluZyBpbnRvIHRoZSB0ZXh0YXJlYSBpbnN0ZWFkIG9mIHRoZSBmdWxsIHNlbGVjdGlvbi4NCiAgICAgICAgdGhpcy5pbmFjY3VyYXRlU2VsZWN0aW9uID0gZmFsc2UNCiAgICAgICAgLy8gVXNlZCB0byB3b3JrIGFyb3VuZCBJRSBpc3N1ZSB3aXRoIHNlbGVjdGlvbiBiZWluZyBmb3Jnb3R0ZW4gd2hlbiBmb2N1cyBtb3ZlcyBhd2F5IGZyb20gdGV4dGFyZWENCiAgICAgICAgdGhpcy5oYXNTZWxlY3Rpb24gPSBmYWxzZQ0KICAgICAgICB0aGlzLmNvbXBvc2luZyA9IG51bGwNCiAgICB9DQoNCiAgICBUZXh0YXJlYUlucHV0LnByb3RvdHlwZSA9IGNvcHlPYmooew0KICAgICAgICBpbml0OiBmdW5jdGlvbihkaXNwbGF5KSB7DQogICAgICAgICAgICB2YXIgdGhpcyQxID0gdGhpczsNCg0KICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgY20gPSB0aGlzLmNtDQoNCiAgICAgICAgICAgIC8vIFdyYXBzIGFuZCBoaWRlcyBpbnB1dCB0ZXh0YXJlYQ0KICAgICAgICAgICAgdmFyIGRpdiA9IHRoaXMud3JhcHBlciA9IGhpZGRlblRleHRhcmVhKCkNCiAgICAgICAgICAgIC8vIFRoZSBzZW1paGlkZGVuIHRleHRhcmVhIHRoYXQgaXMgZm9jdXNlZCB3aGVuIHRoZSBlZGl0b3IgaXMNCiAgICAgICAgICAgIC8vIGZvY3VzZWQsIGFuZCByZWNlaXZlcyBpbnB1dC4NCiAgICAgICAgICAgIHZhciB0ZSA9IHRoaXMudGV4dGFyZWEgPSBkaXYuZmlyc3RDaGlsZA0KICAgICAgICAgICAgZGlzcGxheS53cmFwcGVyLmluc2VydEJlZm9yZShkaXYsIGRpc3BsYXkud3JhcHBlci5maXJzdENoaWxkKQ0KDQogICAgICAgICAgICAvLyBOZWVkZWQgdG8gaGlkZSBiaWcgYmx1ZSBibGlua2luZyBjdXJzb3Igb24gTW9iaWxlIFNhZmFyaSAoZG9lc24ndCBzZWVtIHRvIHdvcmsgaW4gaU9TIDggYW55bW9yZSkNCiAgICAgICAgICAgIGlmIChpb3MpIHsgdGUuc3R5bGUud2lkdGggPSAiMHB4IiB9DQoNCiAgICAgICAgICAgIG9uKHRlLCAiaW5wdXQiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSAmJiB0aGlzJDEuaGFzU2VsZWN0aW9uKSB7IHRoaXMkMS5oYXNTZWxlY3Rpb24gPSBudWxsIH0NCiAgICAgICAgICAgICAgICBpbnB1dC5wb2xsKCkNCiAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgIG9uKHRlLCAicGFzdGUiLCBmdW5jdGlvbiAoZSkgew0KICAgICAgICAgICAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkgfHwgaGFuZGxlUGFzdGUoZSwgY20pKSB7IHJldHVybiB9DQoNCiAgICAgICAgICAgICAgICBjbS5zdGF0ZS5wYXN0ZUluY29taW5nID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIGlucHV0LmZhc3RQb2xsKCkNCiAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVDb3B5Q3V0KGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpKSB7IHJldHVybiB9DQogICAgICAgICAgICAgICAgaWYgKGNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0TGFzdENvcGllZCh7bGluZVdpc2U6IGZhbHNlLCB0ZXh0OiBjbS5nZXRTZWxlY3Rpb25zKCl9KQ0KICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuaW5hY2N1cmF0ZVNlbGVjdGlvbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQucHJldklucHV0ID0gIiINCiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LmluYWNjdXJhdGVTZWxlY3Rpb24gPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGUudmFsdWUgPSBsYXN0Q29waWVkLnRleHQuam9pbigiXG4iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0SW5wdXQodGUpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFjbS5vcHRpb25zLmxpbmVXaXNlQ29weUN1dCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2VzID0gY29weWFibGVSYW5nZXMoY20pDQogICAgICAgICAgICAgICAgICAgIHNldExhc3RDb3BpZWQoe2xpbmVXaXNlOiB0cnVlLCB0ZXh0OiByYW5nZXMudGV4dH0pDQogICAgICAgICAgICAgICAgICAgIGlmIChlLnR5cGUgPT0gImN1dCIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNtLnNldFNlbGVjdGlvbnMocmFuZ2VzLnJhbmdlcywgbnVsbCwgc2VsX2RvbnRTY3JvbGwpDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5wcmV2SW5wdXQgPSAiIg0KICAgICAgICAgICAgICAgICAgICAgICAgdGUudmFsdWUgPSByYW5nZXMudGV4dC5qb2luKCJcbiIpDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RJbnB1dCh0ZSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09ICJjdXQiKSB7IGNtLnN0YXRlLmN1dEluY29taW5nID0gdHJ1ZSB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBvbih0ZSwgImN1dCIsIHByZXBhcmVDb3B5Q3V0KQ0KICAgICAgICAgICAgb24odGUsICJjb3B5IiwgcHJlcGFyZUNvcHlDdXQpDQoNCiAgICAgICAgICAgIG9uKGRpc3BsYXkuc2Nyb2xsZXIsICJwYXN0ZSIsIGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICAgICAgaWYgKGV2ZW50SW5XaWRnZXQoZGlzcGxheSwgZSkgfHwgc2lnbmFsRE9NRXZlbnQoY20sIGUpKSB7IHJldHVybiB9DQogICAgICAgICAgICAgICAgY20uc3RhdGUucGFzdGVJbmNvbWluZyA9IHRydWUNCiAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpDQogICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICAvLyBQcmV2ZW50IG5vcm1hbCBzZWxlY3Rpb24gaW4gdGhlIGVkaXRvciAod2UgaGFuZGxlIG91ciBvd24pDQogICAgICAgICAgICBvbihkaXNwbGF5LmxpbmVTcGFjZSwgInNlbGVjdHN0YXJ0IiwgZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50SW5XaWRnZXQoZGlzcGxheSwgZSkpIHsgZV9wcmV2ZW50RGVmYXVsdChlKSB9DQogICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICBvbih0ZSwgImNvbXBvc2l0aW9uc3RhcnQiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gY20uZ2V0Q3Vyc29yKCJmcm9tIikNCiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY29tcG9zaW5nKSB7IGlucHV0LmNvbXBvc2luZy5yYW5nZS5jbGVhcigpIH0NCiAgICAgICAgICAgICAgICBpbnB1dC5jb21wb3NpbmcgPSB7DQogICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGNtLm1hcmtUZXh0KHN0YXJ0LCBjbS5nZXRDdXJzb3IoInRvIiksIHtjbGFzc05hbWU6ICJDb2RlTWlycm9yLWNvbXBvc2luZyJ9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICBvbih0ZSwgImNvbXBvc2l0aW9uZW5kIiwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jb21wb3NpbmcpIHsNCiAgICAgICAgICAgICAgICAgICAgaW5wdXQucG9sbCgpDQogICAgICAgICAgICAgICAgICAgIGlucHV0LmNvbXBvc2luZy5yYW5nZS5jbGVhcigpDQogICAgICAgICAgICAgICAgICAgIGlucHV0LmNvbXBvc2luZyA9IG51bGwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KDQogICAgICAgIHByZXBhcmVTZWxlY3Rpb246IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgLy8gUmVkcmF3IHRoZSBzZWxlY3Rpb24gYW5kL29yIGN1cnNvcg0KICAgICAgICAgICAgdmFyIGNtID0gdGhpcy5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHByZXBhcmVTZWxlY3Rpb24oY20pDQoNCiAgICAgICAgICAgIC8vIE1vdmUgdGhlIGhpZGRlbiB0ZXh0YXJlYSBuZWFyIHRoZSBjdXJzb3IgdG8gcHJldmVudCBzY3JvbGxpbmcgYXJ0aWZhY3RzDQogICAgICAgICAgICBpZiAoY20ub3B0aW9ucy5tb3ZlSW5wdXRXaXRoQ3Vyc29yKSB7DQogICAgICAgICAgICAgICAgdmFyIGhlYWRQb3MgPSBjdXJzb3JDb29yZHMoY20sIGRvYy5zZWwucHJpbWFyeSgpLmhlYWQsICJkaXYiKQ0KICAgICAgICAgICAgICAgIHZhciB3cmFwT2ZmID0gZGlzcGxheS53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBsaW5lT2ZmID0gZGlzcGxheS5saW5lRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpDQogICAgICAgICAgICAgICAgcmVzdWx0LnRlVG9wID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCAtIDEwLA0KICAgICAgICAgICAgICAgICAgICBoZWFkUG9zLnRvcCArIGxpbmVPZmYudG9wIC0gd3JhcE9mZi50b3ApKQ0KICAgICAgICAgICAgICAgIHJlc3VsdC50ZUxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkaXNwbGF5LndyYXBwZXIuY2xpZW50V2lkdGggLSAxMCwNCiAgICAgICAgICAgICAgICAgICAgaGVhZFBvcy5sZWZ0ICsgbGluZU9mZi5sZWZ0IC0gd3JhcE9mZi5sZWZ0KSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdA0KICAgICAgICB9LA0KDQogICAgICAgIHNob3dTZWxlY3Rpb246IGZ1bmN0aW9uKGRyYXduKSB7DQogICAgICAgICAgICB2YXIgY20gPSB0aGlzLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheQ0KICAgICAgICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoZGlzcGxheS5jdXJzb3JEaXYsIGRyYXduLmN1cnNvcnMpDQogICAgICAgICAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChkaXNwbGF5LnNlbGVjdGlvbkRpdiwgZHJhd24uc2VsZWN0aW9uKQ0KICAgICAgICAgICAgaWYgKGRyYXduLnRlVG9wICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXIuc3R5bGUudG9wID0gZHJhd24udGVUb3AgKyAicHgiDQogICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLmxlZnQgPSBkcmF3bi50ZUxlZnQgKyAicHgiDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgLy8gUmVzZXQgdGhlIGlucHV0IHRvIGNvcnJlc3BvbmQgdG8gdGhlIHNlbGVjdGlvbiAob3IgdG8gYmUgZW1wdHksDQogICAgICAgIC8vIHdoZW4gbm90IHR5cGluZyBhbmQgbm90aGluZyBpcyBzZWxlY3RlZCkNCiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKHR5cGluZykgew0KICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dE1lbnVQZW5kaW5nKSB7IHJldHVybiB9DQogICAgICAgICAgICB2YXIgbWluaW1hbCwgc2VsZWN0ZWQsIGNtID0gdGhpcy5jbSwgZG9jID0gY20uZG9jDQogICAgICAgICAgICBpZiAoY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkgew0KICAgICAgICAgICAgICAgIHRoaXMucHJldklucHV0ID0gIiINCiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UkJDEgPSBkb2Muc2VsLnByaW1hcnkoKQ0KICAgICAgICAgICAgICAgIG1pbmltYWwgPSBoYXNDb3B5RXZlbnQgJiYNCiAgICAgICAgICAgICAgICAgICAgKHJhbmdlJCQxLnRvKCkubGluZSAtIHJhbmdlJCQxLmZyb20oKS5saW5lID4gMTAwIHx8IChzZWxlY3RlZCA9IGNtLmdldFNlbGVjdGlvbigpKS5sZW5ndGggPiAxMDAwKQ0KICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gbWluaW1hbCA/ICItIiA6IHNlbGVjdGVkIHx8IGNtLmdldFNlbGVjdGlvbigpDQogICAgICAgICAgICAgICAgdGhpcy50ZXh0YXJlYS52YWx1ZSA9IGNvbnRlbnQNCiAgICAgICAgICAgICAgICBpZiAoY20uc3RhdGUuZm9jdXNlZCkgeyBzZWxlY3RJbnB1dCh0aGlzLnRleHRhcmVhKSB9DQogICAgICAgICAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgeyB0aGlzLmhhc1NlbGVjdGlvbiA9IGNvbnRlbnQgfQ0KICAgICAgICAgICAgfSBlbHNlIGlmICghdHlwaW5nKSB7DQogICAgICAgICAgICAgICAgdGhpcy5wcmV2SW5wdXQgPSB0aGlzLnRleHRhcmVhLnZhbHVlID0gIiINCiAgICAgICAgICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KSB7IHRoaXMuaGFzU2VsZWN0aW9uID0gbnVsbCB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmluYWNjdXJhdGVTZWxlY3Rpb24gPSBtaW5pbWFsDQogICAgICAgIH0sDQoNCiAgICAgICAgZ2V0RmllbGQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy50ZXh0YXJlYSB9LA0KDQogICAgICAgIHN1cHBvcnRzVG91Y2g6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2UgfSwNCg0KICAgICAgICBmb2N1czogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBpZiAodGhpcy5jbS5vcHRpb25zLnJlYWRPbmx5ICE9ICJub2N1cnNvciIgJiYgKCFtb2JpbGUgfHwgYWN0aXZlRWx0KCkgIT0gdGhpcy50ZXh0YXJlYSkpIHsNCiAgICAgICAgICAgICAgICB0cnkgeyB0aGlzLnRleHRhcmVhLmZvY3VzKCkgfQ0KICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7fSAvLyBJRTggd2lsbCB0aHJvdyBpZiB0aGUgdGV4dGFyZWEgaXMgZGlzcGxheTogbm9uZSBvciBub3QgaW4gRE9NDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgYmx1cjogZnVuY3Rpb24oKSB7IHRoaXMudGV4dGFyZWEuYmx1cigpIH0sDQoNCiAgICAgICAgcmVzZXRQb3NpdGlvbjogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB0aGlzLndyYXBwZXIuc3R5bGUudG9wID0gdGhpcy53cmFwcGVyLnN0eWxlLmxlZnQgPSAwDQogICAgICAgIH0sDQoNCiAgICAgICAgcmVjZWl2ZWRGb2N1czogZnVuY3Rpb24oKSB7IHRoaXMuc2xvd1BvbGwoKSB9LA0KDQogICAgICAgIC8vIFBvbGwgZm9yIGlucHV0IGNoYW5nZXMsIHVzaW5nIHRoZSBub3JtYWwgcmF0ZSBvZiBwb2xsaW5nLiBUaGlzDQogICAgICAgIC8vIHJ1bnMgYXMgbG9uZyBhcyB0aGUgZWRpdG9yIGlzIGZvY3VzZWQuDQogICAgICAgIHNsb3dQb2xsOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICBpZiAodGhpcy5wb2xsaW5nRmFzdCkgeyByZXR1cm4gfQ0KICAgICAgICAgICAgdGhpcy5wb2xsaW5nLnNldCh0aGlzLmNtLm9wdGlvbnMucG9sbEludGVydmFsLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdGhpcyQxLnBvbGwoKQ0KICAgICAgICAgICAgICAgIGlmICh0aGlzJDEuY20uc3RhdGUuZm9jdXNlZCkgeyB0aGlzJDEuc2xvd1BvbGwoKSB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KDQogICAgICAgIC8vIFdoZW4gYW4gZXZlbnQgaGFzIGp1c3QgY29tZSBpbiB0aGF0IGlzIGxpa2VseSB0byBhZGQgb3IgY2hhbmdlDQogICAgICAgIC8vIHNvbWV0aGluZyBpbiB0aGUgaW5wdXQgdGV4dGFyZWEsIHdlIHBvbGwgZmFzdGVyLCB0byBlbnN1cmUgdGhhdA0KICAgICAgICAvLyB0aGUgY2hhbmdlIGFwcGVhcnMgb24gdGhlIHNjcmVlbiBxdWlja2x5Lg0KICAgICAgICBmYXN0UG9sbDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB2YXIgbWlzc2VkID0gZmFsc2UsIGlucHV0ID0gdGhpcw0KICAgICAgICAgICAgaW5wdXQucG9sbGluZ0Zhc3QgPSB0cnVlDQogICAgICAgICAgICBmdW5jdGlvbiBwKCkgew0KICAgICAgICAgICAgICAgIHZhciBjaGFuZ2VkID0gaW5wdXQucG9sbCgpDQogICAgICAgICAgICAgICAgaWYgKCFjaGFuZ2VkICYmICFtaXNzZWQpIHttaXNzZWQgPSB0cnVlOyBpbnB1dC5wb2xsaW5nLnNldCg2MCwgcCl9DQogICAgICAgICAgICAgICAgZWxzZSB7aW5wdXQucG9sbGluZ0Zhc3QgPSBmYWxzZTsgaW5wdXQuc2xvd1BvbGwoKX0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlucHV0LnBvbGxpbmcuc2V0KDIwLCBwKQ0KICAgICAgICB9LA0KDQogICAgICAgIC8vIFJlYWQgaW5wdXQgZnJvbSB0aGUgdGV4dGFyZWEsIGFuZCB1cGRhdGUgdGhlIGRvY3VtZW50IHRvIG1hdGNoLg0KICAgICAgICAvLyBXaGVuIHNvbWV0aGluZyBpcyBzZWxlY3RlZCwgaXQgaXMgcHJlc2VudCBpbiB0aGUgdGV4dGFyZWEsIGFuZA0KICAgICAgICAvLyBzZWxlY3RlZCAodW5sZXNzIGl0IGlzIGh1Z2UsIGluIHdoaWNoIGNhc2UgYSBwbGFjZWhvbGRlciBpcw0KICAgICAgICAvLyB1c2VkKS4gV2hlbiBub3RoaW5nIGlzIHNlbGVjdGVkLCB0aGUgY3Vyc29yIHNpdHMgYWZ0ZXIgcHJldmlvdXNseQ0KICAgICAgICAvLyBzZWVuIHRleHQgKGNhbiBiZSBlbXB0eSksIHdoaWNoIGlzIHN0b3JlZCBpbiBwcmV2SW5wdXQgKHdlIG11c3QNCiAgICAgICAgLy8gbm90IHJlc2V0IHRoZSB0ZXh0YXJlYSB3aGVuIHR5cGluZywgYmVjYXVzZSB0aGF0IGJyZWFrcyBJTUUpLg0KICAgICAgICBwb2xsOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzOw0KDQogICAgICAgICAgICB2YXIgY20gPSB0aGlzLmNtLCBpbnB1dCA9IHRoaXMudGV4dGFyZWEsIHByZXZJbnB1dCA9IHRoaXMucHJldklucHV0DQogICAgICAgICAgICAvLyBTaW5jZSB0aGlzIGlzIGNhbGxlZCBhICpsb3QqLCB0cnkgdG8gYmFpbCBvdXQgYXMgY2hlYXBseSBhcw0KICAgICAgICAgICAgLy8gcG9zc2libGUgd2hlbiBpdCBpcyBjbGVhciB0aGF0IG5vdGhpbmcgaGFwcGVuZWQuIGhhc1NlbGVjdGlvbg0KICAgICAgICAgICAgLy8gd2lsbCBiZSB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGEgbG90IG9mIHRleHQgaW4gdGhlIHRleHRhcmVhLA0KICAgICAgICAgICAgLy8gaW4gd2hpY2ggY2FzZSByZWFkaW5nIGl0cyB2YWx1ZSB3b3VsZCBiZSBleHBlbnNpdmUuDQogICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0TWVudVBlbmRpbmcgfHwgIWNtLnN0YXRlLmZvY3VzZWQgfHwNCiAgICAgICAgICAgICAgICAoaGFzU2VsZWN0aW9uKGlucHV0KSAmJiAhcHJldklucHV0ICYmICF0aGlzLmNvbXBvc2luZykgfHwNCiAgICAgICAgICAgICAgICBjbS5pc1JlYWRPbmx5KCkgfHwgY20ub3B0aW9ucy5kaXNhYmxlSW5wdXQgfHwgY20uc3RhdGUua2V5U2VxKQ0KICAgICAgICAgICAgeyByZXR1cm4gZmFsc2UgfQ0KDQogICAgICAgICAgICB2YXIgdGV4dCA9IGlucHV0LnZhbHVlDQogICAgICAgICAgICAvLyBJZiBub3RoaW5nIGNoYW5nZWQsIGJhaWwuDQogICAgICAgICAgICBpZiAodGV4dCA9PSBwcmV2SW5wdXQgJiYgIWNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHsgcmV0dXJuIGZhbHNlIH0NCiAgICAgICAgICAgIC8vIFdvcmsgYXJvdW5kIG5vbnNlbnNpY2FsIHNlbGVjdGlvbiByZXNldHRpbmcgaW4gSUU5LzEwLCBhbmQNCiAgICAgICAgICAgIC8vIGluZXhwbGljYWJsZSBhcHBlYXJhbmNlIG9mIHByaXZhdGUgYXJlYSB1bmljb2RlIGNoYXJhY3RlcnMgb24NCiAgICAgICAgICAgIC8vIHNvbWUga2V5IGNvbWJvcyBpbiBNYWMgKCMyNjg5KS4NCiAgICAgICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uID49IDkgJiYgdGhpcy5oYXNTZWxlY3Rpb24gPT09IHRleHQgfHwNCiAgICAgICAgICAgICAgICBtYWMgJiYgL1tcdWY3MDAtXHVmN2ZmXS8udGVzdCh0ZXh0KSkgew0KICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQucmVzZXQoKQ0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoY20uZG9jLnNlbCA9PSBjbS5kaXNwbGF5LnNlbEZvckNvbnRleHRNZW51KSB7DQogICAgICAgICAgICAgICAgdmFyIGZpcnN0ID0gdGV4dC5jaGFyQ29kZUF0KDApDQogICAgICAgICAgICAgICAgaWYgKGZpcnN0ID09IDB4MjAwYiAmJiAhcHJldklucHV0KSB7IHByZXZJbnB1dCA9ICJcdTIwMGIiIH0NCiAgICAgICAgICAgICAgICBpZiAoZmlyc3QgPT0gMHgyMWRhKSB7IHRoaXMucmVzZXQoKTsgcmV0dXJuIHRoaXMuY20uZXhlY0NvbW1hbmQoInVuZG8iKSB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBGaW5kIHRoZSBwYXJ0IG9mIHRoZSBpbnB1dCB0aGF0IGlzIGFjdHVhbGx5IG5ldw0KICAgICAgICAgICAgdmFyIHNhbWUgPSAwLCBsID0gTWF0aC5taW4ocHJldklucHV0Lmxlbmd0aCwgdGV4dC5sZW5ndGgpDQogICAgICAgICAgICB3aGlsZSAoc2FtZSA8IGwgJiYgcHJldklucHV0LmNoYXJDb2RlQXQoc2FtZSkgPT0gdGV4dC5jaGFyQ29kZUF0KHNhbWUpKSB7ICsrc2FtZSB9DQoNCiAgICAgICAgICAgIHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBhcHBseVRleHRJbnB1dChjbSwgdGV4dC5zbGljZShzYW1lKSwgcHJldklucHV0Lmxlbmd0aCAtIHNhbWUsDQogICAgICAgICAgICAgICAgICAgIG51bGwsIHRoaXMkMS5jb21wb3NpbmcgPyAiKmNvbXBvc2UiIDogbnVsbCkNCg0KICAgICAgICAgICAgICAgIC8vIERvbid0IGxlYXZlIGxvbmcgdGV4dCBpbiB0aGUgdGV4dGFyZWEsIHNpbmNlIGl0IG1ha2VzIGZ1cnRoZXIgcG9sbGluZyBzbG93DQogICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gMTAwMCB8fCB0ZXh0LmluZGV4T2YoIlxuIikgPiAtMSkgeyBpbnB1dC52YWx1ZSA9IHRoaXMkMS5wcmV2SW5wdXQgPSAiIiB9DQogICAgICAgICAgICAgICAgZWxzZSB7IHRoaXMkMS5wcmV2SW5wdXQgPSB0ZXh0IH0NCg0KICAgICAgICAgICAgICAgIGlmICh0aGlzJDEuY29tcG9zaW5nKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMkMS5jb21wb3NpbmcucmFuZ2UuY2xlYXIoKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzJDEuY29tcG9zaW5nLnJhbmdlID0gY20ubWFya1RleHQodGhpcyQxLmNvbXBvc2luZy5zdGFydCwgY20uZ2V0Q3Vyc29yKCJ0byIpLA0KICAgICAgICAgICAgICAgICAgICAgICAge2NsYXNzTmFtZTogIkNvZGVNaXJyb3ItY29tcG9zaW5nIn0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0sDQoNCiAgICAgICAgZW5zdXJlUG9sbGVkOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnBvbGxpbmdGYXN0ICYmIHRoaXMucG9sbCgpKSB7IHRoaXMucG9sbGluZ0Zhc3QgPSBmYWxzZSB9DQogICAgICAgIH0sDQoNCiAgICAgICAgb25LZXlQcmVzczogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KSB7IHRoaXMuaGFzU2VsZWN0aW9uID0gbnVsbCB9DQogICAgICAgICAgICB0aGlzLmZhc3RQb2xsKCkNCiAgICAgICAgfSwNCg0KICAgICAgICBvbkNvbnRleHRNZW51OiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLCBjbSA9IGlucHV0LmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgdGUgPSBpbnB1dC50ZXh0YXJlYQ0KICAgICAgICAgICAgdmFyIHBvcyA9IHBvc0Zyb21Nb3VzZShjbSwgZSksIHNjcm9sbFBvcyA9IGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wDQogICAgICAgICAgICBpZiAoIXBvcyB8fCBwcmVzdG8pIHsgcmV0dXJuIH0gLy8gT3BlcmEgaXMgZGlmZmljdWx0Lg0KDQogICAgICAgICAgICAvLyBSZXNldCB0aGUgY3VycmVudCB0ZXh0IHNlbGVjdGlvbiBvbmx5IGlmIHRoZSBjbGljayBpcyBkb25lIG91dHNpZGUgb2YgdGhlIHNlbGVjdGlvbg0KICAgICAgICAgICAgLy8gYW5kICdyZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnUnIG9wdGlvbiBpcyB0cnVlLg0KICAgICAgICAgICAgdmFyIHJlc2V0ID0gY20ub3B0aW9ucy5yZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnUNCiAgICAgICAgICAgIGlmIChyZXNldCAmJiBjbS5kb2Muc2VsLmNvbnRhaW5zKHBvcykgPT0gLTEpDQogICAgICAgICAgICB7IG9wZXJhdGlvbihjbSwgc2V0U2VsZWN0aW9uKShjbS5kb2MsIHNpbXBsZVNlbGVjdGlvbihwb3MpLCBzZWxfZG9udFNjcm9sbCkgfQ0KDQogICAgICAgICAgICB2YXIgb2xkQ1NTID0gdGUuc3R5bGUuY3NzVGV4dCwgb2xkV3JhcHBlckNTUyA9IGlucHV0LndyYXBwZXIuc3R5bGUuY3NzVGV4dA0KICAgICAgICAgICAgaW5wdXQud3JhcHBlci5zdHlsZS5jc3NUZXh0ID0gInBvc2l0aW9uOiBhYnNvbHV0ZSINCiAgICAgICAgICAgIHZhciB3cmFwcGVyQm94ID0gaW5wdXQud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQ0KICAgICAgICAgICAgdGUuc3R5bGUuY3NzVGV4dCA9ICJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAzMHB4OyBoZWlnaHQ6IDMwcHg7XG4gICAgICB0b3A6ICIgKyAoZS5jbGllbnRZIC0gd3JhcHBlckJveC50b3AgLSA1KSArICJweDsgbGVmdDogIiArIChlLmNsaWVudFggLSB3cmFwcGVyQm94LmxlZnQgLSA1KSArICJweDtcbiAgICAgIHotaW5kZXg6IDEwMDA7IGJhY2tncm91bmQ6ICIgKyAoaWUgPyAicmdiYSgyNTUsIDI1NSwgMjU1LCAuMDUpIiA6ICJ0cmFuc3BhcmVudCIpICsgIjtcbiAgICAgIG91dGxpbmU6IG5vbmU7IGJvcmRlci13aWR0aDogMDsgb3V0bGluZTogbm9uZTsgb3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogLjA1OyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NSk7Ig0KICAgICAgICAgICAgdmFyIG9sZFNjcm9sbFkNCiAgICAgICAgICAgIGlmICh3ZWJraXQpIHsgb2xkU2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZIH0gLy8gV29yayBhcm91bmQgQ2hyb21lIGlzc3VlICgjMjcxMikNCiAgICAgICAgICAgIGRpc3BsYXkuaW5wdXQuZm9jdXMoKQ0KICAgICAgICAgICAgaWYgKHdlYmtpdCkgeyB3aW5kb3cuc2Nyb2xsVG8obnVsbCwgb2xkU2Nyb2xsWSkgfQ0KICAgICAgICAgICAgZGlzcGxheS5pbnB1dC5yZXNldCgpDQogICAgICAgICAgICAvLyBBZGRzICJTZWxlY3QgYWxsIiB0byBjb250ZXh0IG1lbnUgaW4gRkYNCiAgICAgICAgICAgIGlmICghY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkgeyB0ZS52YWx1ZSA9IGlucHV0LnByZXZJbnB1dCA9ICIgIiB9DQogICAgICAgICAgICBpbnB1dC5jb250ZXh0TWVudVBlbmRpbmcgPSB0cnVlDQogICAgICAgICAgICBkaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ID0gY20uZG9jLnNlbA0KICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRpc3BsYXkuZGV0ZWN0aW5nU2VsZWN0QWxsKQ0KDQogICAgICAgICAgICAvLyBTZWxlY3QtYWxsIHdpbGwgYmUgZ3JleWVkIG91dCBpZiB0aGVyZSdzIG5vdGhpbmcgdG8gc2VsZWN0LCBzbw0KICAgICAgICAgICAgLy8gdGhpcyBhZGRzIGEgemVyby13aWR0aCBzcGFjZSBzbyB0aGF0IHdlIGNhbiBsYXRlciBjaGVjayB3aGV0aGVyDQogICAgICAgICAgICAvLyBpdCBnb3Qgc2VsZWN0ZWQuDQogICAgICAgICAgICBmdW5jdGlvbiBwcmVwYXJlU2VsZWN0QWxsSGFjaygpIHsNCiAgICAgICAgICAgICAgICBpZiAodGUuc2VsZWN0aW9uU3RhcnQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBjbS5zb21ldGhpbmdTZWxlY3RlZCgpDQogICAgICAgICAgICAgICAgICAgIHZhciBleHR2YWwgPSAiXHUyMDBiIiArIChzZWxlY3RlZCA/IHRlLnZhbHVlIDogIiIpDQogICAgICAgICAgICAgICAgICAgIHRlLnZhbHVlID0gIlx1MjFkYSIgLy8gVXNlZCB0byBjYXRjaCBjb250ZXh0LW1lbnUgdW5kbw0KICAgICAgICAgICAgICAgICAgICB0ZS52YWx1ZSA9IGV4dHZhbA0KICAgICAgICAgICAgICAgICAgICBpbnB1dC5wcmV2SW5wdXQgPSBzZWxlY3RlZCA/ICIiIDogIlx1MjAwYiINCiAgICAgICAgICAgICAgICAgICAgdGUuc2VsZWN0aW9uU3RhcnQgPSAxOyB0ZS5zZWxlY3Rpb25FbmQgPSBleHR2YWwubGVuZ3RoDQogICAgICAgICAgICAgICAgICAgIC8vIFJlLXNldCB0aGlzLCBpbiBjYXNlIHNvbWUgb3RoZXIgaGFuZGxlciB0b3VjaGVkIHRoZQ0KICAgICAgICAgICAgICAgICAgICAvLyBzZWxlY3Rpb24gaW4gdGhlIG1lYW50aW1lLg0KICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ID0gY20uZG9jLnNlbA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZ1bmN0aW9uIHJlaGlkZSgpIHsNCiAgICAgICAgICAgICAgICBpbnB1dC5jb250ZXh0TWVudVBlbmRpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIGlucHV0LndyYXBwZXIuc3R5bGUuY3NzVGV4dCA9IG9sZFdyYXBwZXJDU1MNCiAgICAgICAgICAgICAgICB0ZS5zdHlsZS5jc3NUZXh0ID0gb2xkQ1NTDQogICAgICAgICAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5KSB7IGRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3AoZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AgPSBzY3JvbGxQb3MpIH0NCg0KICAgICAgICAgICAgICAgIC8vIFRyeSB0byBkZXRlY3QgdGhlIHVzZXIgY2hvb3Npbmcgc2VsZWN0LWFsbA0KICAgICAgICAgICAgICAgIGlmICh0ZS5zZWxlY3Rpb25TdGFydCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghaWUgfHwgKGllICYmIGllX3ZlcnNpb24gPCA5KSkgeyBwcmVwYXJlU2VsZWN0QWxsSGFjaygpIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAwLCBwb2xsID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgPT0gY20uZG9jLnNlbCAmJiB0ZS5zZWxlY3Rpb25TdGFydCA9PSAwICYmDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGUuc2VsZWN0aW9uRW5kID4gMCAmJiBpbnB1dC5wcmV2SW5wdXQgPT0gIlx1MjAwYiIpDQogICAgICAgICAgICAgICAgICAgICAgICB7IG9wZXJhdGlvbihjbSwgc2VsZWN0QWxsKShjbSkgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSsrIDwgMTApIHsgZGlzcGxheS5kZXRlY3RpbmdTZWxlY3RBbGwgPSBzZXRUaW1lb3V0KHBvbGwsIDUwMCkgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7IGRpc3BsYXkuaW5wdXQucmVzZXQoKSB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5kZXRlY3RpbmdTZWxlY3RBbGwgPSBzZXRUaW1lb3V0KHBvbGwsIDIwMCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uID49IDkpIHsgcHJlcGFyZVNlbGVjdEFsbEhhY2soKSB9DQogICAgICAgICAgICBpZiAoY2FwdHVyZVJpZ2h0Q2xpY2spIHsNCiAgICAgICAgICAgICAgICBlX3N0b3AoZSkNCiAgICAgICAgICAgICAgICB2YXIgbW91c2V1cCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgb2ZmKHdpbmRvdywgIm1vdXNldXAiLCBtb3VzZXVwKQ0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlaGlkZSwgMjApDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIG9uKHdpbmRvdywgIm1vdXNldXAiLCBtb3VzZXVwKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlaGlkZSwgNTApDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgcmVhZE9ubHlDaGFuZ2VkOiBmdW5jdGlvbih2YWwpIHsNCiAgICAgICAgICAgIGlmICghdmFsKSB7IHRoaXMucmVzZXQoKSB9DQogICAgICAgIH0sDQoNCiAgICAgICAgc2V0VW5lZGl0YWJsZTogbm90aGluZywNCg0KICAgICAgICBuZWVkc0NvbnRlbnRBdHRyaWJ1dGU6IGZhbHNlDQogICAgfSwgVGV4dGFyZWFJbnB1dC5wcm90b3R5cGUpDQoNCiAgICBmdW5jdGlvbiBmcm9tVGV4dEFyZWEodGV4dGFyZWEsIG9wdGlvbnMpIHsNCiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBjb3B5T2JqKG9wdGlvbnMpIDoge30NCiAgICAgICAgb3B0aW9ucy52YWx1ZSA9IHRleHRhcmVhLnZhbHVlDQogICAgICAgIGlmICghb3B0aW9ucy50YWJpbmRleCAmJiB0ZXh0YXJlYS50YWJJbmRleCkNCiAgICAgICAgeyBvcHRpb25zLnRhYmluZGV4ID0gdGV4dGFyZWEudGFiSW5kZXggfQ0KICAgICAgICBpZiAoIW9wdGlvbnMucGxhY2Vob2xkZXIgJiYgdGV4dGFyZWEucGxhY2Vob2xkZXIpDQogICAgICAgIHsgb3B0aW9ucy5wbGFjZWhvbGRlciA9IHRleHRhcmVhLnBsYWNlaG9sZGVyIH0NCiAgICAgICAgLy8gU2V0IGF1dG9mb2N1cyB0byB0cnVlIGlmIHRoaXMgdGV4dGFyZWEgaXMgZm9jdXNlZCwgb3IgaWYgaXQgaGFzDQogICAgICAgIC8vIGF1dG9mb2N1cyBhbmQgbm8gb3RoZXIgZWxlbWVudCBpcyBmb2N1c2VkLg0KICAgICAgICBpZiAob3B0aW9ucy5hdXRvZm9jdXMgPT0gbnVsbCkgew0KICAgICAgICAgICAgdmFyIGhhc0ZvY3VzID0gYWN0aXZlRWx0KCkNCiAgICAgICAgICAgIG9wdGlvbnMuYXV0b2ZvY3VzID0gaGFzRm9jdXMgPT0gdGV4dGFyZWEgfHwNCiAgICAgICAgICAgICAgICB0ZXh0YXJlYS5nZXRBdHRyaWJ1dGUoImF1dG9mb2N1cyIpICE9IG51bGwgJiYgaGFzRm9jdXMgPT0gZG9jdW1lbnQuYm9keQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gc2F2ZSgpIHt0ZXh0YXJlYS52YWx1ZSA9IGNtLmdldFZhbHVlKCl9DQoNCiAgICAgICAgdmFyIHJlYWxTdWJtaXQNCiAgICAgICAgaWYgKHRleHRhcmVhLmZvcm0pIHsNCiAgICAgICAgICAgIG9uKHRleHRhcmVhLmZvcm0sICJzdWJtaXQiLCBzYXZlKQ0KICAgICAgICAgICAgLy8gRGVwbG9yYWJsZSBoYWNrIHRvIG1ha2UgdGhlIHN1Ym1pdCBtZXRob2QgZG8gdGhlIHJpZ2h0IHRoaW5nLg0KICAgICAgICAgICAgaWYgKCFvcHRpb25zLmxlYXZlU3VibWl0TWV0aG9kQWxvbmUpIHsNCiAgICAgICAgICAgICAgICB2YXIgZm9ybSA9IHRleHRhcmVhLmZvcm0NCiAgICAgICAgICAgICAgICByZWFsU3VibWl0ID0gZm9ybS5zdWJtaXQNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZFN1Ym1pdCA9IGZvcm0uc3VibWl0ID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBmb3JtLnN1Ym1pdCA9IHJlYWxTdWJtaXQNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc3VibWl0KCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc3VibWl0ID0gd3JhcHBlZFN1Ym1pdA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7fQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgb3B0aW9ucy5maW5pc2hJbml0ID0gZnVuY3Rpb24gKGNtKSB7DQogICAgICAgICAgICBjbS5zYXZlID0gc2F2ZQ0KICAgICAgICAgICAgY20uZ2V0VGV4dEFyZWEgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0ZXh0YXJlYTsgfQ0KICAgICAgICAgICAgY20udG9UZXh0QXJlYSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBjbS50b1RleHRBcmVhID0gaXNOYU4gLy8gUHJldmVudCB0aGlzIGZyb20gYmVpbmcgcmFuIHR3aWNlDQogICAgICAgICAgICAgICAgc2F2ZSgpDQogICAgICAgICAgICAgICAgdGV4dGFyZWEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbS5nZXRXcmFwcGVyRWxlbWVudCgpKQ0KICAgICAgICAgICAgICAgIHRleHRhcmVhLnN0eWxlLmRpc3BsYXkgPSAiIg0KICAgICAgICAgICAgICAgIGlmICh0ZXh0YXJlYS5mb3JtKSB7DQogICAgICAgICAgICAgICAgICAgIG9mZih0ZXh0YXJlYS5mb3JtLCAic3VibWl0Iiwgc2F2ZSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXh0YXJlYS5mb3JtLnN1Ym1pdCA9PSAiZnVuY3Rpb24iKQ0KICAgICAgICAgICAgICAgICAgICB7IHRleHRhcmVhLmZvcm0uc3VibWl0ID0gcmVhbFN1Ym1pdCB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdGV4dGFyZWEuc3R5bGUuZGlzcGxheSA9ICJub25lIg0KICAgICAgICB2YXIgY20gPSBDb2RlTWlycm9yJDEoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIHRleHRhcmVhLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHRleHRhcmVhLm5leHRTaWJsaW5nKTsgfSwNCiAgICAgICAgICAgIG9wdGlvbnMpDQogICAgICAgIHJldHVybiBjbQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGFkZExlZ2FjeVByb3BzKENvZGVNaXJyb3IpIHsNCiAgICAgICAgQ29kZU1pcnJvci5vZmYgPSBvZmYNCiAgICAgICAgQ29kZU1pcnJvci5vbiA9IG9uDQogICAgICAgIENvZGVNaXJyb3Iud2hlZWxFdmVudFBpeGVscyA9IHdoZWVsRXZlbnRQaXhlbHMNCiAgICAgICAgQ29kZU1pcnJvci5Eb2MgPSBEb2MNCiAgICAgICAgQ29kZU1pcnJvci5zcGxpdExpbmVzID0gc3BsaXRMaW5lc0F1dG8NCiAgICAgICAgQ29kZU1pcnJvci5jb3VudENvbHVtbiA9IGNvdW50Q29sdW1uDQogICAgICAgIENvZGVNaXJyb3IuZmluZENvbHVtbiA9IGZpbmRDb2x1bW4NCiAgICAgICAgQ29kZU1pcnJvci5pc1dvcmRDaGFyID0gaXNXb3JkQ2hhckJhc2ljDQogICAgICAgIENvZGVNaXJyb3IuUGFzcyA9IFBhc3MNCiAgICAgICAgQ29kZU1pcnJvci5zaWduYWwgPSBzaWduYWwNCiAgICAgICAgQ29kZU1pcnJvci5MaW5lID0gTGluZQ0KICAgICAgICBDb2RlTWlycm9yLmNoYW5nZUVuZCA9IGNoYW5nZUVuZA0KICAgICAgICBDb2RlTWlycm9yLnNjcm9sbGJhck1vZGVsID0gc2Nyb2xsYmFyTW9kZWwNCiAgICAgICAgQ29kZU1pcnJvci5Qb3MgPSBQb3MNCiAgICAgICAgQ29kZU1pcnJvci5jbXBQb3MgPSBjbXANCiAgICAgICAgQ29kZU1pcnJvci5tb2RlcyA9IG1vZGVzDQogICAgICAgIENvZGVNaXJyb3IubWltZU1vZGVzID0gbWltZU1vZGVzDQogICAgICAgIENvZGVNaXJyb3IucmVzb2x2ZU1vZGUgPSByZXNvbHZlTW9kZQ0KICAgICAgICBDb2RlTWlycm9yLmdldE1vZGUgPSBnZXRNb2RlDQogICAgICAgIENvZGVNaXJyb3IubW9kZUV4dGVuc2lvbnMgPSBtb2RlRXh0ZW5zaW9ucw0KICAgICAgICBDb2RlTWlycm9yLmV4dGVuZE1vZGUgPSBleHRlbmRNb2RlDQogICAgICAgIENvZGVNaXJyb3IuY29weVN0YXRlID0gY29weVN0YXRlDQogICAgICAgIENvZGVNaXJyb3Iuc3RhcnRTdGF0ZSA9IHN0YXJ0U3RhdGUNCiAgICAgICAgQ29kZU1pcnJvci5pbm5lck1vZGUgPSBpbm5lck1vZGUNCiAgICAgICAgQ29kZU1pcnJvci5jb21tYW5kcyA9IGNvbW1hbmRzDQogICAgICAgIENvZGVNaXJyb3Iua2V5TWFwID0ga2V5TWFwDQogICAgICAgIENvZGVNaXJyb3Iua2V5TmFtZSA9IGtleU5hbWUNCiAgICAgICAgQ29kZU1pcnJvci5pc01vZGlmaWVyS2V5ID0gaXNNb2RpZmllcktleQ0KICAgICAgICBDb2RlTWlycm9yLmxvb2t1cEtleSA9IGxvb2t1cEtleQ0KICAgICAgICBDb2RlTWlycm9yLm5vcm1hbGl6ZUtleU1hcCA9IG5vcm1hbGl6ZUtleU1hcA0KICAgICAgICBDb2RlTWlycm9yLlN0cmluZ1N0cmVhbSA9IFN0cmluZ1N0cmVhbQ0KICAgICAgICBDb2RlTWlycm9yLlNoYXJlZFRleHRNYXJrZXIgPSBTaGFyZWRUZXh0TWFya2VyDQogICAgICAgIENvZGVNaXJyb3IuVGV4dE1hcmtlciA9IFRleHRNYXJrZXINCiAgICAgICAgQ29kZU1pcnJvci5MaW5lV2lkZ2V0ID0gTGluZVdpZGdldA0KICAgICAgICBDb2RlTWlycm9yLmVfcHJldmVudERlZmF1bHQgPSBlX3ByZXZlbnREZWZhdWx0DQogICAgICAgIENvZGVNaXJyb3IuZV9zdG9wUHJvcGFnYXRpb24gPSBlX3N0b3BQcm9wYWdhdGlvbg0KICAgICAgICBDb2RlTWlycm9yLmVfc3RvcCA9IGVfc3RvcA0KICAgICAgICBDb2RlTWlycm9yLmFkZENsYXNzID0gYWRkQ2xhc3MNCiAgICAgICAgQ29kZU1pcnJvci5jb250YWlucyA9IGNvbnRhaW5zDQogICAgICAgIENvZGVNaXJyb3Iucm1DbGFzcyA9IHJtQ2xhc3MNCiAgICAgICAgQ29kZU1pcnJvci5rZXlOYW1lcyA9IGtleU5hbWVzDQogICAgfQ0KDQovLyBFRElUT1IgQ09OU1RSVUNUT1INCg0KICAgIGRlZmluZU9wdGlvbnMoQ29kZU1pcnJvciQxKQ0KDQogICAgYWRkRWRpdG9yTWV0aG9kcyhDb2RlTWlycm9yJDEpDQoNCi8vIFNldCB1cCBtZXRob2RzIG9uIENvZGVNaXJyb3IncyBwcm90b3R5cGUgdG8gcmVkaXJlY3QgdG8gdGhlIGVkaXRvcidzIGRvY3VtZW50Lg0KICAgIHZhciBkb250RGVsZWdhdGUgPSAiaXRlciBpbnNlcnQgcmVtb3ZlIGNvcHkgZ2V0RWRpdG9yIGNvbnN0cnVjdG9yIi5zcGxpdCgiICIpDQogICAgZm9yICh2YXIgcHJvcCBpbiBEb2MucHJvdG90eXBlKSB7IGlmIChEb2MucHJvdG90eXBlLmhhc093blByb3BlcnR5KHByb3ApICYmIGluZGV4T2YoZG9udERlbGVnYXRlLCBwcm9wKSA8IDApDQogICAgeyBDb2RlTWlycm9yJDEucHJvdG90eXBlW3Byb3BdID0gKGZ1bmN0aW9uKG1ldGhvZCkgew0KICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7cmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLmRvYywgYXJndW1lbnRzKX0NCiAgICB9KShEb2MucHJvdG90eXBlW3Byb3BdKSB9IH0NCg0KICAgIGV2ZW50TWl4aW4oRG9jKQ0KDQovLyBJTlBVVCBIQU5ETElORw0KDQogICAgQ29kZU1pcnJvciQxLmlucHV0U3R5bGVzID0geyJ0ZXh0YXJlYSI6IFRleHRhcmVhSW5wdXQsICJjb250ZW50ZWRpdGFibGUiOiBDb250ZW50RWRpdGFibGVJbnB1dH0NCg0KLy8gTU9ERSBERUZJTklUSU9OIEFORCBRVUVSWUlORw0KDQovLyBFeHRyYSBhcmd1bWVudHMgYXJlIHN0b3JlZCBhcyB0aGUgbW9kZSdzIGRlcGVuZGVuY2llcywgd2hpY2ggaXMNCi8vIHVzZWQgYnkgKGxlZ2FjeSkgbWVjaGFuaXNtcyBsaWtlIGxvYWRtb2RlLmpzIHRvIGF1dG9tYXRpY2FsbHkNCi8vIGxvYWQgYSBtb2RlLiAoUHJlZmVycmVkIG1lY2hhbmlzbSBpcyB0aGUgcmVxdWlyZS9kZWZpbmUgY2FsbHMuKQ0KICAgIENvZGVNaXJyb3IkMS5kZWZpbmVNb2RlID0gZnVuY3Rpb24obmFtZS8qLCBtb2RlLCDigKYqLykgew0KICAgICAgICBpZiAoIUNvZGVNaXJyb3IkMS5kZWZhdWx0cy5tb2RlICYmIG5hbWUgIT0gIm51bGwiKSB7IENvZGVNaXJyb3IkMS5kZWZhdWx0cy5tb2RlID0gbmFtZSB9DQogICAgICAgIGRlZmluZU1vZGUuYXBwbHkodGhpcywgYXJndW1lbnRzKQ0KICAgIH0NCg0KICAgIENvZGVNaXJyb3IkMS5kZWZpbmVNSU1FID0gZGVmaW5lTUlNRQ0KDQovLyBNaW5pbWFsIGRlZmF1bHQgbW9kZS4NCiAgICBDb2RlTWlycm9yJDEuZGVmaW5lTW9kZSgibnVsbCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7dG9rZW46IGZ1bmN0aW9uIChzdHJlYW0pIHsgcmV0dXJuIHN0cmVhbS5za2lwVG9FbmQoKTsgfX0pOyB9KQ0KICAgIENvZGVNaXJyb3IkMS5kZWZpbmVNSU1FKCJ0ZXh0L3BsYWluIiwgIm51bGwiKQ0KDQovLyBFWFRFTlNJT05TDQoNCiAgICBDb2RlTWlycm9yJDEuZGVmaW5lRXh0ZW5zaW9uID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMpIHsNCiAgICAgICAgQ29kZU1pcnJvciQxLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmMNCiAgICB9DQogICAgQ29kZU1pcnJvciQxLmRlZmluZURvY0V4dGVuc2lvbiA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jKSB7DQogICAgICAgIERvYy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jDQogICAgfQ0KDQogICAgQ29kZU1pcnJvciQxLmZyb21UZXh0QXJlYSA9IGZyb21UZXh0QXJlYQ0KDQogICAgYWRkTGVnYWN5UHJvcHMoQ29kZU1pcnJvciQxKQ0KDQogICAgQ29kZU1pcnJvciQxLnZlcnNpb24gPSAiNS4xOS4xIg0KDQogICAgcmV0dXJuIENvZGVNaXJyb3IkMTsNCg0KfSkpKTs=');
}


function resource_83b0f20668b196810065bec85b4fa294() {
    return base64_decode('LyoqCiAqIHNpbXBsZW1kZSB2MS4xMS4yCiAqIENvcHlyaWdodCBOZXh0IFN0ZXAgV2VicywgSW5jLgogKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vTmV4dFN0ZXBXZWJzL3NpbXBsZW1kZS1tYXJrZG93bi1lZGl0b3IKICogQGxpY2Vuc2UgTUlUCiAqLwouQ29kZU1pcnJvcntjb2xvcjojMDAwfS5Db2RlTWlycm9yLWxpbmVze3BhZGRpbmc6NHB4IDB9LkNvZGVNaXJyb3IgcHJle3BhZGRpbmc6MCA0cHh9LkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlciwuQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVye2JhY2tncm91bmQtY29sb3I6I2ZmZn0uQ29kZU1pcnJvci1ndXR0ZXJze2JvcmRlci1yaWdodDoxcHggc29saWQgI2RkZDtiYWNrZ3JvdW5kLWNvbG9yOiNmN2Y3Zjc7d2hpdGUtc3BhY2U6bm93cmFwfS5Db2RlTWlycm9yLWxpbmVudW1iZXJ7cGFkZGluZzowIDNweCAwIDVweDttaW4td2lkdGg6MjBweDt0ZXh0LWFsaWduOnJpZ2h0O2NvbG9yOiM5OTk7d2hpdGUtc3BhY2U6bm93cmFwfS5Db2RlTWlycm9yLWd1dHRlcm1hcmtlcntjb2xvcjojMDAwfS5Db2RlTWlycm9yLWd1dHRlcm1hcmtlci1zdWJ0bGV7Y29sb3I6Izk5OX0uQ29kZU1pcnJvci1jdXJzb3J7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICMwMDA7Ym9yZGVyLXJpZ2h0Om5vbmU7d2lkdGg6MH0uQ29kZU1pcnJvciBkaXYuQ29kZU1pcnJvci1zZWNvbmRhcnljdXJzb3J7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkIHNpbHZlcn0uY20tZmF0LWN1cnNvciAuQ29kZU1pcnJvci1jdXJzb3J7d2lkdGg6YXV0bztib3JkZXI6MCFpbXBvcnRhbnQ7YmFja2dyb3VuZDojN2U3fS5jbS1mYXQtY3Vyc29yIGRpdi5Db2RlTWlycm9yLWN1cnNvcnN7ei1pbmRleDoxfS5jbS1hbmltYXRlLWZhdC1jdXJzb3J7d2lkdGg6YXV0bztib3JkZXI6MDstd2Via2l0LWFuaW1hdGlvbjpibGluayAxLjA2cyBzdGVwcygxKSBpbmZpbml0ZTstbW96LWFuaW1hdGlvbjpibGluayAxLjA2cyBzdGVwcygxKSBpbmZpbml0ZTthbmltYXRpb246YmxpbmsgMS4wNnMgc3RlcHMoMSkgaW5maW5pdGU7YmFja2dyb3VuZC1jb2xvcjojN2U3fUAtbW96LWtleWZyYW1lcyBibGlua3s1MCV7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH19QC13ZWJraXQta2V5ZnJhbWVzIGJsaW5rezUwJXtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fX1Aa2V5ZnJhbWVzIGJsaW5rezUwJXtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fX0uY20tdGFie2Rpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtZGVjb3JhdGlvbjppbmhlcml0fS5Db2RlTWlycm9yLXJ1bGVye2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjY2NjO3Bvc2l0aW9uOmFic29sdXRlfS5jbS1zLWRlZmF1bHQgLmNtLWhlYWRlcntjb2xvcjojMDBmfS5jbS1zLWRlZmF1bHQgLmNtLXF1b3Rle2NvbG9yOiMwOTB9LmNtLW5lZ2F0aXZle2NvbG9yOiNkNDR9LmNtLXBvc2l0aXZle2NvbG9yOiMyOTJ9LmNtLWhlYWRlciwuY20tc3Ryb25ne2ZvbnQtd2VpZ2h0OjcwMH0uY20tZW17Zm9udC1zdHlsZTppdGFsaWN9LmNtLWxpbmt7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX0uY20tc3RyaWtldGhyb3VnaHt0ZXh0LWRlY29yYXRpb246bGluZS10aHJvdWdofS5jbS1zLWRlZmF1bHQgLmNtLWtleXdvcmR7Y29sb3I6IzcwOH0uY20tcy1kZWZhdWx0IC5jbS1hdG9te2NvbG9yOiMyMTl9LmNtLXMtZGVmYXVsdCAuY20tbnVtYmVye2NvbG9yOiMxNjR9LmNtLXMtZGVmYXVsdCAuY20tZGVme2NvbG9yOiMwMGZ9LmNtLXMtZGVmYXVsdCAuY20tdmFyaWFibGUtMntjb2xvcjojMDVhfS5jbS1zLWRlZmF1bHQgLmNtLXZhcmlhYmxlLTN7Y29sb3I6IzA4NX0uY20tcy1kZWZhdWx0IC5jbS1jb21tZW50e2NvbG9yOiNhNTB9LmNtLXMtZGVmYXVsdCAuY20tc3RyaW5ne2NvbG9yOiNhMTF9LmNtLXMtZGVmYXVsdCAuY20tc3RyaW5nLTJ7Y29sb3I6I2Y1MH0uY20tcy1kZWZhdWx0IC5jbS1tZXRhLC5jbS1zLWRlZmF1bHQgLmNtLXF1YWxpZmllcntjb2xvcjojNTU1fS5jbS1zLWRlZmF1bHQgLmNtLWJ1aWx0aW57Y29sb3I6IzMwYX0uY20tcy1kZWZhdWx0IC5jbS1icmFja2V0e2NvbG9yOiM5OTd9LmNtLXMtZGVmYXVsdCAuY20tdGFne2NvbG9yOiMxNzB9LmNtLXMtZGVmYXVsdCAuY20tYXR0cmlidXRle2NvbG9yOiMwMGN9LmNtLXMtZGVmYXVsdCAuY20taHJ7Y29sb3I6Izk5OX0uY20tcy1kZWZhdWx0IC5jbS1saW5re2NvbG9yOiMwMGN9LmNtLWludmFsaWRjaGFyLC5jbS1zLWRlZmF1bHQgLmNtLWVycm9ye2NvbG9yOnJlZH0uQ29kZU1pcnJvci1jb21wb3Npbmd7Ym9yZGVyLWJvdHRvbToycHggc29saWR9ZGl2LkNvZGVNaXJyb3Igc3Bhbi5Db2RlTWlycm9yLW1hdGNoaW5nYnJhY2tldHtjb2xvcjojMGYwfWRpdi5Db2RlTWlycm9yIHNwYW4uQ29kZU1pcnJvci1ub25tYXRjaGluZ2JyYWNrZXR7Y29sb3I6I2YyMn0uQ29kZU1pcnJvci1tYXRjaGluZ3RhZ3tiYWNrZ3JvdW5kOnJnYmEoMjU1LDE1MCwwLC4zKX0uQ29kZU1pcnJvci1hY3RpdmVsaW5lLWJhY2tncm91bmR7YmFja2dyb3VuZDojZThmMmZmfS5Db2RlTWlycm9ye3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kOiNmZmZ9LkNvZGVNaXJyb3Itc2Nyb2xse292ZXJmbG93OnNjcm9sbCFpbXBvcnRhbnQ7bWFyZ2luLWJvdHRvbTotMzBweDttYXJnaW4tcmlnaHQ6LTMwcHg7cGFkZGluZy1ib3R0b206MzBweDtoZWlnaHQ6MTAwJTtvdXRsaW5lOjA7cG9zaXRpb246cmVsYXRpdmV9LkNvZGVNaXJyb3Itc2l6ZXJ7cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXJpZ2h0OjMwcHggc29saWQgdHJhbnNwYXJlbnR9LkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlciwuQ29kZU1pcnJvci1oc2Nyb2xsYmFyLC5Db2RlTWlycm9yLXNjcm9sbGJhci1maWxsZXIsLkNvZGVNaXJyb3ItdnNjcm9sbGJhcntwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjY7ZGlzcGxheTpub25lfS5Db2RlTWlycm9yLXZzY3JvbGxiYXJ7cmlnaHQ6MDt0b3A6MDtvdmVyZmxvdy14OmhpZGRlbjtvdmVyZmxvdy15OnNjcm9sbH0uQ29kZU1pcnJvci1oc2Nyb2xsYmFye2JvdHRvbTowO2xlZnQ6MDtvdmVyZmxvdy15OmhpZGRlbjtvdmVyZmxvdy14OnNjcm9sbH0uQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVye3JpZ2h0OjA7Ym90dG9tOjB9LkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlcntsZWZ0OjA7Ym90dG9tOjB9LkNvZGVNaXJyb3ItZ3V0dGVyc3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7bWluLWhlaWdodDoxMDAlO3otaW5kZXg6M30uQ29kZU1pcnJvci1ndXR0ZXJ7d2hpdGUtc3BhY2U6bm9ybWFsO2hlaWdodDoxMDAlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOnRvcDttYXJnaW4tYm90dG9tOi0zMHB4fS5Db2RlTWlycm9yLWd1dHRlci13cmFwcGVye3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6NDtiYWNrZ3JvdW5kOjAgMCFpbXBvcnRhbnQ7Ym9yZGVyOm5vbmUhaW1wb3J0YW50Oy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uQ29kZU1pcnJvci1ndXR0ZXItYmFja2dyb3VuZHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDt6LWluZGV4OjR9LkNvZGVNaXJyb3ItZ3V0dGVyLWVsdHtwb3NpdGlvbjphYnNvbHV0ZTtjdXJzb3I6ZGVmYXVsdDt6LWluZGV4OjR9LkNvZGVNaXJyb3ItbGluZXN7Y3Vyc29yOnRleHQ7bWluLWhlaWdodDoxcHh9LkNvZGVNaXJyb3IgcHJley1tb3otYm9yZGVyLXJhZGl1czowOy13ZWJraXQtYm9yZGVyLXJhZGl1czowO2JvcmRlci1yYWRpdXM6MDtib3JkZXItd2lkdGg6MDtiYWNrZ3JvdW5kOjAgMDtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZTppbmhlcml0O21hcmdpbjowO3doaXRlLXNwYWNlOnByZTt3b3JkLXdyYXA6bm9ybWFsO2xpbmUtaGVpZ2h0OmluaGVyaXQ7Y29sb3I6aW5oZXJpdDt6LWluZGV4OjI7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6dmlzaWJsZTstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6dHJhbnNwYXJlbnQ7LXdlYmtpdC1mb250LXZhcmlhbnQtbGlnYXR1cmVzOm5vbmU7Zm9udC12YXJpYW50LWxpZ2F0dXJlczpub25lfS5Db2RlTWlycm9yLXdyYXAgcHJle3dvcmQtd3JhcDpicmVhay13b3JkO3doaXRlLXNwYWNlOnByZS13cmFwO3dvcmQtYnJlYWs6bm9ybWFsfS5Db2RlTWlycm9yLWxpbmViYWNrZ3JvdW5ke3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO3otaW5kZXg6MH0uQ29kZU1pcnJvci1saW5ld2lkZ2V0e3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MjtvdmVyZmxvdzphdXRvfS5Db2RlTWlycm9yLWNvZGV7b3V0bGluZTowfS5Db2RlTWlycm9yLWd1dHRlciwuQ29kZU1pcnJvci1ndXR0ZXJzLC5Db2RlTWlycm9yLWxpbmVudW1iZXIsLkNvZGVNaXJyb3Itc2Nyb2xsLC5Db2RlTWlycm9yLXNpemVyey1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94fS5Db2RlTWlycm9yLW1lYXN1cmV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47dmlzaWJpbGl0eTpoaWRkZW59LkNvZGVNaXJyb3ItY3Vyc29ye3Bvc2l0aW9uOmFic29sdXRlfS5Db2RlTWlycm9yLW1lYXN1cmUgcHJle3Bvc2l0aW9uOnN0YXRpY31kaXYuQ29kZU1pcnJvci1jdXJzb3Jze3Zpc2liaWxpdHk6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6M30uQ29kZU1pcnJvci1mb2N1c2VkIGRpdi5Db2RlTWlycm9yLWN1cnNvcnMsZGl2LkNvZGVNaXJyb3ItZHJhZ2N1cnNvcnN7dmlzaWJpbGl0eTp2aXNpYmxlfS5Db2RlTWlycm9yLXNlbGVjdGVke2JhY2tncm91bmQ6I2Q5ZDlkOX0uQ29kZU1pcnJvci1mb2N1c2VkIC5Db2RlTWlycm9yLXNlbGVjdGVkLC5Db2RlTWlycm9yLWxpbmU6OnNlbGVjdGlvbiwuQ29kZU1pcnJvci1saW5lPnNwYW46OnNlbGVjdGlvbiwuQ29kZU1pcnJvci1saW5lPnNwYW4+c3Bhbjo6c2VsZWN0aW9ue2JhY2tncm91bmQ6I2Q3ZDRmMH0uQ29kZU1pcnJvci1jcm9zc2hhaXJ7Y3Vyc29yOmNyb3NzaGFpcn0uQ29kZU1pcnJvci1saW5lOjotbW96LXNlbGVjdGlvbiwuQ29kZU1pcnJvci1saW5lPnNwYW46Oi1tb3otc2VsZWN0aW9uLC5Db2RlTWlycm9yLWxpbmU+c3Bhbj5zcGFuOjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kOiNkN2Q0ZjB9LmNtLXNlYXJjaGluZ3tiYWNrZ3JvdW5kOiNmZmE7YmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMCwuNCl9LmNtLWZvcmNlLWJvcmRlcntwYWRkaW5nLXJpZ2h0Oi4xcHh9QG1lZGlhIHByaW50ey5Db2RlTWlycm9yIGRpdi5Db2RlTWlycm9yLWN1cnNvcnN7dmlzaWJpbGl0eTpoaWRkZW59fS5jbS10YWItd3JhcC1oYWNrOmFmdGVye2NvbnRlbnQ6Jyd9c3Bhbi5Db2RlTWlycm9yLXNlbGVjdGVkdGV4dHtiYWNrZ3JvdW5kOjAgMH0uQ29kZU1pcnJvcntoZWlnaHQ6YXV0bzttaW4taGVpZ2h0OjMwMHB4O2JvcmRlcjoxcHggc29saWQgI2RkZDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjRweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czo0cHg7cGFkZGluZzoxMHB4O2ZvbnQ6aW5oZXJpdDt6LWluZGV4OjF9LkNvZGVNaXJyb3Itc2Nyb2xse21pbi1oZWlnaHQ6MzAwcHh9LkNvZGVNaXJyb3ItZnVsbHNjcmVlbntiYWNrZ3JvdW5kOiNmZmY7cG9zaXRpb246Zml4ZWQhaW1wb3J0YW50O3RvcDo1MHB4O2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO2hlaWdodDphdXRvO3otaW5kZXg6OX0uQ29kZU1pcnJvci1zaWRlZHt3aWR0aDo1MCUhaW1wb3J0YW50fS5lZGl0b3ItdG9vbGJhcntwb3NpdGlvbjpyZWxhdGl2ZTtvcGFjaXR5Oi42Oy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW8tdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3BhZGRpbmc6MCAxMHB4O2JvcmRlci10b3A6MXB4IHNvbGlkICNiYmI7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICNiYmI7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjYmJiO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6NHB4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjRweH0uZWRpdG9yLXRvb2xiYXI6YWZ0ZXIsLmVkaXRvci10b29sYmFyOmJlZm9yZXtkaXNwbGF5OmJsb2NrO2NvbnRlbnQ6JyAnO2hlaWdodDoxcHh9LmVkaXRvci10b29sYmFyOmJlZm9yZXttYXJnaW4tYm90dG9tOjhweH0uZWRpdG9yLXRvb2xiYXI6YWZ0ZXJ7bWFyZ2luLXRvcDo4cHh9LmVkaXRvci10b29sYmFyOmhvdmVyLC5lZGl0b3Itd3JhcHBlciBpbnB1dC50aXRsZTpmb2N1cywuZWRpdG9yLXdyYXBwZXIgaW5wdXQudGl0bGU6aG92ZXJ7b3BhY2l0eTouOH0uZWRpdG9yLXRvb2xiYXIuZnVsbHNjcmVlbnt3aWR0aDoxMDAlO2hlaWdodDo1MHB4O292ZXJmbG93LXg6YXV0bztvdmVyZmxvdy15OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXA7cGFkZGluZy10b3A6MTBweDtwYWRkaW5nLWJvdHRvbToxMHB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOjA7cG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO29wYWNpdHk6MTt6LWluZGV4Ojl9LmVkaXRvci10b29sYmFyLmZ1bGxzY3JlZW46OmJlZm9yZXt3aWR0aDoyMHB4O2hlaWdodDo1MHB4O2JhY2tncm91bmQ6LW1vei1saW5lYXItZ3JhZGllbnQobGVmdCxyZ2JhKDI1NSwyNTUsMjU1LDEpIDAscmdiYSgyNTUsMjU1LDI1NSwwKSAxMDAlKTtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLHJpZ2h0IHRvcCxjb2xvci1zdG9wKDAscmdiYSgyNTUsMjU1LDI1NSwxKSksY29sb3Itc3RvcCgxMDAlLHJnYmEoMjU1LDI1NSwyNTUsMCkpKTtiYWNrZ3JvdW5kOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQscmdiYSgyNTUsMjU1LDI1NSwxKSAwLHJnYmEoMjU1LDI1NSwyNTUsMCkgMTAwJSk7YmFja2dyb3VuZDotby1saW5lYXItZ3JhZGllbnQobGVmdCxyZ2JhKDI1NSwyNTUsMjU1LDEpIDAscmdiYSgyNTUsMjU1LDI1NSwwKSAxMDAlKTtiYWNrZ3JvdW5kOi1tcy1saW5lYXItZ3JhZGllbnQobGVmdCxyZ2JhKDI1NSwyNTUsMjU1LDEpIDAscmdiYSgyNTUsMjU1LDI1NSwwKSAxMDAlKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byByaWdodCxyZ2JhKDI1NSwyNTUsMjU1LDEpIDAscmdiYSgyNTUsMjU1LDI1NSwwKSAxMDAlKTtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7bWFyZ2luOjA7cGFkZGluZzowfS5lZGl0b3ItdG9vbGJhci5mdWxsc2NyZWVuOjphZnRlcnt3aWR0aDoyMHB4O2hlaWdodDo1MHB4O2JhY2tncm91bmQ6LW1vei1saW5lYXItZ3JhZGllbnQobGVmdCxyZ2JhKDI1NSwyNTUsMjU1LDApIDAscmdiYSgyNTUsMjU1LDI1NSwxKSAxMDAlKTtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLHJpZ2h0IHRvcCxjb2xvci1zdG9wKDAscmdiYSgyNTUsMjU1LDI1NSwwKSksY29sb3Itc3RvcCgxMDAlLHJnYmEoMjU1LDI1NSwyNTUsMSkpKTtiYWNrZ3JvdW5kOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQscmdiYSgyNTUsMjU1LDI1NSwwKSAwLHJnYmEoMjU1LDI1NSwyNTUsMSkgMTAwJSk7YmFja2dyb3VuZDotby1saW5lYXItZ3JhZGllbnQobGVmdCxyZ2JhKDI1NSwyNTUsMjU1LDApIDAscmdiYSgyNTUsMjU1LDI1NSwxKSAxMDAlKTtiYWNrZ3JvdW5kOi1tcy1saW5lYXItZ3JhZGllbnQobGVmdCxyZ2JhKDI1NSwyNTUsMjU1LDApIDAscmdiYSgyNTUsMjU1LDI1NSwxKSAxMDAlKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byByaWdodCxyZ2JhKDI1NSwyNTUsMjU1LDApIDAscmdiYSgyNTUsMjU1LDI1NSwxKSAxMDAlKTtwb3NpdGlvbjpmaXhlZDt0b3A6MDtyaWdodDowO21hcmdpbjowO3BhZGRpbmc6MH0uZWRpdG9yLXRvb2xiYXIgYXtkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnQ7Y29sb3I6IzJjM2U1MCFpbXBvcnRhbnQ7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDttYXJnaW46MDtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yYWRpdXM6M3B4O2N1cnNvcjpwb2ludGVyfS5lZGl0b3ItdG9vbGJhciBhLmFjdGl2ZSwuZWRpdG9yLXRvb2xiYXIgYTpob3ZlcntiYWNrZ3JvdW5kOiNmY2ZjZmM7Ym9yZGVyLWNvbG9yOiM5NWE1YTZ9LmVkaXRvci10b29sYmFyIGE6YmVmb3Jle2xpbmUtaGVpZ2h0OjMwcHh9LmVkaXRvci10b29sYmFyIGkuc2VwYXJhdG9ye2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjA7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICNkOWQ5ZDk7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjZmZmO2NvbG9yOnRyYW5zcGFyZW50O3RleHQtaW5kZW50Oi0xMHB4O21hcmdpbjowIDZweH0uZWRpdG9yLXRvb2xiYXIgYS5mYS1oZWFkZXIteDphZnRlcntmb250LWZhbWlseTpBcmlhbCwiSGVsdmV0aWNhIE5ldWUiLEhlbHZldGljYSxzYW5zLXNlcmlmO2ZvbnQtc2l6ZTo2NSU7dmVydGljYWwtYWxpZ246dGV4dC1ib3R0b207cG9zaXRpb246cmVsYXRpdmU7dG9wOjJweH0uZWRpdG9yLXRvb2xiYXIgYS5mYS1oZWFkZXItMTphZnRlcntjb250ZW50OiIxIn0uZWRpdG9yLXRvb2xiYXIgYS5mYS1oZWFkZXItMjphZnRlcntjb250ZW50OiIyIn0uZWRpdG9yLXRvb2xiYXIgYS5mYS1oZWFkZXItMzphZnRlcntjb250ZW50OiIzIn0uZWRpdG9yLXRvb2xiYXIgYS5mYS1oZWFkZXItYmlnZ2VyOmFmdGVye2NvbnRlbnQ6IuKWsiJ9LmVkaXRvci10b29sYmFyIGEuZmEtaGVhZGVyLXNtYWxsZXI6YWZ0ZXJ7Y29udGVudDoi4pa8In0uZWRpdG9yLXRvb2xiYXIuZGlzYWJsZWQtZm9yLXByZXZpZXcgYTpub3QoLm5vLWRpc2FibGUpe3BvaW50ZXItZXZlbnRzOm5vbmU7YmFja2dyb3VuZDojZmZmO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudDt0ZXh0LXNoYWRvdzppbmhlcml0fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDo3MDBweCl7LmVkaXRvci10b29sYmFyIGEubm8tbW9iaWxle2Rpc3BsYXk6bm9uZX19LmVkaXRvci1zdGF0dXNiYXJ7cGFkZGluZzo4cHggMTBweDtmb250LXNpemU6MTJweDtjb2xvcjojOTU5Njk0O3RleHQtYWxpZ246cmlnaHR9LmVkaXRvci1zdGF0dXNiYXIgc3BhbntkaXNwbGF5OmlubGluZS1ibG9jazttaW4td2lkdGg6NGVtO21hcmdpbi1sZWZ0OjFlbX0uZWRpdG9yLXByZXZpZXcsLmVkaXRvci1wcmV2aWV3LXNpZGV7cGFkZGluZzoxMHB4O2JhY2tncm91bmQ6I2ZhZmFmYTtvdmVyZmxvdzphdXRvO2Rpc3BsYXk6bm9uZTtib3gtc2l6aW5nOmJvcmRlci1ib3h9LmVkaXRvci1zdGF0dXNiYXIgLmxpbmVzOmJlZm9yZXtjb250ZW50OidsaW5lczogJ30uZWRpdG9yLXN0YXR1c2JhciAud29yZHM6YmVmb3Jle2NvbnRlbnQ6J3dvcmRzOiAnfS5lZGl0b3Itc3RhdHVzYmFyIC5jaGFyYWN0ZXJzOmJlZm9yZXtjb250ZW50OidjaGFyYWN0ZXJzOiAnfS5lZGl0b3ItcHJldmlld3twb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3RvcDowO2xlZnQ6MDt6LWluZGV4Ojd9LmVkaXRvci1wcmV2aWV3LXNpZGV7cG9zaXRpb246Zml4ZWQ7Ym90dG9tOjA7d2lkdGg6NTAlO3RvcDo1MHB4O3JpZ2h0OjA7ei1pbmRleDo5O2JvcmRlcjoxcHggc29saWQgI2RkZH0uZWRpdG9yLXByZXZpZXctYWN0aXZlLC5lZGl0b3ItcHJldmlldy1hY3RpdmUtc2lkZXtkaXNwbGF5OmJsb2NrfS5lZGl0b3ItcHJldmlldy1zaWRlPnAsLmVkaXRvci1wcmV2aWV3PnB7bWFyZ2luLXRvcDowfS5lZGl0b3ItcHJldmlldyBwcmUsLmVkaXRvci1wcmV2aWV3LXNpZGUgcHJle2JhY2tncm91bmQ6I2VlZTttYXJnaW4tYm90dG9tOjEwcHh9LmVkaXRvci1wcmV2aWV3IHRhYmxlIHRkLC5lZGl0b3ItcHJldmlldyB0YWJsZSB0aCwuZWRpdG9yLXByZXZpZXctc2lkZSB0YWJsZSB0ZCwuZWRpdG9yLXByZXZpZXctc2lkZSB0YWJsZSB0aHtib3JkZXI6MXB4IHNvbGlkICNkZGQ7cGFkZGluZzo1cHh9LkNvZGVNaXJyb3IgLkNvZGVNaXJyb3ItY29kZSAuY20tdGFne2NvbG9yOiM2M2EzNWN9LkNvZGVNaXJyb3IgLkNvZGVNaXJyb3ItY29kZSAuY20tYXR0cmlidXRle2NvbG9yOiM3OTVkYTN9LkNvZGVNaXJyb3IgLkNvZGVNaXJyb3ItY29kZSAuY20tc3RyaW5ne2NvbG9yOiMxODM2OTF9LkNvZGVNaXJyb3IgLkNvZGVNaXJyb3Itc2VsZWN0ZWR7YmFja2dyb3VuZDojZDlkOWQ5fS5Db2RlTWlycm9yIC5Db2RlTWlycm9yLWNvZGUgLmNtLWhlYWRlci0xe2ZvbnQtc2l6ZToyMDAlO2xpbmUtaGVpZ2h0OjIwMCV9LkNvZGVNaXJyb3IgLkNvZGVNaXJyb3ItY29kZSAuY20taGVhZGVyLTJ7Zm9udC1zaXplOjE2MCU7bGluZS1oZWlnaHQ6MTYwJX0uQ29kZU1pcnJvciAuQ29kZU1pcnJvci1jb2RlIC5jbS1oZWFkZXItM3tmb250LXNpemU6MTI1JTtsaW5lLWhlaWdodDoxMjUlfS5Db2RlTWlycm9yIC5Db2RlTWlycm9yLWNvZGUgLmNtLWhlYWRlci00e2ZvbnQtc2l6ZToxMTAlO2xpbmUtaGVpZ2h0OjExMCV9LkNvZGVNaXJyb3IgLkNvZGVNaXJyb3ItY29kZSAuY20tY29tbWVudHtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjA1KTtib3JkZXItcmFkaXVzOjJweH0uQ29kZU1pcnJvciAuQ29kZU1pcnJvci1jb2RlIC5jbS1saW5re2NvbG9yOiM3ZjhjOGR9LkNvZGVNaXJyb3IgLkNvZGVNaXJyb3ItY29kZSAuY20tdXJse2NvbG9yOiNhYWIyYjN9LkNvZGVNaXJyb3IgLkNvZGVNaXJyb3ItY29kZSAuY20tc3RyaWtldGhyb3VnaHt0ZXh0LWRlY29yYXRpb246bGluZS10aHJvdWdofS5Db2RlTWlycm9yIC5Db2RlTWlycm9yLXBsYWNlaG9sZGVye29wYWNpdHk6LjV9LkNvZGVNaXJyb3IgLmNtLXNwZWxsLWVycm9yOm5vdCguY20tdXJsKTpub3QoLmNtLWNvbW1lbnQpOm5vdCguY20tdGFnKTpub3QoLmNtLXdvcmQpe2JhY2tncm91bmQ6cmdiYSgyNTUsMCwwLC4xNSl9');
}


function resource_88b57a5c8ca3926b82c144324e9c01a2() {
    return base64_decode('Ly8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnMNCi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRQ0KDQooZnVuY3Rpb24obW9kKSB7DQogICAgaWYgKHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIpIC8vIENvbW1vbkpTDQogICAgICAgIG1vZChyZXF1aXJlKCIuLi8uLi9saWIvY29kZW1pcnJvciIpLCByZXF1aXJlKCIuLi94bWwveG1sIiksIHJlcXVpcmUoIi4uL21ldGEiKSk7DQogICAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQpIC8vIEFNRA0KICAgICAgICBkZWZpbmUoWyIuLi8uLi9saWIvY29kZW1pcnJvciIsICIuLi94bWwveG1sIiwgIi4uL21ldGEiXSwgbW9kKTsNCiAgICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52DQogICAgICAgIG1vZChDb2RlTWlycm9yKTsNCn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHsNCiAgICAidXNlIHN0cmljdCI7DQoNCiAgICBDb2RlTWlycm9yLmRlZmluZU1vZGUoIm1hcmtkb3duIiwgZnVuY3Rpb24oY21DZmcsIG1vZGVDZmcpIHsNCg0KICAgICAgICB2YXIgaHRtbE1vZGUgPSBDb2RlTWlycm9yLmdldE1vZGUoY21DZmcsICJ0ZXh0L2h0bWwiKTsNCiAgICAgICAgdmFyIGh0bWxNb2RlTWlzc2luZyA9IGh0bWxNb2RlLm5hbWUgPT0gIm51bGwiDQoNCiAgICAgICAgZnVuY3Rpb24gZ2V0TW9kZShuYW1lKSB7DQogICAgICAgICAgICBpZiAoQ29kZU1pcnJvci5maW5kTW9kZUJ5TmFtZSkgew0KICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IENvZGVNaXJyb3IuZmluZE1vZGVCeU5hbWUobmFtZSk7DQogICAgICAgICAgICAgICAgaWYgKGZvdW5kKSBuYW1lID0gZm91bmQubWltZSB8fCBmb3VuZC5taW1lc1swXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBtb2RlID0gQ29kZU1pcnJvci5nZXRNb2RlKGNtQ2ZnLCBuYW1lKTsNCiAgICAgICAgICAgIHJldHVybiBtb2RlLm5hbWUgPT0gIm51bGwiID8gbnVsbCA6IG1vZGU7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBTaG91bGQgY2hhcmFjdGVycyB0aGF0IGFmZmVjdCBoaWdobGlnaHRpbmcgYmUgaGlnaGxpZ2h0ZWQgc2VwYXJhdGU/DQogICAgICAgIC8vIERvZXMgbm90IGluY2x1ZGUgY2hhcmFjdGVycyB0aGF0IHdpbGwgYmUgb3V0cHV0IChzdWNoIGFzIGAxLmAgYW5kIGAtYCBmb3IgbGlzdHMpDQogICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcgPT09IHVuZGVmaW5lZCkNCiAgICAgICAgICAgIG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZyA9IGZhbHNlOw0KDQogICAgICAgIC8vIE1heGltdW0gbnVtYmVyIG9mIG5lc3RlZCBibG9ja3F1b3Rlcy4gU2V0IHRvIDAgZm9yIGluZmluaXRlIG5lc3RpbmcuDQogICAgICAgIC8vIEV4Y2VzcyBgPmAgd2lsbCBlbWl0IGBlcnJvcmAgdG9rZW4uDQogICAgICAgIGlmIChtb2RlQ2ZnLm1heEJsb2NrcXVvdGVEZXB0aCA9PT0gdW5kZWZpbmVkKQ0KICAgICAgICAgICAgbW9kZUNmZy5tYXhCbG9ja3F1b3RlRGVwdGggPSAwOw0KDQogICAgICAgIC8vIFNob3VsZCB1bmRlcnNjb3JlcyBpbiB3b3JkcyBvcGVuL2Nsb3NlIGVtL3N0cm9uZz8NCiAgICAgICAgaWYgKG1vZGVDZmcudW5kZXJzY29yZXNCcmVha1dvcmRzID09PSB1bmRlZmluZWQpDQogICAgICAgICAgICBtb2RlQ2ZnLnVuZGVyc2NvcmVzQnJlYWtXb3JkcyA9IHRydWU7DQoNCiAgICAgICAgLy8gVXNlIGBmZW5jZWRDb2RlQmxvY2tzYCB0byBjb25maWd1cmUgZmVuY2VkIGNvZGUgYmxvY2tzLiBmYWxzZSB0bw0KICAgICAgICAvLyBkaXNhYmxlLCBzdHJpbmcgdG8gc3BlY2lmeSBhIHByZWNpc2UgcmVnZXhwIHRoYXQgdGhlIGZlbmNlIHNob3VsZA0KICAgICAgICAvLyBtYXRjaCwgYW5kIHRydWUgdG8gYWxsb3cgdGhyZWUgb3IgbW9yZSBiYWNrdGlja3Mgb3IgdGlsZGVzIChhcw0KICAgICAgICAvLyBwZXIgQ29tbW9uTWFyaykuDQoNCiAgICAgICAgLy8gVHVybiBvbiB0YXNrIGxpc3RzPyAoIi0gWyBdICIgYW5kICItIFt4XSAiKQ0KICAgICAgICBpZiAobW9kZUNmZy50YXNrTGlzdHMgPT09IHVuZGVmaW5lZCkgbW9kZUNmZy50YXNrTGlzdHMgPSBmYWxzZTsNCg0KICAgICAgICAvLyBUdXJuIG9uIHN0cmlrZXRocm91Z2ggc3ludGF4DQogICAgICAgIGlmIChtb2RlQ2ZnLnN0cmlrZXRocm91Z2ggPT09IHVuZGVmaW5lZCkNCiAgICAgICAgICAgIG1vZGVDZmcuc3RyaWtldGhyb3VnaCA9IGZhbHNlOw0KDQogICAgICAgIC8vIEFsbG93IHRva2VuIHR5cGVzIHRvIGJlIG92ZXJyaWRkZW4gYnkgdXNlci1wcm92aWRlZCB0b2tlbiB0eXBlcy4NCiAgICAgICAgaWYgKG1vZGVDZmcudG9rZW5UeXBlT3ZlcnJpZGVzID09PSB1bmRlZmluZWQpDQogICAgICAgICAgICBtb2RlQ2ZnLnRva2VuVHlwZU92ZXJyaWRlcyA9IHt9Ow0KDQogICAgICAgIHZhciB0b2tlblR5cGVzID0gew0KICAgICAgICAgICAgaGVhZGVyOiAiaGVhZGVyIiwNCiAgICAgICAgICAgIGNvZGU6ICJjb21tZW50IiwNCiAgICAgICAgICAgIHF1b3RlOiAicXVvdGUiLA0KICAgICAgICAgICAgbGlzdDE6ICJ2YXJpYWJsZS0yIiwNCiAgICAgICAgICAgIGxpc3QyOiAidmFyaWFibGUtMyIsDQogICAgICAgICAgICBsaXN0MzogImtleXdvcmQiLA0KICAgICAgICAgICAgaHI6ICJociIsDQogICAgICAgICAgICBpbWFnZTogImltYWdlIiwNCiAgICAgICAgICAgIGltYWdlQWx0VGV4dDogImltYWdlLWFsdC10ZXh0IiwNCiAgICAgICAgICAgIGltYWdlTWFya2VyOiAiaW1hZ2UtbWFya2VyIiwNCiAgICAgICAgICAgIGZvcm1hdHRpbmc6ICJmb3JtYXR0aW5nIiwNCiAgICAgICAgICAgIGxpbmtJbmxpbmU6ICJsaW5rIiwNCiAgICAgICAgICAgIGxpbmtFbWFpbDogImxpbmsiLA0KICAgICAgICAgICAgbGlua1RleHQ6ICJsaW5rIiwNCiAgICAgICAgICAgIGxpbmtIcmVmOiAic3RyaW5nIiwNCiAgICAgICAgICAgIGVtOiAiZW0iLA0KICAgICAgICAgICAgc3Ryb25nOiAic3Ryb25nIiwNCiAgICAgICAgICAgIHN0cmlrZXRocm91Z2g6ICJzdHJpa2V0aHJvdWdoIg0KICAgICAgICB9Ow0KDQogICAgICAgIGZvciAodmFyIHRva2VuVHlwZSBpbiB0b2tlblR5cGVzKSB7DQogICAgICAgICAgICBpZiAodG9rZW5UeXBlcy5oYXNPd25Qcm9wZXJ0eSh0b2tlblR5cGUpICYmIG1vZGVDZmcudG9rZW5UeXBlT3ZlcnJpZGVzW3Rva2VuVHlwZV0pIHsNCiAgICAgICAgICAgICAgICB0b2tlblR5cGVzW3Rva2VuVHlwZV0gPSBtb2RlQ2ZnLnRva2VuVHlwZU92ZXJyaWRlc1t0b2tlblR5cGVdOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGhyUkUgPSAvXihbKlwtX10pKD86XHMqXDEpezIsfVxzKiQvDQogICAgICAgICAgICAsICAgdWxSRSA9IC9eWypcLStdXHMrLw0KICAgICAgICAgICAgLCAgIG9sUkUgPSAvXlswLTldKyhbLildKVxzKy8NCiAgICAgICAgICAgICwgICB0YXNrTGlzdFJFID0gL15cWyh4fCApXF0oPz1ccykvIC8vIE11c3QgZm9sbG93IHVsUkUgb3Igb2xSRQ0KICAgICAgICAgICAgLCAgIGF0eEhlYWRlclJFID0gbW9kZUNmZy5hbGxvd0F0eEhlYWRlcldpdGhvdXRTcGFjZSA/IC9eKCMrKS8gOiAvXigjKykoPzogfCQpLw0KICAgICAgICAgICAgLCAgIHNldGV4dEhlYWRlclJFID0gL14gKig/Olw9ezEsfXwtezEsfSlccyokLw0KICAgICAgICAgICAgLCAgIHRleHRSRSA9IC9eW14jIVxbXF0qX1xcPD5gICInKH5dKy8NCiAgICAgICAgICAgICwgICBmZW5jZWRDb2RlUkUgPSBuZXcgUmVnRXhwKCJeKCIgKyAobW9kZUNmZy5mZW5jZWRDb2RlQmxvY2tzID09PSB0cnVlID8gIn5+fit8YGBgKyIgOiBtb2RlQ2ZnLmZlbmNlZENvZGVCbG9ja3MpICsNCiAgICAgICAgICAgICIpWyBcXHRdKihbXFx3KyNcLV0qKSIpOw0KDQogICAgICAgIGZ1bmN0aW9uIHN3aXRjaElubGluZShzdHJlYW0sIHN0YXRlLCBmKSB7DQogICAgICAgICAgICBzdGF0ZS5mID0gc3RhdGUuaW5saW5lID0gZjsNCiAgICAgICAgICAgIHJldHVybiBmKHN0cmVhbSwgc3RhdGUpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gc3dpdGNoQmxvY2soc3RyZWFtLCBzdGF0ZSwgZikgew0KICAgICAgICAgICAgc3RhdGUuZiA9IHN0YXRlLmJsb2NrID0gZjsNCiAgICAgICAgICAgIHJldHVybiBmKHN0cmVhbSwgc3RhdGUpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gbGluZUlzRW1wdHkobGluZSkgew0KICAgICAgICAgICAgcmV0dXJuICFsaW5lIHx8ICEvXFMvLnRlc3QobGluZS5zdHJpbmcpDQogICAgICAgIH0NCg0KICAgICAgICAvLyBCbG9ja3MNCg0KICAgICAgICBmdW5jdGlvbiBibGFua0xpbmUoc3RhdGUpIHsNCiAgICAgICAgICAgIC8vIFJlc2V0IGxpbmtUaXRsZSBzdGF0ZQ0KICAgICAgICAgICAgc3RhdGUubGlua1RpdGxlID0gZmFsc2U7DQogICAgICAgICAgICAvLyBSZXNldCBFTSBzdGF0ZQ0KICAgICAgICAgICAgc3RhdGUuZW0gPSBmYWxzZTsNCiAgICAgICAgICAgIC8vIFJlc2V0IFNUUk9ORyBzdGF0ZQ0KICAgICAgICAgICAgc3RhdGUuc3Ryb25nID0gZmFsc2U7DQogICAgICAgICAgICAvLyBSZXNldCBzdHJpa2V0aHJvdWdoIHN0YXRlDQogICAgICAgICAgICBzdGF0ZS5zdHJpa2V0aHJvdWdoID0gZmFsc2U7DQogICAgICAgICAgICAvLyBSZXNldCBzdGF0ZS5xdW90ZQ0KICAgICAgICAgICAgc3RhdGUucXVvdGUgPSAwOw0KICAgICAgICAgICAgLy8gUmVzZXQgc3RhdGUuaW5kZW50ZWRDb2RlDQogICAgICAgICAgICBzdGF0ZS5pbmRlbnRlZENvZGUgPSBmYWxzZTsNCiAgICAgICAgICAgIGlmIChodG1sTW9kZU1pc3NpbmcgJiYgc3RhdGUuZiA9PSBodG1sQmxvY2spIHsNCiAgICAgICAgICAgICAgICBzdGF0ZS5mID0gaW5saW5lTm9ybWFsOw0KICAgICAgICAgICAgICAgIHN0YXRlLmJsb2NrID0gYmxvY2tOb3JtYWw7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBSZXNldCBzdGF0ZS50cmFpbGluZ1NwYWNlDQogICAgICAgICAgICBzdGF0ZS50cmFpbGluZ1NwYWNlID0gMDsNCiAgICAgICAgICAgIHN0YXRlLnRyYWlsaW5nU3BhY2VOZXdMaW5lID0gZmFsc2U7DQogICAgICAgICAgICAvLyBNYXJrIHRoaXMgbGluZSBhcyBibGFuaw0KICAgICAgICAgICAgc3RhdGUucHJldkxpbmUgPSBzdGF0ZS50aGlzTGluZQ0KICAgICAgICAgICAgc3RhdGUudGhpc0xpbmUgPSBudWxsDQogICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGJsb2NrTm9ybWFsKHN0cmVhbSwgc3RhdGUpIHsNCg0KICAgICAgICAgICAgdmFyIHNvbCA9IHN0cmVhbS5zb2woKTsNCg0KICAgICAgICAgICAgdmFyIHByZXZMaW5lSXNMaXN0ID0gc3RhdGUubGlzdCAhPT0gZmFsc2UsDQogICAgICAgICAgICAgICAgcHJldkxpbmVJc0luZGVudGVkQ29kZSA9IHN0YXRlLmluZGVudGVkQ29kZTsNCg0KICAgICAgICAgICAgc3RhdGUuaW5kZW50ZWRDb2RlID0gZmFsc2U7DQoNCiAgICAgICAgICAgIGlmIChwcmV2TGluZUlzTGlzdCkgew0KICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pbmRlbnRhdGlvbkRpZmYgPj0gMCkgeyAvLyBDb250aW51ZWQgbGlzdA0KICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaW5kZW50YXRpb25EaWZmIDwgNCkgeyAvLyBPbmx5IGFkanVzdCBpbmRlbnRhdGlvbiBpZiAqbm90KiBhIGNvZGUgYmxvY2sNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmluZGVudGF0aW9uIC09IHN0YXRlLmluZGVudGF0aW9uRGlmZjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBzdGF0ZS5saXN0ID0gbnVsbDsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmluZGVudGF0aW9uID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBzdGF0ZS5saXN0ID0gbnVsbDsNCiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBObyBsb25nZXIgYSBsaXN0DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmxpc3QgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHZhciBtYXRjaCA9IG51bGw7DQogICAgICAgICAgICBpZiAoc3RhdGUuaW5kZW50YXRpb25EaWZmID49IDQpIHsNCiAgICAgICAgICAgICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7DQogICAgICAgICAgICAgICAgaWYgKHByZXZMaW5lSXNJbmRlbnRlZENvZGUgfHwgbGluZUlzRW1wdHkoc3RhdGUucHJldkxpbmUpKSB7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmluZGVudGF0aW9uIC09IDQ7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmluZGVudGVkQ29kZSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlblR5cGVzLmNvZGU7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW0uZWF0U3BhY2UoKSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgfSBlbHNlIGlmICgobWF0Y2ggPSBzdHJlYW0ubWF0Y2goYXR4SGVhZGVyUkUpKSAmJiBtYXRjaFsxXS5sZW5ndGggPD0gNikgew0KICAgICAgICAgICAgICAgIHN0YXRlLmhlYWRlciA9IG1hdGNoWzFdLmxlbmd0aDsNCiAgICAgICAgICAgICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gImhlYWRlciI7DQogICAgICAgICAgICAgICAgc3RhdGUuZiA9IHN0YXRlLmlubGluZTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKCFsaW5lSXNFbXB0eShzdGF0ZS5wcmV2TGluZSkgJiYgIXN0YXRlLnF1b3RlICYmICFwcmV2TGluZUlzTGlzdCAmJg0KICAgICAgICAgICAgICAgICFwcmV2TGluZUlzSW5kZW50ZWRDb2RlICYmIChtYXRjaCA9IHN0cmVhbS5tYXRjaChzZXRleHRIZWFkZXJSRSkpKSB7DQogICAgICAgICAgICAgICAgc3RhdGUuaGVhZGVyID0gbWF0Y2hbMF0uY2hhckF0KDApID09ICc9JyA/IDEgOiAyOw0KICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAiaGVhZGVyIjsNCiAgICAgICAgICAgICAgICBzdGF0ZS5mID0gc3RhdGUuaW5saW5lOw0KICAgICAgICAgICAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLmVhdCgnPicpKSB7DQogICAgICAgICAgICAgICAgc3RhdGUucXVvdGUgPSBzb2wgPyAxIDogc3RhdGUucXVvdGUgKyAxOw0KICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAicXVvdGUiOw0KICAgICAgICAgICAgICAgIHN0cmVhbS5lYXRTcGFjZSgpOw0KICAgICAgICAgICAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLnBlZWsoKSA9PT0gJ1snKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHN3aXRjaElubGluZShzdHJlYW0sIHN0YXRlLCBmb290bm90ZUxpbmspOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goaHJSRSwgdHJ1ZSkpIHsNCiAgICAgICAgICAgICAgICBzdGF0ZS5ociA9IHRydWU7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuVHlwZXMuaHI7DQogICAgICAgICAgICB9IGVsc2UgaWYgKChsaW5lSXNFbXB0eShzdGF0ZS5wcmV2TGluZSkgfHwgcHJldkxpbmVJc0xpc3QpICYmIChzdHJlYW0ubWF0Y2godWxSRSwgZmFsc2UpIHx8IHN0cmVhbS5tYXRjaChvbFJFLCBmYWxzZSkpKSB7DQogICAgICAgICAgICAgICAgdmFyIGxpc3RUeXBlID0gbnVsbDsNCiAgICAgICAgICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKHVsUkUsIHRydWUpKSB7DQogICAgICAgICAgICAgICAgICAgIGxpc3RUeXBlID0gJ3VsJzsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzdHJlYW0ubWF0Y2gob2xSRSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIGxpc3RUeXBlID0gJ29sJzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgc3RhdGUuaW5kZW50YXRpb24gPSBzdHJlYW0uY29sdW1uKCkgKyBzdHJlYW0uY3VycmVudCgpLmxlbmd0aDsNCiAgICAgICAgICAgICAgICBzdGF0ZS5saXN0ID0gdHJ1ZTsNCg0KICAgICAgICAgICAgICAgIC8vIFdoaWxlIHRoaXMgbGlzdCBpdGVtJ3MgbWFya2VyJ3MgaW5kZW50YXRpb24NCiAgICAgICAgICAgICAgICAvLyBpcyBsZXNzIHRoYW4gdGhlIGRlZXBlc3QgbGlzdCBpdGVtJ3MgY29udGVudCdzIGluZGVudGF0aW9uLA0KICAgICAgICAgICAgICAgIC8vIHBvcCB0aGUgZGVlcGVzdCBsaXN0IGl0ZW0gaW5kZW50YXRpb24gb2ZmIHRoZSBzdGFjay4NCiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhdGUubGlzdFN0YWNrICYmIHN0cmVhbS5jb2x1bW4oKSA8IHN0YXRlLmxpc3RTdGFja1tzdGF0ZS5saXN0U3RhY2subGVuZ3RoIC0gMV0pIHsNCiAgICAgICAgICAgICAgICAgICAgc3RhdGUubGlzdFN0YWNrLnBvcCgpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vIEFkZCB0aGlzIGxpc3QgaXRlbSdzIGNvbnRlbnQncyBpbmRlbnRhdGlvbiB0byB0aGUgc3RhY2sNCiAgICAgICAgICAgICAgICBzdGF0ZS5saXN0U3RhY2sucHVzaChzdGF0ZS5pbmRlbnRhdGlvbik7DQoNCiAgICAgICAgICAgICAgICBpZiAobW9kZUNmZy50YXNrTGlzdHMgJiYgc3RyZWFtLm1hdGNoKHRhc2tMaXN0UkUsIGZhbHNlKSkgew0KICAgICAgICAgICAgICAgICAgICBzdGF0ZS50YXNrTGlzdCA9IHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHN0YXRlLmYgPSBzdGF0ZS5pbmxpbmU7DQogICAgICAgICAgICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9IFsibGlzdCIsICJsaXN0LSIgKyBsaXN0VHlwZV07DQogICAgICAgICAgICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlQ2ZnLmZlbmNlZENvZGVCbG9ja3MgJiYgKG1hdGNoID0gc3RyZWFtLm1hdGNoKGZlbmNlZENvZGVSRSwgdHJ1ZSkpKSB7DQogICAgICAgICAgICAgICAgc3RhdGUuZmVuY2VkQ2hhcnMgPSBtYXRjaFsxXQ0KICAgICAgICAgICAgICAgIC8vIHRyeSBzd2l0Y2hpbmcgbW9kZQ0KICAgICAgICAgICAgICAgIHN0YXRlLmxvY2FsTW9kZSA9IGdldE1vZGUobWF0Y2hbMl0pOw0KICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5sb2NhbE1vZGUpIHN0YXRlLmxvY2FsU3RhdGUgPSBDb2RlTWlycm9yLnN0YXJ0U3RhdGUoc3RhdGUubG9jYWxNb2RlKTsNCiAgICAgICAgICAgICAgICBzdGF0ZS5mID0gc3RhdGUuYmxvY2sgPSBsb2NhbDsNCiAgICAgICAgICAgICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gImNvZGUtYmxvY2siOw0KICAgICAgICAgICAgICAgIHN0YXRlLmNvZGUgPSAtMQ0KICAgICAgICAgICAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuIHN3aXRjaElubGluZShzdHJlYW0sIHN0YXRlLCBzdGF0ZS5pbmxpbmUpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaHRtbEJsb2NrKHN0cmVhbSwgc3RhdGUpIHsNCiAgICAgICAgICAgIHZhciBzdHlsZSA9IGh0bWxNb2RlLnRva2VuKHN0cmVhbSwgc3RhdGUuaHRtbFN0YXRlKTsNCiAgICAgICAgICAgIGlmICghaHRtbE1vZGVNaXNzaW5nKSB7DQogICAgICAgICAgICAgICAgdmFyIGlubmVyID0gQ29kZU1pcnJvci5pbm5lck1vZGUoaHRtbE1vZGUsIHN0YXRlLmh0bWxTdGF0ZSkNCiAgICAgICAgICAgICAgICBpZiAoKGlubmVyLm1vZGUubmFtZSA9PSAieG1sIiAmJiBpbm5lci5zdGF0ZS50YWdTdGFydCA9PT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICAgICAoIWlubmVyLnN0YXRlLmNvbnRleHQgJiYgaW5uZXIuc3RhdGUudG9rZW5pemUuaXNJblRleHQpKSB8fA0KICAgICAgICAgICAgICAgICAgICAoc3RhdGUubWRfaW5zaWRlICYmIHN0cmVhbS5jdXJyZW50KCkuaW5kZXhPZigiPiIpID4gLTEpKSB7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmYgPSBpbmxpbmVOb3JtYWw7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmJsb2NrID0gYmxvY2tOb3JtYWw7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmh0bWxTdGF0ZSA9IG51bGw7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHN0eWxlOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gbG9jYWwoc3RyZWFtLCBzdGF0ZSkgew0KICAgICAgICAgICAgaWYgKHN0YXRlLmZlbmNlZENoYXJzICYmIHN0cmVhbS5tYXRjaChzdGF0ZS5mZW5jZWRDaGFycywgZmFsc2UpKSB7DQogICAgICAgICAgICAgICAgc3RhdGUubG9jYWxNb2RlID0gc3RhdGUubG9jYWxTdGF0ZSA9IG51bGw7DQogICAgICAgICAgICAgICAgc3RhdGUuZiA9IHN0YXRlLmJsb2NrID0gbGVhdmluZ0xvY2FsOw0KICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5sb2NhbE1vZGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUubG9jYWxNb2RlLnRva2VuKHN0cmVhbSwgc3RhdGUubG9jYWxTdGF0ZSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW5UeXBlcy5jb2RlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gbGVhdmluZ0xvY2FsKHN0cmVhbSwgc3RhdGUpIHsNCiAgICAgICAgICAgIHN0cmVhbS5tYXRjaChzdGF0ZS5mZW5jZWRDaGFycyk7DQogICAgICAgICAgICBzdGF0ZS5ibG9jayA9IGJsb2NrTm9ybWFsOw0KICAgICAgICAgICAgc3RhdGUuZiA9IGlubGluZU5vcm1hbDsNCiAgICAgICAgICAgIHN0YXRlLmZlbmNlZENoYXJzID0gbnVsbDsNCiAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAiY29kZS1ibG9jayI7DQogICAgICAgICAgICBzdGF0ZS5jb2RlID0gMQ0KICAgICAgICAgICAgdmFyIHJldHVyblR5cGUgPSBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgIHN0YXRlLmNvZGUgPSAwDQogICAgICAgICAgICByZXR1cm4gcmV0dXJuVHlwZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIElubGluZQ0KICAgICAgICBmdW5jdGlvbiBnZXRUeXBlKHN0YXRlKSB7DQogICAgICAgICAgICB2YXIgc3R5bGVzID0gW107DQoNCiAgICAgICAgICAgIGlmIChzdGF0ZS5mb3JtYXR0aW5nKSB7DQogICAgICAgICAgICAgICAgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5mb3JtYXR0aW5nKTsNCg0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGUuZm9ybWF0dGluZyA9PT0gInN0cmluZyIpIHN0YXRlLmZvcm1hdHRpbmcgPSBbc3RhdGUuZm9ybWF0dGluZ107DQoNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLmZvcm1hdHRpbmcubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5mb3JtYXR0aW5nICsgIi0iICsgc3RhdGUuZm9ybWF0dGluZ1tpXSk7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLmZvcm1hdHRpbmdbaV0gPT09ICJoZWFkZXIiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMucHVzaCh0b2tlblR5cGVzLmZvcm1hdHRpbmcgKyAiLSIgKyBzdGF0ZS5mb3JtYXR0aW5nW2ldICsgIi0iICsgc3RhdGUuaGVhZGVyKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIC8vIEFkZCBgZm9ybWF0dGluZy1xdW90ZWAgYW5kIGBmb3JtYXR0aW5nLXF1b3RlLSNgIGZvciBibG9ja3F1b3Rlcw0KICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYGVycm9yYCBpbnN0ZWFkIGlmIHRoZSBtYXhpbXVtIGJsb2NrcXVvdGUgbmVzdGluZyBkZXB0aCBpcyBwYXNzZWQNCiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLmZvcm1hdHRpbmdbaV0gPT09ICJxdW90ZSIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbW9kZUNmZy5tYXhCbG9ja3F1b3RlRGVwdGggfHwgbW9kZUNmZy5tYXhCbG9ja3F1b3RlRGVwdGggPj0gc3RhdGUucXVvdGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMucHVzaCh0b2tlblR5cGVzLmZvcm1hdHRpbmcgKyAiLSIgKyBzdGF0ZS5mb3JtYXR0aW5nW2ldICsgIi0iICsgc3RhdGUucXVvdGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMucHVzaCgiZXJyb3IiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHN0YXRlLnRhc2tPcGVuKSB7DQogICAgICAgICAgICAgICAgc3R5bGVzLnB1c2goIm1ldGEiKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGVzLmxlbmd0aCA/IHN0eWxlcy5qb2luKCcgJykgOiBudWxsOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHN0YXRlLnRhc2tDbG9zZWQpIHsNCiAgICAgICAgICAgICAgICBzdHlsZXMucHVzaCgicHJvcGVydHkiKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGVzLmxlbmd0aCA/IHN0eWxlcy5qb2luKCcgJykgOiBudWxsOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoc3RhdGUubGlua0hyZWYpIHsNCiAgICAgICAgICAgICAgICBzdHlsZXMucHVzaCh0b2tlblR5cGVzLmxpbmtIcmVmLCAidXJsIik7DQogICAgICAgICAgICB9IGVsc2UgeyAvLyBPbmx5IGFwcGx5IGlubGluZSBzdHlsZXMgdG8gbm9uLXVybCB0ZXh0DQogICAgICAgICAgICAgICAgaWYgKHN0YXRlLnN0cm9uZykgeyBzdHlsZXMucHVzaCh0b2tlblR5cGVzLnN0cm9uZyk7IH0NCiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuZW0pIHsgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5lbSk7IH0NCiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc3RyaWtldGhyb3VnaCkgeyBzdHlsZXMucHVzaCh0b2tlblR5cGVzLnN0cmlrZXRocm91Z2gpOyB9DQogICAgICAgICAgICAgICAgaWYgKHN0YXRlLmxpbmtUZXh0KSB7IHN0eWxlcy5wdXNoKHRva2VuVHlwZXMubGlua1RleHQpOyB9DQogICAgICAgICAgICAgICAgaWYgKHN0YXRlLmNvZGUpIHsgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5jb2RlKTsgfQ0KICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pbWFnZSkgeyBzdHlsZXMucHVzaCh0b2tlblR5cGVzLmltYWdlKTsgfQ0KICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pbWFnZUFsdFRleHQpIHsgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5pbWFnZUFsdFRleHQsICJsaW5rIik7IH0NCiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaW1hZ2VNYXJrZXIpIHsgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5pbWFnZU1hcmtlcik7IH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHN0YXRlLmhlYWRlcikgeyBzdHlsZXMucHVzaCh0b2tlblR5cGVzLmhlYWRlciwgdG9rZW5UeXBlcy5oZWFkZXIgKyAiLSIgKyBzdGF0ZS5oZWFkZXIpOyB9DQoNCiAgICAgICAgICAgIGlmIChzdGF0ZS5xdW90ZSkgew0KICAgICAgICAgICAgICAgIHN0eWxlcy5wdXNoKHRva2VuVHlwZXMucXVvdGUpOw0KDQogICAgICAgICAgICAgICAgLy8gQWRkIGBxdW90ZS0jYCB3aGVyZSB0aGUgbWF4aW11bSBmb3IgYCNgIGlzIG1vZGVDZmcubWF4QmxvY2txdW90ZURlcHRoDQogICAgICAgICAgICAgICAgaWYgKCFtb2RlQ2ZnLm1heEJsb2NrcXVvdGVEZXB0aCB8fCBtb2RlQ2ZnLm1heEJsb2NrcXVvdGVEZXB0aCA+PSBzdGF0ZS5xdW90ZSkgew0KICAgICAgICAgICAgICAgICAgICBzdHlsZXMucHVzaCh0b2tlblR5cGVzLnF1b3RlICsgIi0iICsgc3RhdGUucXVvdGUpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHN0eWxlcy5wdXNoKHRva2VuVHlwZXMucXVvdGUgKyAiLSIgKyBtb2RlQ2ZnLm1heEJsb2NrcXVvdGVEZXB0aCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoc3RhdGUubGlzdCAhPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICB2YXIgbGlzdE1vZCA9IChzdGF0ZS5saXN0U3RhY2subGVuZ3RoIC0gMSkgJSAzOw0KICAgICAgICAgICAgICAgIGlmICghbGlzdE1vZCkgew0KICAgICAgICAgICAgICAgICAgICBzdHlsZXMucHVzaCh0b2tlblR5cGVzLmxpc3QxKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RNb2QgPT09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5saXN0Mik7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5saXN0Myk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoc3RhdGUudHJhaWxpbmdTcGFjZU5ld0xpbmUpIHsNCiAgICAgICAgICAgICAgICBzdHlsZXMucHVzaCgidHJhaWxpbmctc3BhY2UtbmV3LWxpbmUiKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUudHJhaWxpbmdTcGFjZSkgew0KICAgICAgICAgICAgICAgIHN0eWxlcy5wdXNoKCJ0cmFpbGluZy1zcGFjZS0iICsgKHN0YXRlLnRyYWlsaW5nU3BhY2UgJSAyID8gImEiIDogImIiKSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiBzdHlsZXMubGVuZ3RoID8gc3R5bGVzLmpvaW4oJyAnKSA6IG51bGw7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBoYW5kbGVUZXh0KHN0cmVhbSwgc3RhdGUpIHsNCiAgICAgICAgICAgIGlmIChzdHJlYW0ubWF0Y2godGV4dFJFLCB0cnVlKSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBpbmxpbmVOb3JtYWwoc3RyZWFtLCBzdGF0ZSkgew0KICAgICAgICAgICAgdmFyIHN0eWxlID0gc3RhdGUudGV4dChzdHJlYW0sIHN0YXRlKTsNCiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3R5bGUgIT09ICd1bmRlZmluZWQnKQ0KICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZTsNCg0KICAgICAgICAgICAgaWYgKHN0YXRlLmxpc3QpIHsgLy8gTGlzdCBtYXJrZXIgKCosICssIC0sIDEuLCBldGMpDQogICAgICAgICAgICAgICAgc3RhdGUubGlzdCA9IG51bGw7DQogICAgICAgICAgICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoc3RhdGUudGFza0xpc3QpIHsNCiAgICAgICAgICAgICAgICB2YXIgdGFza09wZW4gPSBzdHJlYW0ubWF0Y2godGFza0xpc3RSRSwgdHJ1ZSlbMV0gIT09ICJ4IjsNCiAgICAgICAgICAgICAgICBpZiAodGFza09wZW4pIHN0YXRlLnRhc2tPcGVuID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBlbHNlIHN0YXRlLnRhc2tDbG9zZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAidGFzayI7DQogICAgICAgICAgICAgICAgc3RhdGUudGFza0xpc3QgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHN0YXRlLnRhc2tPcGVuID0gZmFsc2U7DQogICAgICAgICAgICBzdGF0ZS50YXNrQ2xvc2VkID0gZmFsc2U7DQoNCiAgICAgICAgICAgIGlmIChzdGF0ZS5oZWFkZXIgJiYgc3RyZWFtLm1hdGNoKC9eIyskLywgdHJ1ZSkpIHsNCiAgICAgICAgICAgICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gImhlYWRlciI7DQogICAgICAgICAgICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBHZXQgc29sKCkgdmFsdWUgbm93LCBiZWZvcmUgY2hhcmFjdGVyIGlzIGNvbnN1bWVkDQogICAgICAgICAgICB2YXIgc29sID0gc3RyZWFtLnNvbCgpOw0KDQogICAgICAgICAgICB2YXIgY2ggPSBzdHJlYW0ubmV4dCgpOw0KDQogICAgICAgICAgICAvLyBNYXRjaGVzIGxpbmsgdGl0bGVzIHByZXNlbnQgb24gbmV4dCBsaW5lDQogICAgICAgICAgICBpZiAoc3RhdGUubGlua1RpdGxlKSB7DQogICAgICAgICAgICAgICAgc3RhdGUubGlua1RpdGxlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdmFyIG1hdGNoQ2ggPSBjaDsNCiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICcoJykgew0KICAgICAgICAgICAgICAgICAgICBtYXRjaENoID0gJyknOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBtYXRjaENoID0gKG1hdGNoQ2grJycpLnJlcGxhY2UoLyhbLj8qK14kW1xdXFwoKXt9fC1dKS9nLCAiXFwkMSIpOw0KICAgICAgICAgICAgICAgIHZhciByZWdleCA9ICdeXFxzKig/OlteJyArIG1hdGNoQ2ggKyAnXFxcXF0rfFxcXFxcXFxcfFxcXFwuKScgKyBtYXRjaENoOw0KICAgICAgICAgICAgICAgIGlmIChzdHJlYW0ubWF0Y2gobmV3IFJlZ0V4cChyZWdleCksIHRydWUpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlblR5cGVzLmxpbmtIcmVmOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gSWYgdGhpcyBibG9jayBpcyBjaGFuZ2VkLCBpdCBtYXkgbmVlZCB0byBiZSB1cGRhdGVkIGluIEdGTSBtb2RlDQogICAgICAgICAgICBpZiAoY2ggPT09ICdgJykgew0KICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c0Zvcm1hdHRpbmcgPSBzdGF0ZS5mb3JtYXR0aW5nOw0KICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAiY29kZSI7DQogICAgICAgICAgICAgICAgc3RyZWFtLmVhdFdoaWxlKCdgJyk7DQogICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gc3RyZWFtLmN1cnJlbnQoKS5sZW5ndGgNCiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuY29kZSA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmNvZGUgPSBjb3VudA0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID09IHN0YXRlLmNvZGUpIHsgLy8gTXVzdCBiZSBleGFjdA0KICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGdldFR5cGUoc3RhdGUpDQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmNvZGUgPSAwDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZm9ybWF0dGluZyA9IHByZXZpb3VzRm9ybWF0dGluZw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmNvZGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChjaCA9PT0gJ1xcJykgew0KICAgICAgICAgICAgICAgIHN0cmVhbS5uZXh0KCk7DQogICAgICAgICAgICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGdldFR5cGUoc3RhdGUpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0dGluZ0VzY2FwZSA9IHRva2VuVHlwZXMuZm9ybWF0dGluZyArICItZXNjYXBlIjsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUgPyB0eXBlICsgIiAiICsgZm9ybWF0dGluZ0VzY2FwZSA6IGZvcm1hdHRpbmdFc2NhcGU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoY2ggPT09ICchJyAmJiBzdHJlYW0ubWF0Y2goL1xbW15cXV0qXF0gPyg/OlwofFxbKS8sIGZhbHNlKSkgew0KICAgICAgICAgICAgICAgIHN0YXRlLmltYWdlTWFya2VyID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBzdGF0ZS5pbWFnZSA9IHRydWU7DQogICAgICAgICAgICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9ICJpbWFnZSI7DQogICAgICAgICAgICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoY2ggPT09ICdbJyAmJiBzdGF0ZS5pbWFnZU1hcmtlcikgew0KICAgICAgICAgICAgICAgIHN0YXRlLmltYWdlTWFya2VyID0gZmFsc2U7DQogICAgICAgICAgICAgICAgc3RhdGUuaW1hZ2VBbHRUZXh0ID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAiaW1hZ2UiOw0KICAgICAgICAgICAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGNoID09PSAnXScgJiYgc3RhdGUuaW1hZ2VBbHRUZXh0KSB7DQogICAgICAgICAgICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9ICJpbWFnZSI7DQogICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgICAgICBzdGF0ZS5pbWFnZUFsdFRleHQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBzdGF0ZS5pbWFnZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHN0YXRlLmlubGluZSA9IHN0YXRlLmYgPSBsaW5rSHJlZjsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGNoID09PSAnWycgJiYgc3RyZWFtLm1hdGNoKC9bXlxdXSpcXShcKC4qXCl8ID9cWy4qP1xdKS8sIGZhbHNlKSAmJiAhc3RhdGUuaW1hZ2UpIHsNCiAgICAgICAgICAgICAgICBzdGF0ZS5saW5rVGV4dCA9IHRydWU7DQogICAgICAgICAgICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9ICJsaW5rIjsNCiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nICYmIHN0YXRlLmxpbmtUZXh0ICYmIHN0cmVhbS5tYXRjaCgvXCguKj9cKXwgP1xbLio/XF0vLCBmYWxzZSkpIHsNCiAgICAgICAgICAgICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gImxpbmsiOw0KICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZ2V0VHlwZShzdGF0ZSk7DQogICAgICAgICAgICAgICAgc3RhdGUubGlua1RleHQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBzdGF0ZS5pbmxpbmUgPSBzdGF0ZS5mID0gbGlua0hyZWY7DQogICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChjaCA9PT0gJzwnICYmIHN0cmVhbS5tYXRjaCgvXihodHRwcz98ZnRwcz8pOlwvXC8oPzpbXlxcPl18XFwuKSs+LywgZmFsc2UpKSB7DQogICAgICAgICAgICAgICAgc3RhdGUuZiA9IHN0YXRlLmlubGluZSA9IGxpbmtJbmxpbmU7DQogICAgICAgICAgICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9ICJsaW5rIjsNCiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGdldFR5cGUoc3RhdGUpOw0KICAgICAgICAgICAgICAgIGlmICh0eXBlKXsNCiAgICAgICAgICAgICAgICAgICAgdHlwZSArPSAiICI7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICIiOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZSArIHRva2VuVHlwZXMubGlua0lubGluZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGNoID09PSAnPCcgJiYgc3RyZWFtLm1hdGNoKC9eW14+IFxcXStAKD86W15cXD5dfFxcLikrPi8sIGZhbHNlKSkgew0KICAgICAgICAgICAgICAgIHN0YXRlLmYgPSBzdGF0ZS5pbmxpbmUgPSBsaW5rSW5saW5lOw0KICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAibGluayI7DQogICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgICAgICBpZiAodHlwZSl7DQogICAgICAgICAgICAgICAgICAgIHR5cGUgKz0gIiAiOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHR5cGUgPSAiIjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUgKyB0b2tlblR5cGVzLmxpbmtFbWFpbDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGNoID09PSAnPCcgJiYgc3RyZWFtLm1hdGNoKC9eKCEtLXxcdykvLCBmYWxzZSkpIHsNCiAgICAgICAgICAgICAgICB2YXIgZW5kID0gc3RyZWFtLnN0cmluZy5pbmRleE9mKCI+Iiwgc3RyZWFtLnBvcyk7DQogICAgICAgICAgICAgICAgaWYgKGVuZCAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cyA9IHN0cmVhbS5zdHJpbmcuc3Vic3RyaW5nKHN0cmVhbS5zdGFydCwgZW5kKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKC9tYXJrZG93blxzKj1ccyooJ3wiKXswLDF9MSgnfCIpezAsMX0vLnRlc3QoYXR0cykpIHN0YXRlLm1kX2luc2lkZSA9IHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHN0cmVhbS5iYWNrVXAoMSk7DQogICAgICAgICAgICAgICAgc3RhdGUuaHRtbFN0YXRlID0gQ29kZU1pcnJvci5zdGFydFN0YXRlKGh0bWxNb2RlKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gc3dpdGNoQmxvY2soc3RyZWFtLCBzdGF0ZSwgaHRtbEJsb2NrKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGNoID09PSAnPCcgJiYgc3RyZWFtLm1hdGNoKC9eXC9cdyo/Pi8pKSB7DQogICAgICAgICAgICAgICAgc3RhdGUubWRfaW5zaWRlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgcmV0dXJuICJ0YWciOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgaWdub3JlVW5kZXJzY29yZSA9IGZhbHNlOw0KICAgICAgICAgICAgaWYgKCFtb2RlQ2ZnLnVuZGVyc2NvcmVzQnJlYWtXb3Jkcykgew0KICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ18nICYmIHN0cmVhbS5wZWVrKCkgIT09ICdfJyAmJiBzdHJlYW0ubWF0Y2goLyhcdykvLCBmYWxzZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZQb3MgPSBzdHJlYW0ucG9zIC0gMjsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZQb3MgPj0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZDaCA9IHN0cmVhbS5zdHJpbmcuY2hhckF0KHByZXZQb3MpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZDaCAhPT0gJ18nICYmIHByZXZDaC5tYXRjaCgvKFx3KS8sIGZhbHNlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZVVuZGVyc2NvcmUgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGNoID09PSAnKicgfHwgKGNoID09PSAnXycgJiYgIWlnbm9yZVVuZGVyc2NvcmUpKSB7DQogICAgICAgICAgICAgICAgaWYgKHNvbCAmJiBzdHJlYW0ucGVlaygpID09PSAnICcpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZywgc3Vycm91bmRlZCBieSBuZXdsaW5lIGFuZCBzcGFjZQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc3Ryb25nID09PSBjaCAmJiBzdHJlYW0uZWF0KGNoKSkgeyAvLyBSZW1vdmUgU1RST05HDQogICAgICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAic3Ryb25nIjsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgICAgICAgICAgc3RhdGUuc3Ryb25nID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0Ow0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0YXRlLnN0cm9uZyAmJiBzdHJlYW0uZWF0KGNoKSkgeyAvLyBBZGQgU1RST05HDQogICAgICAgICAgICAgICAgICAgIHN0YXRlLnN0cm9uZyA9IGNoOw0KICAgICAgICAgICAgICAgICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gInN0cm9uZyI7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmVtID09PSBjaCkgeyAvLyBSZW1vdmUgRU0NCiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9ICJlbSI7DQogICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZ2V0VHlwZShzdGF0ZSk7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmVtID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0Ow0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0YXRlLmVtKSB7IC8vIEFkZCBFTQ0KICAgICAgICAgICAgICAgICAgICBzdGF0ZS5lbSA9IGNoOw0KICAgICAgICAgICAgICAgICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gImVtIjsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICcgJykgew0KICAgICAgICAgICAgICAgIGlmIChzdHJlYW0uZWF0KCcqJykgfHwgc3RyZWFtLmVhdCgnXycpKSB7IC8vIFByb2JhYmx5IHN1cnJvdW5kZWQgYnkgc3BhY2VzDQogICAgICAgICAgICAgICAgICAgIGlmIChzdHJlYW0ucGVlaygpID09PSAnICcpIHsgLy8gU3Vycm91bmRlZCBieSBzcGFjZXMsIGlnbm9yZQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBOb3Qgc3Vycm91bmRlZCBieSBzcGFjZXMsIGJhY2sgdXAgcG9pbnRlcg0KICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtLmJhY2tVcCgxKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKG1vZGVDZmcuc3RyaWtldGhyb3VnaCkgew0KICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ34nICYmIHN0cmVhbS5lYXRXaGlsZShjaCkpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLnN0cmlrZXRocm91Z2gpIHsvLyBSZW1vdmUgc3RyaWtldGhyb3VnaA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9ICJzdHJpa2V0aHJvdWdoIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZ2V0VHlwZShzdGF0ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zdHJpa2V0aHJvdWdoID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goL15bXlxzXS8sIGZhbHNlKSkgey8vIEFkZCBzdHJpa2V0aHJvdWdoDQogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zdHJpa2V0aHJvdWdoID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAic3RyaWtldGhyb3VnaCI7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnICcpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXn5+LywgdHJ1ZSkpIHsgLy8gUHJvYmFibHkgc3Vycm91bmRlZCBieSBzcGFjZQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmVhbS5wZWVrKCkgPT09ICcgJykgeyAvLyBTdXJyb3VuZGVkIGJ5IHNwYWNlcywgaWdub3JlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gTm90IHN1cnJvdW5kZWQgYnkgc3BhY2VzLCBiYWNrIHVwIHBvaW50ZXINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW0uYmFja1VwKDIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoY2ggPT09ICcgJykgew0KICAgICAgICAgICAgICAgIGlmIChzdHJlYW0ubWF0Y2goLyArJC8sIGZhbHNlKSkgew0KICAgICAgICAgICAgICAgICAgICBzdGF0ZS50cmFpbGluZ1NwYWNlKys7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS50cmFpbGluZ1NwYWNlKSB7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLnRyYWlsaW5nU3BhY2VOZXdMaW5lID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGxpbmtJbmxpbmUoc3RyZWFtLCBzdGF0ZSkgew0KICAgICAgICAgICAgdmFyIGNoID0gc3RyZWFtLm5leHQoKTsNCg0KICAgICAgICAgICAgaWYgKGNoID09PSAiPiIpIHsNCiAgICAgICAgICAgICAgICBzdGF0ZS5mID0gc3RhdGUuaW5saW5lID0gaW5saW5lTm9ybWFsOw0KICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAibGluayI7DQogICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgICAgICBpZiAodHlwZSl7DQogICAgICAgICAgICAgICAgICAgIHR5cGUgKz0gIiAiOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHR5cGUgPSAiIjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUgKyB0b2tlblR5cGVzLmxpbmtJbmxpbmU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHN0cmVhbS5tYXRjaCgvXltePl0rLywgdHJ1ZSk7DQoNCiAgICAgICAgICAgIHJldHVybiB0b2tlblR5cGVzLmxpbmtJbmxpbmU7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBsaW5rSHJlZihzdHJlYW0sIHN0YXRlKSB7DQogICAgICAgICAgICAvLyBDaGVjayBpZiBzcGFjZSwgYW5kIHJldHVybiBOVUxMIGlmIHNvICh0byBhdm9pZCBtYXJraW5nIHRoZSBzcGFjZSkNCiAgICAgICAgICAgIGlmKHN0cmVhbS5lYXRTcGFjZSgpKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7DQogICAgICAgICAgICBpZiAoY2ggPT09ICcoJyB8fCBjaCA9PT0gJ1snKSB7DQogICAgICAgICAgICAgICAgc3RhdGUuZiA9IHN0YXRlLmlubGluZSA9IGdldExpbmtIcmVmSW5zaWRlKGNoID09PSAiKCIgPyAiKSIgOiAiXSIsIDApOw0KICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAibGluay1zdHJpbmciOw0KICAgICAgICAgICAgICAgIHN0YXRlLmxpbmtIcmVmID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gJ2Vycm9yJzsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBsaW5rUkUgPSB7DQogICAgICAgICAgICAiKSI6IC9eKD86W15cXFwoXCldfFxcLnxcKCg/OlteXFxcKFwpXXxcXC4pKlwpKSo/KD89XCkpLywNCiAgICAgICAgICAgICJdIjogL14oPzpbXlxcXFtcXV18XFwufFxbKD86W15cXFxbXFxdXXxcXC4pKlxdKSo/KD89XF0pLw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZ2V0TGlua0hyZWZJbnNpZGUoZW5kQ2hhcikgew0KICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHsNCiAgICAgICAgICAgICAgICB2YXIgY2ggPSBzdHJlYW0ubmV4dCgpOw0KDQogICAgICAgICAgICAgICAgaWYgKGNoID09PSBlbmRDaGFyKSB7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmYgPSBzdGF0ZS5pbmxpbmUgPSBpbmxpbmVOb3JtYWw7DQogICAgICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAibGluay1zdHJpbmciOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuU3RhdGUgPSBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgICAgICAgICAgc3RhdGUubGlua0hyZWYgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblN0YXRlOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHN0cmVhbS5tYXRjaChsaW5rUkVbZW5kQ2hhcl0pDQogICAgICAgICAgICAgICAgc3RhdGUubGlua0hyZWYgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBmb290bm90ZUxpbmsoc3RyZWFtLCBzdGF0ZSkgew0KICAgICAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXihbXlxdXFxdfFxcLikqXF06LywgZmFsc2UpKSB7DQogICAgICAgICAgICAgICAgc3RhdGUuZiA9IGZvb3Rub3RlTGlua0luc2lkZTsNCiAgICAgICAgICAgICAgICBzdHJlYW0ubmV4dCgpOyAvLyBDb25zdW1lIFsNCiAgICAgICAgICAgICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gImxpbmsiOw0KICAgICAgICAgICAgICAgIHN0YXRlLmxpbmtUZXh0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gc3dpdGNoSW5saW5lKHN0cmVhbSwgc3RhdGUsIGlubGluZU5vcm1hbCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBmb290bm90ZUxpbmtJbnNpZGUoc3RyZWFtLCBzdGF0ZSkgew0KICAgICAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXlxdOi8sIHRydWUpKSB7DQogICAgICAgICAgICAgICAgc3RhdGUuZiA9IHN0YXRlLmlubGluZSA9IGZvb3Rub3RlVXJsOw0KICAgICAgICAgICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSAibGluayI7DQogICAgICAgICAgICAgICAgdmFyIHJldHVyblR5cGUgPSBnZXRUeXBlKHN0YXRlKTsNCiAgICAgICAgICAgICAgICBzdGF0ZS5saW5rVGV4dCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5UeXBlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBzdHJlYW0ubWF0Y2goL14oW15cXVxcXXxcXC4pKy8sIHRydWUpOw0KDQogICAgICAgICAgICByZXR1cm4gdG9rZW5UeXBlcy5saW5rVGV4dDsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGZvb3Rub3RlVXJsKHN0cmVhbSwgc3RhdGUpIHsNCiAgICAgICAgICAgIC8vIENoZWNrIGlmIHNwYWNlLCBhbmQgcmV0dXJuIE5VTEwgaWYgc28gKHRvIGF2b2lkIG1hcmtpbmcgdGhlIHNwYWNlKQ0KICAgICAgICAgICAgaWYoc3RyZWFtLmVhdFNwYWNlKCkpew0KICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gTWF0Y2ggVVJMDQogICAgICAgICAgICBzdHJlYW0ubWF0Y2goL15bXlxzXSsvLCB0cnVlKTsNCiAgICAgICAgICAgIC8vIENoZWNrIGZvciBsaW5rIHRpdGxlDQogICAgICAgICAgICBpZiAoc3RyZWFtLnBlZWsoKSA9PT0gdW5kZWZpbmVkKSB7IC8vIEVuZCBvZiBsaW5lLCBzZXQgZmxhZyB0byBjaGVjayBuZXh0IGxpbmUNCiAgICAgICAgICAgICAgICBzdGF0ZS5saW5rVGl0bGUgPSB0cnVlOw0KICAgICAgICAgICAgfSBlbHNlIHsgLy8gTW9yZSBjb250ZW50IG9uIGxpbmUsIGNoZWNrIGlmIGxpbmsgdGl0bGUNCiAgICAgICAgICAgICAgICBzdHJlYW0ubWF0Y2goL14oPzpccysoPzoiKD86W14iXFxdfFxcXFx8XFwuKSsifCcoPzpbXidcXF18XFxcXHxcXC4pKyd8XCgoPzpbXilcXF18XFxcXHxcXC4pK1wpKSk/LywgdHJ1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzdGF0ZS5mID0gc3RhdGUuaW5saW5lID0gaW5saW5lTm9ybWFsOw0KICAgICAgICAgICAgcmV0dXJuIHRva2VuVHlwZXMubGlua0hyZWYgKyAiIHVybCI7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgbW9kZSA9IHsNCiAgICAgICAgICAgIHN0YXJ0U3RhdGU6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgIGY6IGJsb2NrTm9ybWFsLA0KDQogICAgICAgICAgICAgICAgICAgIHByZXZMaW5lOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICB0aGlzTGluZTogbnVsbCwNCg0KICAgICAgICAgICAgICAgICAgICBibG9jazogYmxvY2tOb3JtYWwsDQogICAgICAgICAgICAgICAgICAgIGh0bWxTdGF0ZTogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgaW5kZW50YXRpb246IDAsDQoNCiAgICAgICAgICAgICAgICAgICAgaW5saW5lOiBpbmxpbmVOb3JtYWwsDQogICAgICAgICAgICAgICAgICAgIHRleHQ6IGhhbmRsZVRleHQsDQoNCiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGluZzogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGxpbmtUZXh0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgbGlua0hyZWY6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICBsaW5rVGl0bGU6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICBjb2RlOiAwLA0KICAgICAgICAgICAgICAgICAgICBlbTogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHN0cm9uZzogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGhlYWRlcjogMCwNCiAgICAgICAgICAgICAgICAgICAgaHI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICB0YXNrTGlzdDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGxpc3Q6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICBsaXN0U3RhY2s6IFtdLA0KICAgICAgICAgICAgICAgICAgICBxdW90ZTogMCwNCiAgICAgICAgICAgICAgICAgICAgdHJhaWxpbmdTcGFjZTogMCwNCiAgICAgICAgICAgICAgICAgICAgdHJhaWxpbmdTcGFjZU5ld0xpbmU6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICBzdHJpa2V0aHJvdWdoOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgZmVuY2VkQ2hhcnM6IG51bGwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgY29weVN0YXRlOiBmdW5jdGlvbihzKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgZjogcy5mLA0KDQogICAgICAgICAgICAgICAgICAgIHByZXZMaW5lOiBzLnByZXZMaW5lLA0KICAgICAgICAgICAgICAgICAgICB0aGlzTGluZTogcy50aGlzTGluZSwNCg0KICAgICAgICAgICAgICAgICAgICBibG9jazogcy5ibG9jaywNCiAgICAgICAgICAgICAgICAgICAgaHRtbFN0YXRlOiBzLmh0bWxTdGF0ZSAmJiBDb2RlTWlycm9yLmNvcHlTdGF0ZShodG1sTW9kZSwgcy5odG1sU3RhdGUpLA0KICAgICAgICAgICAgICAgICAgICBpbmRlbnRhdGlvbjogcy5pbmRlbnRhdGlvbiwNCg0KICAgICAgICAgICAgICAgICAgICBsb2NhbE1vZGU6IHMubG9jYWxNb2RlLA0KICAgICAgICAgICAgICAgICAgICBsb2NhbFN0YXRlOiBzLmxvY2FsTW9kZSA/IENvZGVNaXJyb3IuY29weVN0YXRlKHMubG9jYWxNb2RlLCBzLmxvY2FsU3RhdGUpIDogbnVsbCwNCg0KICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHMuaW5saW5lLA0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzLnRleHQsDQogICAgICAgICAgICAgICAgICAgIGZvcm1hdHRpbmc6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICBsaW5rVGl0bGU6IHMubGlua1RpdGxlLA0KICAgICAgICAgICAgICAgICAgICBjb2RlOiBzLmNvZGUsDQogICAgICAgICAgICAgICAgICAgIGVtOiBzLmVtLA0KICAgICAgICAgICAgICAgICAgICBzdHJvbmc6IHMuc3Ryb25nLA0KICAgICAgICAgICAgICAgICAgICBzdHJpa2V0aHJvdWdoOiBzLnN0cmlrZXRocm91Z2gsDQogICAgICAgICAgICAgICAgICAgIGhlYWRlcjogcy5oZWFkZXIsDQogICAgICAgICAgICAgICAgICAgIGhyOiBzLmhyLA0KICAgICAgICAgICAgICAgICAgICB0YXNrTGlzdDogcy50YXNrTGlzdCwNCiAgICAgICAgICAgICAgICAgICAgbGlzdDogcy5saXN0LA0KICAgICAgICAgICAgICAgICAgICBsaXN0U3RhY2s6IHMubGlzdFN0YWNrLnNsaWNlKDApLA0KICAgICAgICAgICAgICAgICAgICBxdW90ZTogcy5xdW90ZSwNCiAgICAgICAgICAgICAgICAgICAgaW5kZW50ZWRDb2RlOiBzLmluZGVudGVkQ29kZSwNCiAgICAgICAgICAgICAgICAgICAgdHJhaWxpbmdTcGFjZTogcy50cmFpbGluZ1NwYWNlLA0KICAgICAgICAgICAgICAgICAgICB0cmFpbGluZ1NwYWNlTmV3TGluZTogcy50cmFpbGluZ1NwYWNlTmV3TGluZSwNCiAgICAgICAgICAgICAgICAgICAgbWRfaW5zaWRlOiBzLm1kX2luc2lkZSwNCiAgICAgICAgICAgICAgICAgICAgZmVuY2VkQ2hhcnM6IHMuZmVuY2VkQ2hhcnMNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgdG9rZW46IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHsNCg0KICAgICAgICAgICAgICAgIC8vIFJlc2V0IHN0YXRlLmZvcm1hdHRpbmcNCiAgICAgICAgICAgICAgICBzdGF0ZS5mb3JtYXR0aW5nID0gZmFsc2U7DQoNCiAgICAgICAgICAgICAgICBpZiAoc3RyZWFtICE9IHN0YXRlLnRoaXNMaW5lKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBmb3JjZUJsYW5rTGluZSA9IHN0YXRlLmhlYWRlciB8fCBzdGF0ZS5ocjsNCg0KICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBzdGF0ZS5oZWFkZXIgYW5kIHN0YXRlLmhyDQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmhlYWRlciA9IDA7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmhyID0gZmFsc2U7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXlxzKiQvLCB0cnVlKSB8fCBmb3JjZUJsYW5rTGluZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYmxhbmtMaW5lKHN0YXRlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm9yY2VCbGFua0xpbmUpIHJldHVybiBudWxsDQogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wcmV2TGluZSA9IG51bGwNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIHN0YXRlLnByZXZMaW5lID0gc3RhdGUudGhpc0xpbmUNCiAgICAgICAgICAgICAgICAgICAgc3RhdGUudGhpc0xpbmUgPSBzdHJlYW0NCg0KICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBzdGF0ZS50YXNrTGlzdA0KICAgICAgICAgICAgICAgICAgICBzdGF0ZS50YXNrTGlzdCA9IGZhbHNlOw0KDQogICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHN0YXRlLnRyYWlsaW5nU3BhY2UNCiAgICAgICAgICAgICAgICAgICAgc3RhdGUudHJhaWxpbmdTcGFjZSA9IDA7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLnRyYWlsaW5nU3BhY2VOZXdMaW5lID0gZmFsc2U7DQoNCiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZiA9IHN0YXRlLmJsb2NrOw0KICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZW50YXRpb24gPSBzdHJlYW0ubWF0Y2goL15ccyovLCB0cnVlKVswXS5yZXBsYWNlKC9cdC9nLCAnICAgICcpLmxlbmd0aDsNCiAgICAgICAgICAgICAgICAgICAgc3RhdGUuaW5kZW50YXRpb25EaWZmID0gTWF0aC5taW4oaW5kZW50YXRpb24gLSBzdGF0ZS5pbmRlbnRhdGlvbiwgNCk7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmluZGVudGF0aW9uID0gc3RhdGUuaW5kZW50YXRpb24gKyBzdGF0ZS5pbmRlbnRhdGlvbkRpZmY7DQogICAgICAgICAgICAgICAgICAgIGlmIChpbmRlbnRhdGlvbiA+IDApIHJldHVybiBudWxsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuZihzdHJlYW0sIHN0YXRlKTsNCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIGlubmVyTW9kZTogZnVuY3Rpb24oc3RhdGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuYmxvY2sgPT0gaHRtbEJsb2NrKSByZXR1cm4ge3N0YXRlOiBzdGF0ZS5odG1sU3RhdGUsIG1vZGU6IGh0bWxNb2RlfTsNCiAgICAgICAgICAgICAgICBpZiAoc3RhdGUubG9jYWxTdGF0ZSkgcmV0dXJuIHtzdGF0ZTogc3RhdGUubG9jYWxTdGF0ZSwgbW9kZTogc3RhdGUubG9jYWxNb2RlfTsNCiAgICAgICAgICAgICAgICByZXR1cm4ge3N0YXRlOiBzdGF0ZSwgbW9kZTogbW9kZX07DQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICBibGFua0xpbmU6IGJsYW5rTGluZSwNCg0KICAgICAgICAgICAgZ2V0VHlwZTogZ2V0VHlwZSwNCg0KICAgICAgICAgICAgY2xvc2VCcmFja2V0czogIigpW117fScnXCJcImBgIiwNCiAgICAgICAgICAgIGZvbGQ6ICJtYXJrZG93biINCiAgICAgICAgfTsNCiAgICAgICAgcmV0dXJuIG1vZGU7DQogICAgfSwgInhtbCIpOw0KDQogICAgQ29kZU1pcnJvci5kZWZpbmVNSU1FKCJ0ZXh0L3gtbWFya2Rvd24iLCAibWFya2Rvd24iKTsNCg0KfSk7');
}


function resource_b5224402a7c86bd91173aa4a45d1b751() {
    return base64_decode('QGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1MYXRvOjMwMCw0MDAsNDAwaSw3MDAsOTAwJnN1YnNldD1sYXRpbi1leHQnKTsKLyogVXNlZCBieSBwcmlzbWpzICovCkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Q291c2luZSZzdWJzZXQ9bGF0aW4tZXh0Jyk7CgovKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KREVGQVVMVFMKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCmh0bWwsYm9keSxkaXYsc3BhbixhcHBsZXQsb2JqZWN0LGlmcmFtZSxoMSxoMixoMyxoNCxoNSxoNixwLGJsb2NrcXVvdGUscHJlLGEsYWJiciwKYWNyb255bSxhZGRyZXNzLGJpZyxjaXRlLGNvZGUsZGVsLGRmbixlbSxpbWcsaW5zLGtiZCxxLHMsc2FtcCxzbWFsbCxzdHJpa2Usc3Ryb25nLApzdWIsc3VwLHR0LHZhcixkbCxkdCxkZCxvbCx1bCxsaSxmaWVsZHNldCxmb3JtLGxhYmVsLGxlZ2VuZCx0YWJsZSxjYXB0aW9uLHRib2R5LAp0Zm9vdCx0aGVhZCx0cix0aCx0ZCB7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogICAgYm9yZGVyOiAwOwogICAgb3V0bGluZTogMDsKICAgIGZvbnQtd2VpZ2h0OiBpbmhlcml0OwogICAgZm9udC1zdHlsZTogaW5oZXJpdDsKICAgIGZvbnQtZmFtaWx5OiAnTGF0bycsIHNhbnMtc2VyaWY7CiAgICBmb250LXNpemU6IDEwMCU7CiAgICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9Cmh0bWwgewogICAgb3ZlcmZsb3cteDogaGlkZGVuOwogICAgaGVpZ2h0OiAxMDAlOwp9CmJvZHkgewogICAgbGluZS1oZWlnaHQ6IDE7CiAgICBjb2xvcjogIzAwMDsKICAgIGJhY2tncm91bmQ6ICMxZDIwMjE7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBtYXJnaW4tdG9wOiAzMHB4Owp9Cm9sLCB1bCB7CiAgICBsaXN0LXN0eWxlOiBub25lOwp9CnRhYmxlIHsKICAgIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7CiAgICBib3JkZXItc3BhY2luZzogMDsKICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Cn0KY2FwdGlvbiwgdGgsIHRkIHsKICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQphIGltZyB7CiAgICBib3JkZXI6IG5vbmU7Cn0KaHIgewogICAgYm9yZGVyOiAwOwogICAgYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCAjM2YzZjNmOwp9Ci5idG4gewogICAgbWFyZ2luLXJpZ2h0OiA2cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgZm9udC1zaXplOiAuN3JlbTsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgIHBhZGRpbmc6IDZweCAxMnB4OwogICAgdGV4dC1zaGFkb3c6IDBweCAxcHggMXB4IHJnYmEoMTUwLCAxNTAsIDE1MCwgMSk7CiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAuNCk7CiAgICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50OwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lICFpbXBvcnRhbnQ7Cn0KLmJ0bltkaXNhYmxlZF0gewogICAgYmFja2dyb3VuZDogZ3JheSAhaW1wb3J0YW50OwogICAgY3Vyc29yOiBkZWZhdWx0ICFpbXBvcnRhbnQ7Cn0KLmJ0bjpob3ZlciB7CiAgICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50Owp9Ci5idG4taW5mbyB7CiAgICBiYWNrZ3JvdW5kOiAjMjE5NkYzOwp9Ci5idG4taW5mbzpob3ZlciB7CiAgICBiYWNrZ3JvdW5kOiAjMmFhY2ZmOwp9Ci5idG4tc3VjY2VzcyB7CiAgICBiYWNrZ3JvdW5kOiAjOEJDMzRBOwp9Ci5idG4tc3VjY2Vzczpob3ZlciB7CiAgICBiYWNrZ3JvdW5kOiAjYTVlNDUxOwp9Ci5idG4tZGFuZ2VyIHsKICAgIGJhY2tncm91bmQ6ICNkMTJiMzc7Cn0KLmJ0bi1kYW5nZXI6aG92ZXIgewogICAgYmFja2dyb3VuZDogI2ZiMzE0MTsKfQoKLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCkZPTlRTIERFRkFVTFRTCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwpib2R5LAp0ZCwKdGV4dGFyZWEKewogICAgbGluZS1oZWlnaHQ6IDEuNjsKICAgIGZvbnQtc2l6ZTogMWVtOwogICAgY29sb3I6ICNmZmY7Cn0KYSB7CiAgICBjb2xvcjogI2ZmZjsKICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQphOmhvdmVyIHsKICAgIGNvbG9yOiAjODBjOWZmOwp9CmgxLCBoMiwgaDMsIGg0LCBoNSwgaDYgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCgoKCgoKLmNvbnRlbnQgLmJyZWFkY3J1bWIgewogICAgbWFyZ2luOiAwIC0xNXB4IDIwcHggLTE1cHggIWltcG9ydGFudDsKICAgIGZvbnQtc2l6ZTogLjllbTsKICAgIHBhZGRpbmc6IDNweCAxNXB4OwogICAgbGlzdC1zdHlsZTogbm9uZTsKfQouY29udGVudCBhIHsKICAgIGNvbG9yOiAjRkY1NzIyOwogICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7Cn0KLmJyZWFkY3J1bWIgLmFjdGl2ZSBhIHsKICAgIGNvbG9yOiAjODBjOWZmOwp9Ci5icmVhZGNydW1iPmxpIHsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQouYnJlYWRjcnVtYj5saStsaTpiZWZvcmUgewogICAgY29udGVudDogIi9cMDBhMCI7CiAgICBwYWRkaW5nOiAwIDVweDsKICAgIGNvbG9yOiAjY2NjOwp9CgovKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KSEVBREVSCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwouaGVhZGVyIHsKICAgIHBhZGRpbmc6IDVweCAxMHB4OwogICAgY29sb3I6ICNmZmY7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICB6LWluZGV4OiA5OTk5OwogICAgYmFja2dyb3VuZDogI2ZmZjsKICAgIGNsZWFyOiBib3RoOwp9CgouaGVhZGVyIGgyIHsKICAgIGZsb2F0OiBsZWZ0OwogICAgY29sb3I6ICMwMDA7Cn0KCi51c2VyLWFjdGlvbnMgewogICAgZmxvYXQ6IHJpZ2h0OwogICAgbWFyZ2luLXJpZ2h0OiAyMHB4Owp9CgoudXNlci1hY3Rpb25zIGEgewogICAgY29sb3I6ICMwMDA7Cn0KCi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpOQVYKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCi5uYXYgewogICAgZm9udC1zaXplOiAwLjllbTsKfQoubmF2LWlubmVyIHsKICAgIHBhZGRpbmc6IDJyZW07Cn0KLm5hdi1pbm5lciA+IHVsIHVsIHsKICAgIG1hcmdpbi1sZWZ0OiAxNXB4Owp9Ci5uYXYtaW5uZXIgYSB7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgZGlzcGxheTogYmxvY2s7CiAgICBwYWRkaW5nLXRvcDogMXB4OwogICAgcGFkZGluZy1ib3R0b206IDFweDsKICAgIGNvbG9yOiAjNzM3Yzg0Owp9Ci5uYXYtaW5uZXIgaDIgewogICAgbWFyZ2luLXRvcDogMjBweDsKICAgIGNvbG9yOiAjZmZmOwogICAgZm9udC1zaXplOiAxLjJyZW07Cn0KLm5hdi1pbm5lciBoNCB7CiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgZm9udC1zaXplOiAwLjllbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwp9Ci5uYXYtaW5uZXIgaDUgewogICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgIGZvbnQtc2l6ZTogMC45ZW07CiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7Cn0KLm5hdi1pbm5lciBoNiB7CiAgICBmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50Owp9CgoubmF2LWlubmVyID4gaDE6Zmlyc3QtY2hpbGQgewogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKfQoKI3BhZ2UtdG9jIHsKICAgIGJhY2tncm91bmQ6ICMyZjk5ZjE7CiAgICBtYXJnaW4tbGVmdDogLTJyZW07CiAgICBtYXJnaW4tcmlnaHQ6IC0xLjVyZW07CiAgICBwYWRkaW5nOiAuNXJlbSAxcmVtIC41cmVtIDA7CiAgICBtYXJnaW4tYm90dG9tOiAxcmVtOwogICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICBtYXJnaW4tdG9wOiAuOHJlbTsKfQojcGFnZS10b2MgYSB7CiAgICBjb2xvcjogI2E3ZDdmZjsKICAgIGxpbmUtaGVpZ2h0OiAxNnB4OwogICAgZGlzcGxheTogYmxvY2s7CiAgICBwYWRkaW5nOiA0cHggMDsKfQojcGFnZS10b2MgLnRvYy1hY3RpdmUgYSwgI3BhZ2UtdG9jIGE6aG92ZXIgewogICAgY29sb3I6ICNmZmYKfQojcGFnZS10b2MgLnRvYy1oMiB7CiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7Cn0KI3BhZ2UtdG9jIC50b2MtaDMgewogICAgcGFkZGluZy1sZWZ0OiAyMHB4Owp9CgpAbWVkaWEgKG1heC13aWR0aDogNDgwcHgpIHsKICAgIC5uYXYgewogICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICNkZmUyZTc7CiAgICB9Cn0KQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgICAubmF2IHsKICAgICAgICBkaXNwbGF5OiBub25lOwogICAgfQp9CkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkgewogICAgLmNvbnRhaW5lciB7CiAgICAgICAgcGFkZGluZy1sZWZ0OiAyNzBweDsKICAgIH0KICAgIC5uYXYgewogICAgICAgIGxlZnQ6IDA7CiAgICAgICAgdG9wOiA0MHB4OwogICAgICAgIGJvdHRvbTogMDsKICAgICAgICB3aWR0aDogMjYwcHg7CiAgICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgYmFja2dyb3VuZDogIzAwMDsKICAgIH0KICAgIDo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgICAgIHdpZHRoOiA4cHg7CiAgICAgICAgaGVpZ2h0OiA4cHg7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgfQogICAgOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAuMTUpOwogICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIH0KfQoKCgovKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqIENvbnRlbnQgc3R5bGluZwogKi8KLmNvbnRlbnQgcCwKLmNvbnRlbnQgdWwsCi5jb250ZW50IG9sLAouY29udGVudCBoMSwKLmNvbnRlbnQgaDIsCi5jb250ZW50IGgzLAouY29udGVudCBoNCwKLmNvbnRlbnQgaDUsCi5jb250ZW50IGg2LAouY29udGVudCBwcmU6bm90KFtjbGFzcyo9Imxhbmd1YWdlLSJdKSwKLmNvbnRlbnQgYmxvY2txdW90ZSB7CiAgICBwYWRkaW5nOiAxMHB4IDA7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgpwcmUuQ29kZU1pcnJvci1saW5lIHsKICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDsKfQoKLmNvbnRlbnQgcHJlIHsKICAgIGZvbnQtZmFtaWx5OiBNZW5sbywgbW9ub3NwYWNlOwogICAgbWFyZ2luLWJvdHRvbTogMWVtOwp9Ci5jb250ZW50IG9sID4gbGkgewogICAgbGlzdC1zdHlsZS10eXBlOiBkZWNpbWFsOwp9Ci5jb250ZW50IHVsLAouY29udGVudCBvbCB7CiAgICBtYXJnaW4tbGVmdDogMjBweDsKfQouY29udGVudCB1bCA+IGxpIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGxpc3Qtc3R5bGUtdHlwZTogZGlzYzsKfQouY29udGVudCBsaSA+IDpmaXJzdC1jaGlsZCB7CiAgICBwYWRkaW5nLXRvcDogMDsKfQouY29udGVudCBzdHJvbmcsCi5jb250ZW50IGIgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLmNvbnRlbnQgaSwKLmNvbnRlbnQgZW0gewogICAgZm9udC1zdHlsZTogaXRhbGljOwp9Ci5jb250ZW50IGNvZGUgewogICAgZm9udC1mYW1pbHk6IE1lbmxvLCBtb25vc3BhY2U7CiAgICBwYWRkaW5nOiAxcHggM3B4OwogICAgZm9udC1zaXplOiAwLjk1ZW07CiAgICBjb2xvcjogI2ZkNWI5NTsKfQouY29udGVudCBwcmUgewogICAgbWF4LWhlaWdodDogMzByZW07Cn0KLmNvbnRlbnQgcHJlID4gY29kZSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgZm9udC1zaXplOiAxZW07CiAgICBsZXR0ZXItc3BhY2luZzogLTFweDsKfQovKi5jb250ZW50IGJsb2NrcXVvdGUgOmZpcnN0LWNoaWxkIHsqLwovKnBhZGRpbmctdG9wOiAwOyovCi8qfSovCi8qLmNvbnRlbnQgYmxvY2txdW90ZSA6bGFzdC1jaGlsZCB7Ki8KLypwYWRkaW5nLWJvdHRvbTogMDsqLwovKn0qLwouY29udGVudCB0YWJsZSB7CiAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgIHBhZGRpbmc6IDA7CiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOwogICAgY2xlYXI6IGJvdGg7Cn0KLmNvbnRlbnQgdGFibGUgdHIgewogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogMDsKfQouY29udGVudCB0YWJsZSB0ciA6bnRoLWNoaWxkKDJuKSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOGY4Owp9Ci5jb250ZW50IHRhYmxlIHRyIHRoIHsKICAgIHRleHQtYWxpZ246IGF1dG87CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiA2cHggMTNweDsKfQouY29udGVudCB0YWJsZSB0ciB0ZCB7CiAgICB0ZXh0LWFsaWduOiBhdXRvOwogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDZweCAxM3B4Owp9Ci5jb250ZW50IHRhYmxlIHRyIHRoIDpmaXJzdC1jaGlsZCwKLmNvbnRlbnQgdGFibGUgdHIgdGQgOmZpcnN0LWNoaWxkIHsKICAgIG1hcmdpbi10b3A6IDA7Cn0KLmNvbnRlbnQgdGFibGUgdHIgdGggOmxhc3QtY2hpbGQsCi5jb250ZW50IHRhYmxlIHRyIHRkIDpsYXN0LWNoaWxkIHsKICAgIG1hcmdpbi1ib3R0b206IDA7Cn0KLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKiBDb250ZW50CiAqLwouY29udGVudC1yb290IHsKICAgIG1pbi1oZWlnaHQ6IDkwJTsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQouY29udGVudCB7CiAgICBwYWRkaW5nLXRvcDogMzBweDsKICAgIHBhZGRpbmctYm90dG9tOiA0MHB4OwogICAgcGFkZGluZy1sZWZ0OiA0MHB4OwogICAgcGFkZGluZy1yaWdodDogNDBweDsKICAgIHpvb206IDE7CiAgICBtYXgtd2lkdGg6IDgwMHB4Owp9Ci5lZGl0LW1vZGUgLmNvbnRlbnQgewogICAgbWF4LXdpZHRoOiAxMDAlOwp9Ci5wYWdlLWFjdGlvbnMgewogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQouQ29kZU1pcnJvciB7CiAgICBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDsKICAgIHBhZGRpbmc6IDIwcHg7Cn0KLmNvbnRlbnQ6YmVmb3JlLAouY29udGVudDphZnRlciB7CiAgICBjb250ZW50OiAiIjsKICAgIGRpc3BsYXk6IHRhYmxlOwp9Ci5jb250ZW50OmFmdGVyIHsKICAgIGNsZWFyOiBib3RoOwp9Ci5jb250ZW50IGJsb2NrcXVvdGUgewogICAgY29sb3I6ICNmZmZmZmY7CiAgICB0ZXh0LXNoYWRvdzogMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7CiAgICBiYWNrZ3JvdW5kOiAjZTA2MjYyOwogICAgcGFkZGluZy1sZWZ0OiAxcmVtOwp9CgouY29udGVudCBoMSB7CiAgICBmb250LXdlaWdodDogMzAwOwogICAgZm9udC1zaXplOiAzcmVtOwogICAgbGV0dGVyLXNwYWNpbmc6IDFweDsKfQoKLmNvbnRlbnQgaDIgewogICAgZm9udC1zaXplOiAycmVtOwogICAgZm9udC13ZWlnaHQ6IDMwMDsKICAgIGNvbG9yOiAjZThlOGU4Owp9Ci5jb250ZW50IGgzIHsKICAgIGZvbnQtc2l6ZTogMS41cmVtOwogICAgZm9udC13ZWlnaHQ6IDMwMDsKICAgIGNvbG9yOiAjZThlOGU4Owp9CgouY29udGVudCBoNCB7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiA0MDA7Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgewogICAgLmNvbnRlbnQgaDQsCiAgICAuY29udGVudCBoNSwKICAgIC5jb250ZW50IC5zbWFsbC1oZWFkaW5nIHsKICAgICAgICBwYWRkaW5nLXRvcDogMjBweDsKICAgIH0KfQpAbWVkaWEgKG1heC13aWR0aDogNDgwcHgpIHsKICAgIC5jb250ZW50IHsKICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgIHBhZGRpbmctdG9wOiA0MHB4OwogICAgfQogICAgLmNvbnRlbnQgaDQsCiAgICAuY29udGVudCBoNSwKICAgIC5jb250ZW50IC5zbWFsbC1oZWFkaW5nIHsKICAgICAgICBwYWRkaW5nLXRvcDogMTBweDsKICAgIH0KfQoKLmNvbnRhaW5lciwgLmNvbnRlbnQsIC5jb250ZW50LWlubmVyIHsKICAgIG1pbi1oZWlnaHQ6IDEwMCU7Cn0KCi8qIFNpbXBsZU1ERSB0b29sYmFyICovCi5lZGl0b3ItdG9vbGJhciB7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogICAgb3BhY2l0eTogMSAhaW1wb3J0YW50Owp9Ci5lZGl0b3ItcHJldmlldy1zaWRlIHsKICAgIGJhY2tncm91bmQ6ICMxZDIwMjEgIWltcG9ydGFudDsKfQovKi5Db2RlTWlycm9yLmxhbmctbWFya2Rvd24gLmNtLWhlYWRlci0xIHsqLwogICAgLypmb250LXNpemU6IDJyZW07Ki8KLyp9Ki8KLyouQ29kZU1pcnJvci5sYW5nLW1hcmtkb3duIC5jbS1oZWFkZXItMiB7Ki8KICAgIC8qZm9udC1zaXplOiAxLjZyZW07Ki8KLyp9Ki8KLyouQ29kZU1pcnJvci5sYW5nLW1hcmtkb3duIC5jbS1oZWFkZXItMyB7Ki8KICAgIC8qZm9udC1zaXplOiAxLjJyZW07Ki8KLyp9Ki8KLyouQ29kZU1pcnJvci5sYW5nLW1hcmtkb3duIC5jbS1oZWFkZXItNCB7Ki8KICAgIC8qZm9udC1zaXplOiAxcmVtOyovCi8qfSovCi8qLkNvZGVNaXJyb3IubGFuZy1tYXJrZG93biAuY20taGVhZGVyLTUgeyovCiAgICAvKmZvbnQtc2l6ZTogLjhyZW07Ki8KLyp9Ki8KLyouQ29kZU1pcnJvci5sYW5nLW1hcmtkb3duIC5jbS1oZWFkZXItNiB7Ki8KICAgIC8qISpmb250LXNpemU6IDFyZW07KiEqLwovKn0qLwovKi5Db2RlTWlycm9yLmxhbmctbWFya2Rvd24gLmNtLWNvbW1lbnQgeyovCiAgICAvKmZvbnQtZmFtaWx5OiAiQ291cmllciBuZXciOyovCiAgICAvKmNvbG9yOiBncmF5OyovCi8qfSovCi8qLkNvZGVNaXJyb3IubGFuZy1tYXJrZG93biAuY20tdXJsIHsqLwogICAgLypjb2xvcjogIzAzYTlmNDsqLwovKn0qLwovKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KRk9PVEVSCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwouZm9vdGVyIHsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICB0ZXh0LWFsaWduOiByaWdodDsKfQouZm9vdGVyIC50aGVtZXMgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwp9Ci5mb290ZXIgLmNvcHlyaWdodHMgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgY29sb3I6IGdyYXk7CiAgICBmb250LXNpemU6IDExcHg7Cn0KCi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpMT0dJTiBQQUdFCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoubG9naW4tcGFnZSB7CiAgICBiYWNrZ3JvdW5kOiAjMzMzMzJGOwp9CgoubG9naW4tcGFnZSBmb3JtIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogNTAlOwogICAgbGVmdDogNTAlOwogICAgd2lkdGg6IDI2MHB4OwogICAgbWluLWhlaWdodDogMjAwcHg7CiAgICBtYXJnaW46IC0xNTBweCAwIDAgLTE1MHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgLypiYWNrZ3JvdW5kOiAjZWY4ZDMxOyovCiAgICBiYWNrZ3JvdW5kOiByZ2IoMTc3LCAxOTksIDU3KTsKICAgIGJvcmRlci1ib3R0b206IDhweCBzb2xpZCAjMjcyNzI3OwogICAgcGFkZGluZzogMjBweDsKfQoKLmxvZ2luLXBhZ2UgLmZvcm0tZ3JvdXAgewogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKfQoKLmxvZ2luLXBhZ2UgLmZvcm0tZ3JvdXAuY2hlY2tib3ggewogICAgdGV4dC1hbGlnbjogbGVmdDsKfQoKLmxvZ2luLXBhZ2UgaW5wdXRbdHlwZT10ZXh0XSwgLmxvZ2luLXBhZ2UgaW5wdXRbdHlwZT1wYXNzd29yZF0gewogICAgYm9yZGVyOiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBwYWRkaW5nOiAxMHB4IDE1cHg7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgoubG9naW4tcGFnZSBidXR0b24gewogICAgd2lkdGg6IDEwMCU7CiAgICBib3JkZXI6IDA7CiAgICBiYWNrZ3JvdW5kOiAjMzUzNTM1OwogICAgY29sb3I6ICNmZmY7CiAgICBwYWRkaW5nOiAxMHB4Owp9CgouY29udGVudCAuY29kZS1hY3Rpb24tZG93bmxvYWQgewogICAgYmFja2dyb3VuZDogcmdiKDI5LCAzMiwgMzMpOwogICAgdG9wOiAtOHB4OwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgY29sb3I6ICNGRkMxMDc7CiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgZm9udC1zaXplOiAxMHB4OwogICAgaGVpZ2h0OiAyNXB4OwogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgcGFkZGluZzogNnB4IDZweDsKfQouY29kZS1hY3Rpb24tZG93bmxvYWQ6aG92ZXIgewogICAgLypiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7Ki8KICAgIGNvbG9yOiAjZmZmOwp9CgovKioKICogb2thaWRpYSB0aGVtZSBmb3IgSmF2YVNjcmlwdCwgQ1NTIGFuZCBIVE1MCiAqIExvb3NlbHkgYmFzZWQgb24gTW9ub2thaSB0ZXh0bWF0ZSB0aGVtZSBieSBodHRwOi8vd3d3Lm1vbm9rYWkubmwvCiAqIEBhdXRob3Igb2NvZGlhCiAqLwoKY29kZVtjbGFzcyo9Imxhbmd1YWdlLSJdLApwcmVbY2xhc3MqPSJsYW5ndWFnZS0iXSB7CiAgICBjb2xvcjogI2Y4ZjhmMjsKICAgIGJhY2tncm91bmQ6IG5vbmU7CiAgICB0ZXh0LXNoYWRvdzogMCAxcHggcmdiYSgwLCAwLCAwLCAwLjMpOwogICAgZm9udC1mYW1pbHk6IENvbnNvbGFzLCBNb25hY28sICdBbmRhbGUgTW9ubycsICdVYnVudHUgTW9ubycsIG1vbm9zcGFjZTsKICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICB3aGl0ZS1zcGFjZTogcHJlOwogICAgd29yZC1zcGFjaW5nOiBub3JtYWw7CiAgICB3b3JkLWJyZWFrOiBub3JtYWw7CiAgICB3b3JkLXdyYXA6IG5vcm1hbDsKICAgIGxpbmUtaGVpZ2h0OiAxLjU7CgogICAgLW1vei10YWItc2l6ZTogNDsKICAgIC1vLXRhYi1zaXplOiA0OwogICAgdGFiLXNpemU6IDQ7CgogICAgLXdlYmtpdC1oeXBoZW5zOiBub25lOwogICAgLW1vei1oeXBoZW5zOiBub25lOwogICAgLW1zLWh5cGhlbnM6IG5vbmU7CiAgICBoeXBoZW5zOiBub25lOwp9Cgpjb2RlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0gewogICAgcGFkZGluZzogMXJlbTsKfQoKLyogQ29kZSBibG9ja3MgKi8KcHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0gewogICAgcGFkZGluZzogMWVtOwogICAgbWFyZ2luOiAuNWVtIDA7CiAgICBvdmVyZmxvdzogYXV0bzsKICAgIGJvcmRlci1yYWRpdXM6IDAuM2VtOwp9Cgo6bm90KHByZSkgPiBjb2RlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0sCnByZVtjbGFzcyo9Imxhbmd1YWdlLSJdIHsKICAgIGJhY2tncm91bmQ6ICMyNzI4MjI7Cn0KCi8qIElubGluZSBjb2RlICovCjpub3QocHJlKSA+IGNvZGVbY2xhc3MqPSJsYW5ndWFnZS0iXSB7CiAgICBwYWRkaW5nOiAuMWVtOwogICAgYm9yZGVyLXJhZGl1czogLjNlbTsKICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7Cn0KCi50b2tlbi5jb21tZW50LAoudG9rZW4ucHJvbG9nLAoudG9rZW4uZG9jdHlwZSwKLnRva2VuLmNkYXRhIHsKICAgIGNvbG9yOiBzbGF0ZWdyYXk7CiAgICBmb250LWZhbWlseTogJ0NvdXNpbmUnLCBtb25vc3BhY2U7Cn0KCi50b2tlbi5jb21tZW50IHsKICAgIGZvbnQtc2l6ZTogMTRweDsKfQoKLnRva2VuLnB1bmN0dWF0aW9uIHsKICAgIGNvbG9yOiAjZjhmOGYyOwp9CgoubmFtZXNwYWNlIHsKICAgIG9wYWNpdHk6IC43Owp9CgoudG9rZW4ucHJvcGVydHksCi50b2tlbi50YWcsCi50b2tlbi5jb25zdGFudCwKLnRva2VuLnN5bWJvbCwKLnRva2VuLmRlbGV0ZWQgewogICAgY29sb3I6ICNmOTI2NzI7Cn0KCi50b2tlbi5ib29sZWFuLAoudG9rZW4ubnVtYmVyIHsKICAgIGNvbG9yOiAjYWU4MWZmOwp9CgoudG9rZW4uc2VsZWN0b3IsCi50b2tlbi5hdHRyLW5hbWUsCi50b2tlbi5zdHJpbmcsCi50b2tlbi5jaGFyLAoudG9rZW4uYnVpbHRpbiwKLnRva2VuLmluc2VydGVkIHsKICAgIGNvbG9yOiAjYTZlMjJlOwp9CgoudG9rZW4ub3BlcmF0b3IsCi50b2tlbi5lbnRpdHksCi50b2tlbi51cmwsCi5sYW5ndWFnZS1jc3MgLnRva2VuLnN0cmluZywKLnN0eWxlIC50b2tlbi5zdHJpbmcsCi50b2tlbi52YXJpYWJsZSB7CiAgICBjb2xvcjogI2Y4ZjhmMjsKfQoKLnRva2VuLmF0cnVsZSwKLnRva2VuLmF0dHItdmFsdWUsCi50b2tlbi5mdW5jdGlvbiB7CiAgICBjb2xvcjogI2U2ZGI3NDsKfQoKLnRva2VuLmtleXdvcmQgewogICAgY29sb3I6ICM2NmQ5ZWY7Cn0KCi50b2tlbi5yZWdleCwKLnRva2VuLmltcG9ydGFudCB7CiAgICBjb2xvcjogI2ZkOTcxZjsKfQoKLnRva2VuLmltcG9ydGFudCwKLnRva2VuLmJvbGQgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnRva2VuLml0YWxpYyB7CiAgICBmb250LXN0eWxlOiBpdGFsaWM7Cn0KCi50b2tlbi5lbnRpdHkgewogICAgY3Vyc29yOiBoZWxwOwp9');
}


function resource_26ea431450ddec82e12665459ea890a0() {
    return base64_decode('Ly8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnMNCi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRQ0KDQooZnVuY3Rpb24obW9kKSB7DQogICAgaWYgKHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIpIC8vIENvbW1vbkpTDQogICAgICAgIG1vZChyZXF1aXJlKCIuLi8uLi9saWIvY29kZW1pcnJvciIpKTsNCiAgICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EDQogICAgICAgIGRlZmluZShbIi4uLy4uL2xpYi9jb2RlbWlycm9yIl0sIG1vZCk7DQogICAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudg0KICAgICAgICBtb2QoQ29kZU1pcnJvcik7DQp9KShmdW5jdGlvbihDb2RlTWlycm9yKSB7DQogICAgInVzZSBzdHJpY3QiOw0KDQogICAgdmFyIGxpc3RSRSA9IC9eKFxzKikoPls+IF0qfC0gXFtbeCBdXF1cc3xbKistXVxzfChcZCspKFsuKV0pKShccyopLywNCiAgICAgICAgZW1wdHlMaXN0UkUgPSAvXihccyopKD5bPiBdKnwtIFxbW3ggXVxdfFsqKy1dfChcZCspWy4pXSkoXHMqKSQvLA0KICAgICAgICB1bm9yZGVyZWRMaXN0UkUgPSAvWyorLV1ccy87DQoNCiAgICBDb2RlTWlycm9yLmNvbW1hbmRzLm5ld2xpbmVBbmRJbmRlbnRDb250aW51ZU1hcmtkb3duTGlzdCA9IGZ1bmN0aW9uKGNtKSB7DQogICAgICAgIGlmIChjbS5nZXRPcHRpb24oImRpc2FibGVJbnB1dCIpKSByZXR1cm4gQ29kZU1pcnJvci5QYXNzOw0KICAgICAgICB2YXIgcmFuZ2VzID0gY20ubGlzdFNlbGVjdGlvbnMoKSwgcmVwbGFjZW1lbnRzID0gW107DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgcG9zID0gcmFuZ2VzW2ldLmhlYWQ7DQogICAgICAgICAgICB2YXIgZW9sU3RhdGUgPSBjbS5nZXRTdGF0ZUFmdGVyKHBvcy5saW5lKTsNCiAgICAgICAgICAgIHZhciBpbkxpc3QgPSBlb2xTdGF0ZS5saXN0ICE9PSBmYWxzZTsNCiAgICAgICAgICAgIHZhciBpblF1b3RlID0gZW9sU3RhdGUucXVvdGUgIT09IDA7DQoNCiAgICAgICAgICAgIHZhciBsaW5lID0gY20uZ2V0TGluZShwb3MubGluZSksIG1hdGNoID0gbGlzdFJFLmV4ZWMobGluZSk7DQogICAgICAgICAgICBpZiAoIXJhbmdlc1tpXS5lbXB0eSgpIHx8ICghaW5MaXN0ICYmICFpblF1b3RlKSB8fCAhbWF0Y2gpIHsNCiAgICAgICAgICAgICAgICBjbS5leGVjQ29tbWFuZCgibmV3bGluZUFuZEluZGVudCIpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChlbXB0eUxpc3RSRS50ZXN0KGxpbmUpKSB7DQogICAgICAgICAgICAgICAgY20ucmVwbGFjZVJhbmdlKCIiLCB7DQogICAgICAgICAgICAgICAgICAgIGxpbmU6IHBvcy5saW5lLCBjaDogMA0KICAgICAgICAgICAgICAgIH0sIHsNCiAgICAgICAgICAgICAgICAgICAgbGluZTogcG9zLmxpbmUsIGNoOiBwb3MuY2ggKyAxDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnRzW2ldID0gIlxuIjsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdmFyIGluZGVudCA9IG1hdGNoWzFdLCBhZnRlciA9IG1hdGNoWzVdOw0KICAgICAgICAgICAgICAgIHZhciBidWxsZXQgPSB1bm9yZGVyZWRMaXN0UkUudGVzdChtYXRjaFsyXSkgfHwgbWF0Y2hbMl0uaW5kZXhPZigiPiIpID49IDANCiAgICAgICAgICAgICAgICAgICAgPyBtYXRjaFsyXS5yZXBsYWNlKCJ4IiwgIiAiKQ0KICAgICAgICAgICAgICAgICAgICA6IChwYXJzZUludChtYXRjaFszXSwgMTApICsgMSkgKyBtYXRjaFs0XTsNCg0KICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50c1tpXSA9ICJcbiIgKyBpbmRlbnQgKyBidWxsZXQgKyBhZnRlcjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGNtLnJlcGxhY2VTZWxlY3Rpb25zKHJlcGxhY2VtZW50cyk7DQogICAgfTsNCn0pOw==');
}


function resource_14d2f72548c683c8191c0bcc303e6f6d() {
    return base64_decode('LyohDQogKiB0b2MgLSBqUXVlcnkgVGFibGUgb2YgQ29udGVudHMgUGx1Z2luDQogKiB2MC4zLjINCiAqIGh0dHA6Ly9wcm9qZWN0cy5qZ2EubWUvdG9jLw0KICogY29weXJpZ2h0IEdyZWcgQWxsZW4gMjAxNA0KICogTUlUIExpY2Vuc2UNCiAqLw0KIWZ1bmN0aW9uKGEpe2EuZm4uc21vb3RoU2Nyb2xsZXI9ZnVuY3Rpb24oYil7Yj1hLmV4dGVuZCh7fSxhLmZuLnNtb290aFNjcm9sbGVyLmRlZmF1bHRzLGIpO3ZhciBjPWEodGhpcyk7cmV0dXJuIGEoYi5zY3JvbGxFbCkuYW5pbWF0ZSh7c2Nyb2xsVG9wOmMub2Zmc2V0KCkudG9wLWEoYi5zY3JvbGxFbCkub2Zmc2V0KCkudG9wLWIub2Zmc2V0fSxiLnNwZWVkLGIuZWFzZSxmdW5jdGlvbigpe3ZhciBhPWMuYXR0cigiaWQiKTthLmxlbmd0aCYmKGhpc3RvcnkucHVzaFN0YXRlP2hpc3RvcnkucHVzaFN0YXRlKG51bGwsbnVsbCwiIyIrYSk6ZG9jdW1lbnQubG9jYXRpb24uaGFzaD1hKSxjLnRyaWdnZXIoInNtb290aFNjcm9sbGVyQ29tcGxldGUiKX0pLHRoaXN9LGEuZm4uc21vb3RoU2Nyb2xsZXIuZGVmYXVsdHM9e3NwZWVkOjQwMCxlYXNlOiJzd2luZyIsc2Nyb2xsRWw6ImJvZHksaHRtbCIsb2Zmc2V0OjB9LGEoImJvZHkiKS5vbigiY2xpY2siLCJbZGF0YS1zbW9vdGhzY3JvbGxlcl0iLGZ1bmN0aW9uKGIpe2IucHJldmVudERlZmF1bHQoKTt2YXIgYz1hKHRoaXMpLmF0dHIoImhyZWYiKTswPT09Yy5pbmRleE9mKCIjIikmJmEoYykuc21vb3RoU2Nyb2xsZXIoKX0pfShqUXVlcnkpLGZ1bmN0aW9uKGEpe3ZhciBiPXt9O2EuZm4udG9jPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcyxlPWEuZXh0ZW5kKHt9LGpRdWVyeS5mbi50b2MuZGVmYXVsdHMsYiksZj1hKGUuY29udGFpbmVyKSxnPWEoZS5zZWxlY3RvcnMsZiksaD1bXSxpPWUuYWN0aXZlQ2xhc3Msaj1mdW5jdGlvbihiLGMpe2lmKGUuc21vb3RoU2Nyb2xsaW5nJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zbW9vdGhTY3JvbGxpbmcpe2IucHJldmVudERlZmF1bHQoKTt2YXIgZj1hKGIudGFyZ2V0KS5hdHRyKCJocmVmIik7ZS5zbW9vdGhTY3JvbGxpbmcoZixlLGMpfWEoImxpIixkKS5yZW1vdmVDbGFzcyhpKSxhKGIudGFyZ2V0KS5wYXJlbnQoKS5hZGRDbGFzcyhpKX0saz1mdW5jdGlvbigpe2MmJmNsZWFyVGltZW91dChjKSxjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IodmFyIGIsYz1hKHdpbmRvdykuc2Nyb2xsVG9wKCksZj1OdW1iZXIuTUFYX1ZBTFVFLGc9MCxqPTAsaz1oLmxlbmd0aDtrPmo7aisrKXt2YXIgbD1NYXRoLmFicyhoW2pdLWMpO2Y+bCYmKGc9aixmPWwpfWEoImxpIixkKS5yZW1vdmVDbGFzcyhpKSxiPWEoImxpOmVxKCIrZysiKSIsZCkuYWRkQ2xhc3MoaSksZS5vbkhpZ2hsaWdodChiKX0sNTApfTtyZXR1cm4gZS5oaWdobGlnaHRPblNjcm9sbCYmKGEod2luZG93KS5iaW5kKCJzY3JvbGwiLGspLGsoKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPWEoZS5saXN0VHlwZSk7Zy5lYWNoKGZ1bmN0aW9uKGQsZil7dmFyIGc9YShmKTtoLnB1c2goZy5vZmZzZXQoKS50b3AtZS5oaWdobGlnaHRPZmZzZXQpO3ZhciBpPWUuYW5jaG9yTmFtZShkLGYsZS5wcmVmaXgpO2lmKGYuaWQhPT1pKXthKCI8c3Bhbi8+IikuYXR0cigiaWQiLGkpLmluc2VydEJlZm9yZShnKX12YXIgbD1hKCI8YS8+IikudGV4dChlLmhlYWRlclRleHQoZCxmLGcpKS5hdHRyKCJocmVmIiwiIyIraSkuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGMpe2Eod2luZG93KS51bmJpbmQoInNjcm9sbCIsayksaihjLGZ1bmN0aW9uKCl7YSh3aW5kb3cpLmJpbmQoInNjcm9sbCIsayl9KSxiLnRyaWdnZXIoInNlbGVjdGVkIixhKHRoaXMpLmF0dHIoImhyZWYiKSl9KSxtPWEoIjxsaS8+IikuYWRkQ2xhc3MoZS5pdGVtQ2xhc3MoZCxmLGcsZS5wcmVmaXgpKS5hcHBlbmQobCk7Yy5hcHBlbmQobSl9KSxiLmh0bWwoYyl9KX0salF1ZXJ5LmZuLnRvYy5kZWZhdWx0cz17Y29udGFpbmVyOiJib2R5IixsaXN0VHlwZToiPHVsLz4iLHNlbGVjdG9yczoiaDEsaDIsaDMiLHNtb290aFNjcm9sbGluZzpmdW5jdGlvbihiLGMsZCl7YShiKS5zbW9vdGhTY3JvbGxlcih7b2Zmc2V0OmMuc2Nyb2xsVG9PZmZzZXR9KS5vbigic21vb3RoU2Nyb2xsZXJDb21wbGV0ZSIsZnVuY3Rpb24oKXtkKCl9KX0sc2Nyb2xsVG9PZmZzZXQ6MCxwcmVmaXg6InRvYyIsYWN0aXZlQ2xhc3M6InRvYy1hY3RpdmUiLG9uSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7fSxoaWdobGlnaHRPblNjcm9sbDohMCxoaWdobGlnaHRPZmZzZXQ6MTAwLGFuY2hvck5hbWU6ZnVuY3Rpb24oYyxkLGUpe2lmKGQuaWQubGVuZ3RoKXJldHVybiBkLmlkO3ZhciBmPWEoZCkudGV4dCgpLnJlcGxhY2UoL1teYS16MC05XS9naSwiICIpLnJlcGxhY2UoL1xzKy9nLCItIikudG9Mb3dlckNhc2UoKTtpZihiW2ZdKXtmb3IodmFyIGc9MjtiW2YrZ107KWcrKztmPWYrIi0iK2d9cmV0dXJuIGJbZl09ITAsZSsiLSIrZn0saGVhZGVyVGV4dDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMudGV4dCgpfSxpdGVtQ2xhc3M6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGQrIi0iK2NbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpfX19KGpRdWVyeSk7');
}


function resource_40ac8d6295fe2816f6b11a741a29a262() {
    return base64_decode('LyogaHR0cDovL3ByaXNtanMuY29tL2Rvd25sb2FkLmh0bWw/dGhlbWVzPXByaXNtJmxhbmd1YWdlcz1tYXJrdXArY3NzK2NsaWtlK2phdmFzY3JpcHQrYWJhcCthY3Rpb25zY3JpcHQrYWRhK2FwYWNoZWNvbmYrYXBsK2FwcGxlc2NyaXB0K2FzY2lpZG9jK2FzcG5ldCthdXRvaXQrYXV0b2hvdGtleStiYXNoK2Jhc2ljK2JhdGNoK2MrYnJhaW5mdWNrK2JybytiaXNvbitjc2hhcnArY3BwK2NvZmZlZXNjcmlwdCtydWJ5K2Nzcy1leHRyYXMrZCtkYXJ0K2RqYW5nbytkaWZmK2RvY2tlcitlaWZmZWwrZWxpeGlyK2VybGFuZytmc2hhcnArZm9ydHJhbitnaGVya2luK2dpdCtnbHNsK2dvK2dyYXBocWwrZ3Jvb3Z5K2hhbWwraGFuZGxlYmFycytoYXNrZWxsK2hheGUraHR0cCtpY29uK2luZm9ybTcraW5pK2oramFkZStqYXZhK2pvbGllK2pzb24ranVsaWEra2V5bWFuK2tvdGxpbitsYXRleCtsZXNzK2xpdmVzY3JpcHQrbG9sY29kZStsdWErbWFrZWZpbGUrbWFya2Rvd24rbWF0bGFiK21lbCttaXphcittb25rZXkrbmFzbStuZ2lueCtuaW0rbml4K25zaXMrb2JqZWN0aXZlYytvY2FtbCtveitwYXJpZ3ArcGFyc2VyK3Bhc2NhbCtwZXJsK3BocCtwaHAtZXh0cmFzK3Bvd2Vyc2hlbGwrcHJvY2Vzc2luZytwcm9sb2crcHJvcGVydGllcytwcm90b2J1ZitwdXBwZXQrcHVyZStweXRob24rcStxb3JlK3IranN4K3JlYXNvbityZXN0K3JpcCtyb2JvY29uZitjcnlzdGFsK3J1c3Qrc2FzK3Nhc3Mrc2NzcytzY2FsYStzY2hlbWUrc21hbGx0YWxrK3NtYXJ0eStzcWwrc3R5bHVzK3N3aWZ0K3RjbCt0ZXh0aWxlK3R3aWcrdHlwZXNjcmlwdCt2ZXJpbG9nK3ZoZGwrdmltK3dpa2kreG9qbyt5YW1sJnBsdWdpbnM9bGluZS1udW1iZXJzICovCnZhciBfc2VsZj0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlP3NlbGY6e30sUHJpc209ZnVuY3Rpb24oKXt2YXIgZT0vXGJsYW5nKD86dWFnZSk/LShcdyspXGIvaSx0PTAsbj1fc2VsZi5QcmlzbT17bWFudWFsOl9zZWxmLlByaXNtJiZfc2VsZi5QcmlzbS5tYW51YWwsdXRpbDp7ZW5jb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYT9uZXcgYShlLnR5cGUsbi51dGlsLmVuY29kZShlLmNvbnRlbnQpLGUuYWxpYXMpOiJBcnJheSI9PT1uLnV0aWwudHlwZShlKT9lLm1hcChuLnV0aWwuZW5jb2RlKTplLnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC9cdTAwYTAvZywiICIpfSx0eXBlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkubWF0Y2goL1xbb2JqZWN0IChcdyspXF0vKVsxXX0sb2JqSWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19pZHx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9faWQiLHt2YWx1ZTorK3R9KSxlLl9faWR9LGNsb25lOmZ1bmN0aW9uKGUpe3ZhciB0PW4udXRpbC50eXBlKGUpO3N3aXRjaCh0KXtjYXNlIk9iamVjdCI6dmFyIGE9e307Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKGFbcl09bi51dGlsLmNsb25lKGVbcl0pKTtyZXR1cm4gYTtjYXNlIkFycmF5IjpyZXR1cm4gZS5tYXAmJmUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuLnV0aWwuY2xvbmUoZSl9KX1yZXR1cm4gZX19LGxhbmd1YWdlczp7ZXh0ZW5kOmZ1bmN0aW9uKGUsdCl7dmFyIGE9bi51dGlsLmNsb25lKG4ubGFuZ3VhZ2VzW2VdKTtmb3IodmFyIHIgaW4gdClhW3JdPXRbcl07cmV0dXJuIGF9LGluc2VydEJlZm9yZTpmdW5jdGlvbihlLHQsYSxyKXtyPXJ8fG4ubGFuZ3VhZ2VzO3ZhciBsPXJbZV07aWYoMj09YXJndW1lbnRzLmxlbmd0aCl7YT1hcmd1bWVudHNbMV07Zm9yKHZhciBpIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShpKSYmKGxbaV09YVtpXSk7cmV0dXJuIGx9dmFyIG89e307Zm9yKHZhciBzIGluIGwpaWYobC5oYXNPd25Qcm9wZXJ0eShzKSl7aWYocz09dClmb3IodmFyIGkgaW4gYSlhLmhhc093blByb3BlcnR5KGkpJiYob1tpXT1hW2ldKTtvW3NdPWxbc119cmV0dXJuIG4ubGFuZ3VhZ2VzLkRGUyhuLmxhbmd1YWdlcyxmdW5jdGlvbih0LG4pe249PT1yW2VdJiZ0IT1lJiYodGhpc1t0XT1vKX0pLHJbZV09b30sREZTOmZ1bmN0aW9uKGUsdCxhLHIpe3I9cnx8e307Zm9yKHZhciBsIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShsKSYmKHQuY2FsbChlLGwsZVtsXSxhfHxsKSwiT2JqZWN0IiE9PW4udXRpbC50eXBlKGVbbF0pfHxyW24udXRpbC5vYmpJZChlW2xdKV0/IkFycmF5IiE9PW4udXRpbC50eXBlKGVbbF0pfHxyW24udXRpbC5vYmpJZChlW2xdKV18fChyW24udXRpbC5vYmpJZChlW2xdKV09ITAsbi5sYW5ndWFnZXMuREZTKGVbbF0sdCxsLHIpKToocltuLnV0aWwub2JqSWQoZVtsXSldPSEwLG4ubGFuZ3VhZ2VzLkRGUyhlW2xdLHQsbnVsbCxyKSkpfX0scGx1Z2luczp7fSxoaWdobGlnaHRBbGw6ZnVuY3Rpb24oZSx0KXt2YXIgYT17Y2FsbGJhY2s6dCxzZWxlY3RvcjonY29kZVtjbGFzcyo9Imxhbmd1YWdlLSJdLCBbY2xhc3MqPSJsYW5ndWFnZS0iXSBjb2RlLCBjb2RlW2NsYXNzKj0ibGFuZy0iXSwgW2NsYXNzKj0ibGFuZy0iXSBjb2RlJ307bi5ob29rcy5ydW4oImJlZm9yZS1oaWdobGlnaHRhbGwiLGEpO2Zvcih2YXIgcixsPWEuZWxlbWVudHN8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYS5zZWxlY3RvciksaT0wO3I9bFtpKytdOyluLmhpZ2hsaWdodEVsZW1lbnQocixlPT09ITAsYS5jYWxsYmFjayl9LGhpZ2hsaWdodEVsZW1lbnQ6ZnVuY3Rpb24odCxhLHIpe2Zvcih2YXIgbCxpLG89dDtvJiYhZS50ZXN0KG8uY2xhc3NOYW1lKTspbz1vLnBhcmVudE5vZGU7byYmKGw9KG8uY2xhc3NOYW1lLm1hdGNoKGUpfHxbLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxpPW4ubGFuZ3VhZ2VzW2xdKSx0LmNsYXNzTmFtZT10LmNsYXNzTmFtZS5yZXBsYWNlKGUsIiIpLnJlcGxhY2UoL1xzKy9nLCIgIikrIiBsYW5ndWFnZS0iK2wsbz10LnBhcmVudE5vZGUsL3ByZS9pLnRlc3Qoby5ub2RlTmFtZSkmJihvLmNsYXNzTmFtZT1vLmNsYXNzTmFtZS5yZXBsYWNlKGUsIiIpLnJlcGxhY2UoL1xzKy9nLCIgIikrIiBsYW5ndWFnZS0iK2wpO3ZhciBzPXQudGV4dENvbnRlbnQsdT17ZWxlbWVudDp0LGxhbmd1YWdlOmwsZ3JhbW1hcjppLGNvZGU6c307aWYobi5ob29rcy5ydW4oImJlZm9yZS1zYW5pdHktY2hlY2siLHUpLCF1LmNvZGV8fCF1LmdyYW1tYXIpcmV0dXJuIHUuY29kZSYmKHUuZWxlbWVudC50ZXh0Q29udGVudD11LmNvZGUpLG4uaG9va3MucnVuKCJjb21wbGV0ZSIsdSksdm9pZCAwO2lmKG4uaG9va3MucnVuKCJiZWZvcmUtaGlnaGxpZ2h0Iix1KSxhJiZfc2VsZi5Xb3JrZXIpe3ZhciBnPW5ldyBXb3JrZXIobi5maWxlbmFtZSk7Zy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dS5oaWdobGlnaHRlZENvZGU9ZS5kYXRhLG4uaG9va3MucnVuKCJiZWZvcmUtaW5zZXJ0Iix1KSx1LmVsZW1lbnQuaW5uZXJIVE1MPXUuaGlnaGxpZ2h0ZWRDb2RlLHImJnIuY2FsbCh1LmVsZW1lbnQpLG4uaG9va3MucnVuKCJhZnRlci1oaWdobGlnaHQiLHUpLG4uaG9va3MucnVuKCJjb21wbGV0ZSIsdSl9LGcucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2xhbmd1YWdlOnUubGFuZ3VhZ2UsY29kZTp1LmNvZGUsaW1tZWRpYXRlQ2xvc2U6ITB9KSl9ZWxzZSB1LmhpZ2hsaWdodGVkQ29kZT1uLmhpZ2hsaWdodCh1LmNvZGUsdS5ncmFtbWFyLHUubGFuZ3VhZ2UpLG4uaG9va3MucnVuKCJiZWZvcmUtaW5zZXJ0Iix1KSx1LmVsZW1lbnQuaW5uZXJIVE1MPXUuaGlnaGxpZ2h0ZWRDb2RlLHImJnIuY2FsbCh0KSxuLmhvb2tzLnJ1bigiYWZ0ZXItaGlnaGxpZ2h0Iix1KSxuLmhvb2tzLnJ1bigiY29tcGxldGUiLHUpfSxoaWdobGlnaHQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBsPW4udG9rZW5pemUoZSx0KTtyZXR1cm4gYS5zdHJpbmdpZnkobi51dGlsLmVuY29kZShsKSxyKX0sdG9rZW5pemU6ZnVuY3Rpb24oZSx0KXt2YXIgYT1uLlRva2VuLHI9W2VdLGw9dC5yZXN0O2lmKGwpe2Zvcih2YXIgaSBpbiBsKXRbaV09bFtpXTtkZWxldGUgdC5yZXN0fWU6Zm9yKHZhciBpIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShpKSYmdFtpXSl7dmFyIG89dFtpXTtvPSJBcnJheSI9PT1uLnV0aWwudHlwZShvKT9vOltvXTtmb3IodmFyIHM9MDtzPG8ubGVuZ3RoOysrcyl7dmFyIHU9b1tzXSxnPXUuaW5zaWRlLGM9ISF1Lmxvb2tiZWhpbmQsaD0hIXUuZ3JlZWR5LGY9MCxkPXUuYWxpYXM7aWYoaCYmIXUucGF0dGVybi5nbG9iYWwpe3ZhciBwPXUucGF0dGVybi50b1N0cmluZygpLm1hdGNoKC9baW11eV0qJC8pWzBdO3UucGF0dGVybj1SZWdFeHAodS5wYXR0ZXJuLnNvdXJjZSxwKyJnIil9dT11LnBhdHRlcm58fHU7Zm9yKHZhciBtPTAseT0wO208ci5sZW5ndGg7eSs9clttXS5sZW5ndGgsKyttKXt2YXIgdj1yW21dO2lmKHIubGVuZ3RoPmUubGVuZ3RoKWJyZWFrIGU7aWYoISh2IGluc3RhbmNlb2YgYSkpe3UubGFzdEluZGV4PTA7dmFyIGI9dS5leGVjKHYpLGs9MTtpZighYiYmaCYmbSE9ci5sZW5ndGgtMSl7aWYodS5sYXN0SW5kZXg9eSxiPXUuZXhlYyhlKSwhYilicmVhaztmb3IodmFyIHc9Yi5pbmRleCsoYz9iWzFdLmxlbmd0aDowKSxfPWIuaW5kZXgrYlswXS5sZW5ndGgsUD1tLEE9eSxqPXIubGVuZ3RoO2o+UCYmXz5BOysrUClBKz1yW1BdLmxlbmd0aCx3Pj1BJiYoKyttLHk9QSk7aWYoclttXWluc3RhbmNlb2YgYXx8cltQLTFdLmdyZWVkeSljb250aW51ZTtrPVAtbSx2PWUuc2xpY2UoeSxBKSxiLmluZGV4LT15fWlmKGIpe2MmJihmPWJbMV0ubGVuZ3RoKTt2YXIgdz1iLmluZGV4K2YsYj1iWzBdLnNsaWNlKGYpLF89dytiLmxlbmd0aCx4PXYuc2xpY2UoMCx3KSxPPXYuc2xpY2UoXyksUz1bbSxrXTt4JiZTLnB1c2goeCk7dmFyIE49bmV3IGEoaSxnP24udG9rZW5pemUoYixnKTpiLGQsYixoKTtTLnB1c2goTiksTyYmUy5wdXNoKE8pLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkocixTKX19fX19cmV0dXJuIHJ9LGhvb2tzOnthbGw6e30sYWRkOmZ1bmN0aW9uKGUsdCl7dmFyIGE9bi5ob29rcy5hbGw7YVtlXT1hW2VdfHxbXSxhW2VdLnB1c2godCl9LHJ1bjpmdW5jdGlvbihlLHQpe3ZhciBhPW4uaG9va3MuYWxsW2VdO2lmKGEmJmEubGVuZ3RoKWZvcih2YXIgcixsPTA7cj1hW2wrK107KXIodCl9fX0sYT1uLlRva2VuPWZ1bmN0aW9uKGUsdCxuLGEscil7dGhpcy50eXBlPWUsdGhpcy5jb250ZW50PXQsdGhpcy5hbGlhcz1uLHRoaXMubGVuZ3RoPTB8KGF8fCIiKS5sZW5ndGgsdGhpcy5ncmVlZHk9ISFyfTtpZihhLnN0cmluZ2lmeT1mdW5jdGlvbihlLHQscil7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBlO2lmKCJBcnJheSI9PT1uLnV0aWwudHlwZShlKSlyZXR1cm4gZS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGEuc3RyaW5naWZ5KG4sdCxlKX0pLmpvaW4oIiIpO3ZhciBsPXt0eXBlOmUudHlwZSxjb250ZW50OmEuc3RyaW5naWZ5KGUuY29udGVudCx0LHIpLHRhZzoic3BhbiIsY2xhc3NlczpbInRva2VuIixlLnR5cGVdLGF0dHJpYnV0ZXM6e30sbGFuZ3VhZ2U6dCxwYXJlbnQ6cn07aWYoImNvbW1lbnQiPT1sLnR5cGUmJihsLmF0dHJpYnV0ZXMuc3BlbGxjaGVjaz0idHJ1ZSIpLGUuYWxpYXMpe3ZhciBpPSJBcnJheSI9PT1uLnV0aWwudHlwZShlLmFsaWFzKT9lLmFsaWFzOltlLmFsaWFzXTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsLmNsYXNzZXMsaSl9bi5ob29rcy5ydW4oIndyYXAiLGwpO3ZhciBvPU9iamVjdC5rZXlzKGwuYXR0cmlidXRlcykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlKyc9IicrKGwuYXR0cmlidXRlc1tlXXx8IiIpLnJlcGxhY2UoLyIvZywiJnF1b3Q7IikrJyInfSkuam9pbigiICIpO3JldHVybiI8IitsLnRhZysnIGNsYXNzPSInK2wuY2xhc3Nlcy5qb2luKCIgIikrJyInKyhvPyIgIitvOiIiKSsiPiIrbC5jb250ZW50KyI8LyIrbC50YWcrIj4ifSwhX3NlbGYuZG9jdW1lbnQpcmV0dXJuIF9zZWxmLmFkZEV2ZW50TGlzdGVuZXI/KF9zZWxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0PUpTT04ucGFyc2UoZS5kYXRhKSxhPXQubGFuZ3VhZ2Uscj10LmNvZGUsbD10LmltbWVkaWF0ZUNsb3NlO19zZWxmLnBvc3RNZXNzYWdlKG4uaGlnaGxpZ2h0KHIsbi5sYW5ndWFnZXNbYV0sYSkpLGwmJl9zZWxmLmNsb3NlKCl9LCExKSxfc2VsZi5QcmlzbSk6X3NlbGYuUHJpc207dmFyIHI9ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8W10uc2xpY2UuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IikpLnBvcCgpO3JldHVybiByJiYobi5maWxlbmFtZT1yLnNyYywhZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcnx8bi5tYW51YWx8fHIuaGFzQXR0cmlidXRlKCJkYXRhLW1hbnVhbCIpfHwoImxvYWRpbmciIT09ZG9jdW1lbnQucmVhZHlTdGF0ZT93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobi5oaWdobGlnaHRBbGwpOndpbmRvdy5zZXRUaW1lb3V0KG4uaGlnaGxpZ2h0QWxsLDE2KTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixuLmhpZ2hsaWdodEFsbCkpKSxfc2VsZi5QcmlzbX0oKTsidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1QcmlzbSksInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJihnbG9iYWwuUHJpc209UHJpc20pOwpQcmlzbS5sYW5ndWFnZXMubWFya3VwPXtjb21tZW50Oi88IS0tW1x3XFddKj8tLT4vLHByb2xvZzovPFw/W1x3XFddKz9cPz4vLGRvY3R5cGU6LzwhRE9DVFlQRVtcd1xXXSs/Pi9pLGNkYXRhOi88IVxbQ0RBVEFcW1tcd1xXXSo/XV0+L2ksdGFnOntwYXR0ZXJuOi88XC8/KD8hXGQpW15ccz5cLz0kPF0rKD86XHMrW15ccz5cLz1dKyg/Oj0oPzooInwnKSg/OlxcXDF8XFw/KD8hXDEpW1x3XFddKSpcMXxbXlxzJyI+PV0rKSk/KSpccypcLz8+L2ksaW5zaWRlOnt0YWc6e3BhdHRlcm46L148XC8/W15ccz5cL10rL2ksaW5zaWRlOntwdW5jdHVhdGlvbjovXjxcLz8vLG5hbWVzcGFjZTovXlteXHM+XC86XSs6L319LCJhdHRyLXZhbHVlIjp7cGF0dGVybjovPSg/OignfCIpW1x3XFddKj8oXDEpfFteXHM+XSspL2ksaW5zaWRlOntwdW5jdHVhdGlvbjovWz0+IiddL319LHB1bmN0dWF0aW9uOi9cLz8+LywiYXR0ci1uYW1lIjp7cGF0dGVybjovW15ccz5cL10rLyxpbnNpZGU6e25hbWVzcGFjZTovXlteXHM+XC86XSs6L319fX0sZW50aXR5Oi8mIz9bXGRhLXpdezEsOH07L2l9LFByaXNtLmhvb2tzLmFkZCgid3JhcCIsZnVuY3Rpb24oYSl7ImVudGl0eSI9PT1hLnR5cGUmJihhLmF0dHJpYnV0ZXMudGl0bGU9YS5jb250ZW50LnJlcGxhY2UoLyZhbXA7LywiJiIpKX0pLFByaXNtLmxhbmd1YWdlcy54bWw9UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCxQcmlzbS5sYW5ndWFnZXMuaHRtbD1QcmlzbS5sYW5ndWFnZXMubWFya3VwLFByaXNtLmxhbmd1YWdlcy5tYXRobWw9UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCxQcmlzbS5sYW5ndWFnZXMuc3ZnPVByaXNtLmxhbmd1YWdlcy5tYXJrdXA7ClByaXNtLmxhbmd1YWdlcy5jc3M9e2NvbW1lbnQ6L1wvXCpbXHdcV10qP1wqXC8vLGF0cnVsZTp7cGF0dGVybjovQFtcdy1dKz8uKj8oO3woPz1ccypceykpL2ksaW5zaWRlOntydWxlOi9AW1x3LV0rL319LHVybDovdXJsXCgoPzooWyInXSkoXFwoPzpcclxufFtcd1xXXSl8KD8hXDEpW15cXFxyXG5dKSpcMXwuKj8pXCkvaSxzZWxlY3RvcjovW15ce1x9XHNdW15ce1x9O10qPyg/PVxzKlx7KS8sc3RyaW5nOntwYXR0ZXJuOi8oInwnKShcXCg/OlxyXG58W1x3XFddKXwoPyFcMSlbXlxcXHJcbl0pKlwxLyxncmVlZHk6ITB9LHByb3BlcnR5Oi8oXGJ8XEIpW1x3LV0rKD89XHMqOikvaSxpbXBvcnRhbnQ6L1xCIWltcG9ydGFudFxiL2ksImZ1bmN0aW9uIjovWy1hLXowLTldKyg/PVwoKS9pLHB1bmN0dWF0aW9uOi9bKCl7fTs6XS99LFByaXNtLmxhbmd1YWdlcy5jc3MuYXRydWxlLmluc2lkZS5yZXN0PVByaXNtLnV0aWwuY2xvbmUoUHJpc20ubGFuZ3VhZ2VzLmNzcyksUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCYmKFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoIm1hcmt1cCIsInRhZyIse3N0eWxlOntwYXR0ZXJuOi8oPHN0eWxlW1x3XFddKj8+KVtcd1xXXSo/KD89PFwvc3R5bGU+KS9pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5jc3MsYWxpYXM6Imxhbmd1YWdlLWNzcyJ9fSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiaW5zaWRlIiwiYXR0ci12YWx1ZSIseyJzdHlsZS1hdHRyIjp7cGF0dGVybjovXHMqc3R5bGU9KCJ8JykuKj9cMS9pLGluc2lkZTp7ImF0dHItbmFtZSI6e3BhdHRlcm46L15ccypzdHlsZS9pLGluc2lkZTpQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5pbnNpZGV9LHB1bmN0dWF0aW9uOi9eXHMqPVxzKlsnIl18WyciXVxzKiQvLCJhdHRyLXZhbHVlIjp7cGF0dGVybjovLisvaSxpbnNpZGU6UHJpc20ubGFuZ3VhZ2VzLmNzc319LGFsaWFzOiJsYW5ndWFnZS1jc3MifX0sUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcpKTsKUHJpc20ubGFuZ3VhZ2VzLmNsaWtlPXtjb21tZW50Olt7cGF0dGVybjovKF58W15cXF0pXC9cKltcd1xXXSo/XCpcLy8sbG9va2JlaGluZDohMH0se3BhdHRlcm46LyhefFteXFw6XSlcL1wvLiovLGxvb2tiZWhpbmQ6ITB9XSxzdHJpbmc6e3BhdHRlcm46LyhbIiddKShcXCg/OlxyXG58W1xzXFNdKXwoPyFcMSlbXlxcXHJcbl0pKlwxLyxncmVlZHk6ITB9LCJjbGFzcy1uYW1lIjp7cGF0dGVybjovKCg/OlxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3x0cmFpdHxpbnN0YW5jZW9mfG5ldylccyspfCg/OmNhdGNoXHMrXCgpKVthLXowLTlfXC5cXF0rL2ksbG9va2JlaGluZDohMCxpbnNpZGU6e3B1bmN0dWF0aW9uOi8oXC58XFwpL319LGtleXdvcmQ6L1xiKGlmfGVsc2V8d2hpbGV8ZG98Zm9yfHJldHVybnxpbnxpbnN0YW5jZW9mfGZ1bmN0aW9ufG5ld3x0cnl8dGhyb3d8Y2F0Y2h8ZmluYWxseXxudWxsfGJyZWFrfGNvbnRpbnVlKVxiLywiYm9vbGVhbiI6L1xiKHRydWV8ZmFsc2UpXGIvLCJmdW5jdGlvbiI6L1thLXowLTlfXSsoPz1cKCkvaSxudW1iZXI6L1xiLT8oPzoweFtcZGEtZl0rfFxkKlwuP1xkKyg/OmVbKy1dP1xkKyk/KVxiL2ksb3BlcmF0b3I6Ly0tP3xcK1wrP3whPT89P3w8PT98Pj0/fD09Pz0/fCYmP3xcfFx8P3xcP3xcKnxcL3x+fFxefCUvLHB1bmN0dWF0aW9uOi9be31bXF07KCksLjpdL307ClByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0PVByaXNtLmxhbmd1YWdlcy5leHRlbmQoImNsaWtlIix7a2V5d29yZDovXGIoYXN8YXN5bmN8YXdhaXR8YnJlYWt8Y2FzZXxjYXRjaHxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8ZmluYWxseXxmb3J8ZnJvbXxmdW5jdGlvbnxnZXR8aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW58aW5zdGFuY2VvZnxpbnRlcmZhY2V8bGV0fG5ld3xudWxsfG9mfHBhY2thZ2V8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHJldHVybnxzZXR8c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRyeXx0eXBlb2Z8dmFyfHZvaWR8d2hpbGV8d2l0aHx5aWVsZClcYi8sbnVtYmVyOi9cYi0/KDB4W1xkQS1GYS1mXSt8MGJbMDFdK3wwb1swLTddK3xcZCpcLj9cZCsoW0VlXVsrLV0/XGQrKT98TmFOfEluZmluaXR5KVxiLywiZnVuY3Rpb24iOi9bXyRhLXpBLVpceEEwLVx1RkZGRl1bXyRhLXpBLVowLTlceEEwLVx1RkZGRl0qKD89XCgpL2ksb3BlcmF0b3I6Ly0tP3xcK1wrP3whPT89P3w8PT98Pj0/fD09Pz0/fCYmP3xcfFx8P3xcP3xcKlwqP3xcL3x+fFxefCV8XC57M30vfSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiamF2YXNjcmlwdCIsImtleXdvcmQiLHtyZWdleDp7cGF0dGVybjovKF58W15cL10pXC8oPyFcLykoXFsuKz9dfFxcLnxbXlwvXFxcclxuXSkrXC9bZ2lteXVdezAsNX0oPz1ccyooJHxbXHJcbiwuO30pXSkpLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMH19KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJqYXZhc2NyaXB0Iiwic3RyaW5nIix7InRlbXBsYXRlLXN0cmluZyI6e3BhdHRlcm46L2AoPzpcXFxcfFxcP1teXFxdKSo/YC8sZ3JlZWR5OiEwLGluc2lkZTp7aW50ZXJwb2xhdGlvbjp7cGF0dGVybjovXCRce1tefV0rXH0vLGluc2lkZTp7ImludGVycG9sYXRpb24tcHVuY3R1YXRpb24iOntwYXR0ZXJuOi9eXCRce3xcfSQvLGFsaWFzOiJwdW5jdHVhdGlvbiJ9LHJlc3Q6UHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHR9fSxzdHJpbmc6L1tcc1xTXSsvfX19KSxQcmlzbS5sYW5ndWFnZXMubWFya3VwJiZQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJtYXJrdXAiLCJ0YWciLHtzY3JpcHQ6e3BhdHRlcm46Lyg8c2NyaXB0W1x3XFddKj8+KVtcd1xXXSo/KD89PFwvc2NyaXB0PikvaSxsb29rYmVoaW5kOiEwLGluc2lkZTpQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdCxhbGlhczoibGFuZ3VhZ2UtamF2YXNjcmlwdCJ9fSksUHJpc20ubGFuZ3VhZ2VzLmpzPVByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0OwpQcmlzbS5sYW5ndWFnZXMuYWJhcD17Y29tbWVudDovXlwqLiovbSxzdHJpbmc6LyhgfCcpKFxcPy4pKj9cMS9tLCJzdHJpbmctdGVtcGxhdGUiOntwYXR0ZXJuOi8oXHx8XH0pKFxcPy4pKj8oPz1cfHxceykvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InN0cmluZyJ9LCJlb2wtY29tbWVudCI6e3BhdHRlcm46LyhefFxzKSIuKi9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImNvbW1lbnQifSxrZXl3b3JkOntwYXR0ZXJuOi8oXHN8XC58XikoPzpTQ0lFTlRJRklDX1dJVEhfTEVBRElOR19aRVJPfFNDQUxFX1BSRVNFUlZJTkdfU0NJRU5USUZJQ3xSTUNfQ09NTVVOSUNBVElPTl9GQUlMVVJFfEVORC1FTkhBTkNFTUVOVC1TRUNUSU9OfE1VTFRJUExZLUNPUlJFU1BPTkRJTkd8U1VCVFJBQ1QtQ09SUkVTUE9ORElOR3xWRVJJRklDQVRJT04tTUVTU0FHRXxESVZJREUtQ09SUkVTUE9ORElOR3xFTkhBTkNFTUVOVC1TRUNUSU9OfENVUlJFTkNZX0NPTlZFUlNJT058Uk1DX1NZU1RFTV9GQUlMVVJFfFNUQVJULU9GLVNFTEVDVElPTnxNT1ZFLUNPUlJFU1BPTkRJTkd8Uk1DX0lOVkFMSURfU1RBVFVTfENVU1RPTUVSLUZVTkNUSU9OfEVORC1PRi1ERUZJTklUSU9OfEVOSEFOQ0VNRU5ULVBPSU5UfFNZU1RFTS1FWENFUFRJT05TfEFERC1DT1JSRVNQT05ESU5HfFNDQUxFX1BSRVNFUlZJTkd8U0VMRUNUSU9OLVNDUkVFTnxDVVJTT1ItU0VMRUNUSU9OfEVORC1PRi1TRUxFQ1RJT058TE9BRC1PRi1QUk9HUkFNfFNDUk9MTC1CT1VOREFSWXxTRUxFQ1RJT04tVEFCTEV8RVhDRVBUSU9OLVRBQkxFfElNUExFTUVOVEFUSU9OU3xQQVJBTUVURVItVEFCTEV8UklHSFQtSlVTVElGSUVEfFVOSVRfQ09OVkVSU0lPTnxBVVRIT1JJVFktQ0hFQ0t8TElTVC1QUk9DRVNTSU5HfFNJR05fQVNfUE9TVEZJWHxDT0xfQkFDS0dST1VORHxJTVBMRU1FTlRBVElPTnxJTlRFUkZBQ0UtUE9PTHxUUkFOU0ZPUk1BVElPTnxJREVOVElGSUNBVElPTnxFTkRFTkhBTkNFTUVOVHxMSU5FLVNFTEVDVElPTnxJTklUSUFMSVpBVElPTnxMRUZULUpVU1RJRklFRHxTRUxFQ1QtT1BUSU9OU3xTRUxFQ1RJT04tU0VUU3xDT01NVU5JQ0FUSU9OfENPUlJFU1BPTkRJTkd8REVDSU1BTF9TSElGVHxQUklOVC1DT05UUk9MfFZBTFVFLVJFUVVFU1R8Q0hBSU4tUkVRVUVTVHxGVU5DVElPTi1QT09MfEZJRUxELVNZTUJPTFN8RlVOQ1RJT05BTElUWXxJTlZFUlRFRC1EQVRFfFNFTEVDVElPTi1TRVR8Q0xBU1MtTUVUSE9EU3xPVVRQVVQtTEVOR1RIfENMQVNTLUNPRElOR3xDT0xfTkVHQVRJVkV8RVJST1JNRVNTQUdFfEZJRUxELUdST1VQU3xIRUxQLVJFUVVFU1R8Tk8tRVhURU5TSU9OfE5PLVRPUE9GUEFHRXxSRURFRklOSVRJT058RElTUExBWS1NT0RFfEVORElOVEVSRkFDRXxFWElULUNPTU1BTkR8RklFTEQtU1lNQk9MfE5PLVNDUk9MTElOR3xTSE9SVERVTVAtSUR8QUNDRVNTUE9MSUNZfENMQVNTLUVWRU5UU3xDT0xfUE9TSVRJVkV8REVDTEFSQVRJT05TfEVOSEFOQ0VNRU5UU3xGSUxURVItVEFCTEV8U1dJVENIU1RBVEVTfFNZTlRBWC1DSEVDS3xUUkFOU1BPUlRJTkd8QVNZTkNIUk9OT1VTfFNZTlRBWC1UUkFDRXxUT0tFTklaQVRJT058VVNFUi1DT01NQU5EfFdJVEgtSEVBRElOR3xBQkFQLVNPVVJDRXxCUkVBSy1QT0lOVHxDSEFJTi1JTlBVVHxDT01QUkVTU0lPTnxGSVhFRC1QT0lOVHxORVctU0VDVElPTnxOT04tVU5JQ09ERXxPQ0NVUlJFTkNFU3xSRVNQT05TSUJMRXxTWVNURU0tQ0FMTHxUUkFDRS1UQUJMRXxBQkJSRVZJQVRFRHxDSEFSLVRPLUhFWHxFTkQtT0YtRklMRXxFTkRGVU5DVElPTnxFTlZJUk9OTUVOVHxBU1NPQ0lBVElPTnxDT0xfSEVBRElOR3xFRElUT1ItQ0FMTHxFTkQtT0YtUEFHRXxFTkdJTkVFUklOR3xJTVBMRU1FTlRFRHxJTlRFTlNJRklFRHxSQURJT0JVVFRPTnxTWVNURU0tRVhJVHxUT1AtT0YtUEFHRXxUUkFOU0FDVElPTnxBUFBMSUNBVElPTnxDT05DQVRFTkFURXxERVNUSU5BVElPTnxFTkhBTkNFTUVOVHxJTU1FRElBVEVMWXxOTy1HUk9VUElOR3xQUkVDT01QSUxFRHxSRVBMQUNFTUVOVHxUSVRMRS1MSU5FU3xBQ1RJVkFUSU9OfEJZVEUtT1JERVJ8Q0xBU1MtUE9PTHxDT05ORUNUSU9OfENPTlZFUlNJT058REVGSU5JVElPTnxERVBBUlRNRU5UfEVYUElSQVRJT058SU5IRVJJVElOR3xNRVNTQUdFLUlEfE5PLUhFQURJTkd8UEVSRk9STUlOR3xRVUVVRS1PTkxZfFJJR0hUU1BBQ0V8U0NJRU5USUZJQ3xTVEFUVVNJTkZPfFNUUlVDVFVSRVN8U1lOQ1BPSU5UU3xXSVRILVRJVExFfEFUVFJJQlVURVN8Qk9VTkRBUklFU3xDTEFTUy1EQVRBfENPTF9OT1JNQUx8RERcL01NXC9ZWVlZfERFU0NFTkRJTkd8SU5URVJGQUNFU3xMSU5FLUNPVU5UfE1NXC9ERFwvWVlZWXxOT04tVU5JUVVFfFBSRVNFUlZJTkd8U0VMRUNUSU9OU3xTVEFURU1FTlRTfFNVQlJPVVRJTkV8VFJVTkNBVElPTnxUWVBFLVBPT0xTfEFSSVRITUVUSUN8QkFDS0dST1VORHxFTkRQUk9WSURFfEVYQ0VQVElPTlN8SURFTlRJRklFUnxJTkRFWC1MSU5FfE9CTElHQVRPUll8UEFSQU1FVEVSU3xQRVJDRU5UQUdFfFBVU0hCVVRUT058UkVTT0xVVElPTnxDT01QT05FTlRTfERFQUxMT0NBVEV8RElTQ09OTkVDVHxEVVBMSUNBVEVTfEZJUlNULUxJTkV8SEVBRC1MSU5FU3xOTy1ESVNQTEFZfE9DQ1VSUkVOQ0V8UkVTUEVDVElOR3xSRVRVUk5DT0RFfFNVQk1BVENIRVN8VFJBQ0UtRklMRXxBU0NFTkRJTkd8QllQQVNTSU5HfEVORE1PRFVMRXxFWENFUFRJT058RVhDTFVESU5HfEVYUE9SVElOR3xJTkNSRU1FTlR8TUFUQ0hDT0RFfFBBUkFNRVRFUnxQQVJUSUFMTFl8UFJFRkVSUkVEfFJFRkVSRU5DRXxSRVBMQUNJTkd8UkVUVVJOSU5HfFNFTEVDVElPTnxTRVBBUkFURUR8U1BFQ0lGSUVEfFNUQVRFTUVOVHxUSU1FU1RBTVB8VFlQRS1QT09MfEFDQ0VQVElOR3xBUFBFTkRBR0V8QVNTSUdOSU5HfENPTF9HUk9VUHxDT01QQVJJTkd8Q09OU1RBTlRTfERBTkdFUk9VU3xJTVBPUlRJTkd8SU5TVEFOQ0VTfExFRlRTUEFDRXxMT0ctUE9JTlR8UVVJQ0tJTkZPfFJFQUQtT05MWXxTQ1JPTExJTkd8U1FMU0NSSVBUfFNURVAtTE9PUHxUT1AtTElORVN8VFJBTlNMQVRFfEFQUEVORElOR3xBVVRIT1JJVFl8Q0hBUkFDVEVSfENPTVBPTkVOVHxDT05ESVRJT058RElSRUNUT1JZfERVUExJQ0FURXxNRVNTQUdJTkd8UkVDRUlWSU5HfFNVQlNDUkVFTnxBQ0NPUkRJTkd8Q09MX1RPVEFMfEVORC1MSU5FU3xFTkRNRVRIT0R8RU5EU0VMRUNUfEVYUEFORElOR3xFWFRFTlNJT058SU5DTFVESU5HfElORk9UWVBFU3xJTlRFUkZBQ0V8SU5URVJWQUxTfExJTkUtU0laRXxQRi1TVEFUVVN8UFJPQ0VEVVJFfFBST1RFQ1RFRHxSRVFVRVNURUR8UkVTVU1BQkxFfFJJR0hUUExVU3xTQVAtU1BPT0x8U0VDT05EQVJZfFNUUlVDVFVSRXxTVUJTVFJJTkd8VEFCTEVWSUVXfE5VTU9GQ0hBUnxBREpBQ0VOVHxBTkFMWVNJU3xBU1NJR05FRHxCQUNLV0FSRHxDSEFOTkVMU3xDSEVDS0JPWHxDT05USU5VRXxDUklUSUNBTHxEQVRBSU5GT3xERFwvTU1cL1lZfERVUkFUSU9OfEVOQ09ESU5HfEVORENMQVNTfEZVTkNUSU9OfExFRlRQTFVTfExJTkVGRUVEfE1NXC9ERFwvWVl8T1ZFUkZMT1d8UkVDRUlWRUR8U0tJUFBJTkd8U09SVEFCTEV8U1RBTkRBUkR8U1VCVFJBQ1R8U1VQUFJFU1N8VEFCU1RSSVB8VElUTEVCQVJ8VFJVTkNBVEV8VU5BU1NJR058V0hFTkVWRVJ8QU5BTFlaRVJ8Q09BTEVTQ0V8Q09NTUVOVFN8Q09OREVOU0V8REVDSU1BTFN8REVGRVJSRUR8RU5EV0hJTEV8RVhQTElDSVR8S0VZV09SRFN8TUVTU0FHRVN8UE9TSVRJT058UFJJT1JJVFl8UkVDRUlWRVJ8UkVOQU1JTkd8VElNRVpPTkV8VFJBSUxJTkd8QUxMT0NBVEV8Q0VOVEVSRUR8Q0lSQ1VMQVJ8Q09OVFJPTFN8Q1VSUkVOQ1l8REVMRVRJTkd8REVTQ1JJQkV8RElTVEFOQ0V8RU5EQ0FUQ0h8RVhQT05FTlR8RVhURU5ERUR8R0VORVJBVEV8SUdOT1JJTkd8SU5DTFVERVN8SU5URVJOQUx8TUFKT1ItSUR8TU9ESUZJRVJ8TkVXLUxJTkV8T1BUSU9OQUx8UFJPUEVSVFl8Uk9MTEJBQ0t8U1RBUlRJTkd8U1VQUExJRUR8QUJTVFJBQ1R8Q0hBTkdJTkd8Q09OVEVYVFN8Q1JFQVRJTkd8Q1VTVE9NRVJ8REFUQUJBU0V8REFZTElHSFR8REVGSU5JTkd8RElTVElOQ1R8RElWSVNJT058RU5BQkxJTkd8RU5EQ0hBSU58RVNDQVBJTkd8SEFSTUxFU1N8SU1QTElDSVR8SU5BQ1RJVkV8TEFOR1VBR0V8TUlOT1ItSUR8TVVMVElQTFl8TkVXLVBBR0V8Tk8tVElUTEV8UE9TX0hJR0h8U0VQQVJBVEV8VEVYVFBPT0x8VFJBTlNGRVJ8U0VMRUNUT1J8REJNQVhMRU58SVRFUkFUT1J8U0VMRUNUT1J8QVJDSElWRXxCSVQtWE9SfEJZVEUtQ098Q09MTEVDVHxDT01NRU5UfENVUlJFTlR8REVGQVVMVHxESVNQTEFZfEVOREZPUk18RVhUUkFDVHxMRUFESU5HfExJU1RCT1h8TE9DQVRPUnxNRU1CRVJTfE1FVEhPRFN8TkVTVElOR3xQT1NfTE9XfFBST0NFU1N8UFJPVklERXxSQUlTSU5HfFJFU0VSVkV8U0VDT05EU3xTVU1NQVJZfFZJU0lCTEV8QkVUV0VFTnxCSVQtQU5EfEJZVEUtQ1N8Q0xFQU5VUHxDT01QVVRFfENPTlRST0x8Q09OVkVSVHxEQVRBU0VUfEVORENBU0V8Rk9SV0FSRHxIRUFERVJTfEhPVFNQT1R8SU5DTFVERXxJTlZFUlNFfEtFRVBJTkd8Tk8tWkVST3xPQkpFQ1RTfE9WRVJMQVl8UEFERElOR3xQQVRURVJOfFBST0dSQU18UkVGUkVTSHxTRUNUSU9OfFNVTU1JTkd8VEVTVElOR3xWRVJTSU9OfFdJTkRPV1N8V0lUSE9VVHxCSVQtTk9UfEJZVEUtQ0F8QllURS1OQXxDQVNUSU5HfENPTlRFWFR8Q09VTlRSWXxEWU5BTUlDfEVOQUJMRUR8RU5ETE9PUHxFWEVDVVRFfEZSSUVORFN8SEFORExFUnxIRUFESU5HfElOSVRJQUx8XCotSU5QVVR8TE9HRklMRXxNQVhJTVVNfE1JTklNVU18Tk8tR0FQU3xOTy1TSUdOfFBSQUdNQVN8UFJJTUFSWXxQUklWQVRFfFJFRFVDRUR8UkVQTEFDRXxSRVFVRVNUfFJFU1VMVFN8VU5JQ09ERXxXQVJOSU5HfEFMSUFTRVN8QllURS1DTnxCWVRFLU5TfENBTExJTkd8Q09MX0tFWXxDT0xVTU5TfENPTk5FQ1R8RU5ERVhFQ3xFTlRSSUVTfEVYQ0xVREV8RklMVEVSU3xGVVJUSEVSfEhFTFAtSUR8TE9HSUNBTHxNQVBQSU5HfE1FU1NBR0V8TkFNRVRBQnxPUFRJT05TfFBBQ0tBR0V8UEVSRk9STXxSRUNFSVZFfFNUQVRJQ1N8VkFSWUlOR3xCSU5ESU5HfENIQVJMRU58R1JFQVRFUnxYU1RSTEVOfEFDQ0VQVHxBUFBFTkR8REVUQUlMfEVMU0VJRnxFTkRJTkd8RU5EVFJZfEZPUk1BVHxGUkFNRVN8R0lWSU5HfEhBU0hFRHxIRUFERVJ8SU1QT1JUfElOU0VSVHxNQVJHSU58TU9EVUxFfE5BVElWRXxPQkpFQ1R8T0ZGU0VUfFJFTU9URXxSRVNVTUV8U0FWSU5HfFNJTVBMRXxTVUJNSVR8VEFCQkVEfFRPS0VOU3xVTklRVUV8VU5QQUNLfFVQREFURXxXSU5ET1d8WUVMTE9XfEFDVFVBTHxBU1BFQ1R8Q0VOVEVSfENVUlNPUnxERUxFVEV8RElBTE9HfERJVklERXxEVVJJTkd8RVJST1JTfEVWRU5UU3xFWFRFTkR8RklMVEVSfEhBTkRMRXxIQVZJTkd8SUdOT1JFfExJVFRMRXxNRU1PUll8Tk8tR0FQfE9DQ1VSU3xPUFRJT058UEVSU09OfFBMQUNFU3xQVUJMSUN8UkVEVUNFfFJFUE9SVHxSRVNVTFR8U0lOR0xFfFNPUlRFRHxTV0lUQ0h8U1lOVEFYfFRBUkdFVHxWQUxVRVN8V1JJVEVSfEFTU0VSVHxCTE9DS1N8Qk9VTkRTfEJVRkZFUnxDSEFOR0V8Q09MVU1OfENPTU1JVHxDT05DQVR8Q09QSUVTfENSRUFURXxERE1NWVl8REVGSU5FfEVORElBTnxFU0NBUEV8RVhQQU5EfEtFUk5FTHxMQVlPVVR8TEVHQUNZfExFVkVMU3xNTUREWVl8TlVNQkVSfE9VVFBVVHxSQU5HRVN8UkVBREVSfFJFVFVSTnxTQ1JFRU58U0VBUkNIfFNFTEVDVHxTSEFSRUR8U09VUkNFfFNUQUJMRXxTVEFUSUN8U1VCS0VZfFNVRkZJWHxUQUJMRVN8VU5XSU5EfFlZTU1ERHxBU1NJR058QkFDS1VQfEJFRk9SRXxCSU5BUll8QklULU9SfEJMQU5LU3xDTElFTlR8Q09ESU5HfENPTU1PTnxERU1BTkR8RFlOUFJPfEVYQ0VQVHxFWElTVFN8RVhQT1JUfEZJRUxEU3xHTE9CQUx8R1JPVVBTfExFTkdUSHxMT0NBTEV8TUVESVVNfE1FVEhPRHxNT0RJRll8TkVTVEVEfE9USEVSU3xSRUpFQ1R8U0NST0xMfFNVUFBMWXxTWU1CT0x8RU5ERk9SfFNUUkxFTnxBTElHTnxCRUdJTnxCT1VORHxFTkRBVHxFTlRSWXxFVkVOVHxGSU5BTHxGTFVTSHxHUkFOVHxJTk5FUnxTSE9SVHxVU0lOR3xXUklURXxBRlRFUnxCTEFDS3xCTE9DS3xDTE9DS3xDT0xPUnxDT1VOVHxEVU1NWXxFTVBUWXxFTkRET3xFTkRPTnxHUkVFTnxJTkRFWHxJTk9VVHxMRUFWRXxMRVZFTHxMSU5FU3xNT0RJRnxPUkRFUnxPVVRFUnxSQU5HRXxSRVNFVHxSRVRSWXxSSUdIVHxTTUFSVHxTUExJVHxTVFlMRXxUQUJMRXxUSFJPV3xVTkRFUnxVTlRJTHxVUFBFUnxVVEYtOHxXSEVSRXxBTElBU3xCTEFOS3xDTEVBUnxDTE9TRXxFWEFDVHxGRVRDSHxGSVJTVHxGT1VORHxHUk9VUHxMTEFOR3xMT0NBTHxPVEhFUnxSRUdFWHxTUE9PTHxUSVRMRXxUWVBFU3xWQUxJRHxXSElMRXxBTFBIQXxCT1hFRHxDQVRDSHxDSEFJTnxDSEVDS3xDTEFTU3xDT1ZFUnxFTkRJRnxFUVVJVnxGSUVMRHxGTE9PUnxGUkFNRXxJTlBVVHxMT1dFUnxNQVRDSHxOT0RFU3xQQUdFU3xQUklOVHxSQUlTRXxST1VORHxTSElGVHxTUEFDRXxTUE9UU3xTVEFNUHxTVEFURXxUQVNLU3xUSU1FU3xUUk1BQ3xVTElORXxVTklPTnxWQUxVRXxXSURUSHxFUVVBTHxMT0cxMHxUUlVOQ3xCTE9CfENBU0V8Q0VJTHxDTE9CfENPTkR8RVhJVHxGSUxFfEdBUFN8SE9MRHxJTkNMfElOVE98S0VFUHxLRVlTfExBU1R8TElORXxMT05HfExQQUR8TUFJTHxNT0RFfE9QRU58UElOS3xSRUFEfFJPV1N8VEVTVHxUSEVOfFpFUk98QVJFQXxCQUNLfEJBREl8QllURXxDQVNUfEVESVR8RVhFQ3xGQUlMfEZJTkR8RktFUXxGT05UfEZSRUV8R0tFUXxISURFfElOSVR8SVROT3xMQVRFfExPT1B8TUFJTnxNQVJLfE1PVkV8TkVYVHxOVUxMfFJJU0t8Uk9MRXxVTklUfFdBSVR8Wk9ORXxCQVNFfENBTEx8Q09ERXxEQVRBfERBVEV8RktHRXxHS0dFfEhJR0h8S0lORHxMRUZUfExJU1R8TUFTS3xNRVNIfE5BTUV8Tk9ERXxQQUNLfFBBR0V8UE9PTHxTRU5EfFNJR058U0laRXxTT01FfFNUT1B8VEFTS3xURVhUfFRJTUV8VVNFUnxWQVJZfFdJVEh8V09SRHxCTFVFfENPTlZ8Q09QWXxERUVQfEVMU0V8Rk9STXxGUk9NfEhJTlR8SUNPTnxKT0lOfExJS0V8TE9BRHxPTkxZfFBBUlR8U0NBTnxTS0lQfFNPUlR8VFlQRXxVTklYfFZJRVd8V0hFTnxXT1JLfEFDT1N8QVNJTnxBVEFOfENPU0h8RUFDSHxGUkFDfExFU1N8UlRUSXxTSU5IfFNRUlR8VEFOSHxBVkd8QklUfERJVnxJU098TEVUfE9VVHxQQUR8U1FMfEFMTHxDSV98Q1BJfEVORHxMT0J8TFBJfE1BWHxNSU58TkVXfE9MRXxSVU58U0VUfFw/VE98WUVTfEFCU3xBRER8QU5EfEJJR3xGT1J8SERCfEpPQnxMT1d8Tk9UfFNBUHxUUll8VklBfFhNTHxBTll8R0VUfElEU3xLRVl8TU9EfE9GRnxQVVR8UkFXfFJFRHxSRUZ8U1VNfFRBQnxYU0R8Q05UfENPU3xFWFB8TE9HfFNJTnxUQU58WE9SfEFUfENPfENQfERPfEdUfElEfElGfE5TfE9SfEJUfENBfENTfEdFfE5BfE5CfEVRfElOfExUfE5FfE5PfE9GfE9OfFBGfFRPfEFTfEJZfENOfElTfExFfE5QfFVQfEV8SXxNfE98WnxDfFgpXGIvaSxsb29rYmVoaW5kOiEwfSxudW1iZXI6L1xiXGQrXGIvLG9wZXJhdG9yOntwYXR0ZXJuOi8oXHMpKD86XCpcKj98PFs9Pl0/fD49P3xcPz18Wy0rXC89XSkoPz1ccykvLGxvb2tiZWhpbmQ6ITB9LCJzdHJpbmctb3BlcmF0b3IiOntwYXR0ZXJuOi8oXHMpJiY/KD89XHMpLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJrZXl3b3JkIn0sInRva2VuLW9wZXJhdG9yIjpbe3BhdHRlcm46LyhcdykoPzotPj98PT58W358e31dKSg/PVx3KS8sbG9va2JlaGluZDohMCxhbGlhczoicHVuY3R1YXRpb24ifSx7cGF0dGVybjovW3x7fV0vLGFsaWFzOiJwdW5jdHVhdGlvbiJ9XSxwdW5jdHVhdGlvbjovWywuOigpXS99OwpQcmlzbS5sYW5ndWFnZXMuYWN0aW9uc2NyaXB0PVByaXNtLmxhbmd1YWdlcy5leHRlbmQoImphdmFzY3JpcHQiLHtrZXl3b3JkOi9cYig/OmFzfGJyZWFrfGNhc2V8Y2F0Y2h8Y2xhc3N8Y29uc3R8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxleHRlbmRzfGZpbmFsbHl8Zm9yfGZ1bmN0aW9ufGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGludGVybmFsfGlzfG5hdGl2ZXxuZXd8bnVsbHxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c3VwZXJ8c3dpdGNofHRoaXN8dGhyb3d8dHJ5fHR5cGVvZnx1c2V8dmFyfHZvaWR8d2hpbGV8d2l0aHxkeW5hbWljfGVhY2h8ZmluYWx8Z2V0fGluY2x1ZGV8bmFtZXNwYWNlfG5hdGl2ZXxvdmVycmlkZXxzZXR8c3RhdGljKVxiLyxvcGVyYXRvcjovXCtcK3wtLXwoPzpbK1wtKlwvJV5dfCYmP3xcfFx8P3w8PD98Pj4/Pj98WyE9XT0/KT0/fFt+P0BdL30pLFByaXNtLmxhbmd1YWdlcy5hY3Rpb25zY3JpcHRbImNsYXNzLW5hbWUiXS5hbGlhcz0iZnVuY3Rpb24iLFByaXNtLmxhbmd1YWdlcy5tYXJrdXAmJlByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImFjdGlvbnNjcmlwdCIsInN0cmluZyIse3htbDp7cGF0dGVybjovKF58W14uXSk8XC8/XHcrKD86XHMrW15ccz5cLz1dKz0oInwnKSg/OlxcXDF8XFw/KD8hXDEpW1x3XFddKSpcMikqXHMqXC8/Pi8sbG9va2JlaGluZDohMCxpbnNpZGU6e3Jlc3Q6UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cH19fSk7ClByaXNtLmxhbmd1YWdlcy5hZGE9e2NvbW1lbnQ6Ly0tLiovLHN0cmluZzovIig/OiIifFteIlxyXGZcbl0pKiIvaSxudW1iZXI6W3twYXR0ZXJuOi9cYlswLTldKD86Xz9bMC05XSkqI1swLTlBLUZdKD86Xz9bMC05QS1GXSkqKD86XC5bMC05QS1GXSg/Ol8/WzAtOUEtRl0pKik/Iyg/OkVbKy1dP1swLTldKD86Xz9bMC05XSkqKT8vaX0se3BhdHRlcm46L1xiWzAtOV0oPzpfP1swLTldKSooPzpcLlswLTldKD86Xz9bMC05XSkqKT8oPzpFWystXT9bMC05XSg/Ol8/WzAtOV0pKik/XGIvaX1dLCJhdHRyLW5hbWUiOi9cYidcdysvaSxrZXl3b3JkOi9cYig/OmFib3J0fGFic3xhYnN0cmFjdHxhY2NlcHR8YWNjZXNzfGFsaWFzZWR8YWxsfGFuZHxhcnJheXxhdHxiZWdpbnxib2R5fGNhc2V8Y29uc3RhbnR8ZGVjbGFyZXxkZWxheXxkZWx0YXxkaWdpdHN8ZG98ZWxzZXxuZXd8cmV0dXJufGVsc2lmfGVuZHxlbnRyeXxleGNlcHRpb258ZXhpdHxmb3J8ZnVuY3Rpb258Z2VuZXJpY3xnb3RvfGlmfGlufGludGVyZmFjZXxpc3xsaW1pdGVkfGxvb3B8bW9kfG5vdHxudWxsfG9mfG90aGVyc3xvdXR8b3ZlcnJpZGluZ3xwYWNrYWdlfHByYWdtYXxwcml2YXRlfHByb2NlZHVyZXxwcm90ZWN0ZWR8cmFpc2V8cmFuZ2V8cmVjb3JkfHJlbXxyZW5hbWVzfHJlcXVldWV8cmV2ZXJzZXxzZWxlY3R8c2VwYXJhdGV8c29tZXxzdWJ0eXBlfHN5bmNocm9uaXplZHx0YWdnZWR8dGFza3x0ZXJtaW5hdGV8dGhlbnx0eXBlfHVudGlsfHVzZXx3aGVufHdoaWxlfHdpdGh8eG9yKVxiL2ksImJvb2xlYW4iOi9cYig/OnRydWV8ZmFsc2UpXGIvaSxvcGVyYXRvcjovPFs9Pl0/fD49P3w9Pj98Oj18XC89P3xcKlwqP3xbJistXS8scHVuY3R1YXRpb246L1wuXC4/fFssOygpOl0vLCJjaGFyIjovJy4nLyx2YXJpYWJsZTovXGJbYS16XSg/OltfYS16XGRdKSpcYi9pfTsKUHJpc20ubGFuZ3VhZ2VzLmFwYWNoZWNvbmY9e2NvbW1lbnQ6LyMuKi8sImRpcmVjdGl2ZS1pbmxpbmUiOntwYXR0ZXJuOi9eKFxzKilcYihBY2NlcHRGaWx0ZXJ8QWNjZXB0UGF0aEluZm98QWNjZXNzRmlsZU5hbWV8QWN0aW9ufEFkZEFsdHxBZGRBbHRCeUVuY29kaW5nfEFkZEFsdEJ5VHlwZXxBZGRDaGFyc2V0fEFkZERlZmF1bHRDaGFyc2V0fEFkZERlc2NyaXB0aW9ufEFkZEVuY29kaW5nfEFkZEhhbmRsZXJ8QWRkSWNvbnxBZGRJY29uQnlFbmNvZGluZ3xBZGRJY29uQnlUeXBlfEFkZElucHV0RmlsdGVyfEFkZExhbmd1YWdlfEFkZE1vZHVsZUluZm98QWRkT3V0cHV0RmlsdGVyfEFkZE91dHB1dEZpbHRlckJ5VHlwZXxBZGRUeXBlfEFsaWFzfEFsaWFzTWF0Y2h8QWxsb3d8QWxsb3dDT05ORUNUfEFsbG93RW5jb2RlZFNsYXNoZXN8QWxsb3dNZXRob2RzfEFsbG93T3ZlcnJpZGV8QWxsb3dPdmVycmlkZUxpc3R8QW5vbnltb3VzfEFub255bW91c19Mb2dFbWFpbHxBbm9ueW1vdXNfTXVzdEdpdmVFbWFpbHxBbm9ueW1vdXNfTm9Vc2VySUR8QW5vbnltb3VzX1ZlcmlmeUVtYWlsfEFzeW5jUmVxdWVzdFdvcmtlckZhY3RvcnxBdXRoQmFzaWNBdXRob3JpdGF0aXZlfEF1dGhCYXNpY0Zha2V8QXV0aEJhc2ljUHJvdmlkZXJ8QXV0aEJhc2ljVXNlRGlnZXN0QWxnb3JpdGhtfEF1dGhEQkRVc2VyUFdRdWVyeXxBdXRoREJEVXNlclJlYWxtUXVlcnl8QXV0aERCTUdyb3VwRmlsZXxBdXRoREJNVHlwZXxBdXRoREJNVXNlckZpbGV8QXV0aERpZ2VzdEFsZ29yaXRobXxBdXRoRGlnZXN0RG9tYWlufEF1dGhEaWdlc3ROb25jZUxpZmV0aW1lfEF1dGhEaWdlc3RQcm92aWRlcnxBdXRoRGlnZXN0UW9wfEF1dGhEaWdlc3RTaG1lbVNpemV8QXV0aEZvcm1BdXRob3JpdGF0aXZlfEF1dGhGb3JtQm9keXxBdXRoRm9ybURpc2FibGVOb1N0b3JlfEF1dGhGb3JtRmFrZUJhc2ljQXV0aHxBdXRoRm9ybUxvY2F0aW9ufEF1dGhGb3JtTG9naW5SZXF1aXJlZExvY2F0aW9ufEF1dGhGb3JtTG9naW5TdWNjZXNzTG9jYXRpb258QXV0aEZvcm1Mb2dvdXRMb2NhdGlvbnxBdXRoRm9ybU1ldGhvZHxBdXRoRm9ybU1pbWV0eXBlfEF1dGhGb3JtUGFzc3dvcmR8QXV0aEZvcm1Qcm92aWRlcnxBdXRoRm9ybVNpdGVQYXNzcGhyYXNlfEF1dGhGb3JtU2l6ZXxBdXRoRm9ybVVzZXJuYW1lfEF1dGhHcm91cEZpbGV8QXV0aExEQVBBdXRob3JpemVQcmVmaXh8QXV0aExEQVBCaW5kQXV0aG9yaXRhdGl2ZXxBdXRoTERBUEJpbmRETnxBdXRoTERBUEJpbmRQYXNzd29yZHxBdXRoTERBUENoYXJzZXRDb25maWd8QXV0aExEQVBDb21wYXJlQXNVc2VyfEF1dGhMREFQQ29tcGFyZUROT25TZXJ2ZXJ8QXV0aExEQVBEZXJlZmVyZW5jZUFsaWFzZXN8QXV0aExEQVBHcm91cEF0dHJpYnV0ZXxBdXRoTERBUEdyb3VwQXR0cmlidXRlSXNETnxBdXRoTERBUEluaXRpYWxCaW5kQXNVc2VyfEF1dGhMREFQSW5pdGlhbEJpbmRQYXR0ZXJufEF1dGhMREFQTWF4U3ViR3JvdXBEZXB0aHxBdXRoTERBUFJlbW90ZVVzZXJBdHRyaWJ1dGV8QXV0aExEQVBSZW1vdGVVc2VySXNETnxBdXRoTERBUFNlYXJjaEFzVXNlcnxBdXRoTERBUFN1Ykdyb3VwQXR0cmlidXRlfEF1dGhMREFQU3ViR3JvdXBDbGFzc3xBdXRoTERBUFVybHxBdXRoTWVyZ2luZ3xBdXRoTmFtZXxBdXRobkNhY2hlQ29udGV4dHxBdXRobkNhY2hlRW5hYmxlfEF1dGhuQ2FjaGVQcm92aWRlRm9yfEF1dGhuQ2FjaGVTT0NhY2hlfEF1dGhuQ2FjaGVUaW1lb3V0fEF1dGhuekZjZ2lDaGVja0F1dGhuUHJvdmlkZXJ8QXV0aG56RmNnaURlZmluZVByb3ZpZGVyfEF1dGhUeXBlfEF1dGhVc2VyRmlsZXxBdXRoekRCRExvZ2luVG9SZWZlcmVyfEF1dGh6REJEUXVlcnl8QXV0aHpEQkRSZWRpcmVjdFF1ZXJ5fEF1dGh6REJNVHlwZXxBdXRoelNlbmRGb3JiaWRkZW5PbkZhaWx1cmV8QmFsYW5jZXJHcm93dGh8QmFsYW5jZXJJbmhlcml0fEJhbGFuY2VyTWVtYmVyfEJhbGFuY2VyUGVyc2lzdHxCcm93c2VyTWF0Y2h8QnJvd3Nlck1hdGNoTm9DYXNlfEJ1ZmZlcmVkTG9nc3xCdWZmZXJTaXplfENhY2hlRGVmYXVsdEV4cGlyZXxDYWNoZURldGFpbEhlYWRlcnxDYWNoZURpckxlbmd0aHxDYWNoZURpckxldmVsc3xDYWNoZURpc2FibGV8Q2FjaGVFbmFibGV8Q2FjaGVGaWxlfENhY2hlSGVhZGVyfENhY2hlSWdub3JlQ2FjaGVDb250cm9sfENhY2hlSWdub3JlSGVhZGVyc3xDYWNoZUlnbm9yZU5vTGFzdE1vZHxDYWNoZUlnbm9yZVF1ZXJ5U3RyaW5nfENhY2hlSWdub3JlVVJMU2Vzc2lvbklkZW50aWZpZXJzfENhY2hlS2V5QmFzZVVSTHxDYWNoZUxhc3RNb2RpZmllZEZhY3RvcnxDYWNoZUxvY2t8Q2FjaGVMb2NrTWF4QWdlfENhY2hlTG9ja1BhdGh8Q2FjaGVNYXhFeHBpcmV8Q2FjaGVNYXhGaWxlU2l6ZXxDYWNoZU1pbkV4cGlyZXxDYWNoZU1pbkZpbGVTaXplfENhY2hlTmVnb3RpYXRlZERvY3N8Q2FjaGVRdWlja0hhbmRsZXJ8Q2FjaGVSZWFkU2l6ZXxDYWNoZVJlYWRUaW1lfENhY2hlUm9vdHxDYWNoZVNvY2FjaGV8Q2FjaGVTb2NhY2hlTWF4U2l6ZXxDYWNoZVNvY2FjaGVNYXhUaW1lfENhY2hlU29jYWNoZU1pblRpbWV8Q2FjaGVTb2NhY2hlUmVhZFNpemV8Q2FjaGVTb2NhY2hlUmVhZFRpbWV8Q2FjaGVTdGFsZU9uRXJyb3J8Q2FjaGVTdG9yZUV4cGlyZWR8Q2FjaGVTdG9yZU5vU3RvcmV8Q2FjaGVTdG9yZVByaXZhdGV8Q0dJRFNjcmlwdFRpbWVvdXR8Q0dJTWFwRXh0ZW5zaW9ufENoYXJzZXREZWZhdWx0fENoYXJzZXRPcHRpb25zfENoYXJzZXRTb3VyY2VFbmN8Q2hlY2tDYXNlT25seXxDaGVja1NwZWxsaW5nfENocm9vdERpcnxDb250ZW50RGlnZXN0fENvb2tpZURvbWFpbnxDb29raWVFeHBpcmVzfENvb2tpZU5hbWV8Q29va2llU3R5bGV8Q29va2llVHJhY2tpbmd8Q29yZUR1bXBEaXJlY3Rvcnl8Q3VzdG9tTG9nfERhdnxEYXZEZXB0aEluZmluaXR5fERhdkdlbmVyaWNMb2NrREJ8RGF2TG9ja0RCfERhdk1pblRpbWVvdXR8REJERXhwdGltZXxEQkRJbml0U1FMfERCREtlZXB8REJETWF4fERCRE1pbnxEQkRQYXJhbXN8REJEUGVyc2lzdHxEQkRQcmVwYXJlU1FMfERCRHJpdmVyfERlZmF1bHRJY29ufERlZmF1bHRMYW5ndWFnZXxEZWZhdWx0UnVudGltZURpcnxEZWZhdWx0VHlwZXxEZWZpbmV8RGVmbGF0ZUJ1ZmZlclNpemV8RGVmbGF0ZUNvbXByZXNzaW9uTGV2ZWx8RGVmbGF0ZUZpbHRlck5vdGV8RGVmbGF0ZUluZmxhdGVMaW1pdFJlcXVlc3RCb2R5fERlZmxhdGVJbmZsYXRlUmF0aW9CdXJzdHxEZWZsYXRlSW5mbGF0ZVJhdGlvTGltaXR8RGVmbGF0ZU1lbUxldmVsfERlZmxhdGVXaW5kb3dTaXplfERlbnl8RGlyZWN0b3J5Q2hlY2tIYW5kbGVyfERpcmVjdG9yeUluZGV4fERpcmVjdG9yeUluZGV4UmVkaXJlY3R8RGlyZWN0b3J5U2xhc2h8RG9jdW1lbnRSb290fERUcmFjZVByaXZpbGVnZXN8RHVtcElPSW5wdXR8RHVtcElPT3V0cHV0fEVuYWJsZUV4Y2VwdGlvbkhvb2t8RW5hYmxlTU1BUHxFbmFibGVTZW5kZmlsZXxFcnJvcnxFcnJvckRvY3VtZW50fEVycm9yTG9nfEVycm9yTG9nRm9ybWF0fEV4YW1wbGV8RXhwaXJlc0FjdGl2ZXxFeHBpcmVzQnlUeXBlfEV4cGlyZXNEZWZhdWx0fEV4dGVuZGVkU3RhdHVzfEV4dEZpbHRlckRlZmluZXxFeHRGaWx0ZXJPcHRpb25zfEZhbGxiYWNrUmVzb3VyY2V8RmlsZUVUYWd8RmlsdGVyQ2hhaW58RmlsdGVyRGVjbGFyZXxGaWx0ZXJQcm90b2NvbHxGaWx0ZXJQcm92aWRlcnxGaWx0ZXJUcmFjZXxGb3JjZUxhbmd1YWdlUHJpb3JpdHl8Rm9yY2VUeXBlfEZvcmVuc2ljTG9nfEdwcm9mRGlyfEdyYWNlZnVsU2h1dGRvd25UaW1lb3V0fEdyb3VwfEhlYWRlcnxIZWFkZXJOYW1lfEhlYXJ0YmVhdEFkZHJlc3N8SGVhcnRiZWF0TGlzdGVufEhlYXJ0YmVhdE1heFNlcnZlcnN8SGVhcnRiZWF0U3RvcmFnZXxIZWFydGJlYXRTdG9yYWdlfEhvc3RuYW1lTG9va3Vwc3xJZGVudGl0eUNoZWNrfElkZW50aXR5Q2hlY2tUaW1lb3V0fEltYXBCYXNlfEltYXBEZWZhdWx0fEltYXBNZW51fEluY2x1ZGV8SW5jbHVkZU9wdGlvbmFsfEluZGV4SGVhZEluc2VydHxJbmRleElnbm9yZXxJbmRleElnbm9yZVJlc2V0fEluZGV4T3B0aW9uc3xJbmRleE9yZGVyRGVmYXVsdHxJbmRleFN0eWxlU2hlZXR8SW5wdXRTZWR8SVNBUElBcHBlbmRMb2dUb0Vycm9yc3xJU0FQSUFwcGVuZExvZ1RvUXVlcnl8SVNBUElDYWNoZUZpbGV8SVNBUElGYWtlQXN5bmN8SVNBUElMb2dOb3RTdXBwb3J0ZWR8SVNBUElSZWFkQWhlYWRCdWZmZXJ8S2VlcEFsaXZlfEtlZXBBbGl2ZVRpbWVvdXR8S2VwdEJvZHlTaXplfExhbmd1YWdlUHJpb3JpdHl8TERBUENhY2hlRW50cmllc3xMREFQQ2FjaGVUVEx8TERBUENvbm5lY3Rpb25Qb29sVFRMfExEQVBDb25uZWN0aW9uVGltZW91dHxMREFQTGlicmFyeURlYnVnfExEQVBPcENhY2hlRW50cmllc3xMREFQT3BDYWNoZVRUTHxMREFQUmVmZXJyYWxIb3BMaW1pdHxMREFQUmVmZXJyYWxzfExEQVBSZXRyaWVzfExEQVBSZXRyeURlbGF5fExEQVBTaGFyZWRDYWNoZUZpbGV8TERBUFNoYXJlZENhY2hlU2l6ZXxMREFQVGltZW91dHxMREFQVHJ1c3RlZENsaWVudENlcnR8TERBUFRydXN0ZWRHbG9iYWxDZXJ0fExEQVBUcnVzdGVkTW9kZXxMREFQVmVyaWZ5U2VydmVyQ2VydHxMaW1pdEludGVybmFsUmVjdXJzaW9ufExpbWl0UmVxdWVzdEJvZHl8TGltaXRSZXF1ZXN0RmllbGRzfExpbWl0UmVxdWVzdEZpZWxkU2l6ZXxMaW1pdFJlcXVlc3RMaW5lfExpbWl0WE1MUmVxdWVzdEJvZHl8TGlzdGVufExpc3RlbkJhY2tMb2d8TG9hZEZpbGV8TG9hZE1vZHVsZXxMb2dGb3JtYXR8TG9nTGV2ZWx8TG9nTWVzc2FnZXxMdWFBdXRoelByb3ZpZGVyfEx1YUNvZGVDYWNoZXxMdWFIb29rQWNjZXNzQ2hlY2tlcnxMdWFIb29rQXV0aENoZWNrZXJ8THVhSG9va0NoZWNrVXNlcklEfEx1YUhvb2tGaXh1cHN8THVhSG9va0luc2VydEZpbHRlcnxMdWFIb29rTG9nfEx1YUhvb2tNYXBUb1N0b3JhZ2V8THVhSG9va1RyYW5zbGF0ZU5hbWV8THVhSG9va1R5cGVDaGVja2VyfEx1YUluaGVyaXR8THVhSW5wdXRGaWx0ZXJ8THVhTWFwSGFuZGxlcnxMdWFPdXRwdXRGaWx0ZXJ8THVhUGFja2FnZUNQYXRofEx1YVBhY2thZ2VQYXRofEx1YVF1aWNrSGFuZGxlcnxMdWFSb290fEx1YVNjb3BlfE1heENvbm5lY3Rpb25zUGVyQ2hpbGR8TWF4S2VlcEFsaXZlUmVxdWVzdHN8TWF4TWVtRnJlZXxNYXhSYW5nZU92ZXJsYXBzfE1heFJhbmdlUmV2ZXJzYWxzfE1heFJhbmdlc3xNYXhSZXF1ZXN0V29ya2Vyc3xNYXhTcGFyZVNlcnZlcnN8TWF4U3BhcmVUaHJlYWRzfE1heFRocmVhZHN8TWVyZ2VUcmFpbGVyc3xNZXRhRGlyfE1ldGFGaWxlc3xNZXRhU3VmZml4fE1pbWVNYWdpY0ZpbGV8TWluU3BhcmVTZXJ2ZXJzfE1pblNwYXJlVGhyZWFkc3xNTWFwRmlsZXxNb2RlbVN0YW5kYXJkfE1vZE1pbWVVc2VQYXRoSW5mb3xNdWx0aXZpZXdzTWF0Y2h8TXV0ZXh8TmFtZVZpcnR1YWxIb3N0fE5vUHJveHl8TldTU0xUcnVzdGVkQ2VydHN8TldTU0xVcGdyYWRlYWJsZXxPcHRpb25zfE9yZGVyfE91dHB1dFNlZHxQYXNzRW52fFBpZEZpbGV8UHJpdmlsZWdlc01vZGV8UHJvdG9jb2x8UHJvdG9jb2xFY2hvfFByb3h5QWRkSGVhZGVyc3xQcm94eUJhZEhlYWRlcnxQcm94eUJsb2NrfFByb3h5RG9tYWlufFByb3h5RXJyb3JPdmVycmlkZXxQcm94eUV4cHJlc3NEQk1GaWxlfFByb3h5RXhwcmVzc0RCTVR5cGV8UHJveHlFeHByZXNzRW5hYmxlfFByb3h5RnRwRGlyQ2hhcnNldHxQcm94eUZ0cEVzY2FwZVdpbGRjYXJkc3xQcm94eUZ0cExpc3RPbldpbGRjYXJkfFByb3h5SFRNTEJ1ZlNpemV8UHJveHlIVE1MQ2hhcnNldE91dHxQcm94eUhUTUxEb2NUeXBlfFByb3h5SFRNTEVuYWJsZXxQcm94eUhUTUxFdmVudHN8UHJveHlIVE1MRXh0ZW5kZWR8UHJveHlIVE1MRml4dXBzfFByb3h5SFRNTEludGVycHxQcm94eUhUTUxMaW5rc3xQcm94eUhUTUxNZXRhfFByb3h5SFRNTFN0cmlwQ29tbWVudHN8UHJveHlIVE1MVVJMTWFwfFByb3h5SU9CdWZmZXJTaXplfFByb3h5TWF4Rm9yd2FyZHN8UHJveHlQYXNzfFByb3h5UGFzc0luaGVyaXR8UHJveHlQYXNzSW50ZXJwb2xhdGVFbnZ8UHJveHlQYXNzTWF0Y2h8UHJveHlQYXNzUmV2ZXJzZXxQcm94eVBhc3NSZXZlcnNlQ29va2llRG9tYWlufFByb3h5UGFzc1JldmVyc2VDb29raWVQYXRofFByb3h5UHJlc2VydmVIb3N0fFByb3h5UmVjZWl2ZUJ1ZmZlclNpemV8UHJveHlSZW1vdGV8UHJveHlSZW1vdGVNYXRjaHxQcm94eVJlcXVlc3RzfFByb3h5U0NHSUludGVybmFsUmVkaXJlY3R8UHJveHlTQ0dJU2VuZGZpbGV8UHJveHlTZXR8UHJveHlTb3VyY2VBZGRyZXNzfFByb3h5U3RhdHVzfFByb3h5VGltZW91dHxQcm94eVZpYXxSZWFkbWVOYW1lfFJlY2VpdmVCdWZmZXJTaXplfFJlZGlyZWN0fFJlZGlyZWN0TWF0Y2h8UmVkaXJlY3RQZXJtYW5lbnR8UmVkaXJlY3RUZW1wfFJlZmxlY3RvckhlYWRlcnxSZW1vdGVJUEhlYWRlcnxSZW1vdGVJUEludGVybmFsUHJveHl8UmVtb3RlSVBJbnRlcm5hbFByb3h5TGlzdHxSZW1vdGVJUFByb3hpZXNIZWFkZXJ8UmVtb3RlSVBUcnVzdGVkUHJveHl8UmVtb3RlSVBUcnVzdGVkUHJveHlMaXN0fFJlbW92ZUNoYXJzZXR8UmVtb3ZlRW5jb2Rpbmd8UmVtb3ZlSGFuZGxlcnxSZW1vdmVJbnB1dEZpbHRlcnxSZW1vdmVMYW5ndWFnZXxSZW1vdmVPdXRwdXRGaWx0ZXJ8UmVtb3ZlVHlwZXxSZXF1ZXN0SGVhZGVyfFJlcXVlc3RSZWFkVGltZW91dHxSZXF1aXJlfFJld3JpdGVCYXNlfFJld3JpdGVDb25kfFJld3JpdGVFbmdpbmV8UmV3cml0ZU1hcHxSZXdyaXRlT3B0aW9uc3xSZXdyaXRlUnVsZXxSTGltaXRDUFV8UkxpbWl0TUVNfFJMaW1pdE5QUk9DfFNhdGlzZnl8U2NvcmVCb2FyZEZpbGV8U2NyaXB0fFNjcmlwdEFsaWFzfFNjcmlwdEFsaWFzTWF0Y2h8U2NyaXB0SW50ZXJwcmV0ZXJTb3VyY2V8U2NyaXB0TG9nfFNjcmlwdExvZ0J1ZmZlcnxTY3JpcHRMb2dMZW5ndGh8U2NyaXB0U29ja3xTZWN1cmVMaXN0ZW58U2VlUmVxdWVzdFRhaWx8U2VuZEJ1ZmZlclNpemV8U2VydmVyQWRtaW58U2VydmVyQWxpYXN8U2VydmVyTGltaXR8U2VydmVyTmFtZXxTZXJ2ZXJQYXRofFNlcnZlclJvb3R8U2VydmVyU2lnbmF0dXJlfFNlcnZlclRva2Vuc3xTZXNzaW9ufFNlc3Npb25Db29raWVOYW1lfFNlc3Npb25Db29raWVOYW1lMnxTZXNzaW9uQ29va2llUmVtb3ZlfFNlc3Npb25DcnlwdG9DaXBoZXJ8U2Vzc2lvbkNyeXB0b0RyaXZlcnxTZXNzaW9uQ3J5cHRvUGFzc3BocmFzZXxTZXNzaW9uQ3J5cHRvUGFzc3BocmFzZUZpbGV8U2Vzc2lvbkRCRENvb2tpZU5hbWV8U2Vzc2lvbkRCRENvb2tpZU5hbWUyfFNlc3Npb25EQkRDb29raWVSZW1vdmV8U2Vzc2lvbkRCRERlbGV0ZUxhYmVsfFNlc3Npb25EQkRJbnNlcnRMYWJlbHxTZXNzaW9uREJEUGVyVXNlcnxTZXNzaW9uREJEU2VsZWN0TGFiZWx8U2Vzc2lvbkRCRFVwZGF0ZUxhYmVsfFNlc3Npb25FbnZ8U2Vzc2lvbkV4Y2x1ZGV8U2Vzc2lvbkhlYWRlcnxTZXNzaW9uSW5jbHVkZXxTZXNzaW9uTWF4QWdlfFNldEVudnxTZXRFbnZJZnxTZXRFbnZJZkV4cHJ8U2V0RW52SWZOb0Nhc2V8U2V0SGFuZGxlcnxTZXRJbnB1dEZpbHRlcnxTZXRPdXRwdXRGaWx0ZXJ8U1NJRW5kVGFnfFNTSUVycm9yTXNnfFNTSUVUYWd8U1NJTGFzdE1vZGlmaWVkfFNTSUxlZ2FjeUV4cHJQYXJzZXJ8U1NJU3RhcnRUYWd8U1NJVGltZUZvcm1hdHxTU0lVbmRlZmluZWRFY2hvfFNTTENBQ2VydGlmaWNhdGVGaWxlfFNTTENBQ2VydGlmaWNhdGVQYXRofFNTTENBRE5SZXF1ZXN0RmlsZXxTU0xDQUROUmVxdWVzdFBhdGh8U1NMQ0FSZXZvY2F0aW9uQ2hlY2t8U1NMQ0FSZXZvY2F0aW9uRmlsZXxTU0xDQVJldm9jYXRpb25QYXRofFNTTENlcnRpZmljYXRlQ2hhaW5GaWxlfFNTTENlcnRpZmljYXRlRmlsZXxTU0xDZXJ0aWZpY2F0ZUtleUZpbGV8U1NMQ2lwaGVyU3VpdGV8U1NMQ29tcHJlc3Npb258U1NMQ3J5cHRvRGV2aWNlfFNTTEVuZ2luZXxTU0xGSVBTfFNTTEhvbm9yQ2lwaGVyT3JkZXJ8U1NMSW5zZWN1cmVSZW5lZ290aWF0aW9ufFNTTE9DU1BEZWZhdWx0UmVzcG9uZGVyfFNTTE9DU1BFbmFibGV8U1NMT0NTUE92ZXJyaWRlUmVzcG9uZGVyfFNTTE9DU1BSZXNwb25kZXJUaW1lb3V0fFNTTE9DU1BSZXNwb25zZU1heEFnZXxTU0xPQ1NQUmVzcG9uc2VUaW1lU2tld3xTU0xPQ1NQVXNlUmVxdWVzdE5vbmNlfFNTTE9wZW5TU0xDb25mQ21kfFNTTE9wdGlvbnN8U1NMUGFzc1BocmFzZURpYWxvZ3xTU0xQcm90b2NvbHxTU0xQcm94eUNBQ2VydGlmaWNhdGVGaWxlfFNTTFByb3h5Q0FDZXJ0aWZpY2F0ZVBhdGh8U1NMUHJveHlDQVJldm9jYXRpb25DaGVja3xTU0xQcm94eUNBUmV2b2NhdGlvbkZpbGV8U1NMUHJveHlDQVJldm9jYXRpb25QYXRofFNTTFByb3h5Q2hlY2tQZWVyQ058U1NMUHJveHlDaGVja1BlZXJFeHBpcmV8U1NMUHJveHlDaGVja1BlZXJOYW1lfFNTTFByb3h5Q2lwaGVyU3VpdGV8U1NMUHJveHlFbmdpbmV8U1NMUHJveHlNYWNoaW5lQ2VydGlmaWNhdGVDaGFpbkZpbGV8U1NMUHJveHlNYWNoaW5lQ2VydGlmaWNhdGVGaWxlfFNTTFByb3h5TWFjaGluZUNlcnRpZmljYXRlUGF0aHxTU0xQcm94eVByb3RvY29sfFNTTFByb3h5VmVyaWZ5fFNTTFByb3h5VmVyaWZ5RGVwdGh8U1NMUmFuZG9tU2VlZHxTU0xSZW5lZ0J1ZmZlclNpemV8U1NMUmVxdWlyZXxTU0xSZXF1aXJlU1NMfFNTTFNlc3Npb25DYWNoZXxTU0xTZXNzaW9uQ2FjaGVUaW1lb3V0fFNTTFNlc3Npb25UaWNrZXRLZXlGaWxlfFNTTFNSUFVua25vd25Vc2VyU2VlZHxTU0xTUlBWZXJpZmllckZpbGV8U1NMU3RhcGxpbmdDYWNoZXxTU0xTdGFwbGluZ0Vycm9yQ2FjaGVUaW1lb3V0fFNTTFN0YXBsaW5nRmFrZVRyeUxhdGVyfFNTTFN0YXBsaW5nRm9yY2VVUkx8U1NMU3RhcGxpbmdSZXNwb25kZXJUaW1lb3V0fFNTTFN0YXBsaW5nUmVzcG9uc2VNYXhBZ2V8U1NMU3RhcGxpbmdSZXNwb25zZVRpbWVTa2V3fFNTTFN0YXBsaW5nUmV0dXJuUmVzcG9uZGVyRXJyb3JzfFNTTFN0YXBsaW5nU3RhbmRhcmRDYWNoZVRpbWVvdXR8U1NMU3RyaWN0U05JVkhvc3RDaGVja3xTU0xVc2VyTmFtZXxTU0xVc2VTdGFwbGluZ3xTU0xWZXJpZnlDbGllbnR8U1NMVmVyaWZ5RGVwdGh8U3RhcnRTZXJ2ZXJzfFN0YXJ0VGhyZWFkc3xTdWJzdGl0dXRlfFN1ZXhlY3xTdWV4ZWNVc2VyR3JvdXB8VGhyZWFkTGltaXR8VGhyZWFkc1BlckNoaWxkfFRocmVhZFN0YWNrU2l6ZXxUaW1lT3V0fFRyYWNlRW5hYmxlfFRyYW5zZmVyTG9nfFR5cGVzQ29uZmlnfFVuRGVmaW5lfFVuZGVmTWFjcm98VW5zZXRFbnZ8VXNlfFVzZUNhbm9uaWNhbE5hbWV8VXNlQ2Fub25pY2FsUGh5c2ljYWxQb3J0fFVzZXJ8VXNlckRpcnxWSG9zdENHSU1vZGV8Vkhvc3RDR0lQcml2c3xWSG9zdEdyb3VwfFZIb3N0UHJpdnN8Vkhvc3RTZWN1cmV8Vkhvc3RVc2VyfFZpcnR1YWxEb2N1bWVudFJvb3R8VmlydHVhbERvY3VtZW50Um9vdElQfFZpcnR1YWxTY3JpcHRBbGlhc3xWaXJ0dWFsU2NyaXB0QWxpYXNJUHxXYXRjaGRvZ0ludGVydmFsfFhCaXRIYWNrfHhtbDJFbmNBbGlhc3x4bWwyRW5jRGVmYXVsdHx4bWwyU3RhcnRQYXJzZSlcYi9pbSxsb29rYmVoaW5kOiEwLGFsaWFzOiJwcm9wZXJ0eSJ9LCJkaXJlY3RpdmUtYmxvY2siOntwYXR0ZXJuOi88XC8/XGIoQXV0aG5Qcm92aWRlckFsaWFzfEF1dGh6UHJvdmlkZXJBbGlhc3xEaXJlY3Rvcnl8RGlyZWN0b3J5TWF0Y2h8RWxzZXxFbHNlSWZ8RmlsZXN8RmlsZXNNYXRjaHxJZnxJZkRlZmluZXxJZk1vZHVsZXxJZlZlcnNpb258TGltaXR8TGltaXRFeGNlcHR8TG9jYXRpb258TG9jYXRpb25NYXRjaHxNYWNyb3xQcm94eXxSZXF1aXJlQWxsfFJlcXVpcmVBbnl8UmVxdWlyZU5vbmV8VmlydHVhbEhvc3QpXGIgKi4qPi9pLGluc2lkZTp7ImRpcmVjdGl2ZS1ibG9jayI6e3BhdHRlcm46L148XC8/XHcrLyxpbnNpZGU6e3B1bmN0dWF0aW9uOi9ePFwvPy99LGFsaWFzOiJ0YWcifSwiZGlyZWN0aXZlLWJsb2NrLXBhcmFtZXRlciI6e3BhdHRlcm46Ly4qW14+XS8saW5zaWRlOntwdW5jdHVhdGlvbjovOi8sc3RyaW5nOntwYXR0ZXJuOi8oInwnKS4qXDEvLGluc2lkZTp7dmFyaWFibGU6LyhcJHwlKVx7Pyhcd1wuPyhcK3xcLXw6KT8pK1x9Py99fX0sYWxpYXM6ImF0dHItdmFsdWUifSxwdW5jdHVhdGlvbjovPi99LGFsaWFzOiJ0YWcifSwiZGlyZWN0aXZlLWZsYWdzIjp7cGF0dGVybjovXFsoXHcsPykrXF0vLGFsaWFzOiJrZXl3b3JkIn0sc3RyaW5nOntwYXR0ZXJuOi8oInwnKS4qXDEvLGluc2lkZTp7dmFyaWFibGU6LyhcJHwlKVx7Pyhcd1wuPyhcK3xcLXw6KT8pK1x9Py99fSx2YXJpYWJsZTovKFwkfCUpXHs/KFx3XC4/KFwrfFwtfDopPykrXH0/LyxyZWdleDovXF4/LipcJHxcXi4qXCQ/L307ClByaXNtLmxhbmd1YWdlcy5hcGw9e2NvbW1lbnQ6Lyg/OuKNnXwjWyEgXSkuKiQvbSxzdHJpbmc6e3BhdHRlcm46LycoPzpbXidcclxuXXwnJykqJy8sZ3JlZWR5OiEwfSxudW1iZXI6L8KvPyg/OlxkKlwuP1xkKyg/OmVbK8KvXT9cZCspP3zCr3ziiJ4pKD86asKvPyg/OlxkKlwuP1xkKyg/OmVbXCvCr10/XGQrKT98wq984oieKSk/L2ksc3RhdGVtZW50Oi86W0EtWl1bYS16XVtBLVphLXpdKlxiLywic3lzdGVtLWZ1bmN0aW9uIjp7cGF0dGVybjov4o6VW0EtWl0rL2ksYWxpYXM6ImZ1bmN0aW9uIn0sY29uc3RhbnQ6L1vijazijL4j4o6V4o2eXS8sImZ1bmN0aW9uIjovWy0rw5fDt+KMiOKMiuKIo3zijbPijbg/KuKNn+KXiyHijLk84omkPT7iiaXiiaDiiaHiiaLiiIrijbfiiKriiKl+4oio4oin4o2x4o2y4o20LOKNquKMveKKluKNieKGkeKGk+KKguKKg+KKhuKKh+KMt+KNi+KNkuKKpOKKpeKNleKNjuKKo+KKouKNgeKNguKJiOKNr+KGl8Kk4oaSXS8sIm1vbmFkaWMtb3BlcmF0b3IiOntwYXR0ZXJuOi9bXFxcL+KMv+KNgMKo4o2o4oy2JuKIpV0vLGFsaWFzOiJvcGVyYXRvciJ9LCJkeWFkaWMtb3BlcmF0b3IiOntwYXR0ZXJuOi9bLuKNo+KNoOKNpOKImOKMuF0vLGFsaWFzOiJvcGVyYXRvciJ9LGFzc2lnbm1lbnQ6e3BhdHRlcm46L+KGkC8sYWxpYXM6ImtleXdvcmQifSxwdW5jdHVhdGlvbjovW1xbO1xdKCnil4fii4RdLyxkZm46e3BhdHRlcm46L1t7feKNuuKNteKNtuKNueKIh+KNqzpdLyxhbGlhczoiYnVpbHRpbiJ9fTsKUHJpc20ubGFuZ3VhZ2VzLmFwcGxlc2NyaXB0PXtjb21tZW50OlsvXChcKig/OlwoXCpbXHdcV10qP1wqXCl8W1x3XFddKSo/XCpcKS8sLy0tLisvLC8jLisvXSxzdHJpbmc6LyIoPzpcXD8uKSo/Ii8sbnVtYmVyOi9cYi0/XGQqXC4/XGQrKFtFZV0tP1xkKyk/XGIvLG9wZXJhdG9yOlsvWyY94omg4omk4omlKitcLVwvw7deXXxbPD5dPT8vLC9cYig/Oig/OnN0YXJ0fGJlZ2lufGVuZClzPyB3aXRofCg/Oig/OmRvZXMgbm90fGRvZXNuJ3QpIGNvbnRhaW58Y29udGFpbnM/KXwoPzppc3xpc24ndHxpcyBub3QpICg/OmlufGNvbnRhaW5lZCBieSl8KD86KD86aXN8aXNuJ3R8aXMgbm90KSApPyg/OmdyZWF0ZXJ8bGVzcykgdGhhbig/OiBvciBlcXVhbCk/KD86IHRvKT98KD86KD86ZG9lcyBub3R8ZG9lc24ndCkgY29tZXxjb21lcykgKD86YmVmb3JlfGFmdGVyKXwoPzppc3xpc24ndHxpcyBub3QpIGVxdWFsKD86IHRvKT98KD86KD86ZG9lcyBub3R8ZG9lc24ndCkgZXF1YWx8ZXF1YWxzfGVxdWFsIHRvfGlzbid0fGlzIG5vdCl8KD86YSApPyg/OnJlZig/OiB0byk/fHJlZmVyZW5jZSB0byl8KD86YW5kfG9yfGRpdnxtb2R8YXN8bm90KSlcYi9dLGtleXdvcmQ6L1xiKD86YWJvdXR8YWJvdmV8YWZ0ZXJ8YWdhaW5zdHxhcGFydCBmcm9tfGFyb3VuZHxhc2lkZSBmcm9tfGF0fGJhY2t8YmVmb3JlfGJlZ2lubmluZ3xiZWhpbmR8YmVsb3d8YmVuZWF0aHxiZXNpZGV8YmV0d2VlbnxidXR8Ynl8Y29uc2lkZXJpbmd8Y29udGludWV8Y29weXxkb2VzfGVpZ2h0aHxlbHNlfGVuZHxlcXVhbHxlcnJvcnxldmVyeXxleGl0fGZhbHNlfGZpZnRofGZpcnN0fGZvcnxmb3VydGh8ZnJvbXxmcm9udHxnZXR8Z2l2ZW58Z2xvYmFsfGlmfGlnbm9yaW5nfGlufGluc3RlYWQgb2Z8aW50b3xpc3xpdHxpdHN8bGFzdHxsb2NhbHxtZXxtaWRkbGV8bXl8bmludGh8b2Z8b258b250b3xvdXQgb2Z8b3Zlcnxwcm9wfHByb3BlcnR5fHB1dHxyZXBlYXR8cmV0dXJufHJldHVybmluZ3xzZWNvbmR8c2V0fHNldmVudGh8c2luY2V8c2l4dGh8c29tZXx0ZWxsfHRlbnRofHRoYXR8dGhlfHRoZW58dGhpcmR8dGhyb3VnaHx0aHJ1fHRpbWVvdXR8dGltZXN8dG98dHJhbnNhY3Rpb258dHJ1ZXx0cnl8dW50aWx8d2hlcmV8d2hpbGV8d2hvc2V8d2l0aHx3aXRob3V0KVxiLywiY2xhc3MiOntwYXR0ZXJuOi9cYig/OmFsaWFzfGFwcGxpY2F0aW9ufGJvb2xlYW58Y2xhc3N8Y29uc3RhbnR8ZGF0ZXxmaWxlfGludGVnZXJ8bGlzdHxudW1iZXJ8UE9TSVggZmlsZXxyZWFsfHJlY29yZHxyZWZlcmVuY2V8UkdCIGNvbG9yfHNjcmlwdHx0ZXh0fGNlbnRpbWV0cmVzfGNlbnRpbWV0ZXJzfGZlZXR8aW5jaGVzfGtpbG9tZXRyZXN8a2lsb21ldGVyc3xtZXRyZXN8bWV0ZXJzfG1pbGVzfHlhcmRzfHNxdWFyZSBmZWV0fHNxdWFyZSBraWxvbWV0cmVzfHNxdWFyZSBraWxvbWV0ZXJzfHNxdWFyZSBtZXRyZXN8c3F1YXJlIG1ldGVyc3xzcXVhcmUgbWlsZXN8c3F1YXJlIHlhcmRzfGN1YmljIGNlbnRpbWV0cmVzfGN1YmljIGNlbnRpbWV0ZXJzfGN1YmljIGZlZXR8Y3ViaWMgaW5jaGVzfGN1YmljIG1ldHJlc3xjdWJpYyBtZXRlcnN8Y3ViaWMgeWFyZHN8Z2FsbG9uc3xsaXRyZXN8bGl0ZXJzfHF1YXJ0c3xncmFtc3xraWxvZ3JhbXN8b3VuY2VzfHBvdW5kc3xkZWdyZWVzIENlbHNpdXN8ZGVncmVlcyBGYWhyZW5oZWl0fGRlZ3JlZXMgS2VsdmluKVxiLyxhbGlhczoiYnVpbHRpbiJ9LHB1bmN0dWF0aW9uOi9be30oKToswqzCq8K744CK44CLXS99OwohZnVuY3Rpb24oYSl7dmFyIGk9e3BhdHRlcm46LyheWyBcdF0qKVxbKD8hXFspKD86KFsiJyRgXSkoPzooPyFcMilbXlxcXXxcXC4pKlwyfFxbKD86W15cXVxcXXxcXC4pKlxdfFteXF1cXF18XFwuKSpcXS9tLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntxdW90ZWQ6e3BhdHRlcm46LyhbJGBdKSg/Oig/IVwxKVteXFxdfFxcLikqXDEvLGluc2lkZTp7cHVuY3R1YXRpb246L15bJGBdfFskYF0kL319LGludGVycHJldGVkOntwYXR0ZXJuOi8nKD86W14nXFxdfFxcLikqJy8saW5zaWRlOntwdW5jdHVhdGlvbjovXid8JyQvfX0sc3RyaW5nOi8iKD86W14iXFxdfFxcLikqIi8sdmFyaWFibGU6L1x3Kyg/PT0pLyxwdW5jdHVhdGlvbjovXlxbfFxdJHwsLyxvcGVyYXRvcjovPS8sImF0dHItdmFsdWUiOi8oPyFeXHMrJCkuKy99fTthLmxhbmd1YWdlcy5hc2NpaWRvYz17ImNvbW1lbnQtYmxvY2siOntwYXR0ZXJuOi9eKFwvezQsfSkoPzpccj9cbnxccikoPzpbXHNcU10qKD86XHI/XG58XHIpKT8/XDEvbSxhbGlhczoiY29tbWVudCJ9LHRhYmxlOntwYXR0ZXJuOi9eXHw9ezMsfSg/Oig/OlxyP1xufFxyKS4qKSo/KD86XHI/XG58XHIpXHw9ezMsfSQvbSxpbnNpZGU6e3NwZWNpZmllcnM6e3BhdHRlcm46Lyg/IVx8KSg/Oig/Oig/OlxkKyg/OlwuXGQrKT98XC5cZCspWysqXSk/KD86WzxePl0oPzpcLls8Xj5dKT98XC5bPF4+XSk/W2Etel0qKSg/PVx8KS8sYWxpYXM6ImF0dHItdmFsdWUifSxwdW5jdHVhdGlvbjp7cGF0dGVybjovKF58W15cXF0pW3whXT0qLyxsb29rYmVoaW5kOiEwfX19LCJwYXNzdGhyb3VnaC1ibG9jayI6e3BhdHRlcm46L14oXCt7NCx9KSg/OlxyP1xufFxyKSg/Oltcc1xTXSooPzpccj9cbnxccikpPz9cMSQvbSxpbnNpZGU6e3B1bmN0dWF0aW9uOi9eXCsrfFwrKyQvfX0sImxpdGVyYWwtYmxvY2siOntwYXR0ZXJuOi9eKC17NCx9fFwuezQsfSkoPzpccj9cbnxccikoPzpbXHNcU10qKD86XHI/XG58XHIpKT8/XDEkL20saW5zaWRlOntwdW5jdHVhdGlvbjovXig/Oi0rfFwuKyl8KD86LSt8XC4rKSQvfX0sIm90aGVyLWJsb2NrIjp7cGF0dGVybjovXigtLXxcKns0LH18X3s0LH18PXs0LH0pKD86XHI/XG58XHIpKD86W1xzXFNdKig/OlxyP1xufFxyKSk/P1wxJC9tLGluc2lkZTp7cHVuY3R1YXRpb246L14oPzotK3xcKit8Xyt8PSspfCg/Oi0rfFwqK3xfK3w9KykkL319LCJsaXN0LXB1bmN0dWF0aW9uIjp7cGF0dGVybjovKF5bIFx0XSopKD86LXxcKnsxLDV9fFwuezEsNX18KD86W2Etel18XGQrKVwufFt4dmldK1wpKSg/PSApL2ltLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InB1bmN0dWF0aW9uIn0sImxpc3QtbGFiZWwiOntwYXR0ZXJuOi8oXlsgXHRdKilbYS16XGRdLisoPzo6ezIsNH18OzspKD89XHMpL2ltLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InN5bWJvbCJ9LCJpbmRlbnRlZC1ibG9jayI6e3BhdHRlcm46LygoXHI/XG58XHIpXDIpKFsgXHRdKylcUy4qKD86KD86XHI/XG58XHIpXDMuKykqKD89XDJ7Mn18JCkvLGxvb2tiZWhpbmQ6ITB9LGNvbW1lbnQ6L15cL1wvLiovbSx0aXRsZTp7cGF0dGVybjovXi4rKD86XHI/XG58XHIpKD86PXszLH18LXszLH18fnszLH18XF57Myx9fFwrezMsfSkkfF49ezEsNX0gKy4rfF5cLig/IVtccy5dKS4qL20sYWxpYXM6ImltcG9ydGFudCIsaW5zaWRlOntwdW5jdHVhdGlvbjovXig/OlwufD0rKXwoPzo9K3wtK3x+K3xcXit8XCsrKSQvfX0sImF0dHJpYnV0ZS1lbnRyeSI6e3BhdHRlcm46L146W146XHJcbl0rOig/OiAuKj8oPzogXCsoPzpccj9cbnxccikuKj8pKik/JC9tLGFsaWFzOiJ0YWcifSxhdHRyaWJ1dGVzOmksaHI6e3BhdHRlcm46L14nezMsfSQvbSxhbGlhczoicHVuY3R1YXRpb24ifSwicGFnZS1icmVhayI6e3BhdHRlcm46L148ezMsfSQvbSxhbGlhczoicHVuY3R1YXRpb24ifSxhZG1vbml0aW9uOntwYXR0ZXJuOi9eKD86VElQfE5PVEV8SU1QT1JUQU5UfFdBUk5JTkd8Q0FVVElPTik6L20sYWxpYXM6ImtleXdvcmQifSxjYWxsb3V0Olt7cGF0dGVybjovKF5bIFx0XSopPD9cZCo+L20sbG9va2JlaGluZDohMCxhbGlhczoic3ltYm9sIn0se3BhdHRlcm46LzxcZCs+LyxhbGlhczoic3ltYm9sIn1dLG1hY3JvOntwYXR0ZXJuOi9cYlthLXpcZF1bYS16XGQtXSo6Oj8oPzooPzpcUyspPz9cWyg/OlteXF1cXCJdfChbIiddKSg/Oig/IVwxKVteXFxdfFxcLikqXDF8XFwuKSpcXSkvLGluc2lkZTp7ImZ1bmN0aW9uIjovXlthLXpcZC1dKyg/PTopLyxwdW5jdHVhdGlvbjovXjo6Py8sYXR0cmlidXRlczp7cGF0dGVybjovKD86XFsoPzpbXlxdXFwiXXwoWyInXSkoPzooPyFcMSlbXlxcXXxcXC4pKlwxfFxcLikqXF0pLyxpbnNpZGU6aS5pbnNpZGV9fX0saW5saW5lOntwYXR0ZXJuOi8oXnxbXlxcXSkoPzooPzpcQlxbKD86W15cXVxcIl18KFsiJ10pKD86KD8hXDIpW15cXF18XFwuKSpcMnxcXC4pKlxdKT8oPzpcYl8oPyFccykoPzogX3xbXl9cXFxyXG5dfFxcLikrKD86KD86XHI/XG58XHIpKD86IF98W15fXFxcclxuXXxcXC4pKykqX1xifFxCYGAoPyFccykuKz8oPzooPzpccj9cbnxccikuKz8pKicnXEJ8XEJgKD8hXHMpKD86IFsnYF18LikrPyg/Oig/OlxyP1xufFxyKSg/OiBbJ2BdfC4pKz8pKlsnYF1cQnxcQihbJyorI10pKD8hXHMpKD86IFwzfCg/IVwzKVteXFxcclxuXXxcXC4pKyg/Oig/OlxyP1xufFxyKSg/OiBcM3woPyFcMylbXlxcXHJcbl18XFwuKSspKlwzXEIpfCg/OlxbKD86W15cXVxcIl18KFsiJ10pKD86KD8hXDQpW15cXF18XFwuKSpcNHxcXC4pKlxdKT8oPzooX198XCpcKnxcK1wrXCs/fCMjfFwkXCR8W35eXSkuKz8oPzooPzpccj9cbnxccikuKz8pKlw1fFx7W159XHJcbl0rXH18XFtcW1xbPy4rPyg/Oig/OlxyP1xufFxyKS4rPykqXF0/XF1cXXw8PC4rPyg/Oig/OlxyP1xufFxyKS4rPykqPj58XChcKFwoPy4rPyg/Oig/OlxyP1xufFxyKS4rPykqXCk/XClcKSkpL20sbG9va2JlaGluZDohMCxpbnNpZGU6e2F0dHJpYnV0ZXM6aSx1cmw6e3BhdHRlcm46L14oPzpcW1xbXFs/Lis/XF0/XF1cXXw8PC4rPz4+KSQvLGluc2lkZTp7cHVuY3R1YXRpb246L14oPzpcW1xbXFs/fDw8KXwoPzpcXVxdXF0/fD4+KSQvfX0sImF0dHJpYnV0ZS1yZWYiOntwYXR0ZXJuOi9eXHsuK1x9JC8saW5zaWRlOnt2YXJpYWJsZTp7cGF0dGVybjovKF5ceylbYS16XGQsK18tXSsvLGxvb2tiZWhpbmQ6ITB9LG9wZXJhdG9yOi9eWz0/ISMlQCRdfCEoPz1bOn1dKS8scHVuY3R1YXRpb246L15ce3xcfSR8Ojo/L319LGl0YWxpYzp7cGF0dGVybjovXihbJ19dKVtcc1xTXStcMSQvLGluc2lkZTp7cHVuY3R1YXRpb246L14oPzonJz98X18/KXwoPzonJz98X18/KSQvfX0sYm9sZDp7cGF0dGVybjovXlwqW1xzXFNdK1wqJC8saW5zaWRlOntwdW5jdHVhdGlvbjovXlwqXCo/fFwqXCo/JC99fSxwdW5jdHVhdGlvbjovXig/OmBgP3xcK3sxLDN9fCMjP3xcJFwkfFt+Xl18XChcKFwoPyl8KD86Jyc/fFwrezEsM318IyM/fFwkXCR8W35eYF18XCk/XClcKSkkL319LHJlcGxhY2VtZW50OntwYXR0ZXJuOi9cKCg/OkN8VE18UilcKS8sYWxpYXM6ImJ1aWx0aW4ifSxlbnRpdHk6LyYjP1tcZGEtel17MSw4fTsvaSwibGluZS1jb250aW51YXRpb24iOntwYXR0ZXJuOi8oXnwgKVwrJC9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InB1bmN0dWF0aW9uIn19LGkuaW5zaWRlLmludGVycHJldGVkLmluc2lkZS5yZXN0PXttYWNybzphLmxhbmd1YWdlcy5hc2NpaWRvYy5tYWNybyxpbmxpbmU6YS5sYW5ndWFnZXMuYXNjaWlkb2MuaW5saW5lLHJlcGxhY2VtZW50OmEubGFuZ3VhZ2VzLmFzY2lpZG9jLnJlcGxhY2VtZW50LGVudGl0eTphLmxhbmd1YWdlcy5hc2NpaWRvYy5lbnRpdHl9LGEubGFuZ3VhZ2VzLmFzY2lpZG9jWyJwYXNzdGhyb3VnaC1ibG9jayJdLmluc2lkZS5yZXN0PXttYWNybzphLmxhbmd1YWdlcy5hc2NpaWRvYy5tYWNyb30sYS5sYW5ndWFnZXMuYXNjaWlkb2NbImxpdGVyYWwtYmxvY2siXS5pbnNpZGUucmVzdD17Y2FsbG91dDphLmxhbmd1YWdlcy5hc2NpaWRvYy5jYWxsb3V0fSxhLmxhbmd1YWdlcy5hc2NpaWRvYy50YWJsZS5pbnNpZGUucmVzdD17ImNvbW1lbnQtYmxvY2siOmEubGFuZ3VhZ2VzLmFzY2lpZG9jWyJjb21tZW50LWJsb2NrIl0sInBhc3N0aHJvdWdoLWJsb2NrIjphLmxhbmd1YWdlcy5hc2NpaWRvY1sicGFzc3Rocm91Z2gtYmxvY2siXSwibGl0ZXJhbC1ibG9jayI6YS5sYW5ndWFnZXMuYXNjaWlkb2NbImxpdGVyYWwtYmxvY2siXSwib3RoZXItYmxvY2siOmEubGFuZ3VhZ2VzLmFzY2lpZG9jWyJvdGhlci1ibG9jayJdLCJsaXN0LXB1bmN0dWF0aW9uIjphLmxhbmd1YWdlcy5hc2NpaWRvY1sibGlzdC1wdW5jdHVhdGlvbiJdLCJpbmRlbnRlZC1ibG9jayI6YS5sYW5ndWFnZXMuYXNjaWlkb2NbImluZGVudGVkLWJsb2NrIl0sY29tbWVudDphLmxhbmd1YWdlcy5hc2NpaWRvYy5jb21tZW50LHRpdGxlOmEubGFuZ3VhZ2VzLmFzY2lpZG9jLnRpdGxlLCJhdHRyaWJ1dGUtZW50cnkiOmEubGFuZ3VhZ2VzLmFzY2lpZG9jWyJhdHRyaWJ1dGUtZW50cnkiXSxhdHRyaWJ1dGVzOmEubGFuZ3VhZ2VzLmFzY2lpZG9jLmF0dHJpYnV0ZXMsaHI6YS5sYW5ndWFnZXMuYXNjaWlkb2MuaHIsInBhZ2UtYnJlYWsiOmEubGFuZ3VhZ2VzLmFzY2lpZG9jWyJwYWdlLWJyZWFrIl0sYWRtb25pdGlvbjphLmxhbmd1YWdlcy5hc2NpaWRvYy5hZG1vbml0aW9uLCJsaXN0LWxhYmVsIjphLmxhbmd1YWdlcy5hc2NpaWRvY1sibGlzdC1sYWJlbCJdLGNhbGxvdXQ6YS5sYW5ndWFnZXMuYXNjaWlkb2MuY2FsbG91dCxtYWNybzphLmxhbmd1YWdlcy5hc2NpaWRvYy5tYWNybyxpbmxpbmU6YS5sYW5ndWFnZXMuYXNjaWlkb2MuaW5saW5lLHJlcGxhY2VtZW50OmEubGFuZ3VhZ2VzLmFzY2lpZG9jLnJlcGxhY2VtZW50LGVudGl0eTphLmxhbmd1YWdlcy5hc2NpaWRvYy5lbnRpdHksImxpbmUtY29udGludWF0aW9uIjphLmxhbmd1YWdlcy5hc2NpaWRvY1sibGluZS1jb250aW51YXRpb24iXX0sYS5sYW5ndWFnZXMuYXNjaWlkb2NbIm90aGVyLWJsb2NrIl0uaW5zaWRlLnJlc3Q9e3RhYmxlOmEubGFuZ3VhZ2VzLmFzY2lpZG9jLnRhYmxlLCJsaXN0LXB1bmN0dWF0aW9uIjphLmxhbmd1YWdlcy5hc2NpaWRvY1sibGlzdC1wdW5jdHVhdGlvbiJdLCJpbmRlbnRlZC1ibG9jayI6YS5sYW5ndWFnZXMuYXNjaWlkb2NbImluZGVudGVkLWJsb2NrIl0sY29tbWVudDphLmxhbmd1YWdlcy5hc2NpaWRvYy5jb21tZW50LCJhdHRyaWJ1dGUtZW50cnkiOmEubGFuZ3VhZ2VzLmFzY2lpZG9jWyJhdHRyaWJ1dGUtZW50cnkiXSxhdHRyaWJ1dGVzOmEubGFuZ3VhZ2VzLmFzY2lpZG9jLmF0dHJpYnV0ZXMsaHI6YS5sYW5ndWFnZXMuYXNjaWlkb2MuaHIsInBhZ2UtYnJlYWsiOmEubGFuZ3VhZ2VzLmFzY2lpZG9jWyJwYWdlLWJyZWFrIl0sYWRtb25pdGlvbjphLmxhbmd1YWdlcy5hc2NpaWRvYy5hZG1vbml0aW9uLCJsaXN0LWxhYmVsIjphLmxhbmd1YWdlcy5hc2NpaWRvY1sibGlzdC1sYWJlbCJdLG1hY3JvOmEubGFuZ3VhZ2VzLmFzY2lpZG9jLm1hY3JvLGlubGluZTphLmxhbmd1YWdlcy5hc2NpaWRvYy5pbmxpbmUscmVwbGFjZW1lbnQ6YS5sYW5ndWFnZXMuYXNjaWlkb2MucmVwbGFjZW1lbnQsZW50aXR5OmEubGFuZ3VhZ2VzLmFzY2lpZG9jLmVudGl0eSwibGluZS1jb250aW51YXRpb24iOmEubGFuZ3VhZ2VzLmFzY2lpZG9jWyJsaW5lLWNvbnRpbnVhdGlvbiJdfSxhLmxhbmd1YWdlcy5hc2NpaWRvYy50aXRsZS5pbnNpZGUucmVzdD17bWFjcm86YS5sYW5ndWFnZXMuYXNjaWlkb2MubWFjcm8saW5saW5lOmEubGFuZ3VhZ2VzLmFzY2lpZG9jLmlubGluZSxyZXBsYWNlbWVudDphLmxhbmd1YWdlcy5hc2NpaWRvYy5yZXBsYWNlbWVudCxlbnRpdHk6YS5sYW5ndWFnZXMuYXNjaWlkb2MuZW50aXR5fSxhLmhvb2tzLmFkZCgid3JhcCIsZnVuY3Rpb24oYSl7ImVudGl0eSI9PT1hLnR5cGUmJihhLmF0dHJpYnV0ZXMudGl0bGU9YS5jb250ZW50LnJlcGxhY2UoLyZhbXA7LywiJiIpKX0pfShQcmlzbSk7ClByaXNtLmxhbmd1YWdlcy5hc3BuZXQ9UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgibWFya3VwIix7InBhZ2UtZGlyZWN0aXZlIHRhZyI6e3BhdHRlcm46LzwlXHMqQC4qJT4vaSxpbnNpZGU6eyJwYWdlLWRpcmVjdGl2ZSB0YWciOi88JVxzKkBccyooPzpBc3NlbWJseXxDb250cm9sfEltcGxlbWVudHN8SW1wb3J0fE1hc3Rlcig/OlR5cGUpP3xPdXRwdXRDYWNoZXxQYWdlfFByZXZpb3VzUGFnZVR5cGV8UmVmZXJlbmNlfFJlZ2lzdGVyKT98JT4vaSxyZXN0OlByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZX19LCJkaXJlY3RpdmUgdGFnIjp7cGF0dGVybjovPCUuKiU+L2ksaW5zaWRlOnsiZGlyZWN0aXZlIHRhZyI6LzwlXHMqP1skPSUjOl17MCwyfXwlPi9pLHJlc3Q6UHJpc20ubGFuZ3VhZ2VzLmNzaGFycH19fSksUHJpc20ubGFuZ3VhZ2VzLmFzcG5ldC50YWcucGF0dGVybj0vPCg/ISUpXC8/W15ccz5cL10rKD86XHMrW15ccz5cLz1dKyg/Oj0oPzooInwnKSg/OlxcXDF8XFw/KD8hXDEpW1x3XFddKSpcMXxbXlxzJyI+PV0rKSk/KSpccypcLz8+L2ksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiaW5zaWRlIiwicHVuY3R1YXRpb24iLHsiZGlyZWN0aXZlIHRhZyI6UHJpc20ubGFuZ3VhZ2VzLmFzcG5ldFsiZGlyZWN0aXZlIHRhZyJdfSxQcmlzbS5sYW5ndWFnZXMuYXNwbmV0LnRhZy5pbnNpZGVbImF0dHItdmFsdWUiXSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiYXNwbmV0IiwiY29tbWVudCIseyJhc3AgY29tbWVudCI6LzwlLS1bXHdcV10qPy0tJT4vfSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiYXNwbmV0IixQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdD8ic2NyaXB0IjoidGFnIix7ImFzcCBzY3JpcHQiOntwYXR0ZXJuOi8oPHNjcmlwdCg/PS4qcnVuYXQ9WyciXT9zZXJ2ZXJbJyJdPylbXHdcV10qPz4pW1x3XFddKj8oPz08XC9zY3JpcHQ+KS9pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5jc2hhcnB8fHt9fX0pOwpQcmlzbS5sYW5ndWFnZXMuYXV0b2l0PXtjb21tZW50OlsvOy4qLyx7cGF0dGVybjovKF5ccyopIyg/OmNvbW1lbnRzLXN0YXJ0fGNzKVtcc1xTXSo/XlxzKiMoPzpjb21tZW50cy1lbmR8Y2UpL20sbG9va2JlaGluZDohMH1dLHVybDp7cGF0dGVybjovKF5ccyojaW5jbHVkZVxzKykoPzo8W15cclxuPl0rPnwiW15cclxuIl0rIikvbSxsb29rYmVoaW5kOiEwfSxzdHJpbmc6e3BhdHRlcm46LyhbIiddKSg/OlwxXDF8KD8hXDEpW15cclxuXSkqXDEvLGdyZWVkeTohMCxpbnNpZGU6e3ZhcmlhYmxlOi8oWyUkQF0pXHcrXDEvfX0sZGlyZWN0aXZlOntwYXR0ZXJuOi8oXlxzKikjXHcrL20sbG9va2JlaGluZDohMCxhbGlhczoia2V5d29yZCJ9LCJmdW5jdGlvbiI6L1xiXHcrKD89XCgpLyx2YXJpYWJsZTovWyRAXVx3Ky8sa2V5d29yZDovXGIoPzpDYXNlfENvbnN0fENvbnRpbnVlKD86Q2FzZXxMb29wKXxEZWZhdWx0fERpbXxEb3xFbHNlKD86SWYpP3xFbmQoPzpGdW5jfElmfFNlbGVjdHxTd2l0Y2h8V2l0aCl8RW51bXxFeGl0KD86TG9vcCk/fEZvcnxGdW5jfEdsb2JhbHxJZnxJbnxMb2NhbHxOZXh0fE51bGx8UmVEaW18U2VsZWN0fFN0YXRpY3xTdGVwfFN3aXRjaHxUaGVufFRvfFVudGlsfFZvbGF0aWxlfFdFbmR8V2hpbGV8V2l0aClcYi9pLG51bWJlcjovXGIoPzoweFtcZGEtZl0rfFxkKyg/OlwuXGQrKT8oPzplWystXT9cZCspPylcYi9pLCJib29sZWFuIjovXGIoPzpUcnVlfEZhbHNlKVxiL2ksb3BlcmF0b3I6LzxbPT5dP3xbLSsqXC89Jj5dPT98Wz9eXXxcYig/OkFuZHxPcnxOb3QpXGIvaSxwdW5jdHVhdGlvbjovW1xbXF0oKS4sOl0vfTsKUHJpc20ubGFuZ3VhZ2VzLmF1dG9ob3RrZXk9e2NvbW1lbnQ6e3BhdHRlcm46LyheW14iO1xuXSooIlteIlxuXSo/IlteIlxuXSo/KSopKDsuKiR8XlxzKlwvXCpbXHNcU10qXG5cKlwvKS9tLGxvb2tiZWhpbmQ6ITB9LHN0cmluZzovIigoW14iXG5ccl18IiIpKikiL20sImZ1bmN0aW9uIjovW15cKFwpOyBcdCxcblwrXCpcLT1cPz46XFxcLzwmJVxbXF1dKz8oPz1cKCkvbSx0YWc6L15bIFx0XSpbXlxzOl0rPyg/PTooPzpbXjpdfCQpKS9tLHZhcmlhYmxlOi8lXHcrJS8sbnVtYmVyOi9cYi0/KDB4W1xkQS1GYS1mXSt8XGQqXC4/XGQrKFtFZV0tP1xkKyk/KVxiLyxvcGVyYXRvcjovXD98XC9cLz89P3w6PXxcfFs9fF0/fCZbPSZdP3xcK1s9K10/fC1bPS1dP3xcKls9Kl0/fDwoPzo8PT98Pnw9KT98Pj4/PT98Wy5eIT1+XT0/fFxiKD86QU5EfE5PVHxPUilcYi8scHVuY3R1YXRpb246L1tce31bXF1cKFwpOixdLywiYm9vbGVhbiI6L1xiKHRydWV8ZmFsc2UpXGIvLHNlbGVjdG9yOi9cYihBdXRvVHJpbXxCbG9ja0lucHV0fEJyZWFrfENsaWNrfENsaXBXYWl0fENvbnRpbnVlfENvbnRyb2x8Q29udHJvbENsaWNrfENvbnRyb2xGb2N1c3xDb250cm9sR2V0fENvbnRyb2xHZXRGb2N1c3xDb250cm9sR2V0UG9zfENvbnRyb2xHZXRUZXh0fENvbnRyb2xNb3ZlfENvbnRyb2xTZW5kfENvbnRyb2xTZW5kUmF3fENvbnRyb2xTZXRUZXh0fENvb3JkTW9kZXxDcml0aWNhbHxEZXRlY3RIaWRkZW5UZXh0fERldGVjdEhpZGRlbldpbmRvd3N8RHJpdmV8RHJpdmVHZXR8RHJpdmVTcGFjZUZyZWV8RW52QWRkfEVudkRpdnxFbnZHZXR8RW52TXVsdHxFbnZTZXR8RW52U3VifEVudlVwZGF0ZXxFeGl0fEV4aXRBcHB8RmlsZUFwcGVuZHxGaWxlQ29weXxGaWxlQ29weURpcnxGaWxlQ3JlYXRlRGlyfEZpbGVDcmVhdGVTaG9ydGN1dHxGaWxlRGVsZXRlfEZpbGVFbmNvZGluZ3xGaWxlR2V0QXR0cmlifEZpbGVHZXRTaG9ydGN1dHxGaWxlR2V0U2l6ZXxGaWxlR2V0VGltZXxGaWxlR2V0VmVyc2lvbnxGaWxlSW5zdGFsbHxGaWxlTW92ZXxGaWxlTW92ZURpcnxGaWxlUmVhZHxGaWxlUmVhZExpbmV8RmlsZVJlY3ljbGV8RmlsZVJlY3ljbGVFbXB0eXxGaWxlUmVtb3ZlRGlyfEZpbGVTZWxlY3RGaWxlfEZpbGVTZWxlY3RGb2xkZXJ8RmlsZVNldEF0dHJpYnxGaWxlU2V0VGltZXxGb3JtYXRUaW1lfEdldEtleVN0YXRlfEdvc3VifEdvdG98R3JvdXBBY3RpdmF0ZXxHcm91cEFkZHxHcm91cENsb3NlfEdyb3VwRGVhY3RpdmF0ZXxHdWl8R3VpQ29udHJvbHxHdWlDb250cm9sR2V0fEhvdGtleXxJbWFnZVNlYXJjaHxJbmlEZWxldGV8SW5pUmVhZHxJbmlXcml0ZXxJbnB1dHxJbnB1dEJveHxLZXlXYWl0fExpc3RIb3RrZXlzfExpc3RMaW5lc3xMaXN0VmFyc3xMb29wfE1lbnV8TW91c2VDbGlja3xNb3VzZUNsaWNrRHJhZ3xNb3VzZUdldFBvc3xNb3VzZU1vdmV8TXNnQm94fE9uRXhpdHxPdXRwdXREZWJ1Z3xQYXVzZXxQaXhlbEdldENvbG9yfFBpeGVsU2VhcmNofFBvc3RNZXNzYWdlfFByb2Nlc3N8UHJvZ3Jlc3N8UmFuZG9tfFJlZ0RlbGV0ZXxSZWdSZWFkfFJlZ1dyaXRlfFJlbG9hZHxSZXBlYXR8UmV0dXJufFJ1bnxSdW5Bc3xSdW5XYWl0fFNlbmR8U2VuZEV2ZW50fFNlbmRJbnB1dHxTZW5kTWVzc2FnZXxTZW5kTW9kZXxTZW5kUGxheXxTZW5kUmF3fFNldEJhdGNoTGluZXN8U2V0Q2Fwc2xvY2tTdGF0ZXxTZXRDb250cm9sRGVsYXl8U2V0RGVmYXVsdE1vdXNlU3BlZWR8U2V0RW52fFNldEZvcm1hdHxTZXRLZXlEZWxheXxTZXRNb3VzZURlbGF5fFNldE51bWxvY2tTdGF0ZXxTZXRTY3JvbGxMb2NrU3RhdGV8U2V0U3RvcmVDYXBzbG9ja01vZGV8U2V0VGltZXJ8U2V0VGl0bGVNYXRjaE1vZGV8U2V0V2luRGVsYXl8U2V0V29ya2luZ0RpcnxTaHV0ZG93bnxTbGVlcHxTb3J0fFNvdW5kQmVlcHxTb3VuZEdldHxTb3VuZEdldFdhdmVWb2x1bWV8U291bmRQbGF5fFNvdW5kU2V0fFNvdW5kU2V0V2F2ZVZvbHVtZXxTcGxhc2hJbWFnZXxTcGxhc2hUZXh0T2ZmfFNwbGFzaFRleHRPbnxTcGxpdFBhdGh8U3RhdHVzQmFyR2V0VGV4dHxTdGF0dXNCYXJXYWl0fFN0cmluZ0Nhc2VTZW5zZXxTdHJpbmdHZXRQb3N8U3RyaW5nTGVmdHxTdHJpbmdMZW58U3RyaW5nTG93ZXJ8U3RyaW5nTWlkfFN0cmluZ1JlcGxhY2V8U3RyaW5nUmlnaHR8U3RyaW5nU3BsaXR8U3RyaW5nVHJpbUxlZnR8U3RyaW5nVHJpbVJpZ2h0fFN0cmluZ1VwcGVyfFN1c3BlbmR8U3lzR2V0fFRocmVhZHxUb29sVGlwfFRyYW5zZm9ybXxUcmF5VGlwfFVSTERvd25sb2FkVG9GaWxlfFdpbkFjdGl2YXRlfFdpbkFjdGl2YXRlQm90dG9tfFdpbkNsb3NlfFdpbkdldHxXaW5HZXRBY3RpdmVTdGF0c3xXaW5HZXRBY3RpdmVUaXRsZXxXaW5HZXRDbGFzc3xXaW5HZXRQb3N8V2luR2V0VGV4dHxXaW5HZXRUaXRsZXxXaW5IaWRlfFdpbktpbGx8V2luTWF4aW1pemV8V2luTWVudVNlbGVjdEl0ZW18V2luTWluaW1pemV8V2luTWluaW1pemVBbGx8V2luTWluaW1pemVBbGxVbmRvfFdpbk1vdmV8V2luUmVzdG9yZXxXaW5TZXR8V2luU2V0VGl0bGV8V2luU2hvd3xXaW5XYWl0fFdpbldhaXRBY3RpdmV8V2luV2FpdENsb3NlfFdpbldhaXROb3RBY3RpdmUpXGIvaSxjb25zdGFudDovXGIoYV9haGtwYXRofGFfYWhrdmVyc2lvbnxhX2FwcGRhdGF8YV9hcHBkYXRhY29tbW9ufGFfYXV0b3RyaW18YV9iYXRjaGxpbmVzfGFfY2FyZXR4fGFfY2FyZXR5fGFfY29tcHV0ZXJuYW1lfGFfY29udHJvbGRlbGF5fGFfY3Vyc29yfGFfZGR8YV9kZGR8YV9kZGRkfGFfZGVmYXVsdG1vdXNlc3BlZWR8YV9kZXNrdG9wfGFfZGVza3RvcGNvbW1vbnxhX2RldGVjdGhpZGRlbnRleHR8YV9kZXRlY3RoaWRkZW53aW5kb3dzfGFfZW5kY2hhcnxhX2V2ZW50aW5mb3xhX2V4aXRyZWFzb258YV9mb3JtYXRmbG9hdHxhX2Zvcm1hdGludGVnZXJ8YV9ndWl8YV9ndWlldmVudHxhX2d1aWNvbnRyb2x8YV9ndWljb250cm9sZXZlbnR8YV9ndWloZWlnaHR8YV9ndWl3aWR0aHxhX2d1aXh8YV9ndWl5fGFfaG91cnxhX2ljb25maWxlfGFfaWNvbmhpZGRlbnxhX2ljb25udW1iZXJ8YV9pY29udGlwfGFfaW5kZXh8YV9pcGFkZHJlc3MxfGFfaXBhZGRyZXNzMnxhX2lwYWRkcmVzczN8YV9pcGFkZHJlc3M0fGFfaXNhZG1pbnxhX2lzY29tcGlsZWR8YV9pc2NyaXRpY2FsfGFfaXNwYXVzZWR8YV9pc3N1c3BlbmRlZHxhX2lzdW5pY29kZXxhX2tleWRlbGF5fGFfbGFuZ3VhZ2V8YV9sYXN0ZXJyb3J8YV9saW5lZmlsZXxhX2xpbmVudW1iZXJ8YV9sb29wZmllbGR8YV9sb29wZmlsZWF0dHJpYnxhX2xvb3BmaWxlZGlyfGFfbG9vcGZpbGVleHR8YV9sb29wZmlsZWZ1bGxwYXRofGFfbG9vcGZpbGVsb25ncGF0aHxhX2xvb3BmaWxlbmFtZXxhX2xvb3BmaWxlc2hvcnRuYW1lfGFfbG9vcGZpbGVzaG9ydHBhdGh8YV9sb29wZmlsZXNpemV8YV9sb29wZmlsZXNpemVrYnxhX2xvb3BmaWxlc2l6ZW1ifGFfbG9vcGZpbGV0aW1lYWNjZXNzZWR8YV9sb29wZmlsZXRpbWVjcmVhdGVkfGFfbG9vcGZpbGV0aW1lbW9kaWZpZWR8YV9sb29wcmVhZGxpbmV8YV9sb29wcmVna2V5fGFfbG9vcHJlZ25hbWV8YV9sb29wcmVnc3Via2V5fGFfbG9vcHJlZ3RpbWVtb2RpZmllZHxhX2xvb3ByZWd0eXBlfGFfbWRheXxhX21pbnxhX21tfGFfbW1tfGFfbW1tbXxhX21vbnxhX21vdXNlZGVsYXl8YV9tc2VjfGFfbXlkb2N1bWVudHN8YV9ub3d8YV9ub3d1dGN8YV9udW1iYXRjaGxpbmVzfGFfb3N0eXBlfGFfb3N2ZXJzaW9ufGFfcHJpb3Job3RrZXl8cHJvZ3JhbWZpbGVzfGFfcHJvZ3JhbWZpbGVzfGFfcHJvZ3JhbXN8YV9wcm9ncmFtc2NvbW1vbnxhX3NjcmVlbmhlaWdodHxhX3NjcmVlbndpZHRofGFfc2NyaXB0ZGlyfGFfc2NyaXB0ZnVsbHBhdGh8YV9zY3JpcHRuYW1lfGFfc2VjfGFfc3BhY2V8YV9zdGFydG1lbnV8YV9zdGFydG1lbnVjb21tb258YV9zdGFydHVwfGFfc3RhcnR1cGNvbW1vbnxhX3N0cmluZ2Nhc2VzZW5zZXxhX3RhYnxhX3RlbXB8YV90aGlzZnVuY3xhX3RoaXNob3RrZXl8YV90aGlzbGFiZWx8YV90aGlzbWVudXxhX3RoaXNtZW51aXRlbXxhX3RoaXNtZW51aXRlbXBvc3xhX3RpY2tjb3VudHxhX3RpbWVpZGxlfGFfdGltZWlkbGVwaHlzaWNhbHxhX3RpbWVzaW5jZXByaW9yaG90a2V5fGFfdGltZXNpbmNldGhpc2hvdGtleXxhX3RpdGxlbWF0Y2htb2RlfGFfdGl0bGVtYXRjaG1vZGVzcGVlZHxhX3VzZXJuYW1lfGFfd2RheXxhX3dpbmRlbGF5fGFfd2luZGlyfGFfd29ya2luZ2RpcnxhX3lkYXl8YV95ZWFyfGFfeXdlZWt8YV95eXl5fGNsaXBib2FyZHxjbGlwYm9hcmRhbGx8Y29tc3BlY3xlcnJvcmxldmVsKVxiL2ksYnVpbHRpbjovXGIoYWJzfGFjb3N8YXNjfGFzaW58YXRhbnxjZWlsfGNocnxjbGFzc3xjb3N8ZGxsY2FsbHxleHB8ZmlsZWV4aXN0fEZpbGVvcGVufGZsb29yfGlsX2FkZHxpbF9jcmVhdGV8aWxfZGVzdHJveXxpbnN0cnxzdWJzdHJ8aXNmdW5jfGlzbGFiZWx8SXNPYmplY3R8bG58bG9nfGx2X2FkZHxsdl9kZWxldGV8bHZfZGVsZXRlY29sfGx2X2dldGNvdW50fGx2X2dldG5leHR8bHZfZ2V0dGV4dHxsdl9pbnNlcnR8bHZfaW5zZXJ0Y29sfGx2X21vZGlmeXxsdl9tb2RpZnljb2x8bHZfc2V0aW1hZ2VsaXN0fG1vZHxvbm1lc3NhZ2V8bnVtZ2V0fG51bXB1dHxyZWdpc3RlcmNhbGxiYWNrfHJlZ2V4bWF0Y2h8cmVnZXhyZXBsYWNlfHJvdW5kfHNpbnx0YW58c3FydHxzdHJsZW58c2Jfc2V0aWNvbnxzYl9zZXRwYXJ0c3xzYl9zZXR0ZXh0fHN0cnNwbGl0fHR2X2FkZHx0dl9kZWxldGV8dHZfZ2V0Y2hpbGR8dHZfZ2V0Y291bnR8dHZfZ2V0bmV4dHx0dl9nZXR8dHZfZ2V0cGFyZW50fHR2X2dldHByZXZ8dHZfZ2V0c2VsZWN0aW9ufHR2X2dldHRleHR8dHZfbW9kaWZ5fHZhcnNldGNhcGFjaXR5fHdpbmFjdGl2ZXx3aW5leGlzdHxfX05ld3xfX0NhbGx8X19HZXR8X19TZXQpXGIvaSxzeW1ib2w6L1xiKGFsdHxhbHRkb3dufGFsdHVwfGFwcHNrZXl8YmFja3NwYWNlfGJyb3dzZXJfYmFja3xicm93c2VyX2Zhdm9yaXRlc3xicm93c2VyX2ZvcndhcmR8YnJvd3Nlcl9ob21lfGJyb3dzZXJfcmVmcmVzaHxicm93c2VyX3NlYXJjaHxicm93c2VyX3N0b3B8YnN8Y2Fwc2xvY2t8Y3RybHxjdHJsYnJlYWt8Y3RybGRvd258Y3RybHVwfGRlbHxkZWxldGV8ZG93bnxlbmR8ZW50ZXJ8ZXNjfGVzY2FwZXxmMXxmMTB8ZjExfGYxMnxmMTN8ZjE0fGYxNXxmMTZ8ZjE3fGYxOHxmMTl8ZjJ8ZjIwfGYyMXxmMjJ8ZjIzfGYyNHxmM3xmNHxmNXxmNnxmN3xmOHxmOXxob21lfGluc3xpbnNlcnR8am95MXxqb3kxMHxqb3kxMXxqb3kxMnxqb3kxM3xqb3kxNHxqb3kxNXxqb3kxNnxqb3kxN3xqb3kxOHxqb3kxOXxqb3kyfGpveTIwfGpveTIxfGpveTIyfGpveTIzfGpveTI0fGpveTI1fGpveTI2fGpveTI3fGpveTI4fGpveTI5fGpveTN8am95MzB8am95MzF8am95MzJ8am95NHxqb3k1fGpveTZ8am95N3xqb3k4fGpveTl8am95YXhlc3xqb3lidXR0b25zfGpveWluZm98am95bmFtZXxqb3lwb3Z8am95cnxqb3l1fGpveXZ8am95eHxqb3l5fGpveXp8bGFsdHxsYXVuY2hfYXBwMXxsYXVuY2hfYXBwMnxsYXVuY2hfbWFpbHxsYXVuY2hfbWVkaWF8bGJ1dHRvbnxsY29udHJvbHxsY3RybHxsZWZ0fGxzaGlmdHxsd2lufGx3aW5kb3dufGx3aW51cHxtYnV0dG9ufG1lZGlhX25leHR8bWVkaWFfcGxheV9wYXVzZXxtZWRpYV9wcmV2fG1lZGlhX3N0b3B8bnVtbG9ja3xudW1wYWQwfG51bXBhZDF8bnVtcGFkMnxudW1wYWQzfG51bXBhZDR8bnVtcGFkNXxudW1wYWQ2fG51bXBhZDd8bnVtcGFkOHxudW1wYWQ5fG51bXBhZGFkZHxudW1wYWRjbGVhcnxudW1wYWRkZWx8bnVtcGFkZGl2fG51bXBhZGRvdHxudW1wYWRkb3dufG51bXBhZGVuZHxudW1wYWRlbnRlcnxudW1wYWRob21lfG51bXBhZGluc3xudW1wYWRsZWZ0fG51bXBhZG11bHR8bnVtcGFkcGdkbnxudW1wYWRwZ3VwfG51bXBhZHJpZ2h0fG51bXBhZHN1YnxudW1wYWR1cHxwZ2RufHBndXB8cHJpbnRzY3JlZW58cmFsdHxyYnV0dG9ufHJjb250cm9sfHJjdHJsfHJpZ2h0fHJzaGlmdHxyd2lufHJ3aW5kb3dufHJ3aW51cHxzY3JvbGxsb2NrfHNoaWZ0fHNoaWZ0ZG93bnxzaGlmdHVwfHNwYWNlfHRhYnx1cHx2b2x1bWVfZG93bnx2b2x1bWVfbXV0ZXx2b2x1bWVfdXB8d2hlZWxkb3dufHdoZWVsbGVmdHx3aGVlbHJpZ2h0fHdoZWVsdXB8eGJ1dHRvbjF8eGJ1dHRvbjIpXGIvaSxpbXBvcnRhbnQ6LyNcYihBbGxvd1NhbWVMaW5lQ29tbWVudHN8Q2xpcGJvYXJkVGltZW91dHxDb21tZW50RmxhZ3xFcnJvclN0ZE91dHxFc2NhcGVDaGFyfEhvdGtleUludGVydmFsfEhvdGtleU1vZGlmaWVyVGltZW91dHxIb3RzdHJpbmd8SWZXaW5BY3RpdmV8SWZXaW5FeGlzdHxJZldpbk5vdEFjdGl2ZXxJZldpbk5vdEV4aXN0fEluY2x1ZGV8SW5jbHVkZUFnYWlufEluc3RhbGxLZXliZEhvb2t8SW5zdGFsbE1vdXNlSG9va3xLZXlIaXN0b3J5fExUcmltfE1heEhvdGtleXNQZXJJbnRlcnZhbHxNYXhNZW18TWF4VGhyZWFkc3xNYXhUaHJlYWRzQnVmZmVyfE1heFRocmVhZHNQZXJIb3RrZXl8Tm9FbnZ8Tm9UcmF5SWNvbnxQZXJzaXN0ZW50fFNpbmdsZUluc3RhbmNlfFVzZUhvb2t8V2luQWN0aXZhdGVGb3JjZSlcYi9pLGtleXdvcmQ6L1xiKEFib3J0fEFib3ZlTm9ybWFsfEFkZHxhaGtfY2xhc3N8YWhrX2dyb3VwfGFoa19pZHxhaGtfcGlkfEFsbHxBbG51bXxBbHBoYXxBbHRTdWJtaXR8QWx0VGFifEFsdFRhYkFuZE1lbnV8QWx0VGFiTWVudXxBbHRUYWJNZW51RGlzbWlzc3xBbHdheXNPblRvcHxBdXRvU2l6ZXxCYWNrZ3JvdW5kfEJhY2tncm91bmRUcmFuc3xCZWxvd05vcm1hbHxiZXR3ZWVufEJpdEFuZHxCaXROb3R8Qml0T3J8Qml0U2hpZnRMZWZ0fEJpdFNoaWZ0UmlnaHR8Qml0WE9yfEJvbGR8Qm9yZGVyfEJ1dHRvbnxCeVJlZnxDaGVja2JveHxDaGVja2VkfENoZWNrZWRHcmF5fENob29zZXxDaG9vc2VTdHJpbmd8Q2xvc2V8Q29sb3J8Q29tYm9Cb3h8Q29udGFpbnN8Q29udHJvbExpc3R8Q291bnR8RGF0ZXxEYXRlVGltZXxEYXlzfERETHxEZWZhdWx0fERlbGV0ZUFsbHxEZWxpbWl0ZXJ8RGVyZWZ8RGVzdHJveXxEaWdpdHxEaXNhYmxlfERpc2FibGVkfERyb3BEb3duTGlzdHxFZGl0fEVqZWN0fEVsc2V8RW5hYmxlfEVuYWJsZWR8RXJyb3J8RXhpc3R8RXhwYW5kfEV4U3R5bGV8RmlsZVN5c3RlbXxGaXJzdHxGbGFzaHxGbG9hdHxGbG9hdEZhc3R8Rm9jdXN8Rm9udHxmb3J8Z2xvYmFsfEdyaWR8R3JvdXB8R3JvdXBCb3h8R3VpQ2xvc2V8R3VpQ29udGV4dE1lbnV8R3VpRHJvcEZpbGVzfEd1aUVzY2FwZXxHdWlTaXplfEhkcnxIaWRkZW58SGlkZXxIaWdofEhLQ0N8SEtDUnxIS0NVfEhLRVlfQ0xBU1NFU19ST09UfEhLRVlfQ1VSUkVOVF9DT05GSUd8SEtFWV9DVVJSRU5UX1VTRVJ8SEtFWV9MT0NBTF9NQUNISU5FfEhLRVlfVVNFUlN8SEtMTXxIS1V8SG91cnN8SFNjcm9sbHxJY29ufEljb25TbWFsbHxJRHxJRExhc3R8SWZ8SWZFcXVhbHxJZkV4aXN0fElmR3JlYXRlcnxJZkdyZWF0ZXJPckVxdWFsfElmSW5TdHJpbmd8SWZMZXNzfElmTGVzc09yRXF1YWx8SWZNc2dCb3h8SWZOb3RFcXVhbHxJZk5vdEV4aXN0fElmTm90SW5TdHJpbmd8SWZXaW5BY3RpdmV8SWZXaW5FeGlzdHxJZldpbk5vdEFjdGl2ZXxJZldpbk5vdEV4aXN0fElnbm9yZXxJbWFnZUxpc3R8aW58SW50ZWdlcnxJbnRlZ2VyRmFzdHxJbnRlcnJ1cHR8aXN8aXRhbGljfEpvaW58TGFiZWx8TGFzdEZvdW5kfExhc3RGb3VuZEV4aXN0fExpbWl0fExpbmVzfExpc3R8TGlzdEJveHxMaXN0Vmlld3xsb2NhbHxMb2NrfExvZ29mZnxMb3d8TG93ZXJ8TG93ZXJjYXNlfE1haW5XaW5kb3d8TWFyZ2lufE1heGltaXplfE1heGltaXplQm94fE1heFNpemV8TWluaW1pemV8TWluaW1pemVCb3h8TWluTWF4fE1pblNpemV8TWludXRlc3xNb250aENhbHxNb3VzZXxNb3ZlfE11bHRpfE5BfE5vfE5vQWN0aXZhdGV8Tm9EZWZhdWx0fE5vSGlkZXxOb0ljb258Tm9NYWluV2luZG93fG5vcm18Tm9ybWFsfE5vU29ydHxOb1NvcnRIZHJ8Tm9TdGFuZGFyZHxOb3R8Tm9UYWJ8Tm9UaW1lcnN8TnVtYmVyfE9mZnxPa3xPbnxPd25EaWFsb2dzfE93bmVyfFBhcnNlfFBhc3N3b3JkfFBpY3R1cmV8UGl4ZWx8UG9zfFBvd3xQcmlvcml0eXxQcm9jZXNzTmFtZXxSYWRpb3xSYW5nZXxSZWFkfFJlYWRPbmx5fFJlYWx0aW1lfFJlZHJhd3xSRUdfQklOQVJZfFJFR19EV09SRHxSRUdfRVhQQU5EX1NafFJFR19NVUxUSV9TWnxSRUdfU1p8UmVnaW9ufFJlbGF0aXZlfFJlbmFtZXxSZXBvcnR8UmVzaXplfFJlc3RvcmV8UmV0cnl8UkdCfFNjcmVlbnxTZWNvbmRzfFNlY3Rpb258U2VyaWFsfFNldExhYmVsfFNoaWZ0QWx0VGFifFNob3d8U2luZ2xlfFNsaWRlcnxTb3J0RGVzY3xTdGFuZGFyZHxzdGF0aWN8U3RhdHVzfFN0YXR1c0JhcnxTdGF0dXNDRHxzdHJpa2V8U3R5bGV8U3VibWl0fFN5c01lbnV8VGFiMnxUYWJTdG9wfFRleHR8VGhlbWV8VGlsZXxUb2dnbGVDaGVja3xUb2dnbGVFbmFibGV8VG9vbFdpbmRvd3xUb3B8VG9wbW9zdHxUcmFuc0NvbG9yfFRyYW5zcGFyZW50fFRyYXl8VHJlZVZpZXd8VHJ5QWdhaW58VHlwZXxVbkNoZWNrfHVuZGVybGluZXxVbmljb2RlfFVubG9ja3xVcERvd258VXBwZXJ8VXBwZXJjYXNlfFVzZUVycm9yTGV2ZWx8VmlzfFZpc0ZpcnN0fFZpc2libGV8VlNjcm9sbHxXYWl0fFdhaXRDbG9zZXxXYW50Q3RybEF8V2FudEYyfFdhbnRSZXR1cm58V2hpbGV8V3JhcHxYZGlnaXR8eG18eHB8eHN8WWVzfHltfHlwfHlzKVxiL2l9OwohZnVuY3Rpb24oZSl7dmFyIHQ9e3ZhcmlhYmxlOlt7cGF0dGVybjovXCQ/XChcKFtcd1xXXSs/XClcKS8saW5zaWRlOnt2YXJpYWJsZTpbe3BhdHRlcm46LyheXCRcKFwoW1x3XFddKylcKVwpLyxsb29rYmVoaW5kOiEwfSwvXlwkXChcKC9dLG51bWJlcjovXGItPyg/OjB4W1xkQS1GYS1mXSt8XGQqXC4/XGQrKD86W0VlXS0/XGQrKT8pXGIvLG9wZXJhdG9yOi8tLT98LT18XCtcKz98XCs9fCE9P3x+fFwqXCo/fFwqPXxcLz0/fCU9P3w8PD0/fD4+PT98PD0/fD49P3w9PT98JiY/fCY9fFxePT98XHxcfD98XHw9fFw/fDovLHB1bmN0dWF0aW9uOi9cKFwoP3xcKVwpP3wsfDsvfX0se3BhdHRlcm46L1wkXChbXildK1wpfGBbXmBdK2AvLGluc2lkZTp7dmFyaWFibGU6L15cJFwofF5gfFwpJHxgJC99fSwvXCQoPzpbYS16MC05XyNcP1wqIUBdK3xce1tefV0rXH0pL2ldfTtlLmxhbmd1YWdlcy5iYXNoPXtzaGViYW5nOntwYXR0ZXJuOi9eIyFccypcL2JpblwvYmFzaHxeIyFccypcL2Jpblwvc2gvLGFsaWFzOiJpbXBvcnRhbnQifSxjb21tZW50OntwYXR0ZXJuOi8oXnxbXiJ7XFxdKSMuKi8sbG9va2JlaGluZDohMH0sc3RyaW5nOlt7cGF0dGVybjovKCg/Ol58W148XSk8PFxzKikoPzoifCcpPyhcdys/KSg/OiJ8Jyk/XHMqXHI/XG4oPzpbXHNcU10pKj9ccj9cblwyL2csbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOnR9LHtwYXR0ZXJuOi8oWyInXSkoPzpcXFxcfFxcP1teXFxdKSo/XDEvZyxncmVlZHk6ITAsaW5zaWRlOnR9XSx2YXJpYWJsZTp0LnZhcmlhYmxlLCJmdW5jdGlvbiI6e3BhdHRlcm46LyhefFxzfDt8XHx8JikoPzphbGlhc3xhcHJvcG9zfGFwdC1nZXR8YXB0aXR1ZGV8YXNwZWxsfGF3a3xiYXNlbmFtZXxiYXNofGJjfGJnfGJ1aWx0aW58YnppcDJ8Y2FsfGNhdHxjZHxjZmRpc2t8Y2hncnB8Y2htb2R8Y2hvd258Y2hyb290fGNoa2NvbmZpZ3xja3N1bXxjbGVhcnxjbXB8Y29tbXxjb21tYW5kfGNwfGNyb258Y3JvbnRhYnxjc3BsaXR8Y3V0fGRhdGV8ZGN8ZGR8ZGRyZXNjdWV8ZGZ8ZGlmZnxkaWZmM3xkaWd8ZGlyfGRpcmNvbG9yc3xkaXJuYW1lfGRpcnN8ZG1lc2d8ZHV8ZWdyZXB8ZWplY3R8ZW5hYmxlfGVudnxldGh0b29sfGV2YWx8ZXhlY3xleHBhbmR8ZXhwZWN0fGV4cG9ydHxleHByfGZkZm9ybWF0fGZkaXNrfGZnfGZncmVwfGZpbGV8ZmluZHxmbXR8Zm9sZHxmb3JtYXR8ZnJlZXxmc2NrfGZ0cHxmdXNlcnxnYXdrfGdldG9wdHN8Z2l0fGdyZXB8Z3JvdXBhZGR8Z3JvdXBkZWx8Z3JvdXBtb2R8Z3JvdXBzfGd6aXB8aGFzaHxoZWFkfGhlbHB8aGd8aGlzdG9yeXxob3N0bmFtZXxodG9wfGljb252fGlkfGlmY29uZmlnfGlmZG93bnxpZnVwfGltcG9ydHxpbnN0YWxsfGpvYnN8am9pbnxraWxsfGtpbGxhbGx8bGVzc3xsaW5rfGxufGxvY2F0ZXxsb2duYW1lfGxvZ291dHxsb29rfGxwY3xscHJ8bHByaW50fGxwcmludGR8bHByaW50cXxscHJtfGxzfGxzb2Z8bWFrZXxtYW58bWtkaXJ8bWtmaWZvfG1raXNvZnN8bWtub2R8bW9yZXxtb3N0fG1vdW50fG10b29sc3xtdHJ8bXZ8bW12fG5hbm98bmV0c3RhdHxuaWNlfG5sfG5vaHVwfG5vdGlmeS1zZW5kfG5wbXxuc2xvb2t1cHxvcGVufG9wfHBhc3N3ZHxwYXN0ZXxwYXRoY2hrfHBpbmd8cGtpbGx8cG9wZHxwcnxwcmludGNhcHxwcmludGVudnxwcmludGZ8cHN8cHVzaGR8cHZ8cHdkfHF1b3RhfHF1b3RhY2hlY2t8cXVvdGFjdGx8cmFtfHJhcnxyY3B8cmVhZHxyZWFkYXJyYXl8cmVhZG9ubHl8cmVib290fHJlbmFtZXxyZW5pY2V8cmVtc3luY3xyZXZ8cm18cm1kaXJ8cnN5bmN8c2NyZWVufHNjcHxzZGlmZnxzZWR8c2VxfHNlcnZpY2V8c2Z0cHxzaGlmdHxzaG9wdHxzaHV0ZG93bnxzbGVlcHxzbG9jYXRlfHNvcnR8c291cmNlfHNwbGl0fHNzaHxzdGF0fHN0cmFjZXxzdXxzdWRvfHN1bXxzdXNwZW5kfHN5bmN8dGFpbHx0YXJ8dGVlfHRlc3R8dGltZXx0aW1lb3V0fHRpbWVzfHRvdWNofHRvcHx0cmFjZXJvdXRlfHRyYXB8dHJ8dHNvcnR8dHR5fHR5cGV8dWxpbWl0fHVtYXNrfHVtb3VudHx1bmFsaWFzfHVuYW1lfHVuZXhwYW5kfHVuaXF8dW5pdHN8dW5yYXJ8dW5zaGFyfHVwdGltZXx1c2VyYWRkfHVzZXJkZWx8dXNlcm1vZHx1c2Vyc3x1dWVuY29kZXx1dWRlY29kZXx2fHZkaXJ8dml8dm1zdGF0fHdhaXR8d2F0Y2h8d2N8d2dldHx3aGVyZWlzfHdoaWNofHdob3x3aG9hbWl8d3JpdGV8eGFyZ3N8eGRnLW9wZW58eWVzfHppcCkoPz0kfFxzfDt8XHx8JikvLGxvb2tiZWhpbmQ6ITB9LGtleXdvcmQ6e3BhdHRlcm46LyhefFxzfDt8XHx8JikoPzpsZXR8OnxcLnxpZnx0aGVufGVsc2V8ZWxpZnxmaXxmb3J8YnJlYWt8Y29udGludWV8d2hpbGV8aW58Y2FzZXxmdW5jdGlvbnxzZWxlY3R8ZG98ZG9uZXx1bnRpbHxlY2hvfGV4aXR8cmV0dXJufHNldHxkZWNsYXJlKSg/PSR8XHN8O3xcfHwmKS8sbG9va2JlaGluZDohMH0sImJvb2xlYW4iOntwYXR0ZXJuOi8oXnxcc3w7fFx8fCYpKD86dHJ1ZXxmYWxzZSkoPz0kfFxzfDt8XHx8JikvLGxvb2tiZWhpbmQ6ITB9LG9wZXJhdG9yOi8mJj98XHxcfD98PT0/fCE9P3w8PDw/fD4+fDw9P3w+PT98PX4vLHB1bmN0dWF0aW9uOi9cJD9cKFwoP3xcKVwpP3xcLlwufFt7fVtcXTtdL307dmFyIGE9dC52YXJpYWJsZVsxXS5pbnNpZGU7YVsiZnVuY3Rpb24iXT1lLmxhbmd1YWdlcy5iYXNoWyJmdW5jdGlvbiJdLGEua2V5d29yZD1lLmxhbmd1YWdlcy5iYXNoLmtleXdvcmQsYS5ib29sZWFuPWUubGFuZ3VhZ2VzLmJhc2guYm9vbGVhbixhLm9wZXJhdG9yPWUubGFuZ3VhZ2VzLmJhc2gub3BlcmF0b3IsYS5wdW5jdHVhdGlvbj1lLmxhbmd1YWdlcy5iYXNoLnB1bmN0dWF0aW9ufShQcmlzbSk7ClByaXNtLmxhbmd1YWdlcy5iYXNpYz17c3RyaW5nOi8iKD86IiJ8WyEjJCUmJygpKixcLzo7PD0+P15fICtcLS5BLVpcZF0pKiIvaSxjb21tZW50OntwYXR0ZXJuOi8oPzohfFJFTVxiKS4rL2ksaW5zaWRlOntrZXl3b3JkOi9eUkVNL2l9fSxudW1iZXI6Lyg/OlxifFxCWy4tXSkoPzpcZCtcLj9cZCopKD86RVsrLV0/XGQrKT8vaSxrZXl3b3JkOi9cYig/OkFTfEJFRVB8QkxPQUR8QlNBVkV8Q0FMTCg/OiBBQlNPTFVURSk/fENBU0V8Q0hBSU58Q0hESVJ8Q0xFQVJ8Q0xPU0V8Q0xTfENPTXxDT01NT058Q09OU1R8REFUQXxERUNMQVJFfERFRig/OiBGTnwgU0VHfERCTHxJTlR8TE5HfFNOR3xTVFIpfERJTXxET3xET1VCTEV8RUxTRXxFTFNFSUZ8RU5EfEVOVklST058RVJBU0V8RVJST1J8RVhJVHxGSUVMRHxGSUxFU3xGT1J8RlVOQ1RJT058R0VUfEdPU1VCfEdPVE98SUZ8SU5QVVR8SU5URUdFUnxJT0NUTHxLRVl8S0lMTHxMSU5FIElOUFVUfExPQ0FURXxMT0NLfExPTkd8TE9PUHxMU0VUfE1LRElSfE5BTUV8TkVYVHxPRkZ8T04oPzogQ09NfCBFUlJPUnwgS0VZfCBUSU1FUik/fE9QRU58T1BUSU9OIEJBU0V8T1VUfFBPS0V8UFVUfFJFQUR8UkVESU18UkVNfFJFU1RPUkV8UkVTVU1FfFJFVFVSTnxSTURJUnxSU0VUfFJVTnxTSEFSRUR8U0lOR0xFfFNFTEVDVCBDQVNFfFNIRUxMfFNMRUVQfFNUQVRJQ3xTVEVQfFNUT1B8U1RSSU5HfFNVQnxTV0FQfFNZU1RFTXxUSEVOfFRJTUVSfFRPfFRST0ZGfFRST058VFlQRXxVTkxPQ0t8VU5USUx8VVNJTkd8VklFVyBQUklOVHxXQUlUfFdFTkR8V0hJTEV8V1JJVEUpKD86XCR8XGIpL2ksImZ1bmN0aW9uIjovXGIoPzpBQlN8QUNDRVNTfEFDT1N8QU5HTEV8QVJFQXxBUklUSE1FVElDfEFSUkFZfEFTSU58QVNLfEFUfEFUTnxCQVNFfEJFR0lOfEJSRUFLfENBVVNFfENFSUx8Q0hSfENMSVB8Q09MTEFURXxDT0xPUnxDT058Q09TfENPU0h8Q09UfENTQ3xEQVRFfERBVFVNfERFQlVHfERFQ0lNQUx8REVGfERFR3xERUdSRUVTfERFTEVURXxERVR8REVWSUNFfERJU1BMQVl8RE9UfEVMQVBTRUR8RVBTfEVSQVNBQkxFfEVYTElORXxFWFB8RVhURVJOQUx8RVhUWVBFfEZJTEVUWVBFfEZJWEVEfEZQfEdPfEdSQVBIfEhBTkRMRVJ8SUROfElNQUdFfElOfElOVHxJTlRFUk5BTHxJUHxJU3xLRVlFRHxMQk9VTkR8TENBU0V8TEVGVHxMRU58TEVOR1RIfExFVHxMSU5FfExJTkVTfExPR3xMT0cxMHxMT0cyfExUUklNfE1BUkdJTnxNQVR8TUFYfE1BWE5VTXxNSUR8TUlOfE1JU1NJTkd8TU9EfE5BVElWRXxOVUx8TlVNRVJJQ3xPRnxPUFRJT058T1JEfE9SR0FOSVpBVElPTnxPVVRJTnxPVVRQVVR8UEl8UE9JTlR8UE9JTlRFUnxQT0lOVFN8UE9TfFBSSU5UfFBST0dSQU18UFJPTVBUfFJBRHxSQURJQU5TfFJBTkRPTUlaRXxSRUNPUkR8UkVDU0laRXxSRUNUWVBFfFJFTEFUSVZFfFJFTUFJTkRFUnxSRVBFQVR8UkVTVHxSRVRSWXxSRVdSSVRFfFJJR0hUfFJORHxST1VORHxSVFJJTXxTQU1FfFNFQ3xTRUxFQ1R8U0VRVUVOVElBTHxTRVR8U0VUVEVSfFNHTnxTSU58U0lOSHxTSVpFfFNLSVB8U1FSfFNUQU5EQVJEfFNUQVRVU3xTVFJ8U1RSRUFNfFNUWUxFfFRBQnxUQU58VEFOSHxURU1QTEFURXxURVhUfFRIRVJFfFRJTUV8VElNRU9VVHxUUkFDRXxUUkFOU0ZPUk18VFJVTkNBVEV8VUJPVU5EfFVDQVNFfFVTRXxWQUx8VkFSSUFCTEV8VklFV1BPUlR8V0hFTnxXSU5ET1d8V0lUSHxaRVJ8Wk9ORVdJRFRIKSg/OlwkfFxiKS9pLG9wZXJhdG9yOi88Wz0+XT98Pj0/fFsrXC0qXC9ePSZdfFxiKD86QU5EfEVRVnxJTVB8Tk9UfE9SfFhPUilcYi9pLHB1bmN0dWF0aW9uOi9bLDs6KCldL307CiFmdW5jdGlvbihlKXt2YXIgcj0vJSU/W346XHddKyU/fCFcUyshLyx0PXtwYXR0ZXJuOi9cL1thLXo/XSsoPz1bIDpdfCQpOj98LVthLXpdXGJ8LS1bYS16LV0rXGIvaW0sYWxpYXM6ImF0dHItbmFtZSIsaW5zaWRlOntwdW5jdHVhdGlvbjovOi99fSxuPS8iW14iXSoiLyxpPS8oPzpcYnwtKVxkK1xiLztlLmxhbmd1YWdlcy5iYXRjaD17Y29tbWVudDpbL146Oi4qL20se3BhdHRlcm46LygoPzpefFsmKF0pWyBcdF0qKXJlbVxiKD86W15eJilcclxuXXxcXig/OlxyXG58W1xzXFNdKSkqL2ltLGxvb2tiZWhpbmQ6ITB9XSxsYWJlbDp7cGF0dGVybjovXjouKi9tLGFsaWFzOiJwcm9wZXJ0eSJ9LGNvbW1hbmQ6W3twYXR0ZXJuOi8oKD86XnxbJihdKVsgXHRdKilmb3IoPzogP1wvW2Etej9dKD86WyA6XSg/OiJbXiJdKiJ8XFMrKSk/KSogXFMrIGluIFwoW14pXStcKSBkby9pbSxsb29rYmVoaW5kOiEwLGluc2lkZTp7a2V5d29yZDovXmZvclxifFxiKD86aW58ZG8pXGIvaSxzdHJpbmc6bixwYXJhbWV0ZXI6dCx2YXJpYWJsZTpyLG51bWJlcjppLHB1bmN0dWF0aW9uOi9bKCknLF0vfX0se3BhdHRlcm46LygoPzpefFsmKF0pWyBcdF0qKWlmKD86ID9cL1thLXo/XSg/OlsgOl0oPzoiW14iXSoifFxTKykpPykqICg/Om5vdCApPyg/OmNtZGV4dHZlcnNpb24gXGQrfGRlZmluZWQgXHcrfGVycm9ybGV2ZWwgXGQrfGV4aXN0IFxTK3woPzoiW14iXSoifFxTKyk/KD86PT18ICg/OmVxdXxuZXF8bHNzfGxlcXxndHJ8Z2VxKSApKD86IlteIl0qInxcUyspKS9pbSxsb29rYmVoaW5kOiEwLGluc2lkZTp7a2V5d29yZDovXmlmXGJ8XGIoPzpub3R8Y21kZXh0dmVyc2lvbnxkZWZpbmVkfGVycm9ybGV2ZWx8ZXhpc3QpXGIvaSxzdHJpbmc6bixwYXJhbWV0ZXI6dCx2YXJpYWJsZTpyLG51bWJlcjppLG9wZXJhdG9yOi9cXnw9PXxcYig/OmVxdXxuZXF8bHNzfGxlcXxndHJ8Z2VxKVxiL2l9fSx7cGF0dGVybjovKCg/Ol58WyYoKV0pWyBcdF0qKWVsc2VcYi9pbSxsb29rYmVoaW5kOiEwLGluc2lkZTp7a2V5d29yZDovXmVsc2VcYi9pfX0se3BhdHRlcm46LygoPzpefFsmKF0pWyBcdF0qKXNldCg/OiA/XC9bYS16XSg/OlsgOl0oPzoiW14iXSoifFxTKykpPykqICg/OlteXiYpXHJcbl18XF4oPzpcclxufFtcc1xTXSkpKi9pbSxsb29rYmVoaW5kOiEwLGluc2lkZTp7a2V5d29yZDovXnNldFxiL2ksc3RyaW5nOm4scGFyYW1ldGVyOnQsdmFyaWFibGU6W3IsL1x3Kyg/PSg/OlsqXC8lK1wtJl58XXw8PHw+Pik/PSkvXSxudW1iZXI6aSxvcGVyYXRvcjovWypcLyUrXC0mXnxdPT98PDw9P3w+Pj0/fFshfl89XS8scHVuY3R1YXRpb246L1soKScsXS99fSx7cGF0dGVybjovKCg/Ol58WyYoXSlbIFx0XSpAPylcdytcYig/OlteXiYpXHJcbl18XF4oPzpcclxufFtcc1xTXSkpKi9pbSxsb29rYmVoaW5kOiEwLGluc2lkZTp7a2V5d29yZDovXlx3K1xiL2ksc3RyaW5nOm4scGFyYW1ldGVyOnQsbGFiZWw6e3BhdHRlcm46LyheXHMqKTpcUysvbSxsb29rYmVoaW5kOiEwLGFsaWFzOiJwcm9wZXJ0eSJ9LHZhcmlhYmxlOnIsbnVtYmVyOmksb3BlcmF0b3I6L1xeL319XSxvcGVyYXRvcjovWyZAXS8scHVuY3R1YXRpb246L1soKSddL319KFByaXNtKTsKUHJpc20ubGFuZ3VhZ2VzLmM9UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgiY2xpa2UiLHtrZXl3b3JkOi9cYihhc218dHlwZW9mfGlubGluZXxhdXRvfGJyZWFrfGNhc2V8Y2hhcnxjb25zdHxjb250aW51ZXxkZWZhdWx0fGRvfGRvdWJsZXxlbHNlfGVudW18ZXh0ZXJufGZsb2F0fGZvcnxnb3RvfGlmfGludHxsb25nfHJlZ2lzdGVyfHJldHVybnxzaG9ydHxzaWduZWR8c2l6ZW9mfHN0YXRpY3xzdHJ1Y3R8c3dpdGNofHR5cGVkZWZ8dW5pb258dW5zaWduZWR8dm9pZHx2b2xhdGlsZXx3aGlsZSlcYi8sb3BlcmF0b3I6L1wtWz4tXT98XCtcKz98IT0/fDw8Pz0/fD4+Pz0/fD09P3wmJj98XHw/XHx8W35eJT8qXC9dLyxudW1iZXI6L1xiLT8oPzoweFtcZGEtZl0rfFxkKlwuP1xkKyg/OmVbKy1dP1xkKyk/KVtmdWxdKlxiL2l9KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJjIiwic3RyaW5nIix7bWFjcm86e3BhdHRlcm46LyheXHMqKSNccypbYS16XSsoW15cclxuXFxdfFxcLnxcXCg/OlxyXG4/fFxuKSkqL2ltLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InByb3BlcnR5IixpbnNpZGU6e3N0cmluZzp7cGF0dGVybjovKCNccyppbmNsdWRlXHMqKSg8Lis/PnwoInwnKShcXD8uKSs/XDMpLyxsb29rYmVoaW5kOiEwfSxkaXJlY3RpdmU6e3BhdHRlcm46LygjXHMqKVxiKGRlZmluZXxlbGlmfGVsc2V8ZW5kaWZ8ZXJyb3J8aWZkZWZ8aWZuZGVmfGlmfGltcG9ydHxpbmNsdWRlfGxpbmV8cHJhZ21hfHVuZGVmfHVzaW5nKVxiLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJrZXl3b3JkIn19fSxjb25zdGFudDovXGIoX19GSUxFX198X19MSU5FX198X19EQVRFX198X19USU1FX198X19USU1FU1RBTVBfX3xfX2Z1bmNfX3xFT0Z8TlVMTHxzdGRpbnxzdGRvdXR8c3RkZXJyKVxiL30pLGRlbGV0ZSBQcmlzbS5sYW5ndWFnZXMuY1siY2xhc3MtbmFtZSJdLGRlbGV0ZSBQcmlzbS5sYW5ndWFnZXMuY1siYm9vbGVhbiJdOwpQcmlzbS5sYW5ndWFnZXMuYnJhaW5mdWNrPXtwb2ludGVyOntwYXR0ZXJuOi88fD4vLGFsaWFzOiJrZXl3b3JkIn0saW5jcmVtZW50OntwYXR0ZXJuOi9cKy8sYWxpYXM6Imluc2VydGVkIn0sZGVjcmVtZW50OntwYXR0ZXJuOi8tLyxhbGlhczoiZGVsZXRlZCJ9LGJyYW5jaGluZzp7cGF0dGVybjovXFt8XF0vLGFsaWFzOiJpbXBvcnRhbnQifSxvcGVyYXRvcjovWy4sXS8sY29tbWVudDovXFMrL307ClByaXNtLmxhbmd1YWdlcy5icm89e2NvbW1lbnQ6e3BhdHRlcm46LyhefFteXFwkXSkjLiovLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntpdGFsaWM6L1xiKFRPRE98RklYTUV8WFhYKVxiL319LHN0cmluZzp7cGF0dGVybjovKFsiJ10pKFxcKD86XHJcbnxbXHNcU10pfCg/IVwxKVteXFxcclxuXSkqXDEvLGdyZWVkeTohMH0sImJvb2xlYW4iOi9cYihUfEYpXGIvLCJmdW5jdGlvbiI6e3BhdHRlcm46Lyg/OmZ1bmN0aW9ufGhvb2t8ZXZlbnQpIFthLXpBLVowLTlfXSsoOjpbYS16QS1aMC05X10rKT8vLGluc2lkZTp7a2V5d29yZDovXig/OmZ1bmN0aW9ufGhvb2t8ZXZlbnQpL319LHZhcmlhYmxlOntwYXR0ZXJuOi8oPzpnbG9iYWx8bG9jYWwpIFthLXpBLVowLTlfXSsvaSxpbnNpZGU6e2tleXdvcmQ6Lyg/Omdsb2JhbHxsb2NhbCkvfX0sYnVpbHRpbjovKEAobG9hZCgtKHNpZ3N8cGx1Z2luKSk/fHVubG9hZHxwcmVmaXhlc3xpZm4/ZGVmfGVsc2V8KGVuZCk/aWZ8RElSfEZJTEVOQU1FKSl8KCY/KHJlZGVmfHByaW9yaXR5fGxvZ3xvcHRpb25hbHxkZWZhdWx0fGFkZF9mdW5jfGRlbGV0ZV9mdW5jfGV4cGlyZV9mdW5jfHJlYWRfZXhwaXJlfHdyaXRlX2V4cGlyZXxjcmVhdGVfZXhwaXJlfHN5bmNocm9uaXplZHxwZXJzaXN0ZW50fHJvdGF0ZV9pbnRlcnZhbHxyb3RhdGVfc2l6ZXxlbmNyeXB0fHJhd19vdXRwdXR8bWVyZ2VhYmxlfGdyb3VwfGVycm9yX2hhbmRsZXJ8dHlwZV9jb2x1bW4pKS8sY29uc3RhbnQ6e3BhdHRlcm46L2NvbnN0IFthLXpBLVowLTlfXSsvaSxpbnNpZGU6e2tleXdvcmQ6L2NvbnN0L319LGtleXdvcmQ6L1xiKGJyZWFrfG5leHR8Y29udGludWV8YWxhcm18dXNpbmd8b2Z8YWRkfGRlbGV0ZXxleHBvcnR8cHJpbnR8cmV0dXJufHNjaGVkdWxlfHdoZW58dGltZW91dHxhZGRyfGFueXxib29sfGNvdW50fGRvdWJsZXxlbnVtfGZpbGV8aW50fGludGVydmFsfHBhdHRlcm58b3BhcXVlfHBvcnR8cmVjb3JkfHNldHxzdHJpbmd8c3VibmV0fHRhYmxlfHRpbWV8dmVjdG9yfGZvcnxpZnxlbHNlfGlufG1vZHVsZXxmdW5jdGlvbilcYi8sb3BlcmF0b3I6Ly0tP3xcK1wrP3whPT89P3w8PT98Pj0/fD09Pz0/fCYmfFx8XHw/fFw/fFwqfFwvfH58XF58JS8sbnVtYmVyOi9cYi0/KD86MHhbXGRhLWZdK3xcZCpcLj9cZCsoPzplWystXT9cZCspPylcYi9pLHB1bmN0dWF0aW9uOi9be31bXF07KCksLjpdL307ClByaXNtLmxhbmd1YWdlcy5iaXNvbj1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCJjIix7fSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiYmlzb24iLCJjb21tZW50Iix7Ymlzb246e3BhdHRlcm46L15bXHNcU10qPyUlW1xzXFNdKj8lJS8saW5zaWRlOntjOntwYXR0ZXJuOi8lXHtbXHNcU10qPyVcfXxceyg/Olx7W159XSpcfXxbXnt9XSkqXH0vLGluc2lkZTp7ZGVsaW1pdGVyOntwYXR0ZXJuOi9eJT9ce3wlP1x9JC8sYWxpYXM6InB1bmN0dWF0aW9uIn0sImJpc29uLXZhcmlhYmxlIjp7cGF0dGVybjovWyRAXSg/OjxbXlxzPl0rPik/W1x3JF0rLyxhbGlhczoidmFyaWFibGUiLGluc2lkZTp7cHVuY3R1YXRpb246Lzx8Pi99fSxyZXN0OlByaXNtLmxhbmd1YWdlcy5jfX0sY29tbWVudDpQcmlzbS5sYW5ndWFnZXMuYy5jb21tZW50LHN0cmluZzpQcmlzbS5sYW5ndWFnZXMuYy5zdHJpbmcscHJvcGVydHk6L1xTKyg/PTopLyxrZXl3b3JkOi8lXHcrLyxudW1iZXI6e3BhdHRlcm46LyhefFteQF0pXGIoPzoweFtcZGEtZl0rfFxkKykvaSxsb29rYmVoaW5kOiEwfSxwdW5jdHVhdGlvbjovJVslP118W3w6O1xbXF08Pl0vfX19KTsKUHJpc20ubGFuZ3VhZ2VzLmNzaGFycD1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCJjbGlrZSIse2tleXdvcmQ6L1xiKGFic3RyYWN0fGFzfGFzeW5jfGF3YWl0fGJhc2V8Ym9vbHxicmVha3xieXRlfGNhc2V8Y2F0Y2h8Y2hhcnxjaGVja2VkfGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlY2ltYWx8ZGVmYXVsdHxkZWxlZ2F0ZXxkb3xkb3VibGV8ZWxzZXxlbnVtfGV2ZW50fGV4cGxpY2l0fGV4dGVybnxmYWxzZXxmaW5hbGx5fGZpeGVkfGZsb2F0fGZvcnxmb3JlYWNofGdvdG98aWZ8aW1wbGljaXR8aW58aW50fGludGVyZmFjZXxpbnRlcm5hbHxpc3xsb2NrfGxvbmd8bmFtZXNwYWNlfG5ld3xudWxsfG9iamVjdHxvcGVyYXRvcnxvdXR8b3ZlcnJpZGV8cGFyYW1zfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZWFkb25seXxyZWZ8cmV0dXJufHNieXRlfHNlYWxlZHxzaG9ydHxzaXplb2Z8c3RhY2thbGxvY3xzdGF0aWN8c3RyaW5nfHN0cnVjdHxzd2l0Y2h8dGhpc3x0aHJvd3x0cnVlfHRyeXx0eXBlb2Z8dWludHx1bG9uZ3x1bmNoZWNrZWR8dW5zYWZlfHVzaG9ydHx1c2luZ3x2aXJ0dWFsfHZvaWR8dm9sYXRpbGV8d2hpbGV8YWRkfGFsaWFzfGFzY2VuZGluZ3xhc3luY3xhd2FpdHxkZXNjZW5kaW5nfGR5bmFtaWN8ZnJvbXxnZXR8Z2xvYmFsfGdyb3VwfGludG98am9pbnxsZXR8b3JkZXJieXxwYXJ0aWFsfHJlbW92ZXxzZWxlY3R8c2V0fHZhbHVlfHZhcnx3aGVyZXx5aWVsZClcYi8sc3RyaW5nOlt7cGF0dGVybjovQCgifCcpKFwxXDF8XFxcMXxcXD8oPyFcMSlbXHNcU10pKlwxLyxncmVlZHk6ITB9LHtwYXR0ZXJuOi8oInwnKShcXD8uKSo/XDEvLGdyZWVkeTohMH1dLG51bWJlcjovXGItPygweFtcZGEtZl0rfFxkKlwuP1xkK2Y/KVxiL2l9KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJjc2hhcnAiLCJrZXl3b3JkIix7ImdlbmVyaWMtbWV0aG9kIjp7cGF0dGVybjovW2EtejAtOV9dK1xzKjxbXj5cclxuXSs/PlxzKig/PVwoKS9pLGFsaWFzOiJmdW5jdGlvbiIsaW5zaWRlOntrZXl3b3JkOlByaXNtLmxhbmd1YWdlcy5jc2hhcnAua2V5d29yZCxwdW5jdHVhdGlvbjovWzw+KCksLjpdL319LHByZXByb2Nlc3Nvcjp7cGF0dGVybjovKF5ccyopIy4qL20sbG9va2JlaGluZDohMCxhbGlhczoicHJvcGVydHkiLGluc2lkZTp7ZGlyZWN0aXZlOntwYXR0ZXJuOi8oXHMqIylcYihkZWZpbmV8ZWxpZnxlbHNlfGVuZGlmfGVuZHJlZ2lvbnxlcnJvcnxpZnxsaW5lfHByYWdtYXxyZWdpb258dW5kZWZ8d2FybmluZylcYi8sbG9va2JlaGluZDohMCxhbGlhczoia2V5d29yZCJ9fX19KTsKUHJpc20ubGFuZ3VhZ2VzLmNwcD1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCJjIix7a2V5d29yZDovXGIoYWxpZ25hc3xhbGlnbm9mfGFzbXxhdXRvfGJvb2x8YnJlYWt8Y2FzZXxjYXRjaHxjaGFyfGNoYXIxNl90fGNoYXIzMl90fGNsYXNzfGNvbXBsfGNvbnN0fGNvbnN0ZXhwcnxjb25zdF9jYXN0fGNvbnRpbnVlfGRlY2x0eXBlfGRlZmF1bHR8ZGVsZXRlfGRvfGRvdWJsZXxkeW5hbWljX2Nhc3R8ZWxzZXxlbnVtfGV4cGxpY2l0fGV4cG9ydHxleHRlcm58ZmxvYXR8Zm9yfGZyaWVuZHxnb3RvfGlmfGlubGluZXxpbnR8bG9uZ3xtdXRhYmxlfG5hbWVzcGFjZXxuZXd8bm9leGNlcHR8bnVsbHB0cnxvcGVyYXRvcnxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmVnaXN0ZXJ8cmVpbnRlcnByZXRfY2FzdHxyZXR1cm58c2hvcnR8c2lnbmVkfHNpemVvZnxzdGF0aWN8c3RhdGljX2Fzc2VydHxzdGF0aWNfY2FzdHxzdHJ1Y3R8c3dpdGNofHRlbXBsYXRlfHRoaXN8dGhyZWFkX2xvY2FsfHRocm93fHRyeXx0eXBlZGVmfHR5cGVpZHx0eXBlbmFtZXx1bmlvbnx1bnNpZ25lZHx1c2luZ3x2aXJ0dWFsfHZvaWR8dm9sYXRpbGV8d2NoYXJfdHx3aGlsZSlcYi8sImJvb2xlYW4iOi9cYih0cnVlfGZhbHNlKVxiLyxvcGVyYXRvcjovWy0rXXsxLDJ9fCE9P3w8ezEsMn09P3w+ezEsMn09P3xcLT58OnsxLDJ9fD17MSwyfXxcXnx+fCV8JnsxLDJ9fFx8P1x8fFw/fFwqfFwvfFxiKGFuZHxhbmRfZXF8Yml0YW5kfGJpdG9yfG5vdHxub3RfZXF8b3J8b3JfZXF8eG9yfHhvcl9lcSlcYi99KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJjcHAiLCJrZXl3b3JkIix7ImNsYXNzLW5hbWUiOntwYXR0ZXJuOi8oY2xhc3NccyspW2EtejAtOV9dKy9pLGxvb2tiZWhpbmQ6ITB9fSk7CiFmdW5jdGlvbihlKXt2YXIgdD0vIyg/IVx7KS4rLyxuPXtwYXR0ZXJuOi8jXHtbXn1dK1x9LyxhbGlhczoidmFyaWFibGUifTtlLmxhbmd1YWdlcy5jb2ZmZWVzY3JpcHQ9ZS5sYW5ndWFnZXMuZXh0ZW5kKCJqYXZhc2NyaXB0Iix7Y29tbWVudDp0LHN0cmluZzpbe3BhdHRlcm46LycoPzpcXD9bXlxcXSkqPycvLGdyZWVkeTohMH0se3BhdHRlcm46LyIoPzpcXD9bXlxcXSkqPyIvLGdyZWVkeTohMCxpbnNpZGU6e2ludGVycG9sYXRpb246bn19XSxrZXl3b3JkOi9cYihhbmR8YnJlYWt8Ynl8Y2F0Y2h8Y2xhc3N8Y29udGludWV8ZGVidWdnZXJ8ZGVsZXRlfGRvfGVhY2h8ZWxzZXxleHRlbmR8ZXh0ZW5kc3xmYWxzZXxmaW5hbGx5fGZvcnxpZnxpbnxpbnN0YW5jZW9mfGlzfGlzbnR8bGV0fGxvb3B8bmFtZXNwYWNlfG5ld3xub3xub3R8bnVsbHxvZnxvZmZ8b258b3J8b3dufHJldHVybnxzdXBlcnxzd2l0Y2h8dGhlbnx0aGlzfHRocm93fHRydWV8dHJ5fHR5cGVvZnx1bmRlZmluZWR8dW5sZXNzfHVudGlsfHdoZW58d2hpbGV8d2luZG93fHdpdGh8eWVzfHlpZWxkKVxiLywiY2xhc3MtbWVtYmVyIjp7cGF0dGVybjovQCg/IVxkKVx3Ky8sYWxpYXM6InZhcmlhYmxlIn19KSxlLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImNvZmZlZXNjcmlwdCIsImNvbW1lbnQiLHsibXVsdGlsaW5lLWNvbW1lbnQiOntwYXR0ZXJuOi8jIyNbXHNcU10rPyMjIy8sYWxpYXM6ImNvbW1lbnQifSwiYmxvY2stcmVnZXgiOntwYXR0ZXJuOi9cL3szfVtcc1xTXSo/XC97M30vLGFsaWFzOiJyZWdleCIsaW5zaWRlOntjb21tZW50OnQsaW50ZXJwb2xhdGlvbjpufX19KSxlLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImNvZmZlZXNjcmlwdCIsInN0cmluZyIseyJpbmxpbmUtamF2YXNjcmlwdCI6e3BhdHRlcm46L2AoPzpcXD9bXHNcU10pKj9gLyxpbnNpZGU6e2RlbGltaXRlcjp7cGF0dGVybjovXmB8YCQvLGFsaWFzOiJwdW5jdHVhdGlvbiJ9LHJlc3Q6ZS5sYW5ndWFnZXMuamF2YXNjcmlwdH19LCJtdWx0aWxpbmUtc3RyaW5nIjpbe3BhdHRlcm46LycnJ1tcc1xTXSo/JycnLyxncmVlZHk6ITAsYWxpYXM6InN0cmluZyJ9LHtwYXR0ZXJuOi8iIiJbXHNcU10qPyIiIi8sZ3JlZWR5OiEwLGFsaWFzOiJzdHJpbmciLGluc2lkZTp7aW50ZXJwb2xhdGlvbjpufX1dfSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJjb2ZmZWVzY3JpcHQiLCJrZXl3b3JkIix7cHJvcGVydHk6Lyg/IVxkKVx3Kyg/PVxzKjooPyE6KSkvfSksZGVsZXRlIGUubGFuZ3VhZ2VzLmNvZmZlZXNjcmlwdFsidGVtcGxhdGUtc3RyaW5nIl19KFByaXNtKTsKIWZ1bmN0aW9uKGUpe2UubGFuZ3VhZ2VzLnJ1Ynk9ZS5sYW5ndWFnZXMuZXh0ZW5kKCJjbGlrZSIse2NvbW1lbnQ6LyMoPyFce1teXHJcbl0qP1x9KS4qLyxrZXl3b3JkOi9cYihhbGlhc3xhbmR8QkVHSU58YmVnaW58YnJlYWt8Y2FzZXxjbGFzc3xkZWZ8ZGVmaW5lX21ldGhvZHxkZWZpbmVkfGRvfGVhY2h8ZWxzZXxlbHNpZnxFTkR8ZW5kfGVuc3VyZXxmYWxzZXxmb3J8aWZ8aW58bW9kdWxlfG5ld3xuZXh0fG5pbHxub3R8b3J8cmFpc2V8cmVkb3xyZXF1aXJlfHJlc2N1ZXxyZXRyeXxyZXR1cm58c2VsZnxzdXBlcnx0aGVufHRocm93fHRydWV8dW5kZWZ8dW5sZXNzfHVudGlsfHdoZW58d2hpbGV8eWllbGQpXGIvfSk7dmFyIG49e3BhdHRlcm46LyNce1tefV0rXH0vLGluc2lkZTp7ZGVsaW1pdGVyOntwYXR0ZXJuOi9eI1x7fFx9JC8sYWxpYXM6InRhZyJ9LHJlc3Q6ZS51dGlsLmNsb25lKGUubGFuZ3VhZ2VzLnJ1YnkpfX07ZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJydWJ5Iiwia2V5d29yZCIse3JlZ2V4Olt7cGF0dGVybjovJXIoW15hLXpBLVowLTlcc1x7XChcWzxdKSg/OlteXFxdfFxcW1xzXFNdKSo/XDFbZ2ltXXswLDN9LyxncmVlZHk6ITAsaW5zaWRlOntpbnRlcnBvbGF0aW9uOm59fSx7cGF0dGVybjovJXJcKCg/OlteKClcXF18XFxbXHNcU10pKlwpW2dpbV17MCwzfS8sZ3JlZWR5OiEwLGluc2lkZTp7aW50ZXJwb2xhdGlvbjpufX0se3BhdHRlcm46LyVyXHsoPzpbXiN7fVxcXXwjKD86XHtbXn1dK1x9KT98XFxbXHNcU10pKlx9W2dpbV17MCwzfS8sZ3JlZWR5OiEwLGluc2lkZTp7aW50ZXJwb2xhdGlvbjpufX0se3BhdHRlcm46LyVyXFsoPzpbXlxbXF1cXF18XFxbXHNcU10pKlxdW2dpbV17MCwzfS8sZ3JlZWR5OiEwLGluc2lkZTp7aW50ZXJwb2xhdGlvbjpufX0se3BhdHRlcm46LyVyPCg/OltePD5cXF18XFxbXHNcU10pKj5bZ2ltXXswLDN9LyxncmVlZHk6ITAsaW5zaWRlOntpbnRlcnBvbGF0aW9uOm59fSx7cGF0dGVybjovKF58W15cL10pXC8oPyFcLykoXFsuKz9dfFxcLnxbXlwvXFxcclxuXSkrXC9bZ2ltXXswLDN9KD89XHMqKCR8W1xyXG4sLjt9KV0pKS8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9XSx2YXJpYWJsZTovW0AkXStbYS16QS1aX11bYS16QS1aXzAtOV0qKD86Wz8hXXxcYikvLHN5bWJvbDovOlthLXpBLVpfXVthLXpBLVpfMC05XSooPzpbPyFdfFxiKS99KSxlLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoInJ1YnkiLCJudW1iZXIiLHtidWlsdGluOi9cYihBcnJheXxCaWdudW18QmluZGluZ3xDbGFzc3xDb250aW51YXRpb258RGlyfEV4Y2VwdGlvbnxGYWxzZUNsYXNzfEZpbGV8U3RhdHxGaWxlfEZpeG51bXxGbG9hdHxIYXNofEludGVnZXJ8SU98TWF0Y2hEYXRhfE1ldGhvZHxNb2R1bGV8TmlsQ2xhc3N8TnVtZXJpY3xPYmplY3R8UHJvY3xSYW5nZXxSZWdleHB8U3RyaW5nfFN0cnVjdHxUTVN8U3ltYm9sfFRocmVhZEdyb3VwfFRocmVhZHxUaW1lfFRydWVDbGFzcylcYi8sY29uc3RhbnQ6L1xiW0EtWl1bYS16QS1aXzAtOV0qKD86Wz8hXXxcYikvfSksZS5sYW5ndWFnZXMucnVieS5zdHJpbmc9W3twYXR0ZXJuOi8lW3FRaUl3V3hzXT8oW15hLXpBLVowLTlcc1x7XChcWzxdKSg/OlteXFxdfFxcW1xzXFNdKSo/XDEvLGdyZWVkeTohMCxpbnNpZGU6e2ludGVycG9sYXRpb246bn19LHtwYXR0ZXJuOi8lW3FRaUl3V3hzXT9cKCg/OlteKClcXF18XFxbXHNcU10pKlwpLyxncmVlZHk6ITAsaW5zaWRlOntpbnRlcnBvbGF0aW9uOm59fSx7cGF0dGVybjovJVtxUWlJd1d4c10/XHsoPzpbXiN7fVxcXXwjKD86XHtbXn1dK1x9KT98XFxbXHNcU10pKlx9LyxncmVlZHk6ITAsaW5zaWRlOntpbnRlcnBvbGF0aW9uOm59fSx7cGF0dGVybjovJVtxUWlJd1d4c10/XFsoPzpbXlxbXF1cXF18XFxbXHNcU10pKlxdLyxncmVlZHk6ITAsaW5zaWRlOntpbnRlcnBvbGF0aW9uOm59fSx7cGF0dGVybjovJVtxUWlJd1d4c10/PCg/OltePD5cXF18XFxbXHNcU10pKj4vLGdyZWVkeTohMCxpbnNpZGU6e2ludGVycG9sYXRpb246bn19LHtwYXR0ZXJuOi8oInwnKSgjXHtbXn1dK1x9fFxcKD86XHI/XG58XHIpfFxcPy4pKj9cMS8sZ3JlZWR5OiEwLGluc2lkZTp7aW50ZXJwb2xhdGlvbjpufX1dfShQcmlzbSk7ClByaXNtLmxhbmd1YWdlcy5jc3Muc2VsZWN0b3I9e3BhdHRlcm46L1teXHtcfVxzXVteXHtcfV0qKD89XHMqXHspLyxpbnNpZGU6eyJwc2V1ZG8tZWxlbWVudCI6LzooPzphZnRlcnxiZWZvcmV8Zmlyc3QtbGV0dGVyfGZpcnN0LWxpbmV8c2VsZWN0aW9uKXw6OlstXHddKy8sInBzZXVkby1jbGFzcyI6LzpbLVx3XSsoPzpcKC4qXCkpPy8sImNsYXNzIjovXC5bLTpcLlx3XSsvLGlkOi8jWy06XC5cd10rLyxhdHRyaWJ1dGU6L1xbW15cXV0rXF0vfX0sUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiY3NzIiwiZnVuY3Rpb24iLHtoZXhjb2RlOi8jW1xkYS1mXXszLDZ9L2ksZW50aXR5Oi9cXFtcZGEtZl17MSw4fS9pLG51bWJlcjovW1xkJVwuXSsvfSk7ClByaXNtLmxhbmd1YWdlcy5kPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoImNsaWtlIix7c3RyaW5nOlsvXGJbcnhdIihcXC58W15cXCJdKSoiW2N3ZF0/LywvXGJxIig/OlxbW1xzXFNdKj9cXXxcKFtcc1xTXSo/XCl8PFtcc1xTXSo/Pnxce1tcc1xTXSo/XH0pIi8sL1xicSIoW19hLXpBLVpdW19hLXpBLVpcZF0qKSg/OlxyP1xufFxyKVtcc1xTXSo/KD86XHI/XG58XHIpXDEiLywvXGJxIiguKVtcc1xTXSo/XDEiLywvJyg/OlxcJ3xcXD9bXiddKyknLywvKFsiYF0pKFxcLnwoPyFcMSlbXlxcXSkqXDFbY3dkXT8vXSxudW1iZXI6Wy9cYjB4XC4/W2EtZlxkX10rKD86KD8hXC5cLilcLlthLWZcZF9dKik/KD86cFsrLV0/W2EtZlxkX10rKT9bdWxmaV0qL2kse3BhdHRlcm46LygoPzpcLlwuKT8pKD86XGIwYlwuP3xcYnxcLilcZFtcZF9dKig/Oig/IVwuXC4pXC5bXGRfXSopPyg/OmVbKy1dP1xkW1xkX10qKT9bdWxmaV0qL2ksbG9va2JlaGluZDohMH1dLGtleXdvcmQ6L1wkfFxiKD86YWJzdHJhY3R8YWxpYXN8YWxpZ258YXNtfGFzc2VydHxhdXRvfGJvZHl8Ym9vbHxicmVha3xieXRlfGNhc2V8Y2FzdHxjYXRjaHxjZG91YmxlfGNlbnR8Y2Zsb2F0fGNoYXJ8Y2xhc3N8Y29uc3R8Y29udGludWV8Y3JlYWx8ZGNoYXJ8ZGVidWd8ZGVmYXVsdHxkZWxlZ2F0ZXxkZWxldGV8ZGVwcmVjYXRlZHxkb3xkb3VibGV8ZWxzZXxlbnVtfGV4cG9ydHxleHRlcm58ZmFsc2V8ZmluYWx8ZmluYWxseXxmbG9hdHxmb3J8Zm9yZWFjaHxmb3JlYWNoX3JldmVyc2V8ZnVuY3Rpb258Z290b3xpZG91YmxlfGlmfGlmbG9hdHxpbW11dGFibGV8aW1wb3J0fGlub3V0fGludHxpbnRlcmZhY2V8aW52YXJpYW50fGlyZWFsfGxhenl8bG9uZ3xtYWNyb3xtaXhpbnxtb2R1bGV8bmV3fG5vdGhyb3d8bnVsbHxvdXR8b3ZlcnJpZGV8cGFja2FnZXxwcmFnbWF8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHB1cmV8cmVhbHxyZWZ8cmV0dXJufHNjb3BlfHNoYXJlZHxzaG9ydHxzdGF0aWN8c3RydWN0fHN1cGVyfHN3aXRjaHxzeW5jaHJvbml6ZWR8dGVtcGxhdGV8dGhpc3x0aHJvd3x0cnVlfHRyeXx0eXBlZGVmfHR5cGVpZHx0eXBlb2Z8dWJ5dGV8dWNlbnR8dWludHx1bG9uZ3x1bmlvbnx1bml0dGVzdHx1c2hvcnR8dmVyc2lvbnx2b2lkfHZvbGF0aWxlfHdjaGFyfHdoaWxlfHdpdGh8X18oPzooPzpGSUxFfE1PRFVMRXxMSU5FfEZVTkNUSU9OfFBSRVRUWV9GVU5DVElPTnxEQVRFfEVPRnxUSU1FfFRJTUVTVEFNUHxWRU5ET1J8VkVSU0lPTilfX3xnc2hhcmVkfHRyYWl0c3x2ZWN0b3J8cGFyYW1ldGVycyl8c3RyaW5nfHdzdHJpbmd8ZHN0cmluZ3xzaXplX3R8cHRyZGlmZl90KVxiLyxvcGVyYXRvcjovXHxbfD1dP3wmWyY9XT98XCtbKz1dP3wtWy09XT98XC4/XC5cLnw9Wz49XT98ISg/OmlbbnNdXGJ8PD4/PT98Pj0/fD0pP3xcYmlbbnNdXGJ8KD86PFs8Pl0/fD4+Pz4/fFxeXF58WypcLyVefl0pPT8vfSksUHJpc20ubGFuZ3VhZ2VzLmQuY29tbWVudD1bL15ccyojIS4rLyx7cGF0dGVybjovKF58W15cXF0pXC9cKyg/OlwvXCtbXHdcV10qP1wrXC98W1x3XFddKSo/XCtcLy8sbG9va2JlaGluZDohMH1dLmNvbmNhdChQcmlzbS5sYW5ndWFnZXMuZC5jb21tZW50KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJkIiwiY29tbWVudCIseyJ0b2tlbi1zdHJpbmciOntwYXR0ZXJuOi9cYnFceyg/Onxce1tefV0qXH18W159XSkqXH0vLGFsaWFzOiJzdHJpbmcifX0pLFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImQiLCJrZXl3b3JkIix7cHJvcGVydHk6L1xCQFx3Ki99KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJkIiwiZnVuY3Rpb24iLHtyZWdpc3Rlcjp7cGF0dGVybjovXGIoPzpbQUJDRF1bTEhYXXxFW0FCQ0RdWHxFPyg/OkJQfFNQfERJfFNJKXxbRUNTREdGXVN8Q1JbMDIzNF18RFJbMDEyMzY3XXxUUlszLTddfFg/TU1bMC03XXxSW0FCQ0RdWHxbQlNdUEx8UltCU11QfFtEU11JTHxSW0RTXUl8Uig/Ols4OV18MVswLTVdKVtCV0RdP3xYTU0oPzpbODldfDFbMC01XSl8WU1NKD86MVswLTVdfFxkKSlcYnxcYlNUKD86XChbMC03XVwpfFxiKS8sYWxpYXM6InZhcmlhYmxlIn19KTsKUHJpc20ubGFuZ3VhZ2VzLmRhcnQ9UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgiY2xpa2UiLHtzdHJpbmc6W3twYXR0ZXJuOi9yPygiIiJ8JycnKVtcc1xTXSo/XDEvLGdyZWVkeTohMH0se3BhdHRlcm46L3I/KCJ8JykoXFw/LikqP1wxLyxncmVlZHk6ITB9XSxrZXl3b3JkOlsvXGIoPzphc3luY3xzeW5jfHlpZWxkKVwqLywvXGIoPzphYnN0cmFjdHxhc3NlcnR8YXN5bmN8YXdhaXR8YnJlYWt8Y2FzZXxjYXRjaHxjbGFzc3xjb25zdHxjb250aW51ZXxkZWZhdWx0fGRlZmVycmVkfGRvfGR5bmFtaWN8ZWxzZXxlbnVtfGV4cG9ydHxleHRlcm5hbHxleHRlbmRzfGZhY3Rvcnl8ZmluYWx8ZmluYWxseXxmb3J8Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGxpYnJhcnl8bmV3fG51bGx8b3BlcmF0b3J8cGFydHxyZXRocm93fHJldHVybnxzZXR8c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRyeXx0eXBlZGVmfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGQpXGIvXSxvcGVyYXRvcjovXGJpcyF8XGIoPzphc3xpcylcYnxcK1wrfC0tfCYmfFx8XHx8PDw9P3w+Pj0/fH4oPzpcLz0/KT98WytcLSpcLyUmXnw9ITw+XT0/fFw/L30pLFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImRhcnQiLCJmdW5jdGlvbiIse21ldGFkYXRhOntwYXR0ZXJuOi9AXHcrLyxhbGlhczoic3ltYm9sIn19KTsKdmFyIF9kamFuZ29fdGVtcGxhdGU9e3Byb3BlcnR5OntwYXR0ZXJuOi8oPzp7e3x7JSlbXHdcV10qPyg/OiV9fH19KS9nLGdyZWVkeTohMCxpbnNpZGU6e3N0cmluZzp7cGF0dGVybjovKCJ8JykoPzpcXFxcfFxcP1teXFxcclxuXSkqP1wxLyxncmVlZHk6ITB9LGtleXdvcmQ6L1xiKD86XHx8bG9hZHx2ZXJiYXRpbXx3aWR0aHJhdGlvfHNzaXxmaXJzdG9mfGZvcnx1cmx8aWZjaGFuZ2VkfGNzcmZfdG9rZW58bG9yZW18aWZub3RlcXVhbHxhdXRvZXNjYXBlfG5vd3x0ZW1wbGF0ZXRhZ3xkZWJ1Z3xjeWNsZXxpZmVxdWFsfHJlZ3JvdXB8Y29tbWVudHxmaWx0ZXJ8ZW5kZmlsdGVyfGlmfHNwYWNlbGVzc3x3aXRofGV4dGVuZHN8YmxvY2t8aW5jbHVkZXxlbHNlfGVtcHR5fGVuZGlmfGVuZGZvcnxhc3xlbmRibG9ja3xlbmRhdXRvZXNjYXBlfGVuZHZlcmJhdGltfHRyYW5zfGVuZHRyYW5zfFtUdF1ydWV8W0ZmXWFsc2V8W05uXW9uZXxpbnxpc3xzdGF0aWN8bWFjcm98ZW5kbWFjcm98Y2FsbHxlbmRjYWxsfHNldHxlbmRzZXR8cmF3fGVuZHJhdylcYi8sb3BlcmF0b3I6L1stKz1dPT98IT18XCpcKj89P3xcL1wvPz0/fDxbPD0+XT98Pls9Pl0/fFsmfF5+XXxcYig/Om9yfGFuZHxub3QpXGIvLCJmdW5jdGlvbiI6L1xiKD86X3xhYnN8YWRkfGFkZHNsYXNoZXN8YXR0cnxiYXRjaHxjYWxsYWJsZXxjYXBmaXJzdHxjYXBpdGFsaXplfGNlbnRlcnxjb3VudHxjdXR8ZHxkYXRlfGRlZmF1bHR8ZGVmYXVsdF9pZl9ub25lfGRlZmluZWR8ZGljdHNvcnR8ZGljdHNvcnRyZXZlcnNlZHxkaXZpc2libGVieXxlfGVxdWFsdG98ZXNjYXBlfGVzY2FwZWR8ZXNjYXBlanN8ZXZlbnxmaWxlc2l6ZWZvcm1hdHxmaXJzdHxmbG9hdHxmbG9hdGZvcm1hdHxmb3JjZV9lc2NhcGV8Zm9yY2Vlc2NhcGV8Zm9ybWF0fGdldF9kaWdpdHxncm91cGJ5fGluZGVudHxpbnR8aXJpZW5jb2RlfGl0ZXJhYmxlfGpvaW58bGFzdHxsZW5ndGh8bGVuZ3RoX2lzfGxpbmVicmVha3N8bGluZWJyZWFrc2JyfGxpbmVudW1iZXJzfGxpc3R8bGp1c3R8bG93ZXJ8bWFrZV9saXN0fG1hcHxtYXBwaW5nfG51bWJlcnxvZGR8cGhvbmUybnVtZXJpY3xwbHVyYWxpemV8cHByaW50fHJhbmRvbXxyZWplY3R8cmVqZWN0YXR0cnxyZW1vdmV0YWdzfHJlcGxhY2V8cmV2ZXJzZXxyanVzdHxyb3VuZHxzYWZlfHNhZmVzZXF8c2FtZWFzfHNlbGVjdHxzZWxlY3RhdHRyfHNlcXVlbmNlfHNsaWNlfHNsdWdpZnl8c29ydHxzdHJpbmd8c3RyaW5nZm9ybWF0fHN0cmlwdGFnc3xzdW18dGltZXx0aW1lc2luY2V8dGltZXVudGlsfHRpdGxlfHRyaW18dHJ1bmNhdGV8dHJ1bmNhdGVjaGFyc3x0cnVuY2F0ZWNoYXJzX2h0bWx8dHJ1bmNhdGV3b3Jkc3x0cnVuY2F0ZXdvcmRzX2h0bWx8dW5kZWZpbmVkfHVub3JkZXJlZF9saXN0fHVwcGVyfHVybGVuY29kZXx1cmxpemV8dXJsaXpldHJ1bmN8d29yZGNvdW50fHdvcmR3cmFwfHhtbGF0dHJ8eWVzbm8pXGIvLGltcG9ydGFudDovXGItP1xkKyg/OlwuXGQrKT9cYi8sdmFyaWFibGU6L1xiXHcrP1xiLyxwdW5jdHVhdGlvbjovW1tcXTsoKSwuOl0vfX19O1ByaXNtLmxhbmd1YWdlcy5kamFuZ289UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgibWFya3VwIix7Y29tbWVudDovKD86PCEtLXx7IylbXHdcV10qPyg/OiN9fC0tPikvfSksUHJpc20ubGFuZ3VhZ2VzLmRqYW5nby50YWcucGF0dGVybj0vPFwvPyg/IVxkKVteXHM+XC89JDxdKyg/OlxzK1teXHM+XC89XSsoPzo9KD86KCJ8JykoPzpcXFwxfFxcPyg/IVwxKVtcd1xXXSkqXDF8W14+PV0rKSk/KSpccypcLz8+L2ksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiZGphbmdvIiwiZW50aXR5IixfZGphbmdvX3RlbXBsYXRlKSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJpbnNpZGUiLCJ0YWciLF9kamFuZ29fdGVtcGxhdGUsUHJpc20ubGFuZ3VhZ2VzLmRqYW5nby50YWcpLFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0JiYoUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiaW5zaWRlIiwic3RyaW5nIixfZGphbmdvX3RlbXBsYXRlLFByaXNtLmxhbmd1YWdlcy5kamFuZ28uc2NyaXB0KSxQcmlzbS5sYW5ndWFnZXMuZGphbmdvLnNjcmlwdC5pbnNpZGUuc3RyaW5nLmluc2lkZT1fZGphbmdvX3RlbXBsYXRlKSxQcmlzbS5sYW5ndWFnZXMuY3NzJiYoUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiaW5zaWRlIiwiYXRydWxlIix7dGFnOl9kamFuZ29fdGVtcGxhdGUucHJvcGVydHl9LFByaXNtLmxhbmd1YWdlcy5kamFuZ28uc3R5bGUpLFByaXNtLmxhbmd1YWdlcy5kamFuZ28uc3R5bGUuaW5zaWRlLnN0cmluZy5pbnNpZGU9X2RqYW5nb190ZW1wbGF0ZSksUHJpc20ubGFuZ3VhZ2VzLmppbmphMj1QcmlzbS5sYW5ndWFnZXMuZGphbmdvOwpQcmlzbS5sYW5ndWFnZXMuZGlmZj17Y29vcmQ6Wy9eKD86XCp7M318LXszfXxcK3szfSkuKiQvbSwvXkBALipAQCQvbSwvXlxkKy4qJC9tXSxkZWxldGVkOi9eWy08XS4qJC9tLGluc2VydGVkOi9eWys+XS4qJC9tLGRpZmY6e3BhdHRlcm46L14hKD8hISkuKyQvbSxhbGlhczoiaW1wb3J0YW50In19OwpQcmlzbS5sYW5ndWFnZXMuZG9ja2VyPXtrZXl3b3JkOntwYXR0ZXJuOi8oXlxzKikoPzpPTkJVSUxEfEZST018TUFJTlRBSU5FUnxSVU58RVhQT1NFfEVOVnxBRER8Q09QWXxWT0xVTUV8VVNFUnxXT1JLRElSfENNRHxMQUJFTHxFTlRSWVBPSU5UKSg/PVxzKS9pbSxsb29rYmVoaW5kOiEwfSxzdHJpbmc6LygifCcpKD86KD8hXDEpW15cXFxyXG5dfFxcKD86XHJcbnxbXHNcU10pKSo/XDEvLGNvbW1lbnQ6LyMuKi8scHVuY3R1YXRpb246Ly0tLXxcLlwuXC58WzpbXF17fVwtLHw+P10vfTsKUHJpc20ubGFuZ3VhZ2VzLmVpZmZlbD17c3RyaW5nOlsvIihbXltdKilcW1tcc1xTXSs/XF1cMSIvLC8iKFtee10qKVx7W1xzXFNdKz9cfVwxIi8sLyIoPzolXHMrJXwlInwuKSo/Ii9dLGNvbW1lbnQ6Ly0tLiovLCJjaGFyIjovJyg/OiUnfC4pKz8nLyxrZXl3b3JkOi9cYig/OmFjcm9zc3xhZ2VudHxhbGlhc3xhbGx8YW5kfGF0dGFjaGVkfGFzfGFzc2lnbnxhdHRyaWJ1dGV8Y2hlY2t8Y2xhc3N8Y29udmVydHxjcmVhdGV8Q3VycmVudHxkZWJ1Z3xkZWZlcnJlZHxkZXRhY2hhYmxlfGRvfGVsc2V8ZWxzZWlmfGVuZHxlbnN1cmV8ZXhwYW5kZWR8ZXhwb3J0fGV4dGVybmFsfGZlYXR1cmV8ZnJvbXxmcm96ZW58aWZ8aW1wbGllc3xpbmhlcml0fGluc3BlY3R8aW52YXJpYW50fGxpa2V8bG9jYWx8bG9vcHxub3R8bm90ZXxvYnNvbGV0ZXxvbGR8b25jZXxvcnxQcmVjdXJzb3J8cmVkZWZpbmV8cmVuYW1lfHJlcXVpcmV8cmVzY3VlfFJlc3VsdHxyZXRyeXxzZWxlY3R8c2VwYXJhdGV8c29tZXx0aGVufHVuZGVmaW5lfHVudGlsfHZhcmlhbnR8Vm9pZHx3aGVufHhvcilcYi9pLCJib29sZWFuIjovXGIoPzpUcnVlfEZhbHNlKVxiL2ksbnVtYmVyOlsvXGIwW3hjYl1bXGRhLWZdKD86XypbXGRhLWZdKSpcYi9pLC8oPzpcZCg/Ol8qXGQpKik/XC4oPzooPzpcZCg/Ol8qXGQpKik/W2VFXVsrLV0/KT9cZCg/Ol8qXGQpKnxcZCg/Ol8qXGQpKlwuPy9dLHB1bmN0dWF0aW9uOi86PXw8PHw+PnxcKFx8fFx8XCl8LT58XC4oPz1cdyl8W3t9W1xdOygpLDo/XS8sb3BlcmF0b3I6L1xcXFx8XHxcLlwuXHx8XC5cLnxcL1t+XC89XT98Wz48XT0/fFstKypePX5dL307ClByaXNtLmxhbmd1YWdlcy5lbGl4aXI9e2NvbW1lbnQ6e3BhdHRlcm46LyhefFteI10pIyg/IVt7I10pLiovbSxsb29rYmVoaW5kOiEwfSxyZWdleDovfltyUl0oPzooIiIifCcnJ3xbXC98IiddKSg/OlxcLnwoPyFcMSlbXlxcXSkrXDF8XCgoPzpcXFwpfFteKV0pK1wpfFxbKD86XFxcXXxbXlxdXSkrXF18XHsoPzpcXFx9fFtefV0pK1x9fDwoPzpcXD58W14+XSkrPilbdWlzbXhmcl0qLyxzdHJpbmc6W3twYXR0ZXJuOi9+W2NDc1N3V10oPzooIiIifCcnJ3xbXC98IiddKSg/OlxcLnwoPyFcMSlbXlxcXSkrXDF8XCgoPzpcXFwpfFteKV0pK1wpfFxbKD86XFxcXXxbXlxdXSkrXF18XHsoPzpcXFx9fCNce1tefV0rXH18W159XSkrXH18PCg/OlxcPnxbXj5dKSs+KVtjc2FdPy8sZ3JlZWR5OiEwLGluc2lkZTp7fX0se3BhdHRlcm46LygiIiJ8JycnKVtcc1xTXSo/XDEvLGdyZWVkeTohMCxpbnNpZGU6e319LHtwYXR0ZXJuOi8oInwnKSg/OlxcW1xzXFNdfCg/IVwxKVteXFxdKSpcMS8sZ3JlZWR5OiEwLGluc2lkZTp7fX1dLGF0b206e3BhdHRlcm46LyhefFteOl0pOlx3Ky8sbG9va2JlaGluZDohMCxhbGlhczoic3ltYm9sIn0sImF0dHItbmFtZSI6L1x3KzooPyE6KS8sY2FwdHVyZTp7cGF0dGVybjovKF58W14mXSkmKD86W14mXHNcZCgpXVteXHMoKV0qfCg/PVwoKSkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImZ1bmN0aW9uIn0sYXJndW1lbnQ6e3BhdHRlcm46LyhefFteJl0pJlxkKy8sbG9va2JlaGluZDohMCxhbGlhczoidmFyaWFibGUifSxhdHRyaWJ1dGU6e3BhdHRlcm46L0BbXFNdKy8sYWxpYXM6InZhcmlhYmxlIn0sbnVtYmVyOi9cYig/OjBbYm94XVthLWZcZF9dK3xcZFtcZF9dKikoPzpcLltcZF9dKyk/KD86ZVsrLV0/W1xkX10rKT9cYi9pLGtleXdvcmQ6L1xiKD86YWZ0ZXJ8YWxpYXN8YW5kfGNhc2V8Y2F0Y2h8Y29uZHxkZWYoPzpjYWxsYmFja3xleGNlcHRpb258aW1wbHxtb2R1bGV8cHxwcm90b2NvbHxzdHJ1Y3QpP3xkb3xlbHNlfGVuZHxmbnxmb3J8aWZ8aW1wb3J0fG5vdHxvcnxyZXF1aXJlfHJlc2N1ZXx0cnl8dW5sZXNzfHVzZXx3aGVuKVxiLywiYm9vbGVhbiI6L1xiKD86dHJ1ZXxmYWxzZXxuaWwpXGIvLG9wZXJhdG9yOlsvXGJpblxifCYmP3xcfFt8Pl0/fFxcXFx8Ojp8XC5cLlwuP3xcK1wrP3wtWy0+XT98PFstPT5dfD49fCE9PT98XEIhfD0oPzo9PT98Wz5+XSk/fFsqXC9eXS8se3BhdHRlcm46LyhbXjxdKTwoPyE8KS8sbG9va2JlaGluZDohMH0se3BhdHRlcm46LyhbXj5dKT4oPyE+KS8sbG9va2JlaGluZDohMH1dLHB1bmN0dWF0aW9uOi88PHw+PnxbLiwlXFtcXXt9KCldL30sUHJpc20ubGFuZ3VhZ2VzLmVsaXhpci5zdHJpbmcuZm9yRWFjaChmdW5jdGlvbihlKXtlLmluc2lkZT17aW50ZXJwb2xhdGlvbjp7cGF0dGVybjovI1x7W159XStcfS8saW5zaWRlOntkZWxpbWl0ZXI6e3BhdHRlcm46L14jXHt8XH0kLyxhbGlhczoicHVuY3R1YXRpb24ifSxyZXN0OlByaXNtLnV0aWwuY2xvbmUoUHJpc20ubGFuZ3VhZ2VzLmVsaXhpcil9fX19KTsKUHJpc20ubGFuZ3VhZ2VzLmVybGFuZz17Y29tbWVudDovJS4rLyxzdHJpbmc6e3BhdHRlcm46LyIoPzpcXD8uKSo/Ii8sZ3JlZWR5OiEwfSwicXVvdGVkLWZ1bmN0aW9uIjp7cGF0dGVybjovJyg/OlxcLnxbXidcXF0pKycoPz1cKCkvLGFsaWFzOiJmdW5jdGlvbiJ9LCJxdW90ZWQtYXRvbSI6e3BhdHRlcm46LycoPzpcXC58W14nXFxdKSsnLyxhbGlhczoiYXRvbSJ9LCJib29sZWFuIjovXGIoPzp0cnVlfGZhbHNlKVxiLyxrZXl3b3JkOi9cYig/OmZ1bnx3aGVufGNhc2V8b2Z8ZW5kfGlmfHJlY2VpdmV8YWZ0ZXJ8dHJ5fGNhdGNoKVxiLyxudW1iZXI6Wy9cJFxcPy4vLC9cZCsjW2EtejAtOV0rL2ksLyg/OlxifC0pXGQqXC4/XGQrKFtFZV1bKy1dP1xkKyk/XGIvXSwiZnVuY3Rpb24iOi9cYlthLXpdW1x3QF0qKD89XCgpLyx2YXJpYWJsZTp7cGF0dGVybjovKF58W15AXSkoPzpcYnxcPylbQS1aX11bXHdAXSovLGxvb2tiZWhpbmQ6ITB9LG9wZXJhdG9yOlsvWz1cLzw+Ol09fD1bOlwvXT18XCtcKz98LS0/fFs9KlwvIV18XGIoPzpibm90fGRpdnxyZW18YmFuZHxib3J8Ynhvcnxic2x8YnNyfG5vdHxhbmR8b3J8eG9yfG9yZWxzZXxhbmRhbHNvKVxiLyx7cGF0dGVybjovKF58W148XSk8KD8hPCkvLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXnxbXj5dKT4oPyE+KS8sbG9va2JlaGluZDohMH1dLGF0b206L1xiW2Etel1bXHdAXSovLHB1bmN0dWF0aW9uOi9bKClbXF17fTo7LC4jfF18PDx8Pj4vfTsKUHJpc20ubGFuZ3VhZ2VzLmZzaGFycD1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCJjbGlrZSIse2NvbW1lbnQ6W3twYXR0ZXJuOi8oXnxbXlxcXSlcKFwqW1x3XFddKj9cKlwpLyxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovKF58W15cXDpdKVwvXC8uKi8sbG9va2JlaGluZDohMH1dLGtleXdvcmQ6L1xiKD86bGV0fHJldHVybnx1c2V8eWllbGQpKD86IVxCfFxiKXxcYihhYnN0cmFjdHxhbmR8YXN8YXNzZXJ0fGJhc2V8YmVnaW58Y2xhc3N8ZGVmYXVsdHxkZWxlZ2F0ZXxkb3xkb25lfGRvd25jYXN0fGRvd250b3xlbGlmfGVsc2V8ZW5kfGV4Y2VwdGlvbnxleHRlcm58ZmFsc2V8ZmluYWxseXxmb3J8ZnVufGZ1bmN0aW9ufGdsb2JhbHxpZnxpbnxpbmhlcml0fGlubGluZXxpbnRlcmZhY2V8aW50ZXJuYWx8bGF6eXxtYXRjaHxtZW1iZXJ8bW9kdWxlfG11dGFibGV8bmFtZXNwYWNlfG5ld3xub3R8bnVsbHxvZnxvcGVufG9yfG92ZXJyaWRlfHByaXZhdGV8cHVibGljfHJlY3xzZWxlY3R8c3RhdGljfHN0cnVjdHx0aGVufHRvfHRydWV8dHJ5fHR5cGV8dXBjYXN0fHZhbHx2b2lkfHdoZW58d2hpbGV8d2l0aHxhc3J8bGFuZHxsb3J8bHNsfGxzcnxseG9yfG1vZHxzaWd8YXRvbWljfGJyZWFrfGNoZWNrZWR8Y29tcG9uZW50fGNvbnN0fGNvbnN0cmFpbnR8Y29uc3RydWN0b3J8Y29udGludWV8ZWFnZXJ8ZXZlbnR8ZXh0ZXJuYWx8Zml4ZWR8ZnVuY3RvcnxpbmNsdWRlfG1ldGhvZHxtaXhpbnxvYmplY3R8cGFyYWxsZWx8cHJvY2Vzc3xwcm90ZWN0ZWR8cHVyZXxzZWFsZWR8dGFpbGNhbGx8dHJhaXR8dmlydHVhbHx2b2xhdGlsZSlcYi8sc3RyaW5nOntwYXR0ZXJuOi8oPzoiIiJbXHNcU10qPyIiInxAIig/OiIifFteIl0pKiJ8KCJ8JykoPzpcXFwxfFxcPyg/IVwxKVtcc1xTXSkqXDEpQj8vLGdyZWVkeTohMH0sbnVtYmVyOlsvXGItPzB4W1xkYS1mQS1GXSsodW58bGZ8TEYpP1xiLywvXGItPzBiWzAxXSsoeXx1eSk/XGIvLC9cYi0/KFxkKlwuP1xkK3xcZCtcLikoW2ZGbU1dfFtlRV1bKy1dP1xkKyk/XGIvLC9cYi0/XGQrKHl8dXl8c3x1c3xsfHV8dWx8THxVTHxJKT9cYi9dfSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiZnNoYXJwIiwia2V5d29yZCIse3ByZXByb2Nlc3Nvcjp7cGF0dGVybjovXlteXHJcblxTXSojLiovbSxhbGlhczoicHJvcGVydHkiLGluc2lkZTp7ZGlyZWN0aXZlOntwYXR0ZXJuOi8oXHMqIylcYihlbHNlfGVuZGlmfGlmfGxpZ2h0fGxpbmV8bm93YXJuKVxiLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJrZXl3b3JkIn19fX0pOwpQcmlzbS5sYW5ndWFnZXMuZm9ydHJhbj17InF1b3RlZC1udW1iZXIiOntwYXR0ZXJuOi9bQk9aXShbJyJdKVtBLUYwLTldK1wxL2ksYWxpYXM6Im51bWJlciJ9LHN0cmluZzp7cGF0dGVybjovKD86XHcrXyk/KFsnIl0pKD86XDFcMXwmKD86XHJcbj98XG4pKD86XHMqIS4rKD86XHJcbj98XG4pKT98KD8hXDEpLikqKD86XDF8JikvLGluc2lkZTp7Y29tbWVudDp7cGF0dGVybjovKCYoPzpcclxuP3xcbilccyopIS4qLyxsb29rYmVoaW5kOiEwfX19LGNvbW1lbnQ6LyEuKi8sImJvb2xlYW4iOi9cLig/OlRSVUV8RkFMU0UpXC4oPzpfXHcrKT8vaSxudW1iZXI6Lyg/OlxifFsrLV0pKD86XGQrKD86XC5cZCopP3xcLlxkKykoPzpbRURdWystXT9cZCspPyg/Ol9cdyspPy9pLGtleXdvcmQ6Wy9cYig/OklOVEVHRVJ8UkVBTHxET1VCTEUgP1BSRUNJU0lPTnxDT01QTEVYfENIQVJBQ1RFUnxMT0dJQ0FMKVxiL2ksL1xiKD86RU5EID8pPyg/OkJMT0NLID9EQVRBfERPfEZJTEV8Rk9SQUxMfEZVTkNUSU9OfElGfElOVEVSRkFDRXxNT0RVTEUoPyEgUFJPQ0VEVVJFKXxQUk9HUkFNfFNFTEVDVHxTVUJST1VUSU5FfFRZUEV8V0hFUkUpXGIvaSwvXGIoPzpBTExPQ0FUQUJMRXxBTExPQ0FURXxCQUNLU1BBQ0V8Q0FMTHxDQVNFfENMT1NFfENPTU1PTnxDT05UQUlOU3xDT05USU5VRXxDWUNMRXxEQVRBfERFQUxMT0NBVEV8RElNRU5TSU9OfERPfEVORHxFUVVJVkFMRU5DRXxFWElUfEVYVEVSTkFMfEZPUk1BVHxHTyA/VE98SU1QTElDSVQoPzogTk9ORSk/fElOUVVJUkV8SU5URU5UfElOVFJJTlNJQ3xNT0RVTEUgUFJPQ0VEVVJFfE5BTUVMSVNUfE5VTExJRll8T1BFTnxPUFRJT05BTHxQQVJBTUVURVJ8UE9JTlRFUnxQUklOVHxQUklWQVRFfFBVQkxJQ3xSRUFEfFJFVFVSTnxSRVdJTkR8U0FWRXxTRUxFQ1R8U1RPUHxUQVJHRVR8V0hJTEV8V1JJVEUpXGIvaSwvXGIoPzpBU1NJR05NRU5UfERFRkFVTFR8RUxFTUVOVEFMfEVMU0V8RUxTRVdIRVJFfEVMU0VJRnxFTlRSWXxJTnxJTkNMVURFfElOT1VUfEtJTkR8TlVMTHxPTkxZfE9QRVJBVE9SfE9VVHxQVVJFfFJFQ1VSU0lWRXxSRVNVTFR8U0VRVUVOQ0V8U1RBVHxUSEVOfFVTRSlcYi9pXSxvcGVyYXRvcjpbL1wqXCp8XC9cL3w9PnxbPVwvXT18Wzw+XT0/fDo6fFsrXC0qPSVdfFwuKD86RVF8TkV8TFR8TEV8R1R8R0V8Tk9UfEFORHxPUnxFUVZ8TkVRVilcLnxcLltBLVpdK1wuL2kse3BhdHRlcm46LyhefCg/IVwoKS4pXC8oPyFcKSkvLGxvb2tiZWhpbmQ6ITB9XSxwdW5jdHVhdGlvbjovXChcL3xcL1wpfFsoKSw7OiZdL307ClByaXNtLmxhbmd1YWdlcy5naGVya2luPXtweXN0cmluZzp7cGF0dGVybjovKCIiInwnJycpW1xzXFNdKz9cMS8sYWxpYXM6InN0cmluZyJ9LGNvbW1lbnQ6e3BhdHRlcm46LygoXnxccj9cbnxccilbIFx0XSopIy4qLyxsb29rYmVoaW5kOiEwfSx0YWc6e3BhdHRlcm46LygoXnxccj9cbnxccilbIFx0XSopQFxTKi8sbG9va2JlaGluZDohMH0sZmVhdHVyZTp7cGF0dGVybjovKChefFxyP1xufFxyKVsgXHRdKikoQWJpbGl0eXxBaG95IG1hdGV5IXxBcndlZGR8QXNwZWt0fEJlc2lnaGVpZCBCZWhvZWZ0ZXxCdXNpbmVzcyBOZWVkfENhcmFjdGVyaXN0aWNhfENhcmFjdGVyw61zdGljYXxFZ2Vuc2thYnxFZ2Vuc2thcHxFaWdpbmxlaWtpfEZlYXR1cmV8RsSrxI1hfEZpdHVyfEZvbmN0aW9ubmFsaXTDqXxGb25rc3lvbmFsaXRlfEZ1bmNpb25hbGlkYWRlfEZ1bmNpb25hbGl0YXR8RnVuY3Rpb25hbGl0YXRlfEZ1bmPFo2lvbmFsaXRhdGV8RnVuY8ibaW9uYWxpdGF0ZXxGdW5jdGlvbmFsaXRlaXR8RnVuZ3NpfEZ1bmtjaWF8RnVua2NpamF8RnVua2Npb25hbGl0xIF0ZXxGdW5rY2lvbmFsbm9zdHxGdW5rY2phfEZ1bmtzaWV8RnVua3Rpb25hbGl0w6R0fEZ1bmt0aW9uYWxpdMOpaXR8RnVuemlvbmFsaXTDoHxId2FldHxId8OmdHxKZWxsZW16xZF8S2FyYWt0ZXJpc3Rpa3xsYUh8TGFzdG5vc3R8TWFrfE1vZ3Vjbm9zdHxNb2d1xIdub3N0fE1vem5vc3RpfE1vxb5ub3N0aXxPSCBIQUl8T21hZHVzfE9taW5haXN1dXN8T3NvYmluYXzDlnplbGxpa3xwZXJib2dofHBvUWJvZ2ggbWFsamEnfFBvdHJ6ZWJhIGJpem5lc293YXxQb8W+YWRhdmVrfFBvxb5pYWRhdmthfFByZXR0eSBtdWNofFFhcHxRdSdtZUggJ3V0fFNhdnlixJd8VMOtbmggbsSDbmd8VHJhanRvfFZlcm1vw6t8Vmxhc3Rub3PFpXxXxYJhxZtjaXdvxZvEh3xabmHEjWlsbm9zdHzOlM+Fzr3Osc+Ez4zPhM63z4TOsXzOm861zrnPhM6/z4XPgc6zzq/OsXzQnNC+0LPRg9Gb0L3QvtGB0YJ80JzTqdC80LrQuNC90LvQtdC6fNCe0YHQvtCx0LjQvdCwfNCh0LLQvtC50YHRgtCy0L580q7Qt9C10L3Rh9OZ0LvQtdC60LvQtdC70LXQunzQpNGD0L3QutGG0LjQvtC90LDQu3zQpNGD0L3QutGG0LjQvtC90LDQu9C90L7RgdGCfNCk0YPQvdC60YbQuNGPfNCk0YPQvdC60YbRltC+0L3QsNC7fNeq15vXldeg15R82K7Yp9i12YrYqXzYrti12YjYtduM2Kp82LXZhNin2K3bjNiqfNqp2KfYsdmI2KjYp9ixINqp24wg2LbYsdmI2LHYqnzZiNmQ24zamNqv24x84KSw4KWC4KSqIOCksuClh+CklnzgqJbgqL7gqLjgqYDgqIXgqKR84Kio4KiV4Ki2IOCoqOCpgeCoueCovuCosHzgqK7gqYHgqLngqL7gqILgqKbgqLDgqL584LCX4LGB4LCj4LCu4LGBfOCyueCzhuCymuCzjeCymuCys3zguITguKfguLLguKHguJXguYnguK3guIfguIHguLLguKPguJfguLLguIfguJjguLjguKPguIHguLTguIh84LiE4Lin4Liy4Lih4Liq4Liy4Lih4Liy4Lij4LiWfOC5guC4hOC4o+C4h+C4q+C4peC4seC4gXzquLDriqV844OV44Kj44O844OB44OjfOWKn+iDvXzmqZ/og70pOihbXjpdKyg/OlxyP1xufFxyfCQpKSovLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntpbXBvcnRhbnQ6e3BhdHRlcm46Lyg6KVteXHJcbl0rLyxsb29rYmVoaW5kOiEwfSxrZXl3b3JkOi9bXjpcclxuXSs6L319LHNjZW5hcmlvOntwYXR0ZXJuOi8oKF58XHI/XG58XHIpWyBcdF0qKShBYnN0cmFjdCBTY2VuYXJpb3xBYnN0cmFrdCBTY2VuYXJpb3xBY2h0ZXJncm9uZHxBZXJ8w4ZyfEFndGVyZ3JvbmR8QWxsIHknYWxsfEFudGVjZWRlbnRlc3xBbnRlY2VkZW50c3xBdGJ1csOwYXLDoXN8QXRidXLDsGFyw6FzaXJ8QXd3dywgbG9vayBtYXRlfEI0fEJhY2tncm91bmR8QmFnZ3J1bmR8QmFrZ3J1bmR8QmFrZ3J1bm58QmFrZ3J1bm51cnxCZWlzcGllbGV8QmVpc3BpbGxlcnxC4buRaSBj4bqjbmh8Q2VmbmRpcnxDZW5hcmlvfENlbsOhcmlvfENlbmFyaW8gZGUgRnVuZG98Q2Vuw6FyaW8gZGUgRnVuZG98Q2VuYXJpb3N8Q2Vuw6FyaW9zfENvbnRlc3RvfENvbnRleHR8Q29udGV4dGV8Q29udGV4dG98Q29udG98Q29udG9ofENvbnRvbmV8RMOmbWl8RGFzYXJ8RGVhZCBtZW4gdGVsbCBubyB0YWxlc3xEZWxpbmVhY2FvIGRvIENlbmFyaW98RGVsaW5lYcOnw6NvIGRvIENlbsOhcmlvfERpcyBpcyB3aGF0IHdlbnQgZG93bnxE4buvIGxp4buHdXxEeWFncmFtIHNlbmFyeW98RHlhZ3JhbSBTZW5hcnlvfEVnemFucHxFamVtcGxvc3xFa3NlbXBsZXJ8RWt6ZW1wbG9qfEVuZ2hyZWlmZnRpYXV8RXNib3pvIGRvIGVzY2VuYXJpb3xFc2NlbmFyaXxFc2NlbmFyaW98RXNlbXBpfEVzcXVlbWEgZGUgbCdlc2NlbmFyaXxFc3F1ZW1hIGRlbCBlc2NlbmFyaW98RXNxdWVtYSBkbyBDZW5hcmlvfEVzcXVlbWEgZG8gQ2Vuw6FyaW98RXhhbXBsZXN8RVhBTVBMWnxFeGVtcGVsfEV4ZW1wbGV8RXhlbXBsZXN8RXhlbXBsb3N8Rmlyc3Qgb2ZmfEZvbm98Rm9yZ2F0w7Nrw7ZueXZ8Rm9yZ2F0w7Nrw7ZueXYgdsOhemxhdHxGdW5kb3xHZcOnbWnFn3xnaGFudG9IfEdydW5kbGFnZXxIYW5uZXJncm9uZHxIw6F0dMOpcnxIZWF2ZSB0b3xJc3RvcmlrfEp1aHR1bWlkfEtlYWRhYW58S2h1bmcga+G7i2NoIGLhuqNufEtodW5nIHTDrG5oIGh14buRbmd8S+G7i2NoIGLhuqNufEtvbmNlcHR8S29uc2VwIHNrZW5hcmlvfEtvbnTDqGtzfEtvbnRla3N0fEtvbnRla3N0YXN8S29udGVrc3RzfEtvbnRleHR8S29udHVybyBkZSBsYSBzY2VuYXJvfExhdGFyIEJlbGFrYW5nfGx1dHxsdXQgY2hvdm5hdGxofGx1dG1leXxMw71zaW5nIEF0YnVyw7BhcsOhc2FyfEzDvXNpbmcgRMOmbWF8TWVuZ2dhcmlza2FuIFNlbmFyaW98TUlTSFVOfE1JU0hVTiBTUlNMWXxtbyd8TsOhxI1ydCBTY2Vuw6FyYXxOw6HEjXJ0IFNjw6luw6HFmWV8TsOhxI1ydCBTY2Vuw6FydXxPcmlzIHNjZW5hcmlqYXzDlnJuZWtsZXJ8T3Nub3ZhfE9zbm92YSBTY2Vuw6FyYXxPc25vdmEgc2PDqW7DocWZZXxPc251dGVrfE96YWRqZXxQYXJhdWdzfFBhdnl6ZMW+aWFpfFDDqWxkw6FrfFBpZW3Ek3JpfFBsYW4gZHUgc2PDqW5hcmlvfFBsYW4gZHUgU2PDqW5hcmlvfFBsYW4gc2VuYXJ5b3xQbGFuIFNlbmFyeW98UGxhbmcgdnVtIFN6ZW5hcmlvfFBvemFkw618UG96YWRpZXxQb3phZGluYXxQcsOta2xhZHl8UMWZw61rbGFkeXxQcmltZXJ8UHJpbWVyaXxQcmltamVyaXxQcnp5a8WCYWR5fFJhYW1zdHNlbmFhcml1bXxSZWNrb24gaXQncyBsaWtlfFJlcmVmb25zfFNjZW7DoXJ8U2PDqW7DocWZfFNjZW5hcmllfFNjZW5hcmlqfFNjZW5hcmlqYWl8U2NlbmFyaWphdXMgxaFhYmxvbmFzfFNjZW5hcmlqaXxTY2VuxIFyaWpzfFNjZW7EgXJpanMgcMSTYyBwYXJhdWdhfFNjZW5hcmlqdXN8U2NlbmFyaW98U2PDqW5hcmlvfFNjZW5hcmlvIEFtbGluZWxsb2x8U2NlbmFyaW8gT3V0bGluZXxTY2VuYXJpbyBUZW1wbGF0ZXxTY2VuYXJpb21hbHxTY2VuYXJpb21hbGx8U2NlbmFyaW9zfFNjZW5hcml1fFNjZW5hcml1c3p8U2NlbmFyb3xTY2hlbWEgZGVsbG8gc2NlbmFyaW98U2Ugw7BlfFNlIHRoZXxTZSDDvmV8U2VuYXJpb3xTZW5hcnlvfFNlbmFyeW8gZGVza3JpcHN5b258U2VuYXJ5byBEZXNrcmlwc3lvbnxTZW5hcnlvIHRhc2xhxJ/EsXxTaGl2ZXIgbWUgdGltYmVyc3xTaXR1xIFjaWphfFNpdHVhaXxTaXR1YXNpZXxTaXR1YXNpZSBVaXRlZW5zZXR0aW5nfFNrZW5hcmlvfFNrZW5hcmlvIGtvbnNlcHxTa2ljYXxTdHJ1Y3R1cmEgc2NlbmFyaXV8U3RydWN0dXLEgyBzY2VuYXJpdXxTdHJ1a3R1cmEgc2NlbmFyaWphfFN0c2VuYWFyaXVtfFN3YXxTd2EgaHdhZXIgc3dhfFN3YSBod8OmciBzd2F8U3phYmxvbiBzY2VuYXJpdXN6YXxTemVuYXJpb3xTemVuYXJpb2dydW5kcmlzc3xUYXBhdWtzZXR8VGFwYXVzfFRhcGF1c2FpaGlvfFRhdXN0fFRhdXN0YXxUZW1wbGF0ZSBLZWFkYWFufFRlbXBsYXRlIFNlbmFyaW98VGVtcGxhdGUgU2l0dWFpfFRoZSB0aGluZyBvZiBpdCBpc3xUw6xuaCBodeG7kW5nfFZhcmlhbnRhaXxWb29yYmVlbGRlfFZvb3JiZWVsZGVufFdoYXJyaW1lYW4gaXN8WW9cLWhvXC1ob3xZb3UnbGwgd2FubmF8WmHFgm/FvGVuaWF8zqDOsc+BzrHOtM61zq/Os868zrHPhM6xfM6gzrXPgc65zrPPgc6xz4bOriDOo861zr3Osc+Bzq/Ov8+FfM6jzrXOvc6sz4HOuc6xfM6jzrXOvc6sz4HOuc6/fM6lz4DPjM6yzrHOuM+Bzr980JrQtdGA0LXRiHzQmtC+0L3RgtC10LrRgdGCfNCa0L7QvdGG0LXQv9GCfNCc0LjRgdCw0LvQu9Cw0YB80JzQuNGB0L7Qu9C70LDRgHzQntGB0L3QvtCy0LB80J/QtdGA0LXQtNGD0LzQvtCy0LB80J/QvtC30LDQtNC40L3QsHzQn9GA0LXQtNC40YHRgtC+0YDQuNGPfNCf0YDQtdC00YvRgdGC0L7RgNC40Y980J/RgNC40LrQu9Cw0LTQuHzQn9GA0LjQvNC10YB80J/RgNC40LzQtdGA0Lh80J/RgNC40LzQtdGA0Yt80KDQsNC80LrQsCDQvdCwINGB0YbQtdC90LDRgNC40Ll80KHQutC40YbQsHzQodGC0YDRg9C60YLRg9GA0LAg0YHRhtC10L3QsNGA0LjRmNCwfNCh0YLRgNGD0LrRgtGD0YDQsCDRgdGG0LXQvdCw0YDQuNGPfNCh0YLRgNGD0LrRgtGD0YDQsCDRgdGG0LXQvdCw0YDRltGOfNCh0YbQtdC90LDRgNC40Ll80KHRhtC10L3QsNGA0LjQuSDRgdGC0YDRg9C60YLRg9GA0LDRgdC4fNCh0YbQtdC90LDRgNC40LnQvdGL0qMg0YLTqdC30LXQu9C10YjQtXzQodGG0LXQvdCw0YDQuNGY0Lh80KHRhtC10L3QsNGA0LjQvnzQodGG0LXQvdCw0YDRltC5fNCi0LDRgNC40YV80q7RgNC905nQutC705nRgHzXk9eV15LXnteQ15XXqnzXqNen16J816rXkdeg15nXqiDXqteo15fXmdepfNeq16jXl9eZ16l82KfZhNiu2YTZgdmK2Kl82KfZhNqv2YjbjCDYs9mG2KfYsduM2Yh82KfZhdir2YTYqXzZvtizINmF2YbYuNixfNiy2YXbjNmG2Yd82LPZhtin2LHbjNmIfNiz2YrZhtin2LHZitmIfNiz2YrZhtin2LHZitmIINmF2K7Yt9i3fNmF2KvYp9mE24zaunzZhdmG2LjYsSDZhtin2YXbkiDaqdinINiu2KfaqduBfNmF2YbYuNix2YbYp9mF24F82YbZhdmI2YbZhyDZh9infOCkieCkpuCkvuCkueCksOCko3zgpKrgpLDgpL/gpKbgpYPgpLbgpY3gpK984KSq4KSw4KS/4KSm4KWD4KS24KWN4KSvIOCksOClguCkquCksOClh+CkluCkvnzgpKrgpYPgpLfgpY3gpKDgpK3gpYLgpK7gpL984KiJ4Kim4Ki+4Ki54Kiw4Kio4Ki+4KiCfOCoquCon+ColeCopeCovnzgqKrgqJ/gqJXgqKXgqL4g4Kii4Ki+4KiC4Kia4Ki+fOCoquCon+ColeCopeCoviDgqLDgqYLgqKog4Kiw4KmH4KiW4Ki+fOCoquCov+Com+Cpi+ColeCpnHzgsIngsKbgsL7gsLngsLDgsKPgsLLgsYF84LCV4LCl4LCo4LCCfOCwqOCxh+CwquCwpeCxjeCwr+CwgnzgsLjgsKjgsY3gsKjgsL/gsLXgsYfgsLbgsIJ84LKJ4LKm4LK+4LK54LKw4LKj4LOG4LKX4LKz4LOBfOCyleCypeCyvuCyuOCyvuCysOCyvuCyguCytnzgsrXgsr/gsrXgsrDgsqPgs4Z84LK54LK/4LKo4LON4LKo4LOG4LKy4LOGfOC5guC4hOC4o+C4h+C4quC4o+C5ieC4suC4h+C4guC4reC4h+C5gOC4q+C4leC4uOC4geC4suC4o+C4k+C5jHzguIrguLjguJTguILguK3guIfguJXguLHguKfguK3guKLguYjguLLguId84LiK4Li44LiU4LiC4Lit4LiH4LmA4Lir4LiV4Li44LiB4Liy4Lij4LiT4LmMfOC5geC4meC4p+C4hOC4tOC4lHzguKrguKPguLjguJvguYDguKvguJXguLjguIHguLLguKPguJPguYx84LmA4Lir4LiV4Li44LiB4Liy4Lij4LiT4LmMfOuwsOqyvXzsi5zrgpjrpqzsmKR87Iuc64KY66as7JikIOqwnOyalHzsmIh844K144Oz44OX44OrfOOCt+ODiuODquOCqnzjgrfjg4rjg6rjgqrjgqLjgqbjg4jjg6njgqTjg7N844K344OK44Oq44Kq44OG44Oz44OX44OsfOOCt+ODiuODquOCquODhuODs+ODl+ODrOODvOODiHzjg4bjg7Pjg5fjg6x85L6LfOS+i+WtkHzliafmnKx85Ymn5pys5aSn57qyfOWKh+acrHzliofmnKzlpKfntrF85Zy65pmvfOWcuuaZr+Wkp+e6snzloLTmma985aC05pmv5aSn57axfOiDjOaZryk6W146XHJcbl0qLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7aW1wb3J0YW50OntwYXR0ZXJuOi8oOilbXlxyXG5dKi8sbG9va2JlaGluZDohMH0sa2V5d29yZDovW146XHJcbl0rOi99fSwidGFibGUtYm9keSI6e3BhdHRlcm46LygoPzpccj9cbnxccilbIFx0XSpcfC4rXHxbXlxyXG5dKikrLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7b3V0bGluZTp7cGF0dGVybjovPFtePl0rPz4vLGFsaWFzOiJ2YXJpYWJsZSJ9LHRkOntwYXR0ZXJuOi9ccypbXlxzfF1bXnxdKi8sYWxpYXM6InN0cmluZyJ9LHB1bmN0dWF0aW9uOi9cfC99fSwidGFibGUtaGVhZCI6e3BhdHRlcm46LygoPzpccj9cbnxccilbIFx0XSpcfC4rXHxbXlxyXG5dKikvLGluc2lkZTp7dGg6e3BhdHRlcm46L1xzKlteXHN8XVtefF0qLyxhbGlhczoidmFyaWFibGUifSxwdW5jdHVhdGlvbjovXHwvfX0sYXRydWxlOntwYXR0ZXJuOi8oKD86XHI/XG58XHIpWyBcdF0rKSgnYWNofCdhfCdlanw3fGF8QSB0YWvDqXxBIHRha3RpZcW+fEEgdGllxb58QSB6w6Fyb3ZlxYh8QWJlcnxBY3xBZG90dHxBa2tvcnxBa3xBbGVzaG9yZXN8QWxlfEFsaXxBbGxvcmF8QWxvcnN8QWxzfEFtYXxBbWVubnlpYmVufEFtaWtvcnxBbXBha3xhbnxBTnxBbmFuZ2luZ3xBbmQgeSdhbGx8QW5kfEFuZ2Vub21tZW58QW5yaGVnZWRpZyBhfEFufEFwYWJpbGF8QXTDqHN8QXRlc2F8QXR1bmNpfEF2YXN0IXxBeWV8QXxhd2VyfEJhZ2l8QmFuanVyfEJldHxCaeG6v3R8QmxpbWV5IXxCdWh8QnV0IGF0IHRoZSBlbmQgb2YgdGhlIGRheSBJIHJlY2tvbnxCdXQgeSdhbGx8QnV0fEJVVHxDYWx8Q8OibmR8Q2FuZG98Q2FuZHxDZXxDdWFuZG98xIxlfMOQYSDDsGV8w5BhfERhZGFzfERhZGF8RGFkb3N8RGFkb3xEYUggZ2h1JyBiZWpsdSd8ZGFubnxEYW5ufERhbm98RGFufERhcnxEYXQgZmlpbmR8RGF0YXxEYXRlIGZpaW5kfERhdGV8RGF0aSBmaWluZHxEYXRpfERhxaNpIGZpaW5kfERhyJtpIGZpaW5kfERhdG98REVOfERlbiB5b3VzZSBnb3R0YXxEZW5nYW58RGV8RGliZXJpfERpeWVsaW0ga2l8RG9uYWRhfERvbmF0fERvbml0YcS1b3xEb3xEdW58RHVvdGF8w5B1cmh8RWVsZGFkZXN8RWZ8RcSfZXIga2l8RW50YW98RW50w6NvfEVudMOzbnxFbnRvbmNlc3xFbnxFcGl8RXzDiXN8RXRhbnQgZG9ubsOpZXxFdGFudCBkb25uw6l8RXR8w4l0YW50IGRvbm7DqWVzfMOJdGFudCBkb25uw6llfMOJdGFudCBkb25uw6l8RXRhbnQgZG9ubsOpZXN8RXRhbnQgZG9ubsOpc3zDiXRhbnQgZG9ubsOpc3xGYWthdHxHYW5nd2F5IXxHZHl8R2VnZWJlbiBzZWllbnxHZWdlYmVuIHNlaXxHZWdldmVufEdlZ2V3ZXxnaHUnIG5vYmx1J3xHaXR0fEdpdmVuIHknYWxsfEdpdmVufEdpdmV0fEdpdnVufEhhfENob3xJIENBTiBIQVp8SW58SXJ8SXQncyBqdXN0IHVuYmVsaWV2YWJsZXxJfEphfEplxZtsaXxKZcW8ZWxpfEthZGFyfEthZGF8S2FkfEthaXxLYWp8S2R5xb58S2XEj3xLZW11ZGlhbnxLZXRpa2F8S2hpfEtpZWR5fEtvfEt1aWR8S3VpfEt1bnxMYW58bGF0bGh8TGUgc2EgYXxMZXQgZ28gYW5kIGhhdWx8TGV8TMOoIHNhIGF8TMOofExvZ298TG9yc3F1Jzx8TG9yc3F1ZXxtw6R8TWFhcnxNYWlzfE1hasSFY3xNYWpkfE1ha2F8TWFuYXdhfE1hc3xNYXxNZW5hd2F8TWVufE11dHRhfE5hbGlrYW5pbmd8TmFsaWthfE5hbmdpbmd8TsOlcnxOw6RyfE5hdG98TmjGsG5nfE5paW58Tmp1a3xPIHphbWFufE9nfE9jaHxPbGV0ZXRhYW58T25kYXxPbmR8T3JhenxQYWt8UGVyb3xQZXLDsnxQb2Rhbm98UG9raWHEvnxQb2t1ZHxQb3RlbXxQb3RvbXxQcml2emV0b3xQcnlkfHFhU0RJJ3xRdWFuZG98UXVhbmR8UXVhbnxTw6V8U2VkfFNlfFNpaXN8U2lwb3plIGtlfFNpcG96ZSBLZXxTaXBvemV8U2l8xZ5pfMiYaXxTb2l0fFN0ZWx8VGFkYXxUYWR8VGFrcmF0fFRha3xUYXBpfFRlcnxUZXRhcGl8VGhhIHRoZXxUaGF8VGhlbiB5J2FsbHxUaGVufFRow6x8VGh1cmh8VG9kYXxUb28gcmlnaHR8dWdlaG9sbHxVbmR8VW58VsOgfHZhanxWZW5kYXJ8VmV8d2FubnxXYW5uZWVyfFdFTnxXZW5ufFdoZW4geSdhbGx8V2hlbnxXdGVkeXxXdW58WSdrbm93fFllYWggbmFofFluYXxZb3VzZSBrbm93IGxpa2Ugd2hlbnxZb3VzZSBrbm93IHdoZW4geW91c2UgZ290fFl8WmEgcHJlZHBva2xhZHV8WmEgcMWZZWRwb2tsYWR1fFphZGFuaXxaYWRhbm98WmFkYW58WmFkYXRlfFphZGF0b3xaYWvFgmFkYWrEhWN8WmFyYWRpfFphdGF0aXzDnmEgw75lfMOeYXzDnsOhfMOeZWdhcnzDnnVyaHzOkc67zrvOrHzOlM61zrTOv868zq3Ovc6/z4V8zprOsc65fM6Mz4TOsc69fM6kz4zPhM61fNCQINGC0LDQutC+0LZ80JDQs9Cw0YB80JDQu9C1fNCQ0LvQuHzQkNC80LzQvnzQkHzTmNCz05nRgHzTmNC50YLQuNC6fNOY0LzQvNCwfNCR0LjRgNC+0Lp80JLQsHzQktOZfNCU0LDQtNC10L3QvnzQlNCw0L3QvnzQlNC+0L/Rg9GB0YLQuNC8fNCV0YHQu9C4fNCX0LDQtNCw0YLQtXzQl9Cw0LTQsNGC0Lh80JfQsNC00LDRgtC+fNCYfNCGfNCaINGC0L7QvNGDINC20LV80JrQsNC00LB80JrQsNC0fNCa0L7Qs9Cw0YLQvnzQmtC+0LPQtNCwfNCa0L7Qu9C4fNCb05nQutC40L180JvQtdC60LjQvXzQndOZ0YLQuNKX05nQtNOZfNCd0LXRhdCw0Ll80J3QvnzQntC90LTQsHzQn9GA0LjQv9GD0YHRgtC40LzQviwg0YnQvnzQn9GA0LjQv9GD0YHRgtC40LzQvnzQn9GD0YHRgtGMfNCi0LDQutC20LV80KLQsHzQotC+0LPQtNCwfNCi0L7QtNGWfNCi0L580KPQvdC00LB80rrTmdC8fNCv0LrRidC+fNeQ15HXnHzXkNeW15l815DXlnzXkdeU15nXoNeq159815XXktedfNeb15DXqdeofNii2Ybar9in2Yd82KfYsNin2Yt82Kfar9ixfNin2YXYp3zYp9mI2LF82KjYpyDZgdix2LZ82KjYp9mE2YHYsdi2fNio2YHYsdi2fNm+2r7YsXzYqtiofNir2YV82KzYqHzYudmG2K/ZhdinfNmB2LHYtiDaqduM2Kd82YTZg9mGfNmE24zaqdmGfNmF2KrZiXzZh9mG2q/Yp9mF24x82Yh84KSF4KSX4KSwfOCklOCksHzgpJXgpKbgpL584KSV4KS/4KSo4KWN4KSk4KWBfOCkmuClguCkguCkleCkv3zgpJzgpKx84KSk4KSl4KS+fOCkpOCkpuCkvnzgpKTgpKx84KSq4KSw4KSo4KWN4KSk4KWBfOCkquCksHzgpK/gpKbgpL984KiF4Kik4KmHfOConOCopuCpi+CognzgqJzgqL/gqLXgqYfgqIIg4KiV4Ki/fOConOCph+ColeCosHzgqKTgqKZ84Kiq4KiwfOCwheCwquCxjeCwquCxgeCwoeCxgXzgsIgg4LCq4LCw4LC/4LC44LGN4LCl4LC/4LCk4LC/4LCy4LGLfOCwleCwvuCwqOCwv3zgsJrgsYbgsKrgsY3gsKrgsKzgsKHgsL/gsKjgsKbgsL984LCu4LCw4LC/4LCv4LGBfOCyhuCypuCysOCzhnzgsqjgsoLgsqTgsrB84LKo4LK/4LOV4LKh4LK/4LKmfOCyruCypOCzjeCypOCzgXzgsrjgs43gsqXgsr/gsqTgsr/gsq/gsqjgs43gsqjgs4F84LiB4Liz4Lir4LiZ4LiU4LmD4Lir4LmJfOC4lOC4seC4h+C4meC4seC5ieC4mXzguYHguJXguYh84LmA4Lih4Li34LmI4LitfOC5geC4peC4sHzqt7jrn6zrqbQ8fOq3uOumrOqzoDx864uoPHzrp4zslb08fOunjOydvDx866i87KCAPHzsobDqsbQ8fO2VmOyngOunjDx844GL44GkPHzjgZfjgYvjgZc8fOOBn+OBoOOBlzx844Gq44KJ44GwPHzjgoLjgZc8fOS4puS4lDx85L2G44GXPHzkvYbmmK88fOWBh+Wmgjx85YGH5a6aPHzlgYfoqK08fOWBh+iuvjx85YmN5o+QPHzlkIzml7Y8fOWQjOaZgjx85bm25LiUPHzlvZM8fOeVtjx86ICM5LiUPHzpgqPkuYg8fOmCo+m6vDwpKD89WyBcdF0rKS8sbG9va2JlaGluZDohMH0sc3RyaW5nOntwYXR0ZXJuOi8oIig/OlxcLnxbXiJcXF0pKiJ8Jyg/OlxcLnxbXidcXF0pKicpLyxpbnNpZGU6e291dGxpbmU6e3BhdHRlcm46LzxbXj5dKz8+LyxhbGlhczoidmFyaWFibGUifX19LG91dGxpbmU6e3BhdHRlcm46LzxbXj5dKz8+LyxhbGlhczoidmFyaWFibGUifX07ClByaXNtLmxhbmd1YWdlcy5naXQ9e2NvbW1lbnQ6L14jLiovbSxkZWxldGVkOi9eWy3igJNdLiovbSxpbnNlcnRlZDovXlwrLiovbSxzdHJpbmc6LygifCcpKFxcPy4pKj9cMS9tLGNvbW1hbmQ6e3BhdHRlcm46L14uKlwkIGdpdCAuKiQvbSxpbnNpZGU6e3BhcmFtZXRlcjovXHMoLS18LSlcdysvbX19LGNvb3JkOi9eQEAuKkBAJC9tLGNvbW1pdF9zaGExOi9eY29tbWl0IFx3ezQwfSQvbX07ClByaXNtLmxhbmd1YWdlcy5nbHNsPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoImNsaWtlIix7Y29tbWVudDpbL1wvXCpbXHdcV10qP1wqXC8vLC9cL1wvKD86XFwoPzpcclxufFtcc1xTXSl8LikqL10sbnVtYmVyOi9cYig/OjB4W1xkYS1mXSt8KD86XC5cZCt8XGQrXC4/XGQqKSg/OmVbKy1dP1xkKyk/KVt1bGZdKlxiL2ksa2V5d29yZDovXGIoPzphdHRyaWJ1dGV8Y29uc3R8dW5pZm9ybXx2YXJ5aW5nfGJ1ZmZlcnxzaGFyZWR8Y29oZXJlbnR8dm9sYXRpbGV8cmVzdHJpY3R8cmVhZG9ubHl8d3JpdGVvbmx5fGF0b21pY191aW50fGxheW91dHxjZW50cm9pZHxmbGF0fHNtb290aHxub3BlcnNwZWN0aXZlfHBhdGNofHNhbXBsZXxicmVha3xjb250aW51ZXxkb3xmb3J8d2hpbGV8c3dpdGNofGNhc2V8ZGVmYXVsdHxpZnxlbHNlfHN1YnJvdXRpbmV8aW58b3V0fGlub3V0fGZsb2F0fGRvdWJsZXxpbnR8dm9pZHxib29sfHRydWV8ZmFsc2V8aW52YXJpYW50fHByZWNpc2V8ZGlzY2FyZHxyZXR1cm58ZD9tYXRbMjM0XSg/OnhbMjM0XSk/fFtpYmR1XT92ZWNbMjM0XXx1aW50fGxvd3B8bWVkaXVtcHxoaWdocHxwcmVjaXNpb258W2l1XT9zYW1wbGVyWzEyM11EfFtpdV0/c2FtcGxlckN1YmV8c2FtcGxlclsxMl1EU2hhZG93fHNhbXBsZXJDdWJlU2hhZG93fFtpdV0/c2FtcGxlclsxMl1EQXJyYXl8c2FtcGxlclsxMl1EQXJyYXlTaGFkb3d8W2l1XT9zYW1wbGVyMkRSZWN0fHNhbXBsZXIyRFJlY3RTaGFkb3d8W2l1XT9zYW1wbGVyQnVmZmVyfFtpdV0/c2FtcGxlcjJETVMoPzpBcnJheSk/fFtpdV0/c2FtcGxlckN1YmVBcnJheXxzYW1wbGVyQ3ViZUFycmF5U2hhZG93fFtpdV0/aW1hZ2VbMTIzXUR8W2l1XT9pbWFnZTJEUmVjdHxbaXVdP2ltYWdlQ3ViZXxbaXVdP2ltYWdlQnVmZmVyfFtpdV0/aW1hZ2VbMTJdREFycmF5fFtpdV0/aW1hZ2VDdWJlQXJyYXl8W2l1XT9pbWFnZTJETVMoPzpBcnJheSk/fHN0cnVjdHxjb21tb258cGFydGl0aW9ufGFjdGl2ZXxhc218Y2xhc3N8dW5pb258ZW51bXx0eXBlZGVmfHRlbXBsYXRlfHRoaXN8cmVzb3VyY2V8Z290b3xpbmxpbmV8bm9pbmxpbmV8cHVibGljfHN0YXRpY3xleHRlcm58ZXh0ZXJuYWx8aW50ZXJmYWNlfGxvbmd8c2hvcnR8aGFsZnxmaXhlZHx1bnNpZ25lZHxzdXBlcnB8aW5wdXR8b3V0cHV0fGh2ZWNbMjM0XXxmdmVjWzIzNF18c2FtcGxlcjNEUmVjdHxmaWx0ZXJ8c2l6ZW9mfGNhc3R8bmFtZXNwYWNlfHVzaW5nKVxiL30pLFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImdsc2wiLCJjb21tZW50Iix7cHJlcHJvY2Vzc29yOntwYXR0ZXJuOi8oXlsgXHRdKikjKD86KD86ZGVmaW5lfHVuZGVmfGlmfGlmZGVmfGlmbmRlZnxlbHNlfGVsaWZ8ZW5kaWZ8ZXJyb3J8cHJhZ21hfGV4dGVuc2lvbnx2ZXJzaW9ufGxpbmUpXGIpPy9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImJ1aWx0aW4ifX0pOwpQcmlzbS5sYW5ndWFnZXMuZ289UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgiY2xpa2UiLHtrZXl3b3JkOi9cYihicmVha3xjYXNlfGNoYW58Y29uc3R8Y29udGludWV8ZGVmYXVsdHxkZWZlcnxlbHNlfGZhbGx0aHJvdWdofGZvcnxmdW5jfGdvKHRvKT98aWZ8aW1wb3J0fGludGVyZmFjZXxtYXB8cGFja2FnZXxyYW5nZXxyZXR1cm58c2VsZWN0fHN0cnVjdHxzd2l0Y2h8dHlwZXx2YXIpXGIvLGJ1aWx0aW46L1xiKGJvb2x8Ynl0ZXxjb21wbGV4KDY0fDEyOCl8ZXJyb3J8ZmxvYXQoMzJ8NjQpfHJ1bmV8c3RyaW5nfHU/aW50KDh8MTZ8MzJ8NjR8KXx1aW50cHRyfGFwcGVuZHxjYXB8Y2xvc2V8Y29tcGxleHxjb3B5fGRlbGV0ZXxpbWFnfGxlbnxtYWtlfG5ld3xwYW5pY3xwcmludChsbik/fHJlYWx8cmVjb3ZlcilcYi8sImJvb2xlYW4iOi9cYihffGlvdGF8bmlsfHRydWV8ZmFsc2UpXGIvLG9wZXJhdG9yOi9bKlwvJV4hPV09P3xcK1s9K10/fC1bPS1dP3xcfFs9fF0/fCYoPzo9fCZ8XF49Pyk/fD4oPzo+PT98PSk/fDwoPzo8PT98PXwtKT98Oj18XC5cLlwuLyxudW1iZXI6L1xiKC0/KDB4W2EtZlxkXSt8KFxkK1wuP1xkKnxcLlxkKykoZVstK10/XGQrKT8paT8pXGIvaSxzdHJpbmc6e3BhdHRlcm46LygifCd8YCkoXFw/LnxccnxcbikqP1wxLyxncmVlZHk6ITB9fSksZGVsZXRlIFByaXNtLmxhbmd1YWdlcy5nb1siY2xhc3MtbmFtZSJdOwpQcmlzbS5sYW5ndWFnZXMuZ3JhcGhxbD17Y29tbWVudDovIy4qLyxzdHJpbmc6e3BhdHRlcm46LyIoPzpcXC58W15cXCJdKSoiLyxncmVlZHk6ITB9LG51bWJlcjovKD86XEItfFxiKVxkKyg/OlwuXGQrKT8oPzpbZUVdWystXT9cZCspP1xiLywiYm9vbGVhbiI6L1xiKD86dHJ1ZXxmYWxzZSlcYi8sdmFyaWFibGU6L1wkW2Etel9dXHcqL2ksZGlyZWN0aXZlOntwYXR0ZXJuOi9AW2Etel9dXHcqL2ksYWxpYXM6ImZ1bmN0aW9uIn0sImF0dHItbmFtZSI6L1thLXpfXVx3Kig/PVxzKjopL2ksa2V5d29yZDpbe3BhdHRlcm46LyhmcmFnbWVudFxzKyg/IW9uKVthLXpfXVx3KlxzK3xcLlwuXC5ccyopb25cYi8sbG9va2JlaGluZDohMH0sL1xiKD86cXVlcnl8ZnJhZ21lbnR8bXV0YXRpb24pXGIvXSxvcGVyYXRvcjovIXw9fFwuezN9LyxwdW5jdHVhdGlvbjovWyEoKXt9XFtcXTo9LF0vfTsKUHJpc20ubGFuZ3VhZ2VzLmdyb292eT1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCJjbGlrZSIse2tleXdvcmQ6L1xiKGFzfGRlZnxpbnxhYnN0cmFjdHxhc3NlcnR8Ym9vbGVhbnxicmVha3xieXRlfGNhc2V8Y2F0Y2h8Y2hhcnxjbGFzc3xjb25zdHxjb250aW51ZXxkZWZhdWx0fGRvfGRvdWJsZXxlbHNlfGVudW18ZXh0ZW5kc3xmaW5hbHxmaW5hbGx5fGZsb2F0fGZvcnxnb3RvfGlmfGltcGxlbWVudHN8aW1wb3J0fGluc3RhbmNlb2Z8aW50fGludGVyZmFjZXxsb25nfG5hdGl2ZXxuZXd8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHNob3J0fHN0YXRpY3xzdHJpY3RmcHxzdXBlcnxzd2l0Y2h8c3luY2hyb25pemVkfHRoaXN8dGhyb3d8dGhyb3dzfHRyYWl0fHRyYW5zaWVudHx0cnl8dm9pZHx2b2xhdGlsZXx3aGlsZSlcYi8sc3RyaW5nOlt7cGF0dGVybjovKCIiInwnJycpW1xXXHddKj9cMXwoXCRcLykoXCRcL1wkfFtcV1x3XSkqP1wvXCQvLGdyZWVkeTohMH0se3BhdHRlcm46LygifCd8XC8pKD86XFw/LikqP1wxLyxncmVlZHk6ITB9XSxudW1iZXI6L1xiKD86MGJbMDFfXSt8MHhbXGRhLWZfXSsoPzpcLltcZGEtZl9wXC1dKyk/fFtcZF9dKyg/OlwuW1xkX10rKT8oPzplWystXT9bXGRdKyk/KVtnbGlkZl0/XGIvaSxvcGVyYXRvcjp7cGF0dGVybjovKF58W14uXSkofnw9PT9+P3xcP1suOl0/fFwqKD86Wy49XXxcKj0/KT98XC5bQCZdfFwuXC48fFwuezEsMn0oPyFcLil8LVstPT5dP3xcK1srPV0/fCE9P3w8KD86PD0/fD0+Pyk/fD4oPzo+Pj89P3w9KT98JlsmPV0/fFx8W3w9XT98XC89P3xcXj0/fCU9PykvLGxvb2tiZWhpbmQ6ITB9LHB1bmN0dWF0aW9uOi9cLit8W3t9W1xdOygpLDokXS99KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJncm9vdnkiLCJzdHJpbmciLHtzaGViYW5nOntwYXR0ZXJuOi8jIS4rLyxhbGlhczoiY29tbWVudCJ9fSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiZ3Jvb3Z5IiwicHVuY3R1YXRpb24iLHsic3BvY2stYmxvY2siOi9cYihzZXR1cHxnaXZlbnx3aGVufHRoZW58YW5kfGNsZWFudXB8ZXhwZWN0fHdoZXJlKTovfSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiZ3Jvb3Z5IiwiZnVuY3Rpb24iLHthbm5vdGF0aW9uOnthbGlhczoicHVuY3R1YXRpb24iLHBhdHRlcm46LyhefFteLl0pQFx3Ky8sbG9va2JlaGluZDohMH19KSxQcmlzbS5ob29rcy5hZGQoIndyYXAiLGZ1bmN0aW9uKGUpe2lmKCJncm9vdnkiPT09ZS5sYW5ndWFnZSYmInN0cmluZyI9PT1lLnR5cGUpe3ZhciB0PWUuY29udGVudFswXTtpZigiJyIhPXQpe3ZhciBuPS8oW15cXF0pKFwkKFx7Lio/XH18W1x3XC5dKykpLzsiJCI9PT10JiYobj0vKFteXCRdKShcJChcey4qP1x9fFtcd1wuXSspKS8pLGUuY29udGVudD1lLmNvbnRlbnQucmVwbGFjZSgvJmx0Oy9nLCI8IikucmVwbGFjZSgvJmFtcDsvZywiJiIpLGUuY29udGVudD1QcmlzbS5oaWdobGlnaHQoZS5jb250ZW50LHtleHByZXNzaW9uOntwYXR0ZXJuOm4sbG9va2JlaGluZDohMCxpbnNpZGU6UHJpc20ubGFuZ3VhZ2VzLmdyb292eX19KSxlLmNsYXNzZXMucHVzaCgiLyI9PT10PyJyZWdleCI6ImdzdHJpbmciKX19fSk7CiFmdW5jdGlvbihlKXtlLmxhbmd1YWdlcy5oYW1sPXsibXVsdGlsaW5lLWNvbW1lbnQiOntwYXR0ZXJuOi8oKD86Xnxccj9cbnxccikoW1x0IF0qKSkoPzpcL3wtIykuKigoPzpccj9cbnxccilcMltcdCBdKy4rKSovLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImNvbW1lbnQifSwibXVsdGlsaW5lLWNvZGUiOlt7cGF0dGVybjovKCg/Ol58XHI/XG58XHIpKFtcdCBdKikoPzpbfi1dfFsmIV0/PSkpLiosW1x0IF0qKCg/OlxyP1xufFxyKVwyW1x0IF0rLiosW1x0IF0qKSooKD86XHI/XG58XHIpXDJbXHQgXSsuKykvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntyZXN0OmUubGFuZ3VhZ2VzLnJ1Ynl9fSx7cGF0dGVybjovKCg/Ol58XHI/XG58XHIpKFtcdCBdKikoPzpbfi1dfFsmIV0/PSkpLipcfFtcdCBdKigoPzpccj9cbnxccilcMltcdCBdKy4qXHxbXHQgXSopKi8sbG9va2JlaGluZDohMCxpbnNpZGU6e3Jlc3Q6ZS5sYW5ndWFnZXMucnVieX19XSxmaWx0ZXI6e3BhdHRlcm46LygoPzpefFxyP1xufFxyKShbXHQgXSopKTpbXHctXSsoKD86XHI/XG58XHIpKD86XDJbXHQgXSsuK3xccyo/KD89XHI/XG58XHIpKSkrLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7ImZpbHRlci1uYW1lIjp7cGF0dGVybjovXjpbXHctXSsvLGFsaWFzOiJ2YXJpYWJsZSJ9fX0sbWFya3VwOntwYXR0ZXJuOi8oKD86Xnxccj9cbnxccilbXHQgXSopPC4rLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7cmVzdDplLmxhbmd1YWdlcy5tYXJrdXB9fSxkb2N0eXBlOntwYXR0ZXJuOi8oKD86Xnxccj9cbnxccilbXHQgXSopISEhKD86IC4rKT8vLGxvb2tiZWhpbmQ6ITB9LHRhZzp7cGF0dGVybjovKCg/Ol58XHI/XG58XHIpW1x0IF0qKVslLiNdW1x3XC0jLl0qW1x3XC1dKD86XChbXildK1wpfFx7KD86XHtbXn1dK1x9fFtefV0pK1x9fFxbW15cXV0rXF0pKltcLzw+XSovLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnthdHRyaWJ1dGVzOlt7cGF0dGVybjovKF58W14jXSlceyg/Olx7W159XStcfXxbXn1dKStcfS8sbG9va2JlaGluZDohMCxpbnNpZGU6e3Jlc3Q6ZS5sYW5ndWFnZXMucnVieX19LHtwYXR0ZXJuOi9cKFteKV0rXCkvLGluc2lkZTp7ImF0dHItdmFsdWUiOntwYXR0ZXJuOi8oPVxzKikoPzoiKD86XFw/LikqPyJ8W14pXHNdKykvLGxvb2tiZWhpbmQ6ITB9LCJhdHRyLW5hbWUiOi9bXHc6LV0rKD89XHMqIT89fFxzKlssKV0pLyxwdW5jdHVhdGlvbjovWz0oKSxdL319LHtwYXR0ZXJuOi9cW1teXF1dK1xdLyxpbnNpZGU6e3Jlc3Q6ZS5sYW5ndWFnZXMucnVieX19XSxwdW5jdHVhdGlvbjovWzw+XS99fSxjb2RlOntwYXR0ZXJuOi8oKD86Xnxccj9cbnxccilbXHQgXSooPzpbfi1dfFsmIV0/PSkpLisvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntyZXN0OmUubGFuZ3VhZ2VzLnJ1Ynl9fSxpbnRlcnBvbGF0aW9uOntwYXR0ZXJuOi8jXHtbXn1dK1x9LyxpbnNpZGU6e2RlbGltaXRlcjp7cGF0dGVybjovXiNce3xcfSQvLGFsaWFzOiJwdW5jdHVhdGlvbiJ9LHJlc3Q6ZS5sYW5ndWFnZXMucnVieX19LHB1bmN0dWF0aW9uOntwYXR0ZXJuOi8oKD86Xnxccj9cbnxccilbXHQgXSopW349XC0mIV0rLyxsb29rYmVoaW5kOiEwfX07Zm9yKHZhciB0PSIoKD86XnxcXHI/XFxufFxccikoW1xcdCBdKikpOnt7ZmlsdGVyX25hbWV9fSgoPzpcXHI/XFxufFxccikoPzpcXDJbXFx0IF0rLit8XFxzKj8oPz1cXHI/XFxufFxccikpKSsiLHI9WyJjc3MiLHtmaWx0ZXI6ImNvZmZlZSIsbGFuZ3VhZ2U6ImNvZmZlZXNjcmlwdCJ9LCJlcmIiLCJqYXZhc2NyaXB0IiwibGVzcyIsIm1hcmtkb3duIiwicnVieSIsInNjc3MiLCJ0ZXh0aWxlIl0sbj17fSxhPTAsaT1yLmxlbmd0aDtpPmE7YSsrKXt2YXIgbD1yW2FdO2w9InN0cmluZyI9PXR5cGVvZiBsP3tmaWx0ZXI6bCxsYW5ndWFnZTpsfTpsLGUubGFuZ3VhZ2VzW2wubGFuZ3VhZ2VdJiYoblsiZmlsdGVyLSIrbC5maWx0ZXJdPXtwYXR0ZXJuOlJlZ0V4cCh0LnJlcGxhY2UoInt7ZmlsdGVyX25hbWV9fSIsbC5maWx0ZXIpKSxsb29rYmVoaW5kOiEwLGluc2lkZTp7ImZpbHRlci1uYW1lIjp7cGF0dGVybjovXjpbXHctXSsvLGFsaWFzOiJ2YXJpYWJsZSJ9LHJlc3Q6ZS5sYW5ndWFnZXNbbC5sYW5ndWFnZV19fSl9ZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJoYW1sIiwiZmlsdGVyIixuKX0oUHJpc20pOwohZnVuY3Rpb24oZSl7dmFyIGE9L1x7XHtce1tcd1xXXSs/XH1cfVx9fFx7XHtbXHdcV10rP1x9XH0vZztlLmxhbmd1YWdlcy5oYW5kbGViYXJzPWUubGFuZ3VhZ2VzLmV4dGVuZCgibWFya3VwIix7aGFuZGxlYmFyczp7cGF0dGVybjphLGluc2lkZTp7ZGVsaW1pdGVyOntwYXR0ZXJuOi9eXHtce1x7P3xcfVx9XH0/JC9pLGFsaWFzOiJwdW5jdHVhdGlvbiJ9LHN0cmluZzovKFsiJ10pKFxcPy4pKj9cMS8sbnVtYmVyOi9cYi0/KDB4W1xkQS1GYS1mXSt8XGQqXC4/XGQrKFtFZV1bKy1dP1xkKyk/KVxiLywiYm9vbGVhbiI6L1xiKHRydWV8ZmFsc2UpXGIvLGJsb2NrOntwYXR0ZXJuOi9eKFxzKn4/XHMqKVsjXC9dXFMrPyg/PVxzKn4/XHMqJHxccykvaSxsb29rYmVoaW5kOiEwLGFsaWFzOiJrZXl3b3JkIn0sYnJhY2tldHM6e3BhdHRlcm46L1xbW15cXV0rXF0vLGluc2lkZTp7cHVuY3R1YXRpb246L1xbfFxdLyx2YXJpYWJsZTovW1x3XFddKy99fSxwdW5jdHVhdGlvbjovWyEiIyUmJygpKissLlwvOzw9PkBcW1xcXF1eYHt8fX5dLyx2YXJpYWJsZTovW14hIiMlJicoKSorLC5cLzs8PT5AXFtcXFxdXmB7fH1+XHNdKy99fX0pLGUubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiaGFuZGxlYmFycyIsInRhZyIseyJoYW5kbGViYXJzLWNvbW1lbnQiOntwYXR0ZXJuOi9ce1x7IVtcd1xXXSo/XH1cfS8sYWxpYXM6WyJoYW5kbGViYXJzIiwiY29tbWVudCJdfX0pLGUuaG9va3MuYWRkKCJiZWZvcmUtaGlnaGxpZ2h0IixmdW5jdGlvbihlKXsiaGFuZGxlYmFycyI9PT1lLmxhbmd1YWdlJiYoZS50b2tlblN0YWNrPVtdLGUuYmFja3VwQ29kZT1lLmNvZGUsZS5jb2RlPWUuY29kZS5yZXBsYWNlKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGUudG9rZW5TdGFjay5wdXNoKGEpLCJfX19IQU5ETEVCQVJTIitlLnRva2VuU3RhY2subGVuZ3RoKyJfX18ifSkpfSksZS5ob29rcy5hZGQoImJlZm9yZS1pbnNlcnQiLGZ1bmN0aW9uKGUpeyJoYW5kbGViYXJzIj09PWUubGFuZ3VhZ2UmJihlLmNvZGU9ZS5iYWNrdXBDb2RlLGRlbGV0ZSBlLmJhY2t1cENvZGUpfSksZS5ob29rcy5hZGQoImFmdGVyLWhpZ2hsaWdodCIsZnVuY3Rpb24oYSl7aWYoImhhbmRsZWJhcnMiPT09YS5sYW5ndWFnZSl7Zm9yKHZhciBuLHQ9MDtuPWEudG9rZW5TdGFja1t0XTt0KyspYS5oaWdobGlnaHRlZENvZGU9YS5oaWdobGlnaHRlZENvZGUucmVwbGFjZSgiX19fSEFORExFQkFSUyIrKHQrMSkrIl9fXyIsZS5oaWdobGlnaHQobixhLmdyYW1tYXIsImhhbmRsZWJhcnMiKS5yZXBsYWNlKC9cJC9nLCIkJCQkIikpO2EuZWxlbWVudC5pbm5lckhUTUw9YS5oaWdobGlnaHRlZENvZGV9fSl9KFByaXNtKTsKUHJpc20ubGFuZ3VhZ2VzLmhhc2tlbGw9e2NvbW1lbnQ6e3BhdHRlcm46LyhefFteLSEjJCUqKz0/JkB8fi46PD5eXFxcL10pKC0tW14tISMkJSorPT8mQHx+Ljo8Pl5cXFwvXS4qfHstW1x3XFddKj8tfSkvbSxsb29rYmVoaW5kOiEwfSwiY2hhciI6LycoW15cXCddfFxcKFthYmZucnR2XFwiJyZdfFxeW0EtWkBbXF1cXl9dfE5VTHxTT0h8U1RYfEVUWHxFT1R8RU5RfEFDS3xCRUx8QlN8SFR8TEZ8VlR8RkZ8Q1J8U098U0l8RExFfERDMXxEQzJ8REMzfERDNHxOQUt8U1lOfEVUQnxDQU58RU18U1VCfEVTQ3xGU3xHU3xSU3xVU3xTUHxERUx8XGQrfG9bMC03XSt8eFswLTlhLWZBLUZdKykpJy8sc3RyaW5nOntwYXR0ZXJuOi8iKFteXFwiXXxcXChbYWJmbnJ0dlxcIicmXXxcXltBLVpAW1xdXF5fXXxOVUx8U09IfFNUWHxFVFh8RU9UfEVOUXxBQ0t8QkVMfEJTfEhUfExGfFZUfEZGfENSfFNPfFNJfERMRXxEQzF8REMyfERDM3xEQzR8TkFLfFNZTnxFVEJ8Q0FOfEVNfFNVQnxFU0N8RlN8R1N8UlN8VVN8U1B8REVMfFxkK3xvWzAtN10rfHhbMC05YS1mQS1GXSspfFxcXHMrXFwpKiIvLGdyZWVkeTohMH0sa2V5d29yZDovXGIoY2FzZXxjbGFzc3xkYXRhfGRlcml2aW5nfGRvfGVsc2V8aWZ8aW58aW5maXhsfGluZml4cnxpbnN0YW5jZXxsZXR8bW9kdWxlfG5ld3R5cGV8b2Z8cHJpbWl0aXZlfHRoZW58dHlwZXx3aGVyZSlcYi8saW1wb3J0X3N0YXRlbWVudDp7cGF0dGVybjovKFxyP1xufFxyfF4pXHMqaW1wb3J0XHMrKHF1YWxpZmllZFxzKyk/KFtBLVpdW19hLXpBLVowLTknXSopKFwuW0EtWl1bX2EtekEtWjAtOSddKikqKFxzK2FzXHMrKFtBLVpdW19hLXpBLVowLTknXSopKFwuW0EtWl1bX2EtekEtWjAtOSddKikqKT8oXHMraGlkaW5nXGIpPy9tLGluc2lkZTp7a2V5d29yZDovXGIoaW1wb3J0fHF1YWxpZmllZHxhc3xoaWRpbmcpXGIvfX0sYnVpbHRpbjovXGIoYWJzfGFjb3N8YWNvc2h8YWxsfGFuZHxhbnl8YXBwZW5kRmlsZXxhcHByb3hSYXRpb25hbHxhc1R5cGVPZnxhc2lufGFzaW5ofGF0YW58YXRhbjJ8YXRhbmh8YmFzaWNJT1J1bnxicmVha3xjYXRjaHxjZWlsaW5nfGNocnxjb21wYXJlfGNvbmNhdHxjb25jYXRNYXB8Y29uc3R8Y29zfGNvc2h8Y3Vycnl8Y3ljbGV8ZGVjb2RlRmxvYXR8ZGVub21pbmF0b3J8ZGlnaXRUb0ludHxkaXZ8ZGl2TW9kfGRyb3B8ZHJvcFdoaWxlfGVpdGhlcnxlbGVtfGVuY29kZUZsb2F0fGVudW1Gcm9tfGVudW1Gcm9tVGhlbnxlbnVtRnJvbVRoZW5Ub3xlbnVtRnJvbVRvfGVycm9yfGV2ZW58ZXhwfGV4cG9uZW50fGZhaWx8ZmlsdGVyfGZsaXB8ZmxvYXREaWdpdHN8ZmxvYXRSYWRpeHxmbG9hdFJhbmdlfGZsb29yfGZtYXB8Zm9sZGx8Zm9sZGwxfGZvbGRyfGZvbGRyMXxmcm9tRG91YmxlfGZyb21FbnVtfGZyb21JbnR8ZnJvbUludGVnZXJ8ZnJvbUludGVncmFsfGZyb21SYXRpb25hbHxmc3R8Z2NkfGdldENoYXJ8Z2V0Q29udGVudHN8Z2V0TGluZXxncm91cHxoZWFkfGlkfGluUmFuZ2V8aW5kZXh8aW5pdHxpbnRUb0RpZ2l0fGludGVyYWN0fGlvRXJyb3J8aXNBbHBoYXxpc0FscGhhTnVtfGlzQXNjaWl8aXNDb250cm9sfGlzRGVub3JtYWxpemVkfGlzRGlnaXR8aXNIZXhEaWdpdHxpc0lFRUV8aXNJbmZpbml0ZXxpc0xvd2VyfGlzTmFOfGlzTmVnYXRpdmVaZXJvfGlzT2N0RGlnaXR8aXNQcmludHxpc1NwYWNlfGlzVXBwZXJ8aXRlcmF0ZXxsYXN0fGxjbXxsZW5ndGh8bGV4fGxleERpZ2l0c3xsZXhMaXRDaGFyfGxpbmVzfGxvZ3xsb2dCYXNlfGxvb2t1cHxtYXB8bWFwTXxtYXBNX3xtYXh8bWF4Qm91bmR8bWF4aW11bXxtYXliZXxtaW58bWluQm91bmR8bWluaW11bXxtb2R8bmVnYXRlfG5vdHxub3RFbGVtfG51bGx8bnVtZXJhdG9yfG9kZHxvcnxvcmR8b3RoZXJ3aXNlfHBhY2t8cGl8cHJlZHxwcmltRXhpdFdpdGh8cHJpbnR8cHJvZHVjdHxwcm9wZXJGcmFjdGlvbnxwdXRDaGFyfHB1dFN0cnxwdXRTdHJMbnxxdW90fHF1b3RSZW18cmFuZ2V8cmFuZ2VTaXplfHJlYWR8cmVhZERlY3xyZWFkRmlsZXxyZWFkRmxvYXR8cmVhZEhleHxyZWFkSU98cmVhZEludHxyZWFkTGlzdHxyZWFkTGl0Q2hhcnxyZWFkTG58cmVhZE9jdHxyZWFkUGFyZW58cmVhZFNpZ25lZHxyZWFkc3xyZWFkc1ByZWN8cmVhbFRvRnJhY3xyZWNpcHxyZW18cmVwZWF0fHJlcGxpY2F0ZXxyZXR1cm58cmV2ZXJzZXxyb3VuZHxzY2FsZUZsb2F0fHNjYW5sfHNjYW5sMXxzY2FucnxzY2FucjF8c2VxfHNlcXVlbmNlfHNlcXVlbmNlX3xzaG93fHNob3dDaGFyfHNob3dJbnR8c2hvd0xpc3R8c2hvd0xpdENoYXJ8c2hvd1BhcmVufHNob3dTaWduZWR8c2hvd1N0cmluZ3xzaG93c3xzaG93c1ByZWN8c2lnbmlmaWNhbmR8c2lnbnVtfHNpbnxzaW5ofHNuZHxzb3J0fHNwYW58c3BsaXRBdHxzcXJ0fHN1YnRyYWN0fHN1Y2N8c3VtfHRhaWx8dGFrZXx0YWtlV2hpbGV8dGFufHRhbmh8dGhyZWFkVG9JT1Jlc3VsdHx0b0VudW18dG9JbnR8dG9JbnRlZ2VyfHRvTG93ZXJ8dG9SYXRpb25hbHx0b1VwcGVyfHRydW5jYXRlfHVuY3Vycnl8dW5kZWZpbmVkfHVubGluZXN8dW50aWx8dW53b3Jkc3x1bnppcHx1bnppcDN8dXNlckVycm9yfHdvcmRzfHdyaXRlRmlsZXx6aXB8emlwM3x6aXBXaXRofHppcFdpdGgzKVxiLyxudW1iZXI6L1xiKFxkKyhcLlxkKyk/KGVbKy1dP1xkKyk/fDBvWzAtN10rfDB4WzAtOWEtZl0rKVxiL2ksb3BlcmF0b3I6L1xzXC5cc3xbLSEjJCUqKz0/JkB8fi46PD5eXFxcL10qXC5bLSEjJCUqKz0/JkB8fi46PD5eXFxcL10rfFstISMkJSorPT8mQHx+Ljo8Pl5cXFwvXStcLlstISMkJSorPT8mQHx+Ljo8Pl5cXFwvXSp8Wy0hIyQlKis9PyZAfH46PD5eXFxcL10rfGAoW0EtWl1bX2EtekEtWjAtOSddKlwuKSpbX2Etel1bX2EtekEtWjAtOSddKmAvLGh2YXJpYWJsZTovXGIoW0EtWl1bX2EtekEtWjAtOSddKlwuKSpbX2Etel1bX2EtekEtWjAtOSddKlxiLyxjb25zdGFudDovXGIoW0EtWl1bX2EtekEtWjAtOSddKlwuKSpbQS1aXVtfYS16QS1aMC05J10qXGIvLHB1bmN0dWF0aW9uOi9be31bXF07KCksLjpdL307ClByaXNtLmxhbmd1YWdlcy5oYXhlPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoImNsaWtlIix7c3RyaW5nOntwYXR0ZXJuOi8oWyInXSkoPzooPyFcMSlbXlxcXXxcXFtcc1xTXSkqXDEvLGdyZWVkeTohMCxpbnNpZGU6e2ludGVycG9sYXRpb246e3BhdHRlcm46LyhefFteXFxdKVwkKD86XHcrfFx7W159XStcfSkvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntpbnRlcnBvbGF0aW9uOntwYXR0ZXJuOi9eXCRcdyovLGFsaWFzOiJ2YXJpYWJsZSJ9fX19fSxrZXl3b3JkOi9cYnRoaXNcYnxcYig/OmFic3RyYWN0fGFzfGJyZWFrfGNhc2V8Y2FzdHxjYXRjaHxjbGFzc3xjb250aW51ZXxkZWZhdWx0fGRvfGR5bmFtaWN8ZWxzZXxlbnVtfGV4dGVuZHN8ZXh0ZXJufGZyb218Zm9yfGZ1bmN0aW9ufGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGlubGluZXxpbnRlcmZhY2V8bWFjcm98bmV3fG51bGx8b3ZlcnJpZGV8cHVibGljfHByaXZhdGV8cmV0dXJufHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhyb3d8dG98dHJ5fHR5cGVkZWZ8dXNpbmd8dmFyfHdoaWxlKSg/IVwuKVxiLyxvcGVyYXRvcjovXC57M318XCtcKz98LVstPl0/fFs9IV09P3wmJj98XHxcfD98PFs8PV0/fD5bPj1dP3xbKlwvJX5eXS99KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJoYXhlIiwiY2xhc3MtbmFtZSIse3JlZ2V4OntwYXR0ZXJuOi9+XC8oPzpbXlwvXFxcclxuXXxcXC4pK1wvW2lnbXN1XSovLGdyZWVkeTohMH19KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJoYXhlIiwia2V5d29yZCIse3ByZXByb2Nlc3Nvcjp7cGF0dGVybjovI1x3Ky8sYWxpYXM6ImJ1aWx0aW4ifSxtZXRhZGF0YTp7cGF0dGVybjovQDo/XHcrLyxhbGlhczoic3ltYm9sIn0scmVpZmljYXRpb246e3BhdHRlcm46L1wkKD86XHcrfCg/PVx7KSkvLGFsaWFzOiJ2YXJpYWJsZSJ9fSksUHJpc20ubGFuZ3VhZ2VzLmhheGUuc3RyaW5nLmluc2lkZS5pbnRlcnBvbGF0aW9uLmluc2lkZS5yZXN0PVByaXNtLnV0aWwuY2xvbmUoUHJpc20ubGFuZ3VhZ2VzLmhheGUpLGRlbGV0ZSBQcmlzbS5sYW5ndWFnZXMuaGF4ZVsiY2xhc3MtbmFtZSJdOwpQcmlzbS5sYW5ndWFnZXMuaHR0cD17InJlcXVlc3QtbGluZSI6e3BhdHRlcm46L14oUE9TVHxHRVR8UFVUfERFTEVURXxPUFRJT05TfFBBVENIfFRSQUNFfENPTk5FQ1QpXGJcc2h0dHBzPzpcL1wvXFMrXHNIVFRQXC9bMC05Ll0rL20saW5zaWRlOntwcm9wZXJ0eTovXihQT1NUfEdFVHxQVVR8REVMRVRFfE9QVElPTlN8UEFUQ0h8VFJBQ0V8Q09OTkVDVClcYi8sImF0dHItbmFtZSI6LzpcdysvfX0sInJlc3BvbnNlLXN0YXR1cyI6e3BhdHRlcm46L15IVFRQXC8xLlswMV0gWzAtOV0rLiovbSxpbnNpZGU6e3Byb3BlcnR5OntwYXR0ZXJuOi8oXkhUVFBcLzEuWzAxXSApWzAtOV0rLiovaSxsb29rYmVoaW5kOiEwfX19LCJoZWFkZXItbmFtZSI6e3BhdHRlcm46L15bXHctXSs6KD89LikvbSxhbGlhczoia2V5d29yZCJ9fTt2YXIgaHR0cExhbmd1YWdlcz17ImFwcGxpY2F0aW9uL2pzb24iOlByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0LCJhcHBsaWNhdGlvbi94bWwiOlByaXNtLmxhbmd1YWdlcy5tYXJrdXAsInRleHQveG1sIjpQcmlzbS5sYW5ndWFnZXMubWFya3VwLCJ0ZXh0L2h0bWwiOlByaXNtLmxhbmd1YWdlcy5tYXJrdXB9O2Zvcih2YXIgY29udGVudFR5cGUgaW4gaHR0cExhbmd1YWdlcylpZihodHRwTGFuZ3VhZ2VzW2NvbnRlbnRUeXBlXSl7dmFyIG9wdGlvbnM9e307b3B0aW9uc1tjb250ZW50VHlwZV09e3BhdHRlcm46bmV3IFJlZ0V4cCgiKGNvbnRlbnQtdHlwZTpcXHMqIitjb250ZW50VHlwZSsiW1xcd1xcV10qPykoPzpcXHI/XFxufFxccil7Mn1bXFx3XFxXXSoiLCJpIiksbG9va2JlaGluZDohMCxpbnNpZGU6e3Jlc3Q6aHR0cExhbmd1YWdlc1tjb250ZW50VHlwZV19fSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJodHRwIiwiaGVhZGVyLW5hbWUiLG9wdGlvbnMpfTsKUHJpc20ubGFuZ3VhZ2VzLmljb249e2NvbW1lbnQ6LyMuKi8sc3RyaW5nOntwYXR0ZXJuOi8oWyInXSkoPzooPyFcMSlbXlxcXHJcbl18XFwufF8oPzpccj9cbnxccikpKlwxLyxncmVlZHk6ITB9LG51bWJlcjovXGIoPzpcZCtyW2EtelxkXSt8XGQrKD86XC5cZCspPyg/OmVbKy1dP1xkKyk/KVxifFwuXGQrXGIvaSwiYnVpbHRpbi1rZXl3b3JkIjp7cGF0dGVybjovJig/OmFsbG9jYXRlZHxhc2NpaXxjbG9ja3xjb2xsZWN0aW9uc3xjc2V0fGN1cnJlbnR8ZGF0ZXxkYXRlbGluZXxkaWdpdHN8ZHVtcHxlfGVycm9yKD86bnVtYmVyfHRleHR8dmFsdWUpP3xlcnJvdXR8ZmFpbHxmZWF0dXJlc3xmaWxlfGhvc3R8aW5wdXR8bGNhc2V8bGV0dGVyc3xsZXZlbHxsaW5lfG1haW58bnVsbHxvdXRwdXR8cGhpfHBpfHBvc3xwcm9nbmFtZXxyYW5kb218cmVnaW9uc3xzb3VyY2V8c3RvcmFnZXxzdWJqZWN0fHRpbWV8dHJhY2V8dWNhc2V8dmVyc2lvbilcYi8sYWxpYXM6InZhcmlhYmxlIn0sZGlyZWN0aXZlOntwYXR0ZXJuOi9cJFx3Ky8sYWxpYXM6ImJ1aWx0aW4ifSxrZXl3b3JkOi9cYig/OmJyZWFrfGJ5fGNhc2V8Y3JlYXRlfGRlZmF1bHR8ZG98ZWxzZXxlbmR8ZXZlcnl8ZmFpbHxnbG9iYWx8aWZ8aW5pdGlhbHxpbnZvY2FibGV8bGlua3xsb2NhbHxuZXh0fG5vdHxvZnxwcm9jZWR1cmV8cmVjb3JkfHJlcGVhdHxyZXR1cm58c3RhdGljfHN1c3BlbmR8dGhlbnx0b3x1bnRpbHx3aGlsZSlcYi8sImZ1bmN0aW9uIjovKD8hXGQpXHcrKD89XHMqWyh7XXxccyohXHMqXFspLyxvcGVyYXRvcjovWystXTooPyE9KXwoPzpbXC8/QF4lJl18XCtcKz98LS0/fD09Pz0/fH49PT89P3xcKlwqP3xcfFx8XHw/fDwoPzotPj98PD89Pyl8Pj4/PT8pKD86Oj0pP3w6KD86PTo/KT98WyEuXFx8fl0vLHB1bmN0dWF0aW9uOi9bXFtcXSgpe30sO10vfTsKUHJpc20ubGFuZ3VhZ2VzLmluZm9ybTc9e3N0cmluZzp7cGF0dGVybjovIlteIl0qIi8saW5zaWRlOntzdWJzdGl0dXRpb246e3BhdHRlcm46L1xbW15cXV0rXF0vLGluc2lkZTp7ZGVsaW1pdGVyOntwYXR0ZXJuOi9cW3xcXS8sYWxpYXM6InB1bmN0dWF0aW9uIn19fX19LGNvbW1lbnQ6e3BhdHRlcm46L1xbW15cXV0rXF0vLGdyZWVkeTohMH0sdGl0bGU6e3BhdHRlcm46L15bIFx0XSooPzp2b2x1bWV8Ym9va3xwYXJ0KD8hIG9mKXxjaGFwdGVyfHNlY3Rpb258dGFibGUpXGIuKy9pbSxhbGlhczoiaW1wb3J0YW50In0sbnVtYmVyOntwYXR0ZXJuOi8oXnxbXi1dKSg/Oig/OlxifC0pXGQrKD86XC5cZCspPyg/OlxeXGQrKT9cdyp8XGIoPzpvbmV8dHdvfHRocmVlfGZvdXJ8Zml2ZXxzaXh8c2V2ZW58ZWlnaHR8bmluZXx0ZW58ZWxldmVufHR3ZWx2ZSkpXGIoPyEtKS9pLGxvb2tiZWhpbmQ6ITB9LHZlcmI6e3BhdHRlcm46LyhefFteLV0pXGIoPzphcHBseWluZyB0b3xhcmV8YXR0YWNraW5nfGFuc3dlcmluZ3xhc2tpbmd8YmUoPzppbmcpP3xidXJuaW5nfGJ1eWluZ3xjYWxsZWR8Y2Fycmllc3xjYXJyeSg/ISBvdXQpfGNhcnJ5aW5nfGNsaW1iaW5nfGNsb3Npbmd8Y29uY2VhbCg/OnN8aW5nKT98Y29uc3VsdGluZ3xjb250YWluKD86c3xpbmcpP3xjdXR0aW5nfGRyaW5raW5nfGRyb3BwaW5nfGVhdGluZ3xlbmNsb3MoPzplcz98aW5nKXxlbnRlcmluZ3xleGFtaW5pbmd8ZXhpdGluZ3xnZXR0aW5nfGdpdmluZ3xnb2luZ3xoYSg/OnZlfHN8dmluZyl8aG9sZCg/OnN8aW5nKT98aW1wbCg/Onl8aWVzKXxpbmNvcnBvcmF0KD86ZXM/fGluZyl8aW5zZXJ0aW5nfGlzfGp1bXBpbmd8a2lzc2luZ3xsaXN0ZW5pbmd8bG9ja2luZ3xsb29raW5nfG1lYW4oPzpzfGluZyk/fG9wZW5pbmd8cHJvdmlkKD86ZXM/fGluZyl8cHVsbGluZ3xwdXNoaW5nfHB1dHRpbmd8cmVsYXQoPzplcz98aW5nKXxyZW1vdmluZ3xzZWFyY2hpbmd8c2VlKD86c3xpbmcpP3xzZXR0aW5nfHNob3dpbmd8c2luZ2luZ3xzbGVlcGluZ3xzbWVsbGluZ3xzcXVlZXppbmd8c3dpdGNoaW5nfHN1cHBvcnQoPzpzfGluZyk/fHN3ZWFyaW5nfHRha2luZ3x0YXN0aW5nfHRlbGxpbmd8dGhpbmtpbmd8dGhyb3dpbmd8dG91Y2hpbmd8dHVybmluZ3x0eWluZ3x1bmxvY2soPzpzfGluZyk/fHZhcig/Onl8aWVzfHlpbmcpfHdhaXRpbmd8d2FraW5nfHdhdmluZ3x3ZWFyKD86c3xpbmcpPylcYig/IS0pL2ksbG9va2JlaGluZDohMCxhbGlhczoib3BlcmF0b3IifSxrZXl3b3JkOntwYXR0ZXJuOi8oXnxbXi1dKVxiKD86YWZ0ZXJ8YmVmb3JlfGNhcnJ5IG91dHxjaGVja3xjb250aW51ZSB0aGUgYWN0aW9ufGRlZmluaXRpb24oPz0gKjopfGRvIG5vdGhpbmd8ZWxzZXxlbmQgKD86aWZ8dW5sZXNzfHRoZSBzdG9yeSl8ZXZlcnkgdHVybnxpZnxpbmNsdWRlfGluc3RlYWQoPzogb2YpP3xsZXR8bW92ZXxub3xub3d8b3RoZXJ3aXNlfHJlcGVhdHxyZXBvcnR8cmVzdW1lIHRoZSBzdG9yeXxydWxlIGZvcnxydW5uaW5nIHRocm91Z2h8c2F5KD86aW5nKT98c3RvcCB0aGUgYWN0aW9ufHRlc3R8dHJ5KD86aW5nKT98dW5kZXJzdGFuZHx1bmxlc3N8dXNlfHdoZW58d2hpbGV8eWVzKVxiKD8hLSkvaSxsb29rYmVoaW5kOiEwfSxwcm9wZXJ0eTp7cGF0dGVybjovKF58W14tXSlcYig/OmFkamFjZW50KD8hIHRvKXxjYXJyaWVkfGNsb3NlZHxjb25jZWFsZWR8Y29udGFpbmVkfGRhcmt8ZGVzY3JpYmVkfGVkaWJsZXxlbXB0eXxlbmNsb3NlZHxlbnRlcmFibGV8ZXZlbnxmZW1hbGV8Zml4ZWQgaW4gcGxhY2V8ZnVsbHxoYW5kbGVkfGhlbGR8aW1wcm9wZXItbmFtZWR8aW5jb3Jwb3JhdGVkfGluZWRpYmxlfGludmlzaWJsZXxsaWdodGVkfGxpdHxsb2NrKD86YWJsZXxlZCl8bWFsZXxtYXJrZWQgZm9yIGxpc3Rpbmd8bWVudGlvbmVkfG5lZ2F0aXZlfG5ldXRlcnxub24tKD86ZW1wdHl8ZnVsbHxyZWN1cnJpbmcpfG9kZHxvcGFxdWV8b3Blbig/OmFibGUpP3xwbHVyYWwtbmFtZWR8cG9ydGFibGV8cG9zaXRpdmV8cHJpdmF0ZWx5LW5hbWVkfHByb3Blci1uYW1lZHxwcm92aWRlZHxwdWJsaWNhbGx5LW5hbWVkfHB1c2hhYmxlIGJldHdlZW4gcm9vbXN8cmVjdXJyaW5nfHJlbGF0ZWR8cnViYmluZ3xzY2VuZXJ5fHNlZW58c2luZ3VsYXItbmFtZWR8c3VwcG9ydGVkfHN3aW5naW5nfHN3aXRjaCg/OmFibGV8ZWQoPzogb258IG9mZik/KXx0b3VjaCg/OmFibGV8ZWQpfHRyYW5zcGFyZW50fHVuY29uY2VhbGVkfHVuZGVzY3JpYmVkfHVubGl0fHVubG9ja2VkfHVubWFya2VkIGZvciBsaXN0aW5nfHVubWVudGlvbmVkfHVub3BlbmFibGV8dW50b3VjaGFibGV8dW52aXNpdGVkfHZhcmlhYmxlfHZpc2libGV8dmlzaXRlZHx3ZWFyYWJsZXx3b3JuKVxiKD8hLSkvaSxsb29rYmVoaW5kOiEwLGFsaWFzOiJzeW1ib2wifSxwb3NpdGlvbjp7cGF0dGVybjovKF58W14tXSlcYig/OmFib3ZlfGFkamFjZW50IHRvfGJhY2sgc2lkZSBvZnxiZWxvd3xiZXR3ZWVufGRvd258ZWFzdHxldmVyeXdoZXJlfGZyb250IHNpZGV8aGVyZXxpbnxpbnNpZGUoPzogZnJvbSk/fG5vcnRoKD86ZWFzdHx3ZXN0KT98bm93aGVyZXxvbig/OiB0b3Agb2YpP3xvdGhlciBzaWRlfG91dHNpZGUoPzogZnJvbSk/fHBhcnRzPyBvZnxyZWdpb25hbGx5IGlufHNvdXRoKD86ZWFzdHx3ZXN0KT98dGhyb3VnaHx1cHx3ZXN0fHdpdGhpbilcYig/IS0pL2ksbG9va2JlaGluZDohMCxhbGlhczoia2V5d29yZCJ9LHR5cGU6e3BhdHRlcm46LyhefFteLV0pXGIoPzphY3Rpb25zP3xhY3Rpdml0KD86eXxpZXMpfGFjdG9ycz98YW5pbWFscz98YmFja2Ryb3BzP3xjb250YWluZXJzP3xkZXZpY2VzP3xkaXJlY3Rpb25zP3xkb29ycz98aG9sZGVycz98a2luZHM/fGxpc3RzP3xtW2FlXW58bm9ib2R5fG5vdGhpbmd8bm91bnM/fG51bWJlcnM/fG9iamVjdHM/fHBlb3BsZXxwZXJzb25zP3xwbGF5ZXIoPzoncyBob2xkYWxsKT98cmVnaW9ucz98cmVsYXRpb25zP3xyb29tcz98cnVsZSg/OmJvb2spP3M/fHNjZW5lcz98c29tZW9uZXxzb21ldGhpbmd8c3VwcG9ydGVycz98dGFibGVzP3x0ZXh0cz98dGhpbmdzP3x0aW1lfHZlaGljbGVzP3x3b21bYWVdbilcYig/IS0pL2ksbG9va2JlaGluZDohMCxhbGlhczoidmFyaWFibGUifSxwdW5jdHVhdGlvbjovWy4sOjsoKXt9XS99LFByaXNtLmxhbmd1YWdlcy5pbmZvcm03LnN0cmluZy5pbnNpZGUuc3Vic3RpdHV0aW9uLmluc2lkZS5yZXN0PVByaXNtLnV0aWwuY2xvbmUoUHJpc20ubGFuZ3VhZ2VzLmluZm9ybTcpLFByaXNtLmxhbmd1YWdlcy5pbmZvcm03LnN0cmluZy5pbnNpZGUuc3Vic3RpdHV0aW9uLmluc2lkZS5yZXN0LnRleHQ9e3BhdHRlcm46L1xTKD86XHMqXFMpKi8sYWxpYXM6ImNvbW1lbnQifTsKUHJpc20ubGFuZ3VhZ2VzLmluaT17Y29tbWVudDovXlsgXHRdKjsuKiQvbSxzZWxlY3RvcjovXlsgXHRdKlxbLio/XF0vbSxjb25zdGFudDovXlsgXHRdKlteXHM9XSs/KD89WyBcdF0qPSkvbSwiYXR0ci12YWx1ZSI6e3BhdHRlcm46Lz0uKi8saW5zaWRlOntwdW5jdHVhdGlvbjovXls9XS99fX07ClByaXNtLmxhbmd1YWdlcy5qPXtjb21tZW50Oi9cYk5CXC4uKi8sc3RyaW5nOntwYXR0ZXJuOi8nKD86Jyd8W14nXHJcbl0pKicvLGdyZWVkeTohMH0sa2V5d29yZDovXGIoPzooPzphZHZlcmJ8Y29uanVuY3Rpb258Q1J8ZGVmfGRlZmluZXxkeWFkfExGfG1vbmFkfG5vdW58dmVyYilcYnwoPzphc3NlcnR8YnJlYWt8Y2FzZXxjYXRjaFtkdF0/fGNvbnRpbnVlfGRvfGVsc2V8ZWxzZWlmfGVuZHxmY2FzZXxmb3J8Zm9yX1x3K3xnb3RvX1x3K3xpZnxsYWJlbF9cdyt8cmV0dXJufHNlbGVjdHx0aHJvd3x0cnl8d2hpbGV8d2hpbHN0KVwuKS8sdmVyYjp7cGF0dGVybjovKD8hXF46fDtcLnxbPSFdWy46XSkoPzpceyg/OlwufDo6Pyk/fHAoPzpcLlwuP3w6KXxbPSFcXV18Wzw+KypcLSUkfCwjXVsuOl0/fFtcXj9dXC4/fFs7XFtdOj98W359ImldWy46XXxbQUNlRUlqTG9yXVwufCg/OltfXC9cXHFzdXhdfF8/XGQpOikvLGFsaWFzOiJrZXl3b3JkIn0sbnVtYmVyOi9cYl8/KD86KD8hXGQ6KVxkKyg/OlwuXGQrKT8oPzooPzpbZWpweF18YWR8YXIpXz9cZCsoPzpcLlxkKyk/KSooPzpiXz9bXGRhLXpdKyg/OlwuW1xkYS16XSspPyk/fF8oPyFcLikpLyxhZHZlcmI6e3BhdHRlcm46L1t+fV18W1wvXFxdXC4/fFtiZk1dXC58dFsuOl0vLGFsaWFzOiJidWlsdGluIn0sb3BlcmF0b3I6L1s9YV1bLjpdfF9cLi8sY29uanVuY3Rpb246e3BhdHRlcm46LyYoPzpcLjo/fDopP3xbLjpAXVsuOl0/fFshRF1bLjpdfFs7ZEhUXVwufGA6P3xbXF5MU106fCIvLGFsaWFzOiJ2YXJpYWJsZSJ9LHB1bmN0dWF0aW9uOi9bKCldL307CiFmdW5jdGlvbihlKXtlLmxhbmd1YWdlcy5qYWRlPXtjb21tZW50OntwYXR0ZXJuOi8oXihbXHQgXSopKVwvXC8uKigoPzpccj9cbnxccilcMltcdCBdKy4rKSovbSxsb29rYmVoaW5kOiEwfSwibXVsdGlsaW5lLXNjcmlwdCI6e3BhdHRlcm46LyheKFtcdCBdKilzY3JpcHRcYi4qXC5bXHQgXSopKCg/OlxyP1xufFxyKD8hXG4pKSg/OlwyW1x0IF0rLit8XHMqPyg/PVxyP1xufFxyKSkpKy9tLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntyZXN0OmUubGFuZ3VhZ2VzLmphdmFzY3JpcHR9fSxmaWx0ZXI6e3BhdHRlcm46LyheKFtcdCBdKikpOi4rKCg/OlxyP1xufFxyKD8hXG4pKSg/OlwyW1x0IF0rLit8XHMqPyg/PVxyP1xufFxyKSkpKy9tLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnsiZmlsdGVyLW5hbWUiOntwYXR0ZXJuOi9eOltcdy1dKy8sYWxpYXM6InZhcmlhYmxlIn19fSwibXVsdGlsaW5lLXBsYWluLXRleHQiOntwYXR0ZXJuOi8oXihbXHQgXSopW1x3XC0jLl0rXC5bXHQgXSopKCg/OlxyP1xufFxyKD8hXG4pKSg/OlwyW1x0IF0rLit8XHMqPyg/PVxyP1xufFxyKSkpKy9tLGxvb2tiZWhpbmQ6ITB9LG1hcmt1cDp7cGF0dGVybjovKF5bXHQgXSopPC4rL20sbG9va2JlaGluZDohMCxpbnNpZGU6e3Jlc3Q6ZS5sYW5ndWFnZXMubWFya3VwfX0sZG9jdHlwZTp7cGF0dGVybjovKCg/Ol58XG4pW1x0IF0qKWRvY3R5cGUoPzogLispPy8sbG9va2JlaGluZDohMH0sImZsb3ctY29udHJvbCI6e3BhdHRlcm46LyheW1x0IF0qKSg/OmlmfHVubGVzc3xlbHNlfGNhc2V8d2hlbnxkZWZhdWx0fGVhY2h8d2hpbGUpXGIoPzogLispPy9tLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntlYWNoOntwYXR0ZXJuOi9eZWFjaCAuKz8gaW5cYi8saW5zaWRlOntrZXl3b3JkOi9cYig/OmVhY2h8aW4pXGIvLHB1bmN0dWF0aW9uOi8sL319LGJyYW5jaDp7cGF0dGVybjovXig/OmlmfHVubGVzc3xlbHNlfGNhc2V8d2hlbnxkZWZhdWx0fHdoaWxlKVxiLyxhbGlhczoia2V5d29yZCJ9LHJlc3Q6ZS5sYW5ndWFnZXMuamF2YXNjcmlwdH19LGtleXdvcmQ6e3BhdHRlcm46LyheW1x0IF0qKSg/OmJsb2NrfGV4dGVuZHN8aW5jbHVkZXxhcHBlbmR8cHJlcGVuZClcYi4rL20sbG9va2JlaGluZDohMH0sbWl4aW46W3twYXR0ZXJuOi8oXltcdCBdKiltaXhpbiAuKy9tLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntrZXl3b3JkOi9ebWl4aW4vLCJmdW5jdGlvbiI6L1x3Kyg/PVxzKlwofFxzKiQpLyxwdW5jdHVhdGlvbjovWygpLC5dL319LHtwYXR0ZXJuOi8oXltcdCBdKilcKy4rL20sbG9va2JlaGluZDohMCxpbnNpZGU6e25hbWU6e3BhdHRlcm46L15cK1x3Ky8sYWxpYXM6ImZ1bmN0aW9uIn0scmVzdDplLmxhbmd1YWdlcy5qYXZhc2NyaXB0fX1dLHNjcmlwdDp7cGF0dGVybjovKF5bXHQgXSpzY3JpcHQoPzooPzomW14oXSspP1woW14pXStcKSkqW1x0IF0rKS4rL20sbG9va2JlaGluZDohMCxpbnNpZGU6e3Jlc3Q6ZS5sYW5ndWFnZXMuamF2YXNjcmlwdH19LCJwbGFpbi10ZXh0Ijp7cGF0dGVybjovKF5bXHQgXSooPyEtKVtcd1wtIy5dKltcd1wtXSg/Oig/OiZbXihdKyk/XChbXildK1wpKSpcLz9bXHQgXSspLisvbSxsb29rYmVoaW5kOiEwfSx0YWc6e3BhdHRlcm46LyheW1x0IF0qKSg/IS0pW1x3XC0jLl0qW1x3XC1dKD86KD86JlteKF0rKT9cKFteKV0rXCkpKlwvPzo/L20sbG9va2JlaGluZDohMCxpbnNpZGU6e2F0dHJpYnV0ZXM6W3twYXR0ZXJuOi8mW14oXStcKFteKV0rXCkvLGluc2lkZTp7cmVzdDplLmxhbmd1YWdlcy5qYXZhc2NyaXB0fX0se3BhdHRlcm46L1woW14pXStcKS8saW5zaWRlOnsiYXR0ci12YWx1ZSI6e3BhdHRlcm46Lyg9XHMqKSg/Olx7W159XSpcfXxbXiwpXHJcbl0rKS8sbG9va2JlaGluZDohMCxpbnNpZGU6e3Jlc3Q6ZS5sYW5ndWFnZXMuamF2YXNjcmlwdH19LCJhdHRyLW5hbWUiOi9bXHctXSsoPz1ccyohPz18XHMqWywpXSkvLHB1bmN0dWF0aW9uOi9bIT0oKSxdKy99fV0scHVuY3R1YXRpb246LzovfX0sY29kZTpbe3BhdHRlcm46LyheW1x0IF0qKD86LXwhPz0pKS4rL20sbG9va2JlaGluZDohMCxpbnNpZGU6e3Jlc3Q6ZS5sYW5ndWFnZXMuamF2YXNjcmlwdH19XSxwdW5jdHVhdGlvbjovWy5cLSE9fF0rL307Zm9yKHZhciB0PSIoXihbXFx0IF0qKSk6e3tmaWx0ZXJfbmFtZX19KCg/Olxccj9cXG58XFxyKD8hXFxuKSkoPzpcXDJbXFx0IF0rLit8XFxzKj8oPz1cXHI/XFxufFxccikpKSsiLG49W3tmaWx0ZXI6ImF0cGwiLGxhbmd1YWdlOiJ0d2lnIn0se2ZpbHRlcjoiY29mZmVlIixsYW5ndWFnZToiY29mZmVlc2NyaXB0In0sImVqcyIsImhhbmRsZWJhcnMiLCJob2dhbiIsImxlc3MiLCJsaXZlc2NyaXB0IiwibWFya2Rvd24iLCJtdXN0YWNoZSIsInBsYXRlcyIse2ZpbHRlcjoic2FzcyIsbGFuZ3VhZ2U6InNjc3MifSwic3R5bHVzIiwic3dpZyJdLGE9e30saT0wLHI9bi5sZW5ndGg7cj5pO2krKyl7dmFyIHM9bltpXTtzPSJzdHJpbmciPT10eXBlb2Ygcz97ZmlsdGVyOnMsbGFuZ3VhZ2U6c306cyxlLmxhbmd1YWdlc1tzLmxhbmd1YWdlXSYmKGFbImZpbHRlci0iK3MuZmlsdGVyXT17cGF0dGVybjpSZWdFeHAodC5yZXBsYWNlKCJ7e2ZpbHRlcl9uYW1lfX0iLHMuZmlsdGVyKSwibSIpLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnsiZmlsdGVyLW5hbWUiOntwYXR0ZXJuOi9eOltcdy1dKy8sYWxpYXM6InZhcmlhYmxlIn0scmVzdDplLmxhbmd1YWdlc1tzLmxhbmd1YWdlXX19KX1lLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImphZGUiLCJmaWx0ZXIiLGEpfShQcmlzbSk7ClByaXNtLmxhbmd1YWdlcy5qYXZhPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoImNsaWtlIix7a2V5d29yZDovXGIoYWJzdHJhY3R8Y29udGludWV8Zm9yfG5ld3xzd2l0Y2h8YXNzZXJ0fGRlZmF1bHR8Z290b3xwYWNrYWdlfHN5bmNocm9uaXplZHxib29sZWFufGRvfGlmfHByaXZhdGV8dGhpc3xicmVha3xkb3VibGV8aW1wbGVtZW50c3xwcm90ZWN0ZWR8dGhyb3d8Ynl0ZXxlbHNlfGltcG9ydHxwdWJsaWN8dGhyb3dzfGNhc2V8ZW51bXxpbnN0YW5jZW9mfHJldHVybnx0cmFuc2llbnR8Y2F0Y2h8ZXh0ZW5kc3xpbnR8c2hvcnR8dHJ5fGNoYXJ8ZmluYWx8aW50ZXJmYWNlfHN0YXRpY3x2b2lkfGNsYXNzfGZpbmFsbHl8bG9uZ3xzdHJpY3RmcHx2b2xhdGlsZXxjb25zdHxmbG9hdHxuYXRpdmV8c3VwZXJ8d2hpbGUpXGIvLG51bWJlcjovXGIwYlswMV0rXGJ8XGIweFtcZGEtZl0qXC4/W1xkYS1mcFwtXStcYnxcYlxkKlwuP1xkKyg/OmVbKy1dP1xkKyk/W2RmXT9cYi9pLG9wZXJhdG9yOntwYXR0ZXJuOi8oXnxbXi5dKSg/OlwrWys9XT98LVstPV0/fCE9P3w8PD89P3w+Pj8+Pz0/fD09P3wmWyY9XT98XHxbfD1dP3xcKj0/fFwvPT98JT0/fFxePT98Wz86fl0pL20sbG9va2JlaGluZDohMH19KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJqYXZhIiwiZnVuY3Rpb24iLHthbm5vdGF0aW9uOnthbGlhczoicHVuY3R1YXRpb24iLHBhdHRlcm46LyhefFteLl0pQFx3Ky8sbG9va2JlaGluZDohMH19KTsKUHJpc20ubGFuZ3VhZ2VzLmpvbGllPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoImNsaWtlIix7a2V5d29yZDovXGIoPzppbmNsdWRlfGRlZmluZXxpc19kZWZpbmVkfHVuZGVmfG1haW58aW5pdHxvdXRwdXRQb3J0fGlucHV0UG9ydHxMb2NhdGlvbnxQcm90b2NvbHxJbnRlcmZhY2VzfFJlcXVlc3RSZXNwb25zZXxPbmVXYXl8dHlwZXxpbnRlcmZhY2V8ZXh0ZW5kZXJ8dGhyb3dzfGNzZXR8Y3NldHN8Zm9yd2FyZHxBZ2dyZWdhdGVzfFJlZGlyZWN0c3xlbWJlZGRlZHxjb3VyaWVyfGV4dGVuZGVyfGV4ZWN1dGlvbnxzZXF1ZW50aWFsfGNvbmN1cnJlbnR8c2luZ2xlfHNjb3BlfGluc3RhbGx8dGhyb3d8Y29tcHxjSHxkZWZhdWx0fGdsb2JhbHxsaW5rSW58bGlua091dHxzeW5jaHJvbml6ZWR8dGhpc3xuZXd8Zm9yfGlmfGVsc2V8d2hpbGV8aW58Sm9saWV8SmF2YXxKYXZhc2NyaXB0fG51bGxQcm9jZXNzfHNwYXdufGNvbnN0YW50c3x3aXRofHByb3ZpZGV8dW50aWx8ZXhpdHxmb3JlYWNofGluc3RhbmNlb2Z8b3ZlcnxzZXJ2aWNlKVxiL2csYnVpbHRpbjovXGIoPzp1bmRlZmluZWR8c3RyaW5nfGludHx2b2lkfGxvbmd8Qnl0ZXxib29sfGRvdWJsZXxmbG9hdHxjaGFyfGFueSlcYi8sbnVtYmVyOi9cYlxkKlwuP1xkKyg/OmVbKy1dP1xkKyk/bD9cYi9pLG9wZXJhdG9yOi8tPnw8PHxbISstPD49Kl0/PXxbOjw+IT8qXC8lXl18JiZ8XHxcfHwtLT98XCtcKz8vZyxzeW1ib2w6L1t8O0BdLyxwdW5jdHVhdGlvbjovWywuXS8sc3RyaW5nOntwYXR0ZXJuOi8oWyInXSkoXFwoPzpcclxufFtcc1xTXSl8KD8hXDEpW15cXFxyXG5dKSpcMS8sZ3JlZWR5OiEwfX0pLGRlbGV0ZSBQcmlzbS5sYW5ndWFnZXMuam9saWVbImNsYXNzLW5hbWUiXSxkZWxldGUgUHJpc20ubGFuZ3VhZ2VzLmpvbGllWyJmdW5jdGlvbiJdLFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImpvbGllIiwia2V5d29yZCIseyJmdW5jdGlvbiI6e3BhdHRlcm46LygoPzpcYig/Om91dHB1dFBvcnR8aW5wdXRQb3J0fGlufHNlcnZpY2V8Y291cmllcilcYnxAKVxzKilcdysvLGxvb2tiZWhpbmQ6ITB9LGFnZ3JlZ2F0ZXM6e3BhdHRlcm46LyhcYkFnZ3JlZ2F0ZXNccyo6XHMqKSg/Olx3Kyg/OlxzK3dpdGhccytcdyspP1xzKixccyopKlx3Kyg/OlxzK3dpdGhccytcdyspPy8sbG9va2JlaGluZDohMCxpbnNpZGU6e3dpdGhFeHRlbnNpb246e3BhdHRlcm46L1xid2l0aFxzK1x3Ky8saW5zaWRlOntrZXl3b3JkOi9cYndpdGhcYi99fSwiZnVuY3Rpb24iOntwYXR0ZXJuOi9cdysvfSxwdW5jdHVhdGlvbjp7cGF0dGVybjovLC99fX0scmVkaXJlY3RzOntwYXR0ZXJuOi8oXGJSZWRpcmVjdHNccyo6XHMqKSg/Olx3K1xzKj0+XHMqXHcrXHMqLFxzKikqKD86XHcrXHMqPT5ccypcdyspLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246e3BhdHRlcm46LywvfSwiZnVuY3Rpb24iOntwYXR0ZXJuOi9cdysvZ30sc3ltYm9sOntwYXR0ZXJuOi89Pi9nfX19fSk7ClByaXNtLmxhbmd1YWdlcy5qc29uPXtwcm9wZXJ0eTovIig/OlxcLnxbXlxcIl0pKiIoPz1ccyo6KS9naSxzdHJpbmc6LyIoPyE6KSg/OlxcLnxbXlxcIl0pKiIoPyE6KS9nLG51bWJlcjovXGItPygweFtcZEEtRmEtZl0rfFxkKlwuP1xkKyhbRWVdWystXT9cZCspPylcYi9nLHB1bmN0dWF0aW9uOi9be31bXF0pOyxdL2csb3BlcmF0b3I6LzovZywiYm9vbGVhbiI6L1xiKHRydWV8ZmFsc2UpXGIvZ2ksIm51bGwiOi9cYm51bGxcYi9naX0sUHJpc20ubGFuZ3VhZ2VzLmpzb25wPVByaXNtLmxhbmd1YWdlcy5qc29uOwpQcmlzbS5sYW5ndWFnZXMuanVsaWE9e2NvbW1lbnQ6e3BhdHRlcm46LyhefFteXFxdKSMuKi8sbG9va2JlaGluZDohMH0sc3RyaW5nOi8iIiJbXHNcU10rPyIiInwnJydbXHNcU10rPycnJ3woInwnKShcXD8uKSo/XDEvLGtleXdvcmQ6L1xiKGFic3RyYWN0fGJhcmVtb2R1bGV8YmVnaW58Yml0c3R5cGV8YnJlYWt8Y2F0Y2h8Y2NhbGx8Y29uc3R8Y29udGludWV8ZG98ZWxzZXxlbHNlaWZ8ZW5kfGV4cG9ydHxmaW5hbGx5fGZvcnxmdW5jdGlvbnxnbG9iYWx8aWZ8aW1tdXRhYmxlfGltcG9ydHxpbXBvcnRhbGx8bGV0fGxvY2FsfG1hY3JvfG1vZHVsZXxwcmludHxwcmludGxufHF1b3RlfHJldHVybnx0cnl8dHlwZXx0eXBlYWxpYXN8dXNpbmd8d2hpbGUpXGIvLCJib29sZWFuIjovXGIodHJ1ZXxmYWxzZSlcYi8sbnVtYmVyOi9cYi0/KDBbYm94XSk/KD86W1xkYS1mXStcLj9cZCp8XC5cZCspKD86W2VmcF1bKy1dP1xkKyk/aj9cYi9pLG9wZXJhdG9yOi9cKz0/fC09P3xcKj0/fFwvW1wvPV0/fFxcPT98XF49P3wlPT98w7c9P3whPT89P3wmPT98XHxbPT5dP3xcJD0/fDwoPzo8PT98Wz06XSk/fD4oPzo9fD4+Pz0/KT98PT0/PT98W37iiaDiiaTiiaVdLyxwdW5jdHVhdGlvbjovW3t9W1xdOygpLC46XS99OwpQcmlzbS5sYW5ndWFnZXMua2V5bWFuPXtjb21tZW50Oi9cYmNccy4qL2ksImZ1bmN0aW9uIjovXFtccyooKENUUkx8U0hJRlR8QUxUfExDVFJMfFJDVFJMfExBTFR8UkFMVHxDQVBTfE5DQVBTKVxzKykqKFtUS1VdX1thLXowLTlfP10rfCIuKz8ifCcuKz8nKVxzKlxdL2ksc3RyaW5nOi8oInwnKSgoPyFcMSkuKSpcMS8sYm9sZDpbLyYoYmFzZWxheW91dHxiaXRtYXB8Y2Fwc29ub25seXxjYXBzYWx3YXlzb2ZmfHNoaWZ0ZnJlZXNjYXBzfGNvcHlyaWdodHxldGhub2xvZ3VlY29kZXxob3RrZXl8aW5jbHVkZWNvZGVzfGtleWJvYXJkdmVyc2lvbnxrbXdfZW1iZWRjc3N8a213X2VtYmVkanN8a213X2hlbHBmaWxlfGttd19oZWxwdGV4dHxrbXdfcnRsfGxhbmd1YWdlfGxheWVyfGxheW91dGZpbGV8bWVzc2FnZXxtbmVtb25pY2xheW91dHxuYW1lfG9sZGNoYXJwb3NtYXRjaGluZ3xwbGF0Zm9ybXx0YXJnZXRzfHZlcnNpb258dmlzdWFsa2V5Ym9hcmR8d2luZG93c2xhbmd1YWdlcylcYi9pLC9cYihiaXRtYXB8Yml0bWFwc3xjYXBzIG9uIG9ubHl8Y2FwcyBhbHdheXMgb2ZmfHNoaWZ0IGZyZWVzIGNhcHN8Y29weXJpZ2h0fGhvdGtleXxsYW5ndWFnZXxsYXlvdXR8bWVzc2FnZXxuYW1lfHZlcnNpb24pXGIvaV0sa2V5d29yZDovXGIoYW55fGJhc2VsYXlvdXR8YmVlcHxjYWxsfGNvbnRleHR8ZGVhZGtleXxka3xpZnxpbmRleHxsYXllcnxub3Rhbnl8bnVsfG91dHN8cGxhdGZvcm18cmV0dXJufHJlc2V0fHNhdmV8c2V0fHN0b3JlfHVzZSlcYi9pLGF0cnVsZTovXGIoYW5zaXxiZWdpbnx1bmljb2RlfGdyb3VwfHVzaW5nIGtleXN8bWF0Y2h8bm9tYXRjaClcYi9pLG51bWJlcjovXGIoVVwrW1xkQS1GXSt8ZFxkK3x4W1xkYS1mXSt8XGQrKVxiL2ksb3BlcmF0b3I6L1srPlxcLCgpXS8sdGFnOi9cJChrZXltYW58a21mbHx3ZWF2ZXJ8a2V5bWFud2VifGtleW1hbm9ubHkpOi9pfTsKIWZ1bmN0aW9uKG4pe24ubGFuZ3VhZ2VzLmtvdGxpbj1uLmxhbmd1YWdlcy5leHRlbmQoImNsaWtlIix7a2V5d29yZDp7cGF0dGVybjovKF58W14uXSlcYig/OmFic3RyYWN0fGFubm90YXRpb258YXN8YnJlYWt8Ynl8Y2F0Y2h8Y2xhc3N8Y29tcGFuaW9ufGNvbnN0fGNvbnN0cnVjdG9yfGNvbnRpbnVlfGNyb3NzaW5saW5lfGRhdGF8ZG98ZWxzZXxlbnVtfGZpbmFsfGZpbmFsbHl8Zm9yfGZ1bnxnZXR8aWZ8aW1wb3J0fGlufGluaXR8aW5saW5lfGlubmVyfGludGVyZmFjZXxpbnRlcm5hbHxpc3xsYXRlaW5pdHxub2lubGluZXxudWxsfG9iamVjdHxvcGVufG91dHxvdmVycmlkZXxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZWlmaWVkfHJldHVybnxzZWFsZWR8c2V0fHN1cGVyfHRhaWxyZWN8dGhpc3x0aHJvd3x0b3x0cnl8dmFsfHZhcnx3aGVufHdoZXJlfHdoaWxlKVxiLyxsb29rYmVoaW5kOiEwfSwiZnVuY3Rpb24iOlsvXHcrKD89XHMqXCgpLyx7cGF0dGVybjovKFwuKVx3Kyg/PVxzKlx7KS8sbG9va2JlaGluZDohMH1dLG51bWJlcjovXGIoPzowW2J4XVtcZGEtZkEtRl0rfFxkKyg/OlwuXGQrKT8oPzplWystXT9cZCspP1tmRkxdPylcYi8sb3BlcmF0b3I6L1wrWys9XT98LVstPT5dP3w9PT89P3whKD86IXw9PT8pP3xbXC8qJTw+XT0/fFs/Ol06P3xcLlwufCYmfFx8XHx8XGIoPzphbmR8aW52fG9yfHNobHxzaHJ8dXNocnx4b3IpXGIvfSksZGVsZXRlIG4ubGFuZ3VhZ2VzLmtvdGxpblsiY2xhc3MtbmFtZSJdLG4ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgia290bGluIiwic3RyaW5nIix7InJhdy1zdHJpbmciOntwYXR0ZXJuOi8oWyInXSlcMVwxW1xzXFNdKj9cMXszfS8sYWxpYXM6InN0cmluZyJ9fSksbi5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJrb3RsaW4iLCJrZXl3b3JkIix7YW5ub3RhdGlvbjp7cGF0dGVybjovXEJAKD86XHcrOik/KD86W0EtWl1cdyp8XFtbXlxdXStcXSkvLGFsaWFzOiJidWlsdGluIn19KSxuLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImtvdGxpbiIsImZ1bmN0aW9uIix7bGFiZWw6e3BhdHRlcm46L1x3K0B8QFx3Ky8sYWxpYXM6InN5bWJvbCJ9fSk7dmFyIGU9W3twYXR0ZXJuOi9cJFx7W159XStcfS8saW5zaWRlOntkZWxpbWl0ZXI6e3BhdHRlcm46L15cJFx7fFx9JC8sYWxpYXM6InZhcmlhYmxlIn0scmVzdDpuLnV0aWwuY2xvbmUobi5sYW5ndWFnZXMua290bGluKX19LHtwYXR0ZXJuOi9cJFx3Ky8sYWxpYXM6InZhcmlhYmxlIn1dO24ubGFuZ3VhZ2VzLmtvdGxpbi5zdHJpbmcuaW5zaWRlPW4ubGFuZ3VhZ2VzLmtvdGxpblsicmF3LXN0cmluZyJdLmluc2lkZT17aW50ZXJwb2xhdGlvbjplfX0oUHJpc20pOwohZnVuY3Rpb24oYSl7dmFyIGU9L1xcKFteYS16KClbXF1dfFthLXpcKl0rKS9pLG49eyJlcXVhdGlvbi1jb21tYW5kIjp7cGF0dGVybjplLGFsaWFzOiJyZWdleCJ9fTthLmxhbmd1YWdlcy5sYXRleD17Y29tbWVudDovJS4qL20sY2RhdGE6e3BhdHRlcm46LyhcXGJlZ2luXHsoKD86dmVyYmF0aW18bHN0bGlzdGluZylcKj8pXH0pKFtcd1xXXSo/KSg/PVxcZW5kXHtcMlx9KS8sbG9va2JlaGluZDohMH0sZXF1YXRpb246W3twYXR0ZXJuOi9cJCg/OlxcP1tcd1xXXSkqP1wkfFxcXCgoPzpcXD9bXHdcV10pKj9cXFwpfFxcXFsoPzpcXD9bXHdcV10pKj9cXFxdLyxpbnNpZGU6bixhbGlhczoic3RyaW5nIn0se3BhdHRlcm46LyhcXGJlZ2luXHsoKD86ZXF1YXRpb258bWF0aHxlcW5hcnJheXxhbGlnbnxtdWx0bGluZXxnYXRoZXIpXCo/KVx9KShbXHdcV10qPykoPz1cXGVuZFx7XDJcfSkvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOm4sYWxpYXM6InN0cmluZyJ9XSxrZXl3b3JkOntwYXR0ZXJuOi8oXFwoPzpiZWdpbnxlbmR8cmVmfGNpdGV8bGFiZWx8dXNlcGFja2FnZXxkb2N1bWVudGNsYXNzKSg/OlxbW15cXV0rXF0pP1x7KVtefV0rKD89XH0pLyxsb29rYmVoaW5kOiEwfSx1cmw6e3BhdHRlcm46LyhcXHVybFx7KVtefV0rKD89XH0pLyxsb29rYmVoaW5kOiEwfSxoZWFkbGluZTp7cGF0dGVybjovKFxcKD86cGFydHxjaGFwdGVyfHNlY3Rpb258c3Vic2VjdGlvbnxmcmFtZXRpdGxlfHN1YnN1YnNlY3Rpb258cGFyYWdyYXBofHN1YnBhcmFncmFwaHxzdWJzdWJwYXJhZ3JhcGh8c3Vic3Vic3VicGFyYWdyYXBoKVwqPyg/OlxbW15cXV0rXF0pP1x7KVtefV0rKD89XH0oPzpcW1teXF1dK1xdKT8pLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJjbGFzcy1uYW1lIn0sImZ1bmN0aW9uIjp7cGF0dGVybjplLGFsaWFzOiJzZWxlY3RvciJ9LHB1bmN0dWF0aW9uOi9bW1xde30mXS99fShQcmlzbSk7ClByaXNtLmxhbmd1YWdlcy5sZXNzPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoImNzcyIse2NvbW1lbnQ6Wy9cL1wqW1x3XFddKj9cKlwvLyx7cGF0dGVybjovKF58W15cXF0pXC9cLy4qLyxsb29rYmVoaW5kOiEwfV0sYXRydWxlOntwYXR0ZXJuOi9AW1x3LV0rPyg/OlwoW157fV0rXCl8W14oKXt9O10pKj8oPz1ccypceykvaSxpbnNpZGU6e3B1bmN0dWF0aW9uOi9bOigpXS99fSxzZWxlY3Rvcjp7cGF0dGVybjovKD86QFx7W1x3LV0rXH18W157fTtcc0BdKSg/OkBce1tcdy1dK1x9fFwoW157fV0qXCl8W157fTtAXSkqPyg/PVxzKlx7KS8saW5zaWRlOnt2YXJpYWJsZTovQCtbXHctXSsvfX0scHJvcGVydHk6Lyg/OkBce1tcdy1dK1x9fFtcdy1dKSsoPzpcK18/KT8oPz1ccyo6KS9pLHB1bmN0dWF0aW9uOi9be30oKTs6LF0vLG9wZXJhdG9yOi9bK1wtKlwvXS99KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJsZXNzIiwicHVuY3R1YXRpb24iLHsiZnVuY3Rpb24iOlByaXNtLmxhbmd1YWdlcy5sZXNzLmZ1bmN0aW9ufSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgibGVzcyIsInByb3BlcnR5Iix7dmFyaWFibGU6W3twYXR0ZXJuOi9AW1x3LV0rXHMqOi8saW5zaWRlOntwdW5jdHVhdGlvbjovOi99fSwvQEA/W1x3LV0rL10sIm1peGluLXVzYWdlIjp7cGF0dGVybjovKFt7O11ccyopWy4jXSg/IVxkKVtcdy1dKy4qPyg/PVsoO10pLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJmdW5jdGlvbiJ9fSk7ClByaXNtLmxhbmd1YWdlcy5saXZlc2NyaXB0PXsiaW50ZXJwb2xhdGVkLXN0cmluZyI6e3BhdHRlcm46LygiIiJ8IikoPzpcXFtcc1xTXXwoPyFcMSlbXlxcXSkqXDEvLGdyZWVkeTohMCxpbnNpZGU6e3ZhcmlhYmxlOntwYXR0ZXJuOi8oXnxbXlxcXSkjW2Etel9dKD86LT9bYS16XXxcZCkqL20sbG9va2JlaGluZDohMH0saW50ZXJwb2xhdGlvbjp7cGF0dGVybjovKF58W15cXF0pI1x7W159XStcfS9tLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnsiaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvbiI6e3BhdHRlcm46L14jXHt8XH0kLyxhbGlhczoidmFyaWFibGUifX19LHN0cmluZzovW1xzXFNdKy99fSxjb21tZW50Olt7cGF0dGVybjovKF58W15cXF0pXC9cKltcd1xXXSo/XCpcLy8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9LHtwYXR0ZXJuOi8oXnxbXlxcXSkjLiovLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwfV0sc3RyaW5nOlt7cGF0dGVybjovKCcnJ3wnKSg/OlxcW1xzXFNdfCg/IVwxKVteXFxdKSpcMS8sZ3JlZWR5OiEwfSx7cGF0dGVybjovPFxbW1xzXFNdKj9cXT4vLGdyZWVkeTohMH0sL1xcW15ccyw7XF0pfV0rL10scmVnZXg6W3twYXR0ZXJuOi9cL1wvKFxbLis/XXxcXC58KD8hXC9cLylbXlxcXSkrXC9cL1tnaW15dV17MCw1fS8sZ3JlZWR5OiEwLGluc2lkZTp7Y29tbWVudDp7cGF0dGVybjovKF58W15cXF0pIy4qLyxsb29rYmVoaW5kOiEwfX19LHtwYXR0ZXJuOi9cLyhcWy4rP118XFwufFteXC9cXFxyXG5dKStcL1tnaW15dV17MCw1fS8sZ3JlZWR5OiEwfV0sa2V5d29yZDp7cGF0dGVybjovKF58KD8hLSkuKVxiKD86YnJlYWt8Y2FzZXxjYXRjaHxjbGFzc3xjb25zdHxjb250aW51ZXxkZWZhdWx0fGRvfGVsc2V8ZXh0ZW5kc3xmYWxsdGhyb3VnaHxmaW5hbGx5fGZvcig/OiBldmVyKT98ZnVuY3Rpb258aWZ8aW1wbGVtZW50c3xpdHxsZXR8bG9vcHxuZXd8bnVsbHxvdGhlcndpc2V8b3dufHJldHVybnxzdXBlcnxzd2l0Y2h8dGhhdHx0aGVufHRoaXN8dGhyb3d8dHJ5fHVubGVzc3x1bnRpbHx2YXJ8dm9pZHx3aGVufHdoaWxlfHlpZWxkKSg/IS0pXGIvbSxsb29rYmVoaW5kOiEwfSwia2V5d29yZC1vcGVyYXRvciI6e3BhdHRlcm46LyhefFteLV0pXGIoPzooPzpkZWxldGV8cmVxdWlyZXx0eXBlb2YpIXwoPzphbmR8Ynl8ZGVsZXRlfGV4cG9ydHxmcm9tfGltcG9ydCg/OiBhbGwpP3xpbnxpbnN0YW5jZW9mfGlzKD86bnR8IG5vdCk/fG5vdHxvZnxvcnx0aWx8dG98dHlwZW9mfHdpdGh8eG9yKSg/IS0pXGIpL20sbG9va2JlaGluZDohMCxhbGlhczoib3BlcmF0b3IifSwiYm9vbGVhbiI6e3BhdHRlcm46LyhefFteLV0pXGIoPzpmYWxzZXxub3xvZmZ8b258dHJ1ZXx5ZXMpKD8hLSlcYi9tLGxvb2tiZWhpbmQ6ITB9LGFyZ3VtZW50OntwYXR0ZXJuOi8oXnwoPyFcLiZcLilbXiZdKSYoPyEmKVxkKi9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InZhcmlhYmxlIn0sbnVtYmVyOi9cYig/OlxkK35bXGRhLXpdK3xcZFtcZF9dKig/OlwuXGRbXGRfXSopPyg/OlthLXpdXHcqKT8pL2ksaWRlbnRpZmllcjovW2Etel9dKD86LT9bYS16XXxcZCkqL2ksb3BlcmF0b3I6W3twYXR0ZXJuOi8oIClcLig/PSApLyxsb29rYmVoaW5kOiEwfSwvXC4oPzpbPX5dfFwuXC4/KXxcLig/OlsmfF5dfDw8fD4+Pj8pXC58Oig/Oj18Oj0/KXwmJnxcfFt8Pl18PCg/Ojw8Pzw/fC0tPyE/fH5+PyE/fFt8PT9dKT98Pls+PT9dP3wtKD86LT4/fD4pP3xcK1wrP3xAQD98JSU/fFwqXCo/fCEoPzp+Pz18LS0/Pnx+P34+KT98fig/On4/Pnw9KT98PT0/fFxeXF4/fFtcLz9dL10scHVuY3R1YXRpb246L1soKXt9XFtcXXwuLDo7YF0vfSxQcmlzbS5sYW5ndWFnZXMubGl2ZXNjcmlwdFsiaW50ZXJwb2xhdGVkLXN0cmluZyJdLmluc2lkZS5pbnRlcnBvbGF0aW9uLmluc2lkZS5yZXN0PVByaXNtLmxhbmd1YWdlcy5saXZlc2NyaXB0OwpQcmlzbS5sYW5ndWFnZXMubG9sY29kZT17Y29tbWVudDpbL1xiT0JUV1xzK1tcc1xTXSo/XHMrVExEUlxiLywvXGJCVFcuKy9dLHN0cmluZzp7cGF0dGVybjovIig/OjoufFteIl0pKiIvLGluc2lkZTp7dmFyaWFibGU6Lzpce1tefV0rXH0vLHN5bWJvbDpbLzpcKFthLWZcZF0rXCkvaSwvOlxbW15cXV0rXF0vLC86Wyk+byI6XS9dfSxncmVlZHk6ITB9LG51bWJlcjovKC18XGIpXGQqXC4/XGQrLyxzeW1ib2w6e3BhdHRlcm46LyhefFxzKSg/OkEgKT8oPzpZQVJOfE5VTUJSfE5VTUJBUnxUUk9PRnxCVUtLSVR8Tk9PQikoPz1cc3wsfCQpLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7a2V5d29yZDovQSg/PVxzKS99fSxsYWJlbDp7cGF0dGVybjovKCg/Ol58XHMpKD86SU0gSU4gWVJ8SU0gT1VUVEEgWVIpIClbYS16QS1aXVx3Ki8sbG9va2JlaGluZDohMCxhbGlhczoic3RyaW5nIn0sImZ1bmN0aW9uIjp7cGF0dGVybjovKCg/Ol58XHMpKD86SSBJWnxIT1cgSVogSXxJWikgKVthLXpBLVpdXHcqLyxsb29rYmVoaW5kOiEwfSxrZXl3b3JkOlt7cGF0dGVybjovKF58XHMpKD86TyBIQUkgSU18S1RIWHxIQUl8S1RIWEJZRXxJIEhBUyBBfElUWig/OiBBKT98UnxBTnxNS0FZfFNNT09TSHxNQUVLfElTIE5PVyg/OiBBKT98VklTSUJMRXxHSU1NRUh8TyBSTFlcP3xZQSBSTFl8Tk8gV0FJfE9JQ3xNRUJCRXxXVEZcP3xPTUd8T01HV1RGfEdURk98SU0gSU4gWVJ8SU0gT1VUVEEgWVJ8Rk9VTkQgWVJ8WVJ8VElMfFdJTEV8VVBQSU58TkVSRklOfEkgSVp8SE9XIElaIEl8SUYgVSBTQVkgU098U1JTfEhBUyBBfExJRUsoPzogQSk/fElaKSg/PVxzfCx8JCkvLGxvb2tiZWhpbmQ6ITB9LC8nWig/PVxzfCx8JCkvXSwiYm9vbGVhbiI6e3BhdHRlcm46LyhefFxzKSg/OldJTnxGQUlMKSg/PVxzfCx8JCkvLGxvb2tiZWhpbmQ6ITB9LHZhcmlhYmxlOntwYXR0ZXJuOi8oXnxccylJVCg/PVxzfCx8JCkvLGxvb2tiZWhpbmQ6ITB9LG9wZXJhdG9yOntwYXR0ZXJuOi8oXnxccykoPzpOT1R8Qk9USCBTQUVNfERJRkZSSU5UfCg/OlNVTXxESUZGfFBST0RVS1R8UVVPU0hVTlR8TU9EfEJJR0dSfFNNQUxMUnxCT1RIfEVJVEhFUnxXT058QUxMfEFOWSkgT0YpKD89XHN8LHwkKS8sbG9va2JlaGluZDohMH0scHVuY3R1YXRpb246L1wuezN9fOKApnwsfCEvfTsKUHJpc20ubGFuZ3VhZ2VzLmx1YT17Y29tbWVudDovXiMhLit8LS0oPzpcWyg9KilcW1tcc1xTXSo/XF1cMVxdfC4qKS9tLHN0cmluZzp7cGF0dGVybjovKFsiJ10pKD86KD8hXDEpW15cXFxyXG5dfFxceig/OlxyXG58XHMpfFxcKD86XHJcbnxbXHNcU10pKSpcMXxcWyg9KilcW1tcc1xTXSo/XF1cMlxdLyxncmVlZHk6ITB9LG51bWJlcjovXGIweFthLWZcZF0rXC4/W2EtZlxkXSooPzpwWystXT9cZCspP1xifFxiXGQrKD86XC5cQnxcLj9cZCooPzplWystXT9cZCspP1xiKXxcQlwuXGQrKD86ZVsrLV0/XGQrKT9cYi9pLGtleXdvcmQ6L1xiKD86YW5kfGJyZWFrfGRvfGVsc2V8ZWxzZWlmfGVuZHxmYWxzZXxmb3J8ZnVuY3Rpb258Z290b3xpZnxpbnxsb2NhbHxuaWx8bm90fG9yfHJlcGVhdHxyZXR1cm58dGhlbnx0cnVlfHVudGlsfHdoaWxlKVxiLywiZnVuY3Rpb24iOi8oPyFcZClcdysoPz1ccyooPzpbKHtdKSkvLG9wZXJhdG9yOlsvWy0rKiVeJnwjXXxcL1wvP3w8Wzw9XT98Pls+PV0/fFs9fl09Py8se3BhdHRlcm46LyhefFteLl0pXC5cLig/IVwuKS8sbG9va2JlaGluZDohMH1dLHB1bmN0dWF0aW9uOi9bXFtcXSgpe30sO118XC4rfDorL307ClByaXNtLmxhbmd1YWdlcy5tYWtlZmlsZT17Y29tbWVudDp7cGF0dGVybjovKF58W15cXF0pIyg/OlxcKD86XHJcbnxbXHNcU10pfC4pKi8sbG9va2JlaGluZDohMH0sc3RyaW5nOntwYXR0ZXJuOi8oWyInXSkoPzpcXCg/OlxyXG58W1xzXFNdKXwoPyFcMSlbXlxcXHJcbl0pKlwxLyxncmVlZHk6ITB9LGJ1aWx0aW46L1wuW0EtWl1bXjojPVxzXSsoPz1ccyo6KD8hPSkpLyxzeW1ib2w6e3BhdHRlcm46L15bXjo9XHJcbl0rKD89XHMqOig/IT0pKS9tLGluc2lkZTp7dmFyaWFibGU6L1wkKyg/OlteKCl7fTojPVxzXSt8KD89Wyh7XSkpL319LHZhcmlhYmxlOi9cJCsoPzpbXigpe306Iz1cc10rfFwoW0AqJTxeKz9dW0RGXVwpfCg/PVsoe10pKS8sa2V5d29yZDpbLy1pbmNsdWRlXGJ8XGIoPzpkZWZpbmV8ZWxzZXxlbmRlZnxlbmRpZnxleHBvcnR8aWZuP2RlZnxpZm4/ZXF8aW5jbHVkZXxvdmVycmlkZXxwcml2YXRlfHNpbmNsdWRlfHVuZGVmaW5lfHVuZXhwb3J0fHZwYXRoKVxiLyx7cGF0dGVybjovKFwoKSg/OmFkZHN1ZmZpeHxhYnNwYXRofGFuZHxiYXNlbmFtZXxjYWxsfGRpcnxlcnJvcnxldmFsfGZpbGV8ZmlsdGVyKD86LW91dCk/fGZpbmRzdHJpbmd8Zmlyc3R3b3JkfGZsYXZvcnxmb3JlYWNofGd1aWxlfGlmfGluZm98am9pbnxsYXN0d29yZHxsb2FkfG5vdGRpcnxvcnxvcmlnaW58cGF0c3Vic3R8cmVhbHBhdGh8c2hlbGx8c29ydHxzdHJpcHxzdWJzdHxzdWZmaXh8dmFsdWV8d2FybmluZ3x3aWxkY2FyZHx3b3JkKD86c3xsaXN0KT8pKD89WyBcdF0pLyxsb29rYmVoaW5kOiEwfV0sb3BlcmF0b3I6Lyg/Ojo6fFs/OishXSk/PXxbfEBdLyxwdW5jdHVhdGlvbjovWzo7KCl7fV0vfTsKUHJpc20ubGFuZ3VhZ2VzLm1hcmtkb3duPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoIm1hcmt1cCIse30pLFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoIm1hcmtkb3duIiwicHJvbG9nIix7YmxvY2txdW90ZTp7cGF0dGVybjovXj4oPzpbXHQgXSo+KSovbSxhbGlhczoicHVuY3R1YXRpb24ifSxjb2RlOlt7cGF0dGVybjovXig/OiB7NH18XHQpLisvbSxhbGlhczoia2V5d29yZCJ9LHtwYXR0ZXJuOi9gYC4rP2BgfGBbXmBcbl0rYC8sYWxpYXM6ImtleXdvcmQifV0sdGl0bGU6W3twYXR0ZXJuOi9cdysuKig/OlxyP1xufFxyKSg/Oj09K3wtLSspLyxhbGlhczoiaW1wb3J0YW50IixpbnNpZGU6e3B1bmN0dWF0aW9uOi89PSskfC0tKyQvfX0se3BhdHRlcm46LyheXHMqKSMrLisvbSxsb29rYmVoaW5kOiEwLGFsaWFzOiJpbXBvcnRhbnQiLGluc2lkZTp7cHVuY3R1YXRpb246L14jK3wjKyQvfX1dLGhyOntwYXR0ZXJuOi8oXlxzKikoWyotXSkoW1x0IF0qXDIpezIsfSg/PVxzKiQpL20sbG9va2JlaGluZDohMCxhbGlhczoicHVuY3R1YXRpb24ifSxsaXN0OntwYXR0ZXJuOi8oXlxzKikoPzpbKistXXxcZCtcLikoPz1bXHQgXS4pL20sbG9va2JlaGluZDohMCxhbGlhczoicHVuY3R1YXRpb24ifSwidXJsLXJlZmVyZW5jZSI6e3BhdHRlcm46LyE/XFtbXlxdXStcXTpbXHQgXSsoPzpcUyt8PCg/OlxcLnxbXj5cXF0pKz4pKD86W1x0IF0rKD86Iig/OlxcLnxbXiJcXF0pKiJ8Jyg/OlxcLnxbXidcXF0pKid8XCgoPzpcXC58W14pXFxdKSpcKSkpPy8saW5zaWRlOnt2YXJpYWJsZTp7cGF0dGVybjovXighP1xbKVteXF1dKy8sbG9va2JlaGluZDohMH0sc3RyaW5nOi8oPzoiKD86XFwufFteIlxcXSkqInwnKD86XFwufFteJ1xcXSkqJ3xcKCg/OlxcLnxbXilcXF0pKlwpKSQvLHB1bmN0dWF0aW9uOi9eW1xbXF0hOl18Wzw+XS99LGFsaWFzOiJ1cmwifSxib2xkOntwYXR0ZXJuOi8oXnxbXlxcXSkoXCpcKnxfXykoPzooPzpccj9cbnxccikoPyFccj9cbnxccil8LikrP1wyLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L15cKlwqfF5fX3xcKlwqJHxfXyQvfX0saXRhbGljOntwYXR0ZXJuOi8oXnxbXlxcXSkoWypfXSkoPzooPzpccj9cbnxccikoPyFccj9cbnxccil8LikrP1wyLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L15bKl9dfFsqX10kL319LHVybDp7cGF0dGVybjovIT9cW1teXF1dK1xdKD86XChbXlxzKV0rKD86W1x0IF0rIig/OlxcLnxbXiJcXF0pKiIpP1wpfCA/XFtbXlxdXG5dKlxdKS8saW5zaWRlOnt2YXJpYWJsZTp7cGF0dGVybjovKCE/XFspW15cXV0rKD89XF0kKS8sbG9va2JlaGluZDohMH0sc3RyaW5nOntwYXR0ZXJuOi8iKD86XFwufFteIlxcXSkqIig/PVwpJCkvfX19fSksUHJpc20ubGFuZ3VhZ2VzLm1hcmtkb3duLmJvbGQuaW5zaWRlLnVybD1QcmlzbS51dGlsLmNsb25lKFByaXNtLmxhbmd1YWdlcy5tYXJrZG93bi51cmwpLFByaXNtLmxhbmd1YWdlcy5tYXJrZG93bi5pdGFsaWMuaW5zaWRlLnVybD1QcmlzbS51dGlsLmNsb25lKFByaXNtLmxhbmd1YWdlcy5tYXJrZG93bi51cmwpLFByaXNtLmxhbmd1YWdlcy5tYXJrZG93bi5ib2xkLmluc2lkZS5pdGFsaWM9UHJpc20udXRpbC5jbG9uZShQcmlzbS5sYW5ndWFnZXMubWFya2Rvd24uaXRhbGljKSxQcmlzbS5sYW5ndWFnZXMubWFya2Rvd24uaXRhbGljLmluc2lkZS5ib2xkPVByaXNtLnV0aWwuY2xvbmUoUHJpc20ubGFuZ3VhZ2VzLm1hcmtkb3duLmJvbGQpOwpQcmlzbS5sYW5ndWFnZXMubWF0bGFiPXtzdHJpbmc6L1xCJyg/OicnfFteJ1xuXSkqJy8sY29tbWVudDpbLyVce1tcc1xTXSo/XH0lLywvJS4rL10sbnVtYmVyOi9cYi0/KD86XGQqXC4/XGQrKD86W2VFXVsrLV0/XGQrKT8oPzpbaWpdKT98W2lqXSlcYi8sa2V5d29yZDovXGIoPzpicmVha3xjYXNlfGNhdGNofGNvbnRpbnVlfGVsc2V8ZWxzZWlmfGVuZHxmb3J8ZnVuY3Rpb258aWZ8aW5mfE5hTnxvdGhlcndpc2V8cGFyZm9yfHBhdXNlfHBpfHJldHVybnxzd2l0Y2h8dHJ5fHdoaWxlKVxiLywiZnVuY3Rpb24iOi8oPyFcZClcdysoPz1ccypcKCkvLG9wZXJhdG9yOi9cLj9bKl5cL1xcJ118WytcLTpAXXxbPD49fl09P3wmJj98XHxcfD8vLHB1bmN0dWF0aW9uOi9cLnszfXxbLiw7XFtcXSgpe30hXS99OwpQcmlzbS5sYW5ndWFnZXMubWVsPXtjb21tZW50Oi9cL1wvLiovLGNvZGU6e3BhdHRlcm46L2AoPzpcXC58W15cXGBcclxuXSkqYC8sZ3JlZWR5OiEwLGFsaWFzOiJpdGFsaWMiLGluc2lkZTp7ZGVsaW1pdGVyOntwYXR0ZXJuOi9eYHxgJC8sYWxpYXM6InB1bmN0dWF0aW9uIn19fSxzdHJpbmc6e3BhdHRlcm46LyIoPzpcXC58W15cXCJcclxuXSkqIi8sZ3JlZWR5OiEwfSx2YXJpYWJsZTovXCRcdysvLG51bWJlcjovKD86XGJ8LSkoPzoweFtcZGEtZkEtRl0rfFxkK1wuP1xkKikvLGZsYWc6e3BhdHRlcm46Ly1bXlxkXFddXHcqLyxhbGlhczoib3BlcmF0b3IifSxrZXl3b3JkOi9cYig/OmJyZWFrfGNhc2V8Y29udGludWV8ZGVmYXVsdHxkb3xlbHNlfGZsb2F0fGZvcnxnbG9iYWx8aWZ8aW58aW50fG1hdHJpeHxwcm9jfHJldHVybnxzdHJpbmd8c3dpdGNofHZlY3Rvcnx3aGlsZSlcYi8sImZ1bmN0aW9uIjovXHcrKD89XCgpfFxiKD86YWJvdXR8YWJzfGFkZEF0dHJ8YWRkQXR0cmlidXRlRWRpdG9yTm9kZUhlbHB8YWRkRHluYW1pY3xhZGROZXdTaGVsZlRhYnxhZGRQUHxhZGRQYW5lbENhdGVnb3J5fGFkZFByZWZpeFRvTmFtZXxhZHZhbmNlVG9OZXh0RHJpdmVuS2V5fGFmZmVjdGVkTmV0fGFmZmVjdHN8YWltQ29uc3RyYWludHxhaXJ8YWxpYXN8YWxpYXNBdHRyfGFsaWdufGFsaWduQ3R4fGFsaWduQ3VydmV8YWxpZ25TdXJmYWNlfGFsbFZpZXdGaXR8YW1iaWVudExpZ2h0fGFuZ2xlfGFuZ2xlQmV0d2VlbnxhbmltQ29uZXxhbmltQ3VydmVFZGl0b3J8YW5pbURpc3BsYXl8YW5pbVZpZXd8YW5ub3RhdGV8YXBwZW5kU3RyaW5nQXJyYXl8YXBwbGljYXRpb25OYW1lfGFwcGx5QXR0clByZXNldHxhcHBseVRha2V8YXJjTGVuRGltQ29udGV4dHxhcmNMZW5ndGhEaW1lbnNpb258YXJjbGVufGFycmF5TWFwcGVyfGFydDNkUGFpbnRDdHh8YXJ0QXR0ckN0eHxhcnRBdHRyUGFpbnRWZXJ0ZXhDdHh8YXJ0QXR0clNraW5QYWludEN0eHxhcnRBdHRyVG9vbHxhcnRCdWlsZFBhaW50TWVudXxhcnRGbHVpZEF0dHJDdHh8YXJ0UHV0dHlDdHh8YXJ0U2VsZWN0Q3R4fGFydFNldFBhaW50Q3R4fGFydFVzZXJQYWludEN0eHxhc3NpZ25Db21tYW5kfGFzc2lnbklucHV0RGV2aWNlfGFzc2lnblZpZXdwb3J0RmFjdG9yaWVzfGF0dGFjaEN1cnZlfGF0dGFjaERldmljZUF0dHJ8YXR0YWNoU3VyZmFjZXxhdHRyQ29sb3JTbGlkZXJHcnB8YXR0ckNvbXBhdGliaWxpdHl8YXR0ckNvbnRyb2xHcnB8YXR0ckVudW1PcHRpb25NZW51fGF0dHJFbnVtT3B0aW9uTWVudUdycHxhdHRyRmllbGRHcnB8YXR0ckZpZWxkU2xpZGVyR3JwfGF0dHJOYXZpZ2F0aW9uQ29udHJvbEdycHxhdHRyUHJlc2V0RWRpdFdpbnxhdHRyaWJ1dGVFeGlzdHN8YXR0cmlidXRlSW5mb3xhdHRyaWJ1dGVNZW51fGF0dHJpYnV0ZVF1ZXJ5fGF1dG9LZXlmcmFtZXxhdXRvUGxhY2V8YmFrZUNsaXB8YmFrZUZsdWlkU2hhZGluZ3xiYWtlUGFydGlhbEhpc3Rvcnl8YmFrZVJlc3VsdHN8YmFrZVNpbXVsYXRpb258YmFzZW5hbWV8YmFzZW5hbWVFeHxiYXRjaFJlbmRlcnxiZXNzZWx8YmV2ZWx8YmV2ZWxQbHVzfGJpbk1lbWJlcnNoaXB8YmluZFNraW58YmxlbmQyfGJsZW5kU2hhcGV8YmxlbmRTaGFwZUVkaXRvcnxibGVuZFNoYXBlUGFuZWx8YmxlbmRUd29BdHRyfGJsaW5kRGF0YVR5cGV8Ym9uZUxhdHRpY2V8Ym91bmRhcnl8Ym94RG9sbHlDdHh8Ym94Wm9vbUN0eHxidWZmZXJDdXJ2ZXxidWlsZEJvb2ttYXJrTWVudXxidWlsZEtleWZyYW1lTWVudXxidXR0b258YnV0dG9uTWFuaXB8Q0JHfGNhY2hlRmlsZXxjYWNoZUZpbGVDb21iaW5lfGNhY2hlRmlsZU1lcmdlfGNhY2hlRmlsZVRyYWNrfGNhbWVyYXxjYW1lcmFWaWV3fGNhbkNyZWF0ZU1hbmlwfGNhbnZhc3xjYXBpdGFsaXplU3RyaW5nfGNhdGNofGNhdGNoUXVpZXR8Y2VpbHxjaGFuZ2VTdWJkaXZDb21wb25lbnREaXNwbGF5TGV2ZWx8Y2hhbmdlU3ViZGl2UmVnaW9ufGNoYW5uZWxCb3h8Y2hhcmFjdGVyfGNoYXJhY3Rlck1hcHxjaGFyYWN0ZXJPdXRsaW5lRWRpdG9yfGNoYXJhY3Rlcml6ZXxjaGRpcnxjaGVja0JveHxjaGVja0JveEdycHxjaGVja0RlZmF1bHRSZW5kZXJHbG9iYWxzfGNob2ljZXxjaXJjbGV8Y2lyY3VsYXJGaWxsZXR8Y2xhbXB8Y2xlYXJ8Y2xlYXJDYWNoZXxjbGlwfGNsaXBFZGl0b3J8Y2xpcEVkaXRvckN1cnJlbnRUaW1lQ3R4fGNsaXBTY2hlZHVsZXxjbGlwU2NoZWR1bGVyT3V0bGluZXJ8Y2xpcFRyaW1CZWZvcmV8Y2xvc2VDdXJ2ZXxjbG9zZVN1cmZhY2V8Y2x1c3RlcnxjbWRGaWxlT3V0cHV0fGNtZFNjcm9sbEZpZWxkRXhlY3V0ZXJ8Y21kU2Nyb2xsRmllbGRSZXBvcnRlcnxjbWRTaGVsbHxjb2Fyc2VuU3ViZGl2U2VsZWN0aW9uTGlzdHxjb2xsaXNpb258Y29sb3J8Y29sb3JBdFBvaW50fGNvbG9yRWRpdG9yfGNvbG9ySW5kZXh8Y29sb3JJbmRleFNsaWRlckdycHxjb2xvclNsaWRlckJ1dHRvbkdycHxjb2xvclNsaWRlckdycHxjb2x1bW5MYXlvdXR8Y29tbWFuZEVjaG98Y29tbWFuZExpbmV8Y29tbWFuZFBvcnR8Y29tcGFjdEhhaXJTeXN0ZW18Y29tcG9uZW50RWRpdG9yfGNvbXBvc2l0aW5nSW50ZXJvcHxjb21wdXRlUG9seXNldFZvbHVtZXxjb25kaXRpb258Y29uZXxjb25maXJtRGlhbG9nfGNvbm5lY3RBdHRyfGNvbm5lY3RDb250cm9sfGNvbm5lY3REeW5hbWljfGNvbm5lY3RKb2ludHxjb25uZWN0aW9uSW5mb3xjb25zdHJhaW58Y29uc3RyYWluVmFsdWV8Y29uc3RydWN0aW9uSGlzdG9yeXxjb250YWluZXJ8Y29udGFpbnNNdWx0aWJ5dGV8Y29udGV4dEluZm98Y29udHJvbHxjb252ZXJ0RnJvbU9sZExheWVyc3xjb252ZXJ0SWZmVG9Qc2R8Y29udmVydExpZ2h0bWFwfGNvbnZlcnRTb2xpZFR4fGNvbnZlcnRUZXNzZWxsYXRpb258Y29udmVydFVuaXR8Y29weUFycmF5fGNvcHlGbGV4b3J8Y29weUtleXxjb3B5U2tpbldlaWdodHN8Y29zfGNwQnV0dG9ufGNwQ2FjaGV8Y3BDbG90aFNldHxjcENvbGxpc2lvbnxjcENvbnN0cmFpbnR8Y3BDb252Q2xvdGhUb01lc2h8Y3BGb3JjZXN8Y3BHZXRTb2x2ZXJBdHRyfGNwUGFuZWx8Y3BQcm9wZXJ0eXxjcFJpZ2lkQ29sbGlzaW9uRmlsdGVyfGNwU2VhbXxjcFNldEVkaXR8Y3BTZXRTb2x2ZXJBdHRyfGNwU29sdmVyfGNwU29sdmVyVHlwZXN8Y3BUb29sfGNwVXBkYXRlQ2xvdGhVVnN8Y3JlYXRlRGlzcGxheUxheWVyfGNyZWF0ZURyYXdDdHh8Y3JlYXRlRWRpdG9yfGNyZWF0ZUxheWVyZWRQc2RGaWxlfGNyZWF0ZU1vdGlvbkZpZWxkfGNyZWF0ZU5ld1NoZWxmfGNyZWF0ZU5vZGV8Y3JlYXRlUmVuZGVyTGF5ZXJ8Y3JlYXRlU3ViZGl2UmVnaW9ufGNyb3NzfGNyb3NzUHJvZHVjdHxjdHhBYm9ydHxjdHhDb21wbGV0aW9ufGN0eEVkaXRNb2RlfGN0eFRyYXZlcnNlfGN1cnJlbnRDdHh8Y3VycmVudFRpbWV8Y3VycmVudFRpbWVDdHh8Y3VycmVudFVuaXR8Y3VydmV8Y3VydmVBZGRQdEN0eHxjdXJ2ZUNWQ3R4fGN1cnZlRVBDdHh8Y3VydmVFZGl0b3JDdHh8Y3VydmVJbnRlcnNlY3R8Y3VydmVNb3ZlRVBDdHh8Y3VydmVPblN1cmZhY2V8Y3VydmVTa2V0Y2hDdHh8Y3V0S2V5fGN5Y2xlQ2hlY2t8Y3lsaW5kZXJ8ZGFnUG9zZXxkYXRlfGRlZmF1bHRMaWdodExpc3RDaGVja0JveHxkZWZhdWx0TmF2aWdhdGlvbnxkZWZpbmVEYXRhU2VydmVyfGRlZmluZVZpcnR1YWxEZXZpY2V8ZGVmb3JtZXJ8ZGVnX3RvX3JhZHxkZWxldGV8ZGVsZXRlQXR0cnxkZWxldGVTaGFkaW5nR3JvdXBzQW5kTWF0ZXJpYWxzfGRlbGV0ZVNoZWxmVGFifGRlbGV0ZVVJfGRlbGV0ZVVudXNlZEJydXNoZXN8ZGVscmFuZHN0cnxkZXRhY2hDdXJ2ZXxkZXRhY2hEZXZpY2VBdHRyfGRldGFjaFN1cmZhY2V8ZGV2aWNlRWRpdG9yfGRldmljZVBhbmVsfGRnSW5mb3xkZ2RpcnR5fGRnZXZhbHxkZ3RpbWVyfGRpbVdoZW58ZGlyZWN0S2V5Q3R4fGRpcmVjdGlvbmFsTGlnaHR8ZGlybWFwfGRpcm5hbWV8ZGlzYWJsZXxkaXNjb25uZWN0QXR0cnxkaXNjb25uZWN0Sm9pbnR8ZGlza0NhY2hlfGRpc3BsYWNlbWVudFRvUG9seXxkaXNwbGF5QWZmZWN0ZWR8ZGlzcGxheUNvbG9yfGRpc3BsYXlDdWxsfGRpc3BsYXlMZXZlbE9mRGV0YWlsfGRpc3BsYXlQcmVmfGRpc3BsYXlSR0JDb2xvcnxkaXNwbGF5U21vb3RobmVzc3xkaXNwbGF5U3RhdHN8ZGlzcGxheVN0cmluZ3xkaXNwbGF5U3VyZmFjZXxkaXN0YW5jZURpbUNvbnRleHR8ZGlzdGFuY2VEaW1lbnNpb258ZG9CbHVyfGRvbGx5fGRvbGx5Q3R4fGRvcGVTaGVldEVkaXRvcnxkb3R8ZG90UHJvZHVjdHxkb3VibGVQcm9maWxlQmlyYWlsU3VyZmFjZXxkcmFnfGRyYWdBdHRyQ29udGV4dHxkcmFnZ2VyQ29udGV4dHxkcm9wb2ZmTG9jYXRvcnxkdXBsaWNhdGV8ZHVwbGljYXRlQ3VydmV8ZHVwbGljYXRlU3VyZmFjZXxkeW5DYWNoZXxkeW5Db250cm9sfGR5bkV4cG9ydHxkeW5FeHByZXNzaW9ufGR5bkdsb2JhbHN8ZHluUGFpbnRFZGl0b3J8ZHluUGFydGljbGVDdHh8ZHluUHJlZnxkeW5SZWxFZFBhbmVsfGR5blJlbEVkaXRvcnxkeW5hbWljTG9hZHxlZGl0QXR0ckxpbWl0c3xlZGl0RGlzcGxheUxheWVyR2xvYmFsc3xlZGl0RGlzcGxheUxheWVyTWVtYmVyc3xlZGl0UmVuZGVyTGF5ZXJBZGp1c3RtZW50fGVkaXRSZW5kZXJMYXllckdsb2JhbHN8ZWRpdFJlbmRlckxheWVyTWVtYmVyc3xlZGl0b3J8ZWRpdG9yVGVtcGxhdGV8ZWZmZWN0b3J8ZW1pdHxlbWl0dGVyfGVuYWJsZURldmljZXxlbmNvZGVTdHJpbmd8ZW5kU3RyaW5nfGVuZHNXaXRofGVudnxlcXVpdmFsZW50fGVxdWl2YWxlbnRUb2x8ZXJmfGVycm9yfGV2YWx8ZXZhbERlZmVycmVkfGV2YWxFY2hvfGV2ZW50fGV4YWN0V29ybGRCb3VuZGluZ0JveHxleGNsdXNpdmVMaWdodENoZWNrQm94fGV4ZWN8ZXhlY3V0ZUZvckVhY2hPYmplY3R8ZXhpc3RzfGV4cHxleHByZXNzaW9ufGV4cHJlc3Npb25FZGl0b3JMaXN0ZW58ZXh0ZW5kQ3VydmV8ZXh0ZW5kU3VyZmFjZXxleHRydWRlfGZjaGVja3xmY2xvc2V8ZmVvZnxmZmx1c2h8ZmdldGxpbmV8ZmdldHdvcmR8ZmlsZXxmaWxlQnJvd3NlckRpYWxvZ3xmaWxlRGlhbG9nfGZpbGVFeHRlbnNpb258ZmlsZUluZm98ZmlsZXRlc3R8ZmlsbGV0Q3VydmV8ZmlsdGVyfGZpbHRlckN1cnZlfGZpbHRlckV4cGFuZHxmaWx0ZXJTdHVkaW9JbXBvcnR8ZmluZEFsbEludGVyc2VjdGlvbnN8ZmluZEFuaW1DdXJ2ZXN8ZmluZEtleWZyYW1lfGZpbmRNZW51SXRlbXxmaW5kUmVsYXRlZFNraW5DbHVzdGVyfGZpbmRlcnxmaXJzdFBhcmVudE9mfGZpdEJzcGxpbmV8ZmxleG9yfGZsb2F0RXF8ZmxvYXRGaWVsZHxmbG9hdEZpZWxkR3JwfGZsb2F0U2Nyb2xsQmFyfGZsb2F0U2xpZGVyfGZsb2F0U2xpZGVyMnxmbG9hdFNsaWRlckJ1dHRvbkdycHxmbG9hdFNsaWRlckdycHxmbG9vcnxmbG93fGZsdWlkQ2FjaGVJbmZvfGZsdWlkRW1pdHRlcnxmbHVpZFZveGVsSW5mb3xmbHVzaFVuZG98Zm1vZHxmb250RGlhbG9nfGZvcGVufGZvcm1MYXlvdXR8Zm9ybWF0fGZwcmludHxmcmFtZUxheW91dHxmcmVhZHxmcmVlRm9ybUZpbGxldHxmcmV3aW5kfGZyb21OYXRpdmVQYXRofGZ3cml0ZXxnYW1tYXxnYXVzc3xnZW9tZXRyeUNvbnN0cmFpbnR8Z2V0QXBwbGljYXRpb25WZXJzaW9uQXNGbG9hdHxnZXRBdHRyfGdldENsYXNzaWZpY2F0aW9ufGdldERlZmF1bHRCcnVzaHxnZXRGaWxlTGlzdHxnZXRGbHVpZEF0dHJ8Z2V0SW5wdXREZXZpY2VSYW5nZXxnZXRNYXlhUGFuZWxUeXBlc3xnZXRNb2RpZmllcnN8Z2V0UGFuZWx8Z2V0UGFydGljbGVBdHRyfGdldFBsdWdpblJlc291cmNlfGdldGVudnxnZXRwaWR8Z2xSZW5kZXJ8Z2xSZW5kZXJFZGl0b3J8Z2xvYmFsU3RpdGNofGdtYXRjaHxnb2FsfGdvdG9CaW5kUG9zZXxncmFiQ29sb3J8Z3JhZGllbnRDb250cm9sfGdyYWRpZW50Q29udHJvbE5vQXR0cnxncmFwaERvbGx5Q3R4fGdyYXBoU2VsZWN0Q29udGV4dHxncmFwaFRyYWNrQ3R4fGdyYXZpdHl8Z3JpZHxncmlkTGF5b3V0fGdyb3VwfGdyb3VwT2JqZWN0c0J5TmFtZXxIZkFkZEF0dHJhY3RvclRvQVN8SGZBc3NpZ25BU3xIZkJ1aWxkRXF1YWxNYXB8SGZCdWlsZEZ1ckZpbGVzfEhmQnVpbGRGdXJJbWFnZXN8SGZDYW5jZWxBRlJ8SGZDb25uZWN0QVNUb0hGfEhmQ3JlYXRlQXR0cmFjdG9yfEhmRGVsZXRlQVN8SGZFZGl0QVN8SGZQZXJmb3JtQ3JlYXRlQVN8SGZSZW1vdmVBdHRyYWN0b3JGcm9tQVN8SGZTZWxlY3RBdHRhY2hlZHxIZlNlbGVjdEF0dHJhY3RvcnN8SGZVbkFzc2lnbkFTfGhhcmRlblBvaW50Q3VydmV8aGFyZHdhcmV8aGFyZHdhcmVSZW5kZXJQYW5lbHxoZWFkc1VwRGlzcGxheXxoZWFkc1VwTWVzc2FnZXxoZWxwfGhlbHBMaW5lfGhlcm1pdGV8aGlkZXxoaWxpdGV8aGl0VGVzdHxob3RCb3h8aG90a2V5fGhvdGtleUNoZWNrfGhzdl90b19yZ2J8aHVkQnV0dG9ufGh1ZFNsaWRlcnxodWRTbGlkZXJCdXR0b258aHdSZWZsZWN0aW9uTWFwfGh3UmVuZGVyfGh3UmVuZGVyTG9hZHxoeXBlckdyYXBofGh5cGVyUGFuZWx8aHlwZXJTaGFkZXxoeXBvdHxpY29uVGV4dEJ1dHRvbnxpY29uVGV4dENoZWNrQm94fGljb25UZXh0UmFkaW9CdXR0b258aWNvblRleHRSYWRpb0NvbGxlY3Rpb258aWNvblRleHRTY3JvbGxMaXN0fGljb25UZXh0U3RhdGljTGFiZWx8aWtIYW5kbGV8aWtIYW5kbGVDdHh8aWtIYW5kbGVEaXNwbGF5U2NhbGV8aWtTb2x2ZXJ8aWtTcGxpbmVIYW5kbGVDdHh8aWtTeXN0ZW18aWtTeXN0ZW1JbmZvfGlrZmtEaXNwbGF5TWV0aG9kfGlsbHVzdHJhdG9yQ3VydmVzfGltYWdlfGltZlBsdWdpbnN8aW5oZXJpdFRyYW5zZm9ybXxpbnNlcnRKb2ludHxpbnNlcnRKb2ludEN0eHxpbnNlcnRLZXlDdHh8aW5zZXJ0S25vdEN1cnZlfGluc2VydEtub3RTdXJmYWNlfGluc3RhbmNlfGluc3RhbmNlYWJsZXxpbnN0YW5jZXJ8aW50RmllbGR8aW50RmllbGRHcnB8aW50U2Nyb2xsQmFyfGludFNsaWRlcnxpbnRTbGlkZXJHcnB8aW50ZXJUb1VJfGludGVybmFsVmFyfGludGVyc2VjdHxpcHJFbmdpbmV8aXNBbmltQ3VydmV8aXNDb25uZWN0ZWR8aXNEaXJ0eXxpc1BhcmVudE9mfGlzU2FtZU9iamVjdHxpc1RydWV8aXNWYWxpZE9iamVjdE5hbWV8aXNWYWxpZFN0cmluZ3xpc1ZhbGlkVWlOYW1lfGlzb2xhdGVTZWxlY3R8aXRlbUZpbHRlcnxpdGVtRmlsdGVyQXR0cnxpdGVtRmlsdGVyUmVuZGVyfGl0ZW1GaWx0ZXJUeXBlfGpvaW50fGpvaW50Q2x1c3Rlcnxqb2ludEN0eHxqb2ludERpc3BsYXlTY2FsZXxqb2ludExhdHRpY2V8a2V5VGFuZ2VudHxrZXlmcmFtZXxrZXlmcmFtZU91dGxpbmVyfGtleWZyYW1lUmVnaW9uQ3VycmVudFRpbWVDdHh8a2V5ZnJhbWVSZWdpb25EaXJlY3RLZXlDdHh8a2V5ZnJhbWVSZWdpb25Eb2xseUN0eHxrZXlmcmFtZVJlZ2lvbkluc2VydEtleUN0eHxrZXlmcmFtZVJlZ2lvbk1vdmVLZXlDdHh8a2V5ZnJhbWVSZWdpb25TY2FsZUtleUN0eHxrZXlmcmFtZVJlZ2lvblNlbGVjdEtleUN0eHxrZXlmcmFtZVJlZ2lvblNldEtleUN0eHxrZXlmcmFtZVJlZ2lvblRyYWNrQ3R4fGtleWZyYW1lU3RhdHN8bGFzc29Db250ZXh0fGxhdHRpY2V8bGF0dGljZURlZm9ybUtleUN0eHxsYXVuY2h8bGF1bmNoSW1hZ2VFZGl0b3J8bGF5ZXJCdXR0b258bGF5ZXJlZFNoYWRlclBvcnR8bGF5ZXJlZFRleHR1cmVQb3J0fGxheW91dHxsYXlvdXREaWFsb2d8bGlnaHRMaXN0fGxpZ2h0TGlzdEVkaXRvcnxsaWdodExpc3RQYW5lbHxsaWdodGxpbmt8bGluZUludGVyc2VjdGlvbnxsaW5lYXJQcmVjaXNpb258bGluc3RlcHxsaXN0QW5pbWF0YWJsZXxsaXN0QXR0cnxsaXN0Q2FtZXJhc3xsaXN0Q29ubmVjdGlvbnN8bGlzdERldmljZUF0dGFjaG1lbnRzfGxpc3RIaXN0b3J5fGxpc3RJbnB1dERldmljZUF4ZXN8bGlzdElucHV0RGV2aWNlQnV0dG9uc3xsaXN0SW5wdXREZXZpY2VzfGxpc3RNZW51QW5ub3RhdGlvbnxsaXN0Tm9kZVR5cGVzfGxpc3RQYW5lbENhdGVnb3JpZXN8bGlzdFJlbGF0aXZlc3xsaXN0U2V0c3xsaXN0VHJhbnNmb3Jtc3xsaXN0VW5zZWxlY3RlZHxsaXN0ZXJFZGl0b3J8bG9hZEZsdWlkfGxvYWROZXdTaGVsZnxsb2FkUGx1Z2lufGxvYWRQbHVnaW5MYW5ndWFnZVJlc291cmNlc3xsb2FkUHJlZk9iamVjdHN8bG9jYWxpemVkUGFuZWxMYWJlbHxsb2NrTm9kZXxsb2Z0fGxvZ3xsb25nTmFtZU9mfGxvb2tUaHJ1fGxzfGxzVGhyb3VnaEZpbHRlcnxsc1R5cGV8bHNVSXxNYXlhdG9tcnxtYWd8bWFrZUlkZW50aXR5fG1ha2VMaXZlfG1ha2VQYWludGFibGV8bWFrZVJvbGx8bWFrZVNpbmdsZVN1cmZhY2V8bWFrZVR1YmVPbnxtYWtlYm90fG1hbmlwTW92ZUNvbnRleHR8bWFuaXBNb3ZlTGltaXRzQ3R4fG1hbmlwT3B0aW9uc3xtYW5pcFJvdGF0ZUNvbnRleHR8bWFuaXBSb3RhdGVMaW1pdHNDdHh8bWFuaXBTY2FsZUNvbnRleHR8bWFuaXBTY2FsZUxpbWl0c0N0eHxtYXJrZXJ8bWF0Y2h8bWF4fG1lbW9yeXxtZW51fG1lbnVCYXJMYXlvdXR8bWVudUVkaXRvcnxtZW51SXRlbXxtZW51SXRlbVRvU2hlbGZ8bWVudVNldHxtZW51U2V0UHJlZnxtZXNzYWdlTGluZXxtaW58bWluaW1pemVBcHB8bWlycm9ySm9pbnR8bW9kZWxDdXJyZW50VGltZUN0eHxtb2RlbEVkaXRvcnxtb2RlbFBhbmVsfG1vdXNlfG1vdklufG1vdk91dHxtb3ZlfG1vdmVJS3RvRkt8bW92ZUtleUN0eHxtb3ZlVmVydGV4QWxvbmdEaXJlY3Rpb258bXVsdGlQcm9maWxlQmlyYWlsU3VyZmFjZXxtdXRlfG5QYXJ0aWNsZXxuYW1lQ29tbWFuZHxuYW1lRmllbGR8bmFtZXNwYWNlfG5hbWVzcGFjZUluZm98bmV3UGFuZWxJdGVtc3xuZXd0b258bm9kZUNhc3R8bm9kZUljb25CdXR0b258bm9kZU91dGxpbmVyfG5vZGVQcmVzZXR8bm9kZVR5cGV8bm9pc2V8bm9uTGluZWFyfG5vcm1hbENvbnN0cmFpbnR8bm9ybWFsaXplfG51cmJzQm9vbGVhbnxudXJic0NvcHlVVlNldHxudXJic0N1YmV8bnVyYnNFZGl0VVZ8bnVyYnNQbGFuZXxudXJic1NlbGVjdHxudXJic1NxdWFyZXxudXJic1RvUG9seXxudXJic1RvUG9seWdvbnNQcmVmfG51cmJzVG9TdWJkaXZ8bnVyYnNUb1N1YmRpdlByZWZ8bnVyYnNVVlNldHxudXJic1ZpZXdEaXJlY3Rpb25WZWN0b3J8b2JqRXhpc3RzfG9iamVjdENlbnRlcnxvYmplY3RMYXllcnxvYmplY3RUeXBlfG9iamVjdFR5cGVVSXxvYnNvbGV0ZVByb2N8b2NlYW5OdXJic1ByZXZpZXdQbGFuZXxvZmZzZXRDdXJ2ZXxvZmZzZXRDdXJ2ZU9uU3VyZmFjZXxvZmZzZXRTdXJmYWNlfG9wZW5HTEV4dGVuc2lvbnxvcGVuTWF5YVByZWZ8b3B0aW9uTWVudXxvcHRpb25NZW51R3JwfG9wdGlvblZhcnxvcmJpdHxvcmJpdEN0eHxvcmllbnRDb25zdHJhaW50fG91dGxpbmVyRWRpdG9yfG91dGxpbmVyUGFuZWx8b3ZlcnJpZGVNb2RpZmllcnxwYWludEVmZmVjdHNEaXNwbGF5fHBhaXJCbGVuZHxwYWxldHRlUG9ydHxwYW5lTGF5b3V0fHBhbmVsfHBhbmVsQ29uZmlndXJhdGlvbnxwYW5lbEhpc3Rvcnl8cGFyYW1EaW1Db250ZXh0fHBhcmFtRGltZW5zaW9ufHBhcmFtTG9jYXRvcnxwYXJlbnR8cGFyZW50Q29uc3RyYWludHxwYXJ0aWNsZXxwYXJ0aWNsZUV4aXN0c3xwYXJ0aWNsZUluc3RhbmNlcnxwYXJ0aWNsZVJlbmRlckluZm98cGFydGl0aW9ufHBhc3RlS2V5fHBhdGhBbmltYXRpb258cGF1c2V8cGNsb3NlfHBlcmNlbnR8cGVyZm9ybWFuY2VPcHRpb25zfHBmeHN0cm9rZXN8cGlja1dhbGt8cGljdHVyZXxwaXhlbE1vdmV8cGxhbmFyU3JmfHBsYW5lfHBsYXl8cGxheWJhY2tPcHRpb25zfHBsYXlibGFzdHxwbHVnQXR0cnxwbHVnTm9kZXxwbHVnaW5JbmZvfHBsdWdpblJlc291cmNlVXRpbHxwb2ludENvbnN0cmFpbnR8cG9pbnRDdXJ2ZUNvbnN0cmFpbnR8cG9pbnRMaWdodHxwb2ludE1hdHJpeE11bHR8cG9pbnRPbkN1cnZlfHBvaW50T25TdXJmYWNlfHBvaW50UG9zaXRpb258cG9sZVZlY3RvckNvbnN0cmFpbnR8cG9seUFwcGVuZHxwb2x5QXBwZW5kRmFjZXRDdHh8cG9seUFwcGVuZFZlcnRleHxwb2x5QXV0b1Byb2plY3Rpb258cG9seUF2ZXJhZ2VOb3JtYWx8cG9seUF2ZXJhZ2VWZXJ0ZXh8cG9seUJldmVsfHBvbHlCbGVuZENvbG9yfHBvbHlCbGluZERhdGF8cG9seUJvb2xPcHxwb2x5QnJpZGdlRWRnZXxwb2x5Q2FjaGVNb25pdG9yfHBvbHlDaGVja3xwb2x5Q2hpcE9mZnxwb2x5Q2xpcGJvYXJkfHBvbHlDbG9zZUJvcmRlcnxwb2x5Q29sbGFwc2VFZGdlfHBvbHlDb2xsYXBzZUZhY2V0fHBvbHlDb2xvckJsaW5kRGF0YXxwb2x5Q29sb3JEZWx8cG9seUNvbG9yUGVyVmVydGV4fHBvbHlDb2xvclNldHxwb2x5Q29tcGFyZXxwb2x5Q29uZXxwb2x5Q29weVVWfHBvbHlDcmVhc2V8cG9seUNyZWFzZUN0eHxwb2x5Q3JlYXRlRmFjZXR8cG9seUNyZWF0ZUZhY2V0Q3R4fHBvbHlDdWJlfHBvbHlDdXR8cG9seUN1dEN0eHxwb2x5Q3lsaW5kZXJ8cG9seUN5bGluZHJpY2FsUHJvamVjdGlvbnxwb2x5RGVsRWRnZXxwb2x5RGVsRmFjZXR8cG9seURlbFZlcnRleHxwb2x5RHVwbGljYXRlQW5kQ29ubmVjdHxwb2x5RHVwbGljYXRlRWRnZXxwb2x5RWRpdFVWfHBvbHlFZGl0VVZTaGVsbHxwb2x5RXZhbHVhdGV8cG9seUV4dHJ1ZGVFZGdlfHBvbHlFeHRydWRlRmFjZXR8cG9seUV4dHJ1ZGVWZXJ0ZXh8cG9seUZsaXBFZGdlfHBvbHlGbGlwVVZ8cG9seUZvcmNlVVZ8cG9seUdlb1NhbXBsZXJ8cG9seUhlbGl4fHBvbHlJbmZvfHBvbHlJbnN0YWxsQWN0aW9ufHBvbHlMYXlvdXRVVnxwb2x5TGlzdENvbXBvbmVudENvbnZlcnNpb258cG9seU1hcEN1dHxwb2x5TWFwRGVsfHBvbHlNYXBTZXd8cG9seU1hcFNld01vdmV8cG9seU1lcmdlRWRnZXxwb2x5TWVyZ2VFZGdlQ3R4fHBvbHlNZXJnZUZhY2V0fHBvbHlNZXJnZUZhY2V0Q3R4fHBvbHlNZXJnZVVWfHBvbHlNZXJnZVZlcnRleHxwb2x5TWlycm9yRmFjZXxwb2x5TW92ZUVkZ2V8cG9seU1vdmVGYWNldHxwb2x5TW92ZUZhY2V0VVZ8cG9seU1vdmVVVnxwb2x5TW92ZVZlcnRleHxwb2x5Tm9ybWFsfHBvbHlOb3JtYWxQZXJWZXJ0ZXh8cG9seU5vcm1hbGl6ZVVWfHBvbHlPcHRVdnN8cG9seU9wdGlvbnN8cG9seU91dHB1dHxwb2x5UGlwZXxwb2x5UGxhbmFyUHJvamVjdGlvbnxwb2x5UGxhbmV8cG9seVBsYXRvbmljU29saWR8cG9seVBva2V8cG9seVByaW1pdGl2ZXxwb2x5UHJpc218cG9seVByb2plY3Rpb258cG9seVB5cmFtaWR8cG9seVF1YWR8cG9seVF1ZXJ5QmxpbmREYXRhfHBvbHlSZWR1Y2V8cG9seVNlbGVjdHxwb2x5U2VsZWN0Q29uc3RyYWludHxwb2x5U2VsZWN0Q29uc3RyYWludE1vbml0b3J8cG9seVNlbGVjdEN0eHxwb2x5U2VsZWN0RWRpdEN0eHxwb2x5U2VwYXJhdGV8cG9seVNldFRvRmFjZU5vcm1hbHxwb2x5U2V3RWRnZXxwb2x5U2hvcnRlc3RQYXRoQ3R4fHBvbHlTbW9vdGh8cG9seVNvZnRFZGdlfHBvbHlTcGhlcmV8cG9seVNwaGVyaWNhbFByb2plY3Rpb258cG9seVNwbGl0fHBvbHlTcGxpdEN0eHxwb2x5U3BsaXRFZGdlfHBvbHlTcGxpdFJpbmd8cG9seVNwbGl0VmVydGV4fHBvbHlTdHJhaWdodGVuVVZCb3JkZXJ8cG9seVN1YmRpdmlkZUVkZ2V8cG9seVN1YmRpdmlkZUZhY2V0fHBvbHlUb1N1YmRpdnxwb2x5VG9ydXN8cG9seVRyYW5zZmVyfHBvbHlUcmlhbmd1bGF0ZXxwb2x5VVZTZXR8cG9seVVuaXRlfHBvbHlXZWRnZUZhY2V8cG9wZW58cG9wdXBNZW51fHBvc2V8cG93fHByZWxvYWRSZWZFZHxwcmludHxwcm9ncmVzc0Jhcnxwcm9ncmVzc1dpbmRvd3xwcm9qRmlsZVZpZXdlcnxwcm9qZWN0Q3VydmV8cHJvamVjdFRhbmdlbnR8cHJvamVjdGlvbkNvbnRleHR8cHJvamVjdGlvbk1hbmlwfHByb21wdERpYWxvZ3xwcm9wTW9kQ3R4fHByb3BNb3ZlfHBzZENoYW5uZWxPdXRsaW5lcnxwc2RFZGl0VGV4dHVyZUZpbGV8cHNkRXhwb3J0fHBzZFRleHR1cmVGaWxlfHB1dGVudnxwd2R8cHl0aG9ufHF1ZXJ5U3ViZGl2fHF1aXR8cmFkX3RvX2RlZ3xyYWRpYWx8cmFkaW9CdXR0b258cmFkaW9CdXR0b25HcnB8cmFkaW9Db2xsZWN0aW9ufHJhZGlvTWVudUl0ZW1Db2xsZWN0aW9ufHJhbXBDb2xvclBvcnR8cmFuZHxyYW5kb21pemVGb2xsaWNsZXN8cmFuZHN0YXRlfHJhbmdlQ29udHJvbHxyZWFkVGFrZXxyZWJ1aWxkQ3VydmV8cmVidWlsZFN1cmZhY2V8cmVjb3JkQXR0cnxyZWNvcmREZXZpY2V8cmVkb3xyZWZlcmVuY2V8cmVmZXJlbmNlRWRpdHxyZWZlcmVuY2VRdWVyeXxyZWZpbmVTdWJkaXZTZWxlY3Rpb25MaXN0fHJlZnJlc2h8cmVmcmVzaEFFfHJlZ2lzdGVyUGx1Z2luUmVzb3VyY2V8cmVoYXNofHJlbG9hZEltYWdlfHJlbW92ZUpvaW50fHJlbW92ZU11bHRpSW5zdGFuY2V8cmVtb3ZlUGFuZWxDYXRlZ29yeXxyZW5hbWV8cmVuYW1lQXR0cnxyZW5hbWVTZWxlY3Rpb25MaXN0fHJlbmFtZVVJfHJlbmRlcnxyZW5kZXJHbG9iYWxzTm9kZXxyZW5kZXJJbmZvfHJlbmRlckxheWVyQnV0dG9ufHJlbmRlckxheWVyUGFyZW50fHJlbmRlckxheWVyUG9zdFByb2Nlc3N8cmVuZGVyTGF5ZXJVbnBhcmVudHxyZW5kZXJNYW5pcHxyZW5kZXJQYXJ0aXRpb258cmVuZGVyUXVhbGl0eU5vZGV8cmVuZGVyU2V0dGluZ3N8cmVuZGVyVGh1bWJuYWlsVXBkYXRlfHJlbmRlcldpbmRvd0VkaXRvcnxyZW5kZXJXaW5kb3dTZWxlY3RDb250ZXh0fHJlbmRlcmVyfHJlb3JkZXJ8cmVvcmRlckRlZm9ybWVyc3xyZXF1aXJlc3xyZXJvb3R8cmVzYW1wbGVGbHVpZHxyZXNldEFFfHJlc2V0UGZ4VG9Qb2x5Q2FtZXJhfHJlc2V0VG9vbHxyZXNvbHV0aW9uTm9kZXxyZXRhcmdldHxyZXZlcnNlQ3VydmV8cmV2ZXJzZVN1cmZhY2V8cmV2b2x2ZXxyZ2JfdG9faHN2fHJpZ2lkQm9keXxyaWdpZFNvbHZlcnxyb2xsfHJvbGxDdHh8cm9vdE9mfHJvdHxyb3RhdGV8cm90YXRpb25JbnRlcnBvbGF0aW9ufHJvdW5kQ29uc3RhbnRSYWRpdXN8cm93Q29sdW1uTGF5b3V0fHJvd0xheW91dHxydW5UaW1lQ29tbWFuZHxydW51cHxzYW1wbGVJbWFnZXxzYXZlQWxsU2hlbHZlc3xzYXZlQXR0clByZXNldHxzYXZlRmx1aWR8c2F2ZUltYWdlfHNhdmVJbml0aWFsU3RhdGV8c2F2ZU1lbnV8c2F2ZVByZWZPYmplY3RzfHNhdmVQcmVmc3xzYXZlU2hlbGZ8c2F2ZVRvb2xTZXR0aW5nc3xzY2FsZXxzY2FsZUJydXNoQnJpZ2h0bmVzc3xzY2FsZUNvbXBvbmVudHN8c2NhbGVDb25zdHJhaW50fHNjYWxlS2V5fHNjYWxlS2V5Q3R4fHNjZW5lRWRpdG9yfHNjZW5lVUlSZXBsYWNlbWVudHxzY21ofHNjcmlwdEN0eHxzY3JpcHRFZGl0b3JJbmZvfHNjcmlwdEpvYnxzY3JpcHROb2RlfHNjcmlwdFRhYmxlfHNjcmlwdFRvU2hlbGZ8c2NyaXB0ZWRQYW5lbHxzY3JpcHRlZFBhbmVsVHlwZXxzY3JvbGxGaWVsZHxzY3JvbGxMYXlvdXR8c2N1bHB0fHNlYXJjaFBhdGhBcnJheXxzZWVkfHNlbExvYWRTZXR0aW5nc3xzZWxlY3R8c2VsZWN0Q29udGV4dHxzZWxlY3RDdXJ2ZUNWfHNlbGVjdEtleXxzZWxlY3RLZXlDdHh8c2VsZWN0S2V5ZnJhbWVSZWdpb25DdHh8c2VsZWN0TW9kZXxzZWxlY3RQcmVmfHNlbGVjdFByaW9yaXR5fHNlbGVjdFR5cGV8c2VsZWN0ZWROb2Rlc3xzZWxlY3Rpb25Db25uZWN0aW9ufHNlcGFyYXRvcnxzZXRBdHRyfHNldEF0dHJFbnVtUmVzb3VyY2V8c2V0QXR0ck1hcHBpbmd8c2V0QXR0ck5pY2VOYW1lUmVzb3VyY2V8c2V0Q29uc3RyYWludFJlc3RQb3NpdGlvbnxzZXREZWZhdWx0U2hhZGluZ0dyb3VwfHNldERyaXZlbktleWZyYW1lfHNldER5bmFtaWN8c2V0RWRpdEN0eHxzZXRFZGl0b3J8c2V0Rmx1aWRBdHRyfHNldEZvY3VzfHNldEluZmluaXR5fHNldElucHV0RGV2aWNlTWFwcGluZ3xzZXRLZXlDdHh8c2V0S2V5UGF0aHxzZXRLZXlmcmFtZXxzZXRLZXlmcmFtZUJsZW5kc2hhcGVUYXJnZXRXdHN8c2V0TWVudU1vZGV8c2V0Tm9kZU5pY2VOYW1lUmVzb3VyY2V8c2V0Tm9kZVR5cGVGbGFnfHNldFBhcmVudHxzZXRQYXJ0aWNsZUF0dHJ8c2V0UGZ4VG9Qb2x5Q2FtZXJhfHNldFBsdWdpblJlc291cmNlfHNldFByb2plY3R8c2V0U3RhbXBEZW5zaXR5fHNldFN0YXJ0dXBNZXNzYWdlfHNldFN0YXRlfHNldFRvb2xUb3xzZXRVSVRlbXBsYXRlfHNldFhmb3JtTWFuaXB8c2V0c3xzaGFkaW5nQ29ubmVjdGlvbnxzaGFkaW5nR2VvbWV0cnlSZWxDdHh8c2hhZGluZ0xpZ2h0UmVsQ3R4fHNoYWRpbmdOZXR3b3JrQ29tcGFyZXxzaGFkaW5nTm9kZXxzaGFwZUNvbXBhcmV8c2hlbGZCdXR0b258c2hlbGZMYXlvdXR8c2hlbGZUYWJMYXlvdXR8c2hlbGxGaWVsZHxzaG9ydE5hbWVPZnxzaG93SGVscHxzaG93SGlkZGVufHNob3dNYW5pcEN0eHxzaG93U2VsZWN0aW9uSW5UaXRsZXxzaG93U2hhZGluZ0dyb3VwQXR0ckVkaXRvcnxzaG93V2luZG93fHNpZ258c2ltcGxpZnl8c2lufHNpbmdsZVByb2ZpbGVCaXJhaWxTdXJmYWNlfHNpemV8c2l6ZUJ5dGVzfHNraW5DbHVzdGVyfHNraW5QZXJjZW50fHNtb290aEN1cnZlfHNtb290aFRhbmdlbnRTdXJmYWNlfHNtb290aHN0ZXB8c25hcDJ0bzJ8c25hcEtleXxzbmFwTW9kZXxzbmFwVG9nZXRoZXJDdHh8c25hcHNob3R8c29mdHxzb2Z0TW9kfHNvZnRNb2RDdHh8c29ydHxzb3VuZHxzb3VuZENvbnRyb2x8c291cmNlfHNwYWNlTG9jYXRvcnxzcGhlcmV8c3BocmFuZHxzcG90TGlnaHR8c3BvdExpZ2h0UHJldmlld1BvcnR8c3ByZWFkU2hlZXRFZGl0b3J8c3ByaW5nfHNxcnR8c3F1YXJlU3VyZmFjZXxzcnRDb250ZXh0fHN0YWNrVHJhY2V8c3RhcnRTdHJpbmd8c3RhcnRzV2l0aHxzdGl0Y2hBbmRFeHBsb2RlU2hlbGx8c3RpdGNoU3VyZmFjZXxzdGl0Y2hTdXJmYWNlUG9pbnRzfHN0cmNtcHxzdHJpbmdBcnJheUNhdGVuYXRlfHN0cmluZ0FycmF5Q29udGFpbnN8c3RyaW5nQXJyYXlDb3VudHxzdHJpbmdBcnJheUluc2VydEF0SW5kZXh8c3RyaW5nQXJyYXlJbnRlcnNlY3RvcnxzdHJpbmdBcnJheVJlbW92ZXxzdHJpbmdBcnJheVJlbW92ZUF0SW5kZXh8c3RyaW5nQXJyYXlSZW1vdmVEdXBsaWNhdGVzfHN0cmluZ0FycmF5UmVtb3ZlRXhhY3R8c3RyaW5nQXJyYXlUb1N0cmluZ3xzdHJpbmdUb1N0cmluZ0FycmF5fHN0cmlwfHN0cmlwUHJlZml4RnJvbU5hbWV8c3Ryb2tlfHN1YmRBdXRvUHJvamVjdGlvbnxzdWJkQ2xlYW5Ub3BvbG9neXxzdWJkQ29sbGFwc2V8c3ViZER1cGxpY2F0ZUFuZENvbm5lY3R8c3ViZEVkaXRVVnxzdWJkTGlzdENvbXBvbmVudENvbnZlcnNpb258c3ViZE1hcEN1dHxzdWJkTWFwU2V3TW92ZXxzdWJkTWF0Y2hUb3BvbG9neXxzdWJkTWlycm9yfHN1YmRUb0JsaW5kfHN1YmRUb1BvbHl8c3ViZFRyYW5zZmVyVVZzVG9DYWNoZXxzdWJkaXZ8c3ViZGl2Q3JlYXNlfHN1YmRpdkRpc3BsYXlTbW9vdGhuZXNzfHN1YnN0aXR1dGV8c3Vic3RpdHV0ZUFsbFN0cmluZ3xzdWJzdGl0dXRlR2VvbWV0cnl8c3Vic3RyaW5nfHN1cmZhY2V8c3VyZmFjZVNhbXBsZXJ8c3VyZmFjZVNoYWRlckxpc3R8c3dhdGNoRGlzcGxheVBvcnR8c3dpdGNoVGFibGV8c3ltYm9sQnV0dG9ufHN5bWJvbENoZWNrQm94fHN5c0ZpbGV8c3lzdGVtfHRhYkxheW91dHx0YW58dGFuZ2VudENvbnN0cmFpbnR8dGV4TGF0dGljZURlZm9ybUNvbnRleHR8dGV4TWFuaXBDb250ZXh0fHRleE1vdmVDb250ZXh0fHRleE1vdmVVVlNoZWxsQ29udGV4dHx0ZXhSb3RhdGVDb250ZXh0fHRleFNjYWxlQ29udGV4dHx0ZXhTZWxlY3RDb250ZXh0fHRleFNlbGVjdFNob3J0ZXN0UGF0aEN0eHx0ZXhTbXVkZ2VVVkNvbnRleHR8dGV4V2luVG9vbEN0eHx0ZXh0fHRleHRDdXJ2ZXN8dGV4dEZpZWxkfHRleHRGaWVsZEJ1dHRvbkdycHx0ZXh0RmllbGRHcnB8dGV4dE1hbmlwfHRleHRTY3JvbGxMaXN0fHRleHRUb1NoZWxmfHRleHR1cmVEaXNwbGFjZVBsYW5lfHRleHR1cmVIYWlyQ29sb3J8dGV4dHVyZVBsYWNlbWVudENvbnRleHR8dGV4dHVyZVdpbmRvd3x0aHJlYWRDb3VudHx0aHJlZVBvaW50QXJjQ3R4fHRpbWVDb250cm9sfHRpbWVQb3J0fHRpbWVyWHx0b05hdGl2ZVBhdGh8dG9nZ2xlfHRvZ2dsZUF4aXN8dG9nZ2xlV2luZG93VmlzaWJpbGl0eXx0b2tlbml6ZXx0b2tlbml6ZUxpc3R8dG9sZXJhbmNlfHRvbG93ZXJ8dG9vbEJ1dHRvbnx0b29sQ29sbGVjdGlvbnx0b29sRHJvcHBlZHx0b29sSGFzT3B0aW9uc3x0b29sUHJvcGVydHlXaW5kb3d8dG9ydXN8dG91cHBlcnx0cmFjZXx0cmFja3x0cmFja0N0eHx0cmFuc2ZlckF0dHJpYnV0ZXN8dHJhbnNmb3JtQ29tcGFyZXx0cmFuc2Zvcm1MaW1pdHN8dHJhbnNsYXRvcnx0cmltfHRydW5jfHRydW5jYXRlRmx1aWRDYWNoZXx0cnVuY2F0ZUhhaXJDYWNoZXx0dW1ibGV8dHVtYmxlQ3R4fHR1cmJ1bGVuY2V8dHdvUG9pbnRBcmNDdHh8dWlSZXN8dWlUZW1wbGF0ZXx1bmFzc2lnbklucHV0RGV2aWNlfHVuZG98dW5kb0luZm98dW5ncm91cHx1bmlmb3JtfHVuaXR8dW5sb2FkUGx1Z2lufHVudGFuZ2xlVVZ8dW50aXRsZWRGaWxlTmFtZXx1bnRyaW18dXBBeGlzfHVwZGF0ZUFFfHVzZXJDdHh8dXZMaW5rfHV2U25hcHNob3R8dmFsaWRhdGVTaGVsZk5hbWV8dmVjdG9yaXplfHZpZXcyZFRvb2xDdHh8dmlld0NhbWVyYXx2aWV3Q2xpcFBsYW5lfHZpZXdGaXR8dmlld0hlYWRPbnx2aWV3TG9va0F0fHZpZXdNYW5pcHx2aWV3UGxhY2V8dmlld1NldHx2aXNvcnx2b2x1bWVBeGlzfHZvcnRleHx3YWl0Q3Vyc29yfHdhcm5pbmd8d2ViQnJvd3Nlcnx3ZWJCcm93c2VyUHJlZnN8d2hhdElzfHdpbmRvd3x3aW5kb3dQcmVmfHdpcmV8d2lyZUNvbnRleHR8d29ya3NwYWNlfHdyaW5rbGV8d3JpbmtsZUNvbnRleHR8d3JpdGVUYWtlfHhibUxhbmdQYXRoTGlzdHx4Zm9ybSlcYi8sb3BlcmF0b3I6Wy9cK1srPV0/fC1bLT1dP3wmJnxcfFx8fFs8Pl09fFsqXC8hPV09P3xbJV5dLyx7cGF0dGVybjovKF58W148XSk8KD8hPCkvLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXnxbXj5dKT4oPyE+KS8sbG9va2JlaGluZDohMH1dLHB1bmN0dWF0aW9uOi88PHw+PnxbLiw6Oz9cW1xdKCl7fV0vfSxQcmlzbS5sYW5ndWFnZXMubWVsLmNvZGUuaW5zaWRlLnJlc3Q9UHJpc20udXRpbC5jbG9uZShQcmlzbS5sYW5ndWFnZXMubWVsKTsKUHJpc20ubGFuZ3VhZ2VzLm1pemFyPXtjb21tZW50Oi86Oi4rLyxrZXl3b3JkOi9AcHJvb2ZcYnxcYig/OmFjY29yZGluZ3xhZ2dyZWdhdGV8YWxsfGFuZHxhbnRvbnltfGFyZXxhc3xhc3NvY2lhdGl2aXR5fGFzc3VtZXxhc3ltbWV0cnl8YXR0cnxiZXxiZWdpbnxiZWluZ3xieXxjYW5jZWxlZHxjYXNlfGNhc2VzfGNsdXN0ZXJzP3xjb2hlcmVuY2V8Y29tbXV0YXRpdml0eXxjb21wYXRpYmlsaXR5fGNvbm5lY3RlZG5lc3N8Y29uc2lkZXJ8Y29uc2lzdGVuY3l8Y29uc3RydWN0b3JzfGNvbnRyYWRpY3Rpb258Y29ycmVjdG5lc3N8ZGVmfGRlZmZ1bmN8ZGVmaW5lfGRlZmluaXRpb25zP3xkZWZwcmVkfGRvfGRvZXN8ZXF1YWxzfGVuZHxlbnZpcm9ufGV4fGV4YWN0bHl8ZXhpc3RlbmNlfGZvcnxmcm9tfGZ1bmN8Z2l2ZW58aGVuY2V8aGVyZWJ5fGhvbGRzfGlkZW1wb3RlbmNlfGlkZW50aXR5fGlmZj98aW1wbGllc3xpbnZvbHV0aXZlbmVzc3xpcnJlZmxleGl2aXR5fGlzfGl0fGxldHxtZWFuc3xtb2RlfG5vbnxub3R8bm90YXRpb25zP3xub3d8b2Z8b3J8b3RoZXJ3aXNlfG92ZXJ8cGVyfHByZWR8cHJlZml4fHByb2plY3Rpdml0eXxwcm9vZnxwcm92aWRlZHxxdWF8cmVjb25zaWRlcnxyZWRlZmluZXxyZWR1Y2V8cmVkdWNpYmlsaXR5fHJlZmxleGl2aXR5fHJlZ2lzdHJhdGlvbnM/fHJlcXVpcmVtZW50c3xyZXNlcnZlfHNjaHxzY2hlbWVzP3xzZWN0aW9ufHNlbGVjdG9yfHNldHxzZXRob29kfHN0fHN0cnVjdHxzdWNofHN1cHBvc2V8c3ltbWV0cnl8c3lub255bXx0YWtlfHRoYXR8dGhlfHRoZW58dGhlb3JlbXM/fHRoZXNpc3x0aHVzfHRvfHRyYW5zaXRpdml0eXx1bmlxdWVuZXNzfHZvY2FidWxhcig/Onl8aWVzKXx3aGVufHdoZXJlfHdpdGh8d3J0KVxiLyxwYXJhbWV0ZXI6e3BhdHRlcm46L1wkKD86MTB8XGQpLyxhbGlhczoidmFyaWFibGUifSx2YXJpYWJsZTovXHcrKD89OikvLG51bWJlcjovKD86XGJ8LSlcZCtcYi8sb3BlcmF0b3I6L1wuXC5cLnwtPnwmfFwuPz0vLHB1bmN0dWF0aW9uOi9cKCN8I1wpfFssOjtcW1xdKCl7fV0vfTsKUHJpc20ubGFuZ3VhZ2VzLm1vbmtleT17c3RyaW5nOi8iW14iXHJcbl0qIi8sY29tbWVudDpbL14jUmVtXHMrW1xzXFNdKj9eI0VuZC9pbSwvJy4rL10scHJlcHJvY2Vzc29yOntwYXR0ZXJuOi8oXlsgXHRdKikjLisvbSxsb29rYmVoaW5kOiEwLGFsaWFzOiJjb21tZW50In0sImZ1bmN0aW9uIjovXHcrKD89XCgpLywidHlwZS1jaGFyIjp7cGF0dGVybjovKFx3KVs/JSMkXS8sbG9va2JlaGluZDohMCxhbGlhczoidmFyaWFibGUifSxudW1iZXI6e3BhdHRlcm46LygoPzpcLlwuKT8pKD86KD86XGJ8XEItXC4/fFxCXC4pXGQrKCg/IVwuXC4pXC5cZCopP3xcJFtcZGEtZl0rKS9pLGxvb2tiZWhpbmQ6ITB9LGtleXdvcmQ6L1xiKD86Vm9pZHxTdHJpY3R8UHVibGljfFByaXZhdGV8UHJvcGVydHl8Qm9vbHxJbnR8RmxvYXR8U3RyaW5nfEFycmF5fE9iamVjdHxDb250aW51ZXxFeGl0fEltcG9ydHxFeHRlcm58TmV3fFNlbGZ8U3VwZXJ8VHJ5fENhdGNofEVhY2hpbnxUcnVlfEZhbHNlfEV4dGVuZHN8QWJzdHJhY3R8RmluYWx8U2VsZWN0fENhc2V8RGVmYXVsdHxDb25zdHxMb2NhbHxHbG9iYWx8RmllbGR8TWV0aG9kfEZ1bmN0aW9ufENsYXNzfEVuZHxJZnxUaGVufEVsc2V8RWxzZUlmfEVuZElmfFdoaWxlfFdlbmR8UmVwZWF0fFVudGlsfEZvcmV2ZXJ8Rm9yfFRvfFN0ZXB8TmV4dHxSZXR1cm58TW9kdWxlfEludGVyZmFjZXxJbXBsZW1lbnRzfElubGluZXxUaHJvd3xOdWxsKVxiL2ksb3BlcmF0b3I6L1wuXC58PFs9Pl0/fD49P3w6Pz18KD86WytcLSpcLyZ+fF18XGIoPzpNb2R8U2hsfFNocilcYik9P3xcYig/OkFuZHxOb3R8T3IpXGIvaSxwdW5jdHVhdGlvbjovWy4sOjsoKVxbXF1dL307ClByaXNtLmxhbmd1YWdlcy5uYXNtPXtjb21tZW50Oi87LiokL20sc3RyaW5nOi8oInwnfGApKFxcPy4pKj9cMS9tLGxhYmVsOntwYXR0ZXJuOi8oXlxzKilbQS1aYS16Ll8/JF1bXHcuPyRAfiNdKjovbSxsb29rYmVoaW5kOiEwLGFsaWFzOiJmdW5jdGlvbiJ9LGtleXdvcmQ6Wy9cWz9CSVRTICgxNnwzMnw2NClcXT8vbSx7cGF0dGVybjovKF5ccyopc2VjdGlvblxzKlthLXpBLVpcLl0rOj8vaW0sbG9va2JlaGluZDohMH0sLyg/OmV4dGVybnxnbG9iYWwpW147XHJcbl0qL2ltLC8oPzpDUFV8RkxPQVR8REVGQVVMVCkuKiQvbV0scmVnaXN0ZXI6e3BhdHRlcm46L1xiKD86c3RcZHxbeHl6XW1tXGRcZD98W2NkdF1yXGR8clxkXGQ/W2J3ZF0/fFtlcl0/W2FiY2RdeHxbYWJjZF1baGxdfFtlcl0/KGJwfHNwfHNpfGRpKXxbY2RlZmdzXXMpXGIvaSxhbGlhczoidmFyaWFibGUifSxudW1iZXI6LyhcYnwtfCg/PVwkKSkoMFtoeF1bXGRhLWZdKlwuP1tcZGEtZl0rKHBbKy1dP1xkKyk/fFxkW1xkYS1mXStbaHhdfFwkXGRbXGRhLWZdKnwwW29xXVswLTddK3xbMC03XStbb3FdfDBbYnldWzAxXSt8WzAxXStbYnldfDBbZHRdXGQrfFxkKlwuP1xkKyhcLj9lWystXT9cZCspP1tkdF0/KVxiL2ksb3BlcmF0b3I6L1tcW1xdKitcLVwvJTw+PSZ8JCFdL307ClByaXNtLmxhbmd1YWdlcy5uZ2lueD1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCJjbGlrZSIse2NvbW1lbnQ6e3BhdHRlcm46LyhefFteIntcXF0pIy4qLyxsb29rYmVoaW5kOiEwfSxrZXl3b3JkOi9cYig/OkNPTlRFTlRffERPQ1VNRU5UX3xHQVRFV0FZX3xIVFRQX3xIVFRQU3xpZl9ub3RfZW1wdHl8UEFUSF98UVVFUllffFJFRElSRUNUX3xSRU1PVEVffFJFUVVFU1RffFNDR0l8U0NSSVBUX3xTRVJWRVJffGh0dHB8c2VydmVyfGV2ZW50c3xsb2NhdGlvbnxpbmNsdWRlfGFjY2VwdF9tdXRleHxhY2NlcHRfbXV0ZXhfZGVsYXl8YWNjZXNzX2xvZ3xhZGRfYWZ0ZXJfYm9keXxhZGRfYmVmb3JlX2JvZHl8YWRkX2hlYWRlcnxhZGRpdGlvbl90eXBlc3xhaW98YWxpYXN8YWxsb3d8YW5jaWVudF9icm93c2VyfGFuY2llbnRfYnJvd3Nlcl92YWx1ZXxhdXRofGF1dGhfYmFzaWN8YXV0aF9iYXNpY191c2VyX2ZpbGV8YXV0aF9odHRwfGF1dGhfaHR0cF9oZWFkZXJ8YXV0aF9odHRwX3RpbWVvdXR8YXV0b2luZGV4fGF1dG9pbmRleF9leGFjdF9zaXplfGF1dG9pbmRleF9sb2NhbHRpbWV8YnJlYWt8Y2hhcnNldHxjaGFyc2V0X21hcHxjaGFyc2V0X3R5cGVzfGNodW5rZWRfdHJhbnNmZXJfZW5jb2Rpbmd8Y2xpZW50X2JvZHlfYnVmZmVyX3NpemV8Y2xpZW50X2JvZHlfaW5fZmlsZV9vbmx5fGNsaWVudF9ib2R5X2luX3NpbmdsZV9idWZmZXJ8Y2xpZW50X2JvZHlfdGVtcF9wYXRofGNsaWVudF9ib2R5X3RpbWVvdXR8Y2xpZW50X2hlYWRlcl9idWZmZXJfc2l6ZXxjbGllbnRfaGVhZGVyX3RpbWVvdXR8Y2xpZW50X21heF9ib2R5X3NpemV8Y29ubmVjdGlvbl9wb29sX3NpemV8Y3JlYXRlX2Z1bGxfcHV0X3BhdGh8ZGFlbW9ufGRhdl9hY2Nlc3N8ZGF2X21ldGhvZHN8ZGVidWdfY29ubmVjdGlvbnxkZWJ1Z19wb2ludHN8ZGVmYXVsdF90eXBlfGRlbnl8ZGV2cG9sbF9jaGFuZ2VzfGRldnBvbGxfZXZlbnRzfGRpcmVjdGlvfGRpcmVjdGlvX2FsaWdubWVudHxkaXNhYmxlX3N5bWxpbmtzfGVtcHR5X2dpZnxlbnZ8ZXBvbGxfZXZlbnRzfGVycm9yX2xvZ3xlcnJvcl9wYWdlfGV4cGlyZXN8ZmFzdGNnaV9idWZmZXJfc2l6ZXxmYXN0Y2dpX2J1ZmZlcnN8ZmFzdGNnaV9idXN5X2J1ZmZlcnNfc2l6ZXxmYXN0Y2dpX2NhY2hlfGZhc3RjZ2lfY2FjaGVfYnlwYXNzfGZhc3RjZ2lfY2FjaGVfa2V5fGZhc3RjZ2lfY2FjaGVfbG9ja3xmYXN0Y2dpX2NhY2hlX2xvY2tfdGltZW91dHxmYXN0Y2dpX2NhY2hlX21ldGhvZHN8ZmFzdGNnaV9jYWNoZV9taW5fdXNlc3xmYXN0Y2dpX2NhY2hlX3BhdGh8ZmFzdGNnaV9jYWNoZV9wdXJnZXxmYXN0Y2dpX2NhY2hlX3VzZV9zdGFsZXxmYXN0Y2dpX2NhY2hlX3ZhbGlkfGZhc3RjZ2lfY29ubmVjdF90aW1lb3V0fGZhc3RjZ2lfaGlkZV9oZWFkZXJ8ZmFzdGNnaV9pZ25vcmVfY2xpZW50X2Fib3J0fGZhc3RjZ2lfaWdub3JlX2hlYWRlcnN8ZmFzdGNnaV9pbmRleHxmYXN0Y2dpX2ludGVyY2VwdF9lcnJvcnN8ZmFzdGNnaV9rZWVwX2Nvbm58ZmFzdGNnaV9tYXhfdGVtcF9maWxlX3NpemV8ZmFzdGNnaV9uZXh0X3Vwc3RyZWFtfGZhc3RjZ2lfbm9fY2FjaGV8ZmFzdGNnaV9wYXJhbXxmYXN0Y2dpX3Bhc3N8ZmFzdGNnaV9wYXNzX2hlYWRlcnxmYXN0Y2dpX3JlYWRfdGltZW91dHxmYXN0Y2dpX3JlZGlyZWN0X2Vycm9yc3xmYXN0Y2dpX3NlbmRfdGltZW91dHxmYXN0Y2dpX3NwbGl0X3BhdGhfaW5mb3xmYXN0Y2dpX3N0b3JlfGZhc3RjZ2lfc3RvcmVfYWNjZXNzfGZhc3RjZ2lfdGVtcF9maWxlX3dyaXRlX3NpemV8ZmFzdGNnaV90ZW1wX3BhdGh8Zmx2fGdlb3xnZW9pcF9jaXR5fGdlb2lwX2NvdW50cnl8Z29vZ2xlX3BlcmZ0b29sc19wcm9maWxlc3xnemlwfGd6aXBfYnVmZmVyc3xnemlwX2NvbXBfbGV2ZWx8Z3ppcF9kaXNhYmxlfGd6aXBfaHR0cF92ZXJzaW9ufGd6aXBfbWluX2xlbmd0aHxnemlwX3Byb3hpZWR8Z3ppcF9zdGF0aWN8Z3ppcF90eXBlc3xnemlwX3Zhcnl8aWZ8aWZfbW9kaWZpZWRfc2luY2V8aWdub3JlX2ludmFsaWRfaGVhZGVyc3xpbWFnZV9maWx0ZXJ8aW1hZ2VfZmlsdGVyX2J1ZmZlcnxpbWFnZV9maWx0ZXJfanBlZ19xdWFsaXR5fGltYWdlX2ZpbHRlcl9zaGFycGVufGltYWdlX2ZpbHRlcl90cmFuc3BhcmVuY3l8aW1hcF9jYXBhYmlsaXRpZXN8aW1hcF9jbGllbnRfYnVmZmVyfGluY2x1ZGV8aW5kZXh8aW50ZXJuYWx8aXBfaGFzaHxrZWVwYWxpdmV8a2VlcGFsaXZlX2Rpc2FibGV8a2VlcGFsaXZlX3JlcXVlc3RzfGtlZXBhbGl2ZV90aW1lb3V0fGtxdWV1ZV9jaGFuZ2VzfGtxdWV1ZV9ldmVudHN8bGFyZ2VfY2xpZW50X2hlYWRlcl9idWZmZXJzfGxpbWl0X2Nvbm58bGltaXRfY29ubl9sb2dfbGV2ZWx8bGltaXRfY29ubl96b25lfGxpbWl0X2V4Y2VwdHxsaW1pdF9yYXRlfGxpbWl0X3JhdGVfYWZ0ZXJ8bGltaXRfcmVxfGxpbWl0X3JlcV9sb2dfbGV2ZWx8bGltaXRfcmVxX3pvbmV8bGltaXRfem9uZXxsaW5nZXJpbmdfY2xvc2V8bGluZ2VyaW5nX3RpbWV8bGluZ2VyaW5nX3RpbWVvdXR8bGlzdGVufGxvY2F0aW9ufGxvY2tfZmlsZXxsb2dfZm9ybWF0fGxvZ19mb3JtYXRfY29tYmluZWR8bG9nX25vdF9mb3VuZHxsb2dfc3VicmVxdWVzdHxtYXB8bWFwX2hhc2hfYnVja2V0X3NpemV8bWFwX2hhc2hfbWF4X3NpemV8bWFzdGVyX3Byb2Nlc3N8bWF4X3Jhbmdlc3xtZW1jYWNoZWRfYnVmZmVyX3NpemV8bWVtY2FjaGVkX2Nvbm5lY3RfdGltZW91dHxtZW1jYWNoZWRfbmV4dF91cHN0cmVhbXxtZW1jYWNoZWRfcGFzc3xtZW1jYWNoZWRfcmVhZF90aW1lb3V0fG1lbWNhY2hlZF9zZW5kX3RpbWVvdXR8bWVyZ2Vfc2xhc2hlc3xtaW5fZGVsZXRlX2RlcHRofG1vZGVybl9icm93c2VyfG1vZGVybl9icm93c2VyX3ZhbHVlfG1wNHxtcDRfYnVmZmVyX3NpemV8bXA0X21heF9idWZmZXJfc2l6ZXxtc2llX3BhZGRpbmd8bXNpZV9yZWZyZXNofG11bHRpX2FjY2VwdHxvcGVuX2ZpbGVfY2FjaGV8b3Blbl9maWxlX2NhY2hlX2Vycm9yc3xvcGVuX2ZpbGVfY2FjaGVfbWluX3VzZXN8b3Blbl9maWxlX2NhY2hlX3ZhbGlkfG9wZW5fbG9nX2ZpbGVfY2FjaGV8b3B0aW1pemVfc2VydmVyX25hbWVzfG92ZXJyaWRlX2NoYXJzZXR8cGNyZV9qaXR8cGVybHxwZXJsX21vZHVsZXN8cGVybF9yZXF1aXJlfHBlcmxfc2V0fHBpZHxwb3AzX2F1dGh8cG9wM19jYXBhYmlsaXRpZXN8cG9ydF9pbl9yZWRpcmVjdHxwb3N0X2FjdGlvbnxwb3N0cG9uZV9vdXRwdXR8cHJvdG9jb2x8cHJveHl8cHJveHlfYnVmZmVyfHByb3h5X2J1ZmZlcl9zaXplfHByb3h5X2J1ZmZlcmluZ3xwcm94eV9idWZmZXJzfHByb3h5X2J1c3lfYnVmZmVyc19zaXplfHByb3h5X2NhY2hlfHByb3h5X2NhY2hlX2J5cGFzc3xwcm94eV9jYWNoZV9rZXl8cHJveHlfY2FjaGVfbG9ja3xwcm94eV9jYWNoZV9sb2NrX3RpbWVvdXR8cHJveHlfY2FjaGVfbWV0aG9kc3xwcm94eV9jYWNoZV9taW5fdXNlc3xwcm94eV9jYWNoZV9wYXRofHByb3h5X2NhY2hlX3VzZV9zdGFsZXxwcm94eV9jYWNoZV92YWxpZHxwcm94eV9jb25uZWN0X3RpbWVvdXR8cHJveHlfY29va2llX2RvbWFpbnxwcm94eV9jb29raWVfcGF0aHxwcm94eV9oZWFkZXJzX2hhc2hfYnVja2V0X3NpemV8cHJveHlfaGVhZGVyc19oYXNoX21heF9zaXplfHByb3h5X2hpZGVfaGVhZGVyfHByb3h5X2h0dHBfdmVyc2lvbnxwcm94eV9pZ25vcmVfY2xpZW50X2Fib3J0fHByb3h5X2lnbm9yZV9oZWFkZXJzfHByb3h5X2ludGVyY2VwdF9lcnJvcnN8cHJveHlfbWF4X3RlbXBfZmlsZV9zaXplfHByb3h5X21ldGhvZHxwcm94eV9uZXh0X3Vwc3RyZWFtfHByb3h5X25vX2NhY2hlfHByb3h5X3Bhc3N8cHJveHlfcGFzc19lcnJvcl9tZXNzYWdlfHByb3h5X3Bhc3NfaGVhZGVyfHByb3h5X3Bhc3NfcmVxdWVzdF9ib2R5fHByb3h5X3Bhc3NfcmVxdWVzdF9oZWFkZXJzfHByb3h5X3JlYWRfdGltZW91dHxwcm94eV9yZWRpcmVjdHxwcm94eV9yZWRpcmVjdF9lcnJvcnN8cHJveHlfc2VuZF9sb3dhdHxwcm94eV9zZW5kX3RpbWVvdXR8cHJveHlfc2V0X2JvZHl8cHJveHlfc2V0X2hlYWRlcnxwcm94eV9zc2xfc2Vzc2lvbl9yZXVzZXxwcm94eV9zdG9yZXxwcm94eV9zdG9yZV9hY2Nlc3N8cHJveHlfdGVtcF9maWxlX3dyaXRlX3NpemV8cHJveHlfdGVtcF9wYXRofHByb3h5X3RpbWVvdXR8cHJveHlfdXBzdHJlYW1fZmFpbF90aW1lb3V0fHByb3h5X3Vwc3RyZWFtX21heF9mYWlsc3xyYW5kb21faW5kZXh8cmVhZF9haGVhZHxyZWFsX2lwX2hlYWRlcnxyZWN1cnNpdmVfZXJyb3JfcGFnZXN8cmVxdWVzdF9wb29sX3NpemV8cmVzZXRfdGltZWRvdXRfY29ubmVjdGlvbnxyZXNvbHZlcnxyZXNvbHZlcl90aW1lb3V0fHJldHVybnxyZXdyaXRlfHJvb3R8cnRzaWdfb3ZlcmZsb3dfZXZlbnRzfHJ0c2lnX292ZXJmbG93X3Rlc3R8cnRzaWdfb3ZlcmZsb3dfdGhyZXNob2xkfHJ0c2lnX3NpZ25vfHNhdGlzZnl8c2F0aXNmeV9hbnl8c2VjdXJlX2xpbmtfc2VjcmV0fHNlbmRfbG93YXR8c2VuZF90aW1lb3V0fHNlbmRmaWxlfHNlbmRmaWxlX21heF9jaHVua3xzZXJ2ZXJ8c2VydmVyX25hbWV8c2VydmVyX25hbWVfaW5fcmVkaXJlY3R8c2VydmVyX25hbWVzX2hhc2hfYnVja2V0X3NpemV8c2VydmVyX25hbWVzX2hhc2hfbWF4X3NpemV8c2VydmVyX3Rva2Vuc3xzZXR8c2V0X3JlYWxfaXBfZnJvbXxzbXRwX2F1dGh8c210cF9jYXBhYmlsaXRpZXN8c29fa2VlcGFsaXZlfHNvdXJjZV9jaGFyc2V0fHNwbGl0X2NsaWVudHN8c3NpfHNzaV9zaWxlbnRfZXJyb3JzfHNzaV90eXBlc3xzc2lfdmFsdWVfbGVuZ3RofHNzbHxzc2xfY2VydGlmaWNhdGV8c3NsX2NlcnRpZmljYXRlX2tleXxzc2xfY2lwaGVyc3xzc2xfY2xpZW50X2NlcnRpZmljYXRlfHNzbF9jcmx8c3NsX2RocGFyYW18c3NsX2VuZ2luZXxzc2xfcHJlZmVyX3NlcnZlcl9jaXBoZXJzfHNzbF9wcm90b2NvbHN8c3NsX3Nlc3Npb25fY2FjaGV8c3NsX3Nlc3Npb25fdGltZW91dHxzc2xfdmVyaWZ5X2NsaWVudHxzc2xfdmVyaWZ5X2RlcHRofHN0YXJ0dGxzfHN0dWJfc3RhdHVzfHN1Yl9maWx0ZXJ8c3ViX2ZpbHRlcl9vbmNlfHN1Yl9maWx0ZXJfdHlwZXN8dGNwX25vZGVsYXl8dGNwX25vcHVzaHx0aW1lb3V0fHRpbWVyX3Jlc29sdXRpb258dHJ5X2ZpbGVzfHR5cGVzfHR5cGVzX2hhc2hfYnVja2V0X3NpemV8dHlwZXNfaGFzaF9tYXhfc2l6ZXx1bmRlcnNjb3Jlc19pbl9oZWFkZXJzfHVuaW5pdGlhbGl6ZWRfdmFyaWFibGVfd2Fybnx1cHN0cmVhbXx1c2V8dXNlcnx1c2VyaWR8dXNlcmlkX2RvbWFpbnx1c2VyaWRfZXhwaXJlc3x1c2VyaWRfbmFtZXx1c2VyaWRfcDNwfHVzZXJpZF9wYXRofHVzZXJpZF9zZXJ2aWNlfHZhbGlkX3JlZmVyZXJzfHZhcmlhYmxlc19oYXNoX2J1Y2tldF9zaXplfHZhcmlhYmxlc19oYXNoX21heF9zaXplfHdvcmtlcl9jb25uZWN0aW9uc3x3b3JrZXJfY3B1X2FmZmluaXR5fHdvcmtlcl9wcmlvcml0eXx3b3JrZXJfcHJvY2Vzc2VzfHdvcmtlcl9ybGltaXRfY29yZXx3b3JrZXJfcmxpbWl0X25vZmlsZXx3b3JrZXJfcmxpbWl0X3NpZ3BlbmRpbmd8d29ya2luZ19kaXJlY3Rvcnl8eGNsaWVudHx4bWxfZW50aXRpZXN8eHNsdF9lbnRpdGllc3x4c2x0X3N0eWxlc2hlZXR8eHNsdF90eXBlcylcYi9pfSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgibmdpbngiLCJrZXl3b3JkIix7dmFyaWFibGU6L1wkW2Etel9dKy9pfSk7ClByaXNtLmxhbmd1YWdlcy5uaW09e2NvbW1lbnQ6LyMuKi8sc3RyaW5nOntwYXR0ZXJuOi8oPzooPzpcYig/IVxkKSg/Olx3fFxceFs4LTlhLWZBLUZdWzAtOWEtZkEtRl0pKyk/KD86IiIiW1xzXFNdKj8iIiIoPyEiKXwiKD86XFxbXHNcU118IiJ8W14iXFxdKSoiKXwnKD86XFwoPzpcZCt8eFtcZGEtZkEtRl17Mn18Lil8W14nXSknKS8sZ3JlZWR5OiEwfSxudW1iZXI6L1xiKD86MFt4WG9PYkJdW1xkYS1mQS1GX10rfFxkW1xkX10qKD86KD8hXC5cLilcLltcZF9dKik/KD86W2VFXVsrLV0/XGRbXGRfXSopPykoPzonP1tpdWZdXGQqKT8vLGtleXdvcmQ6L1xiKD86YWRkcnxhc3xhc218YXRvbWljfGJpbmR8YmxvY2t8YnJlYWt8Y2FzZXxjYXN0fGNvbmNlcHR8Y29uc3R8Y29udGludWV8Y29udmVydGVyfGRlZmVyfGRpc2NhcmR8ZGlzdGluY3R8ZG98ZWxpZnxlbHNlfGVuZHxlbnVtfGV4Y2VwdHxleHBvcnR8ZmluYWxseXxmb3J8ZnJvbXxmdW5jfGdlbmVyaWN8aWZ8aW1wb3J0fGluY2x1ZGV8aW50ZXJmYWNlfGl0ZXJhdG9yfGxldHxtYWNyb3xtZXRob2R8bWl4aW58bmlsfG9iamVjdHxvdXR8cHJvY3xwdHJ8cmFpc2V8cmVmfHJldHVybnxzdGF0aWN8dGVtcGxhdGV8dHJ5fHR1cGxlfHR5cGV8dXNpbmd8dmFyfHdoZW58d2hpbGV8d2l0aHx3aXRob3V0fHlpZWxkKVxiLywiZnVuY3Rpb24iOntwYXR0ZXJuOi8oPzooPyFcZCkoPzpcd3xcXHhbOC05YS1mQS1GXVswLTlhLWZBLUZdKSt8YFteYFxyXG5dK2ApXCo/KD86XFtbXlxdXStcXSk/KD89XHMqXCgpLyxpbnNpZGU6e29wZXJhdG9yOi9cKiQvfX0saWdub3JlOntwYXR0ZXJuOi9gW15gXHJcbl0rYC8saW5zaWRlOntwdW5jdHVhdGlvbjovYC99fSxvcGVyYXRvcjp7cGF0dGVybjovKF58Wyh7XFtdKD89XC5cLil8KD8hWyh7XFtdXC4pLikoPzooPzpbPStcLSpcLzw+QCR+JiV8IT9eOlxcXXxcLlwufFwuKD8hWyl9XF1dKSkrfFxiKD86YW5kfGRpdnxvZnxvcnxpbnxpc3xpc25vdHxtb2R8bm90fG5vdGlufHNobHxzaHJ8eG9yKVxiKS9tLGxvb2tiZWhpbmQ6ITB9LHB1bmN0dWF0aW9uOi9bKHtcW11cLnxcLlspfVxdXXxbYCgpe31cW1xdLDpdL307ClByaXNtLmxhbmd1YWdlcy5uaXg9e2NvbW1lbnQ6L1wvXCpbXHNcU10qP1wqXC98Iy4qLyxzdHJpbmc6e3BhdHRlcm46LyIoPzpbXiJcXF18XFxbXHNcU10pKiJ8JycoPzooPyEnJylbXHNcU118JycoPzonfFxcfFwkXHspKSonJy8sZ3JlZWR5OiEwLGluc2lkZTp7aW50ZXJwb2xhdGlvbjp7cGF0dGVybjovKF58KD86XnwoPyEnJykuKVteXFxdKVwkXHsoPzpbXn1dfFx7W159XSpcfSkqfS8sbG9va2JlaGluZDohMCxpbnNpZGU6e2FudGlxdW90YXRpb246e3BhdHRlcm46L15cJCg/PVx7KS8sYWxpYXM6InZhcmlhYmxlIn19fX19LHVybDpbL1xiKD86W2Etel17Myw3fTpcL1wvKVtcd1wtKyV+XC8uOiM9PyZdKy8se3BhdHRlcm46LyhbXlwvXSkoPzpbXHdcLSslfi46Iz0/Jl0qKD8hXC9cLylbXHdcLSslflwvLjojPT8mXSk/KD8hXC9cLylcL1tcd1wtKyV+XC8uOiM9PyZdKi8sbG9va2JlaGluZDohMH1dLGFudGlxdW90YXRpb246e3BhdHRlcm46L1wkKD89XHspLyxhbGlhczoidmFyaWFibGUifSxudW1iZXI6L1xiXGQrXGIvLGtleXdvcmQ6L1xiKD86YXNzZXJ0fGJ1aWx0aW5zfGVsc2V8aWZ8aW58aW5oZXJpdHxsZXR8bnVsbHxvcnx0aGVufHdpdGgpXGIvLCJmdW5jdGlvbiI6L1xiKD86YWJvcnR8YWRkfGFsbHxhbnl8YXR0ck5hbWVzfGF0dHJWYWx1ZXN8YmFzZU5hbWVPZnxjb21wYXJlVmVyc2lvbnN8Y29uY2F0TGlzdHN8Y3VycmVudFN5c3RlbXxkZWVwU2VxfGRlcml2YXRpb258ZGlyT2Z8ZGl2fGVsZW0oPzpBdCk/fGZldGNoKD86dXJsfFRhcmJhbGwpfGZpbHRlcig/OlNvdXJjZSk/fGZyb21KU09OfGdlbkxpc3R8Z2V0QXR0cnxnZXRFbnZ8aGFzQXR0cnxoYXNoU3RyaW5nfGhlYWR8aW1wb3J0fGludGVyc2VjdEF0dHJzfGlzKD86QXR0cnN8Qm9vbHxGdW5jdGlvbnxJbnR8TGlzdHxOdWxsfFN0cmluZyl8bGVuZ3RofGxlc3NUaGFufGxpc3RUb0F0dHJzfG1hcHxtdWx8cGFyc2VEcnZOYW1lfHBhdGhFeGlzdHN8cmVhZCg/OkRpcnxGaWxlKXxyZW1vdmVBdHRyc3xyZXBsYWNlU3RyaW5nc3xzZXF8c29ydHxzdHJpbmdMZW5ndGh8c3ViKD86c3RyaW5nKT98dGFpbHx0aHJvd3x0byg/OkZpbGV8SlNPTnxQYXRofFN0cmluZ3xYTUwpfHRyYWNlfHR5cGVPZilcYnxcYmZvbGRsJ1xCLywiYm9vbGVhbiI6L1xiKD86dHJ1ZXxmYWxzZSlcYi8sb3BlcmF0b3I6L1s9ITw+XT0/fFwrXCs/fFx8XHx8JiZ8XC9cL3wtPj98Wz9AXS8scHVuY3R1YXRpb246L1t7fSgpW1xdLiw6O10vfSxQcmlzbS5sYW5ndWFnZXMubml4LnN0cmluZy5pbnNpZGUuaW50ZXJwb2xhdGlvbi5pbnNpZGUucmVzdD1QcmlzbS51dGlsLmNsb25lKFByaXNtLmxhbmd1YWdlcy5uaXgpOwpQcmlzbS5sYW5ndWFnZXMubnNpcz17Y29tbWVudDp7cGF0dGVybjovKF58W15cXF0pKFwvXCpbXHdcV10qP1wqXC98WyM7XS4qKS8sbG9va2JlaGluZDohMH0sc3RyaW5nOntwYXR0ZXJuOi8oInwnKShcXD8uKSo/XDEvLGdyZWVkeTohMH0sa2V5d29yZDp7cGF0dGVybjovKF5ccyopKEFib3J0fEFkZChCcmFuZGluZ0ltYWdlfFNpemUpfEFkdlNwbGFzaHxBbGxvdyhSb290RGlySW5zdGFsbHxTa2lwRmlsZXMpfEF1dG9DbG9zZVdpbmRvd3xCYW5uZXJ8QkcoRm9udHxHcmFkaWVudHxJbWFnZSl8QnJhbmRpbmdUZXh0fEJyaW5nVG9Gcm9udHxDYWxsKEluc3RETEwpP3xDYXB0aW9ufENoYW5nZVVJfENoZWNrQml0bWFwfENsZWFyRXJyb3JzfENvbXBsZXRlZFRleHR8Q29tcG9uZW50VGV4dHxDb3B5RmlsZXN8Q1JDQ2hlY2t8Q3JlYXRlKERpcmVjdG9yeXxGb250fFNob3J0Q3V0KXxEZWxldGUoSU5JU2VjfElOSVN0cnxSZWdLZXl8UmVnVmFsdWUpP3xEZXRhaWwoUHJpbnR8c0J1dHRvblRleHQpfERpYWxlcnxEaXIoVGV4dHxWYXJ8VmVyaWZ5KXxFbmFibGVXaW5kb3d8RW51bShSZWdLZXl8UmVnVmFsdWUpfEV4Y2h8RXhlYyhTaGVsbHxXYWl0KT98RXhwYW5kRW52U3RyaW5nc3xGaWxlKEJ1ZlNpemV8Q2xvc2V8RXJyb3JUZXh0fE9wZW58UmVhZHxSZWFkQnl0ZXxSZWFkVVRGMTZMRXxSZWFkV29yZHxXcml0ZVVURjE2TEV8U2Vla3xXcml0ZXxXcml0ZUJ5dGV8V3JpdGVXb3JkKT98RmluZChDbG9zZXxGaXJzdHxOZXh0fFdpbmRvdyl8Rmx1c2hJTkl8R2V0KEN1ckluc3RUeXBlfEN1cnJlbnRBZGRyZXNzfERsZ0l0ZW18RExMVmVyc2lvbihMb2NhbCk/fEVycm9yTGV2ZWx8RmlsZVRpbWUoTG9jYWwpP3xGdWxsUGF0aE5hbWV8RnVuY3Rpb24oQWRkcmVzc3xFbmQpP3xJbnN0RGlyRXJyb3J8TGFiZWxBZGRyZXNzfFRlbXBGaWxlTmFtZSl8R290b3xIaWRlV2luZG93fEljb258SWYoQWJvcnR8RXJyb3JzfEZpbGVFeGlzdHN8UmVib290RmxhZ3xTaWxlbnQpfEluaXRQbHVnaW5zRGlyfEluc3RhbGwoQnV0dG9uVGV4dHxDb2xvcnN8RGlyKFJlZ0tleSk/KXxJbnN0UHJvZ3Jlc3NGbGFnc3xJbnN0KFR5cGUoR2V0VGV4dHxTZXRUZXh0KT8pfEludChDbXBVP3xGbXR8T3ApfElzV2luZG93fExhbmcoRExMfFN0cmluZyl8TGljZW5zZShCa0NvbG9yfERhdGF8Rm9yY2VTZWxlY3Rpb258TGFuZ1N0cmluZ3xUZXh0KXxMb2FkTGFuZ3VhZ2VGaWxlfExvY2tXaW5kb3d8TG9nKFNldHxUZXh0KXxNYW5pZmVzdChEUElBd2FyZXxTdXBwb3J0ZWRPUyl8TWF0aHxNZXNzYWdlQm94fE1pc2NCdXR0b25UZXh0fE5hbWV8Tm9wfG5zKERpYWxvZ3N8RXhlYyl8TlNJU2RsfE91dEZpbGV8UGFnZShDYWxsYmFja3MpP3xQb3B8UHVzaHxRdWl0fFJlYWQoRW52U3RyfElOSVN0cnxSZWdEV09SRHxSZWdTdHIpfFJlYm9vdHxSZWdETEx8UmVuYW1lfFJlcXVlc3RFeGVjdXRpb25MZXZlbHxSZXNlcnZlRmlsZXxSZXR1cm58Uk1EaXJ8U2VhcmNoUGF0aHxTZWN0aW9uKEVuZHxHZXRGbGFnc3xHZXRJbnN0VHlwZXN8R2V0U2l6ZXxHZXRUZXh0fEdyb3VwfElufFNldEZsYWdzfFNldEluc3RUeXBlc3xTZXRTaXplfFNldFRleHQpP3xTZW5kTWVzc2FnZXxTZXQoQXV0b0Nsb3NlfEJyYW5kaW5nSW1hZ2V8Q29tcHJlc3N8Q29tcHJlc3NvcihEaWN0U2l6ZSk/fEN0bENvbG9yc3xDdXJJbnN0VHlwZXxEYXRhYmxvY2tPcHRpbWl6ZXxEYXRlU2F2ZXxEZXRhaWxzKFByaW50fFZpZXcpfEVycm9yTGV2ZWx8RXJyb3JzfEZpbGVBdHRyaWJ1dGVzfEZvbnR8T3V0UGF0aHxPdmVyd3JpdGV8UGx1Z2luVW5sb2FkfFJlYm9vdEZsYWd8UmVnVmlld3xTaGVsbFZhckNvbnRleHR8U2lsZW50KXxTaG93KEluc3REZXRhaWxzfFVuaW5zdERldGFpbHN8V2luZG93KXxTaWxlbnQoSW5zdGFsbHxVbkluc3RhbGwpfFNsZWVwfFNwYWNlVGV4dHN8U3BsYXNofFN0YXJ0TWVudXxTdHIoQ21wUz98Q3B5fExlbil8U3ViQ2FwdGlvbnxTeXN0ZW18VW5pY29kZXxVbmluc3RhbGwoQnV0dG9uVGV4dHxDYXB0aW9ufEljb258U3ViQ2FwdGlvbnxUZXh0KXxVbmluc3RQYWdlfFVuUmVnRExMfFVzZXJJbmZvfFZhcnxWSShBZGRWZXJzaW9uS2V5fEZpbGVWZXJzaW9ufFByb2R1Y3RWZXJzaW9uKXxWUGF0Y2h8V2luZG93SWNvbnxXcml0ZShJTklTdHJ8UmVnQmlufFJlZ0RXT1JEfFJlZ0V4cGFuZFN0cnxSZWdTdHJ8VW5pbnN0YWxsZXIpfFhQU3R5bGUpXGIvbSxsb29rYmVoaW5kOiEwfSxwcm9wZXJ0eTovXGIoYWRtaW58YWxsfGF1dG98Ym90aHxjb2xvcmVkfGZhbHNlfGZvcmNlfGhpZGV8aGlnaGVzdHxsYXN0dXNlZHxsZWF2ZXxsaXN0b25seXxub25lfG5vcm1hbHxub3RzZXR8b2ZmfG9ufG9wZW58cHJpbnR8c2hvd3xzaWxlbnR8c2lsZW50bG9nfHNtb290aHx0ZXh0b25seXx0cnVlfHVzZXJ8QVJDSElWRXxGSUxFXyhBVFRSSUJVVEVfQVJDSElWRXxBVFRSSUJVVEVfTk9STUFMfEFUVFJJQlVURV9PRkZMSU5FfEFUVFJJQlVURV9SRUFET05MWXxBVFRSSUJVVEVfU1lTVEVNfEFUVFJJQlVURV9URU1QT1JBUlkpfEhLKENSfENVfEREfExNfFBEfFUpfEhLRVlfKENMQVNTRVNfUk9PVHxDVVJSRU5UX0NPTkZJR3xDVVJSRU5UX1VTRVJ8RFlOX0RBVEF8TE9DQUxfTUFDSElORXxQRVJGT1JNQU5DRV9EQVRBfFVTRVJTKXxJRChBQk9SVHxDQU5DRUx8SUdOT1JFfE5PfE9LfFJFVFJZfFlFUyl8TUJfKEFCT1JUUkVUUllJR05PUkV8REVGQlVUVE9OMXxERUZCVVRUT04yfERFRkJVVFRPTjN8REVGQlVUVE9ONHxJQ09ORVhDTEFNQVRJT058SUNPTklORk9STUFUSU9OfElDT05RVUVTVElPTnxJQ09OU1RPUHxPS3xPS0NBTkNFTHxSRVRSWUNBTkNFTHxSSUdIVHxSVExSRUFESU5HfFNFVEZPUkVHUk9VTkR8VE9QTU9TVHxVU0VSSUNPTnxZRVNOTyl8Tk9STUFMfE9GRkxJTkV8UkVBRE9OTFl8U0hDVFh8U0hFTExfQ09OVEVYVHxTWVNURU18VEVNUE9SQVJZKVxiLyxjb25zdGFudDovXCR7W1x3XC46LV0rfXxcJFwoW1x3XC46LV0rXCkvaSx2YXJpYWJsZTovXCRcdysvaSxudW1iZXI6L1xiLT8oMHhbXGRBLUZhLWZdK3xcZCpcLj9cZCsoW0VlXS0/XGQrKT8pXGIvLG9wZXJhdG9yOi8tLT98XCtcKz98PD0/fD49P3w9PT89P3wmJj98XHw/XHx8Wz8qXC9+XiVdLyxwdW5jdHVhdGlvbjovW3t9W1xdOygpLC46XS8saW1wb3J0YW50OntwYXR0ZXJuOi8oXlxzKikhKGFkZGluY2x1ZGVkaXJ8YWRkcGx1Z2luZGlyfGFwcGVuZGZpbGV8Y2R8ZGVmaW5lfGRlbGZpbGV8ZWNob3xlbHNlfGVuZGlmfGVycm9yfGV4ZWN1dGV8ZmluYWxpemV8Z2V0ZGxsdmVyc2lvbnN5c3RlbXxpZmRlZnxpZm1hY3JvZGVmfGlmbWFjcm9uZGVmfGlmbmRlZnxpZnxpbmNsdWRlfGluc2VydG1hY3JvfG1hY3JvZW5kfG1hY3JvfG1ha2Vuc2lzfHBhY2toZHJ8c2VhcmNocGFyc2V8c2VhcmNocmVwbGFjZXx0ZW1wZmlsZXx1bmRlZnx2ZXJib3NlfHdhcm5pbmcpXGIvaW0sbG9va2JlaGluZDohMH19OwpQcmlzbS5sYW5ndWFnZXMub2JqZWN0aXZlYz1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCJjIix7a2V5d29yZDovXGIoYXNtfHR5cGVvZnxpbmxpbmV8YXV0b3xicmVha3xjYXNlfGNoYXJ8Y29uc3R8Y29udGludWV8ZGVmYXVsdHxkb3xkb3VibGV8ZWxzZXxlbnVtfGV4dGVybnxmbG9hdHxmb3J8Z290b3xpZnxpbnR8bG9uZ3xyZWdpc3RlcnxyZXR1cm58c2hvcnR8c2lnbmVkfHNpemVvZnxzdGF0aWN8c3RydWN0fHN3aXRjaHx0eXBlZGVmfHVuaW9ufHVuc2lnbmVkfHZvaWR8dm9sYXRpbGV8d2hpbGV8aW58c2VsZnxzdXBlcilcYnwoQGludGVyZmFjZXxAZW5kfEBpbXBsZW1lbnRhdGlvbnxAcHJvdG9jb2x8QGNsYXNzfEBwdWJsaWN8QHByb3RlY3RlZHxAcHJpdmF0ZXxAcHJvcGVydHl8QHRyeXxAY2F0Y2h8QGZpbmFsbHl8QHRocm93fEBzeW50aGVzaXplfEBkeW5hbWljfEBzZWxlY3RvcilcYi8sc3RyaW5nOi8oInwnKShcXCg/OlxyXG58W1xzXFNdKXwoPyFcMSlbXlxcXHJcbl0pKlwxfEAiKFxcKD86XHJcbnxbXHNcU10pfFteIlxcXHJcbl0pKiIvLG9wZXJhdG9yOi8tWy0+XT98XCtcKz98IT0/fDw8Pz0/fD4+Pz0/fD09P3wmJj98XHxcfD98W35eJT8qXC9AXS99KTsKUHJpc20ubGFuZ3VhZ2VzLm9jYW1sPXtjb21tZW50Oi9cKFwqW1xzXFNdKj9cKlwpLyxzdHJpbmc6W3twYXR0ZXJuOi8iKD86XFwufFteXFxcclxuIl0pKiIvLGdyZWVkeTohMH0se3BhdHRlcm46LyhbJ2BdKSg/OlxcKD86XGQrfHhbXGRhLWZdK3wuKXwoPyFcMSlbXlxcXHJcbl0pXDEvaSxncmVlZHk6ITB9XSxudW1iZXI6L1xiLT8oPzoweFtcZGEtZl1bXGRhLWZfXSt8KD86MFtib10pP1xkW1xkX10qXC4/W1xkX10qKD86ZVsrLV0/W1xkX10rKT8pL2ksdHlwZTp7cGF0dGVybjovXEJbJ2BdW2EtelxkX10qL2ksYWxpYXM6InZhcmlhYmxlIn0sZGlyZWN0aXZlOntwYXR0ZXJuOi9cQiNbYS16XGRfXSsvaSxhbGlhczoiZnVuY3Rpb24ifSxrZXl3b3JkOi9cYig/OmFzfGFzc2VydHxiZWdpbnxjbGFzc3xjb25zdHJhaW50fGRvfGRvbmV8ZG93bnRvfGVsc2V8ZW5kfGV4Y2VwdGlvbnxleHRlcm5hbHxmb3J8ZnVufGZ1bmN0aW9ufGZ1bmN0b3J8aWZ8aW58aW5jbHVkZXxpbmhlcml0fGluaXRpYWxpemVyfGxhenl8bGV0fG1hdGNofG1ldGhvZHxtb2R1bGV8bXV0YWJsZXxuZXd8b2JqZWN0fG9mfG9wZW58cHJlZml4fHByaXZhdGV8cmVjfHRoZW58c2lnfHN0cnVjdHx0b3x0cnl8dHlwZXx2YWx8dmFsdWV8dmlydHVhbHx3aGVyZXx3aGlsZXx3aXRoKVxiLywiYm9vbGVhbiI6L1xiKD86ZmFsc2V8dHJ1ZSlcYi8sb3BlcmF0b3I6Lzo9fFs9PD5AXnwmK1wtKlwvJCUhP35dWyEkJSZcKitcLS5cLzo8PT4/QF58fl0qfFxiKD86YW5kfGFzcnxsYW5kfGxvcnxseG9yfGxzbHxsc3J8bW9kfG5vcnxvcilcYi8scHVuY3R1YXRpb246L1soKXt9XFtcXXxfLiw6O10vfTsKUHJpc20ubGFuZ3VhZ2VzLm96PXtjb21tZW50Oi9cL1wqW1xzXFNdKj9cKlwvfCUuKi8sc3RyaW5nOntwYXR0ZXJuOi8iKD86W14iXFxdfFxcW1xzXFNdKSoiLyxncmVlZHk6ITB9LGF0b206e3BhdHRlcm46LycoPzpbXidcXF18XFwuKSonLyxncmVlZHk6ITAsYWxpYXM6ImJ1aWx0aW4ifSxrZXl3b3JkOi9bJF9dfFxbXF18XGIoPzphdHxhdHRyfGNhc2V8Y2F0Y2h8Y2hvaWNlfGNsYXNzfGNvbmR8ZGVjbGFyZXxkZWZpbmV8ZGlzfGVsc2UoPzpjYXNlfGlmKT98ZW5kfGV4cG9ydHxmYWlsfGZhbHNlfGZlYXR8ZmluYWxseXxmcm9tfGZ1bnxmdW5jdG9yfGlmfGltcG9ydHxpbnxsb2NhbHxsb2NrfG1ldGh8bmlsfG5vdHxvZnxvcnxwcmVwYXJlfHByb2N8cHJvcHxyYWlzZXxyZXF1aXJlfHNlbGZ8c2tpcHx0aGVufHRocmVhZHx0cnVlfHRyeXx1bml0KVxiLywiZnVuY3Rpb24iOlsvW2Etel1bQS1aYS16XGRdKig/PVwoKS8se3BhdHRlcm46LyhceylbQS1aXVtBLVphLXpcZF0qLyxsb29rYmVoaW5kOiEwfV0sbnVtYmVyOi9cYig/OjBbYnhdW1xkYS1mXSt8XGQrXC4/XGQqKD86ZX4/XGQrKT9cYil8Jig/OlteXFxdfFxcKD86XGR7M318LikpL2ksdmFyaWFibGU6L1xiW0EtWl1bQS1aYS16XGRdKnxgKD86W15gXFxdfFxcLikrYC8sImF0dHItbmFtZSI6L1x3Kyg/PTopLyxvcGVyYXRvcjovOig/Oj18Ojo/KXw8Wy06PV0/fD0oPzo9fDw/Oj8pfD49Pzo/fFxcPTo/fCEhP3xbfCMrXC0qXC8sfl5AXXxcYig/OmFuZHRoZW58ZGl2fG1vZHxvcmVsc2UpXGIvLHB1bmN0dWF0aW9uOi9bXFtcXSgpe30uOjs/XS99OwpQcmlzbS5sYW5ndWFnZXMucGFyaWdwPXtjb21tZW50Oi9cL1wqW1xzXFNdKj9cKlwvfFxcXFwuKi8sc3RyaW5nOntwYXR0ZXJuOi8iKD86W14iXFxdfFxcLikqIi8sZ3JlZWR5OiEwfSxrZXl3b3JkOmZ1bmN0aW9uKCl7dmFyIHI9WyJicmVha3BvaW50IiwiYnJlYWsiLCJkYmdfZG93biIsImRiZ19lcnIiLCJkYmdfdXAiLCJkYmdfeCIsImZvcmNvbXBvc2l0ZSIsImZvcmRpdiIsImZvcmVsbCIsImZvcnBhcnQiLCJmb3JwcmltZSIsImZvcnN0ZXAiLCJmb3JzdWJncm91cCIsImZvcnZlYyIsImZvciIsImlmZXJyIiwiaWYiLCJsb2NhbCIsIm15IiwibmV4dCIsInJldHVybiIsInVudGlsIiwid2hpbGUiXTtyZXR1cm4gcj1yLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gci5zcGxpdCgiIikuam9pbigiICoiKX0pLmpvaW4oInwiKSxSZWdFeHAoIlxcYig/OiIrcisiKVxcYiIpfSgpLCJmdW5jdGlvbiI6L1x3W1x3IF0qPyg/PSAqXCgpLyxudW1iZXI6e3BhdHRlcm46LygoPzpcLiAqXC4gKik/KSg/OlxkKD86ICpcZCkqKD86ICooPyFcLiAqXC4pXC4oPzogKlxkKSopP3xcLiAqXGQoPzogKlxkKSopKD86ICplICpbKy1dPyAqXGQoPzogKlxkKSopPy9pLGxvb2tiZWhpbmQ6ITB9LG9wZXJhdG9yOi9cLiAqXC58WypcLyFdKD86ICo9KT98JSg/OiAqPXwoPzogKiMpPyg/OiAqJykqKT98XCsoPzogKlsrPV0pP3wtKD86ICpbLT0+XSk/fDwoPzooPzogKjwpPyg/OiAqPSk/fCAqPik/fD4oPzogKj4pPyg/OiAqPSk/fD0oPzogKj0pezAsMn18XFwoPzogKlwvKT8oPzogKj0pP3wmKD86IComKT98XHwgKlx8fFsnI35eXS8scHVuY3R1YXRpb246L1tcW1xde30oKS4sOjt8XS99OwpQcmlzbS5sYW5ndWFnZXMucGFyc2VyPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoIm1hcmt1cCIse2tleXdvcmQ6e3BhdHRlcm46LyhefFteXl0pKD86XF4oPzpjYXNlfGV2YWx8Zm9yfGlmfHN3aXRjaHx0aHJvdylcYnxAKD86QkFTRXxDTEFTU3xHRVQoPzpfREVGQVVMVCk/fE9QVElPTlN8U0VUX0RFRkFVTFR8VVNFKVxiKS8sbG9va2JlaGluZDohMH0sdmFyaWFibGU6e3BhdHRlcm46LyhefFteXl0pXEJcJCg/Olx3K3woPz1bLlx7XSkpKD86KD86XC58Ojo/KVx3KykqKD86XC58Ojo/KT8vLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovXC58OisvfX0sImZ1bmN0aW9uIjp7cGF0dGVybjovKF58W15eXSlcQltAXl1cdysoPzooPzpcLnw6Oj8pXHcrKSooPzpcLnw6Oj8pPy8sbG9va2JlaGluZDohMCxpbnNpZGU6e2tleXdvcmQ6e3BhdHRlcm46LyheQCkoPzpHRVRffFNFVF8pLyxsb29rYmVoaW5kOiEwfSxwdW5jdHVhdGlvbjovXC58OisvfX0sZXNjYXBlOntwYXR0ZXJuOi9cXig/OlskXjtAKClcW1xde30iJzpdfCNbYS1mXGRdKikvaSxhbGlhczoiYnVpbHRpbiJ9LHB1bmN0dWF0aW9uOi9bXFtcXSgpe307XS99KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJwYXJzZXIiLCJrZXl3b3JkIix7InBhcnNlci1jb21tZW50Ijp7cGF0dGVybjovKFxzKSMuKi8sbG9va2JlaGluZDohMCxhbGlhczoiY29tbWVudCJ9LGV4cHJlc3Npb246e3BhdHRlcm46LyhefFteXl0pXCgoPzpbXigpXXxcKCg/OlteKCldfFwoKD86W14oKV0pKlwpKSpcKSkqXCkvLGdyZWVkeTohMCxsb29rYmVoaW5kOiEwLGluc2lkZTp7c3RyaW5nOntwYXR0ZXJuOi8oXnxbXl5dKShbIiddKSg/Oig/IVwyKVteXl18XF5bXHNcU10pKlwyLyxsb29rYmVoaW5kOiEwfSxrZXl3b3JkOlByaXNtLmxhbmd1YWdlcy5wYXJzZXIua2V5d29yZCx2YXJpYWJsZTpQcmlzbS5sYW5ndWFnZXMucGFyc2VyLnZhcmlhYmxlLCJmdW5jdGlvbiI6UHJpc20ubGFuZ3VhZ2VzLnBhcnNlci5mdW5jdGlvbiwiYm9vbGVhbiI6L1xiKD86dHJ1ZXxmYWxzZSlcYi8sbnVtYmVyOi9cYig/OjB4W2EtZlxkXSt8XGQrXC4/XGQqKD86ZVsrLV0/XGQrKT8pXGIvaSxlc2NhcGU6UHJpc20ubGFuZ3VhZ2VzLnBhcnNlci5lc2NhcGUsb3BlcmF0b3I6L1t+KypcL1xcJV18ISg/Olx8XHw/fD0pP3wmJj98XHxcfD98PT18PFs8PV0/fD5bPj1dP3wtW2ZkXT98XGIoPzpkZWZ8ZXF8Z2V8Z3R8aW58aXN8bGV8bHR8bmUpXGIvLHB1bmN0dWF0aW9uOlByaXNtLmxhbmd1YWdlcy5wYXJzZXIucHVuY3R1YXRpb259fX0pLFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImluc2lkZSIsInB1bmN0dWF0aW9uIix7ZXhwcmVzc2lvbjpQcmlzbS5sYW5ndWFnZXMucGFyc2VyLmV4cHJlc3Npb24sa2V5d29yZDpQcmlzbS5sYW5ndWFnZXMucGFyc2VyLmtleXdvcmQsdmFyaWFibGU6UHJpc20ubGFuZ3VhZ2VzLnBhcnNlci52YXJpYWJsZSwiZnVuY3Rpb24iOlByaXNtLmxhbmd1YWdlcy5wYXJzZXIuZnVuY3Rpb24sZXNjYXBlOlByaXNtLmxhbmd1YWdlcy5wYXJzZXIuZXNjYXBlLCJwYXJzZXItcHVuY3R1YXRpb24iOntwYXR0ZXJuOlByaXNtLmxhbmd1YWdlcy5wYXJzZXIucHVuY3R1YXRpb24sYWxpYXM6InB1bmN0dWF0aW9uIn19LFByaXNtLmxhbmd1YWdlcy5wYXJzZXIudGFnLmluc2lkZVsiYXR0ci12YWx1ZSJdKTsKUHJpc20ubGFuZ3VhZ2VzLnBhc2NhbD17Y29tbWVudDpbL1woXCpbXHNcU10rP1wqXCkvLC9ce1tcc1xTXSs/XH0vLC9cL1wvLiovXSxzdHJpbmc6e3BhdHRlcm46Lyg/OicoPzonJ3xbXidcclxuXSkqJ3wjWyYkJV0/W2EtZlxkXSspK3xcXlthLXpdL2ksZ3JlZWR5OiEwfSxrZXl3b3JkOlt7cGF0dGVybjovKF58W14mXSlcYig/OmFic29sdXRlfGFycmF5fGFzbXxiZWdpbnxjYXNlfGNvbnN0fGNvbnN0cnVjdG9yfGRlc3RydWN0b3J8ZG98ZG93bnRvfGVsc2V8ZW5kfGZpbGV8Zm9yfGZ1bmN0aW9ufGdvdG98aWZ8aW1wbGVtZW50YXRpb258aW5oZXJpdGVkfGlubGluZXxpbnRlcmZhY2V8bGFiZWx8bmlsfG9iamVjdHxvZnxvcGVyYXRvcnxwYWNrZWR8cHJvY2VkdXJlfHByb2dyYW18cmVjb3JkfHJlaW50cm9kdWNlfHJlcGVhdHxzZWxmfHNldHxzdHJpbmd8dGhlbnx0b3x0eXBlfHVuaXR8dW50aWx8dXNlc3x2YXJ8d2hpbGV8d2l0aClcYi9pLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXnxbXiZdKVxiKD86ZGlzcG9zZXxleGl0fGZhbHNlfG5ld3x0cnVlKVxiL2ksbG9va2JlaGluZDohMH0se3BhdHRlcm46LyhefFteJl0pXGIoPzpjbGFzc3xkaXNwaW50ZXJmYWNlfGV4Y2VwdHxleHBvcnRzfGZpbmFsaXphdGlvbnxmaW5hbGx5fGluaXRpYWxpemF0aW9ufGlubGluZXxsaWJyYXJ5fG9ufG91dHxwYWNrZWR8cHJvcGVydHl8cmFpc2V8cmVzb3VyY2VzdHJpbmd8dGhyZWFkdmFyfHRyeSlcYi9pLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXnxbXiZdKVxiKD86YWJzb2x1dGV8YWJzdHJhY3R8YWxpYXN8YXNzZW1ibGVyfGJpdHBhY2tlZHxicmVha3xjZGVjbHxjb250aW51ZXxjcHBkZWNsfGN2YXJ8ZGVmYXVsdHxkZXByZWNhdGVkfGR5bmFtaWN8ZW51bWVyYXRvcnxleHBlcmltZW50YWx8ZXhwb3J0fGV4dGVybmFsfGZhcnxmYXIxNnxmb3J3YXJkfGdlbmVyaWN8aGVscGVyfGltcGxlbWVudHN8aW5kZXh8aW50ZXJydXB0fGlvY2hlY2tzfGxvY2FsfG1lc3NhZ2V8bmFtZXxuZWFyfG5vZGVmYXVsdHxub3JldHVybnxub3N0YWNrZnJhbWV8b2xkZnBjY2FsbHxvdGhlcndpc2V8b3ZlcmxvYWR8b3ZlcnJpZGV8cGFzY2FsfHBsYXRmb3JtfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xwdWJsaXNoZWR8cmVhZHxyZWdpc3RlcnxyZWludHJvZHVjZXxyZXN1bHR8c2FmZWNhbGx8c2F2ZXJlZ2lzdGVyc3xzb2Z0ZmxvYXR8c3BlY2lhbGl6ZXxzdGF0aWN8c3RkY2FsbHxzdG9yZWR8c3RyaWN0fHVuYWxpZ25lZHx1bmltcGxlbWVudGVkfHZhcmFyZ3N8dmlydHVhbHx3cml0ZSlcYi9pLGxvb2tiZWhpbmQ6ITB9XSxudW1iZXI6Wy9bKy1dPyg/OlsmJV1cZCt8XCRbYS1mXGRdKykvaSwvKFsrLV18XGIpXGQrKD86XC5cZCspPyg/OmVbKy1dP1xkKyk/L2ldLG9wZXJhdG9yOlsvXC5cLnxcKlwqfDo9fDxbPD0+XT98Pls+PV0/fFsrXC0qXC9dPT98W0BePV0vaSx7cGF0dGVybjovKF58W14mXSlcYig/OmFuZHxhc3xkaXZ8ZXhjbHVkZXxpbnxpbmNsdWRlfGlzfG1vZHxub3R8b3J8c2hsfHNocnx4b3IpXGIvLGxvb2tiZWhpbmQ6ITB9XSxwdW5jdHVhdGlvbjovXChcLnxcLlwpfFsoKVxbXF06OywuXS99OwpQcmlzbS5sYW5ndWFnZXMucGVybD17Y29tbWVudDpbe3BhdHRlcm46LyheXHMqKT1cdytbXHNcU10qPz1jdXQuKi9tLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXnxbXlxcJF0pIy4qLyxsb29rYmVoaW5kOiEwfV0sc3RyaW5nOlt7cGF0dGVybjovXGIoPzpxfHFxfHF4fHF3KVxzKihbXmEtekEtWjAtOVxzXHtcKFxbPF0pKD86W15cXF18XFxbXHNcU10pKj9cMS8sZ3JlZWR5OiEwfSx7cGF0dGVybjovXGIoPzpxfHFxfHF4fHF3KVxzKyhbYS16QS1aMC05XSkoPzpbXlxcXXxcXFtcc1xTXSkqP1wxLyxncmVlZHk6ITB9LHtwYXR0ZXJuOi9cYig/OnF8cXF8cXh8cXcpXHMqXCgoPzpbXigpXFxdfFxcW1xzXFNdKSpcKS8sZ3JlZWR5OiEwfSx7cGF0dGVybjovXGIoPzpxfHFxfHF4fHF3KVxzKlx7KD86W157fVxcXXxcXFtcc1xTXSkqXH0vLGdyZWVkeTohMH0se3BhdHRlcm46L1xiKD86cXxxcXxxeHxxdylccypcWyg/OlteW1xdXFxdfFxcW1xzXFNdKSpcXS8sZ3JlZWR5OiEwfSx7cGF0dGVybjovXGIoPzpxfHFxfHF4fHF3KVxzKjwoPzpbXjw+XFxdfFxcW1xzXFNdKSo+LyxncmVlZHk6ITB9LHtwYXR0ZXJuOi8oInxgKSg/OlteXFxdfFxcW1xzXFNdKSo/XDEvLGdyZWVkeTohMH0se3BhdHRlcm46LycoPzpbXidcXFxyXG5dfFxcLikqJy8sZ3JlZWR5OiEwfV0scmVnZXg6W3twYXR0ZXJuOi9cYig/Om18cXIpXHMqKFteYS16QS1aMC05XHNce1woXFs8XSkoPzpbXlxcXXxcXFtcc1xTXSkqP1wxW21zaXhwb2R1YWxuZ2NdKi8sZ3JlZWR5OiEwfSx7cGF0dGVybjovXGIoPzptfHFyKVxzKyhbYS16QS1aMC05XSkoPzpbXlxcXXxcXC4pKj9cMVttc2l4cG9kdWFsbmdjXSovLGdyZWVkeTohMH0se3BhdHRlcm46L1xiKD86bXxxcilccypcKCg/OlteKClcXF18XFxbXHNcU10pKlwpW21zaXhwb2R1YWxuZ2NdKi8sZ3JlZWR5OiEwfSx7cGF0dGVybjovXGIoPzptfHFyKVxzKlx7KD86W157fVxcXXxcXFtcc1xTXSkqXH1bbXNpeHBvZHVhbG5nY10qLyxncmVlZHk6ITB9LHtwYXR0ZXJuOi9cYig/Om18cXIpXHMqXFsoPzpbXltcXVxcXXxcXFtcc1xTXSkqXF1bbXNpeHBvZHVhbG5nY10qLyxncmVlZHk6ITB9LHtwYXR0ZXJuOi9cYig/Om18cXIpXHMqPCg/OltePD5cXF18XFxbXHNcU10pKj5bbXNpeHBvZHVhbG5nY10qLyxncmVlZHk6ITB9LHtwYXR0ZXJuOi8oXnxbXi1dXGIpKD86c3x0cnx5KVxzKihbXmEtekEtWjAtOVxzXHtcKFxbPF0pKD86W15cXF18XFxbXHNcU10pKj9cMig/OlteXFxdfFxcW1xzXFNdKSo/XDJbbXNpeHBvZHVhbG5nY2VyXSovLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwfSx7cGF0dGVybjovKF58W14tXVxiKSg/OnN8dHJ8eSlccysoW2EtekEtWjAtOV0pKD86W15cXF18XFxbXHNcU10pKj9cMig/OlteXFxdfFxcW1xzXFNdKSo/XDJbbXNpeHBvZHVhbG5nY2VyXSovLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwfSx7cGF0dGVybjovKF58W14tXVxiKSg/OnN8dHJ8eSlccypcKCg/OlteKClcXF18XFxbXHNcU10pKlwpXHMqXCgoPzpbXigpXFxdfFxcW1xzXFNdKSpcKVttc2l4cG9kdWFsbmdjZXJdKi8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9LHtwYXR0ZXJuOi8oXnxbXi1dXGIpKD86c3x0cnx5KVxzKlx7KD86W157fVxcXXxcXFtcc1xTXSkqXH1ccypceyg/Oltee31cXF18XFxbXHNcU10pKlx9W21zaXhwb2R1YWxuZ2Nlcl0qLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMH0se3BhdHRlcm46LyhefFteLV1cYikoPzpzfHRyfHkpXHMqXFsoPzpbXltcXVxcXXxcXFtcc1xTXSkqXF1ccypcWyg/OlteW1xdXFxdfFxcW1xzXFNdKSpcXVttc2l4cG9kdWFsbmdjZXJdKi8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9LHtwYXR0ZXJuOi8oXnxbXi1dXGIpKD86c3x0cnx5KVxzKjwoPzpbXjw+XFxdfFxcW1xzXFNdKSo+XHMqPCg/OltePD5cXF18XFxbXHNcU10pKj5bbXNpeHBvZHVhbG5nY2VyXSovLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwfSx7cGF0dGVybjovXC8oPzpbXlwvXFxcclxuXXxcXC4pKlwvW21zaXhwb2R1YWxuZ2NdKig/PVxzKig/OiR8W1xyXG4sLjt9KSZ8XC0rKn48PiE/Xl18KGx0fGd0fGxlfGdlfGVxfG5lfGNtcHxub3R8YW5kfG9yfHhvcnx4KVxiKSkvLGdyZWVkeTohMH1dLHZhcmlhYmxlOlsvWyYqJEAlXVx7XF5bQS1aXStcfS8sL1smKiRAJV1cXltBLVpfXS8sL1smKiRAJV0jPyg/PVx7KS8sL1smKiRAJV0jPygoOjopKic/KD8hXGQpW1x3JF0rKSsoOjopKi9pLC9bJiokQCVdXGQrLywvKD8hJT0pWyRAJV1bISIjJCUmJygpKissXC0uXC86Ozw9Pj9AW1xcXF1eX2B7fH1+XS9dLGZpbGVoYW5kbGU6e3BhdHRlcm46LzwoPyFbPD1dKVxTKj58XGJfXGIvLGFsaWFzOiJzeW1ib2wifSx2c3RyaW5nOntwYXR0ZXJuOi92XGQrKFwuXGQrKSp8XGQrKFwuXGQrKXsyLH0vLGFsaWFzOiJzdHJpbmcifSwiZnVuY3Rpb24iOntwYXR0ZXJuOi9zdWIgW2EtejAtOV9dKy9pLGluc2lkZTp7a2V5d29yZDovc3ViL319LGtleXdvcmQ6L1xiKGFueXxicmVha3xjb250aW51ZXxkZWZhdWx0fGRlbGV0ZXxkaWV8ZG98ZWxzZXxlbHNpZnxldmFsfGZvcnxmb3JlYWNofGdpdmVufGdvdG98aWZ8bGFzdHxsb2NhbHxteXxuZXh0fG91cnxwYWNrYWdlfHByaW50fHJlZG98cmVxdWlyZXxzYXl8c3RhdGV8c3VifHN3aXRjaHx1bmRlZnx1bmxlc3N8dW50aWx8dXNlfHdoZW58d2hpbGUpXGIvLG51bWJlcjovXGItPygweFtcZEEtRmEtZl0oXz9bXGRBLUZhLWZdKSp8MGJbMDFdKF8/WzAxXSkqfChcZChfP1xkKSopP1wuP1xkKF8/XGQpKihbRWVdWystXT9cZCspPylcYi8sb3BlcmF0b3I6Ly1bcnd4b1JXWE9lenNmZGxwU2JjdHVna1RCTUFDXVxifFwrWys9XT98LVstPT5dP3xcKlwqPz0/fFwvXC8/PT98PVs9fj5dP3x+W349XT98XHxcfD89P3wmJj89P3w8KD86PT4/fDw9Pyk/fD4+Pz0/fCFbfj1dP3xbJV5dPT98XC4oPzo9fFwuXC4/KT98W1xcP118XGJ4KD86PXxcYil8XGIobHR8Z3R8bGV8Z2V8ZXF8bmV8Y21wfG5vdHxhbmR8b3J8eG9yKVxiLyxwdW5jdHVhdGlvbjovW3t9W1xdOygpLDpdL307ClByaXNtLmxhbmd1YWdlcy5waHA9UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgiY2xpa2UiLHtrZXl3b3JkOi9cYihhbmR8b3J8eG9yfGFycmF5fGFzfGJyZWFrfGNhc2V8Y2Z1bmN0aW9ufGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlY2xhcmV8ZGVmYXVsdHxkaWV8ZG98ZWxzZXxlbHNlaWZ8ZW5kZGVjbGFyZXxlbmRmb3J8ZW5kZm9yZWFjaHxlbmRpZnxlbmRzd2l0Y2h8ZW5kd2hpbGV8ZXh0ZW5kc3xmb3J8Zm9yZWFjaHxmdW5jdGlvbnxpbmNsdWRlfGluY2x1ZGVfb25jZXxnbG9iYWx8aWZ8bmV3fHJldHVybnxzdGF0aWN8c3dpdGNofHVzZXxyZXF1aXJlfHJlcXVpcmVfb25jZXx2YXJ8d2hpbGV8YWJzdHJhY3R8aW50ZXJmYWNlfHB1YmxpY3xpbXBsZW1lbnRzfHByaXZhdGV8cHJvdGVjdGVkfHBhcmVudHx0aHJvd3xudWxsfGVjaG98cHJpbnR8dHJhaXR8bmFtZXNwYWNlfGZpbmFsfHlpZWxkfGdvdG98aW5zdGFuY2VvZnxmaW5hbGx5fHRyeXxjYXRjaClcYi9pLGNvbnN0YW50Oi9cYltBLVowLTlfXXsyLH1cYi8sY29tbWVudDp7cGF0dGVybjovKF58W15cXF0pKD86XC9cKltcd1xXXSo/XCpcL3xcL1wvLiopLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMH19KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJwaHAiLCJjbGFzcy1uYW1lIix7InNoZWxsLWNvbW1lbnQiOntwYXR0ZXJuOi8oXnxbXlxcXSkjLiovLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImNvbW1lbnQifX0pLFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoInBocCIsImtleXdvcmQiLHtkZWxpbWl0ZXI6L1w/Pnw8XD8oPzpwaHApPy9pLHZhcmlhYmxlOi9cJFx3K1xiL2ksInBhY2thZ2UiOntwYXR0ZXJuOi8oXFx8bmFtZXNwYWNlXHMrfHVzZVxzKylbXHdcXF0rLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L1xcL319fSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgicGhwIiwib3BlcmF0b3IiLHtwcm9wZXJ0eTp7cGF0dGVybjovKC0+KVtcd10rLyxsb29rYmVoaW5kOiEwfX0pLFByaXNtLmxhbmd1YWdlcy5tYXJrdXAmJihQcmlzbS5ob29rcy5hZGQoImJlZm9yZS1oaWdobGlnaHQiLGZ1bmN0aW9uKGUpeyJwaHAiPT09ZS5sYW5ndWFnZSYmKGUudG9rZW5TdGFjaz1bXSxlLmJhY2t1cENvZGU9ZS5jb2RlLGUuY29kZT1lLmNvZGUucmVwbGFjZSgvKD86PFw/cGhwfDxcPylbXHdcV10qPyg/Olw/PikvZ2ksZnVuY3Rpb24oYSl7cmV0dXJuIGUudG9rZW5TdGFjay5wdXNoKGEpLCJ7e3tQSFAiK2UudG9rZW5TdGFjay5sZW5ndGgrIn19fSJ9KSl9KSxQcmlzbS5ob29rcy5hZGQoImJlZm9yZS1pbnNlcnQiLGZ1bmN0aW9uKGUpeyJwaHAiPT09ZS5sYW5ndWFnZSYmKGUuY29kZT1lLmJhY2t1cENvZGUsZGVsZXRlIGUuYmFja3VwQ29kZSl9KSxQcmlzbS5ob29rcy5hZGQoImFmdGVyLWhpZ2hsaWdodCIsZnVuY3Rpb24oZSl7aWYoInBocCI9PT1lLmxhbmd1YWdlKXtmb3IodmFyIGEsbj0wO2E9ZS50b2tlblN0YWNrW25dO24rKyllLmhpZ2hsaWdodGVkQ29kZT1lLmhpZ2hsaWdodGVkQ29kZS5yZXBsYWNlKCJ7e3tQSFAiKyhuKzEpKyJ9fX0iLFByaXNtLmhpZ2hsaWdodChhLGUuZ3JhbW1hciwicGhwIikucmVwbGFjZSgvXCQvZywiJCQkJCIpKTtlLmVsZW1lbnQuaW5uZXJIVE1MPWUuaGlnaGxpZ2h0ZWRDb2RlfX0pLFByaXNtLmhvb2tzLmFkZCgid3JhcCIsZnVuY3Rpb24oZSl7InBocCI9PT1lLmxhbmd1YWdlJiYibWFya3VwIj09PWUudHlwZSYmKGUuY29udGVudD1lLmNvbnRlbnQucmVwbGFjZSgvKFx7XHtce1BIUFswLTldK1x9XH1cfSkvZywnPHNwYW4gY2xhc3M9InRva2VuIHBocCI+JDE8L3NwYW4+JykpfSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgicGhwIiwiY29tbWVudCIse21hcmt1cDp7cGF0dGVybjovPFteP11cLz8oLio/KT4vLGluc2lkZTpQcmlzbS5sYW5ndWFnZXMubWFya3VwfSxwaHA6L1x7XHtce1BIUFswLTldK1x9XH1cfS99KSk7ClByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoInBocCIsInZhcmlhYmxlIix7InRoaXMiOi9cJHRoaXNcYi8sZ2xvYmFsOi9cJCg/Ol8oPzpTRVJWRVJ8R0VUfFBPU1R8RklMRVN8UkVRVUVTVHxTRVNTSU9OfEVOVnxDT09LSUUpfEdMT0JBTFN8SFRUUF9SQVdfUE9TVF9EQVRBfGFyZ2N8YXJndnxwaHBfZXJyb3Jtc2d8aHR0cF9yZXNwb25zZV9oZWFkZXIpLyxzY29wZTp7cGF0dGVybjovXGJbXHdcXF0rOjovLGluc2lkZTp7a2V5d29yZDovKHN0YXRpY3xzZWxmfHBhcmVudCkvLHB1bmN0dWF0aW9uOi8oOjp8XFwpL319fSk7ClByaXNtLmxhbmd1YWdlcy5wb3dlcnNoZWxsPXtjb21tZW50Olt7cGF0dGVybjovKF58W15gXSk8I1tcd1xXXSo/Iz4vLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXnxbXmBdKSMuKi8sbG9va2JlaGluZDohMH1dLHN0cmluZzpbe3BhdHRlcm46LyIoYD9bXHdcV10pKj8iLyxncmVlZHk6ITAsaW5zaWRlOnsiZnVuY3Rpb24iOntwYXR0ZXJuOi9bXmBdXCRcKC4qP1wpLyxpbnNpZGU6e319fX0se3BhdHRlcm46LycoW14nXXwnJykqJy8sZ3JlZWR5OiEwfV0sbmFtZXNwYWNlOi9cW1thLXpdW1x3XFddKj9cXS9pLCJib29sZWFuIjovXCQodHJ1ZXxmYWxzZSlcYi9pLHZhcmlhYmxlOi9cJFx3K1xiL2ksImZ1bmN0aW9uIjpbL1xiKEFkZC0oQ29tcHV0ZXJ8Q29udGVudHxIaXN0b3J5fE1lbWJlcnxQU1NuYXBpbnxUeXBlKXxDaGVja3BvaW50LUNvbXB1dGVyfENsZWFyLShDb250ZW50fEV2ZW50TG9nfEhpc3Rvcnl8SXRlbXxJdGVtUHJvcGVydHl8VmFyaWFibGUpfENvbXBhcmUtT2JqZWN0fENvbXBsZXRlLVRyYW5zYWN0aW9ufENvbm5lY3QtUFNTZXNzaW9ufENvbnZlcnRGcm9tLShDc3Z8SnNvbnxTdHJpbmdEYXRhKXxDb252ZXJ0LVBhdGh8Q29udmVydFRvLShDc3Z8SHRtbHxKc29ufFhtbCl8Q29weS0oSXRlbXxJdGVtUHJvcGVydHkpfERlYnVnLVByb2Nlc3N8RGlzYWJsZS0oQ29tcHV0ZXJSZXN0b3JlfFBTQnJlYWtwb2ludHxQU1JlbW90aW5nfFBTU2Vzc2lvbkNvbmZpZ3VyYXRpb24pfERpc2Nvbm5lY3QtUFNTZXNzaW9ufEVuYWJsZS0oQ29tcHV0ZXJSZXN0b3JlfFBTQnJlYWtwb2ludHxQU1JlbW90aW5nfFBTU2Vzc2lvbkNvbmZpZ3VyYXRpb24pfEVudGVyLVBTU2Vzc2lvbnxFeGl0LVBTU2Vzc2lvbnxFeHBvcnQtKEFsaWFzfENsaXhtbHxDb25zb2xlfENzdnxGb3JtYXREYXRhfE1vZHVsZU1lbWJlcnxQU1Nlc3Npb24pfEZvckVhY2gtT2JqZWN0fEZvcm1hdC0oQ3VzdG9tfExpc3R8VGFibGV8V2lkZSl8R2V0LShBbGlhc3xDaGlsZEl0ZW18Q29tbWFuZHxDb21wdXRlclJlc3RvcmVQb2ludHxDb250ZW50fENvbnRyb2xQYW5lbEl0ZW18Q3VsdHVyZXxEYXRlfEV2ZW50fEV2ZW50TG9nfEV2ZW50U3Vic2NyaWJlcnxGb3JtYXREYXRhfEhlbHB8SGlzdG9yeXxIb3N0fEhvdEZpeHxJdGVtfEl0ZW1Qcm9wZXJ0eXxKb2J8TG9jYXRpb258TWVtYmVyfE1vZHVsZXxQcm9jZXNzfFBTQnJlYWtwb2ludHxQU0NhbGxTdGFja3xQU0RyaXZlfFBTUHJvdmlkZXJ8UFNTZXNzaW9ufFBTU2Vzc2lvbkNvbmZpZ3VyYXRpb258UFNTbmFwaW58UmFuZG9tfFNlcnZpY2V8VHJhY2VTb3VyY2V8VHJhbnNhY3Rpb258VHlwZURhdGF8VUlDdWx0dXJlfFVuaXF1ZXxWYXJpYWJsZXxXbWlPYmplY3QpfEdyb3VwLU9iamVjdHxJbXBvcnQtKEFsaWFzfENsaXhtbHxDc3Z8TG9jYWxpemVkRGF0YXxNb2R1bGV8UFNTZXNzaW9uKXxJbnZva2UtKENvbW1hbmR8RXhwcmVzc2lvbnxIaXN0b3J5fEl0ZW18UmVzdE1ldGhvZHxXZWJSZXF1ZXN0fFdtaU1ldGhvZCl8Sm9pbi1QYXRofExpbWl0LUV2ZW50TG9nfE1lYXN1cmUtKENvbW1hbmR8T2JqZWN0KXxNb3ZlLShJdGVtfEl0ZW1Qcm9wZXJ0eSl8TmV3LShBbGlhc3xFdmVudHxFdmVudExvZ3xJdGVtfEl0ZW1Qcm9wZXJ0eXxNb2R1bGV8TW9kdWxlTWFuaWZlc3R8T2JqZWN0fFBTRHJpdmV8UFNTZXNzaW9ufFBTU2Vzc2lvbkNvbmZpZ3VyYXRpb25GaWxlfFBTU2Vzc2lvbk9wdGlvbnxQU1RyYW5zcG9ydE9wdGlvbnxTZXJ2aWNlfFRpbWVTcGFufFZhcmlhYmxlfFdlYlNlcnZpY2VQcm94eSl8T3V0LShEZWZhdWx0fEZpbGV8R3JpZFZpZXd8SG9zdHxOdWxsfFByaW50ZXJ8U3RyaW5nKXxQb3AtTG9jYXRpb258UHVzaC1Mb2NhdGlvbnxSZWFkLUhvc3R8UmVjZWl2ZS0oSm9ifFBTU2Vzc2lvbil8UmVnaXN0ZXItKEVuZ2luZUV2ZW50fE9iamVjdEV2ZW50fFBTU2Vzc2lvbkNvbmZpZ3VyYXRpb258V21pRXZlbnQpfFJlbW92ZS0oQ29tcHV0ZXJ8RXZlbnR8RXZlbnRMb2d8SXRlbXxJdGVtUHJvcGVydHl8Sm9ifE1vZHVsZXxQU0JyZWFrcG9pbnR8UFNEcml2ZXxQU1Nlc3Npb258UFNTbmFwaW58VHlwZURhdGF8VmFyaWFibGV8V21pT2JqZWN0KXxSZW5hbWUtKENvbXB1dGVyfEl0ZW18SXRlbVByb3BlcnR5KXxSZXNldC1Db21wdXRlck1hY2hpbmVQYXNzd29yZHxSZXNvbHZlLVBhdGh8UmVzdGFydC0oQ29tcHV0ZXJ8U2VydmljZSl8UmVzdG9yZS1Db21wdXRlcnxSZXN1bWUtKEpvYnxTZXJ2aWNlKXxTYXZlLUhlbHB8U2VsZWN0LShPYmplY3R8U3RyaW5nfFhtbCl8U2VuZC1NYWlsTWVzc2FnZXxTZXQtKEFsaWFzfENvbnRlbnR8RGF0ZXxJdGVtfEl0ZW1Qcm9wZXJ0eXxMb2NhdGlvbnxQU0JyZWFrcG9pbnR8UFNEZWJ1Z3xQU1Nlc3Npb25Db25maWd1cmF0aW9ufFNlcnZpY2V8U3RyaWN0TW9kZXxUcmFjZVNvdXJjZXxWYXJpYWJsZXxXbWlJbnN0YW5jZSl8U2hvdy0oQ29tbWFuZHxDb250cm9sUGFuZWxJdGVtfEV2ZW50TG9nKXxTb3J0LU9iamVjdHxTcGxpdC1QYXRofFN0YXJ0LShKb2J8UHJvY2Vzc3xTZXJ2aWNlfFNsZWVwfFRyYW5zYWN0aW9uKXxTdG9wLShDb21wdXRlcnxKb2J8UHJvY2Vzc3xTZXJ2aWNlKXxTdXNwZW5kLShKb2J8U2VydmljZSl8VGVlLU9iamVjdHxUZXN0LShDb21wdXRlclNlY3VyZUNoYW5uZWx8Q29ubmVjdGlvbnxNb2R1bGVNYW5pZmVzdHxQYXRofFBTU2Vzc2lvbkNvbmZpZ3VyYXRpb25GaWxlKXxUcmFjZS1Db21tYW5kfFVuYmxvY2stRmlsZXxVbmRvLVRyYW5zYWN0aW9ufFVucmVnaXN0ZXItKEV2ZW50fFBTU2Vzc2lvbkNvbmZpZ3VyYXRpb24pfFVwZGF0ZS0oRm9ybWF0RGF0YXxIZWxwfExpc3R8VHlwZURhdGEpfFVzZS1UcmFuc2FjdGlvbnxXYWl0LShFdmVudHxKb2J8UHJvY2Vzcyl8V2hlcmUtT2JqZWN0fFdyaXRlLShEZWJ1Z3xFcnJvcnxFdmVudExvZ3xIb3N0fE91dHB1dHxQcm9ncmVzc3xWZXJib3NlfFdhcm5pbmcpKVxiL2ksL1xiKGFjfGNhdHxjaGRpcnxjbGN8Y2xpfGNscHxjbHZ8Y29tcGFyZXxjb3B5fGNwfGNwaXxjcHB8Y3ZwYXxkYnB8ZGVsfGRpZmZ8ZGlyfGVicHxlY2hvfGVwYWx8ZXBjc3Z8ZXBzbnxlcmFzZXxmY3xmbHxmdHxmd3xnYWx8Z2JwfGdjfGdjaXxnY3N8Z2RyfGdpfGdsfGdtfGdwfGdwc3xncm91cHxnc3Z8Z3V8Z3Z8Z3dtaXxpZXh8aWl8aXBhbHxpcGNzdnxpcHNufGlybXxpd21pfGl3cnxraWxsfGxwfGxzfG1lYXN1cmV8bWl8bW91bnR8bW92ZXxtcHxtdnxuYWx8bmRyfG5pfG52fG9ndnxwb3BkfHBzfHB1c2hkfHB3ZHxyYnB8cmR8cmRyfHJlbnxyaXxybXxybWRpcnxybml8cm5wfHJwfHJ2fHJ2cGF8cndtaXxzYWx8c2Fwc3xzYXN2fHNicHxzY3xzZWxlY3R8c2V0fHNoY218c2l8c2x8c2xlZXB8c2xzfHNvcnR8c3B8c3Bwc3xzcHN2fHN0YXJ0fHN2fHN3bWl8dGVlfHRyY218dHlwZXx3cml0ZSlcYi9pXSxrZXl3b3JkOi9cYihCZWdpbnxCcmVha3xDYXRjaHxDbGFzc3xDb250aW51ZXxEYXRhfERlZmluZXxEb3xEeW5hbWljUGFyYW18RWxzZXxFbHNlSWZ8RW5kfEV4aXR8RmlsdGVyfEZpbmFsbHl8Rm9yfEZvckVhY2h8RnJvbXxGdW5jdGlvbnxJZnxJbmxpbmVTY3JpcHR8UGFyYWxsZWx8UGFyYW18UHJvY2Vzc3xSZXR1cm58U2VxdWVuY2V8U3dpdGNofFRocm93fFRyYXB8VHJ5fFVudGlsfFVzaW5nfFZhcnxXaGlsZXxXb3JrZmxvdylcYi9pLG9wZXJhdG9yOntwYXR0ZXJuOi8oXFc/KSghfC0oZXF8bmV8Z3R8Z2V8bHR8bGV8c2hbbHJdfG5vdHxiPyhhbmR8eD9vcil8KE5vdCk/KExpa2V8TWF0Y2h8Q29udGFpbnN8SW4pfFJlcGxhY2V8Sm9pbnxpcyhOb3QpP3xhcylcYnwtWy09XT98XCtbKz1dP3xbKlwvJV09PykvaSxsb29rYmVoaW5kOiEwfSxwdW5jdHVhdGlvbjovW3x7fVtcXTsoKSwuXS99LFByaXNtLmxhbmd1YWdlcy5wb3dlcnNoZWxsLnN0cmluZ1swXS5pbnNpZGUuYm9vbGVhbj1QcmlzbS5sYW5ndWFnZXMucG93ZXJzaGVsbC5ib29sZWFuLFByaXNtLmxhbmd1YWdlcy5wb3dlcnNoZWxsLnN0cmluZ1swXS5pbnNpZGUudmFyaWFibGU9UHJpc20ubGFuZ3VhZ2VzLnBvd2Vyc2hlbGwudmFyaWFibGUsUHJpc20ubGFuZ3VhZ2VzLnBvd2Vyc2hlbGwuc3RyaW5nWzBdLmluc2lkZS5mdW5jdGlvbi5pbnNpZGU9UHJpc20udXRpbC5jbG9uZShQcmlzbS5sYW5ndWFnZXMucG93ZXJzaGVsbCk7ClByaXNtLmxhbmd1YWdlcy5wcm9jZXNzaW5nPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoImNsaWtlIix7a2V5d29yZDovXGIoPzpicmVha3xjYXRjaHxjYXNlfGNsYXNzfGNvbnRpbnVlfGRlZmF1bHR8ZWxzZXxleHRlbmRzfGZpbmFsfGZvcnxpZnxpbXBsZW1lbnRzfGltcG9ydHxuZXd8bnVsbHxwcml2YXRlfHB1YmxpY3xyZXR1cm58c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRyeXx2b2lkfHdoaWxlKVxiLyxvcGVyYXRvcjovPFs8PV0/fD5bPj1dP3wmJj98XHxcfD98WyU/XXxbIT0rXC0qXC9dPT8vfSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgicHJvY2Vzc2luZyIsIm51bWJlciIse2NvbnN0YW50Oi9cYig/IVhNTFxiKVtBLVpdW0EtWlxkX10rXGIvLHR5cGU6e3BhdHRlcm46L1xiKD86Ym9vbGVhbnxieXRlfGNoYXJ8Y29sb3J8ZG91YmxlfGZsb2F0fGludHxYTUx8W0EtWl1bQS1aYS16XGRfXSopXGIvLGFsaWFzOiJ2YXJpYWJsZSJ9fSksUHJpc20ubGFuZ3VhZ2VzLnByb2Nlc3NpbmdbImZ1bmN0aW9uIl0ucGF0dGVybj0vW2EtejAtOV9dKyg/PVxzKlwoKS9pLFByaXNtLmxhbmd1YWdlcy5wcm9jZXNzaW5nWyJjbGFzcy1uYW1lIl0uYWxpYXM9InZhcmlhYmxlIjsKUHJpc20ubGFuZ3VhZ2VzLnByb2xvZz17Y29tbWVudDpbLyUuKy8sL1wvXCpbXHNcU10qP1wqXC8vXSxzdHJpbmc6e3BhdHRlcm46LyhbIiddKSg/OlwxXDF8XFwoPzpcclxufFtcc1xTXSl8KD8hXDEpW15cXFxyXG5dKSpcMS8sZ3JlZWR5OiEwfSxidWlsdGluOi9cYig/OmZ4fGZ5fHhmW3h5XT98eWZ4PylcYi8sdmFyaWFibGU6L1xiW0EtWl9dXHcqLywiZnVuY3Rpb24iOi9cYlthLXpdXHcqKD86KD89XCgpfFwvXGQrKS8sbnVtYmVyOi9cYlxkK1wuP1xkKi8sb3BlcmF0b3I6L1s6XFw9PjxcLT8qQFwvOytefCEkLl0rfFxiKD86aXN8bW9kfG5vdHx4b3IpXGIvLHB1bmN0dWF0aW9uOi9bKCl7fVxbXF0sXS99OwpQcmlzbS5sYW5ndWFnZXMucHJvcGVydGllcz17Y29tbWVudDovXlsgXHRdKlsjIV0uKiQvbSwiYXR0ci12YWx1ZSI6e3BhdHRlcm46LyheWyBcdF0qKD86XFwoPzpcclxufFtcc1xTXSl8W15cXFxzOj1dKSs/KD86ICpbPTpdICp8ICkpKD86XFwoPzpcclxufFtcc1xTXSl8LikrL20sbG9va2JlaGluZDohMH0sImF0dHItbmFtZSI6L15bIFx0XSooPzpcXCg/OlxyXG58W1xzXFNdKXxbXlxcXHM6PV0pKz8oPz0gKlsgPTpdfCApL20scHVuY3R1YXRpb246L1s9Ol0vfTsKUHJpc20ubGFuZ3VhZ2VzLnByb3RvYnVmPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoImNsaWtlIix7a2V5d29yZDovXGIocGFja2FnZXxpbXBvcnR8bWVzc2FnZXxlbnVtKVxiLyxidWlsdGluOi9cYihyZXF1aXJlZHxyZXBlYXRlZHxvcHRpb25hbHxyZXNlcnZlZClcYi8scHJpbWl0aXZlOntwYXR0ZXJuOi9cYihkb3VibGV8ZmxvYXR8aW50MzJ8aW50NjR8dWludDMyfHVpbnQ2NHxzaW50MzJ8c2ludDY0fGZpeGVkMzJ8Zml4ZWQ2NHxzZml4ZWQzMnxzZml4ZWQ2NHxib29sfHN0cmluZ3xieXRlcylcYi8sYWxpYXM6InN5bWJvbCJ9fSk7CiFmdW5jdGlvbihlKXtlLmxhbmd1YWdlcy5wdXBwZXQ9e2hlcmVkb2M6W3twYXR0ZXJuOi8oQFwoIihbXiJcclxuXC8pOl0rKSIoPzpcL1tucnRzJHVMXSopP1wpLiooPzpccj9cbnxccikpKD86LiooPzpccj9cbnxccikpKj9bIFx0XSpcfD9bIFx0XSotP1sgXHRdKlwyLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJzdHJpbmciLGluc2lkZTp7cHVuY3R1YXRpb246Lyg/PVxTKS4qXFMoPz0gKiQpL319LHtwYXR0ZXJuOi8oQFwoKFteIlxyXG5cLyk6XSspKD86XC9bbnJ0cyR1TF0qKT9cKS4qKD86XHI/XG58XHIpKSg/Oi4qKD86XHI/XG58XHIpKSo/WyBcdF0qXHw/WyBcdF0qLT9bIFx0XSpcMi8sbG9va2JlaGluZDohMCxhbGlhczoic3RyaW5nIixpbnNpZGU6e3B1bmN0dWF0aW9uOi8oPz1cUykuKlxTKD89ICokKS99fSx7cGF0dGVybjovQFwoIj8oPzpbXiJcclxuXC8pOl0rKSI/KD86XC9bbnJ0cyR1TF0qKT9cKS8sYWxpYXM6InN0cmluZyIsaW5zaWRlOntwdW5jdHVhdGlvbjp7cGF0dGVybjovKFwoKS4rPyg/PVwpKS8sbG9va2JlaGluZDohMH19fV0sIm11bHRpbGluZS1jb21tZW50Ijp7cGF0dGVybjovKF58W15cXF0pXC9cKltcc1xTXSo/XCpcLy8sbG9va2JlaGluZDohMCxhbGlhczoiY29tbWVudCJ9LHJlZ2V4OntwYXR0ZXJuOi8oKD86XGJub2RlXHMrfFt+PVwoXFtceyxdXHMqfFs9K10+XHMqfF5ccyopKVwvKD86W15cL1xcXXxcXFtcc1xTXSkrXC8oPzpbaW14XStcYnxcQikvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnsiZXh0ZW5kZWQtcmVnZXgiOntwYXR0ZXJuOi9eXC8oPzpbXlwvXFxdfFxcW1xzXFNdKStcL1tpbV0qeFtpbV0qJC8saW5zaWRlOntjb21tZW50Oi8jLiovfX19fSxjb21tZW50OntwYXR0ZXJuOi8oXnxbXlxcXSkjLiovLGxvb2tiZWhpbmQ6ITB9LHN0cmluZzp7cGF0dGVybjovKFsiJ10pKD86XCRceyg/OlteJyJ9XXwoWyInXSkoPzooPyFcMilbXlxcXXxcXFtcc1xTXSkqXDIpK1x9fCg/IVwxKVteXFxdfFxcW1xzXFNdKSpcMS8saW5zaWRlOnsiZG91YmxlLXF1b3RlZCI6e3BhdHRlcm46L14iW1xzXFNdKiIkLyxpbnNpZGU6e319fX0sdmFyaWFibGU6e3BhdHRlcm46L1wkKD86OjopP1x3Kyg/Ojo6XHcrKSovLGluc2lkZTp7cHVuY3R1YXRpb246Lzo6L319LCJhdHRyLW5hbWUiOi8oPzpcdyt8XCopKD89XHMqPT4pLywiZnVuY3Rpb24iOlt7cGF0dGVybjovKFwuKSg/IVxkKVx3Ky8sbG9va2JlaGluZDohMH0sL1xiKD86Y29udGFpbnxkZWJ1Z3xlcnJ8ZmFpbHxpbmNsdWRlfGluZm98bm90aWNlfHJlYWxpemV8cmVxdWlyZXx0YWd8d2FybmluZylcYnxcYig/IVxkKVx3Kyg/PVwoKS9dLG51bWJlcjovXGIoPzoweFthLWZcZF0rfFxkKyg/OlwuXGQrKT8oPzplLT9cZCspPylcYi9pLCJib29sZWFuIjovXGIoPzp0cnVlfGZhbHNlKVxiLyxrZXl3b3JkOi9cYig/OmFwcGxpY2F0aW9ufGF0dHJ8Y2FzZXxjbGFzc3xjb25zdW1lc3xkZWZhdWx0fGRlZmluZXxlbHNlfGVsc2lmfGZ1bmN0aW9ufGlmfGltcG9ydHxpbmhlcml0c3xub2RlfHByaXZhdGV8cHJvZHVjZXN8dHlwZXx1bmRlZnx1bmxlc3MpXGIvLGRhdGF0eXBlOntwYXR0ZXJuOi9cYig/OkFueXxBcnJheXxCb29sZWFufENhbGxhYmxlfENhdGFsb2dlbnRyeXxDbGFzc3xDb2xsZWN0aW9ufERhdGF8RGVmYXVsdHxFbnVtfEZsb2F0fEhhc2h8SW50ZWdlcnxOb3RVbmRlZnxOdW1lcmljfE9wdGlvbmFsfFBhdHRlcm58UmVnZXhwfFJlc291cmNlfFJ1bnRpbWV8U2NhbGFyfFN0cmluZ3xTdHJ1Y3R8VHVwbGV8VHlwZXxVbmRlZnxWYXJpYW50KVxiLyxhbGlhczoic3ltYm9sIn0sb3BlcmF0b3I6Lz1bPX4+XT98IVs9fl0/fDwoPzo8XHw/fFs9fnwtXSk/fD5bPj1dP3wtPj98fj58XHw+Pz4/fFsqXC8lKz9dfFxiKD86YW5kfGlufG9yKVxiLyxwdW5jdHVhdGlvbjovW1xbXF17fSgpLiw7XXw6Ky99O3ZhciBuPVt7cGF0dGVybjovKF58W15cXF0pXCRceyg/OlteJyJ7fV18XHtbXn1dKlx9fChbIiddKSg/Oig/IVwyKVteXFxdfFxcW1xzXFNdKSpcMikrXH0vLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnsic2hvcnQtdmFyaWFibGUiOntwYXR0ZXJuOi8oXlwkXHspKD8hXHcrXCgpKD86OjopP1x3Kyg/Ojo6XHcrKSovLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InZhcmlhYmxlIixpbnNpZGU6e3B1bmN0dWF0aW9uOi86Oi99fSxkZWxpbWl0ZXI6e3BhdHRlcm46L15cJC8sYWxpYXM6InZhcmlhYmxlIn0scmVzdDplLnV0aWwuY2xvbmUoZS5sYW5ndWFnZXMucHVwcGV0KX19LHtwYXR0ZXJuOi8oXnxbXlxcXSlcJCg/Ojo6KT9cdysoPzo6Olx3KykqLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJ2YXJpYWJsZSIsaW5zaWRlOntwdW5jdHVhdGlvbjovOjovfX1dO2UubGFuZ3VhZ2VzLnB1cHBldC5oZXJlZG9jWzBdLmluc2lkZS5pbnRlcnBvbGF0aW9uPW4sZS5sYW5ndWFnZXMucHVwcGV0LnN0cmluZy5pbnNpZGVbImRvdWJsZS1xdW90ZWQiXS5pbnNpZGUuaW50ZXJwb2xhdGlvbj1ufShQcmlzbSk7CiFmdW5jdGlvbihlKXtlLmxhbmd1YWdlcy5wdXJlPXsiaW5saW5lLWxhbmciOntwYXR0ZXJuOi8lPFtcc1xTXSs/JT4vLGluc2lkZTp7bGFuZzp7cGF0dGVybjovKF4lPCAqKS1cKi0uKz8tXCotLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJjb21tZW50In0sZGVsaW1pdGVyOntwYXR0ZXJuOi9eJTwuKnwlPiQvLGFsaWFzOiJwdW5jdHVhdGlvbiJ9fX0sY29tbWVudDpbe3BhdHRlcm46LyhefFteXFxdKVwvXCpbXHdcV10qP1wqXC8vLGdyZWVkeTohMCxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovKF58W15cXDpdKVwvXC8uKi8sbG9va2JlaGluZDohMH0sLyMhLisvXSxzdHJpbmc6e3BhdHRlcm46LyIoPzpcXC58W14iXFxcclxuXSkqIi8sZ3JlZWR5OiEwfSxudW1iZXI6e3BhdHRlcm46LygoPzpcLlwuKT8pKD86XGIoPzppbmZ8bmFuKVxifFxiMHhbXGRhLWZdK3woPzpcYig/OjBiKT9cZCsoPzpcLlxkKT98XEJcLlxkKVxkKig/OmVbKy1dP1xkKyk/TD8pL2ksbG9va2JlaGluZDohMH0sa2V5d29yZDovXGIoPzphbnN8YnJlYWt8YnR8Y2FzZXxjYXRjaHxjZHxjbGVhcnxjb25zdHxkZWZ8ZGVsfGR1bXB8ZWxzZXxlbmR8ZXhpdHxleHRlcm58ZmFsc2V8Zm9yY2V8aGVscHxpZnxpbmZpeFtscl0/fGludGVyZmFjZXxsZXR8bHN8bWVtfG5hbWVzcGFjZXxub25maXh8TlVMTHxvZnxvdGhlcndpc2V8b3V0Zml4fG92ZXJyaWRlfHBvc3RmaXh8cHJlZml4fHByaXZhdGV8cHVibGljfHB3ZHxxdWl0fHJ1bnxzYXZlfHNob3d8c3RhdHN8dGhlbnx0aHJvd3x0cmFjZXx0cnVlfHR5cGV8dW5kZXJyaWRlfHVzaW5nfHdoZW58d2l0aClcYi8sImZ1bmN0aW9uIjovXGIoPzphYnN8YWRkXyg/Oig/OmZ1bmRlZnxpbnRlcmZhY2V8bWFjZGVmfHR5cGVkZWYpKD86X2F0KT98YWRkcnxjb25zdGRlZnx2YXJkZWYpfGFsbHxhbnl8YXBwbHA/fGFyaXR5fGJpZ2ludHA/fGJsb2IoPzpfY3JjfF9zaXplfHApP3xib29scD98Ynl0ZV8oPzptYXRyaXh8cG9pbnRlcil8Ynl0ZV9jP3N0cmluZyg/Ol9wb2ludGVyKT98Y2FsbG9jfGNhdHxjYXRtYXB8Y2VpbHxjaGFyW3BzXT98Y2hlY2tfcHRydGFnfGNocnxjbGVhcl9zZW50cnl8Y2xlYXJzeW18Y2xvc3VyZXA/fGNtYXRyaXhwP3xjb2xzP3xjb2xjYXQoPzptYXApP3xjb2xtYXB8Y29scmV2fGNvbHZlY3Rvcig/OnB8c2VxKT98Y29tcGxleCg/Ol9mbG9hdF8oPzptYXRyaXh8cG9pbnRlcil8X21hdHJpeCg/Ol92aWV3KT98X3BvaW50ZXJ8cCk/fGNvbmp8Y29va2VkcD98Y3N0fGNzdHJpbmcoPzpfKD86ZHVwfGxpc3R8dmVjdG9yKSk/fGN1cnJ5Mz98Y3ljbGVuP3xkZWxfKD86Y29uc3RkZWZ8ZnVuZGVmfGludGVyZmFjZXxtYWNkZWZ8dHlwZWRlZnx2YXJkZWYpfGRlbGV0ZXxkaWFnKD86bWF0KT98ZGltfGRtYXRyaXhwP3xkb3xkb3VibGUoPzpfbWF0cml4KD86X3ZpZXcpP3xfcG9pbnRlcnxwKT98ZG93aXRoMz98ZHJvcHxkcm9wd2hpbGV8ZXZhbCg/OmNtZCk/fGV4YWN0cHxmaWx0ZXJ8Zml4fGZpeGl0eXxmbGlwfGZsb2F0KD86X21hdHJpeHxfcG9pbnRlcil8Zmxvb3J8Zm9sZFtscl0xP3xmcmFjfGZyZWV8ZnVucD98ZnVuY3Rpb25wP3xnY2R8Z2V0KD86Xyg/OmJ5dGV8Y29uc3RkZWZ8ZG91YmxlfGZsb2F0fGZ1bmRlZnxpbnQoPzo2NCk/fGludGVyZmFjZSg/Ol90eXBlZGVmKT98bG9uZ3xtYWNkZWZ8cG9pbnRlcnxwdHJ0YWd8c2hvcnR8c2VudHJ5fHN0cmluZ3x0eXBlZGVmfHZhcmRlZikpP3xnbG9ic3ltfGhhc2h8aGVhZHxpZHxpbXxpbWF0cml4cD98aW5kZXh8aW5leGFjdHB8aW5mcHxpbml0fGluc2VydHxpbnQoPzpfbWF0cml4KD86X3ZpZXcpP3xfcG9pbnRlcnxwKT98aW50NjRfKD86bWF0cml4fHBvaW50ZXIpfGludGVnZXJwP3xpdGVyYXRlbj98aXRlcndoaWxlfGpvaW58a2V5cz98bGFtYmRhcD98bGFzdCg/OmVycig/OnBvcyk/KT98bGNkfGxpc3RbMnBdP3xsaXN0bWFwfG1ha2VfcHRydGFnfG1hbGxvY3xtYXB8bWF0Y2F0fG1hdHJpeHA/fG1heHxtZW1iZXJ8bWlufG5hbnB8bmFyZ3N8bm1hdHJpeHA/fG51bGx8bnVtYmVycD98b3JkfHBhY2soPzplZCk/fHBvaW50ZXIoPzpfY2FzdHxfdGFnfF90eXBlfHApP3xwb3d8cHJlZHxwdHJ0YWd8cHV0KD86Xyg/OmJ5dGV8ZG91YmxlfGZsb2F0fGludCg/OjY0KT98bG9uZ3xwb2ludGVyfHNob3J0fHN0cmluZykpP3xyYXRpb25hbHA/fHJlfHJlYWxwP3xyZWFsbG9jfHJlY29yZHA/fHJlZGltfHJlZHVjZSg/Ol93aXRoKT98cmVmcD98cmVwZWF0bj98cmV2ZXJzZXxybGlzdHA/fHJvdW5kfHJvd3M/fHJvd2NhdCg/Om1hcCk/fHJvd21hcHxyb3dyZXZ8cm93dmVjdG9yKD86cHxzZXEpP3xzYW1lfHNjYW5bbHJdMT98c2VudHJ5fHNnbnxzaG9ydF8oPzptYXRyaXh8cG9pbnRlcil8c2xpY2V8c21hdHJpeHA/fHNvcnR8c3BsaXR8c3RyfHN0cmNhdHxzdHJlYW18c3RyaWRlfHN0cmluZyg/Ol8oPzpkdXB8bGlzdHx2ZWN0b3IpfHApP3xzdWJkaWFnKD86bWF0KT98c3VibWF0fHN1YnNlcTI/fHN1YnN0cnxzdWNjfHN1cGRpYWcoPzptYXQpP3xzeW1ib2xwP3x0YWlsfHRha2V8dGFrZXdoaWxlfHRodW5rcD98dHJhbnNwb3NlfHRydW5jfHR1cGxlcD98dHlwZXB8dWJ5dGV8dWludCg/OjY0KT98dWxvbmd8dW5jdXJyeTM/fHVucmVmfHVuemlwMz98dXBkYXRlfHVzaG9ydHx2YWxzP3x2YXJwP3x2ZWN0b3IoPzpwfHNlcSk/fHZvaWR8emlwMz98emlwd2l0aDM/KVxiLyxzcGVjaWFsOntwYXR0ZXJuOi9cYl9fW2Etel0rX19cYi9pLGFsaWFzOiJidWlsdGluIn0sb3BlcmF0b3I6Lyg/PVxiX3xbXl9dKVshIiMkJSYnKissXC0uXC86PD0+P0BcXF5fYHx+XHUwMGExLVx1MDBiZlx1MDBkNy1cdTAwZjdcdTIwZDAtXHUyYmZmXSt8XGIoPzphbmR8ZGl2fG1vZHxub3R8b3IpXGIvLHB1bmN0dWF0aW9uOi9bKCl7fVxbXF07LHxdL307dmFyIHQ9WyJjIix7bGFuZzoiYysrIixhbGlhczoiY3BwIn0sImZvcnRyYW4iLCJhdHMiLCJkc3AiXSxhPSIlPCAqLVxcKi0gKntsYW5nfVxcZCogKi1cXCotW1xcc1xcU10rPyU+Ijt0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9dDtpZigic3RyaW5nIiE9dHlwZW9mIHQmJihyPXQuYWxpYXMsdD10LmxhbmcpLGUubGFuZ3VhZ2VzW3JdKXt2YXIgaT17fTtpWyJpbmxpbmUtbGFuZy0iK3JdPXtwYXR0ZXJuOlJlZ0V4cChhLnJlcGxhY2UoIntsYW5nfSIsdC5yZXBsYWNlKC8oWy4rKj9cL1xcKCl7fVxbXF1dKS9nLCJcXCQxIikpLCJpIiksaW5zaWRlOmUudXRpbC5jbG9uZShlLmxhbmd1YWdlcy5wdXJlWyJpbmxpbmUtbGFuZyJdLmluc2lkZSl9LGlbImlubGluZS1sYW5nLSIrcl0uaW5zaWRlLnJlc3Q9ZS51dGlsLmNsb25lKGUubGFuZ3VhZ2VzW3JdKSxlLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoInB1cmUiLCJpbmxpbmUtbGFuZyIsaSl9fSksZS5sYW5ndWFnZXMuYyYmKGUubGFuZ3VhZ2VzLnB1cmVbImlubGluZS1sYW5nIl0uaW5zaWRlLnJlc3Q9ZS51dGlsLmNsb25lKGUubGFuZ3VhZ2VzLmMpKX0oUHJpc20pOwpQcmlzbS5sYW5ndWFnZXMucHl0aG9uPXsidHJpcGxlLXF1b3RlZC1zdHJpbmciOntwYXR0ZXJuOi8iIiJbXHNcU10rPyIiInwnJydbXHNcU10rPycnJy8sYWxpYXM6InN0cmluZyJ9LGNvbW1lbnQ6e3BhdHRlcm46LyhefFteXFxdKSMuKi8sbG9va2JlaGluZDohMH0sc3RyaW5nOntwYXR0ZXJuOi8oInwnKSg/OlxcXFx8XFw/W15cXFxyXG5dKSo/XDEvLGdyZWVkeTohMH0sImZ1bmN0aW9uIjp7cGF0dGVybjovKCg/Ol58XHMpZGVmWyBcdF0rKVthLXpBLVpfXVthLXpBLVowLTlfXSooPz1cKCkvZyxsb29rYmVoaW5kOiEwfSwiY2xhc3MtbmFtZSI6e3BhdHRlcm46LyhcYmNsYXNzXHMrKVthLXowLTlfXSsvaSxsb29rYmVoaW5kOiEwfSxrZXl3b3JkOi9cYig/OmFzfGFzc2VydHxhc3luY3xhd2FpdHxicmVha3xjbGFzc3xjb250aW51ZXxkZWZ8ZGVsfGVsaWZ8ZWxzZXxleGNlcHR8ZXhlY3xmaW5hbGx5fGZvcnxmcm9tfGdsb2JhbHxpZnxpbXBvcnR8aW58aXN8bGFtYmRhfHBhc3N8cHJpbnR8cmFpc2V8cmV0dXJufHRyeXx3aGlsZXx3aXRofHlpZWxkKVxiLywiYm9vbGVhbiI6L1xiKD86VHJ1ZXxGYWxzZSlcYi8sbnVtYmVyOi9cYi0/KD86MFtib10pPyg/Oig/OlxkfDB4W1xkYS1mXSlbXGRhLWZdKlwuP1xkKnxcLlxkKykoPzplWystXT9cZCspP2o/XGIvaSxvcGVyYXRvcjovWy0rJT1dPT98IT18XCpcKj89P3xcL1wvPz0/fDxbPD0+XT98Pls9Pl0/fFsmfF5+XXxcYig/Om9yfGFuZHxub3QpXGIvLHB1bmN0dWF0aW9uOi9be31bXF07KCksLjpdL307ClByaXNtLmxhbmd1YWdlcy5xPXtzdHJpbmc6LyIoPzpcXC58W14iXFxcclxuXSkqIi8sY29tbWVudDpbe3BhdHRlcm46LyhbXHQgKVxdfV0pXC8uKi8sbG9va2JlaGluZDohMH0se3BhdHRlcm46LyhefFxyP1xufFxyKVwvW1x0IF0qKD86KD86XHI/XG58XHIpKD86LiooPzpccj9cbnxccikpKj8oPzpcXCg/PVtcdCBdKig/OlxyP1xufFxyKSl8JCl8XFMuKikvLGxvb2tiZWhpbmQ6ITB9LC9eXFxbXHQgXSooPzpccj9cbnxccilbXHNcU10rL20sL14jIS4rL21dLHN5bWJvbDovYCg/OjpcUyt8W1x3Ll0qKS8sZGF0ZXRpbWU6e3BhdHRlcm46LzBOW21kenV2dF18MFdbZHR6XXxcZHs0fVwuXGRcZCg/Om18XC5cZFxkKD86VCg/OlxkXGQoPzo6XGRcZCg/OjpcZFxkKD86Wy46XVxkXGRcZCk/KT8pPyk/KT9bZHpdPyl8XGRcZDpcZFxkKD86OlxkXGQoPzpbLjpdXGRcZFxkKT8pP1t1dnRdPy8sYWxpYXM6Im51bWJlciJ9LG51bWJlcjovXGItPyg/IVswMV06KSg/OjBbd25dfDBXW2hqXT98ME5baGplXT98MHhbXGRhLWZBLUZdK3xcZCtcLj9cZCooPzplWystXT9cZCspP1toamZlYl0/KS8sa2V5d29yZDovXFxcdytcYnxcYig/OmFic3xhY29zfGFqMD98YWxsfGFuZHxhbnl8YXNjfGFzaW58YXNvZnxhdGFufGF0dHJ8YXZncz98Ymlucj98Ynl8Y2VpbGluZ3xjb2xzfGNvcnxjb3N8Y291bnR8Y292fGNyb3NzfGNzdnxjdXR8ZGVsZXRlfGRlbHRhc3xkZXNjfGRldnxkaWZmZXJ8ZGlzdGluY3R8ZGl2fGRvfGRzYXZlfGVqfGVubGlzdHxldmFsfGV4Y2VwdHxleGVjfGV4aXR8ZXhwfGZieXxmaWxsc3xmaXJzdHxma2V5c3xmbGlwfGZsb29yfGZyb218Z2V0fGdldGVudnxncm91cHxndGltZXxoY2xvc2V8aGNvdW50fGhkZWx8aG9wZW58aHN5bXxpYXNjfGlkZW50aXR5fGlkZXNjfGlmfGlqfGlufGluc2VydHxpbnRlcnxpbnZ8a2V5cz98bGFzdHxsaWtlfGxpc3R8bGpmP3xsb2FkfGxvZ3xsb3dlcnxsc3F8bHRpbWV8bHRyaW18bWF2Z3xtYXhzP3xtY291bnR8bWQ1fG1kZXZ8bWVkfG1ldGF8bWlucz98bW1heHxtbWlufG1tdXxtb2R8bXN1bXxuZWd8bmV4dHxub3R8bnVsbHxvcnxvdmVyfHBhcnNlfHBlYWNofHBqfHBsaXN0fHByZHM/fHByZXZ8cHJpb3J8cmFuZHxyYW5rfHJhdGlvc3xyYXplfHJlYWQwfHJlYWQxfHJlY2lwcm9jYWx8cmV2YWx8cmV2ZXJzZXxybG9hZHxyb3RhdGV8cnNhdmV8cnRyaW18c2F2ZXxzY2FufHNjb3Z8c2RldnxzZWxlY3R8c2V0fHNldGVudnxzaG93fHNpZ251bXxzaW58c3FydHxzc3I/fHN0cmluZ3xzdWJsaXN0fHN1bXM/fHN2fHN2YXJ8c3lzdGVtfHRhYmxlc3x0YW58dGlsfHRyaW18dHhmfHR5cGV8dWp8dW5ncm91cHx1bmlvbnx1cGRhdGV8dXBwZXJ8dXBzZXJ0fHZhbHVlfHZhcnx2aWV3cz98dnN8d2F2Z3x3aGVyZXx3aGlsZXx3aXRoaW58d2oxP3x3c3VtfHd3fHhhc2N8eGJhcnx4Y29scz98eGRlc2N8eGV4cHx4Z3JvdXB8eGtleXx4bG9nfHhwcmV2fHhyYW5rKVxiLyxhZHZlcmI6e3BhdHRlcm46L1snXC9cXF06P3xcYmVhY2hcYi8sYWxpYXM6ImZ1bmN0aW9uIn0sdmVyYjp7cGF0dGVybjovKD86XEJcLlxCfFxiWzAxXTp8PFs9Pl0/fD49P3xbOitcLSolLCE/X349fCQmI0BeXSk6Py8sYWxpYXM6Im9wZXJhdG9yIn0scHVuY3R1YXRpb246L1soKXt9XFtcXTsuXS99OwpQcmlzbS5sYW5ndWFnZXMucW9yZT1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCJjbGlrZSIse2NvbW1lbnQ6e3BhdHRlcm46LyhefFteXFxdKSg/OlwvXCpbXHdcV10qP1wqXC98KD86XC9cL3wjKS4qKS8sbG9va2JlaGluZDohMH0sc3RyaW5nOntwYXR0ZXJuOi8oInwnKShcXCg/OlxyXG58W1xzXFNdKXwoPyFcMSlbXlxcXSkqXDEvLGdyZWVkeTohMH0sdmFyaWFibGU6L1wkKD8hXGQpXHcrXGIvLGtleXdvcmQ6L1xiKD86YWJzdHJhY3R8YW55fGFzc2VydHxiaW5hcnl8Ym9vbHxib29sZWFufGJyZWFrfGJ5dGV8Y2FzZXxjYXRjaHxjaGFyfGNsYXNzfGNvZGV8Y29uc3R8Y29udGludWV8ZGF0YXxkZWZhdWx0fGRvfGRvdWJsZXxlbHNlfGVudW18ZXh0ZW5kc3xmaW5hbHxmaW5hbGx5fGZsb2F0fGZvcnxnb3RvfGhhc2h8aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW5oZXJpdHN8aW5zdGFuY2VvZnxpbnR8aW50ZXJmYWNlfGxvbmd8bXl8bmF0aXZlfG5ld3xub3RoaW5nfG51bGx8b2JqZWN0fG91cnxvd258cHJpdmF0ZXxyZWZlcmVuY2V8cmV0aHJvd3xyZXR1cm58c2hvcnR8c29mdCg/OmludHxmbG9hdHxudW1iZXJ8Ym9vbHxzdHJpbmd8ZGF0ZXxsaXN0KXxzdGF0aWN8c3RyaWN0ZnB8c3RyaW5nfHN1YnxzdXBlcnxzd2l0Y2h8c3luY2hyb25pemVkfHRoaXN8dGhyb3d8dGhyb3dzfHRyYW5zaWVudHx0cnl8dm9pZHx2b2xhdGlsZXx3aGlsZSlcYi8sbnVtYmVyOi9cYig/OjBiWzAxXSt8MHhbXGRhLWZdKlwuP1tcZGEtZnBcLV0rfFxkKlwuP1xkK2U/XGQqW2RmXXxcZCpcLj9cZCspXGIvaSwiYm9vbGVhbiI6L1xiKD86dHJ1ZXxmYWxzZSlcYi9pLG9wZXJhdG9yOntwYXR0ZXJuOi8oXnxbXlwuXSkoPzpcK1srPV0/fC1bLT1dP3xbIT1dKD86PT0/fH4pP3w+Pj89P3w8KD86PT4/fDw9Pyk/fCZbJj1dP3xcfFt8PV0/fFsqXC8lXl09P3xbfj9dKS8sbG9va2JlaGluZDohMH0sImZ1bmN0aW9uIjovXCQ/XGIoPyFcZClcdysoPz1cKCkvfSk7ClByaXNtLmxhbmd1YWdlcy5yPXtjb21tZW50Oi8jLiovLHN0cmluZzp7cGF0dGVybjovKFsnIl0pKD86XFw/LikqP1wxLyxncmVlZHk6ITB9LCJwZXJjZW50LW9wZXJhdG9yIjp7cGF0dGVybjovJVteJVxzXSolLyxhbGlhczoib3BlcmF0b3IifSwiYm9vbGVhbiI6L1xiKD86VFJVRXxGQUxTRSlcYi8sZWxsaXBzaXM6L1wuXC4oPzpcLnxcZCspLyxudW1iZXI6Wy9cYig/Ok5hTnxJbmYpXGIvLC9cYig/OjB4W1xkQS1GYS1mXSsoPzpcLlxkKik/fFxkKlwuP1xkKykoPzpbRWVQcF1bKy1dP1xkKyk/W2lMXT9cYi9dLGtleXdvcmQ6L1xiKD86aWZ8ZWxzZXxyZXBlYXR8d2hpbGV8ZnVuY3Rpb258Zm9yfGlufG5leHR8YnJlYWt8TlVMTHxOQXxOQV9pbnRlZ2VyX3xOQV9yZWFsX3xOQV9jb21wbGV4X3xOQV9jaGFyYWN0ZXJfKVxiLyxvcGVyYXRvcjovLT4/Pj98PCg/Oj18PD8tKT98Wz49IV09P3w6Oj98JiY/fFx8XHw/fFsrKlwvXiRAfl0vLHB1bmN0dWF0aW9uOi9bKCl7fVxbXF0sO10vfTsKIWZ1bmN0aW9uKGEpe3ZhciBlPWEudXRpbC5jbG9uZShhLmxhbmd1YWdlcy5qYXZhc2NyaXB0KTthLmxhbmd1YWdlcy5qc3g9YS5sYW5ndWFnZXMuZXh0ZW5kKCJtYXJrdXAiLGUpLGEubGFuZ3VhZ2VzLmpzeC50YWcucGF0dGVybj0vPFwvP1tcd1wuOi1dK1xzKig/OlxzKyg/Oltcd1wuOi1dKyg/Oj0oPzooInwnKShcXD9bXHdcV10pKj9cMXxbXlxzJyI+PV0rfChce1tcd1xXXSo/XH0pKSk/fFx7XC57M31cdytcfSlccyopKlwvPz4vaSxhLmxhbmd1YWdlcy5qc3gudGFnLmluc2lkZVsiYXR0ci12YWx1ZSJdLnBhdHRlcm49Lz0oPyFceykoPzooJ3wiKVtcd1xXXSo/KFwxKXxbXlxzPl0rKS9pLGEubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiaW5zaWRlIiwiYXR0ci1uYW1lIix7c3ByZWFkOntwYXR0ZXJuOi9ce1wuezN9XHcrXH0vLGluc2lkZTp7cHVuY3R1YXRpb246L1x7fFx9fFwuLywiYXR0ci12YWx1ZSI6L1x3Ky99fX0sYS5sYW5ndWFnZXMuanN4LnRhZyk7dmFyIHM9YS51dGlsLmNsb25lKGEubGFuZ3VhZ2VzLmpzeCk7ZGVsZXRlIHMucHVuY3R1YXRpb24scz1hLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImpzeCIsIm9wZXJhdG9yIix7cHVuY3R1YXRpb246Lz0oPz17KXxbe31bXF07KCksLjpdL30se2pzeDpzfSksYS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJpbnNpZGUiLCJhdHRyLXZhbHVlIix7c2NyaXB0OntwYXR0ZXJuOi89KFx7KD86XHtbXn1dKlx9fFtefV0pK1x9KS9pLGluc2lkZTpzLGFsaWFzOiJsYW5ndWFnZS1qYXZhc2NyaXB0In19LGEubGFuZ3VhZ2VzLmpzeC50YWcpfShQcmlzbSk7ClByaXNtLmxhbmd1YWdlcy5yZWFzb249UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgiY2xpa2UiLHtjb21tZW50OntwYXR0ZXJuOi8oXnxbXlxcXSlcL1wqW1x3XFddKj9cKlwvLyxsb29rYmVoaW5kOiEwfSxzdHJpbmc6e3BhdHRlcm46LyIoXFwoPzpcclxufFtcc1xTXSl8W15cXFxyXG4iXSkqIi8sZ3JlZWR5OiEwfSwiY2xhc3MtbmFtZSI6L1xiW0EtWl1cdyovLGtleXdvcmQ6L1xiKD86YW5kfGFzfGFzc2VydHxiZWdpbnxjbGFzc3xjb25zdHJhaW50fGRvfGRvbmV8ZG93bnRvfGVsc2V8ZW5kfGV4Y2VwdGlvbnxleHRlcm5hbHxmb3J8ZnVufGZ1bmN0aW9ufGZ1bmN0b3J8aWZ8aW58aW5jbHVkZXxpbmhlcml0fGluaXRpYWxpemVyfGxhenl8bGV0fG1ldGhvZHxtb2R1bGV8bXV0YWJsZXxuZXd8bm9ucmVjfG9iamVjdHxvZnxvcGVufG9yfHByaXZhdGV8cmVjfHNpZ3xzdHJ1Y3R8c3dpdGNofHRoZW58dG98dHJ5fHR5cGV8dmFsfHZpcnR1YWx8d2hlbnx3aGlsZXx3aXRoKVxiLyxvcGVyYXRvcjovXC57M318Ols6PV18PSg/Oj09P3w+KT98PD0/fD49P3xbfF4/JyMhfmBdfFsrXC0qXC9dXC4/fFxiKD86bW9kfGxhbmR8bG9yfGx4b3J8bHNsfGxzcnxhc3IpXGIvfSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgicmVhc29uIiwiY2xhc3MtbmFtZSIse2NoYXJhY3Rlcjp7cGF0dGVybjovJyg/OlxceFtcZGEtZl17Mn18XFxvWzAtM11bMC03XVswLTddfFxcXGR7M318XFwufFteJ10pJy8sYWxpYXM6InN0cmluZyJ9LGNvbnN0cnVjdG9yOntwYXR0ZXJuOi9cYltBLVpdXHcqXGIoPyFccypcLikvLGFsaWFzOiJ2YXJpYWJsZSJ9LGxhYmVsOntwYXR0ZXJuOi9cYlthLXpdXHcqKD89OjopLyxhbGlhczoic3ltYm9sIn19KSxkZWxldGUgUHJpc20ubGFuZ3VhZ2VzLnJlYXNvbi5mdW5jdGlvbjsKUHJpc20ubGFuZ3VhZ2VzLnJlc3Q9e3RhYmxlOlt7cGF0dGVybjovKFxzKikoPzpcK1s9LV0rKStcKyg/OlxyP1xufFxyKSg/OlwxKD86Wyt8XS4rKStbK3xdKD86XHI/XG58XHIpKStcMSg/OlwrWz0tXSspK1wrLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L1x8fCg/OlwrWz0tXSspK1wrL319LHtwYXR0ZXJuOi8oXHMqKSg/Oj0rICspKz0rKCg/OlxyP1xufFxyKVwxLispKyg/OlxyP1xufFxyKVwxKD86PSsgKykrPSsoPz0oPzpccj9cbnxccil7Mn18XHMqJCkvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovWz0tXSsvfX1dLCJzdWJzdGl0dXRpb24tZGVmIjp7cGF0dGVybjovKF5ccypcLlwuIClcfCg/OltefFxzXSg/OltefF0qW158XHNdKT8pXHwgW146XSs6Oi9tLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntzdWJzdGl0dXRpb246e3BhdHRlcm46L15cfCg/OltefFxzXXxbXnxcc11bXnxdKltefFxzXSlcfC8sYWxpYXM6ImF0dHItdmFsdWUiLGluc2lkZTp7cHVuY3R1YXRpb246L15cfHxcfCQvfX0sZGlyZWN0aXZlOntwYXR0ZXJuOi8oICspW146XSs6Oi8sbG9va2JlaGluZDohMCxhbGlhczoiZnVuY3Rpb24iLGluc2lkZTp7cHVuY3R1YXRpb246Lzo6JC99fX19LCJsaW5rLXRhcmdldCI6W3twYXR0ZXJuOi8oXlxzKlwuXC4gKVxbW15cXV0rXF0vbSxsb29rYmVoaW5kOiEwLGFsaWFzOiJzdHJpbmciLGluc2lkZTp7cHVuY3R1YXRpb246L15cW3xcXSQvfX0se3BhdHRlcm46LyheXHMqXC5cLiApXyg/OmBbXmBdK2B8KD86W146XFxdfFxcLikrKTovbSxsb29rYmVoaW5kOiEwLGFsaWFzOiJzdHJpbmciLGluc2lkZTp7cHVuY3R1YXRpb246L15ffDokL319XSxkaXJlY3RpdmU6e3BhdHRlcm46LyheXHMqXC5cLiApW146XSs6Oi9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImZ1bmN0aW9uIixpbnNpZGU6e3B1bmN0dWF0aW9uOi86OiQvfX0sY29tbWVudDp7cGF0dGVybjovKF5ccypcLlwuKSg/Oig/OiAuKyk/KD86KD86XHI/XG58XHIpLispK3wgLispKD89KD86XHI/XG58XHIpezJ9fCQpL20sbG9va2JlaGluZDohMH0sdGl0bGU6W3twYXR0ZXJuOi9eKChbISIjJCUmJygpKissXC0uXC86Ozw9Pj9AXFtcXFxdXl9ge3x9fl0pXDIrKSg/OlxyP1xufFxyKS4rKD86XHI/XG58XHIpXDEkL20saW5zaWRlOntwdW5jdHVhdGlvbjovXlshIiMkJSYnKCkqKyxcLS5cLzo7PD0+P0BcW1xcXF1eX2B7fH1+XSt8WyEiIyQlJicoKSorLFwtLlwvOjs8PT4/QFxbXFxcXV5fYHt8fX5dKyQvLGltcG9ydGFudDovLisvfX0se3BhdHRlcm46LyhefCg/OlxyP1xufFxyKXsyfSkuKyg/OlxyP1xufFxyKShbISIjJCUmJygpKissXC0uXC86Ozw9Pj9AXFtcXFxdXl9ge3x9fl0pXDIrKD89XHI/XG58XHJ8JCkvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovWyEiIyQlJicoKSorLFwtLlwvOjs8PT4/QFxbXFxcXV5fYHt8fX5dKyQvLGltcG9ydGFudDovLisvfX1dLGhyOntwYXR0ZXJuOi8oKD86XHI/XG58XHIpezJ9KShbISIjJCUmJygpKissXC0uXC86Ozw9Pj9AXFtcXFxdXl9ge3x9fl0pXDJ7Myx9KD89KD86XHI/XG58XHIpezJ9KS8sbG9va2JlaGluZDohMCxhbGlhczoicHVuY3R1YXRpb24ifSxmaWVsZDp7cGF0dGVybjovKF5ccyopOlteOlxyXG5dKzooPz0gKS9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImF0dHItbmFtZSJ9LCJjb21tYW5kLWxpbmUtb3B0aW9uIjp7cGF0dGVybjovKF5ccyopKD86WystXVthLXpcZF18KD86XC1cLXxcLylbYS16XGQtXSspKD86WyA9XSg/OlthLXpdW2EtelxkXy1dKnw8W148Pl0rPikpPyg/OiwgKD86WystXVthLXpcZF18KD86XC1cLXxcLylbYS16XGQtXSspKD86WyA9XSg/OlthLXpdW2EtelxkXy1dKnw8W148Pl0rPikpPykqKD89KD86XHI/XG58XHIpPyB7Mix9XFMpL2ltLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InN5bWJvbCJ9LCJsaXRlcmFsLWJsb2NrIjp7cGF0dGVybjovOjooPzpccj9cbnxccil7Mn0oWyBcdF0rKS4rKD86KD86XHI/XG58XHIpXDEuKykqLyxpbnNpZGU6eyJsaXRlcmFsLWJsb2NrLXB1bmN0dWF0aW9uIjp7cGF0dGVybjovXjo6LyxhbGlhczoicHVuY3R1YXRpb24ifX19LCJxdW90ZWQtbGl0ZXJhbC1ibG9jayI6e3BhdHRlcm46Lzo6KD86XHI/XG58XHIpezJ9KFshIiMkJSYnKCkqKyxcLS5cLzo7PD0+P0BcW1xcXF1eX2B7fH1+XSkuKig/Oig/OlxyP1xufFxyKVwxLiopKi8saW5zaWRlOnsibGl0ZXJhbC1ibG9jay1wdW5jdHVhdGlvbiI6e3BhdHRlcm46L14oPzo6OnwoWyEiIyQlJicoKSorLFwtLlwvOjs8PT4/QFxbXFxcXV5fYHt8fX5dKVwxKikvbSxhbGlhczoicHVuY3R1YXRpb24ifX19LCJsaXN0LWJ1bGxldCI6e3BhdHRlcm46LyheXHMqKSg/OlsqK1wt4oCi4oCj4oGDXXxcKD8oPzpcZCt8W2Etel18W2l2eGRjbG1dKylcKXwoPzpcZCt8W2Etel18W2l2eGRjbG1dKylcLikoPz0gKS9pbSxsb29rYmVoaW5kOiEwLGFsaWFzOiJwdW5jdHVhdGlvbiJ9LCJkb2N0ZXN0LWJsb2NrIjp7cGF0dGVybjovKF5ccyopPj4+IC4rKD86KD86XHI/XG58XHIpLispKi9tLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovXj4+Pi99fSxpbmxpbmU6W3twYXR0ZXJuOi8oXnxbXHNcLTpcLyciPChcW3tdKSg/OjpbXjpdKzpgLio/YHxgLio/YDpbXjpdKzp8KFwqXCo/fGBgP3xcfCkoPyFccykuKj9bXlxzXVwyKD89W1xzXC0uLDo7IT9cXFwvJyIpXF19XXwkKSkvbSxsb29rYmVoaW5kOiEwLGluc2lkZTp7Ym9sZDp7cGF0dGVybjovKF5cKlwqKS4rKD89XCpcKiQpLyxsb29rYmVoaW5kOiEwfSxpdGFsaWM6e3BhdHRlcm46LyheXCopLisoPz1cKiQpLyxsb29rYmVoaW5kOiEwfSwiaW5saW5lLWxpdGVyYWwiOntwYXR0ZXJuOi8oXmBgKS4rKD89YGAkKS8sbG9va2JlaGluZDohMCxhbGlhczoic3ltYm9sIn0scm9sZTp7cGF0dGVybjovXjpbXjpdKzp8OlteOl0rOiQvLGFsaWFzOiJmdW5jdGlvbiIsaW5zaWRlOntwdW5jdHVhdGlvbjovXjp8OiQvfX0sImludGVycHJldGVkLXRleHQiOntwYXR0ZXJuOi8oXmApLisoPz1gJCkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImF0dHItdmFsdWUifSxzdWJzdGl0dXRpb246e3BhdHRlcm46LyheXHwpLisoPz1cfCQpLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJhdHRyLXZhbHVlIn0scHVuY3R1YXRpb246L1wqXCo/fGBgP3xcfC99fV0sbGluazpbe3BhdHRlcm46L1xbW15cXV0rXF1fKD89W1xzXC0uLDo7IT9cXFwvJyIpXF19XXwkKS8sYWxpYXM6InN0cmluZyIsaW5zaWRlOntwdW5jdHVhdGlvbjovXlxbfFxdXyQvfX0se3BhdHRlcm46Lyg/OlxiW2EtelxkXSg/OltfLjorXT9bYS16XGRdKykqXz9ffGBbXmBdK2BfP198X2BbXmBdK2ApKD89W1xzXC0uLDo7IT9cXFwvJyIpXF19XXwkKS9pLGFsaWFzOiJzdHJpbmciLGluc2lkZTp7cHVuY3R1YXRpb246L15fP2B8YCR8YD9fP18kL319XSxwdW5jdHVhdGlvbjp7cGF0dGVybjovKF5ccyopKD86XHwoPz0gfCQpfCg/Oi0tLT984oCUfFwuXC58X18pKD89ICl8XC5cLiQpL20sbG9va2JlaGluZDohMH19OwpQcmlzbS5sYW5ndWFnZXMucmlwPXtjb21tZW50Oi8jLiovLGtleXdvcmQ6Lyg/Oj0+fC0+KXxcYig/OmNsYXNzfGlmfGVsc2V8c3dpdGNofGNhc2V8cmV0dXJufGV4aXR8dHJ5fGNhdGNofGZpbmFsbHl8cmFpc2UpXGIvLGJ1aWx0aW46L0B8XGJTeXN0ZW1cYi8sImJvb2xlYW4iOi9cYig/OnRydWV8ZmFsc2UpXGIvLGRhdGU6L1xiXGR7NH0tXGR7Mn0tXGR7Mn1cYi8sdGltZTovXGJcZHsyfTpcZHsyfTpcZHsyfVxiLyxkYXRldGltZTovXGJcZHs0fS1cZHsyfS1cZHsyfVRcZHsyfTpcZHsyfTpcZHsyfVxiLyxjaGFyYWN0ZXI6L1xCYFteXHNgJyIsLjo7I1wvXFwoKTw+XFtcXXt9XVxiLyxyZWdleDp7cGF0dGVybjovKF58W15cL10pXC8oPyFcLykoXFsuKz9dfFxcLnxbXlwvXFxcclxuXSkrXC8oPz1ccyooJHxbXHJcbiwuO30pXSkpLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMH0sc3ltYm9sOi86W15cZFxzYCciLC46OyNcL1xcKCk8PlxbXF17fV1bXlxzYCciLC46OyNcL1xcKCk8PlxbXF17fV0qLyxzdHJpbmc6e3BhdHRlcm46LygifCcpKFxcPy4pKj9cMS8sZ3JlZWR5OiEwfSxudW1iZXI6L1srLV0/KD86KD86XGQrXC5cZCspfCg/OlxkKykpLyxwdW5jdHVhdGlvbjovKD86XC57MiwzfSl8W2AsLjo7PVwvXFwoKTw+XFtcXXt9XS8scmVmZXJlbmNlOi9bXlxkXHNgJyIsLjo7I1wvXFwoKTw+XFtcXXt9XVteXHNgJyIsLjo7I1wvXFwoKTw+XFtcXXt9XSovfTsKUHJpc20ubGFuZ3VhZ2VzLnJvYm9jb25mPXtjb21tZW50Oi8jLiovLGtleXdvcmQ6e3BhdHRlcm46LyhefFxzKSg/Oig/OmZhY2V0fGluc3RhbmNlIG9mKSg/PVsgXHRdK1tcdy1dK1sgXHRdKlx7KXwoPzpleHRlcm5hbHxpbXBvcnQpXGIpLyxsb29rYmVoaW5kOiEwfSxjb21wb25lbnQ6e3BhdHRlcm46L1tcdy1dKyg/PVsgXHRdKlx7KS8sYWxpYXM6InZhcmlhYmxlIn0scHJvcGVydHk6L1tcdy4tXSsoPz1bIFx0XSo6KS8sdmFsdWU6e3BhdHRlcm46Lyg9WyBcdF0qKVteLDtdKy8sbG9va2JlaGluZDohMCxhbGlhczoiYXR0ci12YWx1ZSJ9LG9wdGlvbmFsOntwYXR0ZXJuOi9cKG9wdGlvbmFsXCkvLGFsaWFzOiJidWlsdGluIn0sd2lsZGNhcmQ6e3BhdHRlcm46LyhcLilcKi8sbG9va2JlaGluZDohMCxhbGlhczoib3BlcmF0b3IifSxwdW5jdHVhdGlvbjovW3t9LC47Oj1dL307CiFmdW5jdGlvbihlKXtlLmxhbmd1YWdlcy5jcnlzdGFsPWUubGFuZ3VhZ2VzLmV4dGVuZCgicnVieSIse2tleXdvcmQ6Wy9cYig/OmFic3RyYWN0fGFsaWFzfGFzfGFzbXxiZWdpbnxicmVha3xjYXNlfGNsYXNzfGRlZnxkb3xlbHNlfGVsc2lmfGVuZHxlbnN1cmV8ZW51bXxleHRlbmR8Zm9yfGZ1bnxpZnxpbmNsdWRlfGluc3RhbmNlX3NpemVvZnxsaWJ8bWFjcm98bW9kdWxlfG5leHR8b2Z8b3V0fHBvaW50ZXJvZnxwcml2YXRlfHByb3RlY3RlZHxyZXNjdWV8cmV0dXJufHJlcXVpcmV8c2VsZWN0fHNlbGZ8c2l6ZW9mfHN0cnVjdHxzdXBlcnx0aGVufHR5cGV8dHlwZW9mfHVuaW5pdGlhbGl6ZWR8dW5pb258dW5sZXNzfHVudGlsfHdoZW58d2hpbGV8d2l0aHx5aWVsZHxfX0RJUl9ffF9fRU5EX0xJTkVfX3xfX0ZJTEVfX3xfX0xJTkVfXylcYi8se3BhdHRlcm46LyhcLlxzKikoPzppc19hfHJlc3BvbmRzX3RvKVw/Lyxsb29rYmVoaW5kOiEwfV0sbnVtYmVyOi9cYig/OjBiWzAxX10qWzAxXXwwb1swLTdfXSpbMC03XXwweFswLTlhLWZBLUZfXSpbMC05YS1mQS1GXXwoPzpbMC05XSg/OlswLTlfXSpbMC05XSk/KSg/OlwuWzAtOV9dKlswLTldKT8oPzpbZUVdWystXT9bMC05X10qWzAtOV0pPykoPzpfKD86W3VpZl0oPzo4fDE2fDMyfDY0KSk/KT9cYi99KTt2YXIgdD1lLnV0aWwuY2xvbmUoZS5sYW5ndWFnZXMuY3J5c3RhbCk7ZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJjcnlzdGFsIiwic3RyaW5nIix7YXR0cmlidXRlOntwYXR0ZXJuOi9AXFsuKz9cXS8sYWxpYXM6ImF0dHItbmFtZSIsaW5zaWRlOntkZWxpbWl0ZXI6e3BhdHRlcm46L15AXFt8XF0kLyxhbGlhczoidGFnIn0scmVzdDp0fX0sZXhwYW5zaW9uOlt7cGF0dGVybjovXHtcey4rP1x9XH0vLGluc2lkZTp7ZGVsaW1pdGVyOntwYXR0ZXJuOi9eXHtce3xcfVx9JC8sYWxpYXM6InRhZyJ9LHJlc3Q6dH19LHtwYXR0ZXJuOi9ceyUuKz8lXH0vLGluc2lkZTp7ZGVsaW1pdGVyOntwYXR0ZXJuOi9eXHslfCVcfSQvLGFsaWFzOiJ0YWcifSxyZXN0OnR9fV19KX0oUHJpc20pOwpQcmlzbS5sYW5ndWFnZXMucnVzdD17Y29tbWVudDpbe3BhdHRlcm46LyhefFteXFxdKVwvXCpbXHdcV10qP1wqXC8vLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXnxbXlxcOl0pXC9cLy4qLyxsb29rYmVoaW5kOiEwfV0sc3RyaW5nOlt7cGF0dGVybjovYj9yKCMqKSIoPzpcXD8uKSo/IlwxLyxncmVlZHk6ITB9LHtwYXR0ZXJuOi9iPygifCcpKD86XFw/LikqP1wxLyxncmVlZHk6ITB9XSxrZXl3b3JkOi9cYig/OmFic3RyYWN0fGFsaWdub2Z8YXN8YmV8Ym94fGJyZWFrfGNvbnN0fGNvbnRpbnVlfGNyYXRlfGRvfGVsc2V8ZW51bXxleHRlcm58ZmFsc2V8ZmluYWx8Zm58Zm9yfGlmfGltcGx8aW58bGV0fGxvb3B8bWF0Y2h8bW9kfG1vdmV8bXV0fG9mZnNldG9mfG9uY2V8b3ZlcnJpZGV8cHJpdnxwdWJ8cHVyZXxyZWZ8cmV0dXJufHNpemVvZnxzdGF0aWN8c2VsZnxzdHJ1Y3R8c3VwZXJ8dHJ1ZXx0cmFpdHx0eXBlfHR5cGVvZnx1bnNhZmV8dW5zaXplZHx1c2V8dmlydHVhbHx3aGVyZXx3aGlsZXx5aWVsZClcYi8sYXR0cmlidXRlOntwYXR0ZXJuOi8jIT9cWy4rP1xdLyxncmVlZHk6ITAsYWxpYXM6ImF0dHItbmFtZSJ9LCJmdW5jdGlvbiI6Wy9bYS16MC05X10rKD89XHMqXCgpL2ksL1thLXowLTlfXSshKD89XHMqXCh8XFspL2ldLCJtYWNyby1ydWxlcyI6e3BhdHRlcm46L1thLXowLTlfXSshL2ksYWxpYXM6ImZ1bmN0aW9uIn0sbnVtYmVyOi9cYi0/KD86MHhbXGRBLUZhLWZdKD86Xz9bXGRBLUZhLWZdKSp8MG9bMC03XSg/Ol8/WzAtN10pKnwwYlswMV0oPzpfP1swMV0pKnwoXGQoXz9cZCkqKT9cLj9cZChfP1xkKSooW0VlXVsrLV0/XGQrKT8pKD86Xz8oPzpbaXVdKD86OHwxNnwzMnw2NCk/fGYzMnxmNjQpKT9cYi8sImNsb3N1cmUtcGFyYW1zIjp7cGF0dGVybjovXHxbXnxdKlx8KD89XHMqW3stXSkvLGluc2lkZTp7cHVuY3R1YXRpb246L1tcfDosXS8sb3BlcmF0b3I6L1smKl0vfX0scHVuY3R1YXRpb246L1t7fVtcXTsoKSw6XXxcLit8LT4vLG9wZXJhdG9yOi9bLSsqXC8lIV49XT0/fEB8JlsmPV0/fFx8W3w9XT98PDw/PT98Pj4/PT8vfTsKUHJpc20ubGFuZ3VhZ2VzLnNhcz17ZGF0YWxpbmVzOntwYXR0ZXJuOi9eXHMqKD86KD86ZGF0YSk/bGluZXN8Y2FyZHMpO1tcc1xTXSs/KD86XHI/XG58XHIpOy9pbSxhbGlhczoic3RyaW5nIixpbnNpZGU6e2tleXdvcmQ6e3BhdHRlcm46L14oXHMqKSg/Oig/OmRhdGEpP2xpbmVzfGNhcmRzKS9pLGxvb2tiZWhpbmQ6ITB9LHB1bmN0dWF0aW9uOi87L319LGNvbW1lbnQ6W3twYXR0ZXJuOi8oXlxzKnw7XHMqKVwqLio7L20sbG9va2JlaGluZDohMH0sL1wvXCpbXHNcU10rP1wqXC8vXSxkYXRldGltZTp7cGF0dGVybjovJ1teJ10rJyg/OmR0P3x0KVxiL2ksYWxpYXM6Im51bWJlciJ9LHN0cmluZzp7cGF0dGVybjovKFsiJ10pKD86XDFcMXwoPyFcMSlbXHNcU10pKlwxLyxncmVlZHk6ITB9LGtleXdvcmQ6L1xiKD86ZGF0YXxlbHNlfGZvcm1hdHxpZnxpbnB1dHxwcm9jXHNcdyt8cXVpdHxydW58dGhlbilcYi9pLG51bWJlcjovKD86XEItfFxiKSg/OltcZGEtZl0reHxcZCsoPzpcLlxkKyk/KD86ZVsrLV0/XGQrKT8pL2ksb3BlcmF0b3I6L1wqXCo/fFx8XHw/fCEhP3zCpsKmP3w8Wz49XT98Pls8PV0/fFstK1wvPSZdfFt+wqxeXT0/fFxiKD86ZXF8bmV8Z3R8bHR8Z2V8bGV8aW58bm90KVxiL2kscHVuY3R1YXRpb246L1skJUAuKCl7fVxbXF07LFxcXS99OwohZnVuY3Rpb24oZSl7ZS5sYW5ndWFnZXMuc2Fzcz1lLmxhbmd1YWdlcy5leHRlbmQoImNzcyIse2NvbW1lbnQ6e3BhdHRlcm46L14oWyBcdF0qKVwvW1wvKl0uKig/Oig/OlxyP1xufFxyKVwxWyBcdF0rLispKi9tLGxvb2tiZWhpbmQ6ITB9fSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJzYXNzIiwiYXRydWxlIix7ImF0cnVsZS1saW5lIjp7cGF0dGVybjovXig/OlsgXHRdKilbQCs9XS4rL20saW5zaWRlOnthdHJ1bGU6Lyg/OkBbXHctXSt8Wys9XSkvbX19fSksZGVsZXRlIGUubGFuZ3VhZ2VzLnNhc3MuYXRydWxlO3ZhciBhPS8oKFwkWy1fXHddKyl8KCNce1wkWy1fXHddK1x9KSkvaSx0PVsvWysqXC8lXXxbPSFdPXw8PT98Pj0/fFxiKD86YW5kfG9yfG5vdClcYi8se3BhdHRlcm46LyhccyspLSg/PVxzKS8sbG9va2JlaGluZDohMH1dO2UubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgic2FzcyIsInByb3BlcnR5Iix7InZhcmlhYmxlLWxpbmUiOntwYXR0ZXJuOi9eWyBcdF0qXCQuKy9tLGluc2lkZTp7cHVuY3R1YXRpb246LzovLHZhcmlhYmxlOmEsb3BlcmF0b3I6dH19LCJwcm9wZXJ0eS1saW5lIjp7cGF0dGVybjovXlsgXHRdKig/OlteOlxzXSsgKjouKnw6W146XHNdKy4qKS9tLGluc2lkZTp7cHJvcGVydHk6Wy9bXjpcc10rKD89XHMqOikvLHtwYXR0ZXJuOi8oOilbXjpcc10rLyxsb29rYmVoaW5kOiEwfV0scHVuY3R1YXRpb246LzovLHZhcmlhYmxlOmEsb3BlcmF0b3I6dCxpbXBvcnRhbnQ6ZS5sYW5ndWFnZXMuc2Fzcy5pbXBvcnRhbnR9fX0pLGRlbGV0ZSBlLmxhbmd1YWdlcy5zYXNzLnByb3BlcnR5LGRlbGV0ZSBlLmxhbmd1YWdlcy5zYXNzLmltcG9ydGFudCxkZWxldGUgZS5sYW5ndWFnZXMuc2Fzcy5zZWxlY3RvcixlLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoInNhc3MiLCJwdW5jdHVhdGlvbiIse3NlbGVjdG9yOntwYXR0ZXJuOi8oWyBcdF0qKVxTKD86LD9bXixcclxuXSspKig/OiwoPzpccj9cbnxccilcMVsgXHRdK1xTKD86LD9bXixcclxuXSspKikqLyxsb29rYmVoaW5kOiEwfX0pfShQcmlzbSk7ClByaXNtLmxhbmd1YWdlcy5zY3NzPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoImNzcyIse2NvbW1lbnQ6e3BhdHRlcm46LyhefFteXFxdKSg/OlwvXCpbXHdcV10qP1wqXC98XC9cLy4qKS8sbG9va2JlaGluZDohMH0sYXRydWxlOntwYXR0ZXJuOi9AW1x3LV0rKD86XChbXigpXStcKXxbXihdKSo/KD89XHMrW3s7XSkvLGluc2lkZTp7cnVsZTovQFtcdy1dKy99fSx1cmw6Lyg/OlstYS16XSstKSp1cmwoPz1cKCkvaSxzZWxlY3Rvcjp7cGF0dGVybjovKD89XFMpW15AO1x7XH1cKFwpXT8oW15AO1x7XH1cKFwpXXwmfCNce1wkWy1fXHddK1x9KSsoPz1ccypceyhcfXxcc3xbXlx9XSsoOnxceylbXlx9XSspKS9tLGluc2lkZTp7cGFyZW50OntwYXR0ZXJuOi8mLyxhbGlhczoiaW1wb3J0YW50In0scGxhY2Vob2xkZXI6LyVbLV9cd10rLyx2YXJpYWJsZTovXCRbLV9cd10rfCNce1wkWy1fXHddK1x9L319fSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgic2NzcyIsImF0cnVsZSIse2tleXdvcmQ6Wy9AKD86aWZ8ZWxzZSg/OiBpZik/fGZvcnxlYWNofHdoaWxlfGltcG9ydHxleHRlbmR8ZGVidWd8d2FybnxtaXhpbnxpbmNsdWRlfGZ1bmN0aW9ufHJldHVybnxjb250ZW50KS9pLHtwYXR0ZXJuOi8oICspKD86ZnJvbXx0aHJvdWdoKSg/PSApLyxsb29rYmVoaW5kOiEwfV19KSxQcmlzbS5sYW5ndWFnZXMuc2Nzcy5wcm9wZXJ0eT17cGF0dGVybjovKD86W1x3LV18XCRbLV9cd10rfCNce1wkWy1fXHddK1x9KSsoPz1ccyo6KS9pLGluc2lkZTp7dmFyaWFibGU6L1wkWy1fXHddK3wjXHtcJFstX1x3XStcfS99fSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJzY3NzIiwiaW1wb3J0YW50Iix7dmFyaWFibGU6L1wkWy1fXHddK3wjXHtcJFstX1x3XStcfS99KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJzY3NzIiwiZnVuY3Rpb24iLHtwbGFjZWhvbGRlcjp7cGF0dGVybjovJVstX1x3XSsvLGFsaWFzOiJzZWxlY3RvciJ9LHN0YXRlbWVudDp7cGF0dGVybjovXEIhKD86ZGVmYXVsdHxvcHRpb25hbClcYi9pLGFsaWFzOiJrZXl3b3JkIn0sImJvb2xlYW4iOi9cYig/OnRydWV8ZmFsc2UpXGIvLCJudWxsIjovXGJudWxsXGIvLG9wZXJhdG9yOntwYXR0ZXJuOi8oXHMpKD86Wy0rKlwvJV18Wz0hXT18PD0/fD49P3xhbmR8b3J8bm90KSg/PVxzKS8sbG9va2JlaGluZDohMH19KSxQcmlzbS5sYW5ndWFnZXMuc2Nzcy5hdHJ1bGUuaW5zaWRlLnJlc3Q9UHJpc20udXRpbC5jbG9uZShQcmlzbS5sYW5ndWFnZXMuc2Nzcyk7ClByaXNtLmxhbmd1YWdlcy5zY2FsYT1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCJqYXZhIix7a2V5d29yZDovPC18PT58XGIoPzphYnN0cmFjdHxjYXNlfGNhdGNofGNsYXNzfGRlZnxkb3xlbHNlfGV4dGVuZHN8ZmluYWx8ZmluYWxseXxmb3J8Zm9yU29tZXxpZnxpbXBsaWNpdHxpbXBvcnR8bGF6eXxtYXRjaHxuZXd8bnVsbHxvYmplY3R8b3ZlcnJpZGV8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxyZXR1cm58c2VhbGVkfHNlbGZ8c3VwZXJ8dGhpc3x0aHJvd3x0cmFpdHx0cnl8dHlwZXx2YWx8dmFyfHdoaWxlfHdpdGh8eWllbGQpXGIvLHN0cmluZzpbe3BhdHRlcm46LyIiIltcV1x3XSo/IiIiLyxncmVlZHk6ITB9LHtwYXR0ZXJuOi8oInwnKSg/OlxcXFx8XFw/W15cXFxyXG5dKSo/XDEvLGdyZWVkeTohMH1dLGJ1aWx0aW46L1xiKD86U3RyaW5nfEludHxMb25nfFNob3J0fEJ5dGV8Qm9vbGVhbnxEb3VibGV8RmxvYXR8Q2hhcnxBbnl8QW55UmVmfEFueVZhbHxVbml0fE5vdGhpbmcpXGIvLG51bWJlcjovXGIoPzoweFtcZGEtZl0qXC4/W1xkYS1mXSt8XGQqXC4/XGQrZT9cZCpbZGZsXT8pXGIvaSxzeW1ib2w6LydbXlxkXHNcXF1cdyovfSksZGVsZXRlIFByaXNtLmxhbmd1YWdlcy5zY2FsYVsiY2xhc3MtbmFtZSJdLGRlbGV0ZSBQcmlzbS5sYW5ndWFnZXMuc2NhbGFbImZ1bmN0aW9uIl07ClByaXNtLmxhbmd1YWdlcy5zY2hlbWU9e2NvbW1lbnQ6LzsuKi8sc3RyaW5nOntwYXR0ZXJuOi8iKD86W14iXFxcclxuXXxcXC4pKj8ifCdbXignXHNdKi8sZ3JlZWR5OiEwfSxrZXl3b3JkOntwYXR0ZXJuOi8oXCgpKD86ZGVmaW5lKD86LXN5bnRheHwtbGlicmFyeXwtdmFsdWVzKT98KD86Y2FzZS0pP2xhbWJkYXxsZXQoPzpcKnxyZWMpPyg/Oi12YWx1ZXMpP3xlbHNlfGlmfGNvbmR8YmVnaW58ZGVsYXkoPzotZm9yY2UpP3xwYXJhbWV0ZXJpemV8Z3VhcmR8c2V0IXwoPzpxdWFzaS0pP3F1b3RlfHN5bnRheC1ydWxlcykvLGxvb2tiZWhpbmQ6ITB9LGJ1aWx0aW46e3BhdHRlcm46LyhcKCkoPzooPzpjb25zfGNhcnxjZHJ8bGlzdHxjYWxsLXdpdGgtY3VycmVudC1jb250aW51YXRpb258Y2FsbFwvY2N8YXBwZW5kfGFic3xhcHBseXxldmFsKVxifG51bGxcP3xwYWlyXD98Ym9vbGVhblw/fGVvZi1vYmplY3RcP3xjaGFyXD98cHJvY2VkdXJlXD98bnVtYmVyXD98cG9ydFw/fHN0cmluZ1w/fHZlY3Rvclw/fHN5bWJvbFw/fGJ5dGV2ZWN0b3JcPykvLGxvb2tiZWhpbmQ6ITB9LG51bWJlcjp7cGF0dGVybjovKFxzfFwpKVstK10/WzAtOV0qXC4/WzAtOV0rKD86XHMqWy0rXVxzKlswLTldKlwuP1swLTldK2kpP1xiLyxsb29rYmVoaW5kOiEwfSwiYm9vbGVhbiI6LyNbdGZdLyxvcGVyYXRvcjp7cGF0dGVybjovKFwoKSg/OlstKyolXC9dfFs8Pl09P3w9Pj8pLyxsb29rYmVoaW5kOiEwfSwiZnVuY3Rpb24iOntwYXR0ZXJuOi8oXCgpW15ccygpXSooPz1ccykvLGxvb2tiZWhpbmQ6ITB9LHB1bmN0dWF0aW9uOi9bKCldL307ClByaXNtLmxhbmd1YWdlcy5zbWFsbHRhbGs9e2NvbW1lbnQ6LyIoPzoiInxbXiJdKSsiLyxzdHJpbmc6LycoPzonJ3xbXiddKSsnLyxzeW1ib2w6LyNbXGRhLXpdK3wjKD86LXwoWytcL1xcKn48Pj1AJXwmPyFdKVwxPyl8Iyg/PVwoKS9pLCJibG9jay1hcmd1bWVudHMiOntwYXR0ZXJuOi8oXFtccyopOlteXFt8XSo/XHwvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnt2YXJpYWJsZTovOltcZGEtel0rL2kscHVuY3R1YXRpb246L1x8L319LCJ0ZW1wb3JhcnktdmFyaWFibGVzIjp7cGF0dGVybjovXHxbXnxdK1x8LyxpbnNpZGU6e3ZhcmlhYmxlOi9bXGRhLXpdKy9pLHB1bmN0dWF0aW9uOi9cfC99fSxrZXl3b3JkOi9cYig/Om5pbHx0cnVlfGZhbHNlfHNlbGZ8c3VwZXJ8bmV3KVxiLyxjaGFyYWN0ZXI6e3BhdHRlcm46L1wkLi8sYWxpYXM6InN0cmluZyJ9LG51bWJlcjpbL1xkK3ItP1tcZEEtWl0rKD86XC5bXGRBLVpdKyk/KD86ZS0/XGQrKT8vLC8oPzpcQi18XGIpXGQrKD86XC5cZCspPyg/OmUtP1xkKyk/L10sb3BlcmF0b3I6L1s8PV09P3w6PXx+W349XXxcL1wvP3xcXFxcfD5bPj1dP3xbIV4rXC0qJnwsQF0vLHB1bmN0dWF0aW9uOi9bLjs6P1xbXF0oKXt9XS99OwohZnVuY3Rpb24oZSl7dmFyIHQ9L1x7XCpbXHdcV10rP1wqXH18XHtbXHdcV10rP1x9L2csYT0ie2xpdGVyYWx9IixuPSJ7L2xpdGVyYWx9IixvPSExO2UubGFuZ3VhZ2VzLnNtYXJ0eT1lLmxhbmd1YWdlcy5leHRlbmQoIm1hcmt1cCIse3NtYXJ0eTp7cGF0dGVybjp0LGluc2lkZTp7ZGVsaW1pdGVyOntwYXR0ZXJuOi9eXHt8XH0kL2ksYWxpYXM6InB1bmN0dWF0aW9uIn0sc3RyaW5nOi8oWyInXSkoPzpcXD8uKSo/XDEvLG51bWJlcjovXGItPyg/OjB4W1xkQS1GYS1mXSt8XGQqXC4/XGQrKD86W0VlXVstK10/XGQrKT8pXGIvLHZhcmlhYmxlOlsvXCQoPyFcZClcdysvLC8jKD8hXGQpXHcrIy8se3BhdHRlcm46LyhcLnwtPikoPyFcZClcdysvLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXFspKD8hXGQpXHcrKD89XF0pLyxsb29rYmVoaW5kOiEwfV0sImZ1bmN0aW9uIjpbe3BhdHRlcm46LyhcfFxzKilAPyg/IVxkKVx3Ky8sbG9va2JlaGluZDohMH0sL15cLz8oPyFcZClcdysvLC8oPyFcZClcdysoPz1cKCkvXSwiYXR0ci1uYW1lIjp7cGF0dGVybjovXHcrXHMqPVxzKig/Oig/IVxkKVx3Kyk/LyxpbnNpZGU6e3ZhcmlhYmxlOntwYXR0ZXJuOi8oPVxzKikoPyFcZClcdysvLGxvb2tiZWhpbmQ6ITB9LG9wZXJhdG9yOi89L319LHB1bmN0dWF0aW9uOlsvW1xbXF0oKS4sOmBdfFwtPi9dLG9wZXJhdG9yOlsvWytcLSpcLyVdfD09Pz0/fFshPD5dPT98JiZ8XHxcfD8vLC9cYmlzXHMrKD86bm90XHMrKT8oPzpkaXZ8ZXZlbnxvZGQpKD86XHMrYnkpP1xiLywvXGIoPzplcXxuZXE/fGd0fGx0fGd0P2V8bHQ/ZXxub3R8bW9kfG9yfGFuZClcYi9dLGtleXdvcmQ6L1xiKD86ZmFsc2V8b2ZmfG9ufG5vfHRydWV8eWVzKVxiL319fSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJzbWFydHkiLCJ0YWciLHsic21hcnR5LWNvbW1lbnQiOntwYXR0ZXJuOi9ce1wqW1x3XFddKj9cKlx9LyxhbGlhczpbInNtYXJ0eSIsImNvbW1lbnQiXX19KSxlLmhvb2tzLmFkZCgiYmVmb3JlLWhpZ2hsaWdodCIsZnVuY3Rpb24oZSl7InNtYXJ0eSI9PT1lLmxhbmd1YWdlJiYoZS50b2tlblN0YWNrPVtdLGUuYmFja3VwQ29kZT1lLmNvZGUsZS5jb2RlPWUuY29kZS5yZXBsYWNlKHQsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1uJiYobz0hMSksbz90Oih0PT09YSYmKG89ITApLGUudG9rZW5TdGFjay5wdXNoKHQpLCJfX19TTUFSVFkiK2UudG9rZW5TdGFjay5sZW5ndGgrIl9fXyIpfSkpfSksZS5ob29rcy5hZGQoImJlZm9yZS1pbnNlcnQiLGZ1bmN0aW9uKGUpeyJzbWFydHkiPT09ZS5sYW5ndWFnZSYmKGUuY29kZT1lLmJhY2t1cENvZGUsZGVsZXRlIGUuYmFja3VwQ29kZSl9KSxlLmhvb2tzLmFkZCgiYWZ0ZXItaGlnaGxpZ2h0IixmdW5jdGlvbih0KXtpZigic21hcnR5Ij09PXQubGFuZ3VhZ2Upe2Zvcih2YXIgYSxuPTA7YT10LnRva2VuU3RhY2tbbl07bisrKXQuaGlnaGxpZ2h0ZWRDb2RlPXQuaGlnaGxpZ2h0ZWRDb2RlLnJlcGxhY2UoIl9fX1NNQVJUWSIrKG4rMSkrIl9fXyIsZS5oaWdobGlnaHQoYSx0LmdyYW1tYXIsInNtYXJ0eSIpLnJlcGxhY2UoL1wkL2csIiQkJCQiKSk7dC5lbGVtZW50LmlubmVySFRNTD10LmhpZ2hsaWdodGVkQ29kZX19KX0oUHJpc20pOwpQcmlzbS5sYW5ndWFnZXMuc3FsPXtjb21tZW50OntwYXR0ZXJuOi8oXnxbXlxcXSkoPzpcL1wqW1x3XFddKj9cKlwvfCg/Oi0tfFwvXC98IykuKikvLGxvb2tiZWhpbmQ6ITB9LHN0cmluZzp7cGF0dGVybjovKF58W15AXFxdKSgifCcpKD86XFw/W1xzXFNdKSo/XDIvLGdyZWVkeTohMCxsb29rYmVoaW5kOiEwfSx2YXJpYWJsZTovQFtcdy4kXSt8QCgifCd8YCkoPzpcXD9bXHNcU10pKz9cMS8sImZ1bmN0aW9uIjovXGIoPzpDT1VOVHxTVU18QVZHfE1JTnxNQVh8RklSU1R8TEFTVHxVQ0FTRXxMQ0FTRXxNSUR8TEVOfFJPVU5EfE5PV3xGT1JNQVQpKD89XHMqXCgpL2ksa2V5d29yZDovXGIoPzpBQ1RJT058QUREfEFGVEVSfEFMR09SSVRITXxBTEx8QUxURVJ8QU5BTFlaRXxBTll8QVBQTFl8QVN8QVNDfEFVVEhPUklaQVRJT058QVVUT19JTkNSRU1FTlR8QkFDS1VQfEJEQnxCRUdJTnxCRVJLRUxFWURCfEJJR0lOVHxCSU5BUll8QklUfEJMT0J8Qk9PTHxCT09MRUFOfEJSRUFLfEJST1dTRXxCVFJFRXxCVUxLfEJZfENBTEx8Q0FTQ0FERUQ/fENBU0V8Q0hBSU58Q0hBUiBWQVJZSU5HfENIQVJBQ1RFUiAoPzpTRVR8VkFSWUlORyl8Q0hBUlNFVHxDSEVDS3xDSEVDS1BPSU5UfENMT1NFfENMVVNURVJFRHxDT0FMRVNDRXxDT0xMQVRFfENPTFVNTnxDT0xVTU5TfENPTU1FTlR8Q09NTUlUfENPTU1JVFRFRHxDT01QVVRFfENPTk5FQ1R8Q09OU0lTVEVOVHxDT05TVFJBSU5UfENPTlRBSU5TfENPTlRBSU5TVEFCTEV8Q09OVElOVUV8Q09OVkVSVHxDUkVBVEV8Q1JPU1N8Q1VSUkVOVCg/Ol9EQVRFfF9USU1FfF9USU1FU1RBTVB8X1VTRVIpP3xDVVJTT1J8REFUQSg/OkJBU0VTPyk/fERBVEUoPzpUSU1FKT98REJDQ3xERUFMTE9DQVRFfERFQ3xERUNJTUFMfERFQ0xBUkV8REVGQVVMVHxERUZJTkVSfERFTEFZRUR8REVMRVRFfERFTElNSVRFUig/OlMpP3xERU5ZfERFU0N8REVTQ1JJQkV8REVURVJNSU5JU1RJQ3xESVNBQkxFfERJU0NBUkR8RElTS3xESVNUSU5DVHxESVNUSU5DVFJPV3xESVNUUklCVVRFRHxET3xET1VCTEUoPzogUFJFQ0lTSU9OKT98RFJPUHxEVU1NWXxEVU1QKD86RklMRSk/fERVUExJQ0FURSBLRVl8RUxTRXxFTkFCTEV8RU5DTE9TRUQgQll8RU5EfEVOR0lORXxFTlVNfEVSUkxWTHxFUlJPUlN8RVNDQVBFKD86RCBCWSk/fEVYQ0VQVHxFWEVDKD86VVRFKT98RVhJU1RTfEVYSVR8RVhQTEFJTnxFWFRFTkRFRHxGRVRDSHxGSUVMRFN8RklMRXxGSUxMRkFDVE9SfEZJUlNUfEZJWEVEfEZMT0FUfEZPTExPV0lOR3xGT1IoPzogRUFDSCBST1cpP3xGT1JDRXxGT1JFSUdOfEZSRUVURVhUKD86VEFCTEUpP3xGUk9NfEZVTEx8RlVOQ1RJT058R0VPTUVUUlkoPzpDT0xMRUNUSU9OKT98R0xPQkFMfEdPVE98R1JBTlR8R1JPVVB8SEFORExFUnxIQVNIfEhBVklOR3xIT0xETE9DS3xJREVOVElUWSg/Ol9JTlNFUlR8Q09MKT98SUZ8SUdOT1JFfElNUE9SVHxJTkRFWHxJTkZJTEV8SU5ORVJ8SU5OT0RCfElOT1VUfElOU0VSVHxJTlR8SU5URUdFUnxJTlRFUlNFQ1R8SU5UT3xJTlZPS0VSfElTT0xBVElPTiBMRVZFTHxKT0lOfEtFWVM/fEtJTEx8TEFOR1VBR0UgU1FMfExBU1R8TEVGVHxMSU1JVHxMSU5FTk98TElORVN8TElORVNUUklOR3xMT0FEfExPQ0FMfExPQ0t8TE9ORyg/OkJMT0J8VEVYVCl8TUFUQ0goPzpFRCk/fE1FRElVTSg/OkJMT0J8SU5UfFRFWFQpfE1FUkdFfE1JRERMRUlOVHxNT0RJRklFUyBTUUwgREFUQXxNT0RJRll8TVVMVEkoPzpMSU5FU1RSSU5HfFBPSU5UfFBPTFlHT04pfE5BVElPTkFMKD86IENIQVIgVkFSWUlOR3wgQ0hBUkFDVEVSKD86IFZBUllJTkcpP3wgVkFSQ0hBUik/fE5BVFVSQUx8TkNIQVIoPzogVkFSQ0hBUik/fE5FWFR8Tk8oPzogU1FMfENIRUNLfENZQ0xFKT98Tk9OQ0xVU1RFUkVEfE5VTExJRnxOVU1FUklDfE9GRj98T0ZGU0VUUz98T058T1BFTig/OkRBVEFTT1VSQ0V8UVVFUll8Uk9XU0VUKT98T1BUSU1JWkV8T1BUSU9OKD86QUxMWSk/fE9SREVSfE9VVCg/OkVSfEZJTEUpP3xPVkVSfFBBUlRJQUx8UEFSVElUSU9OfFBFUkNFTlR8UElWT1R8UExBTnxQT0lOVHxQT0xZR09OfFBSRUNFRElOR3xQUkVDSVNJT058UFJFVnxQUklNQVJZfFBSSU5UfFBSSVZJTEVHRVN8UFJPQyg/OkVEVVJFKT98UFVCTElDfFBVUkdFfFFVSUNLfFJBSVNFUlJPUnxSRUFEKD86UyBTUUwgREFUQXxURVhUKT98UkVBTHxSRUNPTkZJR1VSRXxSRUZFUkVOQ0VTfFJFTEVBU0V8UkVOQU1FfFJFUEVBVEFCTEV8UkVQTElDQVRJT058UkVRVUlSRXxSRVNUT1JFfFJFU1RSSUNUfFJFVFVSTlM/fFJFVk9LRXxSSUdIVHxST0xMQkFDS3xST1VUSU5FfFJPVyg/OkNPVU5UfEdVSURDT0x8Uyk/fFJUUkVFfFJVTEV8U0FWRSg/OlBPSU5UKT98U0NIRU1BfFNFTEVDVHxTRVJJQUwoPzpJWkFCTEUpP3xTRVNTSU9OKD86X1VTRVIpP3xTRVQoPzpVU0VSKT98U0hBUkUgTU9ERXxTSE9XfFNIVVRET1dOfFNJTVBMRXxTTUFMTElOVHxTTkFQU0hPVHxTT01FfFNPTkFNRXxTVEFSVCg/OklORyBCWSk/fFNUQVRJU1RJQ1N8U1RBVFVTfFNUUklQRUR8U1lTVEVNX1VTRVJ8VEFCTEVTP3xUQUJMRVNQQUNFfFRFTVAoPzpPUkFSWXxUQUJMRSk/fFRFUk1JTkFURUQgQll8VEVYVCg/OlNJWkUpP3xUSEVOfFRJTUVTVEFNUHxUSU5ZKD86QkxPQnxJTlR8VEVYVCl8VE9QP3xUUkFOKD86U0FDVElPTlM/KT98VFJJR0dFUnxUUlVOQ0FURXxUU0VRVUFMfFRZUEVTP3xVTkJPVU5ERUR8VU5DT01NSVRURUR8VU5ERUZJTkVEfFVOSU9OfFVOSVFVRXxVTlBJVk9UfFVQREFURSg/OlRFWFQpP3xVU0FHRXxVU0V8VVNFUnxVU0lOR3xWQUxVRVM/fFZBUig/OkJJTkFSWXxDSEFSfENIQVJBQ1RFUnxZSU5HKXxWSUVXfFdBSVRGT1J8V0FSTklOR1N8V0hFTnxXSEVSRXxXSElMRXxXSVRIKD86IFJPTExVUHxJTik/fFdPUkt8V1JJVEUoPzpURVhUKT8pXGIvaSwiYm9vbGVhbiI6L1xiKD86VFJVRXxGQUxTRXxOVUxMKVxiL2ksbnVtYmVyOi9cYi0/KD86MHgpP1xkKlwuP1tcZGEtZl0rXGIvLG9wZXJhdG9yOi9bLSsqXC89JV5+XXwmJj98XHw/XHx8IT0/fDwoPzo9Pj98PHw+KT98Pls+PV0/fFxiKD86QU5EfEJFVFdFRU58SU58TElLRXxOT1R8T1J8SVN8RElWfFJFR0VYUHxSTElLRXxTT1VORFMgTElLRXxYT1IpXGIvaSxwdW5jdHVhdGlvbjovWztbXF0oKWAsLl0vfTsKIWZ1bmN0aW9uKG4pe3ZhciB0PXt1cmw6L3VybFwoKFsiJ10/KS4qP1wxXCkvaSxzdHJpbmc6e3BhdHRlcm46LygifCcpKD86W15cXFxyXG5dfFxcKD86XHJcbnxbXHNcU10pKSo/XDEvLGdyZWVkeTohMH0saW50ZXJwb2xhdGlvbjpudWxsLGZ1bmM6bnVsbCxpbXBvcnRhbnQ6L1xCISg/OmltcG9ydGFudHxvcHRpb25hbClcYi9pLGtleXdvcmQ6e3BhdHRlcm46LyhefFxzKykoPzooPzppZnxlbHNlfGZvcnxyZXR1cm58dW5sZXNzKSg/PVxzK3wkKXxAW1x3LV0rKS8sbG9va2JlaGluZDohMH0saGV4Y29kZTovI1tcZGEtZl17Myw2fS9pLG51bWJlcjovXGJcZCsoPzpcLlxkKyk/JT8vLCJib29sZWFuIjovXGIoPzp0cnVlfGZhbHNlKVxiLyxvcGVyYXRvcjpbL358WyshXC8lPD4/PV09P3xbLTpdPXxcKlsqPV0/fFwuK3wmJnxcfFx8fFxCLVxCfFxiKD86YW5kfGlufGlzKD86IGF8IGRlZmluZWR8IG5vdHxudCk/fG5vdHxvcilcYi9dLHB1bmN0dWF0aW9uOi9be30oKVxbXF07OixdL307dC5pbnRlcnBvbGF0aW9uPXtwYXR0ZXJuOi9ce1teXHJcbn06XStcfS8sYWxpYXM6InZhcmlhYmxlIixpbnNpZGU6bi51dGlsLmNsb25lKHQpfSx0LmZ1bmM9e3BhdHRlcm46L1tcdy1dK1woW14pXSpcKS4qLyxpbnNpZGU6eyJmdW5jdGlvbiI6L15bXihdKy8scmVzdDpuLnV0aWwuY2xvbmUodCl9fSxuLmxhbmd1YWdlcy5zdHlsdXM9e2NvbW1lbnQ6e3BhdHRlcm46LyhefFteXFxdKShcL1wqW1x3XFddKj9cKlwvfFwvXC8uKikvLGxvb2tiZWhpbmQ6ITB9LCJhdHJ1bGUtZGVjbGFyYXRpb24iOntwYXR0ZXJuOi8oXlxzKilALisvbSxsb29rYmVoaW5kOiEwLGluc2lkZTp7YXRydWxlOi9eQFtcdy1dKy8scmVzdDp0fX0sInZhcmlhYmxlLWRlY2xhcmF0aW9uIjp7cGF0dGVybjovKF5bIFx0XSopW1x3JC1dK1xzKi4/PVsgXHRdKig/Oig/Olx7W159XSpcfXwuKyl8JCkvbSxsb29rYmVoaW5kOiEwLGluc2lkZTp7dmFyaWFibGU6L15cUysvLHJlc3Q6dH19LHN0YXRlbWVudDp7cGF0dGVybjovKF5bIFx0XSopKD86aWZ8ZWxzZXxmb3J8cmV0dXJufHVubGVzcylbIFx0XSsuKy9tLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntrZXl3b3JkOi9eXFMrLyxyZXN0OnR9fSwicHJvcGVydHktZGVjbGFyYXRpb24iOntwYXR0ZXJuOi8oKD86XnxceykoWyBcdF0qKSkoPzpbXHctXXxce1tefVxyXG5dK1x9KSsoPzpccyo6XHMqfFsgXHRdKylbXntcclxuXSooPzo7fFtee1xyXG4sXSg/PSQpKD8hKFxyP1xufFxyKSg/Olx7fFwyWyBcdF0rKSkpL20sbG9va2JlaGluZDohMCxpbnNpZGU6e3Byb3BlcnR5OntwYXR0ZXJuOi9eW15cczpdKy8saW5zaWRlOntpbnRlcnBvbGF0aW9uOnQuaW50ZXJwb2xhdGlvbn19LHJlc3Q6dH19LHNlbGVjdG9yOntwYXR0ZXJuOi8oXlsgXHRdKikoPzooPz1cUykoPzpbXnt9XHJcbjooKV18Ojo/W1x3LV0rKD86XChbXilcclxuXSpcKSk/fFx7W159XHJcbl0rXH0pKykoPzooPzpccj9cbnxccikoPzpcMSg/Oig/PVxTKSg/Oltee31cclxuOigpXXw6Oj9bXHctXSsoPzpcKFteKVxyXG5dKlwpKT98XHtbXn1cclxuXStcfSkrKSkpKig/OiwkfFx7fCg/PSg/OlxyP1xufFxyKSg/Olx7fFwxWyBcdF0rKSkpL20sbG9va2JlaGluZDohMCxpbnNpZGU6e2ludGVycG9sYXRpb246dC5pbnRlcnBvbGF0aW9uLHB1bmN0dWF0aW9uOi9be30sXS99fSxmdW5jOnQuZnVuYyxzdHJpbmc6dC5zdHJpbmcsaW50ZXJwb2xhdGlvbjp0LmludGVycG9sYXRpb24scHVuY3R1YXRpb246L1t7fSgpXFtcXTs6Ll0vfX0oUHJpc20pOwpQcmlzbS5sYW5ndWFnZXMuc3dpZnQ9UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgiY2xpa2UiLHtzdHJpbmc6e3BhdHRlcm46LygifCcpKFxcKD86XCgoPzpbXigpXXxcKFteKV0rXCkpK1wpfFxyXG58W1xzXFNdKXwoPyFcMSlbXlxcXHJcbl0pKlwxLyxncmVlZHk6ITAsaW5zaWRlOntpbnRlcnBvbGF0aW9uOntwYXR0ZXJuOi9cXFwoKD86W14oKV18XChbXildK1wpKStcKS8saW5zaWRlOntkZWxpbWl0ZXI6e3BhdHRlcm46L15cXFwofFwpJC8sYWxpYXM6InZhcmlhYmxlIn19fX19LGtleXdvcmQ6L1xiKGFzfGFzc29jaWF0aXZpdHl8YnJlYWt8Y2FzZXxjYXRjaHxjbGFzc3xjb250aW51ZXxjb252ZW5pZW5jZXxkZWZhdWx0fGRlZmVyfGRlaW5pdHxkaWRTZXR8ZG98ZHluYW1pYyg/OlR5cGUpP3xlbHNlfGVudW18ZXh0ZW5zaW9ufGZhbGx0aHJvdWdofGZpbmFsfGZvcnxmdW5jfGdldHxndWFyZHxpZnxpbXBvcnR8aW58aW5maXh8aW5pdHxpbm91dHxpbnRlcm5hbHxpc3xsYXp5fGxlZnR8bGV0fG11dGF0aW5nfG5ld3xub25lfG5vbm11dGF0aW5nfG9wZXJhdG9yfG9wdGlvbmFsfG92ZXJyaWRlfHBvc3RmaXh8cHJlY2VkZW5jZXxwcmVmaXh8cHJpdmF0ZXxQcm90b2NvbHxwdWJsaWN8cmVwZWF0fHJlcXVpcmVkfHJldGhyb3dzfHJldHVybnxyaWdodHxzYWZlfHNlbGZ8U2VsZnxzZXR8c3RhdGljfHN0cnVjdHxzdWJzY3JpcHR8c3VwZXJ8c3dpdGNofHRocm93cz98dHJ5fFR5cGV8dHlwZWFsaWFzfHVub3duZWR8dW5zYWZlfHZhcnx3ZWFrfHdoZXJlfHdoaWxlfHdpbGxTZXR8X18oPzpDT0xVTU5fX3xGSUxFX198RlVOQ1RJT05fX3xMSU5FX18pKVxiLyxudW1iZXI6L1xiKFtcZF9dKyhcLltcZGVfXSspP3wweFthLWYwLTlfXSsoXC5bYS1mMC05cF9dKyk/fDBiWzAxX10rfDBvWzAtN19dKylcYi9pLGNvbnN0YW50Oi9cYihuaWx8W0EtWl9dezIsfXxrW0EtWl1bQS1aYS16X10rKVxiLyxhdHJ1bGU6L0BcYihJQig/Ok91dGxldHxEZXNpZ25hYmxlfEFjdGlvbnxJbnNwZWN0YWJsZSl8Y2xhc3NfcHJvdG9jb2x8ZXhwb3J0ZWR8bm9yZXR1cm58TlMoPzpDb3B5aW5nfE1hbmFnZWQpfG9iamN8VUlBcHBsaWNhdGlvbk1haW58YXV0b19jbG9zdXJlKVxiLyxidWlsdGluOi9cYihbQS1aXVxTK3xhYnN8YWR2YW5jZXxhbGlnbm9mKD86VmFsdWUpP3xhc3NlcnR8Y29udGFpbnN8Y291bnQoPzpFbGVtZW50cyk/fGRlYnVnUHJpbnQoPzpsbik/fGRpc3RhbmNlfGRyb3AoPzpGaXJzdHxMYXN0KXxkdW1wfGVudW1lcmF0ZXxlcXVhbHxmaWx0ZXJ8ZmluZHxmaXJzdHxnZXRWYUxpc3R8aW5kaWNlc3xpc0VtcHR5fGpvaW58bGFzdHxsZXhpY29ncmFwaGljYWxDb21wYXJlfG1hcHxtYXgoPzpFbGVtZW50KT98bWluKD86RWxlbWVudCk/fG51bWVyaWNDYXN0fG92ZXJsYXBzfHBhcnRpdGlvbnxwcmludCg/OmxuKT98cmVkdWNlfHJlZmxlY3R8cmV2ZXJzZXxzaXplb2YoPzpWYWx1ZSk/fHNvcnQoPzplZCk/fHNwbGl0fHN0YXJ0c1dpdGh8c3RyaWRlKD86b2YoPzpWYWx1ZSk/KT98c3VmZml4fHN3YXB8dG9EZWJ1Z1N0cmluZ3x0b1N0cmluZ3x0cmFuc2NvZGV8dW5kZXJlc3RpbWF0ZUNvdW50fHVuc2FmZUJpdENhc3R8d2l0aCg/OkV4dGVuZGVkTGlmZXRpbWV8VW5zYWZlKD86TXV0YWJsZVBvaW50ZXJzP3xQb2ludGVycz8pfFZhTGlzdCkpXGIvfSksUHJpc20ubGFuZ3VhZ2VzLnN3aWZ0LnN0cmluZy5pbnNpZGUuaW50ZXJwb2xhdGlvbi5pbnNpZGUucmVzdD1QcmlzbS51dGlsLmNsb25lKFByaXNtLmxhbmd1YWdlcy5zd2lmdCk7ClByaXNtLmxhbmd1YWdlcy50Y2w9e2NvbW1lbnQ6e3BhdHRlcm46LyhefFteXFxdKSMuKi8sbG9va2JlaGluZDohMH0sc3RyaW5nOntwYXR0ZXJuOi8iKD86W14iXFxcclxuXXxcXCg/OlxyXG58W1xzXFNdKSkqIi8sZ3JlZWR5OiEwfSx2YXJpYWJsZTpbe3BhdHRlcm46LyhcJCkoPzo6Oik/KD86W2EtekEtWjAtOV0rOjopKlthLXpBLVowLTlfXSsvLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXCQpe1tefV0rfS8sbG9va2JlaGluZDohMH0se3BhdHRlcm46LyheXHMqc2V0WyBcdF0rKSg/Ojo6KT8oPzpbYS16QS1aMC05XSs6OikqW2EtekEtWjAtOV9dKy9tLGxvb2tiZWhpbmQ6ITB9XSwiZnVuY3Rpb24iOntwYXR0ZXJuOi8oXlxzKnByb2NbIFx0XSspW15cc10rL20sbG9va2JlaGluZDohMH0sYnVpbHRpbjpbe3BhdHRlcm46LyheXHMqKSg/OnByb2N8cmV0dXJufGNsYXNzfGVycm9yfGV2YWx8ZXhpdHxmb3J8Zm9yZWFjaHxpZnxzd2l0Y2h8d2hpbGV8YnJlYWt8Y29udGludWUpXGIvbSxsb29rYmVoaW5kOiEwfSwvXGIoZWxzZWlmfGVsc2UpXGIvXSxzY29wZTp7cGF0dGVybjovKF5ccyopKGdsb2JhbHx1cHZhcnx2YXJpYWJsZSlcYi9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImNvbnN0YW50In0sa2V5d29yZDp7cGF0dGVybjovKF5ccyp8XFspKGFmdGVyfGFwcGVuZHxhcHBseXxhcnJheXxhdXRvXyg/OmV4ZWNva3xpbXBvcnR8bG9hZHxta2luZGV4fHF1YWxpZnl8cmVzZXQpfGF1dG9ta2luZGV4X29sZHxiZ2Vycm9yfGJpbmFyeXxjYXRjaHxjZHxjaGFufGNsb2NrfGNsb3NlfGNvbmNhdHxkZGV8ZGljdHxlbmNvZGluZ3xlb2Z8ZXhlY3xleHByfGZibG9ja2VkfGZjb25maWd1cmV8ZmNvcHl8ZmlsZSg/OmV2ZW50fG5hbWUpP3xmbHVzaHxnZXRzfGdsb2J8aGlzdG9yeXxodHRwfGluY3J8aW5mb3xpbnRlcnB8am9pbnxsYXBwZW5kfGxhc3NpZ258bGluZGV4fGxpbnNlcnR8bGlzdHxsbGVuZ3RofGxvYWR8bHJhbmdlfGxyZXBlYXR8bHJlcGxhY2V8bHJldmVyc2V8bHNlYXJjaHxsc2V0fGxzb3J0fG1hdGgoPzpmdW5jfG9wKXxtZW1vcnl8bXNnY2F0fG5hbWVzcGFjZXxvcGVufHBhY2thZ2V8cGFycmF5fHBpZHxwa2dfbWtJbmRleHxwbGF0Zm9ybXxwdXRzfHB3ZHxyZV9zeW50YXh8cmVhZHxyZWZjaGFufHJlZ2V4cHxyZWdpc3RyeXxyZWdzdWJ8cmVuYW1lfFNhZmVfQmFzZXxzY2FufHNlZWt8c2V0fHNvY2tldHxzb3VyY2V8c3BsaXR8c3RyaW5nfHN1YnN0fFRjbHx0Y2woPzpfZW5kT2ZXb3JkfF9maW5kTGlicmFyeXxzdGFydE9mKD86TmV4dHxQcmV2aW91cylXb3JkfHdvcmRCcmVhayg/OkFmdGVyfEJlZm9yZSl8dGVzdHx2YXJzKXx0ZWxsfHRpbWV8dG18dHJhY2V8dW5rbm93bnx1bmxvYWR8dW5zZXR8dXBkYXRlfHVwbGV2ZWx8dndhaXQpXGIvbSxsb29rYmVoaW5kOiEwfSxvcGVyYXRvcjovIT0/fFwqXCo/fD09fCYmP3xcfFx8P3w8Wz08XT98Pls9Pl0/fFstK35cLyU/Xl18XGIoPzplcXxuZXxpbnxuaSlcYi8scHVuY3R1YXRpb246L1t7fSgpXFtcXV0vfTsKIWZ1bmN0aW9uKGUpe3ZhciBpPSIoPzpcXChbXnwpXStcXCl8XFxbW15cXF1dK1xcXXxcXHtbXn1dK1xcfSkrIixuPXtjc3M6e3BhdHRlcm46L1x7W159XStcfS8saW5zaWRlOntyZXN0OmUubGFuZ3VhZ2VzLmNzc319LCJjbGFzcy1pZCI6e3BhdHRlcm46LyhcKClbXildKyg/PVwpKS8sbG9va2JlaGluZDohMCxhbGlhczoiYXR0ci12YWx1ZSJ9LGxhbmc6e3BhdHRlcm46LyhcWylbXlxdXSsoPz1cXSkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImF0dHItdmFsdWUifSxwdW5jdHVhdGlvbjovW1xcXC9dXGQrfFxTL307ZS5sYW5ndWFnZXMudGV4dGlsZT1lLmxhbmd1YWdlcy5leHRlbmQoIm1hcmt1cCIse3BocmFzZTp7cGF0dGVybjovKF58XHJ8XG4pXFNbXHNcU10qPyg/PSR8XHI/XG5ccj9cbnxcclxyKS8sbG9va2JlaGluZDohMCxpbnNpZGU6eyJibG9jay10YWciOntwYXR0ZXJuOlJlZ0V4cCgiXlthLXpdXFx3Kig/OiIraSsifFs8Pj0oKV0pKlxcLiIpLGluc2lkZTp7bW9kaWZpZXI6e3BhdHRlcm46UmVnRXhwKCIoXlthLXpdXFx3KikoPzoiK2krInxbPD49KCldKSsoPz1cXC4pIiksbG9va2JlaGluZDohMCxpbnNpZGU6ZS51dGlsLmNsb25lKG4pfSx0YWc6L15bYS16XVx3Ki8scHVuY3R1YXRpb246L1wuJC99fSxsaXN0OntwYXR0ZXJuOlJlZ0V4cCgiXlsqI10rKD86IitpKyIpP1xccysuKyIsIm0iKSxpbnNpZGU6e21vZGlmaWVyOntwYXR0ZXJuOlJlZ0V4cCgiKF5bKiNdKykiK2kpLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOmUudXRpbC5jbG9uZShuKX0scHVuY3R1YXRpb246L15bKiNdKy99fSx0YWJsZTp7cGF0dGVybjpSZWdFeHAoIl4oPzooPzoiK2krInxbPD49KClefl0pK1xcLlxccyopPyg/OlxcfCg/Oig/OiIraSsifFs8Pj0oKV5+X118W1xcXFwvXVxcZCspK1xcLik/W158XSopK1xcfCIsIm0iKSxpbnNpZGU6e21vZGlmaWVyOntwYXR0ZXJuOlJlZ0V4cCgiKF58XFx8KD86XFxyP1xcbnxcXHIpPykoPzoiK2krInxbPD49KClefl9dfFtcXFxcL11cXGQrKSsoPz1cXC4pIiksbG9va2JlaGluZDohMCxpbnNpZGU6ZS51dGlsLmNsb25lKG4pfSxwdW5jdHVhdGlvbjovXHx8XlwuL319LGlubGluZTp7cGF0dGVybjpSZWdFeHAoIihcXCpcXCp8X198XFw/XFw/fFsqXyVAK1xcLV5+XSkoPzoiK2krIik/Lis/XFwxIiksaW5zaWRlOntib2xkOntwYXR0ZXJuOlJlZ0V4cCgiKCheXFwqXFwqPykoPzoiK2krIik/KS4rPyg/PVxcMikiKSxsb29rYmVoaW5kOiEwfSxpdGFsaWM6e3BhdHRlcm46UmVnRXhwKCIoKF5fXz8pKD86IitpKyIpPykuKz8oPz1cXDIpIiksbG9va2JlaGluZDohMH0sY2l0ZTp7cGF0dGVybjpSZWdFeHAoIiheXFw/XFw/KD86IitpKyIpPykuKz8oPz1cXD9cXD8pIiksbG9va2JlaGluZDohMCxhbGlhczoic3RyaW5nIn0sY29kZTp7cGF0dGVybjpSZWdFeHAoIiheQCg/OiIraSsiKT8pLis/KD89QCkiKSxsb29rYmVoaW5kOiEwLGFsaWFzOiJrZXl3b3JkIn0saW5zZXJ0ZWQ6e3BhdHRlcm46UmVnRXhwKCIoXlxcKyg/OiIraSsiKT8pLis/KD89XFwrKSIpLGxvb2tiZWhpbmQ6ITB9LGRlbGV0ZWQ6e3BhdHRlcm46UmVnRXhwKCIoXi0oPzoiK2krIik/KS4rPyg/PS0pIiksbG9va2JlaGluZDohMH0sc3Bhbjp7cGF0dGVybjpSZWdFeHAoIiheJSg/OiIraSsiKT8pLis/KD89JSkiKSxsb29rYmVoaW5kOiEwfSxtb2RpZmllcjp7cGF0dGVybjpSZWdFeHAoIiheXFwqXFwqfF9ffFxcP1xcP3xbKl8lQCtcXC1efl0pIitpKSxsb29rYmVoaW5kOiEwLGluc2lkZTplLnV0aWwuY2xvbmUobil9LHB1bmN0dWF0aW9uOi9bKl8lP0ArXC1efl0rL319LCJsaW5rLXJlZiI6e3BhdHRlcm46L15cW1teXF1dK1xdXFMrJC9tLGluc2lkZTp7c3RyaW5nOntwYXR0ZXJuOi8oXFspW15cXV0rKD89XF0pLyxsb29rYmVoaW5kOiEwfSx1cmw6e3BhdHRlcm46LyhcXSlcUyskLyxsb29rYmVoaW5kOiEwfSxwdW5jdHVhdGlvbjovW1xbXF1dL319LGxpbms6e3BhdHRlcm46UmVnRXhwKCciKD86JytpKycpP1teIl0rIjouKz8oPz1bXlxcdy9dPyg/Olxcc3wkKSknKSxpbnNpZGU6e3RleHQ6e3BhdHRlcm46UmVnRXhwKCcoXiIoPzonK2krJyk/KVteIl0rKD89IiknKSxsb29rYmVoaW5kOiEwfSxtb2RpZmllcjp7cGF0dGVybjpSZWdFeHAoJyheIiknK2kpLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOmUudXRpbC5jbG9uZShuKX0sdXJsOntwYXR0ZXJuOi8oOikuKy8sbG9va2JlaGluZDohMH0scHVuY3R1YXRpb246L1siOl0vfX0saW1hZ2U6e3BhdHRlcm46UmVnRXhwKCIhKD86IitpKyJ8Wzw+PSgpXSkqW14hXFxzKCldKyg/OlxcKFteKV0rXFwpKT8hKD86Oi4rPyg/PVteXFx3L10/KD86XFxzfCQpKSk/IiksaW5zaWRlOntzb3VyY2U6e3BhdHRlcm46UmVnRXhwKCIoXiEoPzoiK2krInxbPD49KCldKSopW14hXFxzKCldKyg/OlxcKFteKV0rXFwpKT8oPz0hKSIpLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InVybCJ9LG1vZGlmaWVyOntwYXR0ZXJuOlJlZ0V4cCgiKF4hKSg/OiIraSsifFs8Pj0oKV0pKyIpLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOmUudXRpbC5jbG9uZShuKX0sdXJsOntwYXR0ZXJuOi8oOikuKy8sbG9va2JlaGluZDohMH0scHVuY3R1YXRpb246L1shOl0vfX0sZm9vdG5vdGU6e3BhdHRlcm46L1xiXFtcZCtcXS8sYWxpYXM6ImNvbW1lbnQiLGluc2lkZTp7cHVuY3R1YXRpb246L1xbfFxdL319LGFjcm9ueW06e3BhdHRlcm46L1xiW0EtWlxkXStcKFteKV0rXCkvLGluc2lkZTp7Y29tbWVudDp7cGF0dGVybjovKFwoKVteKV0rKD89XCkpLyxsb29rYmVoaW5kOiEwfSxwdW5jdHVhdGlvbjovWygpXS99fSxtYXJrOntwYXR0ZXJuOi9cYlwoKFRNfFJ8QylcKS8sYWxpYXM6ImNvbW1lbnQiLGluc2lkZTp7cHVuY3R1YXRpb246L1soKV0vfX19fX0pO3ZhciB0PXtpbmxpbmU6ZS51dGlsLmNsb25lKGUubGFuZ3VhZ2VzLnRleHRpbGUucGhyYXNlLmluc2lkZS5pbmxpbmUpLGxpbms6ZS51dGlsLmNsb25lKGUubGFuZ3VhZ2VzLnRleHRpbGUucGhyYXNlLmluc2lkZS5saW5rKSxpbWFnZTplLnV0aWwuY2xvbmUoZS5sYW5ndWFnZXMudGV4dGlsZS5waHJhc2UuaW5zaWRlLmltYWdlKSxmb290bm90ZTplLnV0aWwuY2xvbmUoZS5sYW5ndWFnZXMudGV4dGlsZS5waHJhc2UuaW5zaWRlLmZvb3Rub3RlKSxhY3JvbnltOmUudXRpbC5jbG9uZShlLmxhbmd1YWdlcy50ZXh0aWxlLnBocmFzZS5pbnNpZGUuYWNyb255bSksbWFyazplLnV0aWwuY2xvbmUoZS5sYW5ndWFnZXMudGV4dGlsZS5waHJhc2UuaW5zaWRlLm1hcmspfTtlLmxhbmd1YWdlcy50ZXh0aWxlLnRhZy5wYXR0ZXJuPS88XC8/KD8hXGQpW2EtejAtOV0rKD86XHMrW15ccz5cLz1dKyg/Oj0oPzooInwnKSg/OlxcXDF8XFw/KD8hXDEpW1x3XFddKSpcMXxbXlxzJyI+PV0rKSk/KSpccypcLz8+L2ksZS5sYW5ndWFnZXMudGV4dGlsZS5waHJhc2UuaW5zaWRlLmlubGluZS5pbnNpZGUuYm9sZC5pbnNpZGU9dCxlLmxhbmd1YWdlcy50ZXh0aWxlLnBocmFzZS5pbnNpZGUuaW5saW5lLmluc2lkZS5pdGFsaWMuaW5zaWRlPXQsZS5sYW5ndWFnZXMudGV4dGlsZS5waHJhc2UuaW5zaWRlLmlubGluZS5pbnNpZGUuaW5zZXJ0ZWQuaW5zaWRlPXQsZS5sYW5ndWFnZXMudGV4dGlsZS5waHJhc2UuaW5zaWRlLmlubGluZS5pbnNpZGUuZGVsZXRlZC5pbnNpZGU9dCxlLmxhbmd1YWdlcy50ZXh0aWxlLnBocmFzZS5pbnNpZGUuaW5saW5lLmluc2lkZS5zcGFuLmluc2lkZT10LGUubGFuZ3VhZ2VzLnRleHRpbGUucGhyYXNlLmluc2lkZS50YWJsZS5pbnNpZGUuaW5saW5lPXQuaW5saW5lLGUubGFuZ3VhZ2VzLnRleHRpbGUucGhyYXNlLmluc2lkZS50YWJsZS5pbnNpZGUubGluaz10LmxpbmssZS5sYW5ndWFnZXMudGV4dGlsZS5waHJhc2UuaW5zaWRlLnRhYmxlLmluc2lkZS5pbWFnZT10LmltYWdlLGUubGFuZ3VhZ2VzLnRleHRpbGUucGhyYXNlLmluc2lkZS50YWJsZS5pbnNpZGUuZm9vdG5vdGU9dC5mb290bm90ZSxlLmxhbmd1YWdlcy50ZXh0aWxlLnBocmFzZS5pbnNpZGUudGFibGUuaW5zaWRlLmFjcm9ueW09dC5hY3JvbnltLGUubGFuZ3VhZ2VzLnRleHRpbGUucGhyYXNlLmluc2lkZS50YWJsZS5pbnNpZGUubWFyaz10Lm1hcmt9KFByaXNtKTsKUHJpc20ubGFuZ3VhZ2VzLnR3aWc9e2NvbW1lbnQ6L1x7I1tcc1xTXSo/I1x9Lyx0YWc6e3BhdHRlcm46L1x7XHtbXHNcU10qP1x9XH18XHslW1xzXFNdKj8lXH0vLGluc2lkZTp7bGQ6e3BhdHRlcm46L14oPzpce1x7XC0/fFx7JVwtP1xzKlx3KykvLGluc2lkZTp7cHVuY3R1YXRpb246L14oPzpce1x7fFx7JSlcLT8vLGtleXdvcmQ6L1x3Ky99fSxyZDp7cGF0dGVybjovXC0/KD86JVx9fFx9XH0pJC8saW5zaWRlOntwdW5jdHVhdGlvbjovLiovfX0sc3RyaW5nOntwYXR0ZXJuOi8oInwnKSg/OlxcPy4pKj9cMS8saW5zaWRlOntwdW5jdHVhdGlvbjovXlsnIl18WyciXSQvfX0sa2V5d29yZDovXGIoPzpldmVufGlmfG9kZClcYi8sImJvb2xlYW4iOi9cYig/OnRydWV8ZmFsc2V8bnVsbClcYi8sbnVtYmVyOi9cYi0/KD86MHhbXGRBLUZhLWZdK3xcZCpcLj9cZCsoW0VlXVstK10/XGQrKT8pXGIvLG9wZXJhdG9yOlt7cGF0dGVybjovKFxzKSg/OmFuZHxiXC1hbmR8YlwteG9yfGJcLW9yfGVuZHMgd2l0aHxpbnxpc3xtYXRjaGVzfG5vdHxvcnxzYW1lIGFzfHN0YXJ0cyB3aXRoKSg/PVxzKS8sbG9va2JlaGluZDohMH0sL1s9PD5dPT98IT18XCpcKj98XC9cLz98XD86P3xbLSt+JXxdL10scHJvcGVydHk6L1xiW2EtekEtWl9dW2EtekEtWjAtOV9dKlxiLyxwdW5jdHVhdGlvbjovWygpXFtcXXt9Oi4sXS99fSxvdGhlcjp7cGF0dGVybjovXFMoPzpbXHNcU10qXFMpPy8saW5zaWRlOlByaXNtLmxhbmd1YWdlcy5tYXJrdXB9fTsKUHJpc20ubGFuZ3VhZ2VzLnR5cGVzY3JpcHQ9UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgiamF2YXNjcmlwdCIse2tleXdvcmQ6L1xiKGFzfGFzeW5jfGF3YWl0fGJyZWFrfGNhc2V8Y2F0Y2h8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVidWdnZXJ8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxlbnVtfGV4cG9ydHxleHRlbmRzfGZpbmFsbHl8Zm9yfGZyb218ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGR8ZmFsc2V8dHJ1ZXxtb2R1bGV8ZGVjbGFyZXxjb25zdHJ1Y3RvcnxzdHJpbmd8RnVuY3Rpb258YW55fG51bWJlcnxib29sZWFufEFycmF5fGVudW18c3ltYm9sfG5hbWVzcGFjZXxhYnN0cmFjdHxyZXF1aXJlfHR5cGUpXGIvfSksUHJpc20ubGFuZ3VhZ2VzLnRzPVByaXNtLmxhbmd1YWdlcy50eXBlc2NyaXB0OwpQcmlzbS5sYW5ndWFnZXMudmVyaWxvZz17Y29tbWVudDovXC9cLy4qfFwvXCpbXHdcV10qP1wqXC8vLHN0cmluZzp7cGF0dGVybjovIig/OlxcKD86XHJcbnxbXHNcU10pfFteIlxcXHJcbl0pKiIvLGdyZWVkeTohMH0scHJvcGVydHk6L1xCXCRcdytcYi8sY29uc3RhbnQ6L1xCYFx3K1xiLywiZnVuY3Rpb24iOi9bYS16XGRfXSsoPz1cKCkvaSxrZXl3b3JkOi9cYig/OmFsaWFzfGFuZHxhc3NlcnR8YXNzaWdufGFzc3VtZXxhdXRvbWF0aWN8YmVmb3JlfGJlZ2lufGJpbmR8Ymluc3xiaW5zb2Z8Yml0fGJyZWFrfGJ1ZnxidWZpZjB8YnVmaWYxfGJ5dGV8Y2xhc3N8Y2FzZXxjYXNleHxjYXNlenxjZWxsfGNoYW5kbGV8Y2xvY2tpbmd8Y21vc3xjb25maWd8Y29uc3R8Y29uc3RyYWludHxjb250ZXh0fGNvbnRpbnVlfGNvdmVyfGNvdmVyZ3JvdXB8Y292ZXJwb2ludHxjcm9zc3xkZWFzc2lnbnxkZWZhdWx0fGRlZnBhcmFtfGRlc2lnbnxkaXNhYmxlfGRpc3R8ZG98ZWRnZXxlbHNlfGVuZHxlbmRjYXNlfGVuZGNsYXNzfGVuZGNsb2NraW5nfGVuZGNvbmZpZ3xlbmRmdW5jdGlvbnxlbmRnZW5lcmF0ZXxlbmRncm91cHxlbmRpbnRlcmZhY2V8ZW5kbW9kdWxlfGVuZHBhY2thZ2V8ZW5kcHJpbWl0aXZlfGVuZHByb2dyYW18ZW5kcHJvcGVydHl8ZW5kc3BlY2lmeXxlbmRzZXF1ZW5jZXxlbmR0YWJsZXxlbmR0YXNrfGVudW18ZXZlbnR8ZXhwZWN0fGV4cG9ydHxleHRlbmRzfGV4dGVybnxmaW5hbHxmaXJzdF9tYXRjaHxmb3J8Zm9yY2V8Zm9yZWFjaHxmb3JldmVyfGZvcmt8Zm9ya2pvaW58ZnVuY3Rpb258Z2VuZXJhdGV8Z2VudmFyfGhpZ2h6MHxoaWdoejF8aWZ8aWZmfGlmbm9uZXxpZ25vcmVfYmluc3xpbGxlZ2FsX2JpbnN8aW1wb3J0fGluY2RpcnxpbmNsdWRlfGluaXRpYWx8aW5vdXR8aW5wdXR8aW5zaWRlfGluc3RhbmNlfGludHxpbnRlZ2VyfGludGVyZmFjZXxpbnRlcnNlY3R8am9pbnxqb2luX2FueXxqb2luX25vbmV8bGFyZ2V8bGlibGlzdHxsaWJyYXJ5fGxvY2FsfGxvY2FscGFyYW18bG9naWN8bG9uZ2ludHxtYWNyb21vZHVsZXxtYXRjaGVzfG1lZGl1bXxtb2Rwb3J0fG1vZHVsZXxuYW5kfG5lZ2VkZ2V8bmV3fG5tb3N8bm9yfG5vc2hvd2NhbmNlbGxlZHxub3R8bm90aWYwfG5vdGlmMXxudWxsfG9yfG91dHB1dHxwYWNrYWdlfHBhY2tlZHxwYXJhbWV0ZXJ8cG1vc3xwb3NlZGdlfHByaW1pdGl2ZXxwcmlvcml0eXxwcm9ncmFtfHByb3BlcnR5fHByb3RlY3RlZHxwdWxsMHxwdWxsMXxwdWxsZG93bnxwdWxsdXB8cHVsc2VzdHlsZV9vbmV2ZW50fHB1bHNlc3R5bGVfb25kZXRlY3R8cHVyZXxyYW5kfHJhbmRjfHJhbmRjYXNlfHJhbmRzZXF1ZW5jZXxyY21vc3xyZWFsfHJlYWx0aW1lfHJlZnxyZWd8cmVsZWFzZXxyZXBlYXR8cmV0dXJufHJubW9zfHJwbW9zfHJ0cmFufHJ0cmFuaWYwfHJ0cmFuaWYxfHNjYWxhcmVkfHNlcXVlbmNlfHNob3J0aW50fHNob3J0cmVhbHxzaG93Y2FuY2VsbGVkfHNpZ25lZHxzbWFsbHxzb2x2ZXxzcGVjaWZ5fHNwZWNwYXJhbXxzdGF0aWN8c3RyaW5nfHN0cm9uZzB8c3Ryb25nMXxzdHJ1Y3R8c3VwZXJ8c3VwcGx5MHxzdXBwbHkxfHRhYmxlfHRhZ2dlZHx0YXNrfHRoaXN8dGhyb3VnaG91dHx0aW1lfHRpbWVwcmVjaXNpb258dGltZXVuaXR8dHJhbnx0cmFuaWYwfHRyYW5pZjF8dHJpfHRyaTB8dHJpMXx0cmlhbmR8dHJpb3J8dHJpcmVnfHR5cGV8dHlwZWRlZnx1bmlvbnx1bmlxdWV8dW5zaWduZWR8dXNlfHV3aXJlfHZhcnx2ZWN0b3JlZHx2aXJ0dWFsfHZvaWR8d2FpdHx3YWl0X29yZGVyfHdhbmR8d2VhazB8d2VhazF8d2hpbGV8d2lsZGNhcmR8d2lyZXx3aXRofHdpdGhpbnx3b3J8eG5vcnx4b3IpXGIvLGltcG9ydGFudDovXGIoPzphbHdheXNfbGF0Y2h8YWx3YXlzX2NvbWJ8YWx3YXlzX2ZmfGFsd2F5cylcYiA/QD8vLG51bWJlcjovXEIjIz9cZCt8KD86XGJcZCspPydbb2RiaF0gP1tcZGEtZnp4Xz9dK3xcYlxkKlsuX10/XGQrKD86ZVstK10/XGQrKT8vaSxvcGVyYXRvcjovWy0re31efiUqXC8/PSE8PiZ8XSsvLHB1bmN0dWF0aW9uOi9bW1xdOygpLC46XS99OwpQcmlzbS5sYW5ndWFnZXMudmhkbD17Y29tbWVudDovLS0uKy8sInZoZGwtdmVjdG9ycyI6e3BhdHRlcm46L1xiW294Yl0iW1xkYS1mX10rInwiWzAxdXh6d2xoLV0rIi9pLGFsaWFzOiJudW1iZXIifSwicXVvdGVkLWZ1bmN0aW9uIjp7cGF0dGVybjovIlxTKz8iKD89XCgpLyxhbGlhczoiZnVuY3Rpb24ifSxzdHJpbmc6LyIoPzpbXlxcXHJcbl18XFw/KD86XHJcbnxbXHNcU10pKSo/Ii8sY29uc3RhbnQ6L1xiKD86dXNlfGxpYnJhcnkpXGIvaSxrZXl3b3JkOi9cYig/OidhY3RpdmV8J2FzY2VuZGluZ3wnYmFzZXwnZGVsYXllZHwnZHJpdmluZ3wnZHJpdmluZ192YWx1ZXwnZXZlbnR8J2hpZ2h8J2ltYWdlfCdpbnN0YW5jZV9uYW1lfCdsYXN0X2FjdGl2ZXwnbGFzdF9ldmVudHwnbGFzdF92YWx1ZXwnbGVmdHwnbGVmdG9mfCdsZW5ndGh8J2xvd3wncGF0aF9uYW1lfCdwb3N8J3ByZWR8J3F1aWV0fCdyYW5nZXwncmV2ZXJzZV9yYW5nZXwncmlnaHR8J3JpZ2h0b2Z8J3NpbXBsZV9uYW1lfCdzdGFibGV8J3N1Y2N8J3RyYW5zYWN0aW9ufCd2YWx8J3ZhbHVlfGFjY2Vzc3xhZnRlcnxhbGlhc3xhbGx8YXJjaGl0ZWN0dXJlfGFycmF5fGFzc2VydHxhdHRyaWJ1dGV8YmVnaW58YmxvY2t8Ym9keXxidWZmZXJ8YnVzfGNhc2V8Y29tcG9uZW50fGNvbmZpZ3VyYXRpb258Y29uc3RhbnR8ZGlzY29ubmVjdHxkb3dudG98ZWxzZXxlbHNpZnxlbmR8ZW50aXR5fGV4aXR8ZmlsZXxmb3J8ZnVuY3Rpb258Z2VuZXJhdGV8Z2VuZXJpY3xncm91cHxndWFyZGVkfGlmfGltcHVyZXxpbnxpbmVydGlhbHxpbm91dHxpc3xsYWJlbHxsaWJyYXJ5fGxpbmthZ2V8bGl0ZXJhbHxsb29wfG1hcHxuZXd8bmV4dHxudWxsfG9mfG9ufG9wZW58b3RoZXJzfG91dHxwYWNrYWdlfHBvcnR8cG9zdHBvbmVkfHByb2NlZHVyZXxwcm9jZXNzfHB1cmV8cmFuZ2V8cmVjb3JkfHJlZ2lzdGVyfHJlamVjdHxyZXBvcnR8cmV0dXJufHNlbGVjdHxzZXZlcml0eXxzaGFyZWR8c2lnbmFsfHN1YnR5cGV8dGhlbnx0b3x0cmFuc3BvcnR8dHlwZXx1bmFmZmVjdGVkfHVuaXRzfHVudGlsfHVzZXx2YXJpYWJsZXx3YWl0fHdoZW58d2hpbGV8d2l0aClcYi9pLCJib29sZWFuIjovXGIoPzp0cnVlfGZhbHNlKVxiL2ksImZ1bmN0aW9uIjovW2EtejAtOV9dKyg/PVwoKS9pLG51bWJlcjovJ1swMXV4endsaC1dJ3xcYig/OlxkKyNbXGRhLWZfLl0rI3xcZFtcZF8uXSopKD86ZVstK10/XGQrKT8vaSxvcGVyYXRvcjovWzw+XT0/fDo9fFstKypcLyY9XXxcYig/OmFic3xub3R8bW9kfHJlbXxzbGx8c3JsfHNsYXxzcmF8cm9sfHJvcnxhbmR8b3J8bmFuZHx4bm9yfHhvcnxub3IpXGIvaSxwdW5jdHVhdGlvbjovW3t9W1xdOygpLC46XS99OwpQcmlzbS5sYW5ndWFnZXMudmltPXtzdHJpbmc6LyIoPzpbXiJcXFxyXG5dfFxcLikqInwnKD86W14nXHJcbl18JycpKicvLGNvbW1lbnQ6LyIuKi8sImZ1bmN0aW9uIjovXHcrKD89XCgpLyxrZXl3b3JkOi9cYig/OmFifGFiYnJldmlhdGV8YWJjfGFiY2xlYXJ8YWJvfGFib3ZlbGVmdHxhbHxhbGx8YXJnYXxhcmdhZGR8YXJnZHxhcmdkZWxldGV8YXJnZG98YXJnZXxhcmdlZGl0fGFyZ2d8YXJnZ2xvYmFsfGFyZ2x8YXJnbG9jYWx8YXJ8YXJnc3xhcmd1fGFyZ3VtZW50fGFzfGFzY2lpfGJhZHxiYWRkfGJhfGJhbGx8YmR8YmRlbGV0ZXxiZXxiZWx8YmVsb3dyaWdodHxiZnxiZmlyc3R8Ymx8Ymxhc3R8Ym18Ym1vZGlmaWVkfGJufGJuZXh0fGJOfGJOZXh0fGJvfGJvdHJpZ2h0fGJwfGJwcmV2aW91c3xicmVhfGJyZWFrfGJyZWFrYXxicmVha2FkZHxicmVha2R8YnJlYWtkZWx8YnJlYWtsfGJyZWFrbGlzdHxicnxicmV3aW5kfGJyb3xicm93c2V8YnVmZG98YnxidWZmZXJ8YnVmZmVyc3xidW58YnVubG9hZHxid3xid2lwZW91dHxjYXxjYWJicmV2fGNhYmN8Y2FiY2xlYXJ8Y2FkZGJ8Y2FkZGJ1ZmZlcnxjYWR8Y2FkZGV4cHJ8Y2FkZGZ8Y2FkZGZpbGV8Y2FsfGNhbGx8Y2F0fGNhdGNofGNifGNidWZmZXJ8Y2N8Y2NsfGNjbG9zZXxjZHxjZXxjZW50ZXJ8Y2V4fGNleHByfGNmfGNmaWxlfGNmaXJ8Y2ZpcnN0fGNnZXRifGNnZXRidWZmZXJ8Y2dldGV8Y2dldGV4cHJ8Y2d8Y2dldGZpbGV8Y3xjaGFuZ2V8Y2hhbmdlc3xjaGR8Y2hkaXJ8Y2hlfGNoZWNrcGF0aHxjaGVja3R8Y2hlY2t0aW1lfGNsYXxjbGFzdHxjbHxjbGlzdHxjbG98Y2xvc2V8Y21hcGN8Y21hcGNsZWFyfGNuZXd8Y25ld2VyfGNufGNuZXh0fGNOfGNOZXh0fGNuZnxjbmZpbGV8Y05mY05maWxlfGNub3JlYXxjbm9yZWFiYnJldnxjb2x8Y29sZGVyfGNvbG98Y29sb3JzY2hlbWV8Y29tY3xjb21jbGVhcnxjb21wfGNvbXBpbGVyfGNvbmZ8Y29uZmlybXxjb258Y29udGludWV8Y29wZXxjb3Blbnxjb3xjb3B5fGNwZnxjcGZpbGV8Y3B8Y3ByZXZpb3VzfGNxfGNxdWl0fGNyfGNyZXdpbmR8Y3VuYXxjdW5hYmJyZXZ8Y3V8Y3VubWFwfGN3fGN3aW5kb3d8ZGVidWdnfGRlYnVnZ3JlZWR5fGRlbGN8ZGVsY29tbWFuZHxkfGRlbGV0ZXxkZWxmfGRlbGZ1bmN0aW9ufGRlbG18ZGVsbWFya3N8ZGlmZmd8ZGlmZmdldHxkaWZmb2ZmfGRpZmZwYXRjaHxkaWZmcHV8ZGlmZnB1dHxkaWZmc3BsaXR8ZGlmZnRoaXN8ZGlmZnV8ZGlmZnVwZGF0ZXxkaWd8ZGlncmFwaHN8ZGl8ZGlzcGxheXxkanxkanVtcHxkbHxkbGlzdHxkcnxkcm9wfGRzfGRzZWFyY2h8ZHNwfGRzcGxpdHxlYXJsaWVyfGVjaG9lfGVjaG9lcnJ8ZWNob218ZWNob21zZ3xlY2hvbnxlfGVkaXR8ZWx8ZWxzZXxlbHNlaXxlbHNlaWZ8ZW18ZW1lbnV8ZW5kZm98ZW5kZm9yfGVuZGZ8ZW5kZnVuY3Rpb258ZW5kZnVufGVufGVuZGlmfGVuZHR8ZW5kdHJ5fGVuZHd8ZW5kd2hpbGV8ZW5lfGVuZXd8ZXh8ZXhpfGV4aXR8ZXh1fGV4dXNhZ2V8ZnxmaWxlfGZpbGVzfGZpbGV0eXBlfGZpbmF8ZmluYWxseXxmaW58ZmluZHxmaW5pfGZpbmlzaHxmaXJ8Zmlyc3R8Zml4fGZpeGRlbHxmb3xmb2xkfGZvbGRjfGZvbGRjbG9zZXxmb2xkZG9jfGZvbGRkb2Nsb3NlZHxmb2xkZHxmb2xkZG9vcGVufGZvbGRvfGZvbGRvcGVufGZvcnxmdXxmdW58ZnVuY3Rpb258Z298Z290b3xncnxncmVwfGdyZXBhfGdyZXBhZGR8aGF8aGFyZGNvcHl8aHxoZWxwfGhlbHBmfGhlbHBmaW5kfGhlbHBnfGhlbHBncmVwfGhlbHB0fGhlbHB0YWdzfGhpZHxoaWRlfGhpc3xoaXN0b3J5fGlhfGlhYmJyZXZ8aWFiY3xpYWJjbGVhcnxpZnxpanxpanVtcHxpbHxpbGlzdHxpbWFwY3xpbWFwY2xlYXJ8aW58aW5vcmVhfGlub3JlYWJicmV2fGlzZWFyY2h8aXNwfGlzcGxpdHxpdW5hfGl1bmFiYnJldnxpdXxpdW5tYXB8anxqb2lufGp1fGp1bXBzfGt8a2VlcGFsdHxrZWVwanxrZWVwanVtcHN8a2VlfGtlZXBtYXJrc3xsYWRkYnxsYWRkYnVmZmVyfGxhZHxsYWRkZXhwcnxsYWRkZnxsYWRkZmlsZXxsYW58bGFuZ3VhZ2V8bGF8bGFzdHxsYXRlcnxsYnxsYnVmZmVyfGxjfGxjZHxsY2h8bGNoZGlyfGxjbHxsY2xvc2V8bGV0fGxlZnR8bGVmdGF8bGVmdGFib3ZlfGxleHxsZXhwcnxsZnxsZmlsZXxsZmlyfGxmaXJzdHxsZ2V0YnxsZ2V0YnVmZmVyfGxnZXRlfGxnZXRleHByfGxnfGxnZXRmaWxlfGxncnxsZ3JlcHxsZ3JlcGF8bGdyZXBhZGR8bGh8bGhlbHBncmVwfGx8bGlzdHxsbHxsbGF8bGxhc3R8bGxpfGxsaXN0fGxtYWt8bG1ha2V8bG18bG1hcHxsbWFwY3xsbWFwY2xlYXJ8bG5ld3xsbmV3ZXJ8bG5lfGxuZXh0fGxOfGxOZXh0fGxuZnxsbmZpbGV8bE5mfGxOZmlsZXxsbnxsbm9yZW1hcHxsb3xsb2Fkdmlld3xsb2N8bG9ja21hcmtzfGxvY2t2fGxvY2t2YXJ8bG9sfGxvbGRlcnxsb3B8bG9wZW58bHBmfGxwZmlsZXxscHxscHJldmlvdXN8bHJ8bHJld2luZHxsc3xsdHxsdGFnfGx1fGx1bm1hcHxsdnxsdmltZ3JlcHxsdmltZ3JlcGF8bHZpbWdyZXBhZGR8bHd8bHdpbmRvd3xtYWt8bWFrZXxtYXxtYXJrfG1hcmtzfG1hdHxtYXRjaHxtZW51dHxtZW51dHJhbnNsYXRlfG1rfG1rZXhyY3xta3N8bWtzZXNzaW9ufG1rc3B8bWtzcGVsbHxta3ZpZXxta3ZpZXd8bWt2fG1rdmltcmN8bW9kfG1vZGV8bXxtb3ZlfG16ZnxtemZpbGV8bXp8bXpzY2hlbWV8bmJrZXl8bmV3fG58bmV4dHxOfE5leHR8bm1hcGN8bm1hcGNsZWFyfG5vaHxub2hsc2VhcmNofG5vcmVhfG5vcmVhYmJyZXZ8bnV8bnVtYmVyfG51bnxudW5tYXB8b21hcGN8b21hcGNsZWFyfG9ufG9ubHl8b3xvcGVufG9wdHxvcHRpb25zfG91fG91bm1hcHxwY3xwY2xvc2V8cGVkfHBlZGl0fHBlfHBlcmx8cGVybGR8cGVybGRvfHBvfHBvcHxwb3B1fHBvcHV8cG9wdXB8cHB8cHBvcHxwcmV8cHJlc2VydmV8cHJldnxwcmV2aW91c3xwfHByaW50fFB8UHJpbnR8cHJvZmR8cHJvZmRlbHxwcm9mfHByb2ZpbGV8cHJvbXB0Znxwcm9tcHRmaW5kfHByb21wdHJ8cHJvbXB0cmVwbHxwc3xwc2VhcmNofHB0YXxwdGFnfHB0ZnxwdGZpcnN0fHB0anxwdGp1bXB8cHRsfHB0bGFzdHxwdG58cHRuZXh0fHB0TnxwdE5leHR8cHRwfHB0cHJldmlvdXN8cHRyfHB0cmV3aW5kfHB0c3xwdHNlbGVjdHxwdXxwdXR8cHd8cHdkfHB5ZnxweWZpbGV8cHl8cHl0aG9ufHFhfHFhbGx8cXxxdWl0fHF1aXRhfHF1aXRhbGx8cnxyZWFkfHJlY3xyZWNvdmVyfHJlZGl8cmVkaXJ8cmVkfHJlZG98cmVkcnxyZWRyYXd8cmVkcmF3c3xyZWRyYXdzdGF0dXN8cmVnfHJlZ2lzdGVyc3xyZXN8cmVzaXplfHJldHxyZXRhYnxyZXR1fHJldHVybnxyZXd8cmV3aW5kfHJpfHJpZ2h0fHJpZ2h0YnxyaWdodGJlbG93fHJ1YnxydWJ5fHJ1YnlkfHJ1Ynlkb3xydWJ5ZnxydWJ5ZmlsZXxydXxydW50aW1lfHJ2fHJ2aW1pbmZvfHNhbHxzYWxsfHNhbnxzYW5kYm94fHNhfHNhcmd1bWVudHxzYXZ8c2F2ZWFzfHNiYXxzYmFsbHxzYmZ8c2JmaXJzdHxzYmx8c2JsYXN0fHNibXxzYm1vZGlmaWVkfHNibnxzYm5leHR8c2JOfHNiTmV4dHxzYnB8c2JwcmV2aW91c3xzYnJ8c2JyZXdpbmR8c2J8c2J1ZmZlcnxzY3JpcHRlfHNjcmlwdGVuY29kaW5nfHNjcmlwfHNjcmlwdG5hbWVzfHNlfHNldHxzZXRmfHNldGZpbGV0eXBlfHNldGd8c2V0Z2xvYmFsfHNldGx8c2V0bG9jYWx8c2Z8c2ZpbmR8c2ZpcnxzZmlyc3R8c2h8c2hlbGx8c2lnbnxzaWx8c2lsZW50fHNpbXxzaW1hbHR8c2xhfHNsYXN0fHNsfHNsZWVwfHNtfHNtYWdpY3xzbXxzbWFwfHNtYXBjfHNtYXBjbGVhcnxzbWV8c21lbnV8c258c25leHR8c058c05leHR8c25pfHNuaWZmfHNub3xzbm9tYWdpY3xzbm9yfHNub3JlbWFwfHNub3JlbWV8c25vcmVtZW51fHNvcnxzb3J0fHNvfHNvdXJjZXxzcGVsbGR8c3BlbGxkdW1wfHNwZXxzcGVsbGdvb2R8c3BlbGxpfHNwZWxsaW5mb3xzcGVsbHJ8c3BlbGxyZXBhbGx8c3BlbGx1fHNwZWxsdW5kb3xzcGVsbHd8c3BlbGx3cm9uZ3xzcHxzcGxpdHxzcHJ8c3ByZXZpb3VzfHNyZXxzcmV3aW5kfHN0YXxzdGFnfHN0YXJ0Z3xzdGFydGdyZXBsYWNlfHN0YXJ8c3RhcnRpbnNlcnR8c3RhcnRyfHN0YXJ0cmVwbGFjZXxzdGp8c3RqdW1wfHN0fHN0b3B8c3RvcGl8c3RvcGluc2VydHxzdHN8c3RzZWxlY3R8c3VufHN1bmhpZGV8c3VubXxzdW5tYXB8c3VzfHN1c3BlbmR8c3Z8c3ZpZXd8c3luY2JpbmR8dHx0YWJ8dGFiY3x0YWJjbG9zZXx0YWJkfHRhYmRvfHRhYmV8dGFiZWRpdHx0YWJmfHRhYmZpbmR8dGFiZmlyfHRhYmZpcnN0fHRhYmx8dGFibGFzdHx0YWJtfHRhYm1vdmV8dGFibmV3fHRhYm58dGFibmV4dHx0YWJOfHRhYk5leHR8dGFib3x0YWJvbmx5fHRhYnB8dGFicHJldmlvdXN8dGFicnx0YWJyZXdpbmR8dGFic3x0YXx0YWd8dGFnc3x0Y3x0Y2x8dGNsZHx0Y2xkb3x0Y2xmfHRjbGZpbGV8dGV8dGVhcm9mZnx0Znx0Zmlyc3R8dGh8dGhyb3d8dGp8dGp1bXB8dGx8dGxhc3R8dG18dG18dG1lbnV8dG58dG5leHR8dE58dE5leHR8dG98dG9wbGVmdHx0cHx0cHJldmlvdXN8dHJ8dHJld2luZHx0cnl8dHN8dHNlbGVjdHx0dXx0dXx0dW5tZW51fHVuYXx1bmFiYnJldmlhdGV8dXx1bmRvfHVuZG9qfHVuZG9qb2lufHVuZG9sfHVuZG9saXN0fHVuaHx1bmhpZGV8dW5sZXR8dW5sb3x1bmxvY2t2YXJ8dW5tfHVubWFwfHVwfHVwZGF0ZXx2ZXJifHZlcmJvc2V8dmV8dmVyc2lvbnx2ZXJ0fHZlcnRpY2FsfHZpZXx2aWV3fHZpbXx2aW1ncmVwfHZpbWdyZXBhfHZpbWdyZXBhZGR8dml8dmlzdWFsfHZpdXx2aXVzYWdlfHZtYXBjfHZtYXBjbGVhcnx2bmV8dm5ld3x2c3x2c3BsaXR8dnV8dnVubWFwfHdhfHdhbGx8d2h8d2hpbGV8d2luY3x3aW5jbWR8d2luZG98d2lucHx3aW5wb3N8d2lufHdpbnNpemV8d258d25leHR8d058d05leHR8d3B8d3ByZXZpb3VzfHdxfHdxYXx3cWFsbHx3fHdyaXRlfHdzfHdzdmVyYnx3dnx3dmltaW5mb3xYfHhhfHhhbGx8eHx4aXR8eG18eG1hcHx4bWFwY3x4bWFwY2xlYXJ8eG1lfHhtZW51fFhNTGVudHxYTUxuc3x4bnx4bm9yZW1hcHx4bm9yZW1lfHhub3JlbWVudXx4dXx4dW5tYXB8eXx5YW5rKVxiLyxidWlsdGluOi9cYig/OmF1dG9jbWR8YWNkfGFpfGFrbXxhbGVwaHxhbGxvd3Jldmluc3xhbHRrZXltYXB8YW1iaXdpZHRofGFtYnd8YW50aXxhbnRpYWxpYXN8YXJhYnxhcmFiaWN8YXJhYmljc2hhcGV8YXJpfGFyc2hhcGV8YXV0b2NoZGlyfGF1dG9pbmRlbnR8YXV0b3JlYWR8YXV0b3dyaXRlfGF1dG93cml0ZWFsbHxhd3xhd2F8YmFja2dyb3VuZHxiYWNrc3BhY2V8YmFja3VwfGJhY2t1cGNvcHl8YmFja3VwZGlyfGJhY2t1cGV4dHxiYWNrdXBza2lwfGJhbGxvb25kZWxheXxiYWxsb29uZXZhbHxiYWxsb29uZXhwcnxiZGlyfGJkbGF5fGJldmFsfGJleHxiZXhwcnxiZ3xiaHxiaW58YmluYXJ5fGJpb3NrfGJpb3NrZXl8Ymt8YmtjfGJvbWJ8YnJlYWthdHxicmt8YnJvd3NlZGlyfGJzfGJzZGlyfGJza3xidHxidWZoaWRkZW58YnVmbGlzdGVkfGJ1ZnR5cGV8Y2FzZW1hcHxjY3Z8Y2RwYXRofGNlZGl0fGNmdXxjaHxjaGFyY29udmVydHxjaXxjaW58Y2luZGVudHxjaW5rfGNpbmtleXN8Y2lub3xjaW5vcHRpb25zfGNpbnd8Y2lud29yZHN8Y2xpcGJvYXJkfGNtZGhlaWdodHxjbWR3aW5oZWlnaHR8Y21wfGNtc3xjb2x1bW5zfGNvbXxjb21tZW50c3xjb21tZW50c3RyaW5nfGNvbXBhdGlibGV8Y29tcGxldGV8Y29tcGxldGVmdW5jfGNvbXBsZXRlb3B0fGNvbnNrfGNvbnNrZXl8Y29weWluZGVudHxjb3R8Y3BvfGNwb3B0aW9uc3xjcHR8Y3Njb3BlcGF0aGNvbXB8Y3Njb3BlcHJnfGNzY29wZXF1aWNrZml4fGNzY29wZXRhZ3xjc2NvcGV0YWdvcmRlcnxjc2NvcGV2ZXJib3NlfGNzcGN8Y3Nwcmd8Y3NxZnxjc3R8Y3N0b3xjc3ZlcmJ8Y3VjfGN1bHxjdXJzb3Jjb2x1bW58Y3Vyc29ybGluZXxjd2h8ZGVidWd8ZGVjb3xkZWZ8ZGVmaW5lfGRlbGNvbWJpbmV8ZGV4fGRnfGRpY3R8ZGljdGlvbmFyeXxkaWZmfGRpZmZleHByfGRpZmZvcHR8ZGlncmFwaHxkaXB8ZGlyfGRpcmVjdG9yeXxkeXxlYXxlYWR8ZWFkaXJlY3Rpb258ZWJ8ZWR8ZWRjb21wYXRpYmxlfGVmfGVmbXxlaXxla3xlbmN8ZW5jb2Rpbmd8ZW5kb2ZsaW5lfGVvbHxlcHxlcXVhbGFsd2F5c3xlcXVhbHByZ3xlcnJvcmJlbGxzfGVycm9yZmlsZXxlcnJvcmZvcm1hdHxlc2NrZXlzfGV0fGV2ZW50aWdub3JlfGV4cGFuZHRhYnxleHJjfGZjbHxmY3N8ZmRjfGZkZXxmZGl8ZmRsfGZkbHN8ZmRtfGZkbnxmZG98ZmR0fGZlbnxmZW5jfGZlbmNzfGZleHxmZnxmZnN8ZmlsZWVuY29kaW5nfGZpbGVlbmNvZGluZ3N8ZmlsZWZvcm1hdHxmaWxlZm9ybWF0c3xmaWxsY2hhcnN8Zmt8ZmttYXB8ZmxwfGZtbHxmbXJ8Zm9sZGNvbHVtbnxmb2xkZW5hYmxlfGZvbGRleHByfGZvbGRpZ25vcmV8Zm9sZGxldmVsfGZvbGRsZXZlbHN0YXJ0fGZvbGRtYXJrZXJ8Zm9sZG1ldGhvZHxmb2xkbWlubGluZXN8Zm9sZG5lc3RtYXh8Zm9sZHRleHR8Zm9ybWF0ZXhwcnxmb3JtYXRsaXN0cGF0fGZvcm1hdG9wdGlvbnN8Zm9ybWF0cHJnfGZwfGZzfGZzeW5jfGZ0fGdjcnxnZHxnZGVmYXVsdHxnZm18Z2ZufGdmc3xnZnd8Z2hyfGdwfGdyZXBmb3JtYXR8Z3JlcHByZ3xndGx8Z3R0fGd1aWN1cnNvcnxndWlmb250fGd1aWZvbnRzZXR8Z3VpZm9udHdpZGV8Z3VpaGVhZHJvb218Z3Vpb3B0aW9uc3xndWlwdHl8Z3VpdGFibGFiZWx8Z3VpdGFidG9vbHRpcHxoZWxwZmlsZXxoZWxwaGVpZ2h0fGhlbHBsYW5nfGhmfGhofGhpfGhpZGRlbnxoaWdobGlnaHR8aGt8aGttYXB8aGttYXBwfGhrcHxobHxobGd8aGxzfGhsc2VhcmNofGljfGljb258aWNvbnN0cmluZ3xpZ25vcmVjYXNlfGltfGltYWN0aXZhdGVrZXl8aW1ha3xpbWN8aW1jbWRsaW5lfGltZHxpbWRpc2FibGV8aW1pfGltaW5zZXJ0fGltc3xpbXNlYXJjaHxpbmN8aW5jbHVkZXxpbmNsdWRlZXhwcnxpbmNzZWFyY2h8aW5kZXxpbmRlbnRleHByfGluZGVudGtleXN8aW5ka3xpbmV4fGluZnxpbmZlcmNhc2V8aW5zZXJ0bW9kZXxpc2Z8aXNmbmFtZXxpc2l8aXNpZGVudHxpc2t8aXNrZXl3b3JkfGlzcHJpbnR8am9pbnNwYWNlc3xqc3xrZXl8a2V5bWFwfGtleW1vZGVsfGtleXdvcmRwcmd8a218a21wfGtwfGxhbmdtYXB8bGFuZ21lbnV8bGFzdHN0YXR1c3xsYXp5cmVkcmF3fGxicnxsY3N8bGluZWJyZWFrfGxpbmVzfGxpbmVzcGFjZXxsaXNwfGxpc3B3b3Jkc3xsaXN0Y2hhcnN8bG9hZHBsdWdpbnN8bHBsfGxzcHxsenxtYWNhdHN1aXxtYWdpY3xtYWtlZWZ8bWFrZXByZ3xtYXRjaHBhaXJzfG1hdGNodGltZXxtYXhjb21iaW5lfG1heGZ1bmNkZXB0aHxtYXhtYXBkZXB0aHxtYXhtZW18bWF4bWVtcGF0dGVybnxtYXhtZW10b3R8bWNvfG1lZnxtZW51aXRlbXN8bWZkfG1ofG1pc3xta3NwZWxsbWVtfG1sfG1sc3xtbXxtbWR8bW1wfG1tdHxtb2RlbGluZXxtb2RlbGluZXN8bW9kaWZpYWJsZXxtb2RpZmllZHxtb3JlfG1vdXNlfG1vdXNlZnxtb3VzZWZvY3VzfG1vdXNlaGlkZXxtb3VzZW18bW91c2Vtb2RlbHxtb3VzZXN8bW91c2VzaGFwZXxtb3VzZXR8bW91c2V0aW1lfG1wfG1wc3xtc218bXpxfG16cXVhbnR1bXxuZnxucmZvcm1hdHN8bnVtYmVyd2lkdGh8bnV3fG9kZXZ8b2Z0fG9mdXxvbW5pZnVuY3xvcGVuZGV2aWNlfG9wZXJhdG9yZnVuY3xvcGZ1bmN8b3NmaWxldHlwZXxwYXxwYXJhfHBhcmFncmFwaHN8cGFzdGV8cGFzdGV0b2dnbGV8cGF0Y2hleHByfHBhdGNobW9kZXxwYXRofHBkZXZ8cGVuY3xwZXh8cGV4cHJ8cGZufHBofHBoZWFkZXJ8cGl8cG18cG1iY3N8cG1iZm58cG9wdHxwcmVzZXJ2ZWluZGVudHxwcmV2aWV3aGVpZ2h0fHByZXZpZXd3aW5kb3d8cHJpbnRkZXZpY2V8cHJpbnRlbmNvZGluZ3xwcmludGV4cHJ8cHJpbnRmb250fHByaW50aGVhZGVyfHByaW50bWJjaGFyc2V0fHByaW50bWJmb250fHByaW50b3B0aW9uc3xwcm9tcHR8cHR8cHVtaGVpZ2h0fHB2aHxwdnd8cWV8cXVvdGVlc2NhcGV8cmVhZG9ubHl8cmVtYXB8cmVwb3J0fHJlc3RvcmVzY3JlZW58cmV2aW5zfHJpZ2h0bGVmdHxyaWdodGxlZnRjbWR8cmx8cmxjfHJvfHJzfHJ0cHxydWZ8cnVsZXJ8cnVsZXJmb3JtYXR8cnVudGltZXBhdGh8c2JvfHNjfHNjYnxzY3J8c2Nyb2xsfHNjcm9sbGJpbmR8c2Nyb2xsanVtcHxzY3JvbGxvZmZ8c2Nyb2xsb3B0fHNjc3xzZWN0fHNlY3Rpb25zfHNlY3VyZXxzZWx8c2VsZWN0aW9ufHNlbGVjdG1vZGV8c2Vzc2lvbm9wdGlvbnN8c2Z0fHNoY2Z8c2hlbGxjbWRmbGFnfHNoZWxscGlwZXxzaGVsbHF1b3RlfHNoZWxscmVkaXJ8c2hlbGxzbGFzaHxzaGVsbHRlbXB8c2hlbGx0eXBlfHNoZWxseHF1b3RlfHNoaWZ0cm91bmR8c2hpZnR3aWR0aHxzaG18c2hvcnRtZXNzfHNob3J0bmFtZXxzaG93YnJlYWt8c2hvd2NtZHxzaG93ZnVsbHRhZ3xzaG93bWF0Y2h8c2hvd21vZGV8c2hvd3RhYmxpbmV8c2hxfHNpfHNpZGVzY3JvbGx8c2lkZXNjcm9sbG9mZnxzaXNvfHNqfHNsbXxzbWFydGNhc2V8c21hcnRpbmRlbnR8c21hcnR0YWJ8c21jfHNtZHxzb2Z0dGFic3RvcHxzb2x8c3BjfHNwZWxsfHNwZWxsY2FwY2hlY2t8c3BlbGxmaWxlfHNwZWxsbGFuZ3xzcGVsbHN1Z2dlc3R8c3BmfHNwbHxzcGxpdGJlbG93fHNwbGl0cmlnaHR8c3BzfHNyfHNycnxzc3xzc2x8c3NvcHxzdGFsfHN0YXJ0b2ZsaW5lfHN0YXR1c2xpbmV8c3RsfHN0bXB8c3V8c3VhfHN1ZmZpeGVzfHN1ZmZpeGVzYWRkfHN3fHN3YXBmaWxlfHN3YXBzeW5jfHN3Ynxzd2Z8c3dpdGNoYnVmfHN3c3xzeHF8c3lufHN5bm1heGNvbHxzeW50YXh8dGFibGluZXx0YWJwYWdlbWF4fHRhYnN0b3B8dGFnYnNlYXJjaHx0YWdsZW5ndGh8dGFncmVsYXRpdmV8dGFnc3RhY2t8dGFsfHRifHRiaXx0YmlkaXx0YmlzfHRic3x0ZW5jfHRlcm18dGVybWJpZGl8dGVybWVuY29kaW5nfHRlcnNlfHRleHRhdXRvfHRleHRtb2RlfHRleHR3aWR0aHx0Z3N0fHRoZXNhdXJ1c3x0aWxkZW9wfHRpbWVvdXR8dGltZW91dGxlbnx0aXRsZXx0aXRsZWxlbnx0aXRsZW9sZHx0aXRsZXN0cmluZ3x0b29sYmFyfHRvb2xiYXJpY29uc2l6ZXx0b3B8dHBtfHRzbHx0c3J8dHRpbWVvdXR8dHRpbWVvdXRsZW58dHRtfHR0eXx0dHlidWlsdGlufHR0eWZhc3R8dHR5bXx0dHltb3VzZXx0dHlzY3JvbGx8dHR5dHlwZXx0d3x0eHx1Y3x1bHx1bmRvbGV2ZWxzfHVwZGF0ZWNvdW50fHVwZGF0ZXRpbWV8dXR8dmJ8dmJzfHZkaXJ8dmVyYm9zZWZpbGV8dmZpbGV8dmlld2Rpcnx2aWV3b3B0aW9uc3x2aW1pbmZvfHZpcnR1YWxlZGl0fHZpc3VhbGJlbGx8dm9wfHdha3x3YXJufHdifHdjfHdjbXx3ZHx3ZWlyZGludmVydHx3Zmh8d2Z3fHdoaWNod3JhcHx3aXx3aWd8d2lsZGNoYXJ8d2lsZGNoYXJtfHdpbGRpZ25vcmV8d2lsZG1lbnV8d2lsZG1vZGV8d2lsZG9wdGlvbnN8d2ltfHdpbmFsdGtleXN8d2luZG93fHdpbmZpeGhlaWdodHx3aW5maXh3aWR0aHx3aW5oZWlnaHR8d2lubWluaGVpZ2h0fHdpbm1pbndpZHRofHdpbndpZHRofHdpdnx3aXd8d218d21ofHdtbnV8d213fHdvcHx3cmFwfHdyYXBtYXJnaW58d3JhcHNjYW58d3JpdGVhbnl8d3JpdGViYWNrdXB8d3JpdGVkZWxheXx3d3xub2FjZHxub2FpfG5vYWttfG5vYWxsb3dyZXZpbnN8bm9hbHRrZXltYXB8bm9hbnRpfG5vYW50aWFsaWFzfG5vYXJ8bm9hcmFifG5vYXJhYmljfG5vYXJhYmljc2hhcGV8bm9hcml8bm9hcnNoYXBlfG5vYXV0b2NoZGlyfG5vYXV0b2luZGVudHxub2F1dG9yZWFkfG5vYXV0b3dyaXRlfG5vYXV0b3dyaXRlYWxsfG5vYXd8bm9hd2F8bm9iYWNrdXB8bm9iYWxsb29uZXZhbHxub2JldmFsfG5vYmlufG5vYmluYXJ5fG5vYmlvc2t8bm9iaW9za2V5fG5vYmt8bm9ibHxub2JvbWJ8bm9idWZsaXN0ZWR8bm9jZnxub2NpfG5vY2lufG5vY2luZGVudHxub2NvbXBhdGlibGV8bm9jb25maXJtfG5vY29uc2t8bm9jb25za2V5fG5vY29weWluZGVudHxub2NwfG5vY3Njb3BldGFnfG5vY3Njb3BldmVyYm9zZXxub2NzdHxub2NzdmVyYnxub2N1Y3xub2N1bHxub2N1cnNvcmNvbHVtbnxub2N1cnNvcmxpbmV8bm9kZWNvfG5vZGVsY29tYmluZXxub2RnfG5vZGlmZnxub2RpZ3JhcGh8bm9kaXNhYmxlfG5vZWF8bm9lYnxub2VkfG5vZWRjb21wYXRpYmxlfG5vZWt8bm9lbmRvZmxpbmV8bm9lb2x8bm9lcXVhbGFsd2F5c3xub2Vycm9yYmVsbHN8bm9lc2NrZXlzfG5vZXR8bm9leHxub2V4cGFuZHRhYnxub2V4cmN8bm9mZW58bm9ma3xub2ZrbWFwfG5vZm9sZGVuYWJsZXxub2dkfG5vZ2RlZmF1bHR8bm9ndWlwdHl8bm9oaWR8bm9oaWRkZW58bm9oa3xub2hrbWFwfG5vaGttYXBwfG5vaGtwfG5vaGxzfG5vaWN8bm9pY29ufG5vaWdub3JlY2FzZXxub2ltfG5vaW1jfG5vaW1jbWRsaW5lfG5vaW1kfG5vaW5jc2VhcmNofG5vaW5mfG5vaW5mZXJjYXNlfG5vaW5zZXJ0bW9kZXxub2lzfG5vam9pbnNwYWNlc3xub2pzfG5vbGF6eXJlZHJhd3xub2xicnxub2xpbmVicmVha3xub2xpc3B8bm9saXN0fG5vbG9hZHBsdWdpbnN8bm9scGx8bm9senxub21hfG5vbWFjYXRzdWl8bm9tYWdpY3xub21ofG5vbWx8bm9tb2R8bm9tb2RlbGluZXxub21vZGlmaWFibGV8bm9tb2RpZmllZHxub21vcmV8bm9tb3VzZWZ8bm9tb3VzZWZvY3VzfG5vbW91c2VoaWRlfG5vbnV8bm9udW1iZXJ8bm9vZGV2fG5vb3BlbmRldmljZXxub3Bhc3RlfG5vcGl8bm9wcmVzZXJ2ZWluZGVudHxub3ByZXZpZXd3aW5kb3d8bm9wcm9tcHR8bm9wdnd8bm9yZWFkb25seXxub3JlbWFwfG5vcmVzdG9yZXNjcmVlbnxub3Jldmluc3xub3JpfG5vcmlnaHRsZWZ0fG5vcmlnaHRsZWZ0Y21kfG5vcmx8bm9ybGN8bm9yb3xub3JzfG5vcnV8bm9ydWxlcnxub3NifG5vc2N8bm9zY2J8bm9zY3JvbGxiaW5kfG5vc2NzfG5vc2VjdXJlfG5vc2Z0fG5vc2hlbGxzbGFzaHxub3NoZWxsdGVtcHxub3NoaWZ0cm91bmR8bm9zaG9ydG5hbWV8bm9zaG93Y21kfG5vc2hvd2Z1bGx0YWd8bm9zaG93bWF0Y2h8bm9zaG93bW9kZXxub3NpfG5vc218bm9zbWFydGNhc2V8bm9zbWFydGluZGVudHxub3NtYXJ0dGFifG5vc21kfG5vc258bm9zb2x8bm9zcGVsbHxub3NwbGl0YmVsb3d8bm9zcGxpdHJpZ2h0fG5vc3ByfG5vc3J8bm9zc2x8bm9zdGF8bm9zdGFydG9mbGluZXxub3N0bXB8bm9zd2FwZmlsZXxub3N3Znxub3RhfG5vdGFnYnNlYXJjaHxub3RhZ3JlbGF0aXZlfG5vdGFnc3RhY2t8bm90Yml8bm90YmlkaXxub3Ric3xub3Rlcm1iaWRpfG5vdGVyc2V8bm90ZXh0YXV0b3xub3RleHRtb2RlfG5vdGZ8bm90Z3N0fG5vdGlsZGVvcHxub3RpbWVvdXR8bm90aXRsZXxub3RvfG5vdG9wfG5vdHJ8bm90dGltZW91dHxub3R0eWJ1aWx0aW58bm90dHlmYXN0fG5vdHh8bm92Ynxub3Zpc3VhbGJlbGx8bm93YXxub3dhcm58bm93Ynxub3dlaXJkaW52ZXJ0fG5vd2ZofG5vd2Z3fG5vd2lsZG1lbnV8bm93aW5maXhoZWlnaHR8bm93aW5maXh3aWR0aHxub3dpdnxub3dtbnV8bm93cmFwfG5vd3JhcHNjYW58bm93cml0ZXxub3dyaXRlYW55fG5vd3JpdGViYWNrdXB8bm93c3xpbnZhY2R8aW52YWl8aW52YWttfGludmFsbG93cmV2aW5zfGludmFsdGtleW1hcHxpbnZhbnRpfGludmFudGlhbGlhc3xpbnZhcnxpbnZhcmFifGludmFyYWJpY3xpbnZhcmFiaWNzaGFwZXxpbnZhcml8aW52YXJzaGFwZXxpbnZhdXRvY2hkaXJ8aW52YXV0b2luZGVudHxpbnZhdXRvcmVhZHxpbnZhdXRvd3JpdGV8aW52YXV0b3dyaXRlYWxsfGludmF3fGludmF3YXxpbnZiYWNrdXB8aW52YmFsbG9vbmV2YWx8aW52YmV2YWx8aW52YmlufGludmJpbmFyeXxpbnZiaW9za3xpbnZiaW9za2V5fGludmJrfGludmJsfGludmJvbWJ8aW52YnVmbGlzdGVkfGludmNmfGludmNpfGludmNpbnxpbnZjaW5kZW50fGludmNvbXBhdGlibGV8aW52Y29uZmlybXxpbnZjb25za3xpbnZjb25za2V5fGludmNvcHlpbmRlbnR8aW52Y3B8aW52Y3Njb3BldGFnfGludmNzY29wZXZlcmJvc2V8aW52Y3N0fGludmNzdmVyYnxpbnZjdWN8aW52Y3VsfGludmN1cnNvcmNvbHVtbnxpbnZjdXJzb3JsaW5lfGludmRlY298aW52ZGVsY29tYmluZXxpbnZkZ3xpbnZkaWZmfGludmRpZ3JhcGh8aW52ZGlzYWJsZXxpbnZlYXxpbnZlYnxpbnZlZHxpbnZlZGNvbXBhdGlibGV8aW52ZWt8aW52ZW5kb2ZsaW5lfGludmVvbHxpbnZlcXVhbGFsd2F5c3xpbnZlcnJvcmJlbGxzfGludmVzY2tleXN8aW52ZXR8aW52ZXh8aW52ZXhwYW5kdGFifGludmV4cmN8aW52ZmVufGludmZrfGludmZrbWFwfGludmZvbGRlbmFibGV8aW52Z2R8aW52Z2RlZmF1bHR8aW52Z3VpcHR5fGludmhpZHxpbnZoaWRkZW58aW52aGt8aW52aGttYXB8aW52aGttYXBwfGludmhrcHxpbnZobHN8aW52aGxzZWFyY2h8aW52aWN8aW52aWNvbnxpbnZpZ25vcmVjYXNlfGludmltfGludmltY3xpbnZpbWNtZGxpbmV8aW52aW1kfGludmluY3NlYXJjaHxpbnZpbmZ8aW52aW5mZXJjYXNlfGludmluc2VydG1vZGV8aW52aXN8aW52am9pbnNwYWNlc3xpbnZqc3xpbnZsYXp5cmVkcmF3fGludmxicnxpbnZsaW5lYnJlYWt8aW52bGlzcHxpbnZsaXN0fGludmxvYWRwbHVnaW5zfGludmxwbHxpbnZsenxpbnZtYXxpbnZtYWNhdHN1aXxpbnZtYWdpY3xpbnZtaHxpbnZtbHxpbnZtb2R8aW52bW9kZWxpbmV8aW52bW9kaWZpYWJsZXxpbnZtb2RpZmllZHxpbnZtb3JlfGludm1vdXNlZnxpbnZtb3VzZWZvY3VzfGludm1vdXNlaGlkZXxpbnZudXxpbnZudW1iZXJ8aW52b2RldnxpbnZvcGVuZGV2aWNlfGludnBhc3RlfGludnBpfGludnByZXNlcnZlaW5kZW50fGludnByZXZpZXd3aW5kb3d8aW52cHJvbXB0fGludnB2d3xpbnZyZWFkb25seXxpbnZyZW1hcHxpbnZyZXN0b3Jlc2NyZWVufGludnJldmluc3xpbnZyaXxpbnZyaWdodGxlZnR8aW52cmlnaHRsZWZ0Y21kfGludnJsfGludnJsY3xpbnZyb3xpbnZyc3xpbnZydXxpbnZydWxlcnxpbnZzYnxpbnZzY3xpbnZzY2J8aW52c2Nyb2xsYmluZHxpbnZzY3N8aW52c2VjdXJlfGludnNmdHxpbnZzaGVsbHNsYXNofGludnNoZWxsdGVtcHxpbnZzaGlmdHJvdW5kfGludnNob3J0bmFtZXxpbnZzaG93Y21kfGludnNob3dmdWxsdGFnfGludnNob3dtYXRjaHxpbnZzaG93bW9kZXxpbnZzaXxpbnZzbXxpbnZzbWFydGNhc2V8aW52c21hcnRpbmRlbnR8aW52c21hcnR0YWJ8aW52c21kfGludnNufGludnNvbHxpbnZzcGVsbHxpbnZzcGxpdGJlbG93fGludnNwbGl0cmlnaHR8aW52c3ByfGludnNyfGludnNzbHxpbnZzdGF8aW52c3RhcnRvZmxpbmV8aW52c3RtcHxpbnZzd2FwZmlsZXxpbnZzd2Z8aW52dGF8aW52dGFnYnNlYXJjaHxpbnZ0YWdyZWxhdGl2ZXxpbnZ0YWdzdGFja3xpbnZ0Yml8aW52dGJpZGl8aW52dGJzfGludnRlcm1iaWRpfGludnRlcnNlfGludnRleHRhdXRvfGludnRleHRtb2RlfGludnRmfGludnRnc3R8aW52dGlsZGVvcHxpbnZ0aW1lb3V0fGludnRpdGxlfGludnRvfGludnRvcHxpbnZ0cnxpbnZ0dGltZW91dHxpbnZ0dHlidWlsdGlufGludnR0eWZhc3R8aW52dHh8aW52dmJ8aW52dmlzdWFsYmVsbHxpbnZ3YXxpbnZ3YXJufGludndifGludndlaXJkaW52ZXJ0fGludndmaHxpbnZ3Znd8aW52d2lsZG1lbnV8aW52d2luZml4aGVpZ2h0fGludndpbmZpeHdpZHRofGludndpdnxpbnZ3bW51fGludndyYXB8aW52d3JhcHNjYW58aW52d3JpdGV8aW52d3JpdGVhbnl8aW52d3JpdGViYWNrdXB8aW52d3N8dF9BQnx0X0FGfHRfYWx8dF9BTHx0X2JjfHRfY2R8dF9jZXx0X0NlfHRfY2x8dF9jbXx0X0NvfHRfY3N8dF9Dc3x0X0NTfHRfQ1Z8dF9kYXx0X2RifHRfZGx8dF9ETHx0X0VJfHRfRjF8dF9GMnx0X0YzfHRfRjR8dF9GNXx0X0Y2fHRfRjd8dF9GOHx0X0Y5fHRfZnN8dF9JRXx0X0lTfHRfazF8dF9LMXx0X2syfHRfazN8dF9LM3x0X2s0fHRfSzR8dF9rNXx0X0s1fHRfazZ8dF9LNnx0X2s3fHRfSzd8dF9rOHx0X0s4fHRfazl8dF9LOXx0X0tBfHRfa2J8dF9rQnx0X0tCfHRfS0N8dF9rZHx0X2tEfHRfS0R8dF9rZXx0X0tFfHRfS0Z8dF9LR3x0X2tofHRfS0h8dF9rSXx0X0tJfHRfS0p8dF9LS3x0X2tsfHRfS0x8dF9rTnx0X2tQfHRfa3J8dF9rc3x0X2t1fHRfbGV8dF9tYnx0X21kfHRfbWV8dF9tcnx0X21zfHRfbmR8dF9vcHx0X1JJfHRfUlZ8dF9TYnx0X3NlfHRfU2Z8dF9TSXx0X3NvfHRfc3J8dF90ZXx0X3RpfHRfdHN8dF91ZXx0X3VzfHRfdXR8dF92Ynx0X3ZlfHRfdml8dF92c3x0X1dQfHRfV1N8dF94c3x0X1pIfHRfWlIpXGIvLG51bWJlcjovXGIoPzoweFtcZGEtZl0rfFxkKyg/OlwuXGQrKT8pXGIvaSxvcGVyYXRvcjovXHxcfHwmJnxbLSsuXT0/fFs9IV0oPzpbPX5dWyM/XT8pP3xbPD5dPT9bIz9dP3xbKlwvJT9dfFxiKD86aXMoPzpub3QpPylcYi8scHVuY3R1YXRpb246L1t7fVtcXSgpLDs6XS99OwpQcmlzbS5sYW5ndWFnZXMud2lraT1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCJtYXJrdXAiLHsiYmxvY2stY29tbWVudCI6e3BhdHRlcm46LyhefFteXFxdKVwvXCpbXHdcV10qP1wqXC8vLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImNvbW1lbnQifSxoZWFkaW5nOntwYXR0ZXJuOi9eKD0rKS4rP1wxL20saW5zaWRlOntwdW5jdHVhdGlvbjovXj0rfD0rJC8saW1wb3J0YW50Oi8uKy99fSxlbXBoYXNpczp7cGF0dGVybjovKCd7Miw1fSkuKz9cMS8saW5zaWRlOnsiYm9sZCBpdGFsaWMiOntwYXR0ZXJuOi8oJycnJycpLis/KD89XDEpLyxsb29rYmVoaW5kOiEwfSxib2xkOntwYXR0ZXJuOi8oJycnKVteJ10oPzouKj9bXiddKT8oPz1cMSkvLGxvb2tiZWhpbmQ6ITB9LGl0YWxpYzp7cGF0dGVybjovKCcnKVteJ10oPzouKj9bXiddKT8oPz1cMSkvLGxvb2tiZWhpbmQ6ITB9LHB1bmN0dWF0aW9uOi9eJycrfCcnKyQvfX0saHI6e3BhdHRlcm46L14tezQsfS9tLGFsaWFzOiJwdW5jdHVhdGlvbiJ9LHVybDpbL0lTQk4gKyg/Ojk3Wzg5XVsgLV0/KT8oPzpcZFsgLV0/KXs5fVtcZHhdXGJ8KD86UkZDfFBNSUQpICtcZCsvaSwvXFtcWy4rP1xdXF18XFsuKz9cXS9dLHZhcmlhYmxlOlsvX19bQS1aXStfXy8sL1x7ezN9Lis/XH17M30vLC9ce1x7Lis/fX0vXSxzeW1ib2w6Wy9eI3JlZGlyZWN0L2ltLC9+ezMsNX0vXSwidGFibGUtdGFnIjp7cGF0dGVybjovKCg/Ol58W3whXSlbfCFdKVtefFxyXG5dK1x8KD8hXHwpL20sbG9va2JlaGluZDohMCxpbnNpZGU6eyJ0YWJsZS1iYXIiOntwYXR0ZXJuOi9cfCQvLGFsaWFzOiJwdW5jdHVhdGlvbiJ9LHJlc3Q6UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlfX0scHVuY3R1YXRpb246L14oPzpce1x8fFx8XH18XHwtfFsqIzo7IXxdKXxcfFx8fCEhL219KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJ3aWtpIiwidGFnIix7bm93aWtpOntwYXR0ZXJuOi88KG5vd2lraXxwcmV8c291cmNlKVxiW1x3XFddKj8+W1x3XFddKj88XC9cMT4vaSxpbnNpZGU6e3RhZzp7cGF0dGVybjovPCg/Om5vd2lraXxwcmV8c291cmNlKVxiW1x3XFddKj8+fDxcLyg/Om5vd2lraXxwcmV8c291cmNlKT4vaSxpbnNpZGU6UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlfX19fSk7ClByaXNtLmxhbmd1YWdlcy54b2pvPXtjb21tZW50OntwYXR0ZXJuOi8oPzonfFwvXC98UmVtXGIpLisvaSxpbnNpZGU6e2tleXdvcmQ6L15SZW0vaX19LHN0cmluZzp7cGF0dGVybjovIig/OiIifFteIl0pKiIvLGdyZWVkeTohMH0sbnVtYmVyOlsvKD86XGJ8XEJbLi1dKSg/OlxkK1wuP1xkKikoPzpFWystXT9cZCspPy9pLC8mW2JjaG91XVthLXpcZF0rL2ldLHN5bWJvbDovIyg/OklmfEVsc2V8RWxzZUlmfEVuZGlmfFByYWdtYSlcYi9pLGtleXdvcmQ6L1xiKD86QWRkSGFuZGxlcnxBcHB8QXJyYXl8QXMoPzpzaWducyk/fEJ5KD86UmVmfFZhbCl8QnJlYWt8Q2FsbHxDYXNlfENhdGNofENvbnN0fENvbnRpbnVlfEN1cnJlbnRNZXRob2ROYW1lfERlY2xhcmV8RGltfERvKD86d25Ubyk/fEVhY2h8RWxzZSg/OklmKT98RW5kfEV4aXR8RXh0ZW5kc3xGYWxzZXxGaW5hbGx5fEZvcnxHbG9iYWx8SWZ8SW58TGlifExvb3B8TWV8TmV4dHxOaWx8T3B0aW9uYWx8UGFyYW1BcnJheXxSYWlzZSg/OkV2ZW50KT98UmVEaW18UmVtfFJlbW92ZUhhbmRsZXJ8UmV0dXJufFNlbGVjdHxTZWxmfFNvZnR8U3RhdGljfFN0ZXB8U3VwZXJ8VGhlbnxUb3xUcnVlfFRyeXxVYm91bmR8VW50aWx8VXNpbmd8V2VuZHxXaGlsZSlcYi9pLG9wZXJhdG9yOi88Wz0+XT98Pj0/fFsrXC0qXC9cXF49XXxcYig/OkFkZHJlc3NPZnxBbmR8Q3R5cGV8SXNBP3xNb2R8TmV3fE5vdHxPcnxYb3J8V2Vha0FkZHJlc3NPZilcYi9pLHB1bmN0dWF0aW9uOi9bLiw7OigpXS99OwpQcmlzbS5sYW5ndWFnZXMueWFtbD17c2NhbGFyOntwYXR0ZXJuOi8oW1wtOl1ccyooIVteXHNdKyk/WyBcdF0qW3w+XSlbIFx0XSooPzooKD86XHI/XG58XHIpWyBcdF0rKVteXHJcbl0rKD86XDNbXlxyXG5dKykqKS8sbG9va2JlaGluZDohMCxhbGlhczoic3RyaW5nIn0sY29tbWVudDovIy4qLyxrZXk6e3BhdHRlcm46LyhccyooPzpefFs6XC0sW3tcclxuP10pWyBcdF0qKCFbXlxzXSspP1sgXHRdKilbXlxyXG57W1xdfSwjXHNdKz8oPz1ccyo6XHMpLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJhdHJ1bGUifSxkaXJlY3RpdmU6e3BhdHRlcm46LyheWyBcdF0qKSUuKy9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImltcG9ydGFudCJ9LGRhdGV0aW1lOntwYXR0ZXJuOi8oWzpcLSxbe11ccyooIVteXHNdKyk/WyBcdF0qKShcZHs0fS1cZFxkPy1cZFxkPyhbdFRdfFsgXHRdKylcZFxkPzpcZHsyfTpcZHsyfShcLlxkKik/WyBcdF0qKFp8Wy0rXVxkXGQ/KDpcZHsyfSk/KT98XGR7NH0tXGR7Mn0tXGR7Mn18XGRcZD86XGR7Mn0oOlxkezJ9KFwuXGQqKT8pPykoPz1bIFx0XSooJHwsfF18fSkpL20sbG9va2JlaGluZDohMCxhbGlhczoibnVtYmVyIn0sImJvb2xlYW4iOntwYXR0ZXJuOi8oWzpcLSxbe11ccyooIVteXHNdKyk/WyBcdF0qKSh0cnVlfGZhbHNlKVsgXHRdKig/PSR8LHxdfH0pL2ltLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImltcG9ydGFudCJ9LCJudWxsIjp7cGF0dGVybjovKFs6XC0sW3tdXHMqKCFbXlxzXSspP1sgXHRdKikobnVsbHx+KVsgXHRdKig/PSR8LHxdfH0pL2ltLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImltcG9ydGFudCJ9LHN0cmluZzp7cGF0dGVybjovKFs6XC0sW3tdXHMqKCFbXlxzXSspP1sgXHRdKikoIig/OlteIlxcXXxcXC4pKiJ8Jyg/OlteJ1xcXXxcXC4pKicpKD89WyBcdF0qKCR8LHxdfH0pKS9tLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwfSxudW1iZXI6e3BhdHRlcm46LyhbOlwtLFt7XVxzKighW15cc10rKT9bIFx0XSopWytcLV0/KDB4W1xkYS1mXSt8MG9bMC03XSt8KFxkK1wuP1xkKnxcLj9cZCspKGVbXCtcLV0/XGQrKT98XC5pbmZ8XC5uYW4pWyBcdF0qKD89JHwsfF18fSkvaW0sbG9va2JlaGluZDohMH0sdGFnOi8hW15cc10rLyxpbXBvcnRhbnQ6L1smKl1bXHddKy8scHVuY3R1YXRpb246Ly0tLXxbOltcXXt9XC0sfD4/XXxcLlwuXC4vfTsKIWZ1bmN0aW9uKCl7InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLlByaXNtJiZzZWxmLmRvY3VtZW50JiZQcmlzbS5ob29rcy5hZGQoImNvbXBsZXRlIixmdW5jdGlvbihlKXtpZihlLmNvZGUpe3ZhciB0PWUuZWxlbWVudC5wYXJlbnROb2RlLHM9L1xzKlxibGluZS1udW1iZXJzXGJccyovO2lmKHQmJi9wcmUvaS50ZXN0KHQubm9kZU5hbWUpJiYocy50ZXN0KHQuY2xhc3NOYW1lKXx8cy50ZXN0KGUuZWxlbWVudC5jbGFzc05hbWUpKSYmIWUuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCIubGluZS1udW1iZXJzLXJvd3MiKSl7cy50ZXN0KGUuZWxlbWVudC5jbGFzc05hbWUpJiYoZS5lbGVtZW50LmNsYXNzTmFtZT1lLmVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UocywiIikpLHMudGVzdCh0LmNsYXNzTmFtZSl8fCh0LmNsYXNzTmFtZSs9IiBsaW5lLW51bWJlcnMiKTt2YXIgbixhPWUuY29kZS5tYXRjaCgvXG4oPyEkKS9nKSxsPWE/YS5sZW5ndGgrMToxLHI9bmV3IEFycmF5KGwrMSk7cj1yLmpvaW4oIjxzcGFuPjwvc3Bhbj4iKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxuLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCJ0cnVlIiksbi5jbGFzc05hbWU9ImxpbmUtbnVtYmVycy1yb3dzIixuLmlubmVySFRNTD1yLHQuaGFzQXR0cmlidXRlKCJkYXRhLXN0YXJ0IikmJih0LnN0eWxlLmNvdW50ZXJSZXNldD0ibGluZW51bWJlciAiKyhwYXJzZUludCh0LmdldEF0dHJpYnV0ZSgiZGF0YS1zdGFydCIpLDEwKS0xKSksZS5lbGVtZW50LmFwcGVuZENoaWxkKG4pfX19KX0oKTsK');
}


function resource_de6111cfa3ef50cb533c22819f26c4d3() {
    return base64_decode('QGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1MYXRvOjMwMCw0MDAsNDAwaSw3MDAsOTAwJnN1YnNldD1sYXRpbi1leHQnKTsKCi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpERUZBVUxUUwotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KaHRtbCxib2R5LGRpdixzcGFuLGFwcGxldCxvYmplY3QsaWZyYW1lLGgxLGgyLGgzLGg0LGg1LGg2LHAsYmxvY2txdW90ZSxwcmUsYSxhYmJyLAphY3JvbnltLGFkZHJlc3MsYmlnLGNpdGUsY29kZSxkZWwsZGZuLGVtLGltZyxpbnMsa2JkLHEscyxzYW1wLHNtYWxsLHN0cmlrZSxzdHJvbmcsCnN1YixzdXAsdHQsdmFyLGRsLGR0LGRkLG9sLHVsLGxpLGZpZWxkc2V0LGZvcm0sbGFiZWwsbGVnZW5kLHRhYmxlLGNhcHRpb24sdGJvZHksCnRmb290LHRoZWFkLHRyLHRoLHRkIHsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7CiAgICBib3JkZXI6IDA7CiAgICBvdXRsaW5lOiAwOwogICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7CiAgICBmb250LXN0eWxlOiBpbmhlcml0OwogICAgZm9udC1mYW1pbHk6ICdMYXRvJywgc2Fucy1zZXJpZjsKICAgIGZvbnQtc2l6ZTogMTAwJTsKICAgIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KaHRtbCB7CiAgICBvdmVyZmxvdy14OiBoaWRkZW47CiAgICBoZWlnaHQ6IDEwMCU7Cn0KYm9keSB7CiAgICBsaW5lLWhlaWdodDogMTsKICAgIGNvbG9yOiAjMDAwOwogICAgYmFja2dyb3VuZDogI2VmNjk2OTsKICAgIGhlaWdodDogMTAwJTsKICAgIG1hcmdpbi10b3A6IDMwcHg7Cn0Kb2wsIHVsIHsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7Cn0KdGFibGUgewogICAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTsKICAgIGJvcmRlci1zcGFjaW5nOiAwOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQpjYXB0aW9uLCB0aCwgdGQgewogICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9CmEgaW1nIHsKICAgIGJvcmRlcjogbm9uZTsKfQpociB7CiAgICBib3JkZXI6IDA7CiAgICBib3JkZXItYm90dG9tOiAxcHggZGFzaGVkICNmZmI4Yjg7Cn0KCi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpGT05UUyBERUZBVUxUUwotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KYm9keSwKdGQsCnRleHRhcmVhCnsKICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICBmb250LXNpemU6IDFlbTsKICAgIGNvbG9yOiAjZmZmOwp9CmEgewogICAgY29sb3I6ICNmZmY7CiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KYTpob3ZlciB7CiAgICBjb2xvcjogIzMzMDYwNjsKfQpoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IHsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgoKCgoKCi5jb250ZW50IC5icmVhZGNydW1iIHsKICAgIG1hcmdpbjogMCAtMTVweCAyMHB4IC0xNXB4ICFpbXBvcnRhbnQ7CiAgICBmb250LXNpemU6IC45ZW07CiAgICBwYWRkaW5nOiAzcHggMTVweDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZiMmIyOwp9CgouYnJlYWRjcnVtYiAuYWN0aXZlIGEgewogICAgY29sb3I6ICNkYTUyNTI7Cn0KLmJyZWFkY3J1bWI+bGkgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwp9Ci5icmVhZGNydW1iPmxpK2xpOmJlZm9yZSB7CiAgICBjb250ZW50OiAiL1wwMGEwIjsKICAgIHBhZGRpbmc6IDAgNXB4OwogICAgY29sb3I6ICNjY2M7Cn0KCi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpIRUFERVIKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCi5oZWFkZXIgewogICAgcGFkZGluZzogNXB4IDEwcHg7CiAgICBjb2xvcjogI2ZmZjsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwJTsKICAgIHotaW5kZXg6IDk5OTk7CiAgICBiYWNrZ3JvdW5kOiAjMzMwNjA2OwogICAgY2xlYXI6IGJvdGg7Cn0KCi5oZWFkZXIgaDIgewogICAgZmxvYXQ6IGxlZnQ7Cn0KCi51c2VyLWFjdGlvbnMgewogICAgZmxvYXQ6IHJpZ2h0OwogICAgbWFyZ2luLXJpZ2h0OiAyMHB4Owp9CgovKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KRk9PVEVSCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwouZm9vdGVyIHsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICB0ZXh0LWFsaWduOiByaWdodDsKfQouZm9vdGVyIC50aGVtZXMgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwp9Ci5mb290ZXIgLmNvcHlyaWdodHMgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgY29sb3I6IGdyYXk7CiAgICBmb250LXNpemU6IDExcHg7Cn0KCgovKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KTkFWCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoubmF2IHsKICAgIGZvbnQtc2l6ZTogMC45ZW07Cn0KLm5hdi1pbm5lciB7CiAgICBwYWRkaW5nOiAycmVtOwp9Ci5uYXYtaW5uZXIgPiB1bCB1bCB7CiAgICBtYXJnaW4tbGVmdDogMTVweDsKfQoubmF2LWlubmVyIGEgewogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgcGFkZGluZy10b3A6IDFweDsKICAgIHBhZGRpbmctYm90dG9tOiAxcHg7Cn0KLm5hdi1pbm5lciBoNCB7CiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgZm9udC1zaXplOiAwLjllbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwp9Ci5uYXYtaW5uZXIgaDUgewogICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgIGZvbnQtc2l6ZTogMC45ZW07CiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7Cn0KLm5hdi1pbm5lciBoNiB7CiAgICBmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50Owp9CgoubmF2LWlubmVyID4gaDE6Zmlyc3QtY2hpbGQgewogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKfQoKI3BhZ2UtdG9jIHsKICAgIGJhY2tncm91bmQ6ICNlMDYyNjI7CiAgICBtYXJnaW4tbGVmdDogLTJyZW07CiAgICBtYXJnaW4tcmlnaHQ6IC0xLjVyZW07CiAgICBwYWRkaW5nOiAuNXJlbSAxcmVtIC41cmVtIDA7CiAgICBtYXJnaW4tYm90dG9tOiAxcmVtOwogICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICBtYXJnaW4tdG9wOiAuOHJlbTsKfQojcGFnZS10b2MgYSB7CiAgICBjb2xvcjogI2ZmZjsKfQojcGFnZS10b2MgLnRvYy1hY3RpdmUgYSwgI3BhZ2UtdG9jIGE6aG92ZXIgewogICAgY29sb3I6ICMwMDA7Cn0KI3BhZ2UtdG9jIC50b2MtaDIgewogICAgcGFkZGluZy1sZWZ0OiAxMHB4Owp9CiNwYWdlLXRvYyAudG9jLWgzIHsKICAgIHBhZGRpbmctbGVmdDogMjBweDsKfQoKQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7CiAgICAubmF2IHsKICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjZGZlMmU3OwogICAgfQp9CkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgewogICAgLm5hdiB7CiAgICAgICAgZGlzcGxheTogbm9uZTsKICAgIH0KfQpAbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHsKICAgIC5jb250YWluZXIgewogICAgICAgIHBhZGRpbmctbGVmdDogMjcwcHg7CiAgICB9CiAgICAubmF2IHsKICAgICAgICBsZWZ0OiAwOwogICAgICAgIHRvcDogNDBweDsKICAgICAgICBib3R0b206IDA7CiAgICAgICAgd2lkdGg6IDI2MHB4OwogICAgICAgIGJvcmRlci1yaWdodDogc29saWQgMXB4ICNmZjgzODM7CiAgICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICB9CiAgICAubmF2Ojotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgICAgd2lkdGg6IDhweDsKICAgICAgICBoZWlnaHQ6IDE1cHg7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgfQogICAgLm5hdjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjUpOwogICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIH0KICAgIC5uYXY6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIC41KTsKICAgIH0KfQoKCgovKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqIENvbnRlbnQgc3R5bGluZwogKi8KLmNvbnRlbnQgcCwKLmNvbnRlbnQgdWwsCi5jb250ZW50IG9sLAouY29udGVudCBoMSwKLmNvbnRlbnQgaDIsCi5jb250ZW50IGgzLAouY29udGVudCBoNCwKLmNvbnRlbnQgaDUsCi5jb250ZW50IGg2LAouY29udGVudCBwcmU6bm90KFtjbGFzcyo9Imxhbmd1YWdlLSJdKSwKLmNvbnRlbnQgYmxvY2txdW90ZSB7CiAgICBwYWRkaW5nOiAxMHB4IDA7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CnByZS5Db2RlTWlycm9yLWxpbmUgewogICAgcGFkZGluZzogMCAhaW1wb3J0YW50Owp9Ci5lZGl0LW1vZGUgLmNvbnRlbnQgewogICAgbWF4LXdpZHRoOiAxMDAlOwp9Ci5Db2RlTWlycm9yIHsKICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50OwogICAgcGFkZGluZzogMjBweDsKfQouY29udGVudCBwcmUgewogICAgZm9udC1mYW1pbHk6IE1lbmxvLCBtb25vc3BhY2U7CiAgICBtYXJnaW4tYm90dG9tOiAxZW07Cn0KLmNvbnRlbnQgb2wgPiBsaSB7CiAgICBsaXN0LXN0eWxlLXR5cGU6IGRlY2ltYWw7Cn0KLmNvbnRlbnQgdWwsCi5jb250ZW50IG9sIHsKICAgIG1hcmdpbi1sZWZ0OiAyMHB4Owp9Ci5jb250ZW50IHVsID4gbGkgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgbGlzdC1zdHlsZS10eXBlOiBkaXNjOwp9Ci5jb250ZW50IGxpID4gOmZpcnN0LWNoaWxkIHsKICAgIHBhZGRpbmctdG9wOiAwOwp9Ci5jb250ZW50IHN0cm9uZywKLmNvbnRlbnQgYiB7CiAgICBmb250LXdlaWdodDogYm9sZDsKfQouY29udGVudCBpLAouY29udGVudCBlbSB7CiAgICBmb250LXN0eWxlOiBpdGFsaWM7Cn0KLmNvbnRlbnQgY29kZSB7CiAgICBmb250LWZhbWlseTogTWVubG8sIG1vbm9zcGFjZTsKICAgIGJhY2tncm91bmQ6ICNmYjdhN2E7CiAgICBwYWRkaW5nOiAxcHggM3B4OwogICAgZm9udC1zaXplOiAwLjk1ZW07Cn0KLmNvbnRlbnQgcHJlID4gY29kZSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgZm9udC1zaXplOiAxZW07CiAgICBsZXR0ZXItc3BhY2luZzogLTFweDsKfQovKi5jb250ZW50IGJsb2NrcXVvdGUgOmZpcnN0LWNoaWxkIHsqLwogICAgLypwYWRkaW5nLXRvcDogMDsqLwovKn0qLwovKi5jb250ZW50IGJsb2NrcXVvdGUgOmxhc3QtY2hpbGQgeyovCiAgICAvKnBhZGRpbmctYm90dG9tOiAwOyovCi8qfSovCi5jb250ZW50IHRhYmxlIHsKICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgcGFkZGluZzogMDsKICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICBjbGVhcjogYm90aDsKfQouY29udGVudCB0YWJsZSB0ciB7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2NjYzsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwp9Ci5jb250ZW50IHRhYmxlIHRyIDpudGgtY2hpbGQoMm4pIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7Cn0KLmNvbnRlbnQgdGFibGUgdHIgdGggewogICAgdGV4dC1hbGlnbjogYXV0bzsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDZweCAxM3B4Owp9Ci5jb250ZW50IHRhYmxlIHRyIHRkIHsKICAgIHRleHQtYWxpZ246IGF1dG87CiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogNnB4IDEzcHg7Cn0KLmNvbnRlbnQgdGFibGUgdHIgdGggOmZpcnN0LWNoaWxkLAouY29udGVudCB0YWJsZSB0ciB0ZCA6Zmlyc3QtY2hpbGQgewogICAgbWFyZ2luLXRvcDogMDsKfQouY29udGVudCB0YWJsZSB0ciB0aCA6bGFzdC1jaGlsZCwKLmNvbnRlbnQgdGFibGUgdHIgdGQgOmxhc3QtY2hpbGQgewogICAgbWFyZ2luLWJvdHRvbTogMDsKfQovKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqIENvbnRlbnQKICovCi5jb250ZW50LXJvb3QgewogICAgbWluLWhlaWdodDogOTAlOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwp9Ci5jb250ZW50IHsKICAgIHBhZGRpbmctdG9wOiAzMHB4OwogICAgcGFkZGluZy1ib3R0b206IDQwcHg7CiAgICBwYWRkaW5nLWxlZnQ6IDQwcHg7CiAgICBwYWRkaW5nLXJpZ2h0OiA0MHB4OwogICAgem9vbTogMTsKICAgIG1heC13aWR0aDogODAwcHg7Cn0KLmNvbnRlbnQ6YmVmb3JlLAouY29udGVudDphZnRlciB7CiAgICBjb250ZW50OiAiIjsKICAgIGRpc3BsYXk6IHRhYmxlOwp9Ci5jb250ZW50OmFmdGVyIHsKICAgIGNsZWFyOiBib3RoOwp9Ci5jb250ZW50IGJsb2NrcXVvdGUgewogICAgY29sb3I6ICNmZmZmZmY7CiAgICB0ZXh0LXNoYWRvdzogMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7CiAgICBiYWNrZ3JvdW5kOiAjZTA2MjYyOwogICAgcGFkZGluZy1sZWZ0OiAxcmVtOwp9CgouY29udGVudCBoMSB7CiAgICBmb250LXdlaWdodDogMzAwOwogICAgZm9udC1zaXplOiAzcmVtOwogICAgbGV0dGVyLXNwYWNpbmc6IDFweDsKfQoKLmNvbnRlbnQgaDIgewogICAgZm9udC1zaXplOiAycmVtOwogICAgZm9udC13ZWlnaHQ6IDMwMDsKICAgIGNvbG9yOiAjZThlOGU4Owp9Ci5jb250ZW50IGgzIHsKICAgIGZvbnQtc2l6ZTogMS41cmVtOwogICAgZm9udC13ZWlnaHQ6IDMwMDsKICAgIGNvbG9yOiAjZThlOGU4Owp9CgouY29udGVudCBoNCB7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiA0MDA7Cn0KCgovKkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgeyovCiAgICAvKi5jb250ZW50IGgxLCovCiAgICAvKi5jb250ZW50IGgyLCovCiAgICAvKi5jb250ZW50IGgxOmJlZm9yZSwqLwogICAgLyouY29udGVudCBoMjpiZWZvcmUgeyovCiAgICAgICAgLypiYWNrZ3JvdW5kOiAjZGZlMmU3OyovCiAgICAgICAgLypsZWZ0OiAtNDBweDsqLwogICAgICAgIC8qdG9wOiAtMjBweDsqLwogICAgICAgIC8qd2lkdGg6IDEyMCU7Ki8KICAgIC8qfSovCi8qfSovCi8qLmNvbnRlbnQgaDQsKi8KLyouY29udGVudCBoNSwqLwovKi5jb250ZW50IC5zbWFsbC1oZWFkaW5nIHsqLwogICAgLypib3JkZXItYm90dG9tOiBzb2xpZCAxcHggcmdiYSgwLDAsMCwwLjA3KTsqLwogICAgLypjb2xvcjogIzkwOTBhYTsqLwogICAgLypwYWRkaW5nLXRvcDogMzBweDsqLwogICAgLypwYWRkaW5nLWJvdHRvbTogMTBweDsqLwovKn0qLwovKi5jb250ZW50IGgxOmZpcnN0LWNoaWxkIHsqLwogICAgLypwYWRkaW5nLXRvcDogMDsqLwovKn0qLwovKi5jb250ZW50IGgxOmZpcnN0LWNoaWxkLCovCi8qLmNvbnRlbnQgaDE6Zmlyc3QtY2hpbGQgYSwqLwovKi5jb250ZW50IGgxOmZpcnN0LWNoaWxkIGE6dmlzaXRlZCB7Ki8KICAgIC8qY29sb3I6ICM1MDUwNTA7Ki8KLyp9Ki8KLyouY29udGVudCBoMTpmaXJzdC1jaGlsZDpiZWZvcmUgeyovCiAgICAvKmRpc3BsYXk6IG5vbmU7Ki8KLyp9Ki8KQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgICAuY29udGVudCBoNCwKICAgIC5jb250ZW50IGg1LAogICAgLmNvbnRlbnQgLnNtYWxsLWhlYWRpbmcgewogICAgICAgIHBhZGRpbmctdG9wOiAyMHB4OwogICAgfQp9CkBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkgewogICAgLmNvbnRlbnQgewogICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgcGFkZGluZy10b3A6IDQwcHg7CiAgICB9CiAgICAuY29udGVudCBoNCwKICAgIC5jb250ZW50IGg1LAogICAgLmNvbnRlbnQgLnNtYWxsLWhlYWRpbmcgewogICAgICAgIHBhZGRpbmctdG9wOiAxMHB4OwogICAgfQp9CgouY29udGFpbmVyLCAuY29udGVudCwgLmNvbnRlbnQtaW5uZXIgewogICAgbWluLWhlaWdodDogMTAwJTsKfQoKLmVkaXRvci10ZXh0YXJlYSB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogODAlOwogICAgZm9udC1mYW1pbHk6IENvbnNvbGFzLCBNb25hY28sICdBbmRhbGUgTW9ubycsIG1vbm9zcGFjZTsKICAgIGNvbG9yOiByZ2IoMjQ4LCAyNDgsIDI0Mik7CiAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgcGFkZGluZzogMTBweDsKICAgIG1hcmdpbjogMHB4OwogICAgd2lkdGg6IDcwMHB4OwogICAgaGVpZ2h0OiA2MDRweDsKICAgIGJhY2tncm91bmQ6IHJnYigzOSwgNDAsIDM0KTsKICAgIG91dGxpbmU6IDA7Cn0KCi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpMT0dJTiBQQUdFCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoubG9naW4tcGFnZSB7CiAgICBiYWNrZ3JvdW5kOiAjMzMzMzJGOwp9CgoubG9naW4tcGFnZSBmb3JtIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogNTAlOwogICAgbGVmdDogNTAlOwogICAgd2lkdGg6IDI2MHB4OwogICAgbWluLWhlaWdodDogMjAwcHg7CiAgICBtYXJnaW46IC0xNTBweCAwIDAgLTE1MHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgLypiYWNrZ3JvdW5kOiAjZWY4ZDMxOyovCiAgICBiYWNrZ3JvdW5kOiByZ2IoMTc3LCAxOTksIDU3KTsKICAgIGJvcmRlci1ib3R0b206IDhweCBzb2xpZCAjMjcyNzI3OwogICAgcGFkZGluZzogMjBweDsKfQoKLmxvZ2luLXBhZ2UgLmZvcm0tZ3JvdXAgewogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKfQoKLmxvZ2luLXBhZ2UgLmZvcm0tZ3JvdXAuY2hlY2tib3ggewogICAgdGV4dC1hbGlnbjogbGVmdDsKfQoKLmxvZ2luLXBhZ2UgaW5wdXRbdHlwZT10ZXh0XSwgLmxvZ2luLXBhZ2UgaW5wdXRbdHlwZT1wYXNzd29yZF0gewogICAgYm9yZGVyOiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBwYWRkaW5nOiAxMHB4IDE1cHg7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgoubG9naW4tcGFnZSBidXR0b24gewogICAgd2lkdGg6IDEwMCU7CiAgICBib3JkZXI6IDA7CiAgICBiYWNrZ3JvdW5kOiAjMzUzNTM1OwogICAgY29sb3I6ICNmZmY7CiAgICBwYWRkaW5nOiAxMHB4Owp9CgouY29kZS1hY3Rpb24tZG93bmxvYWQgewogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpOwogICAgdG9wOiAtMTlweDsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGNvbG9yOiAjZDQ4Nzg3OwogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgIGZvbnQtc2l6ZTogMTBweDsKICAgIGhlaWdodDogMjVweDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIHBhZGRpbmc6IDZweCA2cHg7Cn0KLmNvZGUtYWN0aW9uLWRvd25sb2FkOmhvdmVyIHsKICAgIC8qYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpOyovCiAgICBjb2xvcjogIzAwMDsKfQoKLyoqCiAqIHByaXNtLmpzIENveSB0aGVtZSBmb3IgSmF2YVNjcmlwdCwgQ29mZmVlU2NyaXB0LCBDU1MgYW5kIEhUTUwKICogQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL3RzaGVkb3Ivd29ya3Nob3Atd3AtdGhlbWUgKEV4YW1wbGU6IGh0dHA6Ly93b3Jrc2hvcC5rYW5zYW4uY29tL2NhdGVnb3J5L3Nlc3Npb25zL2Jhc2ljcyBvciBodHRwOi8vd29ya3Nob3AudGltc2hlZG9yLmNvbS9jYXRlZ29yeS9zZXNzaW9ucy9iYXNpY3MpOwogKiBAYXV0aG9yIFRpbSBTaGVkb3IKICovCmNvZGVbY2xhc3MqPSJsYW5ndWFnZS0iXSwKcHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0gewogICAgY29sb3I6IGJsYWNrOwogICAgZm9udC1mYW1pbHk6IENvbnNvbGFzLCBNb25hY28sICdBbmRhbGUgTW9ubycsIG1vbm9zcGFjZTsKICAgIGRpcmVjdGlvbjogbHRyOwogICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIHdoaXRlLXNwYWNlOiBwcmU7CiAgICB3b3JkLXNwYWNpbmc6IG5vcm1hbDsKICAgIHdvcmQtYnJlYWs6IG5vcm1hbDsKICAgIGxpbmUtaGVpZ2h0OiAxLjU7CgogICAgLW1vei10YWItc2l6ZTogNDsKICAgIC1vLXRhYi1zaXplOiA0OwogICAgdGFiLXNpemU6IDQ7CgogICAgLXdlYmtpdC1oeXBoZW5zOiBub25lOwogICAgLW1vei1oeXBoZW5zOiBub25lOwogICAgLW1zLWh5cGhlbnM6IG5vbmU7CiAgICBoeXBoZW5zOiBub25lOwp9CgovKiBDb2RlIGJsb2NrcyAqLwpwcmVbY2xhc3MqPSJsYW5ndWFnZS0iXSB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBtYXJnaW46IC41ZW0gMDsKICAgIG92ZXJmbG93OiB2aXNpYmxlOwogICAgbWF4LWhlaWdodDogMzBlbTsKfQoKY29kZVtjbGFzcyo9Imxhbmd1YWdlIl0gewogICAgbWF4LWhlaWdodDogaW5oZXJpdDsKICAgIGhlaWdodDogMTAwJTsKICAgIHBhZGRpbmc6IDFlbTsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgb3ZlcmZsb3c6IGF1dG87Cn0KCi8qIE1hcmdpbiBib3R0b20gdG8gYWNjb21vZGF0ZSBzaGFkb3cgKi8KOm5vdChwcmUpID4gY29kZVtjbGFzcyo9Imxhbmd1YWdlLSJdLApwcmVbY2xhc3MqPSJsYW5ndWFnZS0iXSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmRmZGZkOwogICAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIG1hcmdpbi1ib3R0b206IDFlbTsKfQoKLyogSW5saW5lIGNvZGUgKi8KOm5vdChwcmUpID4gY29kZVtjbGFzcyo9Imxhbmd1YWdlLSJdIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHBhZGRpbmc6IC4yZW07CiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDAuM2VtOwogICAgLW1vei1ib3JkZXItcmFkaXVzOiAwLjNlbTsKICAgIC1tcy1ib3JkZXItcmFkaXVzOiAwLjNlbTsKICAgIC1vLWJvcmRlci1yYWRpdXM6IDAuM2VtOwogICAgYm9yZGVyLXJhZGl1czogMC4zZW07CiAgICBjb2xvcjogI2M5MmMyYzsKICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTsKfQoKcHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl06YmVmb3JlLApwcmVbY2xhc3MqPSJsYW5ndWFnZS0iXTphZnRlciB7CiAgICBjb250ZW50OiAnJzsKICAgIHotaW5kZXg6IC0yOwogICAgZGlzcGxheTogYmxvY2s7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBib3R0b206IDAuNzVlbTsKICAgIGxlZnQ6IDAuMThlbTsKICAgIHdpZHRoOiA0MCU7CiAgICBoZWlnaHQ6IDIwJTsKfQoKOm5vdChwcmUpID4gY29kZVtjbGFzcyo9Imxhbmd1YWdlLSJdOmFmdGVyLApwcmVbY2xhc3MqPSJsYW5ndWFnZS0iXTphZnRlciB7CiAgICByaWdodDogMC43NWVtOwogICAgbGVmdDogYXV0bzsKfQoKLnRva2VuLmNvbW1lbnQsCi50b2tlbi5ibG9jay1jb21tZW50LAoudG9rZW4ucHJvbG9nLAoudG9rZW4uZG9jdHlwZSwKLnRva2VuLmNkYXRhIHsKICAgIGNvbG9yOiAjN0Q4Qjk5Owp9CgoudG9rZW4ucHVuY3R1YXRpb24gewogICAgY29sb3I6ICM1RjYzNjQ7Cn0KCi50b2tlbi5wcm9wZXJ0eSwKLnRva2VuLnRhZywKLnRva2VuLmJvb2xlYW4sCi50b2tlbi5udW1iZXIsCi50b2tlbi5mdW5jdGlvbi1uYW1lLAoudG9rZW4uY29uc3RhbnQsCi50b2tlbi5zeW1ib2wsCi50b2tlbi5kZWxldGVkIHsKICAgIGNvbG9yOiAjYzkyYzJjOwp9CgoudG9rZW4uc2VsZWN0b3IsCi50b2tlbi5hdHRyLW5hbWUsCi50b2tlbi5zdHJpbmcsCi50b2tlbi5jaGFyLAoudG9rZW4uZnVuY3Rpb24sCi50b2tlbi5idWlsdGluLAoudG9rZW4uaW5zZXJ0ZWQgewogICAgY29sb3I6ICMyZjljMGE7Cn0KCi50b2tlbi5vcGVyYXRvciwKLnRva2VuLmVudGl0eSwKLnRva2VuLnVybCwKLnRva2VuLnZhcmlhYmxlIHsKICAgIGNvbG9yOiAjYTY3ZjU5OwogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpOwp9CgoudG9rZW4uYXRydWxlLAoudG9rZW4uYXR0ci12YWx1ZSwKLnRva2VuLmtleXdvcmQsCi50b2tlbi5jbGFzcy1uYW1lIHsKICAgIGNvbG9yOiAjMTk5MGI4Owp9CgoudG9rZW4ucmVnZXgsCi50b2tlbi5pbXBvcnRhbnQgewogICAgY29sb3I6ICNlOTA7Cn0KCi5sYW5ndWFnZS1jc3MgLnRva2VuLnN0cmluZywKLnN0eWxlIC50b2tlbi5zdHJpbmcgewogICAgY29sb3I6ICNhNjdmNTk7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7Cn0KCi50b2tlbi5pbXBvcnRhbnQgewogICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKfQoKLnRva2VuLmJvbGQgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnRva2VuLml0YWxpYyB7CiAgICBmb250LXN0eWxlOiBpdGFsaWM7Cn0KCi50b2tlbi5lbnRpdHkgewogICAgY3Vyc29yOiBoZWxwOwp9CgoubmFtZXNwYWNlIHsKICAgIG9wYWNpdHk6IC43Owp9CgpAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjdweCkgewogICAgcHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl06YmVmb3JlLAogICAgcHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl06YWZ0ZXIgewogICAgICAgIGJvdHRvbTogMTRweDsKICAgICAgICAtd2Via2l0LWJveC1zaGFkb3c6IG5vbmU7CiAgICAgICAgLW1vei1ib3gtc2hhZG93OiBub25lOwogICAgICAgIGJveC1zaGFkb3c6IG5vbmU7CiAgICB9Cgp9CgovKiBQbHVnaW4gc3R5bGVzICovCi50b2tlbi50YWI6bm90KDplbXB0eSk6YmVmb3JlLAoudG9rZW4uY3I6YmVmb3JlLAoudG9rZW4ubGY6YmVmb3JlIHsKICAgIGNvbG9yOiAjZTBkN2QxOwp9CgovKiBQbHVnaW4gc3R5bGVzOiBMaW5lIE51bWJlcnMgKi8KcHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0ubGluZS1udW1iZXJzIHsKICAgIHBhZGRpbmctbGVmdDogMDsKfQoKcHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0ubGluZS1udW1iZXJzIGNvZGUgewogICAgcGFkZGluZy1sZWZ0OiAzLjhlbTsKfQoKcHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0ubGluZS1udW1iZXJzIC5saW5lLW51bWJlcnMtcm93cyB7CiAgICBsZWZ0OiAwOwp9Cgo=');
}


function resource_37985b64af1bdcd122088bb166b9a3e9() {
    return base64_decode('LyoqDQogKiBDcmVhdGVkIGJ5IG9mY2Egb24gMjAxNS0wMi0yMS4NCiAqLw0KLyohIGpRdWVyeSB2Mi4xLjMgfCAoYykgMjAwNSwgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLw0KIWZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiBiKGEpfTpiKGEpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9Yy5zbGljZSxlPWMuY29uY2F0LGY9Yy5wdXNoLGc9Yy5pbmRleE9mLGg9e30saT1oLnRvU3RyaW5nLGo9aC5oYXNPd25Qcm9wZXJ0eSxrPXt9LGw9YS5kb2N1bWVudCxtPSIyLjEuMyIsbj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbi5mbi5pbml0KGEsYil9LG89L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLHA9L14tbXMtLyxxPS8tKFtcZGEtel0pL2dpLHI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTtuLmZuPW4ucHJvdG90eXBlPXtqcXVlcnk6bSxjb25zdHJ1Y3RvcjpuLHNlbGVjdG9yOiIiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTpkLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1uLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZWFjaCh0aGlzLGEsYil9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGVuZ3RoLGM9K2ErKDA+YT9iOjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhjPj0wJiZiPmM/W3RoaXNbY11dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpmLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbi5leHRlbmQ9bi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG4uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oYT1hcmd1bWVudHNbaF0pKWZvcihiIGluIGEpYz1nW2JdLGQ9YVtiXSxnIT09ZCYmKGomJmQmJihuLmlzUGxhaW5PYmplY3QoZCl8fChlPW4uaXNBcnJheShkKSkpPyhlPyhlPSExLGY9YyYmbi5pc0FycmF5KGMpP2M6W10pOmY9YyYmbi5pc1BsYWluT2JqZWN0KGMpP2M6e30sZ1tiXT1uLmV4dGVuZChqLGYsZCkpOnZvaWQgMCE9PWQmJihnW2JdPWQpKTtyZXR1cm4gZ30sbi5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKG0rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhPT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4hbi5pc0FycmF5KGEpJiZhLXBhcnNlRmxvYXQoYSkrMT49MH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXtyZXR1cm4ib2JqZWN0IiE9PW4udHlwZShhKXx8YS5ub2RlVHlwZXx8bi5pc1dpbmRvdyhhKT8hMTphLmNvbnN0cnVjdG9yJiYhai5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIik/ITE6ITB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aFtpLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihhKXt2YXIgYixjPWV2YWw7YT1uLnRyaW0oYSksYSYmKDE9PT1hLmluZGV4T2YoInVzZSBzdHJpY3QiKT8oYj1sLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGIudGV4dD1hLGwuaGVhZC5hcHBlbmRDaGlsZChiKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpKTpjKGEpKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCwibXMtIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9MCxmPWEubGVuZ3RoLGc9cyhhKTtpZihjKXtpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmFwcGx5KGFbZV0sYyksZD09PSExKWJyZWFrfWVsc2UgZm9yKGUgaW4gYSlpZihkPWIuYXBwbHkoYVtlXSxjKSxkPT09ITEpYnJlYWt9ZWxzZSBpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVha31lbHNlIGZvcihlIGluIGEpaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjooYSsiIikucmVwbGFjZShvLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihzKE9iamVjdChhKSk/bi5tZXJnZShjLCJzdHJpbmciPT10eXBlb2YgYT9bYV06YSk6Zi5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1iPy0xOmcuY2FsbChiLGEsYyl9LG1lcmdlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPStiLmxlbmd0aCxkPTAsZT1hLmxlbmd0aDtjPmQ7ZCsrKWFbZSsrXT1iW2RdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPTAsZz1hLmxlbmd0aCxoPXMoYSksaT1bXTtpZihoKWZvcig7Zz5mO2YrKylkPWIoYVtmXSxmLGMpLG51bGwhPWQmJmkucHVzaChkKTtlbHNlIGZvcihmIGluIGEpZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7cmV0dXJuIGUuYXBwbHkoW10saSl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGImJihjPWFbYl0sYj1hLGE9Yyksbi5pc0Z1bmN0aW9uKGEpPyhlPWQuY2FsbChhcmd1bWVudHMsMiksZj1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsZS5jb25jYXQoZC5jYWxsKGFyZ3VtZW50cykpKX0sZi5ndWlkPWEuZ3VpZD1hLmd1aWR8fG4uZ3VpZCsrLGYpOnZvaWQgMH0sbm93OkRhdGUubm93LHN1cHBvcnQ6a30pLG4uZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2hbIltvYmplY3QgIitiKyJdIl09Yi50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gcyhhKXt2YXIgYj1hLmxlbmd0aCxjPW4udHlwZShhKTtyZXR1cm4iZnVuY3Rpb24iPT09Y3x8bi5pc1dpbmRvdyhhKT8hMToxPT09YS5ub2RlVHlwZSYmYj8hMDoiYXJyYXkiPT09Y3x8MD09PWJ8fCJudW1iZXIiPT10eXBlb2YgYiYmYj4wJiZiLTEgaW4gYX12YXIgdD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1PSJzaXp6bGUiKzEqbmV3IERhdGUsdj1hLmRvY3VtZW50LHc9MCx4PTAseT1oYigpLHo9aGIoKSxBPWhiKCksQj1mdW5jdGlvbihhLGIpe3JldHVybiBhPT09YiYmKGw9ITApLDB9LEM9MTw8MzEsRD17fS5oYXNPd25Qcm9wZXJ0eSxFPVtdLEY9RS5wb3AsRz1FLnB1c2gsSD1FLnB1c2gsST1FLnNsaWNlLEo9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspaWYoYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LEs9ImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkIixMPSJbXFx4MjBcXHRcXHJcXG5cXGZdIixNPSIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsTj1NLnJlcGxhY2UoInciLCJ3IyIpLE89IlxcWyIrTCsiKigiK00rIikoPzoiK0wrIiooWypeJHwhfl0/PSkiK0wrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitOKyIpKXwpIitMKyIqXFxdIixQPSI6KCIrTSsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrTysiKSopfC4qKVxcKXwpIixRPW5ldyBSZWdFeHAoTCsiKyIsImciKSxSPW5ldyBSZWdFeHAoIl4iK0wrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTCsiKyQiLCJnIiksUz1uZXcgUmVnRXhwKCJeIitMKyIqLCIrTCsiKiIpLFQ9bmV3IFJlZ0V4cCgiXiIrTCsiKihbPit+XXwiK0wrIikiK0wrIioiKSxVPW5ldyBSZWdFeHAoIj0iK0wrIiooW15cXF0nXCJdKj8pIitMKyIqXFxdIiwiZyIpLFY9bmV3IFJlZ0V4cChQKSxXPW5ldyBSZWdFeHAoIl4iK04rIiQiKSxYPXtJRDpuZXcgUmVnRXhwKCJeIygiK00rIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrTSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTS5yZXBsYWNlKCJ3IiwidyoiKSsiKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrTyksUFNFVURPOm5ldyBSZWdFeHAoIl4iK1ApLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrTCsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrTCsiKig/OihbKy1dfCkiK0wrIiooXFxkKyl8KSkiK0wrIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK0srIikkIiwiaSIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKCJeIitMKyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK0wrIiooKD86LVxcZCk/XFxkKikiK0wrIipcXCl8KSg/PVteLV18JCkiLCJpIil9LFk9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxaPS9eaFxkJC9pLCQ9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLF89L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxhYj0vWyt+XS8sYmI9Lyd8XFwvZyxjYj1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK0wrIj98KCIrTCsiKXwuKSIsImlnIiksZGI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGViPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChmYil7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZ2IoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3LHg7aWYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnYpIT09biYmbShiKSxiPWJ8fG4sZD1kfHxbXSxrPWIubm9kZVR5cGUsInN0cmluZyIhPXR5cGVvZiBhfHwhYXx8MSE9PWsmJjkhPT1rJiYxMSE9PWspcmV0dXJuIGQ7aWYoIWUmJnApe2lmKDExIT09ayYmKGY9Xy5leGVjKGEpKSlpZihqPWZbMV0pe2lmKDk9PT1rKXtpZihoPWIuZ2V0RWxlbWVudEJ5SWQoaiksIWh8fCFoLnBhcmVudE5vZGUpcmV0dXJuIGQ7aWYoaC5pZD09PWopcmV0dXJuIGQucHVzaChoKSxkfWVsc2UgaWYoYi5vd25lckRvY3VtZW50JiYoaD1iLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaikpJiZ0KGIsaCkmJmguaWQ9PT1qKXJldHVybiBkLnB1c2goaCksZH1lbHNle2lmKGZbMl0pcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpKSxkO2lmKChqPWZbM10pJiZjLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaikpLGR9aWYoYy5xc2EmJighcXx8IXEudGVzdChhKSkpe2lmKHM9cj11LHc9Yix4PTEhPT1rJiZhLDE9PT1rJiYib2JqZWN0IiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7bz1nKGEpLChyPWIuZ2V0QXR0cmlidXRlKCJpZCIpKT9zPXIucmVwbGFjZShiYiwiXFwkJiIpOmIuc2V0QXR0cmlidXRlKCJpZCIscykscz0iW2lkPSciK3MrIiddICIsbD1vLmxlbmd0aDt3aGlsZShsLS0pb1tsXT1zK3JiKG9bbF0pO3c9YWIudGVzdChhKSYmcGIoYi5wYXJlbnROb2RlKXx8Yix4PW8uam9pbigiLCIpfWlmKHgpdHJ5e3JldHVybiBILmFwcGx5KGQsdy5xdWVyeVNlbGVjdG9yQWxsKHgpKSxkfWNhdGNoKHkpe31maW5hbGx5e3J8fGIucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGkoYS5yZXBsYWNlKFIsIiQxIiksYixkLGUpfWZ1bmN0aW9uIGhiKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYysiICIpPmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjKyIgIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBpYihhKXtyZXR1cm4gYVt1XT0hMCxhfWZ1bmN0aW9uIGpiKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24ga2IoYSxiKXt2YXIgYz1hLnNwbGl0KCJ8IiksZT1hLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24gbGIoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8fEMpLSh+YS5zb3VyY2VJbmRleHx8Qyk7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIG1iKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5iKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1jfHwiYnV0dG9uIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBvYihhKXtyZXR1cm4gaWIoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsaWIoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBwYihhKXtyZXR1cm4gYSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZhfWM9Z2Iuc3VwcG9ydD17fSxmPWdiLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1lbnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj8iSFRNTCIhPT1iLm5vZGVOYW1lOiExfSxtPWdiLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGUsZz1hP2Eub3duZXJEb2N1bWVudHx8YTp2O3JldHVybiBnIT09biYmOT09PWcubm9kZVR5cGUmJmcuZG9jdW1lbnRFbGVtZW50PyhuPWcsbz1nLmRvY3VtZW50RWxlbWVudCxlPWcuZGVmYXVsdFZpZXcsZSYmZSE9PWUudG9wJiYoZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixlYiwhMSk6ZS5hdHRhY2hFdmVudCYmZS5hdHRhY2hFdmVudCgib251bmxvYWQiLGViKSkscD0hZihnKSxjLmF0dHJpYnV0ZXM9amIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPSJpIiwhYS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1qYihmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChnLmNyZWF0ZUNvbW1lbnQoIiIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT0kLnRlc3QoZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxjLmdldEJ5SWQ9amIoZnVuY3Rpb24oYSl7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoYSkuaWQ9dSwhZy5nZXRFbGVtZW50c0J5TmFtZXx8IWcuZ2V0RWxlbWVudHNCeU5hbWUodSkubGVuZ3RofSksYy5nZXRCeUlkPyhkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQmJnApe3ZhciBjPWIuZ2V0RWxlbWVudEJ5SWQoYSk7cmV0dXJuIGMmJmMucGFyZW50Tm9kZT9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2IsZGIpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImlkIik9PT1ifX0pOihkZWxldGUgZC5maW5kLklELGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShjYixkYik7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPSJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOmMucXNhP2IucXVlcnlTZWxlY3RvckFsbChhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKCIqIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuIHA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT0kLnRlc3QoZy5xdWVyeVNlbGVjdG9yQWxsKSkmJihqYihmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD0iPGEgaWQ9JyIrdSsiJz48L2E+PHNlbGVjdCBpZD0nIit1KyItXGZdJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsYS5xdWVyeVNlbGVjdG9yQWxsKCJbbXNhbGxvd2NhcHR1cmVePScnXSIpLmxlbmd0aCYmcS5wdXNoKCJbKl4kXT0iK0wrIiooPzonJ3xcIlwiKSIpLGEucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aHx8cS5wdXNoKCJcXFsiK0wrIiooPzp2YWx1ZXwiK0srIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZH49Iit1KyItXSIpLmxlbmd0aHx8cS5wdXNoKCJ+PSIpLGEucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHEucHVzaCgiOmNoZWNrZWQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIit1KyIrKiIpLmxlbmd0aHx8cS5wdXNoKCIuIy4rWyt+XSIpfSksamIoZnVuY3Rpb24oYSl7dmFyIGI9Zy5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksYS5hcHBlbmRDaGlsZChiKS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmcS5wdXNoKCJuYW1lIitMKyIqWypeJHwhfl0/PSIpLGEucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGh8fHEucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSxxLnB1c2goIiwuKjoiKX0pKSwoYy5tYXRjaGVzU2VsZWN0b3I9JC50ZXN0KHM9by5tYXRjaGVzfHxvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8by5tb3pNYXRjaGVzU2VsZWN0b3J8fG8ub01hdGNoZXNTZWxlY3Rvcnx8by5tc01hdGNoZXNTZWxlY3RvcikpJiZqYihmdW5jdGlvbihhKXtjLmRpc2Nvbm5lY3RlZE1hdGNoPXMuY2FsbChhLCJkaXYiKSxzLmNhbGwoYSwiW3MhPScnXTp4Iiksci5wdXNoKCIhPSIsUCl9KSxxPXEubGVuZ3RoJiZuZXcgUmVnRXhwKHEuam9pbigifCIpKSxyPXIubGVuZ3RoJiZuZXcgUmVnRXhwKHIuam9pbigifCIpKSxiPSQudGVzdChvLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSx0PWJ8fCQudGVzdChvLmNvbnRhaW5zKT9mdW5jdGlvbihhLGIpe3ZhciBjPTk9PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmEsZD1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1kfHwhKCFkfHwxIT09ZC5ub2RlVHlwZXx8IShjLmNvbnRhaW5zP2MuY29udGFpbnMoZCk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkKSkpfTpmdW5jdGlvbihhLGIpe2lmKGIpd2hpbGUoYj1iLnBhcmVudE5vZGUpaWYoYj09PWEpcmV0dXJuITA7cmV0dXJuITF9LEI9Yj9mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGQ9IWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIGQ/ZDooZD0oYS5vd25lckRvY3VtZW50fHxhKT09PShiLm93bmVyRG9jdW1lbnR8fGIpP2EuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYik6MSwxJmR8fCFjLnNvcnREZXRhY2hlZCYmYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKT09PWQ/YT09PWd8fGEub3duZXJEb2N1bWVudD09PXYmJnQodixhKT8tMTpiPT09Z3x8Yi5vd25lckRvY3VtZW50PT09diYmdCh2LGIpPzE6az9KKGssYSktSihrLGIpOjA6NCZkPy0xOjEpfTpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGMsZD0wLGU9YS5wYXJlbnROb2RlLGY9Yi5wYXJlbnROb2RlLGg9W2FdLGk9W2JdO2lmKCFlfHwhZilyZXR1cm4gYT09PWc/LTE6Yj09PWc/MTplPy0xOmY/MTprP0ooayxhKS1KKGssYik6MDtpZihlPT09ZilyZXR1cm4gbGIoYSxiKTtjPWE7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO2M9Yjt3aGlsZShjPWMucGFyZW50Tm9kZSlpLnVuc2hpZnQoYyk7d2hpbGUoaFtkXT09PWlbZF0pZCsrO3JldHVybiBkP2xiKGhbZF0saVtkXSk6aFtkXT09PXY/LTE6aVtkXT09PXY/MTowfSxnKTpufSxnYi5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGdiKGEsbnVsbCxudWxsLGIpfSxnYi5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtpZigoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSksYj1iLnJlcGxhY2UoVSwiPSckMSddIiksISghYy5tYXRjaGVzU2VsZWN0b3J8fCFwfHxyJiZyLnRlc3QoYil8fHEmJnEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGdiKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGdiLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZ2IuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkQuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGdiLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithKX0sZ2IudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWdiLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZigic3RyaW5nIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1nYi5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzppYixtYXRjaDpYLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoY2IsZGIpLGFbM109KGFbM118fGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGNiLGRiKSwifj0iPT09YVsyXSYmKGFbM109IiAiK2FbM10rIiAiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8Z2IuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooImV2ZW4iPT09YVszXXx8Im9kZCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8Im9kZCI9PT1hWzNdKSk6YVszXSYmZ2IuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFguQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8IiI6YyYmVi50ZXN0KGMpJiYoYj1nKGMsITApKSYmKGI9Yy5pbmRleE9mKCIpIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShjYixkYikudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefCIrTCsiKSIrYSsiKCIrTCsifCQpIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdCgic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9Z2IuYXR0cihkLGEpO3JldHVybiBudWxsPT1lPyIhPSI9PT1iOmI/KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UucmVwbGFjZShRLCIgIikrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoO2lmKHEpe2lmKGYpe3doaWxlKHApe2w9Yjt3aGlsZShsPWxbcF0paWYoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO289cD0ib25seSI9PT1hJiYhbyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmcyl7az1xW3VdfHwocVt1XT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLG09alswXT09PXcmJmpbMl0sbD1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobD0rK24mJmwmJmxbcF18fChtPW49MCl8fG8ucG9wKCkpaWYoMT09PWwubm9kZVR5cGUmJisrbSYmbD09PWIpe2tbYV09W3csbixtXTticmVha319ZWxzZSBpZihzJiYoaj0oYlt1XXx8KGJbdV09e30pKVthXSkmJmpbMF09PT13KW09alsxXTtlbHNlIHdoaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKChoP2wubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PWwubm9kZVR5cGUpJiYrK20mJihzJiYoKGxbdV18fChsW3VdPXt9KSlbYV09W3csbV0pLGw9PT1iKSlicmVhaztyZXR1cm4gbS09ZSxtPT09ZHx8bSVkPT09MCYmbS9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8Z2IuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIithKTtyZXR1cm4gZVt1XT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSwiIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9pYihmdW5jdGlvbihhLGMpe3ZhciBkLGY9ZShhLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWQ9SihhLGZbZ10pLGFbZF09IShjW2RdPWZbZ10pfSk6ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSwwLGMpfSk6ZX19LHBzZXVkb3M6e25vdDppYihmdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdLGQ9aChhLnJlcGxhY2UoUiwiJDEiKSk7cmV0dXJuIGRbdV0/aWIoZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksYlswXT1udWxsLCFjLnBvcCgpfX0pLGhhczppYihmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGdiKGEsYikubGVuZ3RoPjB9fSksY29udGFpbnM6aWIoZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKGNiLGRiKSxmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzppYihmdW5jdGlvbihhKXtyZXR1cm4gVy50ZXN0KGF8fCIiKXx8Z2IuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrYSksYT1hLnJlcGxhY2UoY2IsZGIpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1wP2IubGFuZzpiLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8Yi5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYSsiLSIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW99LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bi5hY3RpdmVFbGVtZW50JiYoIW4uaGFzRm9jdXN8fG4uaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiEhYS5jaGVja2VkfHwib3B0aW9uIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBaLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBZLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiJidXR0b24iPT09YS50eXBlfHwiYnV0dG9uIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuImlucHV0Ij09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0Om9iKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpvYihmdW5jdGlvbihhLGIpe3JldHVybltiLTFdfSksZXE6b2IoZnVuY3Rpb24oYSxiLGMpe3JldHVyblswPmM/YytiOmNdfSksZXZlbjpvYihmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLG9kZDpvYihmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLGx0Om9iKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOy0tZD49MDspYS5wdXNoKGQpO3JldHVybiBhfSksZ3Q6b2IoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7KytkPGI7KWEucHVzaChkKTtyZXR1cm4gYX0pfX0sZC5wc2V1ZG9zLm50aD1kLnBzZXVkb3MuZXE7Zm9yKGIgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pZC5wc2V1ZG9zW2JdPW1iKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pZC5wc2V1ZG9zW2JdPW5iKGIpO2Z1bmN0aW9uIHFiKCl7fXFiLnByb3RvdHlwZT1kLmZpbHRlcnM9ZC5wc2V1ZG9zLGQuc2V0RmlsdGVycz1uZXcgcWIsZz1nYi50b2tlbml6ZT1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGs9elthKyIgIl07aWYoaylyZXR1cm4gYj8wOmsuc2xpY2UoMCk7aD1hLGk9W10saj1kLnByZUZpbHRlcjt3aGlsZShoKXsoIWN8fChlPVMuZXhlYyhoKSkpJiYoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1ULmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFIsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1YW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/Z2IuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiByYihhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHNiKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGo9W3csZl07aWYoZyl7d2hpbGUoYj1iW2RdKWlmKCgxPT09Yi5ub2RlVHlwZXx8ZSkmJmEoYixjLGcpKXJldHVybiEwfWVsc2Ugd2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxlKXtpZihpPWJbdV18fChiW3VdPXt9KSwoaD1pW2RdKSYmaFswXT09PXcmJmhbMV09PT1mKXJldHVybiBqWzJdPWhbMl07aWYoaVtkXT1qLGpbMl09YShiLGMsZykpcmV0dXJuITB9fX1mdW5jdGlvbiB0YihhKXtyZXR1cm4gYS5sZW5ndGg+MT9mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5sZW5ndGg7d2hpbGUoZS0tKWlmKCFhW2VdKGIsYyxkKSlyZXR1cm4hMTtyZXR1cm4hMH06YVswXX1mdW5jdGlvbiB1YihhLGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKWdiKGEsYltkXSxjKTtyZXR1cm4gY31mdW5jdGlvbiB2YihhLGIsYyxkLGUpe2Zvcih2YXIgZixnPVtdLGg9MCxpPWEubGVuZ3RoLGo9bnVsbCE9YjtpPmg7aCsrKShmPWFbaF0pJiYoIWN8fGMoZixkLGUpKSYmKGcucHVzaChmKSxqJiZiLnB1c2goaCkpO3JldHVybiBnfWZ1bmN0aW9uIHdiKGEsYixjLGQsZSxmKXtyZXR1cm4gZCYmIWRbdV0mJihkPXdiKGQpKSxlJiYhZVt1XSYmKGU9d2IoZSxmKSksaWIoZnVuY3Rpb24oZixnLGgsaSl7dmFyIGosayxsLG09W10sbj1bXSxvPWcubGVuZ3RoLHA9Znx8dWIoYnx8IioiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6dmIocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXZiKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9KKGYsbCk6bVtrXSk+LTEmJihmW2pdPSEoZ1tqXT1sKSl9fWVsc2Ugcj12YihyPT09Zz9yLnNwbGljZShvLHIubGVuZ3RoKTpyKSxlP2UobnVsbCxnLHIsaSk6SC5hcHBseShnLHIpfSl9ZnVuY3Rpb24geGIoYSl7Zm9yKHZhciBiLGMsZSxmPWEubGVuZ3RoLGc9ZC5yZWxhdGl2ZVthWzBdLnR5cGVdLGg9Z3x8ZC5yZWxhdGl2ZVsiICJdLGk9Zz8xOjAsaz1zYihmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9LGgsITApLGw9c2IoZnVuY3Rpb24oYSl7cmV0dXJuIEooYixhKT4tMX0saCwhMCksbT1bZnVuY3Rpb24oYSxjLGQpe3ZhciBlPSFnJiYoZHx8YyE9PWopfHwoKGI9Yykubm9kZVR5cGU/ayhhLGMsZCk6bChhLGMsZCkpO3JldHVybiBiPW51bGwsZX1dO2Y+aTtpKyspaWYoYz1kLnJlbGF0aXZlW2FbaV0udHlwZV0pbT1bc2IodGIobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2ldLnR5cGVdLmFwcGx5KG51bGwsYVtpXS5tYXRjaGVzKSxjW3VdKXtmb3IoZT0rK2k7Zj5lO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHdiKGk+MSYmdGIobSksaT4xJiZyYihhLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWFbaS0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKFIsIiQxIiksYyxlPmkmJnhiKGEuc2xpY2UoaSxlKSksZj5lJiZ4YihhPWEuc2xpY2UoZSkpLGY+ZSYmcmIoYSkpfW0ucHVzaChjKX1yZXR1cm4gdGIobSl9ZnVuY3Rpb24geWIoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxoLGksayl7dmFyIGwsbSxvLHA9MCxxPSIwIixyPWYmJltdLHM9W10sdD1qLHU9Znx8ZSYmZC5maW5kLlRBRygiKiIsayksdj13Kz1udWxsPT10PzE6TWF0aC5yYW5kb20oKXx8LjEseD11Lmxlbmd0aDtmb3IoayYmKGo9ZyE9PW4mJmcpO3EhPT14JiZudWxsIT0obD11W3FdKTtxKyspe2lmKGUmJmwpe209MDt3aGlsZShvPWFbbSsrXSlpZihvKGwsZyxoKSl7aS5wdXNoKGwpO2JyZWFrfWsmJih3PXYpfWMmJigobD0hbyYmbCkmJnAtLSxmJiZyLnB1c2gobCkpfWlmKHArPXEsYyYmcSE9PXApe209MDt3aGlsZShvPWJbbSsrXSlvKHIscyxnLGgpO2lmKGYpe2lmKHA+MCl3aGlsZShxLS0pcltxXXx8c1txXXx8KHNbcV09Ri5jYWxsKGkpKTtzPXZiKHMpfUguYXBwbHkoaSxzKSxrJiYhZiYmcy5sZW5ndGg+MCYmcCtiLmxlbmd0aD4xJiZnYi51bmlxdWVTb3J0KGkpfXJldHVybiBrJiYodz12LGo9dCkscn07cmV0dXJuIGM/aWIoZik6Zn1yZXR1cm4gaD1nYi5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPVtdLGY9QVthKyIgIl07aWYoIWYpe2J8fChiPWcoYSkpLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWY9eGIoYltjXSksZlt1XT9kLnB1c2goZik6ZS5wdXNoKGYpO2Y9QShhLHliKGUsZCkpLGYuc2VsZWN0b3I9YX1yZXR1cm4gZn0saT1nYi5zZWxlY3Q9ZnVuY3Rpb24oYSxiLGUsZil7dmFyIGksaixrLGwsbSxuPSJmdW5jdGlvbiI9PXR5cGVvZiBhJiZhLG89IWYmJmcoYT1uLnNlbGVjdG9yfHxhKTtpZihlPWV8fFtdLDE9PT1vLmxlbmd0aCl7aWYoaj1vWzBdPW9bMF0uc2xpY2UoMCksai5sZW5ndGg+MiYmIklEIj09PShrPWpbMF0pLnR5cGUmJmMuZ2V0QnlJZCYmOT09PWIubm9kZVR5cGUmJnAmJmQucmVsYXRpdmVbalsxXS50eXBlXSl7aWYoYj0oZC5maW5kLklEKGsubWF0Y2hlc1swXS5yZXBsYWNlKGNiLGRiKSxiKXx8W10pWzBdLCFiKXJldHVybiBlO24mJihiPWIucGFyZW50Tm9kZSksYT1hLnNsaWNlKGouc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWk9WC5uZWVkc0NvbnRleHQudGVzdChhKT8wOmoubGVuZ3RoO3doaWxlKGktLSl7aWYoaz1qW2ldLGQucmVsYXRpdmVbbD1rLnR5cGVdKWJyZWFrO2lmKChtPWQuZmluZFtsXSkmJihmPW0oay5tYXRjaGVzWzBdLnJlcGxhY2UoY2IsZGIpLGFiLnRlc3QoalswXS50eXBlKSYmcGIoYi5wYXJlbnROb2RlKXx8YikpKXtpZihqLnNwbGljZShpLDEpLGE9Zi5sZW5ndGgmJnJiKGopLCFhKXJldHVybiBILmFwcGx5KGUsZiksZTticmVha319fXJldHVybihufHxoKGEsbykpKGYsYiwhcCxlLGFiLnRlc3QoYSkmJnBiKGIucGFyZW50Tm9kZSl8fGIpLGV9LGMuc29ydFN0YWJsZT11LnNwbGl0KCIiKS5zb3J0KEIpLmpvaW4oIiIpPT09dSxjLmRldGVjdER1cGxpY2F0ZXM9ISFsLG0oKSxjLnNvcnREZXRhY2hlZD1qYihmdW5jdGlvbihhKXtyZXR1cm4gMSZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4uY3JlYXRlRWxlbWVudCgiZGl2IikpfSksamIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IiwiIyI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8a2IoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYz92b2lkIDA6YS5nZXRBdHRyaWJ1dGUoYiwidHlwZSI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmamIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8aW5wdXQvPiIsYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8a2IoInZhbHVlIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN8fCJpbnB1dCIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/dm9pZCAwOmEuZGVmYXVsdFZhbHVlfSksamIoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGtiKEssZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDphW2JdPT09ITA/Yi50b0xvd2VyQ2FzZSgpOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmQuc3BlY2lmaWVkP2QudmFsdWU6bnVsbH0pLGdifShhKTtuLmZpbmQ9dCxuLmV4cHI9dC5zZWxlY3RvcnMsbi5leHByWyI6Il09bi5leHByLnBzZXVkb3Msbi51bmlxdWU9dC51bmlxdWVTb3J0LG4udGV4dD10LmdldFRleHQsbi5pc1hNTERvYz10LmlzWE1MLG4uY29udGFpbnM9dC5jb250YWluczt2YXIgdT1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHY9L148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLyx3PS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24geChhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih3LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBnLmNhbGwoYixhKT49MCE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPXRoaXMubGVuZ3RoLGQ9W10sZT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2M+YjtiKyspaWYobi5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7Yz5iO2IrKyluLmZpbmQoYSxlW2JdLGQpO3JldHVybiBkPXRoaXMucHVzaFN0YWNrKGM+MT9uLnVuaXF1ZShkKTpkKSxkLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrYTphLGR9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeCh0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeCh0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEheCh0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmdS50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgeSx6PS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC8sQT1uLmZuLmluaXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2lmKCFhKXJldHVybiB0aGlzO2lmKCJzdHJpbmciPT10eXBlb2YgYSl7aWYoYz0iPCI9PT1hWzBdJiYiPiI9PT1hW2EubGVuZ3RoLTFdJiZhLmxlbmd0aD49Mz9bbnVsbCxhLG51bGxdOnouZXhlYyhhKSwhY3x8IWNbMV0mJmIpcmV0dXJuIWJ8fGIuanF1ZXJ5PyhifHx5KS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoYikuZmluZChhKTtpZihjWzFdKXtpZihiPWIgaW5zdGFuY2VvZiBuP2JbMF06YixuLm1lcmdlKHRoaXMsbi5wYXJzZUhUTUwoY1sxXSxiJiZiLm5vZGVUeXBlP2Iub3duZXJEb2N1bWVudHx8YjpsLCEwKSksdi50ZXN0KGNbMV0pJiZuLmlzUGxhaW5PYmplY3QoYikpZm9yKGMgaW4gYiluLmlzRnVuY3Rpb24odGhpc1tjXSk/dGhpc1tjXShiW2NdKTp0aGlzLmF0dHIoYyxiW2NdKTtyZXR1cm4gdGhpc31yZXR1cm4gZD1sLmdldEVsZW1lbnRCeUlkKGNbMl0pLGQmJmQucGFyZW50Tm9kZSYmKHRoaXMubGVuZ3RoPTEsdGhpc1swXT1kKSx0aGlzLmNvbnRleHQ9bCx0aGlzLnNlbGVjdG9yPWEsdGhpc31yZXR1cm4gYS5ub2RlVHlwZT8odGhpcy5jb250ZXh0PXRoaXNbMF09YSx0aGlzLmxlbmd0aD0xLHRoaXMpOm4uaXNGdW5jdGlvbihhKT8idW5kZWZpbmVkIiE9dHlwZW9mIHkucmVhZHk/eS5yZWFkeShhKTphKG4pOih2b2lkIDAhPT1hLnNlbGVjdG9yJiYodGhpcy5zZWxlY3Rvcj1hLnNlbGVjdG9yLHRoaXMuY29udGV4dD1hLmNvbnRleHQpLG4ubWFrZUFycmF5KGEsdGhpcykpfTtBLnByb3RvdHlwZT1uLmZuLHk9bihsKTt2YXIgQj0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxDPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O24uZXh0ZW5kKHtkaXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9dm9pZCAwIT09Yzt3aGlsZSgoYT1hW2JdKSYmOSE9PWEubm9kZVR5cGUpaWYoMT09PWEubm9kZVR5cGUpe2lmKGUmJm4oYSkuaXMoYykpYnJlYWs7ZC5wdXNoKGEpfXJldHVybiBkfSxzaWJsaW5nOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdO2E7YT1hLm5leHRTaWJsaW5nKTE9PT1hLm5vZGVUeXBlJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfX0pLG4uZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oYSl7dmFyIGI9bihhLHRoaXMpLGM9Yi5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7Yz5hO2ErKylpZihuLmNvbnRhaW5zKHRoaXMsYlthXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dS50ZXN0KGEpfHwic3RyaW5nIiE9dHlwZW9mIGE/bihhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP24udW5pcXVlKGYpOmYpfSxpbmRleDpmdW5jdGlvbihhKXtyZXR1cm4gYT8ic3RyaW5nIj09dHlwZW9mIGE/Zy5jYWxsKG4oYSksdGhpc1swXSk6Zy5jYWxsKHRoaXMsYS5qcXVlcnk/YVswXTphKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnB1c2hTdGFjayhuLnVuaXF1ZShuLm1lcmdlKHRoaXMuZ2V0KCksbihhLGIpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX19KTtmdW5jdGlvbiBEKGEsYil7d2hpbGUoKGE9YVtiXSkmJjEhPT1hLm5vZGVUeXBlKTtyZXR1cm4gYX1uLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJjExIT09Yi5ub2RlVHlwZT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5kaXIoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRChhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gbi5kaXIoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gbi5kaXIoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5kaXIoYSwicHJldmlvdXNTaWJsaW5nIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uc2libGluZygoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIG4uc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fG4ubWVyZ2UoW10sYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPW4ubWFwKHRoaXMsYixjKTtyZXR1cm4iVW50aWwiIT09YS5zbGljZSgtNSkmJihkPWMpLGQmJiJzdHJpbmciPT10eXBlb2YgZCYmKGU9bi5maWx0ZXIoZCxlKSksdGhpcy5sZW5ndGg+MSYmKENbYV18fG4udW5pcXVlKGUpLEIudGVzdChhKSYmZS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBFPS9cUysvZyxGPXt9O2Z1bmN0aW9uIEcoYSl7dmFyIGI9RlthXT17fTtyZXR1cm4gbi5lYWNoKGEubWF0Y2goRSl8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9bi5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT0ic3RyaW5nIj09dHlwZW9mIGE/RlthXXx8RyhhKTpuLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmLGcsaD1bXSxpPSFhLm9uY2UmJltdLGo9ZnVuY3Rpb24obCl7Zm9yKGI9YS5tZW1vcnkmJmwsYz0hMCxnPWV8fDAsZT0wLGY9aC5sZW5ndGgsZD0hMDtoJiZmPmc7ZysrKWlmKGhbZ10uYXBwbHkobFswXSxsWzFdKT09PSExJiZhLnN0b3BPbkZhbHNlKXtiPSExO2JyZWFrfWQ9ITEsaCYmKGk/aS5sZW5ndGgmJmooaS5zaGlmdCgpKTpiP2g9W106ay5kaXNhYmxlKCkpfSxrPXthZGQ6ZnVuY3Rpb24oKXtpZihoKXt2YXIgYz1oLmxlbmd0aDshZnVuY3Rpb24gZyhiKXtuLmVhY2goYixmdW5jdGlvbihiLGMpe3ZhciBkPW4udHlwZShjKTsiZnVuY3Rpb24iPT09ZD9hLnVuaXF1ZSYmay5oYXMoYyl8fGgucHVzaChjKTpjJiZjLmxlbmd0aCYmInN0cmluZyIhPT1kJiZnKGMpfSl9KGFyZ3VtZW50cyksZD9mPWgubGVuZ3RoOmImJihlPWMsaihiKSl9cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBoJiZuLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGEsYil7dmFyIGM7d2hpbGUoKGM9bi5pbkFycmF5KGIsaCxjKSk+LTEpaC5zcGxpY2UoYywxKSxkJiYoZj49YyYmZi0tLGc+PWMmJmctLSl9KSx0aGlzfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bi5pbkFycmF5KGEsaCk+LTE6ISghaHx8IWgubGVuZ3RoKX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gaD1bXSxmPTAsdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBoPWk9Yj12b2lkIDAsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4haH0sbG9jazpmdW5jdGlvbigpe3JldHVybiBpPXZvaWQgMCxifHxrLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4haX0sZmlyZVdpdGg6ZnVuY3Rpb24oYSxiKXtyZXR1cm4haHx8YyYmIWl8fChiPWJ8fFtdLGI9W2EsYi5zbGljZT9iLnNsaWNlKCk6Yl0sZD9pLnB1c2goYik6aihiKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBrLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhY319O3JldHVybiBrfSxuLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpXV0sYz0icGVuZGluZyIsZD17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBuLkRlZmVycmVkKGZ1bmN0aW9uKGMpe24uZWFjaChiLGZ1bmN0aW9uKGIsZil7dmFyIGc9bi5pc0Z1bmN0aW9uKGFbYl0pJiZhW2JdO2VbZlsxXV0oZnVuY3Rpb24oKXt2YXIgYT1nJiZnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5kb25lKGMucmVzb2x2ZSkuZmFpbChjLnJlamVjdCkucHJvZ3Jlc3MoYy5ub3RpZnkpOmNbZlswXSsiV2l0aCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP24uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbi5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdKyJXaXRoIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGQucHJvbWlzZShlKSxhJiZhLmNhbGwoZSxlKSxlfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1kLmNhbGwoYXJndW1lbnRzKSxlPWMubGVuZ3RoLGY9MSE9PWV8fGEmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2U6MCxnPTE9PT1mP2E6bi5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihlKXtiW2FdPXRoaXMsY1thXT1hcmd1bWVudHMubGVuZ3RoPjE/ZC5jYWxsKGFyZ3VtZW50cyk6ZSxjPT09aT9nLm5vdGlmeVdpdGgoYixjKTotLWZ8fGcucmVzb2x2ZVdpdGgoYixjKX19LGksaixrO2lmKGU+MSlmb3IoaT1uZXcgQXJyYXkoZSksaj1uZXcgQXJyYXkoZSksaz1uZXcgQXJyYXkoZSk7ZT5iO2IrKyljW2JdJiZuLmlzRnVuY3Rpb24oY1tiXS5wcm9taXNlKT9jW2JdLnByb21pc2UoKS5kb25lKGgoYixrLGMpKS5mYWlsKGcucmVqZWN0KS5wcm9ncmVzcyhoKGIsaixpKSk6LS1mO3JldHVybiBmfHxnLnJlc29sdmVXaXRoKGssYyksZy5wcm9taXNlKCl9fSk7dmFyIEg7bi5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gbi5yZWFkeS5wcm9taXNlKCkuZG9uZShhKSx0aGlzfSxuLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9uLnJlYWR5V2FpdCsrOm4ucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXsoYT09PSEwPy0tbi5yZWFkeVdhaXQ6bi5pc1JlYWR5KXx8KG4uaXNSZWFkeT0hMCxhIT09ITAmJi0tbi5yZWFkeVdhaXQ+MHx8KEgucmVzb2x2ZVdpdGgobCxbbl0pLG4uZm4udHJpZ2dlckhhbmRsZXImJihuKGwpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpLG4obCkub2ZmKCJyZWFkeSIpKSkpfX0pO2Z1bmN0aW9uIEkoKXtsLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEksITEpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsSSwhMSksbi5yZWFkeSgpfW4ucmVhZHkucHJvbWlzZT1mdW5jdGlvbihiKXtyZXR1cm4gSHx8KEg9bi5EZWZlcnJlZCgpLCJjb21wbGV0ZSI9PT1sLnJlYWR5U3RhdGU/c2V0VGltZW91dChuLnJlYWR5KToobC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixJLCExKSxhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLEksITEpKSksSC5wcm9taXNlKGIpfSxuLnJlYWR5LnByb21pc2UoKTt2YXIgSj1uLmFjY2Vzcz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD0wLGk9YS5sZW5ndGgsaj1udWxsPT1jO2lmKCJvYmplY3QiPT09bi50eXBlKGMpKXtlPSEwO2ZvcihoIGluIGMpbi5hY2Nlc3MoYSxiLGgsY1toXSwhMCxmLGcpfWVsc2UgaWYodm9pZCAwIT09ZCYmKGU9ITAsbi5pc0Z1bmN0aW9uKGQpfHwoZz0hMCksaiYmKGc/KGIuY2FsbChhLGQpLGI9bnVsbCk6KGo9YixiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKG4oYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn07bi5hY2NlcHREYXRhPWZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZXx8OT09PWEubm9kZVR5cGV8fCErYS5ub2RlVHlwZX07ZnVuY3Rpb24gSygpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmNhY2hlPXt9LDAse2dldDpmdW5jdGlvbigpe3JldHVybnt9fX0pLHRoaXMuZXhwYW5kbz1uLmV4cGFuZG8rSy51aWQrK31LLnVpZD0xLEsuYWNjZXB0cz1uLmFjY2VwdERhdGEsSy5wcm90b3R5cGU9e2tleTpmdW5jdGlvbihhKXtpZighSy5hY2NlcHRzKGEpKXJldHVybiAwO3ZhciBiPXt9LGM9YVt0aGlzLmV4cGFuZG9dO2lmKCFjKXtjPUsudWlkKys7dHJ5e2JbdGhpcy5leHBhbmRvXT17dmFsdWU6Y30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYSxiKX1jYXRjaChkKXtiW3RoaXMuZXhwYW5kb109YyxuLmV4dGVuZChhLGIpfX1yZXR1cm4gdGhpcy5jYWNoZVtjXXx8KHRoaXMuY2FjaGVbY109e30pLGN9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmtleShhKSxmPXRoaXMuY2FjaGVbZV07aWYoInN0cmluZyI9PXR5cGVvZiBiKWZbYl09YztlbHNlIGlmKG4uaXNFbXB0eU9iamVjdChmKSluLmV4dGVuZCh0aGlzLmNhY2hlW2VdLGIpO2Vsc2UgZm9yKGQgaW4gYilmW2RdPWJbZF07cmV0dXJuIGZ9LGdldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY2FjaGVbdGhpcy5rZXkoYSldO3JldHVybiB2b2lkIDA9PT1iP2M6Y1tiXX0sYWNjZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmInN0cmluZyI9PXR5cGVvZiBiJiZ2b2lkIDA9PT1jPyhkPXRoaXMuZ2V0KGEsYiksdm9pZCAwIT09ZD9kOnRoaXMuZ2V0KGEsbi5jYW1lbENhc2UoYikpKToodGhpcy5zZXQoYSxiLGMpLHZvaWQgMCE9PWM/YzpiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpcy5rZXkoYSksZz10aGlzLmNhY2hlW2ZdO2lmKHZvaWQgMD09PWIpdGhpcy5jYWNoZVtmXT17fTtlbHNle24uaXNBcnJheShiKT9kPWIuY29uY2F0KGIubWFwKG4uY2FtZWxDYXNlKSk6KGU9bi5jYW1lbENhc2UoYiksYiBpbiBnP2Q9W2IsZV06KGQ9ZSxkPWQgaW4gZz9bZF06ZC5tYXRjaChFKXx8W10pKSxjPWQubGVuZ3RoO3doaWxlKGMtLSlkZWxldGUgZ1tkW2NdXX19LGhhc0RhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIW4uaXNFbXB0eU9iamVjdCh0aGlzLmNhY2hlW2FbdGhpcy5leHBhbmRvXV18fHt9KX0sZGlzY2FyZDpmdW5jdGlvbihhKXthW3RoaXMuZXhwYW5kb10mJmRlbGV0ZSB0aGlzLmNhY2hlW2FbdGhpcy5leHBhbmRvXV19fTt2YXIgTD1uZXcgSyxNPW5ldyBLLE49L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxPPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUChhLGIsYyl7dmFyIGQ7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpaWYoZD0iZGF0YS0iK2IucmVwbGFjZShPLCItJDEiKS50b0xvd2VyQ2FzZSgpLGM9YS5nZXRBdHRyaWJ1dGUoZCksInN0cmluZyI9PXR5cGVvZiBjKXt0cnl7Yz0idHJ1ZSI9PT1jPyEwOiJmYWxzZSI9PT1jPyExOiJudWxsIj09PWM/bnVsbDorYysiIj09PWM/K2M6Ti50ZXN0KGMpP24ucGFyc2VKU09OKGMpOmN9Y2F0Y2goZSl7fU0uc2V0KGEsYixjKX1lbHNlIGM9dm9pZCAwO3JldHVybiBjfW4uZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBNLmhhc0RhdGEoYSl8fEwuaGFzRGF0YShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIE0uYWNjZXNzKGEsYixjKQ0KfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7TS5yZW1vdmUoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBMLmFjY2VzcyhhLGIsYyl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7TC5yZW1vdmUoYSxiKX19KSxuLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXNbMF0sZz1mJiZmLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09YSl7aWYodGhpcy5sZW5ndGgmJihlPU0uZ2V0KGYpLDE9PT1mLm5vZGVUeXBlJiYhTC5nZXQoZiwiaGFzRGF0YUF0dHJzIikpKXtjPWcubGVuZ3RoO3doaWxlKGMtLSlnW2NdJiYoZD1nW2NdLm5hbWUsMD09PWQuaW5kZXhPZigiZGF0YS0iKSYmKGQ9bi5jYW1lbENhc2UoZC5zbGljZSg1KSksUChmLGQsZVtkXSkpKTtMLnNldChmLCJoYXNEYXRhQXR0cnMiLCEwKX1yZXR1cm4gZX1yZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7TS5zZXQodGhpcyxhKX0pOkoodGhpcyxmdW5jdGlvbihiKXt2YXIgYyxkPW4uY2FtZWxDYXNlKGEpO2lmKGYmJnZvaWQgMD09PWIpe2lmKGM9TS5nZXQoZixhKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGM9TS5nZXQoZixkKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGM9UChmLGQsdm9pZCAwKSx2b2lkIDAhPT1jKXJldHVybiBjfWVsc2UgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9TS5nZXQodGhpcyxkKTtNLnNldCh0aGlzLGQsYiksLTEhPT1hLmluZGV4T2YoIi0iKSYmdm9pZCAwIT09YyYmTS5zZXQodGhpcyxhLGIpfSl9LG51bGwsYixhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe00ucmVtb3ZlKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhPyhiPShifHwiZngiKSsicXVldWUiLGQ9TC5nZXQoYSxiKSxjJiYoIWR8fG4uaXNBcnJheShjKT9kPUwuYWNjZXNzKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJxdWV1ZUhvb2tzIjtyZXR1cm4gTC5nZXQoYSxjKXx8TC5hY2Nlc3MoYSxjLHtlbXB0eTpuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtMLnJlbW92ZShhLFtiKyJxdWV1ZSIsY10pfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPSJmeCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksImZ4Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9OyJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHwiZngiO3doaWxlKGctLSljPUwuZ2V0KGZbZ10sYSsicXVldWVIb29rcyIpLGMmJmMuZW1wdHkmJihkKyssYy5lbXB0eS5hZGQoaCkpO3JldHVybiBoKCksZS5wcm9taXNlKGIpfX0pO3ZhciBRPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFI9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxTPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX0sVD0vXig/OmNoZWNrYm94fHJhZGlvKSQvaTshZnVuY3Rpb24oKXt2YXIgYT1sLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPWEuYXBwZW5kQ2hpbGQobC5jcmVhdGVFbGVtZW50KCJkaXYiKSksYz1sLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGMuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGMuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGIuYXBwZW5kQ2hpbGQoYyksay5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixrLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIFU9InVuZGVmaW5lZCI7ay5mb2N1c2luQnViYmxlcz0ib25mb2N1c2luImluIGE7dmFyIFY9L15rZXkvLFc9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51KXxjbGljay8sWD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sWT0vXihbXi5dKikoPzpcLiguKyl8KSQvO2Z1bmN0aW9uIFooKXtyZXR1cm4hMH1mdW5jdGlvbiAkKCl7cmV0dXJuITF9ZnVuY3Rpb24gXygpe3RyeXtyZXR1cm4gbC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319bi5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1MLmdldChhKTtpZihyKXtjLmhhbmRsZXImJihmPWMsYz1mLmhhbmRsZXIsZT1mLnNlbGVjdG9yKSxjLmd1aWR8fChjLmd1aWQ9bi5ndWlkKyspLChpPXIuZXZlbnRzKXx8KGk9ci5ldmVudHM9e30pLChnPXIuaGFuZGxlKXx8KGc9ci5oYW5kbGU9ZnVuY3Rpb24oYil7cmV0dXJuIHR5cGVvZiBuIT09VSYmbi5ldmVudC50cmlnZ2VyZWQhPT1iLnR5cGU/bi5ldmVudC5kaXNwYXRjaC5hcHBseShhLGFyZ3VtZW50cyk6dm9pZCAwfSksYj0oYnx8IiIpLm1hdGNoKEUpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWg9WS5leGVjKGJbal0pfHxbXSxvPXE9aFsxXSxwPShoWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxrPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKCIuIil9LGYpLChtPWlbb10pfHwobT1pW29dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGwuc2V0dXAmJmwuc2V0dXAuY2FsbChhLGQscCxnKSE9PSExfHxhLmFkZEV2ZW50TGlzdGVuZXImJmEuYWRkRXZlbnRMaXN0ZW5lcihvLGcsITEpKSxsLmFkZCYmKGwuYWRkLmNhbGwoYSxrKSxrLmhhbmRsZXIuZ3VpZHx8KGsuaGFuZGxlci5ndWlkPWMuZ3VpZCkpLGU/bS5zcGxpY2UobS5kZWxlZ2F0ZUNvdW50KyssMCxrKTptLnB1c2goayksbi5ldmVudC5nbG9iYWxbb109ITApfX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPUwuaGFzRGF0YShhKSYmTC5nZXQoYSk7aWYociYmKGk9ci5ldmVudHMpKXtiPShifHwiIikubWF0Y2goRSl8fFsiIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paWYoaD1ZLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvKXtsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8byxtPWlbb118fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrcC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxnPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWs9bVtmXSwhZSYmcSE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3VpZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYoIioqIiE9PWR8fCFrLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksay5zZWxlY3RvciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxrKSk7ZyYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEscCxyLmhhbmRsZSkhPT0hMXx8bi5yZW1vdmVFdmVudChhLG8sci5oYW5kbGUpLGRlbGV0ZSBpW29dKX1lbHNlIGZvcihvIGluIGkpbi5ldmVudC5yZW1vdmUoYSxvK2Jbal0sYyxkLCEwKTtuLmlzRW1wdHlPYmplY3QoaSkmJihkZWxldGUgci5oYW5kbGUsTC5yZW1vdmUoYSwiZXZlbnRzIikpfX0sdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCxlKXt2YXIgZixnLGgsaSxrLG0sbyxwPVtkfHxsXSxxPWouY2FsbChiLCJ0eXBlIik/Yi50eXBlOmIscj1qLmNhbGwoYiwibmFtZXNwYWNlIik/Yi5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihnPWg9ZD1kfHxsLDMhPT1kLm5vZGVUeXBlJiY4IT09ZC5ub2RlVHlwZSYmIVgudGVzdChxK24uZXZlbnQudHJpZ2dlcmVkKSYmKHEuaW5kZXhPZigiLiIpPj0wJiYocj1xLnNwbGl0KCIuIikscT1yLnNoaWZ0KCksci5zb3J0KCkpLGs9cS5pbmRleE9mKCI6Iik8MCYmIm9uIitxLGI9YltuLmV4cGFuZG9dP2I6bmV3IG4uRXZlbnQocSwib2JqZWN0Ij09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWU/MjozLGIubmFtZXNwYWNlPXIuam9pbigiLiIpLGIubmFtZXNwYWNlX3JlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1kKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxvPW4uZXZlbnQuc3BlY2lhbFtxXXx8e30sZXx8IW8udHJpZ2dlcnx8by50cmlnZ2VyLmFwcGx5KGQsYykhPT0hMSkpe2lmKCFlJiYhby5ub0J1YmJsZSYmIW4uaXNXaW5kb3coZCkpe2ZvcihpPW8uZGVsZWdhdGVUeXBlfHxxLFgudGVzdChpK3EpfHwoZz1nLnBhcmVudE5vZGUpO2c7Zz1nLnBhcmVudE5vZGUpcC5wdXNoKGcpLGg9ZztoPT09KGQub3duZXJEb2N1bWVudHx8bCkmJnAucHVzaChoLmRlZmF1bHRWaWV3fHxoLnBhcmVudFdpbmRvd3x8YSl9Zj0wO3doaWxlKChnPXBbZisrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPWY+MT9pOm8uYmluZFR5cGV8fHEsbT0oTC5nZXQoZywiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZMLmdldChnLCJoYW5kbGUiKSxtJiZtLmFwcGx5KGcsYyksbT1rJiZnW2tdLG0mJm0uYXBwbHkmJm4uYWNjZXB0RGF0YShnKSYmKGIucmVzdWx0PW0uYXBwbHkoZyxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO3JldHVybiBiLnR5cGU9cSxlfHxiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxvLl9kZWZhdWx0JiZvLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYykhPT0hMXx8IW4uYWNjZXB0RGF0YShkKXx8ayYmbi5pc0Z1bmN0aW9uKGRbcV0pJiYhbi5pc1dpbmRvdyhkKSYmKGg9ZFtrXSxoJiYoZFtrXT1udWxsKSxuLmV2ZW50LnRyaWdnZXJlZD1xLGRbcV0oKSxuLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsaCYmKGRba109aCkpLGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50LmZpeChhKTt2YXIgYixjLGUsZixnLGg9W10saT1kLmNhbGwoYXJndW1lbnRzKSxqPShMLmdldCh0aGlzLCJldmVudHMiKXx8e30pW2EudHlwZV18fFtdLGs9bi5ldmVudC5zcGVjaWFsW2EudHlwZV18fHt9O2lmKGlbMF09YSxhLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWsucHJlRGlzcGF0Y2h8fGsucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGEpIT09ITEpe2g9bi5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsYSxqKSxiPTA7d2hpbGUoKGY9aFtiKytdKSYmIWEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7YS5jdXJyZW50VGFyZ2V0PWYuZWxlbSxjPTA7d2hpbGUoKGc9Zi5oYW5kbGVyc1tjKytdKSYmIWEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkoIWEubmFtZXNwYWNlX3JlfHxhLm5hbWVzcGFjZV9yZS50ZXN0KGcubmFtZXNwYWNlKSkmJihhLmhhbmRsZU9iaj1nLGEuZGF0YT1nLmRhdGEsZT0oKG4uZXZlbnQuc3BlY2lhbFtnLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zy5oYW5kbGVyKS5hcHBseShmLmVsZW0saSksdm9pZCAwIT09ZSYmKGEucmVzdWx0PWUpPT09ITEmJihhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBrLnBvc3REaXNwYXRjaCYmay5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGEpLGEucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnPVtdLGg9Yi5kZWxlZ2F0ZUNvdW50LGk9YS50YXJnZXQ7aWYoaCYmaS5ub2RlVHlwZSYmKCFhLmJ1dHRvbnx8ImNsaWNrIiE9PWEudHlwZSkpZm9yKDtpIT09dGhpcztpPWkucGFyZW50Tm9kZXx8dGhpcylpZihpLmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1hLnR5cGUpe2ZvcihkPVtdLGM9MDtoPmM7YysrKWY9YltjXSxlPWYuc2VsZWN0b3IrIiAiLHZvaWQgMD09PWRbZV0mJihkW2VdPWYubmVlZHNDb250ZXh0P24oZSx0aGlzKS5pbmRleChpKT49MDpuLmZpbmQoZSx0aGlzLG51bGwsW2ldKS5sZW5ndGgpLGRbZV0mJmQucHVzaChmKTtkLmxlbmd0aCYmZy5wdXNoKHtlbGVtOmksaGFuZGxlcnM6ZH0pfXJldHVybiBoPGIubGVuZ3RoJiZnLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpiLnNsaWNlKGgpfSksZ30scHJvcHM6ImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaCIuc3BsaXQoIiAiKSxmaXhIb29rczp7fSxrZXlIb29rczp7cHJvcHM6ImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGUiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWEud2hpY2gmJihhLndoaWNoPW51bGwhPWIuY2hhckNvZGU/Yi5jaGFyQ29kZTpiLmtleUNvZGUpLGF9fSxtb3VzZUhvb2tzOntwcm9wczoiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50Ii5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPWIuYnV0dG9uO3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihjPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGwsZD1jLmRvY3VtZW50RWxlbWVudCxlPWMuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZCYmZC5zY3JvbGxMZWZ0fHxlJiZlLnNjcm9sbExlZnR8fDApLShkJiZkLmNsaWVudExlZnR8fGUmJmUuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGQmJmQuc2Nyb2xsVG9wfHxlJiZlLnNjcm9sbFRvcHx8MCktKGQmJmQuY2xpZW50VG9wfHxlJiZlLmNsaWVudFRvcHx8MCkpLGEud2hpY2h8fHZvaWQgMD09PWZ8fChhLndoaWNoPTEmZj8xOjImZj8zOjQmZj8yOjApLGF9fSxmaXg6ZnVuY3Rpb24oYSl7aWYoYVtuLmV4cGFuZG9dKXJldHVybiBhO3ZhciBiLGMsZCxlPWEudHlwZSxmPWEsZz10aGlzLmZpeEhvb2tzW2VdO2d8fCh0aGlzLmZpeEhvb2tzW2VdPWc9Vy50ZXN0KGUpP3RoaXMubW91c2VIb29rczpWLnRlc3QoZSk/dGhpcy5rZXlIb29rczp7fSksZD1nLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGcucHJvcHMpOnRoaXMucHJvcHMsYT1uZXcgbi5FdmVudChmKSxiPWQubGVuZ3RoO3doaWxlKGItLSljPWRbYl0sYVtjXT1mW2NdO3JldHVybiBhLnRhcmdldHx8KGEudGFyZ2V0PWwpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGcuZmlsdGVyP2cuZmlsdGVyKGEsZik6YX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1fKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1fKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmbi5ub2RlTmFtZSh0aGlzLCJpbnB1dCIpPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYS50YXJnZXQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7ZD9uLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOm4uZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5WYWx1ZT09PSExP1o6JCk6dGhpcy50eXBlPWEsYiYmbi5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8bi5ub3coKSx2b2lkKHRoaXNbbi5leHBhbmRvXT0hMCkpOm5ldyBuLkV2ZW50KGEsYil9LG4uRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6JCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDokLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiQscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9WixhJiZhLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybighZXx8ZSE9PWQmJiFuLmNvbnRhaW5zKGQsZSkpJiYoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxrLmZvY3VzaW5CdWJibGVzfHxuLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7bi5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LG4uZXZlbnQuZml4KGEpLCEwKX07bi5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPUwuYWNjZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksTC5hY2Nlc3MoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1MLmFjY2VzcyhkLGIpLTE7ZT9MLmFjY2VzcyhkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLEwucmVtb3ZlKGQsYikpfX19KSxuLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1jfHxiLGI9dm9pZCAwKTtmb3IoZyBpbiBhKXRoaXMub24oZyxiLGMsYVtnXSxlKTtyZXR1cm4gdGhpc31pZihudWxsPT1jJiZudWxsPT1kPyhkPWIsYz1iPXZvaWQgMCk6bnVsbD09ZCYmKCJzdHJpbmciPT10eXBlb2YgYj8oZD1jLGM9dm9pZCAwKTooZD1jLGM9YixiPXZvaWQgMCkpLGQ9PT0hMSlkPSQ7ZWxzZSBpZighZClyZXR1cm4gdGhpcztyZXR1cm4gMT09PWUmJihmPWQsZD1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWYuZ3VpZHx8KGYuZ3VpZD1uLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYSxkLGMsYil9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPSQpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIGFiPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksYmI9LzwoW1x3Ol0rKS8sY2I9Lzx8JiM/XHcrOy8sZGI9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxlYj0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxmYj0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksZ2I9L150cnVlXC8oLiopLyxoYj0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2csaWI9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtpYi5vcHRncm91cD1pYi5vcHRpb24saWIudGJvZHk9aWIudGZvb3Q9aWIuY29sZ3JvdXA9aWIuY2FwdGlvbj1pYi50aGVhZCxpYi50aD1pYi50ZDtmdW5jdGlvbiBqYihhLGIpe3JldHVybiBuLm5vZGVOYW1lKGEsInRhYmxlIikmJm4ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLCJ0ciIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmF9ZnVuY3Rpb24ga2IoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIithLnR5cGUsYX1mdW5jdGlvbiBsYihhKXt2YXIgYj1nYi5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxhfWZ1bmN0aW9uIG1iKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKUwuc2V0KGFbY10sImdsb2JhbEV2YWwiLCFifHxMLmdldChiW2NdLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIG5iKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTC5oYXNEYXRhKGEpJiYoZj1MLmFjY2VzcyhhKSxnPUwuc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW4uZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1NLmhhc0RhdGEoYSkmJihoPU0uYWNjZXNzKGEpLGk9bi5leHRlbmQoe30saCksTS5zZXQoYixpKSl9fWZ1bmN0aW9uIG9iKGEsYil7dmFyIGM9YS5nZXRFbGVtZW50c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fCIqIik6YS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOltdO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sYyk6Y31mdW5jdGlvbiBwYihhLGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsiaW5wdXQiPT09YyYmVC50ZXN0KGEudHlwZSk/Yi5jaGVja2VkPWEuY2hlY2tlZDooImlucHV0Ij09PWN8fCJ0ZXh0YXJlYSI9PT1jKSYmKGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX1uLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jbG9uZU5vZGUoITApLGk9bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYoIShrLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZz1vYihoKSxmPW9iKGEpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspcGIoZltkXSxnW2RdKTtpZihiKWlmKGMpZm9yKGY9Znx8b2IoYSksZz1nfHxvYihoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKW5iKGZbZF0sZ1tkXSk7ZWxzZSBuYihhLGgpO3JldHVybiBnPW9iKGgsInNjcmlwdCIpLGcubGVuZ3RoPjAmJm1iKGcsIWkmJm9iKGEsInNjcmlwdCIpKSxofSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxpLGosaz1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxsPVtdLG09MCxvPWEubGVuZ3RoO28+bTttKyspaWYoZT1hW21dLGV8fDA9PT1lKWlmKCJvYmplY3QiPT09bi50eXBlKGUpKW4ubWVyZ2UobCxlLm5vZGVUeXBlP1tlXTplKTtlbHNlIGlmKGNiLnRlc3QoZSkpe2Y9Znx8ay5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxnPShiYi5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGg9aWJbZ118fGliLl9kZWZhdWx0LGYuaW5uZXJIVE1MPWhbMV0rZS5yZXBsYWNlKGFiLCI8JDE+PC8kMj4iKStoWzJdLGo9aFswXTt3aGlsZShqLS0pZj1mLmxhc3RDaGlsZDtuLm1lcmdlKGwsZi5jaGlsZE5vZGVzKSxmPWsuZmlyc3RDaGlsZCxmLnRleHRDb250ZW50PSIifWVsc2UgbC5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZSkpO2sudGV4dENvbnRlbnQ9IiIsbT0wO3doaWxlKGU9bFttKytdKWlmKCghZHx8LTE9PT1uLmluQXJyYXkoZSxkKSkmJihpPW4uY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpLGY9b2Ioay5hcHBlbmRDaGlsZChlKSwic2NyaXB0IiksaSYmbWIoZiksYykpe2o9MDt3aGlsZShlPWZbaisrXSlmYi50ZXN0KGUudHlwZXx8IiIpJiZjLnB1c2goZSl9cmV0dXJuIGt9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkLGUsZj1uLmV2ZW50LnNwZWNpYWwsZz0wO3ZvaWQgMCE9PShjPWFbZ10pO2crKyl7aWYobi5hY2NlcHREYXRhKGMpJiYoZT1jW0wuZXhwYW5kb10sZSYmKGI9TC5jYWNoZVtlXSkpKXtpZihiLmV2ZW50cylmb3IoZCBpbiBiLmV2ZW50cylmW2RdP24uZXZlbnQucmVtb3ZlKGMsZCk6bi5yZW1vdmVFdmVudChjLGQsYi5oYW5kbGUpO0wuY2FjaGVbZV0mJmRlbGV0ZSBMLmNhY2hlW2VdfWRlbGV0ZSBNLmNhY2hlW2NbTS5leHBhbmRvXV19fX0pLG4uZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/bi50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7KDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKSYmKHRoaXMudGV4dENvbnRlbnQ9YSl9KX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPWpiKHRoaXMsYSk7Yi5hcHBlbmRDaGlsZChhKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9amIodGhpcyxhKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzLm5leHRTaWJsaW5nKX0pfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD1hP24uZmlsdGVyKGEsdGhpcyk6dGhpcyxlPTA7bnVsbCE9KGM9ZFtlXSk7ZSsrKWJ8fDEhPT1jLm5vZGVUeXBlfHxuLmNsZWFuRGF0YShvYihjKSksYy5wYXJlbnROb2RlJiYoYiYmbi5jb250YWlucyhjLm93bmVyRG9jdW1lbnQsYykmJm1iKG9iKGMsInNjcmlwdCIpKSxjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYykpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7bnVsbCE9KGE9dGhpc1tiXSk7YisrKTE9PT1hLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEob2IoYSwhMSkpLGEudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPW51bGw9PWE/ITE6YSxiPW51bGw9PWI/YTpiLHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdfHx7fSxjPTAsZD10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1hJiYxPT09Yi5ub2RlVHlwZSlyZXR1cm4gYi5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBhJiYhZGIudGVzdChhKSYmIWliWyhiYi5leGVjKGEpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1hLnJlcGxhY2UoYWIsIjwkMT48LyQyPiIpO3RyeXtmb3IoO2Q+YztjKyspYj10aGlzW2NdfHx7fSwxPT09Yi5ub2RlVHlwZSYmKG4uY2xlYW5EYXRhKG9iKGIsITEpKSxiLmlubmVySFRNTD1hKTtiPTB9Y2F0Y2goZSl7fX1iJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihiKXthPXRoaXMucGFyZW50Tm9kZSxuLmNsZWFuRGF0YShvYih0aGlzKSksYSYmYS5yZXBsYWNlQ2hpbGQoYix0aGlzKX0pLGEmJihhLmxlbmd0aHx8YS5ub2RlVHlwZSk/dGhpczp0aGlzLnJlbW92ZSgpfSxkZXRhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVtb3ZlKGEsITApfSxkb21NYW5pcDpmdW5jdGlvbihhLGIpe2E9ZS5hcHBseShbXSxhKTt2YXIgYyxkLGYsZyxoLGksaj0wLGw9dGhpcy5sZW5ndGgsbT10aGlzLG89bC0xLHA9YVswXSxxPW4uaXNGdW5jdGlvbihwKTtpZihxfHxsPjEmJiJzdHJpbmciPT10eXBlb2YgcCYmIWsuY2hlY2tDbG9uZSYmZWIudGVzdChwKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPW0uZXEoYyk7cSYmKGFbMF09cC5jYWxsKHRoaXMsYyxkLmh0bWwoKSkpLGQuZG9tTWFuaXAoYSxiKX0pO2lmKGwmJihjPW4uYnVpbGRGcmFnbWVudChhLHRoaXNbMF0ub3duZXJEb2N1bWVudCwhMSx0aGlzKSxkPWMuZmlyc3RDaGlsZCwxPT09Yy5jaGlsZE5vZGVzLmxlbmd0aCYmKGM9ZCksZCkpe2ZvcihmPW4ubWFwKG9iKGMsInNjcmlwdCIpLGtiKSxnPWYubGVuZ3RoO2w+ajtqKyspaD1jLGohPT1vJiYoaD1uLmNsb25lKGgsITAsITApLGcmJm4ubWVyZ2UoZixvYihoLCJzY3JpcHQiKSkpLGIuY2FsbCh0aGlzW2pdLGgsaik7aWYoZylmb3IoaT1mW2YubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsbi5tYXAoZixsYiksaj0wO2c+ajtqKyspaD1mW2pdLGZiLnRlc3QoaC50eXBlfHwiIikmJiFMLmFjY2VzcyhoLCJnbG9iYWxFdmFsIikmJm4uY29udGFpbnMoaSxoKSYmKGguc3JjP24uX2V2YWxVcmwmJm4uX2V2YWxVcmwoaC5zcmMpOm4uZ2xvYmFsRXZhbChoLnRleHRDb250ZW50LnJlcGxhY2UoaGIsIiIpKSl9cmV0dXJuIHRoaXN9fSksbi5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtdLGU9bihhKSxnPWUubGVuZ3RoLTEsaD0wO2c+PWg7aCsrKWM9aD09PWc/dGhpczp0aGlzLmNsb25lKCEwKSxuKGVbaF0pW2JdKGMpLGYuYXBwbHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIHFiLHJiPXt9O2Z1bmN0aW9uIHNiKGIsYyl7dmFyIGQsZT1uKGMuY3JlYXRlRWxlbWVudChiKSkuYXBwZW5kVG8oYy5ib2R5KSxmPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUmJihkPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoZVswXSkpP2QuZGlzcGxheTpuLmNzcyhlWzBdLCJkaXNwbGF5Iik7cmV0dXJuIGUuZGV0YWNoKCksZn1mdW5jdGlvbiB0YihhKXt2YXIgYj1sLGM9cmJbYV07cmV0dXJuIGN8fChjPXNiKGEsYiksIm5vbmUiIT09YyYmY3x8KHFiPShxYnx8bigiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPiIpKS5hcHBlbmRUbyhiLmRvY3VtZW50RWxlbWVudCksYj1xYlswXS5jb250ZW50RG9jdW1lbnQsYi53cml0ZSgpLGIuY2xvc2UoKSxjPXNiKGEsYikscWIuZGV0YWNoKCkpLHJiW2FdPWMpLGN9dmFyIHViPS9ebWFyZ2luLyx2Yj1uZXcgUmVnRXhwKCJeKCIrUSsiKSg/IXB4KVthLXolXSskIiwiaSIpLHdiPWZ1bmN0aW9uKGIpe3JldHVybiBiLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcub3BlbmVyP2Iub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6YS5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCl9O2Z1bmN0aW9uIHhiKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8d2IoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdKSxjJiYoIiIhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSx2Yi50ZXN0KGcpJiZ1Yi50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDAhPT1nP2crIiI6Z31mdW5jdGlvbiB5YihhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgpP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD1iKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0hZnVuY3Rpb24oKXt2YXIgYixjLGQ9bC5kb2N1bWVudEVsZW1lbnQsZT1sLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGY9bC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpZihmLnN0eWxlKXtmLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsZi5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGsuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1mLnN0eWxlLmJhY2tncm91bmRDbGlwLGUuc3R5bGUuY3NzVGV4dD0iYm9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGUiLGUuYXBwZW5kQ2hpbGQoZik7ZnVuY3Rpb24gZygpe2Yuc3R5bGUuY3NzVGV4dD0iLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDoxJTt0b3A6MSU7Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo0cHg7cG9zaXRpb246YWJzb2x1dGUiLGYuaW5uZXJIVE1MPSIiLGQuYXBwZW5kQ2hpbGQoZSk7dmFyIGc9YS5nZXRDb21wdXRlZFN0eWxlKGYsbnVsbCk7Yj0iMSUiIT09Zy50b3AsYz0iNHB4Ij09PWcud2lkdGgsZC5yZW1vdmVDaGlsZChlKX1hLmdldENvbXB1dGVkU3R5bGUmJm4uZXh0ZW5kKGsse3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZygpLGJ9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmcoKSxjfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIGIsYz1mLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudCgiZGl2IikpO3JldHVybiBjLnN0eWxlLmNzc1RleHQ9Zi5zdHlsZS5jc3NUZXh0PSItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjAiLGMuc3R5bGUubWFyZ2luUmlnaHQ9Yy5zdHlsZS53aWR0aD0iMCIsZi5zdHlsZS53aWR0aD0iMXB4IixkLmFwcGVuZENoaWxkKGUpLGI9IXBhcnNlRmxvYXQoYS5nZXRDb21wdXRlZFN0eWxlKGMsbnVsbCkubWFyZ2luUmlnaHQpLGQucmVtb3ZlQ2hpbGQoZSksZi5yZW1vdmVDaGlsZChjKSxifX0pfX0oKSxuLnN3YXA9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnPXt9O2ZvcihmIGluIGIpZ1tmXT1hLnN0eWxlW2ZdLGEuc3R5bGVbZl09YltmXTtlPWMuYXBwbHkoYSxkfHxbXSk7Zm9yKGYgaW4gYilhLnN0eWxlW2ZdPWdbZl07cmV0dXJuIGV9O3ZhciB6Yj0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sQWI9bmV3IFJlZ0V4cCgiXigiK1ErIikoLiopJCIsImkiKSxCYj1uZXcgUmVnRXhwKCJeKFsrLV0pPSgiK1ErIikiLCJpIiksQ2I9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayJ9LERiPXtsZXR0ZXJTcGFjaW5nOiIwIixmb250V2VpZ2h0OiI0MDAifSxFYj1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdO2Z1bmN0aW9uIEZiKGEsYil7aWYoYiBpbiBhKXJldHVybiBiO3ZhciBjPWJbMF0udG9VcHBlckNhc2UoKStiLnNsaWNlKDEpLGQ9YixlPUViLmxlbmd0aDt3aGlsZShlLS0paWYoYj1FYltlXStjLGIgaW4gYSlyZXR1cm4gYjtyZXR1cm4gZH1mdW5jdGlvbiBHYihhLGIsYyl7dmFyIGQ9QWIuZXhlYyhiKTtyZXR1cm4gZD9NYXRoLm1heCgwLGRbMV0tKGN8fDApKSsoZFsyXXx8InB4Iik6Yn1mdW5jdGlvbiBIYihhLGIsYyxkLGUpe2Zvcih2YXIgZj1jPT09KGQ/ImJvcmRlciI6ImNvbnRlbnQiKT80OiJ3aWR0aCI9PT1iPzE6MCxnPTA7ND5mO2YrPTIpIm1hcmdpbiI9PT1jJiYoZys9bi5jc3MoYSxjK1JbZl0sITAsZSkpLGQ/KCJjb250ZW50Ij09PWMmJihnLT1uLmNzcyhhLCJwYWRkaW5nIitSW2ZdLCEwLGUpKSwibWFyZ2luIiE9PWMmJihnLT1uLmNzcyhhLCJib3JkZXIiK1JbZl0rIldpZHRoIiwhMCxlKSkpOihnKz1uLmNzcyhhLCJwYWRkaW5nIitSW2ZdLCEwLGUpLCJwYWRkaW5nIiE9PWMmJihnKz1uLmNzcyhhLCJib3JkZXIiK1JbZl0rIldpZHRoIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIEliKGEsYixjKXt2YXIgZD0hMCxlPSJ3aWR0aCI9PT1iP2Eub2Zmc2V0V2lkdGg6YS5vZmZzZXRIZWlnaHQsZj13YihhKSxnPSJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT14YihhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLHZiLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYoay5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK0hiKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZikrInB4In1mdW5jdGlvbiBKYihhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1MLmdldChkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlMoZCkmJihmW2ddPUwuYWNjZXNzKGQsIm9sZGRpc3BsYXkiLHRiKGQubm9kZU5hbWUpKSkpOihlPVMoZCksIm5vbmUiPT09YyYmZXx8TC5zZXQoZCwib2xkZGlzcGxheSIsZT9jOm4uY3NzKGQsImRpc3BsYXkiKSkpKTtmb3IoZz0wO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihiJiYibm9uZSIhPT1kLnN0eWxlLmRpc3BsYXkmJiIiIT09ZC5zdHlsZS5kaXNwbGF5fHwoZC5zdHlsZS5kaXNwbGF5PWI/ZltnXXx8IiI6Im5vbmUiKSk7cmV0dXJuIGF9bi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz14YihhLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1jPyIxIjpjfX19fSxjc3NOdW1iZXI6e2NvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnsiZmxvYXQiOiJjc3NGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYiksaT1hLnN0eWxlO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPUZiKGksaCkpLGc9bi5jc3NIb29rc1tiXXx8bi5jc3NIb29rc1toXSx2b2lkIDA9PT1jP2cmJiJnZXQiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdOihmPXR5cGVvZiBjLCJzdHJpbmciPT09ZiYmKGU9QmIuZXhlYyhjKSkmJihjPShlWzFdKzEpKmVbMl0rcGFyc2VGbG9hdChuLmNzcyhhLGIpKSxmPSJudW1iZXIiKSxudWxsIT1jJiZjPT09YyYmKCJudW1iZXIiIT09Znx8bi5jc3NOdW1iZXJbaF18fChjKz0icHgiKSxrLmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1jfHwwIT09Yi5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fChpW2JdPSJpbmhlcml0IiksZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpfHwoaVtiXT1jKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKTtyZXR1cm4gYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1GYihhLnN0eWxlLGgpKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmImdldCJpbiBnJiYoZT1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1lJiYoZT14YihhLGIsZCkpLCJub3JtYWwiPT09ZSYmYiBpbiBEYiYmKGU9RGJbYl0pLCIiPT09Y3x8Yz8oZj1wYXJzZUZsb2F0KGUpLGM9PT0hMHx8bi5pc051bWVyaWMoZik/Znx8MDplKTplfX0pLG4uZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjP3piLnRlc3Qobi5jc3MoYSwiZGlzcGxheSIpKSYmMD09PWEub2Zmc2V0V2lkdGg/bi5zd2FwKGEsQ2IsZnVuY3Rpb24oKXtyZXR1cm4gSWIoYSxiLGQpfSk6SWIoYSxiLGQpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1kJiZ3YihhKTtyZXR1cm4gR2IoYSxjLGQ/SGIoYSxiLGQsImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxlKSxlKTowKX19fSksbi5jc3NIb29rcy5tYXJnaW5SaWdodD15YihrLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9uLnN3YXAoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0seGIsW2EsIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLG4uZWFjaCh7bWFyZ2luOiIiLHBhZGRpbmc6IiIsYm9yZGVyOiJXaWR0aCJ9LGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1thK2JdPXtleHBhbmQ6ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPTAsZT17fSxmPSJzdHJpbmciPT10eXBlb2YgYz9jLnNwbGl0KCIgIik6W2NdOzQ+ZDtkKyspZVthK1JbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sdWIudGVzdChhKXx8KG4uY3NzSG9va3NbYStiXS5zZXQ9R2IpfSksbi5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYobi5pc0FycmF5KGIpKXtmb3IoZD13YihhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1uLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/bi5zdHlsZShhLGIsYyk6bi5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gSmIodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gSmIodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Uyh0aGlzKT9uKHRoaXMpLnNob3coKTpuKHRoaXMpLmhpZGUoKX0pfX0pO2Z1bmN0aW9uIEtiKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBLYi5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfW4uVHdlZW49S2IsS2IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpLYixpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHwic3dpbmciLHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPUtiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpLYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1LYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5wb3M9Yj10aGlzLm9wdGlvbnMuZHVyYXRpb24/bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpLYi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxLYi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9S2IucHJvdG90eXBlLEtiLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbnVsbD09YS5lbGVtW2EucHJvcF18fGEuZWxlbS5zdHlsZSYmbnVsbCE9YS5lbGVtLnN0eWxlW2EucHJvcF0/KGI9bi5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApOmEuZWxlbVthLnByb3BdfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6YS5lbGVtLnN0eWxlJiYobnVsbCE9YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV18fG4uY3NzSG9va3NbYS5wcm9wXSk/bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCk6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0sS2IucHJvcEhvb2tzLnNjcm9sbFRvcD1LYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9fSxuLmZ4PUtiLnByb3RvdHlwZS5pbml0LG4uZnguc3RlcD17fTt2YXIgTGIsTWIsTmI9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLE9iPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitRKyIpKFthLXolXSopJCIsImkiKSxQYj0vcXVldWVIb29rcyQvLFFiPVtWYl0sUmI9eyIqIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYiksZD1jLmN1cigpLGU9T2IuZXhlYyhiKSxmPWUmJmVbM118fChuLmNzc051bWJlclthXT8iIjoicHgiKSxnPShuLmNzc051bWJlclthXXx8InB4IiE9PWYmJitkKSYmT2IuZXhlYyhuLmNzcyhjLmVsZW0sYSkpLGg9MSxpPTIwO2lmKGcmJmdbM10hPT1mKXtmPWZ8fGdbM10sZT1lfHxbXSxnPStkfHwxO2RvIGg9aHx8Ii41IixnLz1oLG4uc3R5bGUoYy5lbGVtLGEsZytmKTt3aGlsZShoIT09KGg9Yy5jdXIoKS9kKSYmMSE9PWgmJi0taSl9cmV0dXJuIGUmJihnPWMuc3RhcnQ9K2d8fCtkfHwwLGMudW5pdD1mLGMuZW5kPWVbMV0/ZysoZVsxXSsxKSplWzJdOitlWzJdKSxjfV19O2Z1bmN0aW9uIFNiKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtMYj12b2lkIDB9KSxMYj1uLm5vdygpfWZ1bmN0aW9uIFRiKGEsYil7dmFyIGMsZD0wLGU9e2hlaWdodDphfTtmb3IoYj1iPzE6MDs0PmQ7ZCs9Mi1iKWM9UltkXSxlWyJtYXJnaW4iK2NdPWVbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIFViKGEsYixjKXtmb3IodmFyIGQsZT0oUmJbYl18fFtdKS5jb25jYXQoUmJbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gVmIoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbD10aGlzLG09e30sbz1hLnN0eWxlLHA9YS5ub2RlVHlwZSYmUyhhKSxxPUwuZ2V0KGEsImZ4c2hvdyIpO2MucXVldWV8fChoPW4uX3F1ZXVlSG9va3MoYSwiZngiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxsLmFsd2F5cyhmdW5jdGlvbigpe2wuYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG4ucXVldWUoYSwiZngiKS5sZW5ndGh8fGguZW1wdHkuZmlyZSgpfSl9KSksMT09PWEubm9kZVR5cGUmJigiaGVpZ2h0ImluIGJ8fCJ3aWR0aCJpbiBiKSYmKGMub3ZlcmZsb3c9W28ub3ZlcmZsb3csby5vdmVyZmxvd1gsby5vdmVyZmxvd1ldLGo9bi5jc3MoYSwiZGlzcGxheSIpLGs9Im5vbmUiPT09aj9MLmdldChhLCJvbGRkaXNwbGF5Iil8fHRiKGEubm9kZU5hbWUpOmosImlubGluZSI9PT1rJiYibm9uZSI9PT1uLmNzcyhhLCJmbG9hdCIpJiYoby5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksYy5vdmVyZmxvdyYmKG8ub3ZlcmZsb3c9ImhpZGRlbiIsbC5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLE5iLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocD8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXF8fHZvaWQgMD09PXFbZF0pY29udGludWU7cD0hMH1tW2RdPXEmJnFbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChtKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP3RiKGEubm9kZU5hbWUpOmopJiYoby5kaXNwbGF5PWopO2Vsc2V7cT8iaGlkZGVuImluIHEmJihwPXEuaGlkZGVuKTpxPUwuYWNjZXNzKGEsImZ4c2hvdyIse30pLGYmJihxLmhpZGRlbj0hcCkscD9uKGEpLnNob3coKTpsLmRvbmUoZnVuY3Rpb24oKXtuKGEpLmhpZGUoKX0pLGwuZG9uZShmdW5jdGlvbigpe3ZhciBiO0wucmVtb3ZlKGEsImZ4c2hvdyIpO2ZvcihiIGluIG0pbi5zdHlsZShhLGIsbVtiXSl9KTtmb3IoZCBpbiBtKWc9VWIocD9xW2RdOjAsZCxsKSxkIGluIHF8fChxW2RdPWcuc3RhcnQscCYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD0id2lkdGgiPT09ZHx8ImhlaWdodCI9PT1kPzE6MCkpfX1mdW5jdGlvbiBXYihhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPW4uY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sbi5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1uLmNzc0hvb2tzW2RdLGcmJiJleHBhbmQiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIFhiKGEsYixjKXt2YXIgZCxlLGY9MCxnPVFiLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPUxifHxTYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6TGJ8fFNiKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiP2gucmVzb2x2ZVdpdGgoYSxbaixiXSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihXYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9UWJbZl0uY2FsbChqLGEsayxqLm9wdHMpKXJldHVybiBkO3JldHVybiBuLm1hcChrLFViLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQoWGIse3R3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVsiKiJdKTphPWEuc3BsaXQoIiAiKTtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljPWFbZF0sUmJbY109UmJbY118fFtdLFJiW2NdLnVuc2hpZnQoYil9LHByZWZpbHRlcjpmdW5jdGlvbihhLGIpe2I/UWIudW5zaGlmdChhKTpRYi5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJiJvYmplY3QiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PWQucXVldWV8fGQucXVldWU9PT0hMCkmJihkLnF1ZXVlPSJmeCIpLGQub2xkPWQuY29tcGxldGUsZC5jb21wbGV0ZT1mdW5jdGlvbigpe24uaXNGdW5jdGlvbihkLm9sZCkmJmQub2xkLmNhbGwodGhpcyksZC5xdWV1ZSYmbi5kZXF1ZXVlKHRoaXMsZC5xdWV1ZSl9LGR9LG4uZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKFMpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6Yn0sYSxjLGQpfSxhbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uaXNFbXB0eU9iamVjdChhKSxmPW4uc3BlZWQoYixjLGQpLGc9ZnVuY3Rpb24oKXt2YXIgYj1YYih0aGlzLG4uZXh0ZW5kKHt9LGEpLGYpOyhlfHxMLmdldCh0aGlzLCJmaW5pc2giKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihjPWIsYj1hLGE9dm9pZCAwKSxiJiZhIT09ITEmJnRoaXMucXVldWUoYXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhKyJxdWV1ZUhvb2tzIixmPW4udGltZXJzLGc9TC5nZXQodGhpcyk7aWYoZSlnW2VdJiZnW2VdLnN0b3AmJmQoZ1tlXSk7ZWxzZSBmb3IoZSBpbiBnKWdbZV0mJmdbZV0uc3RvcCYmUGIudGVzdChlKSYmZChnW2VdKTtmb3IoZT1mLmxlbmd0aDtlLS07KWZbZV0uZWxlbSE9PXRoaXN8fG51bGwhPWEmJmZbZV0ucXVldWUhPT1hfHwoZltlXS5hbmltLnN0b3AoYyksYj0hMSxmLnNwbGljZShlLDEpKTsoYnx8IWMpJiZuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1MLmdldCh0aGlzKSxkPWNbYSsicXVldWUiXSxlPWNbYSsicXVldWVIb29rcyJdLGY9bi50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLG4ucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2c+YjtiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksbi5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihhLGIpe3ZhciBjPW4uZm5bYl07bi5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fCJib29sZWFuIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKFRiKGIsITApLGEsZCxlKX19KSxuLmVhY2goe3NsaWRlRG93bjpUYigic2hvdyIpLHNsaWRlVXA6VGIoImhpZGUiKSxzbGlkZVRvZ2dsZTpUYigidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksbi50aW1lcnM9W10sbi5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj0wLGM9bi50aW1lcnM7Zm9yKExiPW4ubm93KCk7YjxjLmxlbmd0aDtiKyspYT1jW2JdLGEoKXx8Y1tiXSE9PWF8fGMuc3BsaWNlKGItLSwxKTtjLmxlbmd0aHx8bi5meC5zdG9wKCksTGI9dm9pZCAwfSxuLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe24udGltZXJzLnB1c2goYSksYSgpP24uZnguc3RhcnQoKTpuLnRpbWVycy5wb3AoKX0sbi5meC5pbnRlcnZhbD0xMyxuLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7TWJ8fChNYj1zZXRJbnRlcnZhbChuLmZ4LnRpY2ssbi5meC5pbnRlcnZhbCkpfSxuLmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKE1iKSxNYj1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bi5meD9uLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8ImZ4Iix0aGlzLnF1ZXVlKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1zZXRUaW1lb3V0KGIsYSk7Yy5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGQpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWwuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiPWwuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksYz1iLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2EudHlwZT0iY2hlY2tib3giLGsuY2hlY2tPbj0iIiE9PWEudmFsdWUsay5vcHRTZWxlY3RlZD1jLnNlbGVjdGVkLGIuZGlzYWJsZWQ9ITAsay5vcHREaXNhYmxlZD0hYy5kaXNhYmxlZCxhPWwuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxhLnZhbHVlPSJ0IixhLnR5cGU9InJhZGlvIixrLnJhZGlvVmFsdWU9InQiPT09YS52YWx1ZX0oKTt2YXIgWWIsWmIsJGI9bi5leHByLmF0dHJIYW5kbGU7bi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLG4uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoYSYmMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gdHlwZW9mIGEuZ2V0QXR0cmlidXRlPT09VT9uLnByb3AoYSxiLGMpOigxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGQ9bi5hdHRySG9va3NbYl18fChuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP1piOlliKSksdm9pZCAwPT09Yz9kJiYiZ2V0ImluIGQmJm51bGwhPT0oZT1kLmdldChhLGIpKT9lOihlPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZT92b2lkIDA6ZSk6bnVsbCE9PWM/ZCYmInNldCJpbiBkJiZ2b2lkIDAhPT0oZT1kLnNldChhLGMsYikpP2U6KGEuc2V0QXR0cmlidXRlKGIsYysiIiksYyk6dm9pZCBuLnJlbW92ZUF0dHIoYSxiKSkNCn0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT0wLGY9YiYmYi5tYXRjaChFKTtpZihmJiYxPT09YS5ub2RlVHlwZSl3aGlsZShjPWZbZSsrXSlkPW4ucHJvcEZpeFtjXXx8YyxuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGMpJiYoYVtkXT0hMSksYS5yZW1vdmVBdHRyaWJ1dGUoYyl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIWsucmFkaW9WYWx1ZSYmInJhZGlvIj09PWImJm4ubm9kZU5hbWUoYSwiaW5wdXQiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoInR5cGUiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19fSksWmI9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9uLnJlbW92ZUF0dHIoYSxjKTphLnNldEF0dHJpYnV0ZShjLGMpLGN9fSxuLmVhY2gobi5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oYSxiKXt2YXIgYz0kYltiXXx8bi5maW5kLmF0dHI7JGJbYl09ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGY7cmV0dXJuIGR8fChmPSRiW2JdLCRiW2JdPWUsZT1udWxsIT1jKGEsYixkKT9iLnRvTG93ZXJDYXNlKCk6bnVsbCwkYltiXT1mKSxlfX0pO3ZhciBfYj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEoodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW24ucHJvcEZpeFthXXx8YV19KX19KSxuLmV4dGVuZCh7cHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9LHByb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnPWEubm9kZVR5cGU7aWYoYSYmMyE9PWcmJjghPT1nJiYyIT09ZylyZXR1cm4gZj0xIT09Z3x8IW4uaXNYTUxEb2MoYSksZiYmKGI9bi5wcm9wRml4W2JdfHxiLGU9bi5wcm9wSG9va3NbYl0pLHZvaWQgMCE9PWM/ZSYmInNldCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6YVtiXT1jOmUmJiJnZXQiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6YVtiXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc0F0dHJpYnV0ZSgidGFiaW5kZXgiKXx8X2IudGVzdChhLm5vZGVOYW1lKXx8YS5ocmVmP2EudGFiSW5kZXg6LTF9fX19KSxrLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH19KSxuLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe24ucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTt2YXIgYWM9L1tcdFxyXG5cZl0vZztuLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9InN0cmluZyI9PXR5cGVvZiBhJiZhLGk9MCxqPXRoaXMubGVuZ3RoO2lmKG4uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYix0aGlzLmNsYXNzTmFtZSkpfSk7aWYoaClmb3IoYj0oYXx8IiIpLm1hdGNoKEUpfHxbXTtqPmk7aSsrKWlmKGM9dGhpc1tpXSxkPTE9PT1jLm5vZGVUeXBlJiYoYy5jbGFzc05hbWU/KCIgIitjLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoYWMsIiAiKToiICIpKXtmPTA7d2hpbGUoZT1iW2YrK10pZC5pbmRleE9mKCIgIitlKyIgIik8MCYmKGQrPWUrIiAiKTtnPW4udHJpbShkKSxjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9MD09PWFyZ3VtZW50cy5sZW5ndGh8fCJzdHJpbmciPT10eXBlb2YgYSYmYSxpPTAsaj10aGlzLmxlbmd0aDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGgpZm9yKGI9KGF8fCIiKS5tYXRjaChFKXx8W107aj5pO2krKylpZihjPXRoaXNbaV0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPygiICIrYy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKGFjLCIgIik6IiIpKXtmPTA7d2hpbGUoZT1iW2YrK10pd2hpbGUoZC5pbmRleE9mKCIgIitlKyIgIik+PTApZD1kLnJlcGxhY2UoIiAiK2UrIiAiLCIgIik7Zz1hP24udHJpbShkKToiIixjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6dGhpcy5lYWNoKG4uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsdGhpcy5jbGFzc05hbWUsYiksYil9OmZ1bmN0aW9uKCl7aWYoInN0cmluZyI9PT1jKXt2YXIgYixkPTAsZT1uKHRoaXMpLGY9YS5tYXRjaChFKXx8W107d2hpbGUoYj1mW2QrK10pZS5oYXNDbGFzcyhiKT9lLnJlbW92ZUNsYXNzKGIpOmUuYWRkQ2xhc3MoYil9ZWxzZShjPT09VXx8ImJvb2xlYW4iPT09YykmJih0aGlzLmNsYXNzTmFtZSYmTC5zZXQodGhpcywiX19jbGFzc05hbWVfXyIsdGhpcy5jbGFzc05hbWUpLHRoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lfHxhPT09ITE/IiI6TC5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIil9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSIgIithKyIgIixjPTAsZD10aGlzLmxlbmd0aDtkPmM7YysrKWlmKDE9PT10aGlzW2NdLm5vZGVUeXBlJiYoIiAiK3RoaXNbY10uY2xhc3NOYW1lKyIgIikucmVwbGFjZShhYywiICIpLmluZGV4T2YoYik+PTApcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIGJjPS9cci9nO24uZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZD1uLmlzRnVuY3Rpb24oYSksdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBlOzE9PT10aGlzLm5vZGVUeXBlJiYoZT1kP2EuY2FsbCh0aGlzLGMsbih0aGlzKS52YWwoKSk6YSxudWxsPT1lP2U9IiI6Im51bWJlciI9PXR5cGVvZiBlP2UrPSIiOm4uaXNBcnJheShlKSYmKGU9bi5tYXAoZSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjphKyIifSkpLGI9bi52YWxIb29rc1t0aGlzLnR5cGVdfHxuLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmInNldCJpbiBiJiZ2b2lkIDAhPT1iLnNldCh0aGlzLGUsInZhbHVlIil8fCh0aGlzLnZhbHVlPWUpKX0pO2lmKGUpcmV0dXJuIGI9bi52YWxIb29rc1tlLnR5cGVdfHxuLnZhbEhvb2tzW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmImdldCJpbiBiJiZ2b2lkIDAhPT0oYz1iLmdldChlLCJ2YWx1ZSIpKT9jOihjPWUudmFsdWUsInN0cmluZyI9PXR5cGVvZiBjP2MucmVwbGFjZShiYywiIik6bnVsbD09Yz8iIjpjKX19fSksbi5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1uLmZpbmQuYXR0cihhLCJ2YWx1ZSIpO3JldHVybiBudWxsIT1iP2I6bi50cmltKG4udGV4dChhKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwhKCFjLnNlbGVjdGVkJiZpIT09ZXx8KGsub3B0RGlzYWJsZWQ/Yy5kaXNhYmxlZDpudWxsIT09Yy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpfHxjLnBhcmVudE5vZGUuZGlzYWJsZWQmJm4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0pZD1lW2ddLChkLnNlbGVjdGVkPW4uaW5BcnJheShkLnZhbHVlLGYpPj0wKSYmKGM9ITApO3JldHVybiBjfHwoYS5zZWxlY3RlZEluZGV4PS0xKSxmfX19fSksbi5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7bi52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uaXNBcnJheShiKT9hLmNoZWNrZWQ9bi5pbkFycmF5KG4oYSkudmFsKCksYik+PTA6dm9pZCAwfX0say5jaGVja09ufHwobi52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmEudmFsdWV9KX0pLG4uZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLG4uZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX0sYmluZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub24oYSxudWxsLGIsYyl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9mZihhLG51bGwsYil9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGIsYSxjLGQpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoYSwiKioiKTp0aGlzLm9mZihiLGF8fCIqKiIsYyl9fSk7dmFyIGNjPW4ubm93KCksZGM9L1w/LztuLnBhcnNlSlNPTj1mdW5jdGlvbihhKXtyZXR1cm4gSlNPTi5wYXJzZShhKyIiKX0sbi5wYXJzZVhNTD1mdW5jdGlvbihhKXt2YXIgYixjO2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7dHJ5e2M9bmV3IERPTVBhcnNlcixiPWMucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIil9Y2F0Y2goZCl7Yj12b2lkIDB9cmV0dXJuKCFifHxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aCkmJm4uZXJyb3IoIkludmFsaWQgWE1MOiAiK2EpLGJ9O3ZhciBlYz0vIy4qJC8sZmM9LyhbPyZdKV89W14mXSovLGdjPS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKSQvZ20saGM9L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8saWM9L14oPzpHRVR8SEVBRCkkLyxqYz0vXlwvXC8vLGtjPS9eKFtcdy4rLV0rOikoPzpcL1wvKD86W15cLz8jXSpAfCkoW15cLz8jOl0qKSg/OjooXGQrKXwpfCkvLGxjPXt9LG1jPXt9LG5jPSIqLyIuY29uY2F0KCIqIiksb2M9YS5sb2NhdGlvbi5ocmVmLHBjPWtjLmV4ZWMob2MudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIHFjKGEpe3JldHVybiBmdW5jdGlvbihiLGMpeyJzdHJpbmciIT10eXBlb2YgYiYmKGM9YixiPSIqIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbXTtpZihuLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pIisiPT09ZFswXT8oZD1kLnNsaWNlKDEpfHwiKiIsKGFbZF09YVtkXXx8W10pLnVuc2hpZnQoYykpOihhW2RdPWFbZF18fFtdKS5wdXNoKGMpfX1mdW5jdGlvbiByYyhhLGIsYyxkKXt2YXIgZT17fSxmPWE9PT1tYztmdW5jdGlvbiBnKGgpe3ZhciBpO3JldHVybiBlW2hdPSEwLG4uZWFjaChhW2hdfHxbXSxmdW5jdGlvbihhLGgpe3ZhciBqPWgoYixjLGQpO3JldHVybiJzdHJpbmciIT10eXBlb2Yganx8Znx8ZVtqXT9mPyEoaT1qKTp2b2lkIDA6KGIuZGF0YVR5cGVzLnVuc2hpZnQoaiksZyhqKSwhMSl9KSxpfXJldHVybiBnKGIuZGF0YVR5cGVzWzBdKXx8IWVbIioiXSYmZygiKiIpfWZ1bmN0aW9uIHNjKGEsYil7dmFyIGMsZCxlPW4uYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IoYyBpbiBiKXZvaWQgMCE9PWJbY10mJigoZVtjXT9hOmR8fChkPXt9KSlbY109YltjXSk7cmV0dXJuIGQmJm4uZXh0ZW5kKCEwLGEsZCksYX1mdW5jdGlvbiB0YyhhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLmNvbnRlbnRzLGk9YS5kYXRhVHlwZXM7d2hpbGUoIioiPT09aVswXSlpLnNoaWZ0KCksdm9pZCAwPT09ZCYmKGQ9YS5taW1lVHlwZXx8Yi5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKGQpZm9yKGUgaW4gaClpZihoW2VdJiZoW2VdLnRlc3QoZCkpe2kudW5zaGlmdChlKTticmVha31pZihpWzBdaW4gYylmPWlbMF07ZWxzZXtmb3IoZSBpbiBjKXtpZighaVswXXx8YS5jb252ZXJ0ZXJzW2UrIiAiK2lbMF1dKXtmPWU7YnJlYWt9Z3x8KGc9ZSl9Zj1mfHxnfXJldHVybiBmPyhmIT09aVswXSYmaS51bnNoaWZ0KGYpLGNbZl0pOnZvaWQgMH1mdW5jdGlvbiB1YyhhLGIsYyxkKXt2YXIgZSxmLGcsaCxpLGo9e30saz1hLmRhdGFUeXBlcy5zbGljZSgpO2lmKGtbMV0pZm9yKGcgaW4gYS5jb252ZXJ0ZXJzKWpbZy50b0xvd2VyQ2FzZSgpXT1hLmNvbnZlcnRlcnNbZ107Zj1rLnNoaWZ0KCk7d2hpbGUoZilpZihhLnJlc3BvbnNlRmllbGRzW2ZdJiYoY1thLnJlc3BvbnNlRmllbGRzW2ZdXT1iKSwhaSYmZCYmYS5kYXRhRmlsdGVyJiYoYj1hLmRhdGFGaWx0ZXIoYixhLmRhdGFUeXBlKSksaT1mLGY9ay5zaGlmdCgpKWlmKCIqIj09PWYpZj1pO2Vsc2UgaWYoIioiIT09aSYmaSE9PWYpe2lmKGc9altpKyIgIitmXXx8alsiKiAiK2ZdLCFnKWZvcihlIGluIGopaWYoaD1lLnNwbGl0KCIgIiksaFsxXT09PWYmJihnPWpbaSsiICIraFswXV18fGpbIiogIitoWzBdXSkpe2c9PT0hMD9nPWpbZV06altlXSE9PSEwJiYoZj1oWzBdLGsudW5zaGlmdChoWzFdKSk7YnJlYWt9aWYoZyE9PSEwKWlmKGcmJmFbInRocm93cyJdKWI9ZyhiKTtlbHNlIHRyeXtiPWcoYil9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6Zz9sOiJObyBjb252ZXJzaW9uIGZyb20gIitpKyIgdG8gIitmfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOmJ9fW4uZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpvYyx0eXBlOiJHRVQiLGlzTG9jYWw6aGMudGVzdChwY1sxXSksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpuYyx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOm4ucGFyc2VKU09OLCJ0ZXh0IHhtbCI6bi5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/c2Moc2MoYSxuLmFqYXhTZXR0aW5ncyksYik6c2Mobi5hamF4U2V0dGluZ3MsYSl9LGFqYXhQcmVmaWx0ZXI6cWMobGMpLGFqYXhUcmFuc3BvcnQ6cWMobWMpLGFqYXg6ZnVuY3Rpb24oYSxiKXsib2JqZWN0Ij09dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGI9Ynx8e307dmFyIGMsZCxlLGYsZyxoLGksaixrPW4uYWpheFNldHVwKHt9LGIpLGw9ay5jb250ZXh0fHxrLG09ay5jb250ZXh0JiYobC5ub2RlVHlwZXx8bC5qcXVlcnkpP24obCk6bi5ldmVudCxvPW4uRGVmZXJyZWQoKSxwPW4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHE9ay5zdGF0dXNDb2RlfHx7fSxyPXt9LHM9e30sdD0wLHU9ImNhbmNlbGVkIix2PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoMj09PXQpe2lmKCFmKXtmPXt9O3doaWxlKGI9Z2MuZXhlYyhlKSlmW2JbMV0udG9Mb3dlckNhc2UoKV09YlsyXX1iPWZbYS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbD09Yj9udWxsOmJ9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiAyPT09dD9lOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHR8fChhPXNbY109c1tjXXx8YSxyW2FdPWIpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHR8fChrLm1pbWVUeXBlPWEpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYSlpZigyPnQpZm9yKGIgaW4gYSlxW2JdPVtxW2JdLGFbYl1dO2Vsc2Ugdi5hbHdheXMoYVt2LnN0YXR1c10pO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihhKXt2YXIgYj1hfHx1O3JldHVybiBjJiZjLmFib3J0KGIpLHgoMCxiKSx0aGlzfX07aWYoby5wcm9taXNlKHYpLmNvbXBsZXRlPXAuYWRkLHYuc3VjY2Vzcz12LmRvbmUsdi5lcnJvcj12LmZhaWwsay51cmw9KChhfHxrLnVybHx8b2MpKyIiKS5yZXBsYWNlKGVjLCIiKS5yZXBsYWNlKGpjLHBjWzFdKyIvLyIpLGsudHlwZT1iLm1ldGhvZHx8Yi50eXBlfHxrLm1ldGhvZHx8ay50eXBlLGsuZGF0YVR5cGVzPW4udHJpbShrLmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2goRSl8fFsiIl0sbnVsbD09ay5jcm9zc0RvbWFpbiYmKGg9a2MuZXhlYyhrLnVybC50b0xvd2VyQ2FzZSgpKSxrLmNyb3NzRG9tYWluPSEoIWh8fGhbMV09PT1wY1sxXSYmaFsyXT09PXBjWzJdJiYoaFszXXx8KCJodHRwOiI9PT1oWzFdPyI4MCI6IjQ0MyIpKT09PShwY1szXXx8KCJodHRwOiI9PT1wY1sxXT8iODAiOiI0NDMiKSkpKSxrLmRhdGEmJmsucHJvY2Vzc0RhdGEmJiJzdHJpbmciIT10eXBlb2Ygay5kYXRhJiYoay5kYXRhPW4ucGFyYW0oay5kYXRhLGsudHJhZGl0aW9uYWwpKSxyYyhsYyxrLGIsdiksMj09PXQpcmV0dXJuIHY7aT1uLmV2ZW50JiZrLmdsb2JhbCxpJiYwPT09bi5hY3RpdmUrKyYmbi5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSxrLnR5cGU9ay50eXBlLnRvVXBwZXJDYXNlKCksay5oYXNDb250ZW50PSFpYy50ZXN0KGsudHlwZSksZD1rLnVybCxrLmhhc0NvbnRlbnR8fChrLmRhdGEmJihkPWsudXJsKz0oZGMudGVzdChkKT8iJiI6Ij8iKStrLmRhdGEsZGVsZXRlIGsuZGF0YSksay5jYWNoZT09PSExJiYoay51cmw9ZmMudGVzdChkKT9kLnJlcGxhY2UoZmMsIiQxXz0iK2NjKyspOmQrKGRjLnRlc3QoZCk/IiYiOiI/IikrIl89IitjYysrKSksay5pZk1vZGlmaWVkJiYobi5sYXN0TW9kaWZpZWRbZF0mJnYuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLG4ubGFzdE1vZGlmaWVkW2RdKSxuLmV0YWdbZF0mJnYuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsbi5ldGFnW2RdKSksKGsuZGF0YSYmay5oYXNDb250ZW50JiZrLmNvbnRlbnRUeXBlIT09ITF8fGIuY29udGVudFR5cGUpJiZ2LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsay5jb250ZW50VHlwZSksdi5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLGsuZGF0YVR5cGVzWzBdJiZrLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dP2suYWNjZXB0c1trLmRhdGFUeXBlc1swXV0rKCIqIiE9PWsuZGF0YVR5cGVzWzBdPyIsICIrbmMrIjsgcT0wLjAxIjoiIik6ay5hY2NlcHRzWyIqIl0pO2ZvcihqIGluIGsuaGVhZGVycyl2LnNldFJlcXVlc3RIZWFkZXIoaixrLmhlYWRlcnNbal0pO2lmKGsuYmVmb3JlU2VuZCYmKGsuYmVmb3JlU2VuZC5jYWxsKGwsdixrKT09PSExfHwyPT09dCkpcmV0dXJuIHYuYWJvcnQoKTt1PSJhYm9ydCI7Zm9yKGogaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0pdltqXShrW2pdKTtpZihjPXJjKG1jLGssYix2KSl7di5yZWFkeVN0YXRlPTEsaSYmbS50cmlnZ2VyKCJhamF4U2VuZCIsW3Ysa10pLGsuYXN5bmMmJmsudGltZW91dD4wJiYoZz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7di5hYm9ydCgidGltZW91dCIpfSxrLnRpbWVvdXQpKTt0cnl7dD0xLGMuc2VuZChyLHgpfWNhdGNoKHcpe2lmKCEoMj50KSl0aHJvdyB3O3goLTEsdyl9fWVsc2UgeCgtMSwiTm8gVHJhbnNwb3J0Iik7ZnVuY3Rpb24geChhLGIsZixoKXt2YXIgaixyLHMsdSx3LHg9YjsyIT09dCYmKHQ9MixnJiZjbGVhclRpbWVvdXQoZyksYz12b2lkIDAsZT1ofHwiIix2LnJlYWR5U3RhdGU9YT4wPzQ6MCxqPWE+PTIwMCYmMzAwPmF8fDMwND09PWEsZiYmKHU9dGMoayx2LGYpKSx1PXVjKGssdSx2LGopLGo/KGsuaWZNb2RpZmllZCYmKHc9di5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLHcmJihuLmxhc3RNb2RpZmllZFtkXT13KSx3PXYuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSx3JiYobi5ldGFnW2RdPXcpKSwyMDQ9PT1hfHwiSEVBRCI9PT1rLnR5cGU/eD0ibm9jb250ZW50IjozMDQ9PT1hP3g9Im5vdG1vZGlmaWVkIjooeD11LnN0YXRlLHI9dS5kYXRhLHM9dS5lcnJvcixqPSFzKSk6KHM9eCwoYXx8IXgpJiYoeD0iZXJyb3IiLDA+YSYmKGE9MCkpKSx2LnN0YXR1cz1hLHYuc3RhdHVzVGV4dD0oYnx8eCkrIiIsaj9vLnJlc29sdmVXaXRoKGwsW3IseCx2XSk6by5yZWplY3RXaXRoKGwsW3YseCxzXSksdi5zdGF0dXNDb2RlKHEpLHE9dm9pZCAwLGkmJm0udHJpZ2dlcihqPyJhamF4U3VjY2VzcyI6ImFqYXhFcnJvciIsW3YsayxqP3I6c10pLHAuZmlyZVdpdGgobCxbdix4XSksaSYmKG0udHJpZ2dlcigiYWpheENvbXBsZXRlIixbdixrXSksLS1uLmFjdGl2ZXx8bi5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKSl9cmV0dXJuIHZ9LGdldEpTT046ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLmdldChhLGIsYywianNvbiIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5nZXQoYSx2b2lkIDAsYiwic2NyaXB0Iil9fSksbi5lYWNoKFsiZ2V0IiwicG9zdCJdLGZ1bmN0aW9uKGEsYil7bltiXT1mdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKGMpJiYoZT1lfHxkLGQ9YyxjPXZvaWQgMCksbi5hamF4KHt1cmw6YSx0eXBlOmIsZGF0YVR5cGU6ZSxkYXRhOmMsc3VjY2VzczpkfSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk6KHRoaXNbMF0mJihiPW4oYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0RWxlbWVudENoaWxkKWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKSksdGhpcyl9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKG4uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihiKXtuKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9OmZ1bmN0aW9uKCl7dmFyIGI9bih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1uLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7bi5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fG4odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG4uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aDw9MCYmYS5vZmZzZXRIZWlnaHQ8PTB9LG4uZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIW4uZXhwci5maWx0ZXJzLmhpZGRlbihhKX07dmFyIHZjPS8lMjAvZyx3Yz0vXFtcXSQvLHhjPS9ccj9cbi9nLHljPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSx6Yz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZnVuY3Rpb24gQWMoYSxiLGMsZCl7dmFyIGU7aWYobi5pc0FycmF5KGIpKW4uZWFjaChiLGZ1bmN0aW9uKGIsZSl7Y3x8d2MudGVzdChhKT9kKGEsZSk6QWMoYSsiWyIrKCJvYmplY3QiPT10eXBlb2YgZT9iOiIiKSsiXSIsZSxjLGQpfSk7ZWxzZSBpZihjfHwib2JqZWN0IiE9PW4udHlwZShiKSlkKGEsYik7ZWxzZSBmb3IoZSBpbiBiKUFjKGErIlsiK2UrIl0iLGJbZV0sYyxkKX1uLnBhcmFtPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPWZ1bmN0aW9uKGEsYil7Yj1uLmlzRnVuY3Rpb24oYik/YigpOm51bGw9PWI/IiI6YixkW2QubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoYSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChiKX07aWYodm9pZCAwPT09YiYmKGI9bi5hamF4U2V0dGluZ3MmJm4uYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxuLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhbi5pc1BsYWluT2JqZWN0KGEpKW4uZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihjIGluIGEpQWMoYyxhW2NdLGIsZSk7cmV0dXJuIGQuam9pbigiJiIpLnJlcGxhY2UodmMsIisiKX0sbi5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBuLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9bi5wcm9wKHRoaXMsImVsZW1lbnRzIik7cmV0dXJuIGE/bi5tYWtlQXJyYXkoYSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBhPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhbih0aGlzKS5pcygiOmRpc2FibGVkIikmJnpjLnRlc3QodGhpcy5ub2RlTmFtZSkmJiF5Yy50ZXN0KGEpJiYodGhpcy5jaGVja2VkfHwhVC50ZXN0KGEpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBjPW4odGhpcykudmFsKCk7cmV0dXJuIG51bGw9PWM/bnVsbDpuLmlzQXJyYXkoYyk/bi5tYXAoYyxmdW5jdGlvbihhKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKHhjLCJcclxuIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZSh4YywiXHJcbiIpfX0pLmdldCgpfX0pLG4uYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fWNhdGNoKGEpe319O3ZhciBCYz0wLENjPXt9LERjPXswOjIwMCwxMjIzOjIwNH0sRWM9bi5hamF4U2V0dGluZ3MueGhyKCk7YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIENjKUNjW2FdKCl9KSxrLmNvcnM9ISFFYyYmIndpdGhDcmVkZW50aWFscyJpbiBFYyxrLmFqYXg9RWM9ISFFYyxuLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGsuY29yc3x8RWMmJiFhLmNyb3NzRG9tYWluP3tzZW5kOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZj1hLnhocigpLGc9KytCYztpZihmLm9wZW4oYS50eXBlLGEudXJsLGEuYXN5bmMsYS51c2VybmFtZSxhLnBhc3N3b3JkKSxhLnhockZpZWxkcylmb3IoZSBpbiBhLnhockZpZWxkcylmW2VdPWEueGhyRmllbGRzW2VdO2EubWltZVR5cGUmJmYub3ZlcnJpZGVNaW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlKGEubWltZVR5cGUpLGEuY3Jvc3NEb21haW58fGNbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGNbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZSBpbiBjKWYuc2V0UmVxdWVzdEhlYWRlcihlLGNbZV0pO2I9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7YiYmKGRlbGV0ZSBDY1tnXSxiPWYub25sb2FkPWYub25lcnJvcj1udWxsLCJhYm9ydCI9PT1hP2YuYWJvcnQoKToiZXJyb3IiPT09YT9kKGYuc3RhdHVzLGYuc3RhdHVzVGV4dCk6ZChEY1tmLnN0YXR1c118fGYuc3RhdHVzLGYuc3RhdHVzVGV4dCwic3RyaW5nIj09dHlwZW9mIGYucmVzcG9uc2VUZXh0P3t0ZXh0OmYucmVzcG9uc2VUZXh0fTp2b2lkIDAsZi5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sZi5vbmxvYWQ9YigpLGYub25lcnJvcj1iKCJlcnJvciIpLGI9Q2NbZ109YigiYWJvcnQiKTt0cnl7Zi5zZW5kKGEuaGFzQ29udGVudCYmYS5kYXRhfHxudWxsKX1jYXRjaChoKXtpZihiKXRocm93IGh9fSxhYm9ydDpmdW5jdGlvbigpe2ImJmIoKX19OnZvaWQgMH0pLG4uYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovKD86amF2YXxlY21hKXNjcmlwdC99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ2xvYmFsRXZhbChhKSxhfX19KSxuLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oYSl7dm9pZCAwPT09YS5jYWNoZSYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9IkdFVCIpfSksbi5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKGEpe2lmKGEuY3Jvc3NEb21haW4pe3ZhciBiLGM7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZCxlKXtiPW4oIjxzY3JpcHQ+IikucHJvcCh7YXN5bmM6ITAsY2hhcnNldDphLnNjcmlwdENoYXJzZXQsc3JjOmEudXJsfSkub24oImxvYWQgZXJyb3IiLGM9ZnVuY3Rpb24oYSl7Yi5yZW1vdmUoKSxjPW51bGwsYSYmZSgiZXJyb3IiPT09YS50eXBlPzQwNDoyMDAsYS50eXBlKX0pLGwuaGVhZC5hcHBlbmRDaGlsZChiWzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fX19KTt2YXIgRmM9W10sR2M9Lyg9KVw/KD89JnwkKXxcP1w/LztuLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9RmMucG9wKCl8fG4uZXhwYW5kbysiXyIrY2MrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKEdjLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYhKGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmR2MudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKEdjLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShkYy50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXthW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssRmMucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbi5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fGw7dmFyIGQ9di5leGVjKGEpLGU9IWMmJltdO3JldHVybiBkP1tiLmNyZWF0ZUVsZW1lbnQoZFsxXSldOihkPW4uYnVpbGRGcmFnbWVudChbYV0sYixlKSxlJiZlLmxlbmd0aCYmbihlKS5yZW1vdmUoKSxuLm1lcmdlKFtdLGQuY2hpbGROb2RlcykpfTt2YXIgSGM9bi5mbi5sb2FkO24uZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7aWYoInN0cmluZyIhPXR5cGVvZiBhJiZIYylyZXR1cm4gSGMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBkLGUsZixnPXRoaXMsaD1hLmluZGV4T2YoIiAiKTtyZXR1cm4gaD49MCYmKGQ9bi50cmltKGEuc2xpY2UoaCkpLGE9YS5zbGljZSgwLGgpKSxuLmlzRnVuY3Rpb24oYik/KGM9YixiPXZvaWQgMCk6YiYmIm9iamVjdCI9PXR5cGVvZiBiJiYoZT0iUE9TVCIpLGcubGVuZ3RoPjAmJm4uYWpheCh7dXJsOmEsdHlwZTplLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP24oIjxkaXY+IikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuY29tcGxldGUoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goYyxmfHxbYS5yZXNwb25zZVRleHQsYixhXSl9KSx0aGlzfSxuLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxuLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbi5ncmVwKG4udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTt2YXIgSWM9YS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7ZnVuY3Rpb24gSmMoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZSYmYS5kZWZhdWx0Vmlld31uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsInBvc2l0aW9uIiksbD1uKGEpLG09e307InN0YXRpYyI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLCJ0b3AiKSxpPW4uY3NzKGEsImxlZnQiKSxqPSgiYWJzb2x1dGUiPT09a3x8ImZpeGVkIj09PWspJiYoZitpKS5pbmRleE9mKCJhdXRvIik+LTEsaj8oZD1sLnBvc2l0aW9uKCksZz1kLnRvcCxlPWQubGVmdCk6KGc9cGFyc2VGbG9hdChmKXx8MCxlPXBhcnNlRmxvYXQoaSl8fDApLG4uaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxoKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXRoaXNbMF0sZT17dG9wOjAsbGVmdDowfSxmPWQmJmQub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixkKT8odHlwZW9mIGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09VSYmKGU9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1KYyhmKSx7dG9wOmUudG9wK2MucGFnZVlPZmZzZXQtYi5jbGllbnRUb3AsbGVmdDplLmxlZnQrYy5wYWdlWE9mZnNldC1iLmNsaWVudExlZnR9KTplfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBhLGIsYz10aGlzWzBdLGQ9e3RvcDowLGxlZnQ6MH07cmV0dXJuImZpeGVkIj09PW4uY3NzKGMsInBvc2l0aW9uIik/Yj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLG4ubm9kZU5hbWUoYVswXSwiaHRtbCIpfHwoZD1hLm9mZnNldCgpKSxkLnRvcCs9bi5jc3MoYVswXSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxkLmxlZnQrPW4uY3NzKGFbMF0sImJvcmRlckxlZnRXaWR0aCIsITApKSx7dG9wOmIudG9wLWQudG9wLW4uY3NzKGMsIm1hcmdpblRvcCIsITApLGxlZnQ6Yi5sZWZ0LWQubGVmdC1uLmNzcyhjLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vZmZzZXRQYXJlbnR8fEljO3doaWxlKGEmJiFuLm5vZGVOYW1lKGEsImh0bWwiKSYmInN0YXRpYyI9PT1uLmNzcyhhLCJwb3NpdGlvbiIpKWE9YS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGF8fEljfSl9fSksbi5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKGIsYyl7dmFyIGQ9InBhZ2VZT2Zmc2V0Ij09PWM7bi5mbltiXT1mdW5jdGlvbihlKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGIsZSxmKXt2YXIgZz1KYyhiKTtyZXR1cm4gdm9pZCAwPT09Zj9nP2dbY106YltlXTp2b2lkKGc/Zy5zY3JvbGxUbyhkP2EucGFnZVhPZmZzZXQ6ZixkP2Y6YS5wYWdlWU9mZnNldCk6YltlXT1mKX0sYixlLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksbi5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT15YihrLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz14YihhLGIpLHZiLnRlc3QoYyk/bihhKS5wb3NpdGlvbigpW2JdKyJweCI6Yyk6dm9pZCAwfSl9KSxuLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGIpe24uZWFjaCh7cGFkZGluZzoiaW5uZXIiK2EsY29udGVudDpiLCIiOiJvdXRlciIrYX0sZnVuY3Rpb24oYyxkKXtuLmZuW2RdPWZ1bmN0aW9uKGQsZSl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aCYmKGN8fCJib29sZWFuIiE9dHlwZW9mIGQpLGc9Y3x8KGQ9PT0hMHx8ZT09PSEwPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4gbi5pc1dpbmRvdyhiKT9iLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IithXTo5PT09Yi5ub2RlVHlwZT8oZT1iLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChiLmJvZHlbInNjcm9sbCIrYV0sZVsic2Nyb2xsIithXSxiLmJvZHlbIm9mZnNldCIrYV0sZVsib2Zmc2V0IithXSxlWyJjbGllbnQiK2FdKSk6dm9pZCAwPT09ZD9uLmNzcyhiLGMsZyk6bi5zdHlsZShiLGMsZCxnKX0sYixmP2Q6dm9pZCAwLGYsbnVsbCl9fSl9KSxuLmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LG4uZm4uYW5kU2VsZj1uLmZuLmFkZEJhY2ssImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIG59KTt2YXIgS2M9YS5qUXVlcnksTGM9YS4kO3JldHVybiBuLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oYil7cmV0dXJuIGEuJD09PW4mJihhLiQ9TGMpLGImJmEualF1ZXJ5PT09biYmKGEualF1ZXJ5PUtjKSxufSx0eXBlb2YgYj09PVUmJihhLmpRdWVyeT1hLiQ9biksbn0pOw0K');
}


function resource_4aee6e3a3f21404e70f423b056813084() {
    return base64_decode('Ly8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnMNCi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRQ0KDQooZnVuY3Rpb24obW9kKSB7DQogICAgaWYgKHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIpIC8vIENvbW1vbkpTDQogICAgICAgIG1vZChyZXF1aXJlKCIuLi8uLi9saWIvY29kZW1pcnJvciIpKTsNCiAgICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EDQogICAgICAgIGRlZmluZShbIi4uLy4uL2xpYi9jb2RlbWlycm9yIl0sIG1vZCk7DQogICAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudg0KICAgICAgICBtb2QoQ29kZU1pcnJvcik7DQp9KShmdW5jdGlvbihDb2RlTWlycm9yKSB7DQogICAgInVzZSBzdHJpY3QiOw0KDQogICAgdmFyIGh0bWxDb25maWcgPSB7DQogICAgICAgIGF1dG9TZWxmQ2xvc2VyczogeydhcmVhJzogdHJ1ZSwgJ2Jhc2UnOiB0cnVlLCAnYnInOiB0cnVlLCAnY29sJzogdHJ1ZSwgJ2NvbW1hbmQnOiB0cnVlLA0KICAgICAgICAgICAgJ2VtYmVkJzogdHJ1ZSwgJ2ZyYW1lJzogdHJ1ZSwgJ2hyJzogdHJ1ZSwgJ2ltZyc6IHRydWUsICdpbnB1dCc6IHRydWUsDQogICAgICAgICAgICAna2V5Z2VuJzogdHJ1ZSwgJ2xpbmsnOiB0cnVlLCAnbWV0YSc6IHRydWUsICdwYXJhbSc6IHRydWUsICdzb3VyY2UnOiB0cnVlLA0KICAgICAgICAgICAgJ3RyYWNrJzogdHJ1ZSwgJ3dicic6IHRydWUsICdtZW51aXRlbSc6IHRydWV9LA0KICAgICAgICBpbXBsaWNpdGx5Q2xvc2VkOiB7J2RkJzogdHJ1ZSwgJ2xpJzogdHJ1ZSwgJ29wdGdyb3VwJzogdHJ1ZSwgJ29wdGlvbic6IHRydWUsICdwJzogdHJ1ZSwNCiAgICAgICAgICAgICdycCc6IHRydWUsICdydCc6IHRydWUsICd0Ym9keSc6IHRydWUsICd0ZCc6IHRydWUsICd0Zm9vdCc6IHRydWUsDQogICAgICAgICAgICAndGgnOiB0cnVlLCAndHInOiB0cnVlfSwNCiAgICAgICAgY29udGV4dEdyYWJiZXJzOiB7DQogICAgICAgICAgICAnZGQnOiB7J2RkJzogdHJ1ZSwgJ2R0JzogdHJ1ZX0sDQogICAgICAgICAgICAnZHQnOiB7J2RkJzogdHJ1ZSwgJ2R0JzogdHJ1ZX0sDQogICAgICAgICAgICAnbGknOiB7J2xpJzogdHJ1ZX0sDQogICAgICAgICAgICAnb3B0aW9uJzogeydvcHRpb24nOiB0cnVlLCAnb3B0Z3JvdXAnOiB0cnVlfSwNCiAgICAgICAgICAgICdvcHRncm91cCc6IHsnb3B0Z3JvdXAnOiB0cnVlfSwNCiAgICAgICAgICAgICdwJzogeydhZGRyZXNzJzogdHJ1ZSwgJ2FydGljbGUnOiB0cnVlLCAnYXNpZGUnOiB0cnVlLCAnYmxvY2txdW90ZSc6IHRydWUsICdkaXInOiB0cnVlLA0KICAgICAgICAgICAgICAgICdkaXYnOiB0cnVlLCAnZGwnOiB0cnVlLCAnZmllbGRzZXQnOiB0cnVlLCAnZm9vdGVyJzogdHJ1ZSwgJ2Zvcm0nOiB0cnVlLA0KICAgICAgICAgICAgICAgICdoMSc6IHRydWUsICdoMic6IHRydWUsICdoMyc6IHRydWUsICdoNCc6IHRydWUsICdoNSc6IHRydWUsICdoNic6IHRydWUsDQogICAgICAgICAgICAgICAgJ2hlYWRlcic6IHRydWUsICdoZ3JvdXAnOiB0cnVlLCAnaHInOiB0cnVlLCAnbWVudSc6IHRydWUsICduYXYnOiB0cnVlLCAnb2wnOiB0cnVlLA0KICAgICAgICAgICAgICAgICdwJzogdHJ1ZSwgJ3ByZSc6IHRydWUsICdzZWN0aW9uJzogdHJ1ZSwgJ3RhYmxlJzogdHJ1ZSwgJ3VsJzogdHJ1ZX0sDQogICAgICAgICAgICAncnAnOiB7J3JwJzogdHJ1ZSwgJ3J0JzogdHJ1ZX0sDQogICAgICAgICAgICAncnQnOiB7J3JwJzogdHJ1ZSwgJ3J0JzogdHJ1ZX0sDQogICAgICAgICAgICAndGJvZHknOiB7J3Rib2R5JzogdHJ1ZSwgJ3Rmb290JzogdHJ1ZX0sDQogICAgICAgICAgICAndGQnOiB7J3RkJzogdHJ1ZSwgJ3RoJzogdHJ1ZX0sDQogICAgICAgICAgICAndGZvb3QnOiB7J3Rib2R5JzogdHJ1ZX0sDQogICAgICAgICAgICAndGgnOiB7J3RkJzogdHJ1ZSwgJ3RoJzogdHJ1ZX0sDQogICAgICAgICAgICAndGhlYWQnOiB7J3Rib2R5JzogdHJ1ZSwgJ3Rmb290JzogdHJ1ZX0sDQogICAgICAgICAgICAndHInOiB7J3RyJzogdHJ1ZX0NCiAgICAgICAgfSwNCiAgICAgICAgZG9Ob3RJbmRlbnQ6IHsicHJlIjogdHJ1ZX0sDQogICAgICAgIGFsbG93VW5xdW90ZWQ6IHRydWUsDQogICAgICAgIGFsbG93TWlzc2luZzogdHJ1ZSwNCiAgICAgICAgY2FzZUZvbGQ6IHRydWUNCiAgICB9DQoNCiAgICB2YXIgeG1sQ29uZmlnID0gew0KICAgICAgICBhdXRvU2VsZkNsb3NlcnM6IHt9LA0KICAgICAgICBpbXBsaWNpdGx5Q2xvc2VkOiB7fSwNCiAgICAgICAgY29udGV4dEdyYWJiZXJzOiB7fSwNCiAgICAgICAgZG9Ob3RJbmRlbnQ6IHt9LA0KICAgICAgICBhbGxvd1VucXVvdGVkOiBmYWxzZSwNCiAgICAgICAgYWxsb3dNaXNzaW5nOiBmYWxzZSwNCiAgICAgICAgY2FzZUZvbGQ6IGZhbHNlDQogICAgfQ0KDQogICAgQ29kZU1pcnJvci5kZWZpbmVNb2RlKCJ4bWwiLCBmdW5jdGlvbihlZGl0b3JDb25mLCBjb25maWdfKSB7DQogICAgICAgIHZhciBpbmRlbnRVbml0ID0gZWRpdG9yQ29uZi5pbmRlbnRVbml0DQogICAgICAgIHZhciBjb25maWcgPSB7fQ0KICAgICAgICB2YXIgZGVmYXVsdHMgPSBjb25maWdfLmh0bWxNb2RlID8gaHRtbENvbmZpZyA6IHhtbENvbmZpZw0KICAgICAgICBmb3IgKHZhciBwcm9wIGluIGRlZmF1bHRzKSBjb25maWdbcHJvcF0gPSBkZWZhdWx0c1twcm9wXQ0KICAgICAgICBmb3IgKHZhciBwcm9wIGluIGNvbmZpZ18pIGNvbmZpZ1twcm9wXSA9IGNvbmZpZ19bcHJvcF0NCg0KICAgICAgICAvLyBSZXR1cm4gdmFyaWFibGVzIGZvciB0b2tlbml6ZXJzDQogICAgICAgIHZhciB0eXBlLCBzZXRTdHlsZTsNCg0KICAgICAgICBmdW5jdGlvbiBpblRleHQoc3RyZWFtLCBzdGF0ZSkgew0KICAgICAgICAgICAgZnVuY3Rpb24gY2hhaW4ocGFyc2VyKSB7DQogICAgICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBwYXJzZXI7DQogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlcihzdHJlYW0sIHN0YXRlKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIGNoID0gc3RyZWFtLm5leHQoKTsNCiAgICAgICAgICAgIGlmIChjaCA9PSAiPCIpIHsNCiAgICAgICAgICAgICAgICBpZiAoc3RyZWFtLmVhdCgiISIpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChzdHJlYW0uZWF0KCJbIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJlYW0ubWF0Y2goIkNEQVRBWyIpKSByZXR1cm4gY2hhaW4oaW5CbG9jaygiYXRvbSIsICJdXT4iKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBudWxsOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgiLS0iKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYWluKGluQmxvY2soImNvbW1lbnQiLCAiLS0+IikpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgiRE9DVFlQRSIsIHRydWUsIHRydWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcd1wuX1wtXS8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYWluKGRvY3R5cGUoMSkpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5lYXQoIj8iKSkgew0KICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcd1wuX1wtXS8pOw0KICAgICAgICAgICAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IGluQmxvY2soIm1ldGEiLCAiPz4iKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICJtZXRhIjsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0eXBlID0gc3RyZWFtLmVhdCgiLyIpID8gImNsb3NlVGFnIiA6ICJvcGVuVGFnIjsNCiAgICAgICAgICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpblRhZzsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICJ0YWcgYnJhY2tldCI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PSAiJiIpIHsNCiAgICAgICAgICAgICAgICB2YXIgb2s7DQogICAgICAgICAgICAgICAgaWYgKHN0cmVhbS5lYXQoIiMiKSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoc3RyZWFtLmVhdCgieCIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBvayA9IHN0cmVhbS5lYXRXaGlsZSgvW2EtZkEtRlxkXS8pICYmIHN0cmVhbS5lYXQoIjsiKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gc3RyZWFtLmVhdFdoaWxlKC9bXGRdLykgJiYgc3RyZWFtLmVhdCgiOyIpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgb2sgPSBzdHJlYW0uZWF0V2hpbGUoL1tcd1wuXC06XS8pICYmIHN0cmVhbS5lYXQoIjsiKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIG9rID8gImF0b20iIDogImVycm9yIjsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bXiY8XS8pOw0KICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGluVGV4dC5pc0luVGV4dCA9IHRydWU7DQoNCiAgICAgICAgZnVuY3Rpb24gaW5UYWcoc3RyZWFtLCBzdGF0ZSkgew0KICAgICAgICAgICAgdmFyIGNoID0gc3RyZWFtLm5leHQoKTsNCiAgICAgICAgICAgIGlmIChjaCA9PSAiPiIgfHwgKGNoID09ICIvIiAmJiBzdHJlYW0uZWF0KCI+IikpKSB7DQogICAgICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpblRleHQ7DQogICAgICAgICAgICAgICAgdHlwZSA9IGNoID09ICI+IiA/ICJlbmRUYWciIDogInNlbGZjbG9zZVRhZyI7DQogICAgICAgICAgICAgICAgcmV0dXJuICJ0YWcgYnJhY2tldCI7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09ICI9Iikgew0KICAgICAgICAgICAgICAgIHR5cGUgPSAiZXF1YWxzIjsNCiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIjwiKSB7DQogICAgICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpblRleHQ7DQogICAgICAgICAgICAgICAgc3RhdGUuc3RhdGUgPSBiYXNlU3RhdGU7DQogICAgICAgICAgICAgICAgc3RhdGUudGFnTmFtZSA9IHN0YXRlLnRhZ1N0YXJ0ID0gbnVsbDsNCiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpOw0KICAgICAgICAgICAgICAgIHJldHVybiBuZXh0ID8gbmV4dCArICIgdGFnIGVycm9yIiA6ICJ0YWcgZXJyb3IiOw0KICAgICAgICAgICAgfSBlbHNlIGlmICgvW1wnXCJdLy50ZXN0KGNoKSkgew0KICAgICAgICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gaW5BdHRyaWJ1dGUoY2gpOw0KICAgICAgICAgICAgICAgIHN0YXRlLnN0cmluZ1N0YXJ0Q29sID0gc3RyZWFtLmNvbHVtbigpOw0KICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgc3RyZWFtLm1hdGNoKC9eW15cc1x1MDBhMD08PlwiXCddKlteXHNcdTAwYTA9PD5cIlwnXC9dLyk7DQogICAgICAgICAgICAgICAgcmV0dXJuICJ3b3JkIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGluQXR0cmlidXRlKHF1b3RlKSB7DQogICAgICAgICAgICB2YXIgY2xvc3VyZSA9IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHsNCiAgICAgICAgICAgICAgICB3aGlsZSAoIXN0cmVhbS5lb2woKSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoc3RyZWFtLm5leHQoKSA9PSBxdW90ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpblRhZzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiAic3RyaW5nIjsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjbG9zdXJlLmlzSW5BdHRyaWJ1dGUgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIGNsb3N1cmU7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBpbkJsb2NrKHN0eWxlLCB0ZXJtaW5hdG9yKSB7DQogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkgew0KICAgICAgICAgICAgICAgIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChzdHJlYW0ubWF0Y2godGVybWluYXRvcikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gaW5UZXh0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgc3RyZWFtLm5leHQoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHN0eWxlOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBmdW5jdGlvbiBkb2N0eXBlKGRlcHRoKSB7DQogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkgew0KICAgICAgICAgICAgICAgIHZhciBjaDsNCiAgICAgICAgICAgICAgICB3aGlsZSAoKGNoID0gc3RyZWFtLm5leHQoKSkgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT0gIjwiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IGRvY3R5cGUoZGVwdGggKyAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PSAiPiIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpblRleHQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gZG9jdHlwZShkZXB0aCAtIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gIm1ldGEiOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIENvbnRleHQoc3RhdGUsIHRhZ05hbWUsIHN0YXJ0T2ZMaW5lKSB7DQogICAgICAgICAgICB0aGlzLnByZXYgPSBzdGF0ZS5jb250ZXh0Ow0KICAgICAgICAgICAgdGhpcy50YWdOYW1lID0gdGFnTmFtZTsNCiAgICAgICAgICAgIHRoaXMuaW5kZW50ID0gc3RhdGUuaW5kZW50ZWQ7DQogICAgICAgICAgICB0aGlzLnN0YXJ0T2ZMaW5lID0gc3RhcnRPZkxpbmU7DQogICAgICAgICAgICBpZiAoY29uZmlnLmRvTm90SW5kZW50Lmhhc093blByb3BlcnR5KHRhZ05hbWUpIHx8IChzdGF0ZS5jb250ZXh0ICYmIHN0YXRlLmNvbnRleHQubm9JbmRlbnQpKQ0KICAgICAgICAgICAgICAgIHRoaXMubm9JbmRlbnQgPSB0cnVlOw0KICAgICAgICB9DQogICAgICAgIGZ1bmN0aW9uIHBvcENvbnRleHQoc3RhdGUpIHsNCiAgICAgICAgICAgIGlmIChzdGF0ZS5jb250ZXh0KSBzdGF0ZS5jb250ZXh0ID0gc3RhdGUuY29udGV4dC5wcmV2Ow0KICAgICAgICB9DQogICAgICAgIGZ1bmN0aW9uIG1heWJlUG9wQ29udGV4dChzdGF0ZSwgbmV4dFRhZ05hbWUpIHsNCiAgICAgICAgICAgIHZhciBwYXJlbnRUYWdOYW1lOw0KICAgICAgICAgICAgd2hpbGUgKHRydWUpIHsNCiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLmNvbnRleHQpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBwYXJlbnRUYWdOYW1lID0gc3RhdGUuY29udGV4dC50YWdOYW1lOw0KICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmNvbnRleHRHcmFiYmVycy5oYXNPd25Qcm9wZXJ0eShwYXJlbnRUYWdOYW1lKSB8fA0KICAgICAgICAgICAgICAgICAgICAhY29uZmlnLmNvbnRleHRHcmFiYmVyc1twYXJlbnRUYWdOYW1lXS5oYXNPd25Qcm9wZXJ0eShuZXh0VGFnTmFtZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBwb3BDb250ZXh0KHN0YXRlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGJhc2VTdGF0ZSh0eXBlLCBzdHJlYW0sIHN0YXRlKSB7DQogICAgICAgICAgICBpZiAodHlwZSA9PSAib3BlblRhZyIpIHsNCiAgICAgICAgICAgICAgICBzdGF0ZS50YWdTdGFydCA9IHN0cmVhbS5jb2x1bW4oKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGFnTmFtZVN0YXRlOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJjbG9zZVRhZyIpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gY2xvc2VUYWdOYW1lU3RhdGU7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiBiYXNlU3RhdGU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZnVuY3Rpb24gdGFnTmFtZVN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHsNCiAgICAgICAgICAgIGlmICh0eXBlID09ICJ3b3JkIikgew0KICAgICAgICAgICAgICAgIHN0YXRlLnRhZ05hbWUgPSBzdHJlYW0uY3VycmVudCgpOw0KICAgICAgICAgICAgICAgIHNldFN0eWxlID0gInRhZyI7DQogICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJTdGF0ZTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgc2V0U3R5bGUgPSAiZXJyb3IiOw0KICAgICAgICAgICAgICAgIHJldHVybiB0YWdOYW1lU3RhdGU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZnVuY3Rpb24gY2xvc2VUYWdOYW1lU3RhdGUodHlwZSwgc3RyZWFtLCBzdGF0ZSkgew0KICAgICAgICAgICAgaWYgKHR5cGUgPT0gIndvcmQiKSB7DQogICAgICAgICAgICAgICAgdmFyIHRhZ05hbWUgPSBzdHJlYW0uY3VycmVudCgpOw0KICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jb250ZXh0ICYmIHN0YXRlLmNvbnRleHQudGFnTmFtZSAhPSB0YWdOYW1lICYmDQogICAgICAgICAgICAgICAgICAgIGNvbmZpZy5pbXBsaWNpdGx5Q2xvc2VkLmhhc093blByb3BlcnR5KHN0YXRlLmNvbnRleHQudGFnTmFtZSkpDQogICAgICAgICAgICAgICAgICAgIHBvcENvbnRleHQoc3RhdGUpOw0KICAgICAgICAgICAgICAgIGlmICgoc3RhdGUuY29udGV4dCAmJiBzdGF0ZS5jb250ZXh0LnRhZ05hbWUgPT0gdGFnTmFtZSkgfHwgY29uZmlnLm1hdGNoQ2xvc2luZyA9PT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGUgPSAidGFnIjsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsb3NlU3RhdGU7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGUgPSAidGFnIGVycm9yIjsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsb3NlU3RhdGVFcnI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBzZXRTdHlsZSA9ICJlcnJvciI7DQogICAgICAgICAgICAgICAgcmV0dXJuIGNsb3NlU3RhdGVFcnI7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBjbG9zZVN0YXRlKHR5cGUsIF9zdHJlYW0sIHN0YXRlKSB7DQogICAgICAgICAgICBpZiAodHlwZSAhPSAiZW5kVGFnIikgew0KICAgICAgICAgICAgICAgIHNldFN0eWxlID0gImVycm9yIjsNCiAgICAgICAgICAgICAgICByZXR1cm4gY2xvc2VTdGF0ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHBvcENvbnRleHQoc3RhdGUpOw0KICAgICAgICAgICAgcmV0dXJuIGJhc2VTdGF0ZTsNCiAgICAgICAgfQ0KICAgICAgICBmdW5jdGlvbiBjbG9zZVN0YXRlRXJyKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHsNCiAgICAgICAgICAgIHNldFN0eWxlID0gImVycm9yIjsNCiAgICAgICAgICAgIHJldHVybiBjbG9zZVN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gYXR0clN0YXRlKHR5cGUsIF9zdHJlYW0sIHN0YXRlKSB7DQogICAgICAgICAgICBpZiAodHlwZSA9PSAid29yZCIpIHsNCiAgICAgICAgICAgICAgICBzZXRTdHlsZSA9ICJhdHRyaWJ1dGUiOw0KICAgICAgICAgICAgICAgIHJldHVybiBhdHRyRXFTdGF0ZTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiZW5kVGFnIiB8fCB0eXBlID09ICJzZWxmY2xvc2VUYWciKSB7DQogICAgICAgICAgICAgICAgdmFyIHRhZ05hbWUgPSBzdGF0ZS50YWdOYW1lLCB0YWdTdGFydCA9IHN0YXRlLnRhZ1N0YXJ0Ow0KICAgICAgICAgICAgICAgIHN0YXRlLnRhZ05hbWUgPSBzdGF0ZS50YWdTdGFydCA9IG51bGw7DQogICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gInNlbGZjbG9zZVRhZyIgfHwNCiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmF1dG9TZWxmQ2xvc2Vycy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSkgew0KICAgICAgICAgICAgICAgICAgICBtYXliZVBvcENvbnRleHQoc3RhdGUsIHRhZ05hbWUpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIG1heWJlUG9wQ29udGV4dChzdGF0ZSwgdGFnTmFtZSk7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLmNvbnRleHQgPSBuZXcgQ29udGV4dChzdGF0ZSwgdGFnTmFtZSwgdGFnU3RhcnQgPT0gc3RhdGUuaW5kZW50ZWQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZVN0YXRlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2V0U3R5bGUgPSAiZXJyb3IiOw0KICAgICAgICAgICAgcmV0dXJuIGF0dHJTdGF0ZTsNCiAgICAgICAgfQ0KICAgICAgICBmdW5jdGlvbiBhdHRyRXFTdGF0ZSh0eXBlLCBzdHJlYW0sIHN0YXRlKSB7DQogICAgICAgICAgICBpZiAodHlwZSA9PSAiZXF1YWxzIikgcmV0dXJuIGF0dHJWYWx1ZVN0YXRlOw0KICAgICAgICAgICAgaWYgKCFjb25maWcuYWxsb3dNaXNzaW5nKSBzZXRTdHlsZSA9ICJlcnJvciI7DQogICAgICAgICAgICByZXR1cm4gYXR0clN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpOw0KICAgICAgICB9DQogICAgICAgIGZ1bmN0aW9uIGF0dHJWYWx1ZVN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHsNCiAgICAgICAgICAgIGlmICh0eXBlID09ICJzdHJpbmciKSByZXR1cm4gYXR0ckNvbnRpbnVlZFN0YXRlOw0KICAgICAgICAgICAgaWYgKHR5cGUgPT0gIndvcmQiICYmIGNvbmZpZy5hbGxvd1VucXVvdGVkKSB7c2V0U3R5bGUgPSAic3RyaW5nIjsgcmV0dXJuIGF0dHJTdGF0ZTt9DQogICAgICAgICAgICBzZXRTdHlsZSA9ICJlcnJvciI7DQogICAgICAgICAgICByZXR1cm4gYXR0clN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpOw0KICAgICAgICB9DQogICAgICAgIGZ1bmN0aW9uIGF0dHJDb250aW51ZWRTdGF0ZSh0eXBlLCBzdHJlYW0sIHN0YXRlKSB7DQogICAgICAgICAgICBpZiAodHlwZSA9PSAic3RyaW5nIikgcmV0dXJuIGF0dHJDb250aW51ZWRTdGF0ZTsNCiAgICAgICAgICAgIHJldHVybiBhdHRyU3RhdGUodHlwZSwgc3RyZWFtLCBzdGF0ZSk7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oYmFzZUluZGVudCkgew0KICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IHt0b2tlbml6ZTogaW5UZXh0LA0KICAgICAgICAgICAgICAgICAgICBzdGF0ZTogYmFzZVN0YXRlLA0KICAgICAgICAgICAgICAgICAgICBpbmRlbnRlZDogYmFzZUluZGVudCB8fCAwLA0KICAgICAgICAgICAgICAgICAgICB0YWdOYW1lOiBudWxsLCB0YWdTdGFydDogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogbnVsbH0NCiAgICAgICAgICAgICAgICBpZiAoYmFzZUluZGVudCAhPSBudWxsKSBzdGF0ZS5iYXNlSW5kZW50ID0gYmFzZUluZGVudA0KICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZQ0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgdG9rZW46IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLnRhZ05hbWUgJiYgc3RyZWFtLnNvbCgpKQ0KICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pbmRlbnRlZCA9IHN0cmVhbS5pbmRlbnRhdGlvbigpOw0KDQogICAgICAgICAgICAgICAgaWYgKHN0cmVhbS5lYXRTcGFjZSgpKSByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgICAgICB0eXBlID0gbnVsbDsNCiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTsNCiAgICAgICAgICAgICAgICBpZiAoKHN0eWxlIHx8IHR5cGUpICYmIHN0eWxlICE9ICJjb21tZW50Iikgew0KICAgICAgICAgICAgICAgICAgICBzZXRTdHlsZSA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgIHN0YXRlLnN0YXRlID0gc3RhdGUuc3RhdGUodHlwZSB8fCBzdHlsZSwgc3RyZWFtLCBzdGF0ZSk7DQogICAgICAgICAgICAgICAgICAgIGlmIChzZXRTdHlsZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlID0gc2V0U3R5bGUgPT0gImVycm9yIiA/IHN0eWxlICsgIiBlcnJvciIgOiBzZXRTdHlsZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHN0eWxlOw0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgaW5kZW50OiBmdW5jdGlvbihzdGF0ZSwgdGV4dEFmdGVyLCBmdWxsTGluZSkgew0KICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gc3RhdGUuY29udGV4dDsNCiAgICAgICAgICAgICAgICAvLyBJbmRlbnQgbXVsdGktbGluZSBzdHJpbmdzIChlLmcuIGNzcykuDQogICAgICAgICAgICAgICAgaWYgKHN0YXRlLnRva2VuaXplLmlzSW5BdHRyaWJ1dGUpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLnRhZ1N0YXJ0ID09IHN0YXRlLmluZGVudGVkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnN0cmluZ1N0YXJ0Q29sICsgMTsNCiAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmluZGVudGVkICsgaW5kZW50VW5pdDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5ub0luZGVudCkgcmV0dXJuIENvZGVNaXJyb3IuUGFzczsNCiAgICAgICAgICAgICAgICBpZiAoc3RhdGUudG9rZW5pemUgIT0gaW5UYWcgJiYgc3RhdGUudG9rZW5pemUgIT0gaW5UZXh0KQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVsbExpbmUgPyBmdWxsTGluZS5tYXRjaCgvXihccyopLylbMF0ubGVuZ3RoIDogMDsNCiAgICAgICAgICAgICAgICAvLyBJbmRlbnQgdGhlIHN0YXJ0cyBvZiBhdHRyaWJ1dGUgbmFtZXMuDQogICAgICAgICAgICAgICAgaWYgKHN0YXRlLnRhZ05hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5tdWx0aWxpbmVUYWdJbmRlbnRQYXN0VGFnICE9PSBmYWxzZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS50YWdTdGFydCArIHN0YXRlLnRhZ05hbWUubGVuZ3RoICsgMjsNCiAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnRhZ1N0YXJ0ICsgaW5kZW50VW5pdCAqIChjb25maWcubXVsdGlsaW5lVGFnSW5kZW50RmFjdG9yIHx8IDEpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmFsaWduQ0RBVEEgJiYgLzwhXFtDREFUQVxbLy50ZXN0KHRleHRBZnRlcikpIHJldHVybiAwOw0KICAgICAgICAgICAgICAgIHZhciB0YWdBZnRlciA9IHRleHRBZnRlciAmJiAvXjwoXC8pPyhbXHdfOlwuLV0qKS8uZXhlYyh0ZXh0QWZ0ZXIpOw0KICAgICAgICAgICAgICAgIGlmICh0YWdBZnRlciAmJiB0YWdBZnRlclsxXSkgeyAvLyBDbG9zaW5nIHRhZyBzcG90dGVkDQogICAgICAgICAgICAgICAgICAgIHdoaWxlIChjb250ZXh0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC50YWdOYW1lID09IHRhZ0FmdGVyWzJdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGNvbnRleHQucHJldjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLmltcGxpY2l0bHlDbG9zZWQuaGFzT3duUHJvcGVydHkoY29udGV4dC50YWdOYW1lKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnByZXY7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YWdBZnRlcikgeyAvLyBPcGVuaW5nIHRhZyBzcG90dGVkDQogICAgICAgICAgICAgICAgICAgIHdoaWxlIChjb250ZXh0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JhYmJlcnMgPSBjb25maWcuY29udGV4dEdyYWJiZXJzW2NvbnRleHQudGFnTmFtZV07DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JhYmJlcnMgJiYgZ3JhYmJlcnMuaGFzT3duUHJvcGVydHkodGFnQWZ0ZXJbMl0pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnByZXY7DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgd2hpbGUgKGNvbnRleHQgJiYgY29udGV4dC5wcmV2ICYmICFjb250ZXh0LnN0YXJ0T2ZMaW5lKQ0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gY29udGV4dC5wcmV2Ow0KICAgICAgICAgICAgICAgIGlmIChjb250ZXh0KSByZXR1cm4gY29udGV4dC5pbmRlbnQgKyBpbmRlbnRVbml0Ow0KICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIHN0YXRlLmJhc2VJbmRlbnQgfHwgMDsNCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIGVsZWN0cmljSW5wdXQ6IC88XC9bXHNcdzpdKz4kLywNCiAgICAgICAgICAgIGJsb2NrQ29tbWVudFN0YXJ0OiAiPCEtLSIsDQogICAgICAgICAgICBibG9ja0NvbW1lbnRFbmQ6ICItLT4iLA0KDQogICAgICAgICAgICBjb25maWd1cmF0aW9uOiBjb25maWcuaHRtbE1vZGUgPyAiaHRtbCIgOiAieG1sIiwNCiAgICAgICAgICAgIGhlbHBlclR5cGU6IGNvbmZpZy5odG1sTW9kZSA/ICJodG1sIiA6ICJ4bWwiLA0KDQogICAgICAgICAgICBza2lwQXR0cmlidXRlOiBmdW5jdGlvbihzdGF0ZSkgew0KICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zdGF0ZSA9PSBhdHRyVmFsdWVTdGF0ZSkNCiAgICAgICAgICAgICAgICAgICAgc3RhdGUuc3RhdGUgPSBhdHRyU3RhdGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICB9KTsNCg0KICAgIENvZGVNaXJyb3IuZGVmaW5lTUlNRSgidGV4dC94bWwiLCAieG1sIik7DQogICAgQ29kZU1pcnJvci5kZWZpbmVNSU1FKCJhcHBsaWNhdGlvbi94bWwiLCAieG1sIik7DQogICAgaWYgKCFDb2RlTWlycm9yLm1pbWVNb2Rlcy5oYXNPd25Qcm9wZXJ0eSgidGV4dC9odG1sIikpDQogICAgICAgIENvZGVNaXJyb3IuZGVmaW5lTUlNRSgidGV4dC9odG1sIiwge25hbWU6ICJ4bWwiLCBodG1sTW9kZTogdHJ1ZX0pOw0KDQp9KTs=');
}


function resource_be2bea665c2d59bf5897cd3e2325d9d8() {
    return base64_decode('LyogQkFTSUNTICovDQoNCi5Db2RlTWlycm9yIHsNCiAgICAvKiBTZXQgaGVpZ2h0LCB3aWR0aCwgYm9yZGVycywgYW5kIGdsb2JhbCBmb250IHByb3BlcnRpZXMgaGVyZSAqLw0KICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7DQogICAgaGVpZ2h0OiAzMDBweDsNCiAgICBjb2xvcjogYmxhY2s7DQp9DQoNCi8qIFBBRERJTkcgKi8NCg0KLkNvZGVNaXJyb3ItbGluZXMgew0KICAgIHBhZGRpbmc6IDRweCAwOyAvKiBWZXJ0aWNhbCBwYWRkaW5nIGFyb3VuZCBjb250ZW50ICovDQp9DQouQ29kZU1pcnJvciBwcmUgew0KICAgIHBhZGRpbmc6IDAgNHB4OyAvKiBIb3Jpem9udGFsIHBhZGRpbmcgb2YgY29udGVudCAqLw0KfQ0KDQouQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyLCAuQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgLyogVGhlIGxpdHRsZSBzcXVhcmUgYmV0d2VlbiBIIGFuZCBWIHNjcm9sbGJhcnMgKi8NCn0NCg0KLyogR1VUVEVSICovDQoNCi5Db2RlTWlycm9yLWd1dHRlcnMgew0KICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZGQ7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmNzsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KfQ0KLkNvZGVNaXJyb3ItbGluZW51bWJlcnMge30NCi5Db2RlTWlycm9yLWxpbmVudW1iZXIgew0KICAgIHBhZGRpbmc6IDAgM3B4IDAgNXB4Ow0KICAgIG1pbi13aWR0aDogMjBweDsNCiAgICB0ZXh0LWFsaWduOiByaWdodDsNCiAgICBjb2xvcjogIzk5OTsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KfQ0KDQouQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXIgeyBjb2xvcjogYmxhY2s7IH0NCi5Db2RlTWlycm9yLWd1dHRlcm1hcmtlci1zdWJ0bGUgeyBjb2xvcjogIzk5OTsgfQ0KDQovKiBDVVJTT1IgKi8NCg0KLkNvZGVNaXJyb3ItY3Vyc29yIHsNCiAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkIGJsYWNrOw0KICAgIGJvcmRlci1yaWdodDogbm9uZTsNCiAgICB3aWR0aDogMDsNCn0NCi8qIFNob3duIHdoZW4gbW92aW5nIGluIGJpLWRpcmVjdGlvbmFsIHRleHQgKi8NCi5Db2RlTWlycm9yIGRpdi5Db2RlTWlycm9yLXNlY29uZGFyeWN1cnNvciB7DQogICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCBzaWx2ZXI7DQp9DQouY20tZmF0LWN1cnNvciAuQ29kZU1pcnJvci1jdXJzb3Igew0KICAgIHdpZHRoOiBhdXRvOw0KICAgIGJvcmRlcjogMCAhaW1wb3J0YW50Ow0KICAgIGJhY2tncm91bmQ6ICM3ZTc7DQp9DQouY20tZmF0LWN1cnNvciBkaXYuQ29kZU1pcnJvci1jdXJzb3JzIHsNCiAgICB6LWluZGV4OiAxOw0KfQ0KDQouY20tYW5pbWF0ZS1mYXQtY3Vyc29yIHsNCiAgICB3aWR0aDogYXV0bzsNCiAgICBib3JkZXI6IDA7DQogICAgLXdlYmtpdC1hbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlOw0KICAgIC1tb3otYW5pbWF0aW9uOiBibGluayAxLjA2cyBzdGVwcygxKSBpbmZpbml0ZTsNCiAgICBhbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlOw0KICAgIGJhY2tncm91bmQtY29sb3I6ICM3ZTc7DQp9DQpALW1vei1rZXlmcmFtZXMgYmxpbmsgew0KICAgIDAlIHt9DQogICAgNTAlIHsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH0NCiAgICAxMDAlIHt9DQp9DQpALXdlYmtpdC1rZXlmcmFtZXMgYmxpbmsgew0KICAgIDAlIHt9DQogICAgNTAlIHsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH0NCiAgICAxMDAlIHt9DQp9DQpAa2V5ZnJhbWVzIGJsaW5rIHsNCiAgICAwJSB7fQ0KICAgIDUwJSB7IGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9DQogICAgMTAwJSB7fQ0KfQ0KDQovKiBDYW4gc3R5bGUgY3Vyc29yIGRpZmZlcmVudCBpbiBvdmVyd3JpdGUgKG5vbi1pbnNlcnQpIG1vZGUgKi8NCi5Db2RlTWlycm9yLW92ZXJ3cml0ZSAuQ29kZU1pcnJvci1jdXJzb3Ige30NCg0KLmNtLXRhYiB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgdGV4dC1kZWNvcmF0aW9uOiBpbmhlcml0OyB9DQoNCi5Db2RlTWlycm9yLXJ1bGVycyB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGxlZnQ6IDA7IHJpZ2h0OiAwOyB0b3A6IC01MHB4OyBib3R0b206IC0yMHB4Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQp9DQouQ29kZU1pcnJvci1ydWxlciB7DQogICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjY2NjOw0KICAgIHRvcDogMDsgYm90dG9tOiAwOw0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCn0NCg0KLyogREVGQVVMVCBUSEVNRSAqLw0KDQouY20tcy1kZWZhdWx0IC5jbS1oZWFkZXIge2NvbG9yOiBibHVlO30NCi5jbS1zLWRlZmF1bHQgLmNtLXF1b3RlIHtjb2xvcjogIzA5MDt9DQouY20tbmVnYXRpdmUge2NvbG9yOiAjZDQ0O30NCi5jbS1wb3NpdGl2ZSB7Y29sb3I6ICMyOTI7fQ0KLmNtLWhlYWRlciwgLmNtLXN0cm9uZyB7Zm9udC13ZWlnaHQ6IGJvbGQ7fQ0KLmNtLWVtIHtmb250LXN0eWxlOiBpdGFsaWM7fQ0KLmNtLWxpbmsge3RleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO30NCi5jbS1zdHJpa2V0aHJvdWdoIHt0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDt9DQoNCi5jbS1zLWRlZmF1bHQgLmNtLWtleXdvcmQge2NvbG9yOiAjNzA4O30NCi5jbS1zLWRlZmF1bHQgLmNtLWF0b20ge2NvbG9yOiAjMjE5O30NCi5jbS1zLWRlZmF1bHQgLmNtLW51bWJlciB7Y29sb3I6ICMxNjQ7fQ0KLmNtLXMtZGVmYXVsdCAuY20tZGVmIHtjb2xvcjogIzAwZjt9DQouY20tcy1kZWZhdWx0IC5jbS12YXJpYWJsZSwNCi5jbS1zLWRlZmF1bHQgLmNtLXB1bmN0dWF0aW9uLA0KLmNtLXMtZGVmYXVsdCAuY20tcHJvcGVydHksDQouY20tcy1kZWZhdWx0IC5jbS1vcGVyYXRvciB7fQ0KLmNtLXMtZGVmYXVsdCAuY20tdmFyaWFibGUtMiB7Y29sb3I6ICMwNWE7fQ0KLmNtLXMtZGVmYXVsdCAuY20tdmFyaWFibGUtMyB7Y29sb3I6ICMwODU7fQ0KLmNtLXMtZGVmYXVsdCAuY20tY29tbWVudCB7Y29sb3I6ICNhNTA7fQ0KLmNtLXMtZGVmYXVsdCAuY20tc3RyaW5nIHtjb2xvcjogI2ExMTt9DQouY20tcy1kZWZhdWx0IC5jbS1zdHJpbmctMiB7Y29sb3I6ICNmNTA7fQ0KLmNtLXMtZGVmYXVsdCAuY20tbWV0YSB7Y29sb3I6ICM1NTU7fQ0KLmNtLXMtZGVmYXVsdCAuY20tcXVhbGlmaWVyIHtjb2xvcjogIzU1NTt9DQouY20tcy1kZWZhdWx0IC5jbS1idWlsdGluIHtjb2xvcjogIzMwYTt9DQouY20tcy1kZWZhdWx0IC5jbS1icmFja2V0IHtjb2xvcjogIzk5Nzt9DQouY20tcy1kZWZhdWx0IC5jbS10YWcge2NvbG9yOiAjMTcwO30NCi5jbS1zLWRlZmF1bHQgLmNtLWF0dHJpYnV0ZSB7Y29sb3I6ICMwMGM7fQ0KLmNtLXMtZGVmYXVsdCAuY20taHIge2NvbG9yOiAjOTk5O30NCi5jbS1zLWRlZmF1bHQgLmNtLWxpbmsge2NvbG9yOiAjMDBjO30NCg0KLmNtLXMtZGVmYXVsdCAuY20tZXJyb3Ige2NvbG9yOiAjZjAwO30NCi5jbS1pbnZhbGlkY2hhciB7Y29sb3I6ICNmMDA7fQ0KDQouQ29kZU1pcnJvci1jb21wb3NpbmcgeyBib3JkZXItYm90dG9tOiAycHggc29saWQ7IH0NCg0KLyogRGVmYXVsdCBzdHlsZXMgZm9yIGNvbW1vbiBhZGRvbnMgKi8NCg0KZGl2LkNvZGVNaXJyb3Igc3Bhbi5Db2RlTWlycm9yLW1hdGNoaW5nYnJhY2tldCB7Y29sb3I6ICMwZjA7fQ0KZGl2LkNvZGVNaXJyb3Igc3Bhbi5Db2RlTWlycm9yLW5vbm1hdGNoaW5nYnJhY2tldCB7Y29sb3I6ICNmMjI7fQ0KLkNvZGVNaXJyb3ItbWF0Y2hpbmd0YWcgeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMTUwLCAwLCAuMyk7IH0NCi5Db2RlTWlycm9yLWFjdGl2ZWxpbmUtYmFja2dyb3VuZCB7YmFja2dyb3VuZDogI2U4ZjJmZjt9DQoNCi8qIFNUT1AgKi8NCg0KLyogVGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGNvbnRhaW5zIHN0eWxlcyByZWxhdGVkIHRvIHRoZSBtZWNoYW5pY3Mgb2YNCiAgIHRoZSBlZGl0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgdG91Y2ggdGhlbS4gKi8NCg0KLkNvZGVNaXJyb3Igew0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIGJhY2tncm91bmQ6IHdoaXRlOw0KfQ0KDQouQ29kZU1pcnJvci1zY3JvbGwgew0KICAgIG92ZXJmbG93OiBzY3JvbGwgIWltcG9ydGFudDsgLyogVGhpbmdzIHdpbGwgYnJlYWsgaWYgdGhpcyBpcyBvdmVycmlkZGVuICovDQogICAgLyogMzBweCBpcyB0aGUgbWFnaWMgbWFyZ2luIHVzZWQgdG8gaGlkZSB0aGUgZWxlbWVudCdzIHJlYWwgc2Nyb2xsYmFycyAqLw0KICAgIC8qIFNlZSBvdmVyZmxvdzogaGlkZGVuIGluIC5Db2RlTWlycm9yICovDQogICAgbWFyZ2luLWJvdHRvbTogLTMwcHg7IG1hcmdpbi1yaWdodDogLTMwcHg7DQogICAgcGFkZGluZy1ib3R0b206IDMwcHg7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIG91dGxpbmU6IG5vbmU7IC8qIFByZXZlbnQgZHJhZ2dpbmcgZnJvbSBoaWdobGlnaHRpbmcgdGhlIGVsZW1lbnQgKi8NCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQp9DQouQ29kZU1pcnJvci1zaXplciB7DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIGJvcmRlci1yaWdodDogMzBweCBzb2xpZCB0cmFuc3BhcmVudDsNCn0NCg0KLyogVGhlIGZha2UsIHZpc2libGUgc2Nyb2xsYmFycy4gVXNlZCB0byBmb3JjZSByZWRyYXcgZHVyaW5nIHNjcm9sbGluZw0KICAgYmVmb3JlIGFjdHVhbCBzY3JvbGxpbmcgaGFwcGVucywgdGh1cyBwcmV2ZW50aW5nIHNoYWtpbmcgYW5kDQogICBmbGlja2VyaW5nIGFydGlmYWN0cy4gKi8NCi5Db2RlTWlycm9yLXZzY3JvbGxiYXIsIC5Db2RlTWlycm9yLWhzY3JvbGxiYXIsIC5Db2RlTWlycm9yLXNjcm9sbGJhci1maWxsZXIsIC5Db2RlTWlycm9yLWd1dHRlci1maWxsZXIgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB6LWluZGV4OiA2Ow0KICAgIGRpc3BsYXk6IG5vbmU7DQp9DQouQ29kZU1pcnJvci12c2Nyb2xsYmFyIHsNCiAgICByaWdodDogMDsgdG9wOiAwOw0KICAgIG92ZXJmbG93LXg6IGhpZGRlbjsNCiAgICBvdmVyZmxvdy15OiBzY3JvbGw7DQp9DQouQ29kZU1pcnJvci1oc2Nyb2xsYmFyIHsNCiAgICBib3R0b206IDA7IGxlZnQ6IDA7DQogICAgb3ZlcmZsb3cteTogaGlkZGVuOw0KICAgIG92ZXJmbG93LXg6IHNjcm9sbDsNCn0NCi5Db2RlTWlycm9yLXNjcm9sbGJhci1maWxsZXIgew0KICAgIHJpZ2h0OiAwOyBib3R0b206IDA7DQp9DQouQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyIHsNCiAgICBsZWZ0OiAwOyBib3R0b206IDA7DQp9DQoNCi5Db2RlTWlycm9yLWd1dHRlcnMgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgdG9wOiAwOw0KICAgIG1pbi1oZWlnaHQ6IDEwMCU7DQogICAgei1pbmRleDogMzsNCn0NCi5Db2RlTWlycm9yLWd1dHRlciB7DQogICAgd2hpdGUtc3BhY2U6IG5vcm1hbDsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7DQogICAgbWFyZ2luLWJvdHRvbTogLTMwcHg7DQp9DQouQ29kZU1pcnJvci1ndXR0ZXItd3JhcHBlciB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHotaW5kZXg6IDQ7DQogICAgYmFja2dyb3VuZDogbm9uZSAhaW1wb3J0YW50Ow0KICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50Ow0KfQ0KLkNvZGVNaXJyb3ItZ3V0dGVyLWJhY2tncm91bmQgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB0b3A6IDA7IGJvdHRvbTogMDsNCiAgICB6LWluZGV4OiA0Ow0KfQ0KLkNvZGVNaXJyb3ItZ3V0dGVyLWVsdCB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGN1cnNvcjogZGVmYXVsdDsNCiAgICB6LWluZGV4OiA0Ow0KfQ0KLkNvZGVNaXJyb3ItZ3V0dGVyLXdyYXBwZXIgew0KICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTsNCiAgICB1c2VyLXNlbGVjdDogbm9uZTsNCn0NCg0KLkNvZGVNaXJyb3ItbGluZXMgew0KICAgIGN1cnNvcjogdGV4dDsNCiAgICBtaW4taGVpZ2h0OiAxcHg7IC8qIHByZXZlbnRzIGNvbGxhcHNpbmcgYmVmb3JlIGZpcnN0IGRyYXcgKi8NCn0NCi5Db2RlTWlycm9yIHByZSB7DQogICAgLyogUmVzZXQgc29tZSBzdHlsZXMgdGhhdCB0aGUgcmVzdCBvZiB0aGUgcGFnZSBtaWdodCBoYXZlIHNldCAqLw0KICAgIC1tb3otYm9yZGVyLXJhZGl1czogMDsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwOyBib3JkZXItcmFkaXVzOiAwOw0KICAgIGJvcmRlci13aWR0aDogMDsNCiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgICBmb250LWZhbWlseTogaW5oZXJpdDsNCiAgICBmb250LXNpemU6IGluaGVyaXQ7DQogICAgbWFyZ2luOiAwOw0KICAgIHdoaXRlLXNwYWNlOiBwcmU7DQogICAgd29yZC13cmFwOiBub3JtYWw7DQogICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7DQogICAgY29sb3I6IGluaGVyaXQ7DQogICAgei1pbmRleDogMjsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgb3ZlcmZsb3c6IHZpc2libGU7DQogICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsNCiAgICAtd2Via2l0LWZvbnQtdmFyaWFudC1saWdhdHVyZXM6IG5vbmU7DQogICAgZm9udC12YXJpYW50LWxpZ2F0dXJlczogbm9uZTsNCn0NCi5Db2RlTWlycm9yLXdyYXAgcHJlIHsNCiAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7DQogICAgd2hpdGUtc3BhY2U6IHByZS13cmFwOw0KICAgIHdvcmQtYnJlYWs6IG5vcm1hbDsNCn0NCg0KLkNvZGVNaXJyb3ItbGluZWJhY2tncm91bmQgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICBsZWZ0OiAwOyByaWdodDogMDsgdG9wOiAwOyBib3R0b206IDA7DQogICAgei1pbmRleDogMDsNCn0NCg0KLkNvZGVNaXJyb3ItbGluZXdpZGdldCB7DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIHotaW5kZXg6IDI7DQogICAgb3ZlcmZsb3c6IGF1dG87DQp9DQoNCi5Db2RlTWlycm9yLXdpZGdldCB7fQ0KDQouQ29kZU1pcnJvci1jb2RlIHsNCiAgICBvdXRsaW5lOiBub25lOw0KfQ0KDQovKiBGb3JjZSBjb250ZW50LWJveCBzaXppbmcgZm9yIHRoZSBlbGVtZW50cyB3aGVyZSB3ZSBleHBlY3QgaXQgKi8NCi5Db2RlTWlycm9yLXNjcm9sbCwNCi5Db2RlTWlycm9yLXNpemVyLA0KLkNvZGVNaXJyb3ItZ3V0dGVyLA0KLkNvZGVNaXJyb3ItZ3V0dGVycywNCi5Db2RlTWlycm9yLWxpbmVudW1iZXIgew0KICAgIC1tb3otYm94LXNpemluZzogY29udGVudC1ib3g7DQogICAgYm94LXNpemluZzogY29udGVudC1ib3g7DQp9DQoNCi5Db2RlTWlycm9yLW1lYXN1cmUgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDA7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICB2aXNpYmlsaXR5OiBoaWRkZW47DQp9DQoNCi5Db2RlTWlycm9yLWN1cnNvciB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHBvaW50ZXItZXZlbnRzOiBub25lOw0KfQ0KLkNvZGVNaXJyb3ItbWVhc3VyZSBwcmUgeyBwb3NpdGlvbjogc3RhdGljOyB9DQoNCmRpdi5Db2RlTWlycm9yLWN1cnNvcnMgew0KICAgIHZpc2liaWxpdHk6IGhpZGRlbjsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgei1pbmRleDogMzsNCn0NCmRpdi5Db2RlTWlycm9yLWRyYWdjdXJzb3JzIHsNCiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlOw0KfQ0KDQouQ29kZU1pcnJvci1mb2N1c2VkIGRpdi5Db2RlTWlycm9yLWN1cnNvcnMgew0KICAgIHZpc2liaWxpdHk6IHZpc2libGU7DQp9DQoNCi5Db2RlTWlycm9yLXNlbGVjdGVkIHsgYmFja2dyb3VuZDogI2Q5ZDlkOTsgfQ0KLkNvZGVNaXJyb3ItZm9jdXNlZCAuQ29kZU1pcnJvci1zZWxlY3RlZCB7IGJhY2tncm91bmQ6ICNkN2Q0ZjA7IH0NCi5Db2RlTWlycm9yLWNyb3NzaGFpciB7IGN1cnNvcjogY3Jvc3NoYWlyOyB9DQouQ29kZU1pcnJvci1saW5lOjpzZWxlY3Rpb24sIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuOjpzZWxlY3Rpb24sIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuID4gc3Bhbjo6c2VsZWN0aW9uIHsgYmFja2dyb3VuZDogI2Q3ZDRmMDsgfQ0KLkNvZGVNaXJyb3ItbGluZTo6LW1vei1zZWxlY3Rpb24sIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuOjotbW96LXNlbGVjdGlvbiwgLkNvZGVNaXJyb3ItbGluZSA+IHNwYW4gPiBzcGFuOjotbW96LXNlbGVjdGlvbiB7IGJhY2tncm91bmQ6ICNkN2Q0ZjA7IH0NCg0KLmNtLXNlYXJjaGluZyB7DQogICAgYmFja2dyb3VuZDogI2ZmYTsNCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAwLCAuNCk7DQp9DQoNCi8qIFVzZWQgdG8gZm9yY2UgYSBib3JkZXIgbW9kZWwgZm9yIGEgbm9kZSAqLw0KLmNtLWZvcmNlLWJvcmRlciB7IHBhZGRpbmctcmlnaHQ6IC4xcHg7IH0NCg0KQG1lZGlhIHByaW50IHsNCiAgICAvKiBIaWRlIHRoZSBjdXJzb3Igd2hlbiBwcmludGluZyAqLw0KICAgIC5Db2RlTWlycm9yIGRpdi5Db2RlTWlycm9yLWN1cnNvcnMgew0KICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47DQogICAgfQ0KfQ0KDQovKiBTZWUgaXNzdWUgIzI5MDEgKi8NCi5jbS10YWItd3JhcC1oYWNrOmFmdGVyIHsgY29udGVudDogJyc7IH0NCg0KLyogSGVscCB1c2VycyB1c2UgbWFya3NlbGVjdGlvbiB0byBzYWZlbHkgc3R5bGUgdGV4dCBiYWNrZ3JvdW5kICovDQpzcGFuLkNvZGVNaXJyb3Itc2VsZWN0ZWR0ZXh0IHsgYmFja2dyb3VuZDogbm9uZTsgfQ0KDQovKg0KDQogICAgTmFtZTogICAgICAgZHJhY3VsYQ0KICAgIEF1dGhvcjogICAgIE1pY2hhZWwgS2FtaW5za3kgKGh0dHA6Ly9naXRodWIuY29tL21rYW1pbnNreTExKQ0KDQogICAgT3JpZ2luYWwgZHJhY3VsYSBjb2xvciBzY2hlbWUgYnkgWmVubyBSb2NoYSAoaHR0cHM6Ly9naXRodWIuY29tL3plbm9yb2NoYS9kcmFjdWxhLXRoZW1lKQ0KDQoqLw0KDQoNCi5jbS1zLWRyYWN1bGEuQ29kZU1pcnJvciwgLmNtLXMtZHJhY3VsYSAuQ29kZU1pcnJvci1ndXR0ZXJzIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjgyYTM2ICFpbXBvcnRhbnQ7DQogICAgY29sb3I6ICNmOGY4ZjIgIWltcG9ydGFudDsNCiAgICBib3JkZXI6IG5vbmU7DQp9DQouY20tcy1kcmFjdWxhIC5Db2RlTWlycm9yLWd1dHRlcnMgeyBjb2xvcjogIzI4MmEzNjsgfQ0KLmNtLXMtZHJhY3VsYSAuQ29kZU1pcnJvci1jdXJzb3IgeyBib3JkZXItbGVmdDogc29saWQgdGhpbiAjZjhmOGYwOyB9DQouY20tcy1kcmFjdWxhIC5Db2RlTWlycm9yLWxpbmVudW1iZXIgeyBjb2xvcjogIzZEOEE4ODsgfQ0KLmNtLXMtZHJhY3VsYSAuQ29kZU1pcnJvci1zZWxlY3RlZCB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xMCk7IH0NCi5jbS1zLWRyYWN1bGEgLkNvZGVNaXJyb3ItbGluZTo6c2VsZWN0aW9uLCAuY20tcy1kcmFjdWxhIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuOjpzZWxlY3Rpb24sIC5jbS1zLWRyYWN1bGEgLkNvZGVNaXJyb3ItbGluZSA+IHNwYW4gPiBzcGFuOjpzZWxlY3Rpb24geyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTApOyB9DQouY20tcy1kcmFjdWxhIC5Db2RlTWlycm9yLWxpbmU6Oi1tb3otc2VsZWN0aW9uLCAuY20tcy1kcmFjdWxhIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuOjotbW96LXNlbGVjdGlvbiwgLmNtLXMtZHJhY3VsYSAuQ29kZU1pcnJvci1saW5lID4gc3BhbiA+IHNwYW46Oi1tb3otc2VsZWN0aW9uIHsgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEwKTsgfQ0KLmNtLXMtZHJhY3VsYSBzcGFuLmNtLWNvbW1lbnQgeyBjb2xvcjogIzYyNzJhNDsgfQ0KLmNtLXMtZHJhY3VsYSBzcGFuLmNtLXN0cmluZywgLmNtLXMtZHJhY3VsYSBzcGFuLmNtLXN0cmluZy0yIHsgY29sb3I6ICNmMWZhOGM7IH0NCi5jbS1zLWRyYWN1bGEgc3Bhbi5jbS1udW1iZXIgeyBjb2xvcjogI2JkOTNmOTsgfQ0KLmNtLXMtZHJhY3VsYSBzcGFuLmNtLXZhcmlhYmxlIHsgY29sb3I6ICM1MGZhN2I7IH0NCi5jbS1zLWRyYWN1bGEgc3Bhbi5jbS12YXJpYWJsZS0yIHsgY29sb3I6IHdoaXRlOyB9DQouY20tcy1kcmFjdWxhIHNwYW4uY20tZGVmIHsgY29sb3I6ICNmZmI4NmM7IH0NCi5jbS1zLWRyYWN1bGEgc3Bhbi5jbS1rZXl3b3JkIHsgY29sb3I6ICNmZjc5YzY7IH0NCi5jbS1zLWRyYWN1bGEgc3Bhbi5jbS1vcGVyYXRvciB7IGNvbG9yOiAjZmY3OWM2OyB9DQouY20tcy1kcmFjdWxhIHNwYW4uY20ta2V5d29yZCB7IGNvbG9yOiAjZmY3OWM2OyB9DQouY20tcy1kcmFjdWxhIHNwYW4uY20tYXRvbSB7IGNvbG9yOiAjYmQ5M2Y5OyB9DQouY20tcy1kcmFjdWxhIHNwYW4uY20tbWV0YSB7IGNvbG9yOiAjZjhmOGYyOyB9DQouY20tcy1kcmFjdWxhIHNwYW4uY20tdGFnIHsgY29sb3I6ICNmZjc5YzY7IH0NCi5jbS1zLWRyYWN1bGEgc3Bhbi5jbS1hdHRyaWJ1dGUgeyBjb2xvcjogIzUwZmE3YjsgfQ0KLmNtLXMtZHJhY3VsYSBzcGFuLmNtLXF1YWxpZmllciB7IGNvbG9yOiAjNTBmYTdiOyB9DQouY20tcy1kcmFjdWxhIHNwYW4uY20tcHJvcGVydHkgeyBjb2xvcjogIzY2ZDllZjsgfQ0KLmNtLXMtZHJhY3VsYSBzcGFuLmNtLWJ1aWx0aW4geyBjb2xvcjogIzUwZmE3YjsgfQ0KLmNtLXMtZHJhY3VsYSBzcGFuLmNtLXZhcmlhYmxlLTMgeyBjb2xvcjogIzUwZmE3YjsgfQ0KDQouY20tcy1kcmFjdWxhIC5Db2RlTWlycm9yLWFjdGl2ZWxpbmUtYmFja2dyb3VuZCB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4xKTsgfQ0KLmNtLXMtZHJhY3VsYSAuQ29kZU1pcnJvci1tYXRjaGluZ2JyYWNrZXQgeyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7IH0NCg0KLyoNCg0KICAgIE5hbWU6ICAgICAgIDMwMjQgZGF5DQogICAgQXV0aG9yOiAgICAgSmFuIFQuIFNvdHQgKGh0dHA6Ly9naXRodWIuY29tL2lkbGViZXJnKQ0KDQogICAgQ29kZU1pcnJvciB0ZW1wbGF0ZSBieSBKYW4gVC4gU290dCAoaHR0cHM6Ly9naXRodWIuY29tL2lkbGViZXJnL2Jhc2UxNi1jb2RlbWlycm9yKQ0KICAgIE9yaWdpbmFsIEJhc2UxNiBjb2xvciBzY2hlbWUgYnkgQ2hyaXMgS2VtcHNvbiAoaHR0cHM6Ly9naXRodWIuY29tL2Nocmlza2VtcHNvbi9iYXNlMTYpDQoNCiovDQoNCi5jbS1zLTMwMjQtZGF5LkNvZGVNaXJyb3IgeyBiYWNrZ3JvdW5kOiAjZjdmN2Y3OyBjb2xvcjogIzNhMzQzMjsgfQ0KLmNtLXMtMzAyNC1kYXkgZGl2LkNvZGVNaXJyb3Itc2VsZWN0ZWQgeyBiYWNrZ3JvdW5kOiAjZDZkNWQ0OyB9DQoNCi5jbS1zLTMwMjQtZGF5IC5Db2RlTWlycm9yLWxpbmU6OnNlbGVjdGlvbiwgLmNtLXMtMzAyNC1kYXkgLkNvZGVNaXJyb3ItbGluZSA+IHNwYW46OnNlbGVjdGlvbiwgLmNtLXMtMzAyNC1kYXkgLkNvZGVNaXJyb3ItbGluZSA+IHNwYW4gPiBzcGFuOjpzZWxlY3Rpb24geyBiYWNrZ3JvdW5kOiAjZDZkNWQ0OyB9DQouY20tcy0zMDI0LWRheSAuQ29kZU1pcnJvci1saW5lOjotbW96LXNlbGVjdGlvbiwgLmNtLXMtMzAyNC1kYXkgLkNvZGVNaXJyb3ItbGluZSA+IHNwYW46Oi1tb3otc2VsZWN0aW9uLCAuY20tcy0zMDI0LWRheSAuQ29kZU1pcnJvci1saW5lID4gc3BhbiA+IHNwYW46OnNlbGVjdGlvbiB7IGJhY2tncm91bmQ6ICNkOWQ5ZDk7IH0NCg0KLmNtLXMtMzAyNC1kYXkgLkNvZGVNaXJyb3ItZ3V0dGVycyB7IGJhY2tncm91bmQ6ICNmN2Y3Zjc7IGJvcmRlci1yaWdodDogMHB4OyB9DQouY20tcy0zMDI0LWRheSAuQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXIgeyBjb2xvcjogI2RiMmQyMDsgfQ0KLmNtLXMtMzAyNC1kYXkgLkNvZGVNaXJyb3ItZ3V0dGVybWFya2VyLXN1YnRsZSB7IGNvbG9yOiAjODA3ZDdjOyB9DQouY20tcy0zMDI0LWRheSAuQ29kZU1pcnJvci1saW5lbnVtYmVyIHsgY29sb3I6ICM4MDdkN2M7IH0NCg0KLmNtLXMtMzAyNC1kYXkgLkNvZGVNaXJyb3ItY3Vyc29yIHsgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjNWM1ODU1OyB9DQoNCi5jbS1zLTMwMjQtZGF5IHNwYW4uY20tY29tbWVudCB7IGNvbG9yOiAjY2RhYjUzOyB9DQouY20tcy0zMDI0LWRheSBzcGFuLmNtLWF0b20geyBjb2xvcjogI2ExNmE5NDsgfQ0KLmNtLXMtMzAyNC1kYXkgc3Bhbi5jbS1udW1iZXIgeyBjb2xvcjogI2ExNmE5NDsgfQ0KDQouY20tcy0zMDI0LWRheSBzcGFuLmNtLXByb3BlcnR5LCAuY20tcy0zMDI0LWRheSBzcGFuLmNtLWF0dHJpYnV0ZSB7IGNvbG9yOiAjMDFhMjUyOyB9DQouY20tcy0zMDI0LWRheSBzcGFuLmNtLWtleXdvcmQgeyBjb2xvcjogI2RiMmQyMDsgfQ0KLmNtLXMtMzAyNC1kYXkgc3Bhbi5jbS1zdHJpbmcgeyBjb2xvcjogI2ZkZWQwMjsgfQ0KDQouY20tcy0zMDI0LWRheSBzcGFuLmNtLXZhcmlhYmxlIHsgY29sb3I6ICMwMWEyNTI7IH0NCi5jbS1zLTMwMjQtZGF5IHNwYW4uY20tdmFyaWFibGUtMiB7IGNvbG9yOiAjMDFhMGU0OyB9DQouY20tcy0zMDI0LWRheSBzcGFuLmNtLWRlZiB7IGNvbG9yOiAjZThiYmQwOyB9DQouY20tcy0zMDI0LWRheSBzcGFuLmNtLWJyYWNrZXQgeyBjb2xvcjogIzNhMzQzMjsgfQ0KLmNtLXMtMzAyNC1kYXkgc3Bhbi5jbS10YWcgeyBjb2xvcjogI2RiMmQyMDsgfQ0KLmNtLXMtMzAyNC1kYXkgc3Bhbi5jbS1saW5rIHsgY29sb3I6ICNhMTZhOTQ7IH0NCi5jbS1zLTMwMjQtZGF5IHNwYW4uY20tZXJyb3IgeyBiYWNrZ3JvdW5kOiAjZGIyZDIwOyBjb2xvcjogIzVjNTg1NTsgfQ0KDQouY20tcy0zMDI0LWRheSAuQ29kZU1pcnJvci1hY3RpdmVsaW5lLWJhY2tncm91bmQgeyBiYWNrZ3JvdW5kOiAjZThmMmZmOyB9DQouY20tcy0zMDI0LWRheSAuQ29kZU1pcnJvci1tYXRjaGluZ2JyYWNrZXQgeyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsgY29sb3I6ICNhMTZhOTQgIWltcG9ydGFudDsgfQ==');
}


function view_c474432f8da5706b55cded8c1409f237(array $data = []) {
    extract($data);
    ob_start(); ?>
    <?php
    $tm = $app->getThemeManager();
?>
<!DOCTYPE html>
<html>
    <head>
        <title>maki</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href='<?php echo $app->getResourceUrl($tm->getStylesheetPath($tm->getActiveStylesheet())) ?>' rel='stylesheet'>
        <script src="<?php echo $app->getResourceUrl('resources/jquery.js') ?>"></script>
    </head>
    <body class='login-page'>
    <div>
        <form>
            <div class="form-group">
                <input type="text" placeholder="Username">
            </div>
            <div class="form-group">
                <input type="password" placeholder="Password">
            </div>
            <div class="form-group checkbox">
                <label for="field-remember_me"><input type="checkbox" id="field-remember_me"> Remember me</label>
            </div>
            <div class="form-group">
                <button type="submit">login</button>
            </div>
        </form>
    </div>
    <script>
        $(function() {
            'use strict';

            var $form = $('form'),
                $name = $('input[type=text]'),
                $password = $('input[type=password]'),
                $remember = $('input[type=checkbox]');

            $form.on('submit', function(e) {
                e.preventDefault();

                $.ajax({
                    url: '?auth=1',
                    type: 'post',
                    data: {
                        username: $name.val(),
                        password: $password.val(),
                        remember: $remember[0].checked ? 1 : 0
                    },
                    success: function() {
                        window.location.reload();
                    },
                    error: function(xhr) {
                        $form.find('.username-form-error').remove();
                        $form.append('<p class="username-form-error">'+xhr.responseJSON.error+'</p>');
                    }
                });

                return false;
            });

        });
    </script>
    </body>
</html>
    <?php
    $content = ob_get_contents();
    ob_end_clean();
    return $content;
}


function view_4cc347ed786a2b22334b44fd54e1f5ba(array $data = []) {
    extract($data);
    ob_start(); ?>
    <?php
/**
 * @type \Maki\Maki $app
 * @type \Maki\File\Markdown $page
 * @type \Maki\File\Markdown $nav
 */
?>
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="<?php echo $app->getResourceUrl($stylesheet) ?>" rel="stylesheet">
        <script src="<?php echo $app->getResourceUrl('resources/jquery.js') ?>"></script>
        <script src="<?php echo $app->getResourceUrl('resources/prism.js') ?>"></script>
        <script src="<?php echo $app->getResourceUrl('resources/toc.min.js') ?>"></script>
        <script>
            var __PAGE_PATH__ = '<?php echo $page->getFilePath() ?>';
        </script>
        <?php if ($editing): ?>
            <link href="<?php echo $app->getResourceUrl('resources/simplemde.min.css') ?>" rel="stylesheet">
            <script src="<?php echo $app->getResourceUrl('resources/simplemde.min.js') ?>"></script>
<!--            <link href="--><?php //echo $app->getResourceUrl('resources/codemirror.css') ?><!--" rel='stylesheet'>-->
<!--            <script src="--><?php //echo $app->getResourceUrl('resources/codemirror.js') ?><!--"></script>-->
<!--            <script src="--><?php //echo $app->getResourceUrl('resources/codemirror-continuelist.js') ?><!--"></script>-->
<!--            <script src="--><?php //echo $app->getResourceUrl('resources/codemirror-xml.js') ?><!--"></script>-->
<!--            <script src="--><?php //echo $app->getResourceUrl('resources/codemirror-markdown.js') ?><!--"></script>-->
<!--            <script src="--><?php //echo $app->getResourceUrl('resources/codemirror-rules.js') ?><!--"></script>-->
        <?php endif ?>
    </head>
    <body class="<?php echo $editing ? 'edit-mode' : '' ?>">
        <div class='container'>
            <header class="header">
                <h2><?php echo $app['main_title'] ?></h2>
                <?php if ($app['users']): ?>
                    <div class="user-actions">
                        hello <a><?php echo $app['user']['username'] ?></a> |
                        <a href="?logout=1">logout</a>
                    </div>
                <?php endif ?>
            </header>
            <div class='nav'>
                <div class='nav-inner'>
                    <?php echo $nav->toHTML() ?>
                    <?php if ($editable or $viewable): ?>
                        <div class='page-actions'>
                            <a href='<?php echo $nav->getUrl() ?>?edit=1' class='btn btn-xs btn-info pull-right'><?php echo $editButton ?></a>
                        </div>
                    <?php endif ?>
                </div>
            </div>
            <div class='content'>
                <ol class="breadcrumb">
                    <?php foreach ($page->getBreadcrumb() as $link): ?>
                        <li <?php echo $link['active'] ? 'class="active"' : '' ?>>
                            <?php if ($link['url']): ?>
                                <a href="<?php echo $link['url'] ?>"><?php echo $link['text'] ?></a>
                            <?php else: ?>
                                <?php echo $link['text'] ?>
                            <?php endif ?>
                        </li>
                    <?php endforeach ?>
                </ol>
                <div class='content-inner'>
                    <?php if ($editing): ?>
                        <div class='page-actions'>
                            <a href='<?php echo $page->getUrl() ?>' class='btn btn-xs btn-info'>back</a>
                            <?php if ($editable and $page->isNotLocked()): ?>
                                <a class='btn btn-xs btn-success save-btn'>save</a>
                                <span class='saved-info'>Document saved.</span>
                            <?php endif ?>

                            <?php if ($page->isLocked()): ?>
                                <span class='saved-info' style='display: inline-block'>Someone else is editing this document now.</span>
                            <?php endif ?>
                        </div>

                        <?php if ($editable and $page->isNotLocked()): ?>
                            <textarea id='textarea' class='textarea editor-textarea'><?php echo $page->getContent() ?></textarea>
                        <?php endif ?>
                    <?php else: ?>
                        <?php echo $page->toHTML() ?>

                        <?php if ($editable or $viewable): ?>
                            <div class='page-actions clearfix'>
                                <a href='<?php echo $page->getUrl() ?>?edit=1' class='btn btn-xs btn-info pull-right'><?php echo $editButton ?></a>
                                <?php if ($editable): ?>
                                    <a href='<?php echo $page->getUrl() ?>?delete=1' data-confirm='Are you sure you want delete this page?' class='btn btn-xs btn-danger pull-right'>delete</a>
                                <?php endif ?>
                            </div>
                        <?php endif ?>

                    <?php endif ?>
                </div>
            </div>
            <footer class='footer text-right'>
                <a class="btn btn-info" href="?ctrl=page&action=archive">download archive</a>
                <div class='themes'>
                    <select>
                        <?php foreach ($app->getThemeManager()->getStylesheets() as $name => $url): ?>
                            <option value='<?php echo $name ?>' <?php echo $name == $activeStylesheet ? 'selected="selected"' : '' ?>><?php echo $name ?></option>
                        <?php endforeach ?>
                    </select>
                </div>
                <p class='copyrights'><a href='http://emve.org/maki' target='_blank' class='maki-name'><strong>ma</strong>ki</a> created by <a href='http://emve.org/' target='_blank' class='darkcinnamon-name'>emve</a></p>
            </footer>
        </div>
        <script>
            <?php if ($editing and $editable and $page->isNotLocked()): ?>
            var $saveBtns = $('.save-btn'),
                $saved = $('.saved-info'),
                editor;

            $saved.hide();

            function save() {
                $.ajax({
                    url: '<?php $page->getUrl() ?>?save=1',
                    method: 'post',
                    data: {
                        content:  editor.value()//$('#textarea').val()
                    },
                    success: function() {
                        $saveBtns.attr('disabled', 'disabled');
                        //$saved.show();
                        setTimeout(function() { save(); }, 5000);
                    }
                });
            };

            var editing = <?php echo var_export($editing, true) ?>;

            if (editing) {

                editor = new SimpleMDE({
                    element: document.getElementById('textarea'),
                    spellChecker: false,
                    toolbar: false
                });
                editor.codemirror.on('change', function() {
                    $saveBtns.removeAttr('disabled');
                });

//                editor = CodeMirror.fromTextArea(document.getElementById("textarea"), {
//                    mode: 'markdown',
//                    tabSize: 4,
//                    lineNumbers: false,
//                    theme: "3024-day",
//                    extraKeys: {"Enter": "newlineAndIndentContinueMarkdownList"},
//                    rulers: [{ color: '#ccc', column: 80, lineStyle: 'dashed' }]
//                });
//
//                // CodeMirror does not put any class which could determine
//                // what language syntax is selected, so we apply such
//                // class manually.
//                editor.getWrapperElement().className += ' lang-markdown';

                $(document).on('click', '.save-btn', save);

                save();
            }
            <?php endif ?>

            $(document).on('click', '[data-confirm]', function(e) {
                if (confirm($(this).attr('data-confirm'))) {
                    return true;
                } else {
                    e.preventDefault();
                    return false;
                }
            });

            var codeActionsTmpl = '' +
                '<div class="code-actions">' +
                '   <a href="#download" class="code-action-download">download</a>'
            '</div>';

            $('.content').find('pre > code').each(function(index) {
                var $this = $(this);

                if (this.className != '') {
                    this.className = 'language-'+this.className;
                    this.parentNode.className = this.className;
                }

                $(codeActionsTmpl)
                    .find('.code-action-download')
                    .attr('href', '?action=downloadCode&index=' + index)
                    .insertAfter($this.parent());
            });

            Prism.highlightAll();

            $('.themes > select').on('change', function() {
                window.location = '<?php $app->getCurrentUrl() ?>?change_css='+this.value;
            });

            $('.nav-inner [href="/'+__PAGE_PATH__+'"]').closest('li').append('<div id="page-toc"></div>');

            var toc = $('#page-toc');
            $('#page-toc').toc({
                container: '.content-inner'
            });

            if ($('>ul', toc).is(':empty')) {
                // Remove table of contents if it is empty
                // ----

                toc.remove();
            } else {
                // Scroll to nav toc
                $('.nav')[0].scrollTop = toc.position().top;

                // Remove h1 from toc
                toc.find('.toc-h1:first').remove();
            }
        </script>
    </body>
</html>
    <?php
    $content = ob_get_contents();
    ob_end_clean();
    return $content;
}


}